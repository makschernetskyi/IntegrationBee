var YR=Object.defineProperty;var ZR=(t,e,r)=>e in t?YR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var zn=(t,e,r)=>ZR(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();/**
* @vue/shared v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function hv(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const or={},jc=[],na=()=>{},JR=()=>!1,Cg=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),pv=t=>t.startsWith("onUpdate:"),Yr=Object.assign,fv=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},QR=Object.prototype.hasOwnProperty,Jt=(t,e)=>QR.call(t,e),ut=Array.isArray,Vc=t=>D0(t)==="[object Map]",kg=t=>D0(t)==="[object Set]",E8=t=>D0(t)==="[object Date]",eO=t=>D0(t)==="[object RegExp]",_t=t=>typeof t=="function",_r=t=>typeof t=="string",la=t=>typeof t=="symbol",lr=t=>t!==null&&typeof t=="object",gk=t=>(lr(t)||_t(t))&&_t(t.then)&&_t(t.catch),yk=Object.prototype.toString,D0=t=>yk.call(t),tO=t=>D0(t).slice(8,-1),vk=t=>D0(t)==="[object Object]",mv=t=>_r(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,oh=hv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tg=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},rO=/-(\w)/g,Es=Tg(t=>t.replace(rO,(e,r)=>r?r.toUpperCase():"")),iO=/\B([A-Z])/g,Ru=Tg(t=>t.replace(iO,"-$1").toLowerCase()),Eg=Tg(t=>t.charAt(0).toUpperCase()+t.slice(1)),s4=Tg(t=>t?`on${Eg(t)}`:""),ul=(t,e)=>!Object.is(t,e),Hc=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},bk=(t,e,r,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:r})},gy=t=>{const e=parseFloat(t);return isNaN(e)?t:e},nO=t=>{const e=_r(t)?Number(t):NaN;return isNaN(e)?t:e};let A8;const xk=()=>A8||(A8=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zi(t){if(ut(t)){const e={};for(let r=0;r<t.length;r++){const i=t[r],n=_r(i)?lO(i):Zi(i);if(n)for(const s in n)e[s]=n[s]}return e}else if(_r(t)||lr(t))return t}const sO=/;(?![^(]*\))/g,aO=/:([^]+)/,oO=/\/\*[^]*?\*\//g;function lO(t){const e={};return t.replace(oO,"").split(sO).forEach(r=>{if(r){const i=r.split(aO);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Wt(t){let e="";if(_r(t))e=t;else if(ut(t))for(let r=0;r<t.length;r++){const i=Wt(t[r]);i&&(e+=i+" ")}else if(lr(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const uO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",cO=hv(uO);function _k(t){return!!t||t===""}function dO(t,e){if(t.length!==e.length)return!1;let r=!0;for(let i=0;r&&i<t.length;i++)r=Ag(t[i],e[i]);return r}function Ag(t,e){if(t===e)return!0;let r=E8(t),i=E8(e);if(r||i)return r&&i?t.getTime()===e.getTime():!1;if(r=la(t),i=la(e),r||i)return t===e;if(r=ut(t),i=ut(e),r||i)return r&&i?dO(t,e):!1;if(r=lr(t),i=lr(e),r||i){if(!r||!i)return!1;const n=Object.keys(t).length,s=Object.keys(e).length;if(n!==s)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!Ag(t[a],e[a]))return!1}}return String(t)===String(e)}function wk(t,e){return t.findIndex(r=>Ag(r,e))}const Sk=t=>!!(t&&t.__v_isRef===!0),ge=t=>_r(t)?t:t==null?"":ut(t)||lr(t)&&(t.toString===yk||!_t(t.toString))?Sk(t)?ge(t.value):JSON.stringify(t,Ck,2):String(t),Ck=(t,e)=>Sk(e)?Ck(t,e.value):Vc(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,n],s)=>(r[a4(i,s)+" =>"]=n,r),{})}:kg(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>a4(r))}:la(e)?a4(e):lr(e)&&!ut(e)&&!vk(e)?String(e):e,a4=(t,e="")=>{var r;return la(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Hi;class kk{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Hi,!e&&Hi&&(this.index=(Hi.scopes||(Hi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Hi;try{return Hi=this,e()}finally{Hi=r}}}on(){Hi=this}off(){Hi=this.parent}stop(e){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function Tk(t){return new kk(t)}function Ek(){return Hi}function hO(t,e=!1){Hi&&Hi.cleanups.push(t)}let cr;const o4=new WeakSet;class Ak{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Hi&&Hi.active&&Hi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,o4.has(this)&&(o4.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Dk(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,M8(this),Lk(this);const e=cr,r=Ss;cr=this,Ss=!0;try{return this.fn()}finally{Bk(this),cr=e,Ss=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)vv(e);this.deps=this.depsTail=void 0,M8(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?o4.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){yy(this)&&this.run()}get dirty(){return yy(this)}}let Mk=0,lh;function Dk(t){t.flags|=8,t.next=lh,lh=t}function gv(){Mk++}function yv(){if(--Mk>0)return;let t;for(;lh;){let e=lh;for(lh=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=r}}if(t)throw t}function Lk(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Bk(t){let e,r=t.depsTail,i=r;for(;i;){const n=i.prevDep;i.version===-1?(i===r&&(r=n),vv(i),pO(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}t.deps=e,t.depsTail=r}function yy(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Pk(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Pk(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Dh))return;t.globalVersion=Dh;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!yy(t)){t.flags&=-3;return}const r=cr,i=Ss;cr=t,Ss=!0;try{Lk(t);const n=t.fn(t._value);(e.version===0||ul(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{cr=r,Ss=i,Bk(t),t.flags&=-3}}function vv(t){const{dep:e,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),e.subs===t&&(e.subs=r),!e.subs&&e.computed){e.computed.flags&=-5;for(let n=e.computed.deps;n;n=n.nextDep)vv(n)}}function pO(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Ss=!0;const Ik=[];function bl(){Ik.push(Ss),Ss=!1}function xl(){const t=Ik.pop();Ss=t===void 0?!0:t}function M8(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=cr;cr=void 0;try{e()}finally{cr=r}}}let Dh=0;class fO{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class bv{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0}track(e){if(!cr||!Ss||cr===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==cr)r=this.activeLink=new fO(cr,this),cr.deps?(r.prevDep=cr.depsTail,cr.depsTail.nextDep=r,cr.depsTail=r):cr.deps=cr.depsTail=r,cr.flags&4&&Rk(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=cr.depsTail,r.nextDep=void 0,cr.depsTail.nextDep=r,cr.depsTail=r,cr.deps===r&&(cr.deps=i)}return r}trigger(e){this.version++,Dh++,this.notify(e)}notify(e){gv();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{yv()}}}function Rk(t){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)Rk(i)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}const m1=new WeakMap,mu=Symbol(""),vy=Symbol(""),Lh=Symbol("");function Ri(t,e,r){if(Ss&&cr){let i=m1.get(t);i||m1.set(t,i=new Map);let n=i.get(r);n||i.set(r,n=new bv),n.track()}}function qa(t,e,r,i,n,s){const a=m1.get(t);if(!a){Dh++;return}const o=l=>{l&&l.trigger()};if(gv(),e==="clear")a.forEach(o);else{const l=ut(t),u=l&&mv(r);if(l&&r==="length"){const c=Number(i);a.forEach((d,h)=>{(h==="length"||h===Lh||!la(h)&&h>=c)&&o(d)})}else switch(r!==void 0&&o(a.get(r)),u&&o(a.get(Lh)),e){case"add":l?u&&o(a.get("length")):(o(a.get(mu)),Vc(t)&&o(a.get(vy)));break;case"delete":l||(o(a.get(mu)),Vc(t)&&o(a.get(vy)));break;case"set":Vc(t)&&o(a.get(mu));break}}yv()}function mO(t,e){var r;return(r=m1.get(t))==null?void 0:r.get(e)}function Ju(t){const e=Ut(t);return e===t?e:(Ri(e,"iterate",Lh),Zn(t)?e:e.map(Li))}function Mg(t){return Ri(t=Ut(t),"iterate",Lh),t}const gO={__proto__:null,[Symbol.iterator](){return l4(this,Symbol.iterator,Li)},concat(...t){return Ju(this).concat(...t.map(e=>ut(e)?Ju(e):e))},entries(){return l4(this,"entries",t=>(t[1]=Li(t[1]),t))},every(t,e){return _a(this,"every",t,e,void 0,arguments)},filter(t,e){return _a(this,"filter",t,e,r=>r.map(Li),arguments)},find(t,e){return _a(this,"find",t,e,Li,arguments)},findIndex(t,e){return _a(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return _a(this,"findLast",t,e,Li,arguments)},findLastIndex(t,e){return _a(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return _a(this,"forEach",t,e,void 0,arguments)},includes(...t){return u4(this,"includes",t)},indexOf(...t){return u4(this,"indexOf",t)},join(t){return Ju(this).join(t)},lastIndexOf(...t){return u4(this,"lastIndexOf",t)},map(t,e){return _a(this,"map",t,e,void 0,arguments)},pop(){return hd(this,"pop")},push(...t){return hd(this,"push",t)},reduce(t,...e){return D8(this,"reduce",t,e)},reduceRight(t,...e){return D8(this,"reduceRight",t,e)},shift(){return hd(this,"shift")},some(t,e){return _a(this,"some",t,e,void 0,arguments)},splice(...t){return hd(this,"splice",t)},toReversed(){return Ju(this).toReversed()},toSorted(t){return Ju(this).toSorted(t)},toSpliced(...t){return Ju(this).toSpliced(...t)},unshift(...t){return hd(this,"unshift",t)},values(){return l4(this,"values",Li)}};function l4(t,e,r){const i=Mg(t),n=i[e]();return i!==t&&!Zn(t)&&(n._next=n.next,n.next=()=>{const s=n._next();return s.value&&(s.value=r(s.value)),s}),n}const yO=Array.prototype;function _a(t,e,r,i,n,s){const a=Mg(t),o=a!==t&&!Zn(t),l=a[e];if(l!==yO[e]){const d=l.apply(t,s);return o?Li(d):d}let u=r;a!==t&&(o?u=function(d,h){return r.call(this,Li(d),h,t)}:r.length>2&&(u=function(d,h){return r.call(this,d,h,t)}));const c=l.call(a,u,i);return o&&n?n(c):c}function D8(t,e,r,i){const n=Mg(t);let s=r;return n!==t&&(Zn(t)?r.length>3&&(s=function(a,o,l){return r.call(this,a,o,l,t)}):s=function(a,o,l){return r.call(this,a,Li(o),l,t)}),n[e](s,...i)}function u4(t,e,r){const i=Ut(t);Ri(i,"iterate",Lh);const n=i[e](...r);return(n===-1||n===!1)&&Sv(r[0])?(r[0]=Ut(r[0]),i[e](...r)):n}function hd(t,e,r=[]){bl(),gv();const i=Ut(t)[e].apply(t,r);return yv(),xl(),i}const vO=hv("__proto__,__v_isRef,__isVue"),Ok=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(la));function bO(t){la(t)||(t=String(t));const e=Ut(this);return Ri(e,"has",t),e.hasOwnProperty(t)}class Fk{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,i){const n=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return s;if(r==="__v_raw")return i===(n?s?BO:Uk:s?zk:$k).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=ut(e);if(!n){let l;if(a&&(l=gO[r]))return l;if(r==="hasOwnProperty")return bO}const o=Reflect.get(e,r,Bt(e)?e:i);return(la(r)?Ok.has(r):vO(r))||(n||Ri(e,"get",r),s)?o:Bt(o)?a&&mv(r)?o:o.value:lr(o)?n?jk(o):L0(o):o}}class Nk extends Fk{constructor(e=!1){super(!1,e)}set(e,r,i,n){let s=e[r];if(!this._isShallow){const l=Mu(s);if(!Zn(i)&&!Mu(i)&&(s=Ut(s),i=Ut(i)),!ut(e)&&Bt(s)&&!Bt(i))return l?!1:(s.value=i,!0)}const a=ut(e)&&mv(r)?Number(r)<e.length:Jt(e,r),o=Reflect.set(e,r,i,Bt(e)?e:n);return e===Ut(n)&&(a?ul(i,s)&&qa(e,"set",r,i):qa(e,"add",r,i)),o}deleteProperty(e,r){const i=Jt(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&i&&qa(e,"delete",r,void 0),n}has(e,r){const i=Reflect.has(e,r);return(!la(r)||!Ok.has(r))&&Ri(e,"has",r),i}ownKeys(e){return Ri(e,"iterate",ut(e)?"length":mu),Reflect.ownKeys(e)}}class xO extends Fk{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const _O=new Nk,wO=new xO,SO=new Nk(!0);const xv=t=>t,Dg=t=>Reflect.getPrototypeOf(t);function lf(t,e,r=!1,i=!1){t=t.__v_raw;const n=Ut(t),s=Ut(e);r||(ul(e,s)&&Ri(n,"get",e),Ri(n,"get",s));const{has:a}=Dg(n),o=i?xv:r?Cv:Li;if(a.call(n,e))return o(t.get(e));if(a.call(n,s))return o(t.get(s));t!==n&&t.get(e)}function uf(t,e=!1){const r=this.__v_raw,i=Ut(r),n=Ut(t);return e||(ul(t,n)&&Ri(i,"has",t),Ri(i,"has",n)),t===n?r.has(t):r.has(t)||r.has(n)}function cf(t,e=!1){return t=t.__v_raw,!e&&Ri(Ut(t),"iterate",mu),Reflect.get(t,"size",t)}function L8(t,e=!1){!e&&!Zn(t)&&!Mu(t)&&(t=Ut(t));const r=Ut(this);return Dg(r).has.call(r,t)||(r.add(t),qa(r,"add",t,t)),this}function B8(t,e,r=!1){!r&&!Zn(e)&&!Mu(e)&&(e=Ut(e));const i=Ut(this),{has:n,get:s}=Dg(i);let a=n.call(i,t);a||(t=Ut(t),a=n.call(i,t));const o=s.call(i,t);return i.set(t,e),a?ul(e,o)&&qa(i,"set",t,e):qa(i,"add",t,e),this}function P8(t){const e=Ut(this),{has:r,get:i}=Dg(e);let n=r.call(e,t);n||(t=Ut(t),n=r.call(e,t)),i&&i.call(e,t);const s=e.delete(t);return n&&qa(e,"delete",t,void 0),s}function I8(){const t=Ut(this),e=t.size!==0,r=t.clear();return e&&qa(t,"clear",void 0,void 0),r}function df(t,e){return function(i,n){const s=this,a=s.__v_raw,o=Ut(a),l=e?xv:t?Cv:Li;return!t&&Ri(o,"iterate",mu),a.forEach((u,c)=>i.call(n,l(u),l(c),s))}}function hf(t,e,r){return function(...i){const n=this.__v_raw,s=Ut(n),a=Vc(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=n[t](...i),c=r?xv:e?Cv:Li;return!e&&Ri(s,"iterate",l?vy:mu),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:o?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function yo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function CO(){const t={get(s){return lf(this,s)},get size(){return cf(this)},has:uf,add:L8,set:B8,delete:P8,clear:I8,forEach:df(!1,!1)},e={get(s){return lf(this,s,!1,!0)},get size(){return cf(this)},has:uf,add(s){return L8.call(this,s,!0)},set(s,a){return B8.call(this,s,a,!0)},delete:P8,clear:I8,forEach:df(!1,!0)},r={get(s){return lf(this,s,!0)},get size(){return cf(this,!0)},has(s){return uf.call(this,s,!0)},add:yo("add"),set:yo("set"),delete:yo("delete"),clear:yo("clear"),forEach:df(!0,!1)},i={get(s){return lf(this,s,!0,!0)},get size(){return cf(this,!0)},has(s){return uf.call(this,s,!0)},add:yo("add"),set:yo("set"),delete:yo("delete"),clear:yo("clear"),forEach:df(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=hf(s,!1,!1),r[s]=hf(s,!0,!1),e[s]=hf(s,!1,!0),i[s]=hf(s,!0,!0)}),[t,r,e,i]}const[kO,TO,EO,AO]=CO();function _v(t,e){const r=e?t?AO:EO:t?TO:kO;return(i,n,s)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(Jt(r,n)&&n in i?r:i,n,s)}const MO={get:_v(!1,!1)},DO={get:_v(!1,!0)},LO={get:_v(!0,!1)};const $k=new WeakMap,zk=new WeakMap,Uk=new WeakMap,BO=new WeakMap;function PO(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function IO(t){return t.__v_skip||!Object.isExtensible(t)?0:PO(tO(t))}function L0(t){return Mu(t)?t:wv(t,!1,_O,MO,$k)}function qk(t){return wv(t,!1,SO,DO,zk)}function jk(t){return wv(t,!0,wO,LO,Uk)}function wv(t,e,r,i,n){if(!lr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=n.get(t);if(s)return s;const a=IO(t);if(a===0)return t;const o=new Proxy(t,a===2?i:r);return n.set(t,o),o}function ja(t){return Mu(t)?ja(t.__v_raw):!!(t&&t.__v_isReactive)}function Mu(t){return!!(t&&t.__v_isReadonly)}function Zn(t){return!!(t&&t.__v_isShallow)}function Sv(t){return t?!!t.__v_raw:!1}function Ut(t){const e=t&&t.__v_raw;return e?Ut(e):t}function _l(t){return!Jt(t,"__v_skip")&&Object.isExtensible(t)&&bk(t,"__v_skip",!0),t}const Li=t=>lr(t)?L0(t):t,Cv=t=>lr(t)?jk(t):t;function Bt(t){return t?t.__v_isRef===!0:!1}function Xe(t){return Hk(t,!1)}function Vk(t){return Hk(t,!0)}function Hk(t,e){return Bt(t)?t:new RO(t,e)}class RO{constructor(e,r){this.dep=new bv,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Ut(e),this._value=r?e:Li(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,i=this.__v_isShallow||Zn(e)||Mu(e);e=i?e:Ut(e),ul(e,r)&&(this._rawValue=e,this._value=i?e:Li(e),this.dep.trigger())}}function P(t){return Bt(t)?t.value:t}const OO={get:(t,e,r)=>e==="__v_raw"?t:P(Reflect.get(t,e,r)),set:(t,e,r,i)=>{const n=t[e];return Bt(n)&&!Bt(r)?(n.value=r,!0):Reflect.set(t,e,r,i)}};function Kk(t){return ja(t)?t:new Proxy(t,OO)}function Ls(t){const e=ut(t)?new Array(t.length):{};for(const r in t)e[r]=Wk(t,r);return e}class FO{constructor(e,r,i){this._object=e,this._key=r,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return mO(Ut(this._object),this._key)}}class NO{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function $O(t,e,r){return Bt(t)?t:_t(t)?new NO(t):lr(t)&&arguments.length>1?Wk(t,e,r):Xe(t)}function Wk(t,e,r){const i=t[e];return Bt(i)?i:new FO(t,e,r)}class zO{constructor(e,r,i){this.fn=e,this.setter=r,this._value=void 0,this.dep=new bv(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Dh-1,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&cr!==this)return Dk(this),!0}get value(){const e=this.dep.track();return Pk(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function UO(t,e,r=!1){let i,n;return _t(t)?i=t:(i=t.get,n=t.set),new zO(i,n,r)}const pf={},g1=new WeakMap;let Ql;function qO(t,e=!1,r=Ql){if(r){let i=g1.get(r);i||g1.set(r,i=[]),i.push(t)}}function jO(t,e,r=or){const{immediate:i,deep:n,once:s,scheduler:a,augmentJob:o,call:l}=r,u=M=>n?M:Zn(M)||n===!1||n===0?Na(M,1):Na(M);let c,d,h,f,g=!1,y=!1;if(Bt(t)?(d=()=>t.value,g=Zn(t)):ja(t)?(d=()=>u(t),g=!0):ut(t)?(y=!0,g=t.some(M=>ja(M)||Zn(M)),d=()=>t.map(M=>{if(Bt(M))return M.value;if(ja(M))return u(M);if(_t(M))return l?l(M,2):M()})):_t(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){bl();try{h()}finally{xl()}}const M=Ql;Ql=c;try{return l?l(t,3,[f]):t(f)}finally{Ql=M}}:d=na,e&&n){const M=d,D=n===!0?1/0:n;d=()=>Na(M(),D)}const C=Ek(),S=()=>{c.stop(),C&&fv(C.effects,c)};if(s&&e){const M=e;e=(...D)=>{M(...D),S()}}let A=y?new Array(t.length).fill(pf):pf;const T=M=>{if(!(!(c.flags&1)||!c.dirty&&!M))if(e){const D=c.run();if(n||g||(y?D.some((B,F)=>ul(B,A[F])):ul(D,A))){h&&h();const B=Ql;Ql=c;try{const F=[D,A===pf?void 0:y&&A[0]===pf?[]:A,f];l?l(e,3,F):e(...F),A=D}finally{Ql=B}}}else c.run()};return o&&o(T),c=new Ak(d),c.scheduler=a?()=>a(T,!1):T,f=M=>qO(M,!1,c),h=c.onStop=()=>{const M=g1.get(c);if(M){if(l)l(M,4);else for(const D of M)D();g1.delete(c)}},e?i?T(!0):A=c.run():a?a(T.bind(null,!0),!0):c.run(),S.pause=c.pause.bind(c),S.resume=c.resume.bind(c),S.stop=S,S}function Na(t,e=1/0,r){if(e<=0||!lr(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,Bt(t))Na(t.value,e,r);else if(ut(t))for(let i=0;i<t.length;i++)Na(t[i],e,r);else if(kg(t)||Vc(t))t.forEach(i=>{Na(i,e,r)});else if(vk(t)){for(const i in t)Na(t[i],e,r);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Na(t[i],e,r)}return t}/**
* @vue/runtime-core v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function np(t,e,r,i){try{return i?t(...i):t()}catch(n){sp(n,e,r)}}function As(t,e,r,i){if(_t(t)){const n=np(t,e,r,i);return n&&gk(n)&&n.catch(s=>{sp(s,e,r)}),n}if(ut(t)){const n=[];for(let s=0;s<t.length;s++)n.push(As(t[s],e,r,i));return n}}function sp(t,e,r,i=!0){const n=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||or;if(e){let o=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const c=o.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}o=o.parent}if(s){bl(),np(s,null,10,[t,l,u]),xl();return}}VO(t,r,n,i,a)}function VO(t,e,r,i=!0,n=!1){if(n)throw t;console.error(t)}let Bh=!1,by=!1;const Ki=[];let qs=0;const Kc=[];let Wo=null,Tc=0;const Gk=Promise.resolve();let kv=null;function Ms(t){const e=kv||Gk;return t?e.then(this?t.bind(this):t):e}function HO(t){let e=Bh?qs+1:0,r=Ki.length;for(;e<r;){const i=e+r>>>1,n=Ki[i],s=Ph(n);s<t||s===t&&n.flags&2?e=i+1:r=i}return e}function Tv(t){if(!(t.flags&1)){const e=Ph(t),r=Ki[Ki.length-1];!r||!(t.flags&2)&&e>=Ph(r)?Ki.push(t):Ki.splice(HO(e),0,t),t.flags|=1,Xk()}}function Xk(){!Bh&&!by&&(by=!0,kv=Gk.then(Zk))}function KO(t){ut(t)?Kc.push(...t):Wo&&t.id===-1?Wo.splice(Tc+1,0,t):t.flags&1||(Kc.push(t),t.flags|=1),Xk()}function R8(t,e,r=Bh?qs+1:0){for(;r<Ki.length;r++){const i=Ki[r];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Ki.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&=-2}}}function Yk(t){if(Kc.length){const e=[...new Set(Kc)].sort((r,i)=>Ph(r)-Ph(i));if(Kc.length=0,Wo){Wo.push(...e);return}for(Wo=e,Tc=0;Tc<Wo.length;Tc++){const r=Wo[Tc];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Wo=null,Tc=0}}const Ph=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Zk(t){by=!1,Bh=!0;try{for(qs=0;qs<Ki.length;qs++){const e=Ki[qs];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),np(e,e.i,e.i?15:14),e.flags&=-2)}}finally{for(;qs<Ki.length;qs++){const e=Ki[qs];e&&(e.flags&=-2)}qs=0,Ki.length=0,Yk(),Bh=!1,kv=null,(Ki.length||Kc.length)&&Zk()}}let si=null,Jk=null;function y1(t){const e=si;return si=t,Jk=t&&t.type.__scopeId||null,e}function We(t,e=si,r){if(!e||t._n)return t;const i=(...n)=>{i._d&&W8(-1);const s=y1(e);let a;try{a=t(...n)}finally{y1(s),i._d&&W8(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function sl(t,e){if(si===null)return t;const r=Og(si),i=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[s,a,o,l=or]=e[n];s&&(_t(s)&&(s={mounted:s,updated:s}),s.deep&&Na(a),i.push({dir:s,instance:r,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function Il(t,e,r,i){const n=t.dirs,s=e&&e.dirs;for(let a=0;a<n.length;a++){const o=n[a];s&&(o.oldValue=s[a].value);let l=o.dir[i];l&&(bl(),As(l,r,8,[t.el,o,t,e]),xl())}}const Qk=Symbol("_vte"),eT=t=>t.__isTeleport,uh=t=>t&&(t.disabled||t.disabled===""),WO=t=>t&&(t.defer||t.defer===""),O8=t=>typeof SVGElement<"u"&&t instanceof SVGElement,F8=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,xy=(t,e)=>{const r=t&&t.to;return _r(r)?e?e(r):null:r},GO={name:"Teleport",__isTeleport:!0,process(t,e,r,i,n,s,a,o,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:g,createText:y,createComment:C}}=u,S=uh(e.props);let{shapeFlag:A,children:T,dynamicChildren:M}=e;if(t==null){const D=e.el=y(""),B=e.anchor=y("");f(D,r,i),f(B,r,i);const F=(O,U)=>{A&16&&(n&&n.isCE&&(n.ce._teleportTarget=O),c(T,O,U,n,s,a,o,l))},V=()=>{const O=e.target=xy(e.props,g),U=rT(O,e,y,f);O&&(a!=="svg"&&O8(O)?a="svg":a!=="mathml"&&F8(O)&&(a="mathml"),S||(F(O,U),Vm(e)))};S&&(F(r,B),Vm(e)),WO(e.props)?ui(V,s):V()}else{e.el=t.el,e.targetStart=t.targetStart;const D=e.anchor=t.anchor,B=e.target=t.target,F=e.targetAnchor=t.targetAnchor,V=uh(t.props),O=V?r:B,U=V?D:F;if(a==="svg"||O8(B)?a="svg":(a==="mathml"||F8(B))&&(a="mathml"),M?(h(t.dynamicChildren,M,O,n,s,a,o),Bv(t,e,!0)):l||d(t,e,O,U,n,s,a,o,!1),S)V?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ff(e,r,D,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const J=e.target=xy(e.props,g);J&&ff(e,J,null,u,0)}else V&&ff(e,B,F,u,1);Vm(e)}},remove(t,e,r,{um:i,o:{remove:n}},s){const{shapeFlag:a,children:o,anchor:l,targetStart:u,targetAnchor:c,target:d,props:h}=t;if(d&&(n(u),n(c)),s&&n(l),a&16){const f=s||!uh(h);for(let g=0;g<o.length;g++){const y=o[g];i(y,e,r,f,!!y.dynamicChildren)}}},move:ff,hydrate:XO};function ff(t,e,r,{o:{insert:i},m:n},s=2){s===0&&i(t.targetAnchor,e,r);const{el:a,anchor:o,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&i(a,e,r),(!d||uh(c))&&l&16)for(let h=0;h<u.length;h++)n(u[h],e,r,2);d&&i(o,e,r)}function XO(t,e,r,i,n,s,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:u,createText:c}},d){const h=e.target=xy(e.props,l);if(h){const f=h._lpa||h.firstChild;if(e.shapeFlag&16)if(uh(e.props))e.anchor=d(a(t),e,o(t),r,i,n,s),e.targetStart=f,e.targetAnchor=f&&a(f);else{e.anchor=a(t);let g=f;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,h._lpa=e.targetAnchor&&a(e.targetAnchor);break}}g=a(g)}e.targetAnchor||rT(h,e,c,u),d(f&&a(f),e,h,r,i,n,s)}Vm(e)}return e.anchor&&a(e.anchor)}const tT=GO;function Vm(t){const e=t.ctx;if(e&&e.ut){let r=t.targetStart;for(;r&&r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}function rT(t,e,r,i){const n=e.targetStart=r(""),s=e.targetAnchor=r("");return n[Qk]=s,t&&(i(n,t),i(s,t)),s}const Go=Symbol("_leaveCb"),mf=Symbol("_enterCb");function iT(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qr(()=>{t.isMounted=!0}),Ou(()=>{t.isUnmounting=!0}),t}const Un=[Function,Array],nT={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Un,onEnter:Un,onAfterEnter:Un,onEnterCancelled:Un,onBeforeLeave:Un,onLeave:Un,onAfterLeave:Un,onLeaveCancelled:Un,onBeforeAppear:Un,onAppear:Un,onAfterAppear:Un,onAppearCancelled:Un},sT=t=>{const e=t.subTree;return e.component?sT(e.component):e},YO={name:"BaseTransition",props:nT,setup(t,{slots:e}){const r=Rg(),i=iT();return()=>{const n=e.default&&Ev(e.default(),!0);if(!n||!n.length)return;const s=aT(n),a=Ut(t),{mode:o}=a;if(i.isLeaving)return c4(s);const l=N8(s);if(!l)return c4(s);let u=Ih(l,a,i,r,h=>u=h);l.type!==Bi&&cl(l,u);const c=r.subTree,d=c&&N8(c);if(d&&d.type!==Bi&&!tl(l,d)&&sT(r).type!==Bi){const h=Ih(d,a,i,r);if(cl(d,h),o==="out-in"&&l.type!==Bi)return i.isLeaving=!0,h.afterLeave=()=>{i.isLeaving=!1,r.job.flags&8||r.update(),delete h.afterLeave},c4(s);o==="in-out"&&l.type!==Bi&&(h.delayLeave=(f,g,y)=>{const C=oT(i,d);C[String(d.key)]=d,f[Go]=()=>{g(),f[Go]=void 0,delete u.delayedLeave},u.delayedLeave=y})}return s}}};function aT(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==Bi){e=r;break}}return e}const ZO=YO;function oT(t,e){const{leavingVNodes:r}=t;let i=r.get(e.type);return i||(i=Object.create(null),r.set(e.type,i)),i}function Ih(t,e,r,i,n){const{appear:s,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:C,onAppear:S,onAfterAppear:A,onAppearCancelled:T}=e,M=String(t.key),D=oT(r,t),B=(O,U)=>{O&&As(O,i,9,U)},F=(O,U)=>{const J=U[1];B(O,U),ut(O)?O.every(Y=>Y.length<=1)&&J():O.length<=1&&J()},V={mode:a,persisted:o,beforeEnter(O){let U=l;if(!r.isMounted)if(s)U=C||l;else return;O[Go]&&O[Go](!0);const J=D[M];J&&tl(t,J)&&J.el[Go]&&J.el[Go](),B(U,[O])},enter(O){let U=u,J=c,Y=d;if(!r.isMounted)if(s)U=S||u,J=A||c,Y=T||d;else return;let re=!1;const ce=O[mf]=qe=>{re||(re=!0,qe?B(Y,[O]):B(J,[O]),V.delayedLeave&&V.delayedLeave(),O[mf]=void 0)};U?F(U,[O,ce]):ce()},leave(O,U){const J=String(t.key);if(O[mf]&&O[mf](!0),r.isUnmounting)return U();B(h,[O]);let Y=!1;const re=O[Go]=ce=>{Y||(Y=!0,U(),ce?B(y,[O]):B(g,[O]),O[Go]=void 0,D[J]===t&&delete D[J])};D[J]=t,f?F(f,[O,re]):re()},clone(O){const U=Ih(O,e,r,i,n);return n&&n(U),U}};return V}function c4(t){if(ap(t))return t=Xa(t),t.children=null,t}function N8(t){if(!ap(t))return eT(t.type)&&t.children?aT(t.children):t;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&_t(r.default))return r.default()}}function cl(t,e){t.shapeFlag&6&&t.component?(t.transition=e,cl(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ev(t,e=!1,r){let i=[],n=0;for(let s=0;s<t.length;s++){let a=t[s];const o=r==null?a.key:String(r)+String(a.key!=null?a.key:s);a.type===yt?(a.patchFlag&128&&n++,i=i.concat(Ev(a.children,e,o))):(e||a.type!==Bi)&&i.push(o!=null?Xa(a,{key:o}):a)}if(n>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function st(t,e){return _t(t)?Yr({name:t.name},e,{setup:t}):t}function Av(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function JO(t){const e=Rg(),r=Vk(null);if(e){const n=e.refs===or?e.refs={}:e.refs;Object.defineProperty(n,t,{enumerable:!0,get:()=>r.value,set:s=>r.value=s})}return r}function _y(t,e,r,i,n=!1){if(ut(t)){t.forEach((g,y)=>_y(g,e&&(ut(e)?e[y]:e),r,i,n));return}if(gu(i)&&!n)return;const s=i.shapeFlag&4?Og(i.component):i.el,a=n?null:s,{i:o,r:l}=t,u=e&&e.r,c=o.refs===or?o.refs={}:o.refs,d=o.setupState,h=Ut(d),f=d===or?()=>!1:g=>Jt(h,g);if(u!=null&&u!==l&&(_r(u)?(c[u]=null,f(u)&&(d[u]=null)):Bt(u)&&(u.value=null)),_t(l))np(l,o,12,[a,c]);else{const g=_r(l),y=Bt(l);if(g||y){const C=()=>{if(t.f){const S=g?f(l)?d[l]:c[l]:l.value;n?ut(S)&&fv(S,s):ut(S)?S.includes(s)||S.push(s):g?(c[l]=[s],f(l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else g?(c[l]=a,f(l)&&(d[l]=a)):y&&(l.value=a,t.k&&(c[t.k]=a))};a?(C.id=-1,ui(C,r)):C()}}}const $8=t=>t.nodeType===8;function QO(t,e){if($8(t)&&t.data==="["){let r=1,i=t.nextSibling;for(;i;){if(i.nodeType===1)e(i);else if($8(i))if(i.data==="]"){if(--r===0)break}else i.data==="["&&r++;i=i.nextSibling}}else e(t)}const gu=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function eF(t){_t(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:i,delay:n=200,hydrate:s,timeout:a,suspensible:o=!0,onError:l}=t;let u=null,c,d=0;const h=()=>(d++,u=null,f()),f=()=>{let g;return u||(g=u=e().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),l)return new Promise((C,S)=>{l(y,()=>C(h()),()=>S(y),d+1)});throw y}).then(y=>g!==u&&u?u:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),c=y,y)))};return st({name:"AsyncComponentWrapper",__asyncLoader:f,__asyncHydrate(g,y,C){const S=s?()=>{const A=s(C,T=>QO(g,T));A&&(y.bum||(y.bum=[])).push(A)}:C;c?S():f().then(()=>!y.isUnmounted&&S())},get __asyncResolved(){return c},setup(){const g=ni;if(Av(g),c)return()=>d4(c,g);const y=T=>{u=null,sp(T,g,13,!i)};if(o&&g.suspense||lp)return f().then(T=>()=>d4(T,g)).catch(T=>(y(T),()=>i?ye(i,{error:T}):null));const C=Xe(!1),S=Xe(),A=Xe(!!n);return n&&setTimeout(()=>{A.value=!1},n),a!=null&&setTimeout(()=>{if(!C.value&&!S.value){const T=new Error(`Async component timed out after ${a}ms.`);y(T),S.value=T}},a),f().then(()=>{C.value=!0,g.parent&&ap(g.parent.vnode)&&g.parent.update()}).catch(T=>{y(T),S.value=T}),()=>{if(C.value&&c)return d4(c,g);if(S.value&&i)return ye(i,{error:S.value});if(r&&!A.value)return ye(r)}}})}function d4(t,e){const{ref:r,props:i,children:n,ce:s}=e.vnode,a=ye(t,i,n);return a.ref=r,a.ce=s,delete e.vnode.ce,a}const ap=t=>t.type.__isKeepAlive,tF={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=Rg(),i=r.ctx;if(!i.renderer)return()=>{const A=e.default&&e.default();return A&&A.length===1?A[0]:A};const n=new Map,s=new Set;let a=null;const o=r.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=i,h=d("div");i.activate=(A,T,M,D,B)=>{const F=A.component;u(A,T,M,0,o),l(F.vnode,A,T,M,F,o,D,A.slotScopeIds,B),ui(()=>{F.isDeactivated=!1,F.a&&Hc(F.a);const V=A.props&&A.props.onVnodeMounted;V&&Gn(V,F.parent,A)},o)},i.deactivate=A=>{const T=A.component;b1(T.m),b1(T.a),u(A,h,null,1,o),ui(()=>{T.da&&Hc(T.da);const M=A.props&&A.props.onVnodeUnmounted;M&&Gn(M,T.parent,A),T.isDeactivated=!0},o)};function f(A){h4(A),c(A,r,o,!0)}function g(A){n.forEach((T,M)=>{const D=Ey(T.type);D&&!A(D)&&y(M)})}function y(A){const T=n.get(A);T&&(!a||!tl(T,a))?f(T):a&&h4(a),n.delete(A),s.delete(A)}pi(()=>[t.include,t.exclude],([A,T])=>{A&&g(M=>Yd(A,M)),T&&g(M=>!Yd(T,M))},{flush:"post",deep:!0});let C=null;const S=()=>{C!=null&&(x1(r.subTree.type)?ui(()=>{n.set(C,gf(r.subTree))},r.subTree.suspense):n.set(C,gf(r.subTree)))};return qr(S),Mv(S),Ou(()=>{n.forEach(A=>{const{subTree:T,suspense:M}=r,D=gf(T);if(A.type===D.type&&A.key===D.key){h4(D);const B=D.component.da;B&&ui(B,M);return}f(A)})}),()=>{if(C=null,!e.default)return a=null;const A=e.default(),T=A[0];if(A.length>1)return a=null,A;if(!Oh(T)||!(T.shapeFlag&4)&&!(T.shapeFlag&128))return a=null,T;let M=gf(T);if(M.type===Bi)return a=null,M;const D=M.type,B=Ey(gu(M)?M.type.__asyncResolved||{}:D),{include:F,exclude:V,max:O}=t;if(F&&(!B||!Yd(F,B))||V&&B&&Yd(V,B))return M.shapeFlag&=-257,a=M,T;const U=M.key==null?D:M.key,J=n.get(U);return M.el&&(M=Xa(M),T.shapeFlag&128&&(T.ssContent=M)),C=U,J?(M.el=J.el,M.component=J.component,M.transition&&cl(M,M.transition),M.shapeFlag|=512,s.delete(U),s.add(U)):(s.add(U),O&&s.size>parseInt(O,10)&&y(s.values().next().value)),M.shapeFlag|=256,a=M,x1(T.type)?T:M}}},lT=tF;function Yd(t,e){return ut(t)?t.some(r=>Yd(r,e)):_r(t)?t.split(",").includes(e):eO(t)?(t.lastIndex=0,t.test(e)):!1}function rF(t,e){uT(t,"a",e)}function iF(t,e){uT(t,"da",e)}function uT(t,e,r=ni){const i=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Lg(e,i,r),r){let n=r.parent;for(;n&&n.parent;)ap(n.parent.vnode)&&nF(i,e,r,n),n=n.parent}}function nF(t,e,r,i){const n=Lg(e,t,i,!0);oo(()=>{fv(i[e],n)},r)}function h4(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function gf(t){return t.shapeFlag&128?t.ssContent:t}function Lg(t,e,r=ni,i=!1){if(r){const n=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...a)=>{bl();const o=op(r),l=As(e,r,t,a);return o(),xl(),l});return i?n.unshift(s):n.push(s),s}}const so=t=>(e,r=ni)=>{(!lp||t==="sp")&&Lg(t,(...i)=>e(...i),r)},ao=so("bm"),qr=so("m"),sF=so("bu"),Mv=so("u"),Ou=so("bum"),oo=so("um"),aF=so("sp"),oF=so("rtg"),lF=so("rtc");function uF(t,e=ni){Lg("ec",t,e)}const cT="components";function yn(t,e){return hT(cT,t,!0,e)||t}const dT=Symbol.for("v-ndc");function cF(t){return _r(t)?hT(cT,t,!1)||t:t||dT}function hT(t,e,r=!0,i=!1){const n=si||ni;if(n){const s=n.type;{const o=Ey(s,!1);if(o&&(o===e||o===Es(e)||o===Eg(Es(e))))return s}const a=z8(n[t]||s[t],e)||z8(n.appContext[t],e);return!a&&i?s:a}}function z8(t,e){return t&&(t[e]||t[Es(e)]||t[Eg(Es(e))])}function Nr(t,e,r,i){let n;const s=r,a=ut(t);if(a||_r(t)){const o=a&&ja(t);let l=!1;o&&(l=!Zn(t),t=Mg(t)),n=new Array(t.length);for(let u=0,c=t.length;u<c;u++)n[u]=e(l?Li(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){n=new Array(t);for(let o=0;o<t;o++)n[o]=e(o+1,o,void 0,s)}else if(lr(t))if(t[Symbol.iterator])n=Array.from(t,(o,l)=>e(o,l,void 0,s));else{const o=Object.keys(t);n=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const c=o[l];n[l]=e(t[c],c,l,s)}}else n=[];return n}function Bg(t,e,r={},i,n){if(si.ce||si.parent&&gu(si.parent)&&si.parent.ce)return X(),Ot(yt,null,[ye("slot",r,i&&i())],64);let s=t[e];s&&s._c&&(s._d=!1),X();const a=s&&pT(s(r)),o=Ot(yt,{key:(r.key||a&&a.key||`_${e}`)+(!a&&i?"_fb":"")},a||(i?i():[]),a&&t._===1?64:-2);return o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function pT(t){return t.some(e=>Oh(e)?!(e.type===Bi||e.type===yt&&!pT(e.children)):!0)?t:null}const wy=t=>t?DT(t)?Og(t):wy(t.parent):null,ch=Yr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>wy(t.parent),$root:t=>wy(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Dv(t),$forceUpdate:t=>t.f||(t.f=()=>{Tv(t.update)}),$nextTick:t=>t.n||(t.n=Ms.bind(t.proxy)),$watch:t=>PF.bind(t)}),p4=(t,e)=>t!==or&&!t.__isScriptSetup&&Jt(t,e),dF={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:i,data:n,props:s,accessCache:a,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const f=a[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return n[e];case 4:return r[e];case 3:return s[e]}else{if(p4(i,e))return a[e]=1,i[e];if(n!==or&&Jt(n,e))return a[e]=2,n[e];if((u=t.propsOptions[0])&&Jt(u,e))return a[e]=3,s[e];if(r!==or&&Jt(r,e))return a[e]=4,r[e];Sy&&(a[e]=0)}}const c=ch[e];let d,h;if(c)return e==="$attrs"&&Ri(t.attrs,"get",""),c(t);if((d=o.__cssModules)&&(d=d[e]))return d;if(r!==or&&Jt(r,e))return a[e]=4,r[e];if(h=l.config.globalProperties,Jt(h,e))return h[e]},set({_:t},e,r){const{data:i,setupState:n,ctx:s}=t;return p4(n,e)?(n[e]=r,!0):i!==or&&Jt(i,e)?(i[e]=r,!0):Jt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:i,appContext:n,propsOptions:s}},a){let o;return!!r[a]||t!==or&&Jt(t,a)||p4(e,a)||(o=s[0])&&Jt(o,a)||Jt(i,a)||Jt(ch,a)||Jt(n.config.globalProperties,a)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Jt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function U8(t){return ut(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Sy=!0;function hF(t){const e=Dv(t),r=t.proxy,i=t.ctx;Sy=!1,e.beforeCreate&&q8(e.beforeCreate,t,"bc");const{data:n,computed:s,methods:a,watch:o,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:g,activated:y,deactivated:C,beforeDestroy:S,beforeUnmount:A,destroyed:T,unmounted:M,render:D,renderTracked:B,renderTriggered:F,errorCaptured:V,serverPrefetch:O,expose:U,inheritAttrs:J,components:Y,directives:re,filters:ce}=e;if(u&&pF(u,i,null),a)for(const me in a){const be=a[me];_t(be)&&(i[me]=be.bind(r))}if(n){const me=n.call(r,r);lr(me)&&(t.data=L0(me))}if(Sy=!0,s)for(const me in s){const be=s[me],ot=_t(be)?be.bind(r,r):_t(be.get)?be.get.bind(r,r):na,vt=!_t(be)&&_t(be.set)?be.set.bind(r):na,$e=sr({get:ot,set:vt});Object.defineProperty(i,me,{enumerable:!0,configurable:!0,get:()=>$e.value,set:Je=>$e.value=Je})}if(o)for(const me in o)fT(o[me],i,r,me);if(l){const me=_t(l)?l.call(r):l;Reflect.ownKeys(me).forEach(be=>{Ln(be,me[be])})}c&&q8(c,t,"c");function Me(me,be){ut(be)?be.forEach(ot=>me(ot.bind(r))):be&&me(be.bind(r))}if(Me(ao,d),Me(qr,h),Me(sF,f),Me(Mv,g),Me(rF,y),Me(iF,C),Me(uF,V),Me(lF,B),Me(oF,F),Me(Ou,A),Me(oo,M),Me(aF,O),ut(U))if(U.length){const me=t.exposed||(t.exposed={});U.forEach(be=>{Object.defineProperty(me,be,{get:()=>r[be],set:ot=>r[be]=ot})})}else t.exposed||(t.exposed={});D&&t.render===na&&(t.render=D),J!=null&&(t.inheritAttrs=J),Y&&(t.components=Y),re&&(t.directives=re),O&&Av(t)}function pF(t,e,r=na){ut(t)&&(t=Cy(t));for(const i in t){const n=t[i];let s;lr(n)?"default"in n?s=hi(n.from||i,n.default,!0):s=hi(n.from||i):s=hi(n),Bt(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[i]=s}}function q8(t,e,r){As(ut(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,r)}function fT(t,e,r,i){let n=i.includes(".")?TT(r,i):()=>r[i];if(_r(t)){const s=e[t];_t(s)&&pi(n,s)}else if(_t(t))pi(n,t.bind(r));else if(lr(t))if(ut(t))t.forEach(s=>fT(s,e,r,i));else{const s=_t(t.handler)?t.handler.bind(r):e[t.handler];_t(s)&&pi(n,s,t)}}function Dv(t){const e=t.type,{mixins:r,extends:i}=e,{mixins:n,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!n.length&&!r&&!i?l=e:(l={},n.length&&n.forEach(u=>v1(l,u,a,!0)),v1(l,e,a)),lr(e)&&s.set(e,l),l}function v1(t,e,r,i=!1){const{mixins:n,extends:s}=e;s&&v1(t,s,r,!0),n&&n.forEach(a=>v1(t,a,r,!0));for(const a in e)if(!(i&&a==="expose")){const o=fF[a]||r&&r[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const fF={data:j8,props:V8,emits:V8,methods:Zd,computed:Zd,beforeCreate:Vi,created:Vi,beforeMount:Vi,mounted:Vi,beforeUpdate:Vi,updated:Vi,beforeDestroy:Vi,beforeUnmount:Vi,destroyed:Vi,unmounted:Vi,activated:Vi,deactivated:Vi,errorCaptured:Vi,serverPrefetch:Vi,components:Zd,directives:Zd,watch:gF,provide:j8,inject:mF};function j8(t,e){return e?t?function(){return Yr(_t(t)?t.call(this,this):t,_t(e)?e.call(this,this):e)}:e:t}function mF(t,e){return Zd(Cy(t),Cy(e))}function Cy(t){if(ut(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Vi(t,e){return t?[...new Set([].concat(t,e))]:e}function Zd(t,e){return t?Yr(Object.create(null),t,e):e}function V8(t,e){return t?ut(t)&&ut(e)?[...new Set([...t,...e])]:Yr(Object.create(null),U8(t),U8(e??{})):e}function gF(t,e){if(!t)return e;if(!e)return t;const r=Yr(Object.create(null),t);for(const i in e)r[i]=Vi(t[i],e[i]);return r}function mT(){return{app:null,config:{isNativeTag:JR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yF=0;function vF(t,e){return function(i,n=null){_t(i)||(i=Yr({},i)),n!=null&&!lr(n)&&(n=null);const s=mT(),a=new WeakSet,o=[];let l=!1;const u=s.app={_uid:yF++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:QF,get config(){return s.config},set config(c){},use(c,...d){return a.has(c)||(c&&_t(c.install)?(a.add(c),c.install(u,...d)):_t(c)&&(a.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,h){if(!l){const f=u._ceVNode||ye(i,n);return f.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),d&&e?e(f,c):t(f,c,h),l=!0,u._container=c,c.__vue_app__=u,Og(f.component)}},onUnmount(c){o.push(c)},unmount(){l&&(As(o,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=yu;yu=u;try{return c()}finally{yu=d}}};return u}}let yu=null;function Ln(t,e){if(ni){let r=ni.provides;const i=ni.parent&&ni.parent.provides;i===r&&(r=ni.provides=Object.create(i)),r[t]=e}}function hi(t,e,r=!1){const i=ni||si;if(i||yu){const n=yu?yu._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&_t(e)?e.call(i&&i.proxy):e}}function bF(){return!!(ni||si||yu)}const gT={},yT=()=>Object.create(gT),vT=t=>Object.getPrototypeOf(t)===gT;function xF(t,e,r,i=!1){const n={},s=yT();t.propsDefaults=Object.create(null),bT(t,e,n,s);for(const a in t.propsOptions[0])a in n||(n[a]=void 0);r?t.props=i?n:qk(n):t.type.props?t.props=n:t.props=s,t.attrs=s}function _F(t,e,r,i){const{props:n,attrs:s,vnode:{patchFlag:a}}=t,o=Ut(n),[l]=t.propsOptions;let u=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(Pg(t.emitsOptions,h))continue;const f=e[h];if(l)if(Jt(s,h))f!==s[h]&&(s[h]=f,u=!0);else{const g=Es(h);n[g]=ky(l,o,g,f,t,!1)}else f!==s[h]&&(s[h]=f,u=!0)}}}else{bT(t,e,n,s)&&(u=!0);let c;for(const d in o)(!e||!Jt(e,d)&&((c=Ru(d))===d||!Jt(e,c)))&&(l?r&&(r[d]!==void 0||r[c]!==void 0)&&(n[d]=ky(l,o,d,void 0,t,!0)):delete n[d]);if(s!==o)for(const d in s)(!e||!Jt(e,d))&&(delete s[d],u=!0)}u&&qa(t.attrs,"set","")}function bT(t,e,r,i){const[n,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(oh(l))continue;const u=e[l];let c;n&&Jt(n,c=Es(l))?!s||!s.includes(c)?r[c]=u:(o||(o={}))[c]=u:Pg(t.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,a=!0)}if(s){const l=Ut(r),u=o||or;for(let c=0;c<s.length;c++){const d=s[c];r[d]=ky(n,l,d,u[d],t,!Jt(u,d))}}return a}function ky(t,e,r,i,n,s){const a=t[r];if(a!=null){const o=Jt(a,"default");if(o&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&_t(l)){const{propsDefaults:u}=n;if(r in u)i=u[r];else{const c=op(n);i=u[r]=l.call(null,e),c()}}else i=l;n.ce&&n.ce._setProp(r,i)}a[0]&&(s&&!o?i=!1:a[1]&&(i===""||i===Ru(r))&&(i=!0))}return i}const wF=new WeakMap;function xT(t,e,r=!1){const i=r?wF:e.propsCache,n=i.get(t);if(n)return n;const s=t.props,a={},o=[];let l=!1;if(!_t(t)){const c=d=>{l=!0;const[h,f]=xT(d,e,!0);Yr(a,h),f&&o.push(...f)};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return lr(t)&&i.set(t,jc),jc;if(ut(s))for(let c=0;c<s.length;c++){const d=Es(s[c]);H8(d)&&(a[d]=or)}else if(s)for(const c in s){const d=Es(c);if(H8(d)){const h=s[c],f=a[d]=ut(h)||_t(h)?{type:h}:Yr({},h),g=f.type;let y=!1,C=!0;if(ut(g))for(let S=0;S<g.length;++S){const A=g[S],T=_t(A)&&A.name;if(T==="Boolean"){y=!0;break}else T==="String"&&(C=!1)}else y=_t(g)&&g.name==="Boolean";f[0]=y,f[1]=C,(y||Jt(f,"default"))&&o.push(d)}}const u=[a,o];return lr(t)&&i.set(t,u),u}function H8(t){return t[0]!=="$"&&!oh(t)}const _T=t=>t[0]==="_"||t==="$stable",Lv=t=>ut(t)?t.map(Hs):[Hs(t)],SF=(t,e,r)=>{if(e._n)return e;const i=We((...n)=>Lv(e(...n)),r);return i._c=!1,i},wT=(t,e,r)=>{const i=t._ctx;for(const n in t){if(_T(n))continue;const s=t[n];if(_t(s))e[n]=SF(n,s,i);else if(s!=null){const a=Lv(s);e[n]=()=>a}}},ST=(t,e)=>{const r=Lv(e);t.slots.default=()=>r},CT=(t,e,r)=>{for(const i in e)(r||i!=="_")&&(t[i]=e[i])},CF=(t,e,r)=>{const i=t.slots=yT();if(t.vnode.shapeFlag&32){const n=e._;n?(CT(i,e,r),r&&bk(i,"_",n,!0)):wT(e,i)}else e&&ST(t,e)},kF=(t,e,r)=>{const{vnode:i,slots:n}=t;let s=!0,a=or;if(i.shapeFlag&32){const o=e._;o?r&&o===1?s=!1:CT(n,e,r):(s=!e.$stable,wT(e,n)),a=e}else e&&(ST(t,e),a={default:1});if(s)for(const o in n)!_T(o)&&a[o]==null&&delete n[o]},ui=zF;function TF(t){return EF(t)}function EF(t,e){const r=xk();r.__VUE__=!0;const{insert:i,remove:n,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=na,insertStaticContent:g}=t,y=(N,z,ie,ve=null,pe=null,xe=null,Re=void 0,Se=null,Oe=!!z.dynamicChildren)=>{if(N===z)return;N&&!tl(N,z)&&(ve=oe(N),Je(N,pe,xe,!0),N=null),z.patchFlag===-2&&(Oe=!1,z.dynamicChildren=null);const{type:De,ref:at,shapeFlag:Ue}=z;switch(De){case Ig:C(N,z,ie,ve);break;case Bi:S(N,z,ie,ve);break;case Hm:N==null&&A(z,ie,ve,Re);break;case yt:Y(N,z,ie,ve,pe,xe,Re,Se,Oe);break;default:Ue&1?D(N,z,ie,ve,pe,xe,Re,Se,Oe):Ue&6?re(N,z,ie,ve,pe,xe,Re,Se,Oe):(Ue&64||Ue&128)&&De.process(N,z,ie,ve,pe,xe,Re,Se,Oe,Ie)}at!=null&&pe&&_y(at,N&&N.ref,xe,z||N,!z)},C=(N,z,ie,ve)=>{if(N==null)i(z.el=o(z.children),ie,ve);else{const pe=z.el=N.el;z.children!==N.children&&u(pe,z.children)}},S=(N,z,ie,ve)=>{N==null?i(z.el=l(z.children||""),ie,ve):z.el=N.el},A=(N,z,ie,ve)=>{[N.el,N.anchor]=g(N.children,z,ie,ve,N.el,N.anchor)},T=({el:N,anchor:z},ie,ve)=>{let pe;for(;N&&N!==z;)pe=h(N),i(N,ie,ve),N=pe;i(z,ie,ve)},M=({el:N,anchor:z})=>{let ie;for(;N&&N!==z;)ie=h(N),n(N),N=ie;n(z)},D=(N,z,ie,ve,pe,xe,Re,Se,Oe)=>{z.type==="svg"?Re="svg":z.type==="math"&&(Re="mathml"),N==null?B(z,ie,ve,pe,xe,Re,Se,Oe):O(N,z,pe,xe,Re,Se,Oe)},B=(N,z,ie,ve,pe,xe,Re,Se)=>{let Oe,De;const{props:at,shapeFlag:Ue,transition:Ze,dirs:nt}=N;if(Oe=N.el=a(N.type,xe,at&&at.is,at),Ue&8?c(Oe,N.children):Ue&16&&V(N.children,Oe,null,ve,pe,f4(N,xe),Re,Se),nt&&Il(N,null,ve,"created"),F(Oe,N,N.scopeId,Re,ve),at){for(const Vt in at)Vt!=="value"&&!oh(Vt)&&s(Oe,Vt,null,at[Vt],xe,ve);"value"in at&&s(Oe,"value",null,at.value,xe),(De=at.onVnodeBeforeMount)&&Gn(De,ve,N)}nt&&Il(N,null,ve,"beforeMount");const At=AF(pe,Ze);At&&Ze.beforeEnter(Oe),i(Oe,z,ie),((De=at&&at.onVnodeMounted)||At||nt)&&ui(()=>{De&&Gn(De,ve,N),At&&Ze.enter(Oe),nt&&Il(N,null,ve,"mounted")},pe)},F=(N,z,ie,ve,pe)=>{if(ie&&f(N,ie),ve)for(let xe=0;xe<ve.length;xe++)f(N,ve[xe]);if(pe){let xe=pe.subTree;if(z===xe||x1(xe.type)&&(xe.ssContent===z||xe.ssFallback===z)){const Re=pe.vnode;F(N,Re,Re.scopeId,Re.slotScopeIds,pe.parent)}}},V=(N,z,ie,ve,pe,xe,Re,Se,Oe=0)=>{for(let De=Oe;De<N.length;De++){const at=N[De]=Se?Xo(N[De]):Hs(N[De]);y(null,at,z,ie,ve,pe,xe,Re,Se)}},O=(N,z,ie,ve,pe,xe,Re)=>{const Se=z.el=N.el;let{patchFlag:Oe,dynamicChildren:De,dirs:at}=z;Oe|=N.patchFlag&16;const Ue=N.props||or,Ze=z.props||or;let nt;if(ie&&Rl(ie,!1),(nt=Ze.onVnodeBeforeUpdate)&&Gn(nt,ie,z,N),at&&Il(z,N,ie,"beforeUpdate"),ie&&Rl(ie,!0),(Ue.innerHTML&&Ze.innerHTML==null||Ue.textContent&&Ze.textContent==null)&&c(Se,""),De?U(N.dynamicChildren,De,Se,ie,ve,f4(z,pe),xe):Re||be(N,z,Se,null,ie,ve,f4(z,pe),xe,!1),Oe>0){if(Oe&16)J(Se,Ue,Ze,ie,pe);else if(Oe&2&&Ue.class!==Ze.class&&s(Se,"class",null,Ze.class,pe),Oe&4&&s(Se,"style",Ue.style,Ze.style,pe),Oe&8){const At=z.dynamicProps;for(let Vt=0;Vt<At.length;Vt++){const $t=At[Vt],jr=Ue[$t],Ar=Ze[$t];(Ar!==jr||$t==="value")&&s(Se,$t,jr,Ar,pe,ie)}}Oe&1&&N.children!==z.children&&c(Se,z.children)}else!Re&&De==null&&J(Se,Ue,Ze,ie,pe);((nt=Ze.onVnodeUpdated)||at)&&ui(()=>{nt&&Gn(nt,ie,z,N),at&&Il(z,N,ie,"updated")},ve)},U=(N,z,ie,ve,pe,xe,Re)=>{for(let Se=0;Se<z.length;Se++){const Oe=N[Se],De=z[Se],at=Oe.el&&(Oe.type===yt||!tl(Oe,De)||Oe.shapeFlag&70)?d(Oe.el):ie;y(Oe,De,at,null,ve,pe,xe,Re,!0)}},J=(N,z,ie,ve,pe)=>{if(z!==ie){if(z!==or)for(const xe in z)!oh(xe)&&!(xe in ie)&&s(N,xe,z[xe],null,pe,ve);for(const xe in ie){if(oh(xe))continue;const Re=ie[xe],Se=z[xe];Re!==Se&&xe!=="value"&&s(N,xe,Se,Re,pe,ve)}"value"in ie&&s(N,"value",z.value,ie.value,pe)}},Y=(N,z,ie,ve,pe,xe,Re,Se,Oe)=>{const De=z.el=N?N.el:o(""),at=z.anchor=N?N.anchor:o("");let{patchFlag:Ue,dynamicChildren:Ze,slotScopeIds:nt}=z;nt&&(Se=Se?Se.concat(nt):nt),N==null?(i(De,ie,ve),i(at,ie,ve),V(z.children||[],ie,at,pe,xe,Re,Se,Oe)):Ue>0&&Ue&64&&Ze&&N.dynamicChildren?(U(N.dynamicChildren,Ze,ie,pe,xe,Re,Se),(z.key!=null||pe&&z===pe.subTree)&&Bv(N,z,!0)):be(N,z,ie,at,pe,xe,Re,Se,Oe)},re=(N,z,ie,ve,pe,xe,Re,Se,Oe)=>{z.slotScopeIds=Se,N==null?z.shapeFlag&512?pe.ctx.activate(z,ie,ve,Re,Oe):ce(z,ie,ve,pe,xe,Re,Oe):qe(N,z,Oe)},ce=(N,z,ie,ve,pe,xe,Re)=>{const Se=N.component=WF(N,ve,pe);if(ap(N)&&(Se.ctx.renderer=Ie),GF(Se,!1,Re),Se.asyncDep){if(pe&&pe.registerDep(Se,Me,Re),!N.el){const Oe=Se.subTree=ye(Bi);S(null,Oe,z,ie)}}else Me(Se,N,z,ie,pe,xe,Re)},qe=(N,z,ie)=>{const ve=z.component=N.component;if(NF(N,z,ie))if(ve.asyncDep&&!ve.asyncResolved){me(ve,z,ie);return}else ve.next=z,ve.update();else z.el=N.el,ve.vnode=z},Me=(N,z,ie,ve,pe,xe,Re)=>{const Se=()=>{if(N.isMounted){let{next:Ue,bu:Ze,u:nt,parent:At,vnode:Vt}=N;{const Vr=kT(N);if(Vr){Ue&&(Ue.el=Vt.el,me(N,Ue,Re)),Vr.asyncDep.then(()=>{N.isUnmounted||Se()});return}}let $t=Ue,jr;Rl(N,!1),Ue?(Ue.el=Vt.el,me(N,Ue,Re)):Ue=Vt,Ze&&Hc(Ze),(jr=Ue.props&&Ue.props.onVnodeBeforeUpdate)&&Gn(jr,At,Ue,Vt),Rl(N,!0);const Ar=m4(N),Mt=N.subTree;N.subTree=Ar,y(Mt,Ar,d(Mt.el),oe(Mt),N,pe,xe),Ue.el=Ar.el,$t===null&&$F(N,Ar.el),nt&&ui(nt,pe),(jr=Ue.props&&Ue.props.onVnodeUpdated)&&ui(()=>Gn(jr,At,Ue,Vt),pe)}else{let Ue;const{el:Ze,props:nt}=z,{bm:At,m:Vt,parent:$t,root:jr,type:Ar}=N,Mt=gu(z);if(Rl(N,!1),At&&Hc(At),!Mt&&(Ue=nt&&nt.onVnodeBeforeMount)&&Gn(Ue,$t,z),Rl(N,!0),Ze&&St){const Vr=()=>{N.subTree=m4(N),St(Ze,N.subTree,N,pe,null)};Mt&&Ar.__asyncHydrate?Ar.__asyncHydrate(Ze,N,Vr):Vr()}else{jr.ce&&jr.ce._injectChildStyle(Ar);const Vr=N.subTree=m4(N);y(null,Vr,ie,ve,N,pe,xe),z.el=Vr.el}if(Vt&&ui(Vt,pe),!Mt&&(Ue=nt&&nt.onVnodeMounted)){const Vr=z;ui(()=>Gn(Ue,$t,Vr),pe)}(z.shapeFlag&256||$t&&gu($t.vnode)&&$t.vnode.shapeFlag&256)&&N.a&&ui(N.a,pe),N.isMounted=!0,z=ie=ve=null}};N.scope.on();const Oe=N.effect=new Ak(Se);N.scope.off();const De=N.update=Oe.run.bind(Oe),at=N.job=Oe.runIfDirty.bind(Oe);at.i=N,at.id=N.uid,Oe.scheduler=()=>Tv(at),Rl(N,!0),De()},me=(N,z,ie)=>{z.component=N;const ve=N.vnode.props;N.vnode=z,N.next=null,_F(N,z.props,ve,ie),kF(N,z.children,ie),bl(),R8(N),xl()},be=(N,z,ie,ve,pe,xe,Re,Se,Oe=!1)=>{const De=N&&N.children,at=N?N.shapeFlag:0,Ue=z.children,{patchFlag:Ze,shapeFlag:nt}=z;if(Ze>0){if(Ze&128){vt(De,Ue,ie,ve,pe,xe,Re,Se,Oe);return}else if(Ze&256){ot(De,Ue,ie,ve,pe,xe,Re,Se,Oe);return}}nt&8?(at&16&&It(De,pe,xe),Ue!==De&&c(ie,Ue)):at&16?nt&16?vt(De,Ue,ie,ve,pe,xe,Re,Se,Oe):It(De,pe,xe,!0):(at&8&&c(ie,""),nt&16&&V(Ue,ie,ve,pe,xe,Re,Se,Oe))},ot=(N,z,ie,ve,pe,xe,Re,Se,Oe)=>{N=N||jc,z=z||jc;const De=N.length,at=z.length,Ue=Math.min(De,at);let Ze;for(Ze=0;Ze<Ue;Ze++){const nt=z[Ze]=Oe?Xo(z[Ze]):Hs(z[Ze]);y(N[Ze],nt,ie,null,pe,xe,Re,Se,Oe)}De>at?It(N,pe,xe,!0,!1,Ue):V(z,ie,ve,pe,xe,Re,Se,Oe,Ue)},vt=(N,z,ie,ve,pe,xe,Re,Se,Oe)=>{let De=0;const at=z.length;let Ue=N.length-1,Ze=at-1;for(;De<=Ue&&De<=Ze;){const nt=N[De],At=z[De]=Oe?Xo(z[De]):Hs(z[De]);if(tl(nt,At))y(nt,At,ie,null,pe,xe,Re,Se,Oe);else break;De++}for(;De<=Ue&&De<=Ze;){const nt=N[Ue],At=z[Ze]=Oe?Xo(z[Ze]):Hs(z[Ze]);if(tl(nt,At))y(nt,At,ie,null,pe,xe,Re,Se,Oe);else break;Ue--,Ze--}if(De>Ue){if(De<=Ze){const nt=Ze+1,At=nt<at?z[nt].el:ve;for(;De<=Ze;)y(null,z[De]=Oe?Xo(z[De]):Hs(z[De]),ie,At,pe,xe,Re,Se,Oe),De++}}else if(De>Ze)for(;De<=Ue;)Je(N[De],pe,xe,!0),De++;else{const nt=De,At=De,Vt=new Map;for(De=At;De<=Ze;De++){const Jr=z[De]=Oe?Xo(z[De]):Hs(z[De]);Jr.key!=null&&Vt.set(Jr.key,De)}let $t,jr=0;const Ar=Ze-At+1;let Mt=!1,Vr=0;const Hr=new Array(Ar);for(De=0;De<Ar;De++)Hr[De]=0;for(De=nt;De<=Ue;De++){const Jr=N[De];if(jr>=Ar){Je(Jr,pe,xe,!0);continue}let Ti;if(Jr.key!=null)Ti=Vt.get(Jr.key);else for($t=At;$t<=Ze;$t++)if(Hr[$t-At]===0&&tl(Jr,z[$t])){Ti=$t;break}Ti===void 0?Je(Jr,pe,xe,!0):(Hr[Ti-At]=De+1,Ti>=Vr?Vr=Ti:Mt=!0,y(Jr,z[Ti],ie,null,pe,xe,Re,Se,Oe),jr++)}const cs=Mt?MF(Hr):jc;for($t=cs.length-1,De=Ar-1;De>=0;De--){const Jr=At+De,Ti=z[Jr],Hu=Jr+1<at?z[Jr+1].el:ve;Hr[De]===0?y(null,Ti,ie,Hu,pe,xe,Re,Se,Oe):Mt&&($t<0||De!==cs[$t]?$e(Ti,ie,Hu,2):$t--)}}},$e=(N,z,ie,ve,pe=null)=>{const{el:xe,type:Re,transition:Se,children:Oe,shapeFlag:De}=N;if(De&6){$e(N.component.subTree,z,ie,ve);return}if(De&128){N.suspense.move(z,ie,ve);return}if(De&64){Re.move(N,z,ie,Ie);return}if(Re===yt){i(xe,z,ie);for(let Ue=0;Ue<Oe.length;Ue++)$e(Oe[Ue],z,ie,ve);i(N.anchor,z,ie);return}if(Re===Hm){T(N,z,ie);return}if(ve!==2&&De&1&&Se)if(ve===0)Se.beforeEnter(xe),i(xe,z,ie),ui(()=>Se.enter(xe),pe);else{const{leave:Ue,delayLeave:Ze,afterLeave:nt}=Se,At=()=>i(xe,z,ie),Vt=()=>{Ue(xe,()=>{At(),nt&&nt()})};Ze?Ze(xe,At,Vt):Vt()}else i(xe,z,ie)},Je=(N,z,ie,ve=!1,pe=!1)=>{const{type:xe,props:Re,ref:Se,children:Oe,dynamicChildren:De,shapeFlag:at,patchFlag:Ue,dirs:Ze,cacheIndex:nt}=N;if(Ue===-2&&(pe=!1),Se!=null&&_y(Se,null,ie,N,!0),nt!=null&&(z.renderCache[nt]=void 0),at&256){z.ctx.deactivate(N);return}const At=at&1&&Ze,Vt=!gu(N);let $t;if(Vt&&($t=Re&&Re.onVnodeBeforeUnmount)&&Gn($t,z,N),at&6)it(N.component,ie,ve);else{if(at&128){N.suspense.unmount(ie,ve);return}At&&Il(N,null,z,"beforeUnmount"),at&64?N.type.remove(N,z,ie,Ie,ve):De&&!De.hasOnce&&(xe!==yt||Ue>0&&Ue&64)?It(De,z,ie,!1,!0):(xe===yt&&Ue&384||!pe&&at&16)&&It(Oe,z,ie),ve&&rt(N)}(Vt&&($t=Re&&Re.onVnodeUnmounted)||At)&&ui(()=>{$t&&Gn($t,z,N),At&&Il(N,null,z,"unmounted")},ie)},rt=N=>{const{type:z,el:ie,anchor:ve,transition:pe}=N;if(z===yt){Ft(ie,ve);return}if(z===Hm){M(N);return}const xe=()=>{n(ie),pe&&!pe.persisted&&pe.afterLeave&&pe.afterLeave()};if(N.shapeFlag&1&&pe&&!pe.persisted){const{leave:Re,delayLeave:Se}=pe,Oe=()=>Re(ie,xe);Se?Se(N.el,xe,Oe):Oe()}else xe()},Ft=(N,z)=>{let ie;for(;N!==z;)ie=h(N),n(N),N=ie;n(z)},it=(N,z,ie)=>{const{bum:ve,scope:pe,job:xe,subTree:Re,um:Se,m:Oe,a:De}=N;b1(Oe),b1(De),ve&&Hc(ve),pe.stop(),xe&&(xe.flags|=8,Je(Re,N,z,ie)),Se&&ui(Se,z),ui(()=>{N.isUnmounted=!0},z),z&&z.pendingBranch&&!z.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===z.pendingId&&(z.deps--,z.deps===0&&z.resolve())},It=(N,z,ie,ve=!1,pe=!1,xe=0)=>{for(let Re=xe;Re<N.length;Re++)Je(N[Re],z,ie,ve,pe)},oe=N=>{if(N.shapeFlag&6)return oe(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const z=h(N.anchor||N.el),ie=z&&z[Qk];return ie?h(ie):z};let Te=!1;const Ee=(N,z,ie)=>{N==null?z._vnode&&Je(z._vnode,null,null,!0):y(z._vnode||null,N,z,null,null,null,ie),z._vnode=N,Te||(Te=!0,R8(),Yk(),Te=!1)},Ie={p:y,um:Je,m:$e,r:rt,mt:ce,mc:V,pc:be,pbc:U,n:oe,o:t};let wt,St;return{render:Ee,hydrate:wt,createApp:vF(Ee,wt)}}function f4({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Rl({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function AF(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Bv(t,e,r=!1){const i=t.children,n=e.children;if(ut(i)&&ut(n))for(let s=0;s<i.length;s++){const a=i[s];let o=n[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=n[s]=Xo(n[s]),o.el=a.el),!r&&o.patchFlag!==-2&&Bv(a,o)),o.type===Ig&&(o.el=a.el)}}function MF(t){const e=t.slice(),r=[0];let i,n,s,a,o;const l=t.length;for(i=0;i<l;i++){const u=t[i];if(u!==0){if(n=r[r.length-1],t[n]<u){e[i]=n,r.push(i);continue}for(s=0,a=r.length-1;s<a;)o=s+a>>1,t[r[o]]<u?s=o+1:a=o;u<t[r[s]]&&(s>0&&(e[i]=r[s-1]),r[s]=i)}}for(s=r.length,a=r[s-1];s-- >0;)r[s]=a,a=e[a];return r}function kT(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:kT(e)}function b1(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const DF=Symbol.for("v-scx"),LF=()=>hi(DF);function BF(t,e){return Pv(t,null,e)}function pi(t,e,r){return Pv(t,e,r)}function Pv(t,e,r=or){const{immediate:i,deep:n,flush:s,once:a}=r,o=Yr({},r);let l;if(lp)if(s==="sync"){const h=LF();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!e||i)o.once=!0;else{const h=()=>{};return h.stop=na,h.resume=na,h.pause=na,h}const u=ni;o.call=(h,f,g)=>As(h,u,f,g);let c=!1;s==="post"?o.scheduler=h=>{ui(h,u&&u.suspense)}:s!=="sync"&&(c=!0,o.scheduler=(h,f)=>{f?h():Tv(h)}),o.augmentJob=h=>{e&&(h.flags|=4),c&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=jO(t,e,o);return l&&l.push(d),d}function PF(t,e,r){const i=this.proxy,n=_r(t)?t.includes(".")?TT(i,t):()=>i[t]:t.bind(i,i);let s;_t(e)?s=e:(s=e.handler,r=e);const a=op(this),o=Pv(n,s.bind(i),r);return a(),o}function TT(t,e){const r=e.split(".");return()=>{let i=t;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}const IF=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Es(e)}Modifiers`]||t[`${Ru(e)}Modifiers`];function RF(t,e,...r){if(t.isUnmounted)return;const i=t.vnode.props||or;let n=r;const s=e.startsWith("update:"),a=s&&IF(i,e.slice(7));a&&(a.trim&&(n=r.map(c=>_r(c)?c.trim():c)),a.number&&(n=r.map(gy)));let o,l=i[o=s4(e)]||i[o=s4(Es(e))];!l&&s&&(l=i[o=s4(Ru(e))]),l&&As(l,t,6,n);const u=i[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,As(u,t,6,n)}}function ET(t,e,r=!1){const i=e.emitsCache,n=i.get(t);if(n!==void 0)return n;const s=t.emits;let a={},o=!1;if(!_t(t)){const l=u=>{const c=ET(u,e,!0);c&&(o=!0,Yr(a,c))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(lr(t)&&i.set(t,null),null):(ut(s)?s.forEach(l=>a[l]=null):Yr(a,s),lr(t)&&i.set(t,a),a)}function Pg(t,e){return!t||!Cg(e)?!1:(e=e.slice(2).replace(/Once$/,""),Jt(t,e[0].toLowerCase()+e.slice(1))||Jt(t,Ru(e))||Jt(t,e))}function m4(t){const{type:e,vnode:r,proxy:i,withProxy:n,propsOptions:[s],slots:a,attrs:o,emit:l,render:u,renderCache:c,props:d,data:h,setupState:f,ctx:g,inheritAttrs:y}=t,C=y1(t);let S,A;try{if(r.shapeFlag&4){const M=n||i,D=M;S=Hs(u.call(D,M,c,d,f,h,g)),A=o}else{const M=e;S=Hs(M.length>1?M(d,{attrs:o,slots:a,emit:l}):M(d,null)),A=e.props?o:OF(o)}}catch(M){dh.length=0,sp(M,t,1),S=ye(Bi)}let T=S;if(A&&y!==!1){const M=Object.keys(A),{shapeFlag:D}=T;M.length&&D&7&&(s&&M.some(pv)&&(A=FF(A,s)),T=Xa(T,A,!1,!0))}return r.dirs&&(T=Xa(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(r.dirs):r.dirs),r.transition&&cl(T,r.transition),S=T,y1(C),S}const OF=t=>{let e;for(const r in t)(r==="class"||r==="style"||Cg(r))&&((e||(e={}))[r]=t[r]);return e},FF=(t,e)=>{const r={};for(const i in t)(!pv(i)||!(i.slice(9)in e))&&(r[i]=t[i]);return r};function NF(t,e,r){const{props:i,children:n,component:s}=t,{props:a,children:o,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?K8(i,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(a[h]!==i[h]&&!Pg(u,h))return!0}}}else return(n||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?K8(i,a,u):!0:!!a;return!1}function K8(t,e,r){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(e[s]!==t[s]&&!Pg(r,s))return!0}return!1}function $F({vnode:t,parent:e},r){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=r,e=e.parent;else break}}const x1=t=>t.__isSuspense;function zF(t,e){e&&e.pendingBranch?ut(t)?e.effects.push(...t):e.effects.push(t):KO(t)}const yt=Symbol.for("v-fgt"),Ig=Symbol.for("v-txt"),Bi=Symbol.for("v-cmt"),Hm=Symbol.for("v-stc"),dh=[];let Bn=null;function X(t=!1){dh.push(Bn=t?null:[])}function UF(){dh.pop(),Bn=dh[dh.length-1]||null}let Rh=1;function W8(t){Rh+=t,t<0&&Bn&&(Bn.hasOnce=!0)}function AT(t){return t.dynamicChildren=Rh>0?Bn||jc:null,UF(),Rh>0&&Bn&&Bn.push(t),t}function ne(t,e,r,i,n,s){return AT(m(t,e,r,i,n,s,!0))}function Ot(t,e,r,i,n){return AT(ye(t,e,r,i,n,!0))}function Oh(t){return t?t.__v_isVNode===!0:!1}function tl(t,e){return t.type===e.type&&t.key===e.key}const MT=({key:t})=>t??null,Km=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?_r(t)||Bt(t)||_t(t)?{i:si,r:t,k:e,f:!!r}:t:null);function m(t,e=null,r=null,i=0,n=null,s=t===yt?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&MT(e),ref:e&&Km(e),scopeId:Jk,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:si};return o?(Iv(l,r),s&128&&t.normalize(l)):r&&(l.shapeFlag|=_r(r)?8:16),Rh>0&&!a&&Bn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Bn.push(l),l}const ye=qF;function qF(t,e=null,r=null,i=0,n=null,s=!1){if((!t||t===dT)&&(t=Bi),Oh(t)){const o=Xa(t,e,!0);return r&&Iv(o,r),Rh>0&&!s&&Bn&&(o.shapeFlag&6?Bn[Bn.indexOf(t)]=o:Bn.push(o)),o.patchFlag=-2,o}if(JF(t)&&(t=t.__vccOpts),e){e=jF(e);let{class:o,style:l}=e;o&&!_r(o)&&(e.class=Wt(o)),lr(l)&&(Sv(l)&&!ut(l)&&(l=Yr({},l)),e.style=Zi(l))}const a=_r(t)?1:x1(t)?128:eT(t)?64:lr(t)?4:_t(t)?2:0;return m(t,e,r,i,n,a,s,!0)}function jF(t){return t?Sv(t)||vT(t)?Yr({},t):t:null}function Xa(t,e,r=!1,i=!1){const{props:n,ref:s,patchFlag:a,children:o,transition:l}=t,u=e?VF(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&MT(u),ref:e&&e.ref?r&&s?ut(s)?s.concat(Km(e)):[s,Km(e)]:Km(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==yt?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Xa(t.ssContent),ssFallback:t.ssFallback&&Xa(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&cl(c,l.clone(c)),c}function tt(t=" ",e=0){return ye(Ig,null,t,e)}function sa(t,e){const r=ye(Hm,null,t);return r.staticCount=e,r}function je(t="",e=!1){return e?(X(),Ot(Bi,null,t)):ye(Bi,null,t)}function Hs(t){return t==null||typeof t=="boolean"?ye(Bi):ut(t)?ye(yt,null,t.slice()):typeof t=="object"?Xo(t):ye(Ig,null,String(t))}function Xo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Xa(t)}function Iv(t,e){let r=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(ut(e))r=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),Iv(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!vT(e)?e._ctx=si:n===3&&si&&(si.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else _t(e)?(e={default:e,_ctx:si},r=32):(e=String(e),i&64?(r=16,e=[tt(e)]):r=8);t.children=e,t.shapeFlag|=r}function VF(...t){const e={};for(let r=0;r<t.length;r++){const i=t[r];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=Wt([e.class,i.class]));else if(n==="style")e.style=Zi([e.style,i.style]);else if(Cg(n)){const s=e[n],a=i[n];a&&s!==a&&!(ut(s)&&s.includes(a))&&(e[n]=s?[].concat(s,a):a)}else n!==""&&(e[n]=i[n])}return e}function Gn(t,e,r,i=null){As(t,e,7,[r,i])}const HF=mT();let KF=0;function WF(t,e,r){const i=t.type,n=(e?e.appContext:t.appContext)||HF,s={uid:KF++,vnode:t,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new kk(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xT(i,n),emitsOptions:ET(i,n),emit:null,emitted:null,propsDefaults:or,inheritAttrs:i.inheritAttrs,ctx:or,data:or,props:or,attrs:or,slots:or,refs:or,setupState:or,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=RF.bind(null,s),t.ce&&t.ce(s),s}let ni=null;const Rg=()=>ni||si;let _1,Ty;{const t=xk(),e=(r,i)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(i),s=>{n.length>1?n.forEach(a=>a(s)):n[0](s)}};_1=e("__VUE_INSTANCE_SETTERS__",r=>ni=r),Ty=e("__VUE_SSR_SETTERS__",r=>lp=r)}const op=t=>{const e=ni;return _1(t),t.scope.on(),()=>{t.scope.off(),_1(e)}},G8=()=>{ni&&ni.scope.off(),_1(null)};function DT(t){return t.vnode.shapeFlag&4}let lp=!1;function GF(t,e=!1,r=!1){e&&Ty(e);const{props:i,children:n}=t.vnode,s=DT(t);xF(t,i,s,e),CF(t,n,r);const a=s?XF(t,e):void 0;return e&&Ty(!1),a}function XF(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,dF);const{setup:i}=r;if(i){const n=t.setupContext=i.length>1?ZF(t):null,s=op(t);bl();const a=np(i,t,0,[t.props,n]);if(xl(),s(),gk(a)){if(gu(t)||Av(t),a.then(G8,G8),e)return a.then(o=>{X8(t,o,e)}).catch(o=>{sp(o,t,0)});t.asyncDep=a}else X8(t,a,e)}else LT(t,e)}function X8(t,e,r){_t(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:lr(e)&&(t.setupState=Kk(e)),LT(t,r)}let Y8;function LT(t,e,r){const i=t.type;if(!t.render){if(!e&&Y8&&!i.render){const n=i.template||Dv(t).template;if(n){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=i,u=Yr(Yr({isCustomElement:s,delimiters:o},a),l);i.render=Y8(n,u)}}t.render=i.render||na}{const n=op(t);bl();try{hF(t)}finally{xl(),n()}}}const YF={get(t,e){return Ri(t,"get",""),t[e]}};function ZF(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,YF),slots:t.slots,emit:t.emit,expose:e}}function Og(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Kk(_l(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in ch)return ch[r](t)},has(e,r){return r in e||r in ch}})):t.proxy}function Ey(t,e=!0){return _t(t)?t.displayName||t.name:t.name||e&&t.__name}function JF(t){return _t(t)&&"__vccOpts"in t}const sr=(t,e)=>UO(t,e,lp);function lo(t,e,r){const i=arguments.length;return i===2?lr(e)&&!ut(e)?Oh(e)?ye(t,null,[e]):ye(t,e):ye(t,null,e):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Oh(r)&&(r=[r]),ye(t,e,r))}const QF="3.5.6";/**
* @vue/runtime-dom v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ay;const Z8=typeof window<"u"&&window.trustedTypes;if(Z8)try{Ay=Z8.createPolicy("vue",{createHTML:t=>t})}catch{}const BT=Ay?t=>Ay.createHTML(t):t=>t,eN="http://www.w3.org/2000/svg",tN="http://www.w3.org/1998/Math/MathML",Ba=typeof document<"u"?document:null,J8=Ba&&Ba.createElement("template"),rN={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,i)=>{const n=e==="svg"?Ba.createElementNS(eN,t):e==="mathml"?Ba.createElementNS(tN,t):r?Ba.createElement(t,{is:r}):Ba.createElement(t);return t==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:t=>Ba.createTextNode(t),createComment:t=>Ba.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ba.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,i,n,s){const a=r?r.previousSibling:e.lastChild;if(n&&(n===s||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===s||!(n=n.nextSibling)););else{J8.innerHTML=BT(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const o=J8.content;if(i==="svg"||i==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,r)}return[a?a.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},vo="transition",pd="animation",u0=Symbol("_vtc"),PT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},IT=Yr({},nT,PT),iN=t=>(t.displayName="Transition",t.props=IT,t),ua=iN((t,{slots:e})=>lo(ZO,RT(t),e)),Ol=(t,e=[])=>{ut(t)?t.forEach(r=>r(...e)):t&&t(...e)},Q8=t=>t?ut(t)?t.some(e=>e.length>1):t.length>1:!1;function RT(t){const e={};for(const Y in t)Y in PT||(e[Y]=t[Y]);if(t.css===!1)return e;const{name:r="v",type:i,duration:n,enterFromClass:s=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:c=o,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:f=`${r}-leave-to`}=t,g=nN(n),y=g&&g[0],C=g&&g[1],{onBeforeEnter:S,onEnter:A,onEnterCancelled:T,onLeave:M,onLeaveCancelled:D,onBeforeAppear:B=S,onAppear:F=A,onAppearCancelled:V=T}=e,O=(Y,re,ce)=>{qo(Y,re?c:o),qo(Y,re?u:a),ce&&ce()},U=(Y,re)=>{Y._isLeaving=!1,qo(Y,d),qo(Y,f),qo(Y,h),re&&re()},J=Y=>(re,ce)=>{const qe=Y?F:A,Me=()=>O(re,Y,ce);Ol(qe,[re,Me]),e7(()=>{qo(re,Y?l:s),Ma(re,Y?c:o),Q8(qe)||t7(re,i,y,Me)})};return Yr(e,{onBeforeEnter(Y){Ol(S,[Y]),Ma(Y,s),Ma(Y,a)},onBeforeAppear(Y){Ol(B,[Y]),Ma(Y,l),Ma(Y,u)},onEnter:J(!1),onAppear:J(!0),onLeave(Y,re){Y._isLeaving=!0;const ce=()=>U(Y,re);Ma(Y,d),Ma(Y,h),FT(),e7(()=>{Y._isLeaving&&(qo(Y,d),Ma(Y,f),Q8(M)||t7(Y,i,C,ce))}),Ol(M,[Y,ce])},onEnterCancelled(Y){O(Y,!1),Ol(T,[Y])},onAppearCancelled(Y){O(Y,!0),Ol(V,[Y])},onLeaveCancelled(Y){U(Y),Ol(D,[Y])}})}function nN(t){if(t==null)return null;if(lr(t))return[g4(t.enter),g4(t.leave)];{const e=g4(t);return[e,e]}}function g4(t){return nO(t)}function Ma(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[u0]||(t[u0]=new Set)).add(e)}function qo(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const r=t[u0];r&&(r.delete(e),r.size||(t[u0]=void 0))}function e7(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let sN=0;function t7(t,e,r,i){const n=t._endId=++sN,s=()=>{n===t._endId&&i()};if(r)return setTimeout(s,r);const{type:a,timeout:o,propCount:l}=OT(t,e);if(!a)return i();const u=a+"end";let c=0;const d=()=>{t.removeEventListener(u,h),s()},h=f=>{f.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},o+1),t.addEventListener(u,h)}function OT(t,e){const r=window.getComputedStyle(t),i=g=>(r[g]||"").split(", "),n=i(`${vo}Delay`),s=i(`${vo}Duration`),a=r7(n,s),o=i(`${pd}Delay`),l=i(`${pd}Duration`),u=r7(o,l);let c=null,d=0,h=0;e===vo?a>0&&(c=vo,d=a,h=s.length):e===pd?u>0&&(c=pd,d=u,h=l.length):(d=Math.max(a,u),c=d>0?a>u?vo:pd:null,h=c?c===vo?s.length:l.length:0);const f=c===vo&&/\b(transform|all)(,|$)/.test(i(`${vo}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:f}}function r7(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,i)=>i7(r)+i7(t[i])))}function i7(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function FT(){return document.body.offsetHeight}function aN(t,e,r){const i=t[u0];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const n7=Symbol("_vod"),oN=Symbol("_vsh"),lN=Symbol(""),uN=/(^|;)\s*display\s*:/;function cN(t,e,r){const i=t.style,n=_r(r);let s=!1;if(r&&!n){if(e)if(_r(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();r[o]==null&&Wm(i,o,"")}else for(const a in e)r[a]==null&&Wm(i,a,"");for(const a in r)a==="display"&&(s=!0),Wm(i,a,r[a])}else if(n){if(e!==r){const a=i[lN];a&&(r+=";"+a),i.cssText=r,s=uN.test(r)}}else e&&t.removeAttribute("style");n7 in t&&(t[n7]=s?i.display:"",t[oN]&&(i.display="none"))}const s7=/\s*!important$/;function Wm(t,e,r){if(ut(r))r.forEach(i=>Wm(t,e,i));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const i=dN(t,e);s7.test(r)?t.setProperty(Ru(i),r.replace(s7,""),"important"):t[i]=r}}const a7=["Webkit","Moz","ms"],y4={};function dN(t,e){const r=y4[e];if(r)return r;let i=Es(e);if(i!=="filter"&&i in t)return y4[e]=i;i=Eg(i);for(let n=0;n<a7.length;n++){const s=a7[n]+i;if(s in t)return y4[e]=s}return e}const o7="http://www.w3.org/1999/xlink";function l7(t,e,r,i,n,s=cO(e)){i&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(o7,e.slice(6,e.length)):t.setAttributeNS(o7,e,r):r==null||s&&!_k(r)?t.removeAttribute(e):t.setAttribute(e,s?"":la(r)?String(r):r)}function hN(t,e,r,i){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?BT(r):r);return}const n=t.tagName;if(e==="value"&&n!=="PROGRESS"&&!n.includes("-")){const a=n==="OPTION"?t.getAttribute("value")||"":t.value,o=r==null?t.type==="checkbox"?"on":"":String(r);(a!==o||!("_value"in t))&&(t.value=o),r==null&&t.removeAttribute(e),t._value=r;return}let s=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=_k(r):r==null&&a==="string"?(r="",s=!0):a==="number"&&(r=0,s=!0)}try{t[e]=r}catch{}s&&t.removeAttribute(e)}function su(t,e,r,i){t.addEventListener(e,r,i)}function pN(t,e,r,i){t.removeEventListener(e,r,i)}const u7=Symbol("_vei");function fN(t,e,r,i,n=null){const s=t[u7]||(t[u7]={}),a=s[e];if(i&&a)a.value=i;else{const[o,l]=mN(e);if(i){const u=s[e]=vN(i,n);su(t,o,u,l)}else a&&(pN(t,o,a,l),s[e]=void 0)}}const c7=/(?:Once|Passive|Capture)$/;function mN(t){let e;if(c7.test(t)){e={};let i;for(;i=t.match(c7);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ru(t.slice(2)),e]}let v4=0;const gN=Promise.resolve(),yN=()=>v4||(gN.then(()=>v4=0),v4=Date.now());function vN(t,e){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;As(bN(i,r.value),e,5,[i])};return r.value=t,r.attached=yN(),r}function bN(t,e){if(ut(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const d7=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,xN=(t,e,r,i,n,s)=>{const a=n==="svg";e==="class"?aN(t,i,a):e==="style"?cN(t,r,i):Cg(e)?pv(e)||fN(t,e,r,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_N(t,e,i,a))?(hN(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&l7(t,e,i,a,s,e!=="value")):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),l7(t,e,i,a))};function _N(t,e,r,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&d7(e)&&_t(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return d7(e)&&_r(r)?!1:!!(e in t||t._isVueCE&&(/[A-Z]/.test(e)||!_r(r)))}const NT=new WeakMap,$T=new WeakMap,w1=Symbol("_moveCb"),h7=Symbol("_enterCb"),wN=t=>(delete t.props.mode,t),SN=wN({name:"TransitionGroup",props:Yr({},IT,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=Rg(),i=iT();let n,s;return Mv(()=>{if(!n.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!AN(n[0].el,r.vnode.el,a))return;n.forEach(kN),n.forEach(TN);const o=n.filter(EN);FT(),o.forEach(l=>{const u=l.el,c=u.style;Ma(u,a),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[w1]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",d),u[w1]=null,qo(u,a))};u.addEventListener("transitionend",d)})}),()=>{const a=Ut(t),o=RT(a);let l=a.tag||yt;if(n=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(n.push(c),cl(c,Ih(c,o,i,r)),NT.set(c,c.el.getBoundingClientRect()))}s=e.default?Ev(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&cl(c,Ih(c,o,i,r))}return ye(l,null,s)}}}),CN=SN;function kN(t){const e=t.el;e[w1]&&e[w1](),e[h7]&&e[h7]()}function TN(t){$T.set(t,t.el.getBoundingClientRect())}function EN(t){const e=NT.get(t),r=$T.get(t),i=e.left-r.left,n=e.top-r.top;if(i||n){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${n}px)`,s.transitionDuration="0s",t}}function AN(t,e,r){const i=t.cloneNode(),n=t[u0];n&&n.forEach(o=>{o.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),r.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(i);const{hasTransform:a}=OT(i);return s.removeChild(i),a}const S1=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ut(e)?r=>Hc(e,r):e};function MN(t){t.target.composing=!0}function p7(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Wc=Symbol("_assign"),vu={created(t,{modifiers:{lazy:e,trim:r,number:i}},n){t[Wc]=S1(n);const s=i||n.props&&n.props.type==="number";su(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;r&&(o=o.trim()),s&&(o=gy(o)),t[Wc](o)}),r&&su(t,"change",()=>{t.value=t.value.trim()}),e||(su(t,"compositionstart",MN),su(t,"compositionend",p7),su(t,"change",p7))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:i,trim:n,number:s}},a){if(t[Wc]=S1(a),t.composing)return;const o=(s||t.type==="number")&&!/^0\d/.test(t.value)?gy(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===r||n&&t.value.trim()===l)||(t.value=l))}},DN={deep:!0,created(t,e,r){t[Wc]=S1(r),su(t,"change",()=>{const i=t._modelValue,n=LN(t),s=t.checked,a=t[Wc];if(ut(i)){const o=wk(i,n),l=o!==-1;if(s&&!l)a(i.concat(n));else if(!s&&l){const u=[...i];u.splice(o,1),a(u)}}else if(kg(i)){const o=new Set(i);s?o.add(n):o.delete(n),a(o)}else a(zT(t,s))})},mounted:f7,beforeUpdate(t,e,r){t[Wc]=S1(r),f7(t,e,r)}};function f7(t,{value:e,oldValue:r},i){t._modelValue=e;let n;ut(e)?n=wk(e,i.props.value)>-1:kg(e)?n=e.has(i.props.value):n=Ag(e,zT(t,!0)),t.checked!==n&&(t.checked=n)}function LN(t){return"_value"in t?t._value:t.value}function zT(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const BN=["ctrl","shift","alt","meta"],PN={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>BN.some(r=>t[`${r}Key`]&&!e.includes(r))},Dc=(t,e)=>{const r=t._withMods||(t._withMods={}),i=e.join(".");return r[i]||(r[i]=(n,...s)=>{for(let a=0;a<e.length;a++){const o=PN[e[a]];if(o&&o(n,e))return}return t(n,...s)})},IN=Yr({patchProp:xN},rN);let m7;function UT(){return m7||(m7=TF(IN))}const RN=(...t)=>{UT().render(...t)},ON=(...t)=>{const e=UT().createApp(...t),{mount:r}=e;return e.mount=i=>{const n=NN(i);if(!n)return;const s=e._component;!_t(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const a=r(n,!1,FN(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},e};function FN(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function NN(t){return _r(t)?document.querySelector(t):t}var $N=!1;/*!
 * pinia v2.2.3
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let qT;const Fg=t=>qT=t,jT=Symbol();function My(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var hh;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(hh||(hh={}));function zN(){const t=Tk(!0),e=t.run(()=>Xe({}));let r=[],i=[];const n=_l({install(s){Fg(n),n._a=s,s.provide(jT,n),s.config.globalProperties.$pinia=n,i.forEach(a=>r.push(a)),i=[]},use(s){return!this._a&&!$N?i.push(s):r.push(s),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return n}const VT=()=>{};function g7(t,e,r,i=VT){t.push(e);const n=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),i())};return!r&&Ek()&&hO(n),n}function Qu(t,...e){t.slice().forEach(r=>{r(...e)})}const UN=t=>t(),y7=Symbol(),b4=Symbol();function Dy(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,i)=>t.set(i,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const i=e[r],n=t[r];My(n)&&My(i)&&t.hasOwnProperty(r)&&!Bt(i)&&!ja(i)?t[r]=Dy(n,i):t[r]=i}return t}const qN=Symbol();function jN(t){return!My(t)||!t.hasOwnProperty(qN)}const{assign:jo}=Object;function VN(t){return!!(Bt(t)&&t.effect)}function HN(t,e,r,i){const{state:n,actions:s,getters:a}=e,o=r.state.value[t];let l;function u(){o||(r.state.value[t]=n?n():{});const c=Ls(r.state.value[t]);return jo(c,s,Object.keys(a||{}).reduce((d,h)=>(d[h]=_l(sr(()=>{Fg(r);const f=r._s.get(t);return a[h].call(f,f)})),d),{}))}return l=HT(t,u,e,r,i,!0),l}function HT(t,e,r={},i,n,s){let a;const o=jo({actions:{}},r),l={deep:!0};let u,c,d=[],h=[],f;const g=i.state.value[t];!s&&!g&&(i.state.value[t]={}),Xe({});let y;function C(V){let O;u=c=!1,typeof V=="function"?(V(i.state.value[t]),O={type:hh.patchFunction,storeId:t,events:f}):(Dy(i.state.value[t],V),O={type:hh.patchObject,payload:V,storeId:t,events:f});const U=y=Symbol();Ms().then(()=>{y===U&&(u=!0)}),c=!0,Qu(d,O,i.state.value[t])}const S=s?function(){const{state:O}=r,U=O?O():{};this.$patch(J=>{jo(J,U)})}:VT;function A(){a.stop(),d=[],h=[],i._s.delete(t)}const T=(V,O="")=>{if(y7 in V)return V[b4]=O,V;const U=function(){Fg(i);const J=Array.from(arguments),Y=[],re=[];function ce(me){Y.push(me)}function qe(me){re.push(me)}Qu(h,{args:J,name:U[b4],store:D,after:ce,onError:qe});let Me;try{Me=V.apply(this&&this.$id===t?this:D,J)}catch(me){throw Qu(re,me),me}return Me instanceof Promise?Me.then(me=>(Qu(Y,me),me)).catch(me=>(Qu(re,me),Promise.reject(me))):(Qu(Y,Me),Me)};return U[y7]=!0,U[b4]=O,U},M={_p:i,$id:t,$onAction:g7.bind(null,h),$patch:C,$reset:S,$subscribe(V,O={}){const U=g7(d,V,O.detached,()=>J()),J=a.run(()=>pi(()=>i.state.value[t],Y=>{(O.flush==="sync"?c:u)&&V({storeId:t,type:hh.direct,events:f},Y)},jo({},l,O)));return U},$dispose:A},D=L0(M);i._s.set(t,D);const F=(i._a&&i._a.runWithContext||UN)(()=>i._e.run(()=>(a=Tk()).run(()=>e({action:T}))));for(const V in F){const O=F[V];if(Bt(O)&&!VN(O)||ja(O))s||(g&&jN(O)&&(Bt(O)?O.value=g[V]:Dy(O,g[V])),i.state.value[t][V]=O);else if(typeof O=="function"){const U=T(O,V);F[V]=U,o.actions[V]=O}}return jo(D,F),jo(Ut(D),F),Object.defineProperty(D,"$state",{get:()=>i.state.value[t],set:V=>{C(O=>{jo(O,V)})}}),i._p.forEach(V=>{jo(D,a.run(()=>V({store:D,app:i._a,pinia:i,options:o})))}),g&&s&&r.hydrate&&r.hydrate(D.$state,g),u=!0,c=!0,D}function ki(t,e,r){let i,n;const s=typeof e=="function";typeof t=="string"?(i=t,n=s?r:e):(n=t,i=t.id);function a(o,l){const u=bF();return o=o||(u?hi(jT,null):null),o&&Fg(o),o=qT,o._s.has(i)||(s?HT(i,e,n,o):HN(i,n,o)),o._s.get(i)}return a.$id=i,a}function Ur(t){{t=Ut(t);const e={};for(const r in t){const i=t[r];(Bt(i)||ja(i))&&(e[r]=$O(t,r))}return e}}const B0=ki("ui",{state:()=>({isMobileMenuVisible:!1,shouldMobileMenuBeVisible:!1,isRulesVisible:!1}),actions:()=>{}});/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ec=typeof document<"u";function KT(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function KN(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&KT(t.default)}const nr=Object.assign;function x4(t,e){const r={};for(const i in e){const n=e[i];r[i]=Ds(n)?n.map(t):t(n)}return r}const ph=()=>{},Ds=Array.isArray,WT=/#/g,WN=/&/g,GN=/\//g,XN=/=/g,YN=/\?/g,GT=/\+/g,ZN=/%5B/g,JN=/%5D/g,XT=/%5E/g,QN=/%60/g,ZT=/%7B/g,e$=/%7C/g,JT=/%7D/g,t$=/%20/g;function Rv(t){return encodeURI(""+t).replace(e$,"|").replace(ZN,"[").replace(JN,"]")}function r$(t){return Rv(t).replace(ZT,"{").replace(JT,"}").replace(XT,"^")}function Ly(t){return Rv(t).replace(GT,"%2B").replace(t$,"+").replace(WT,"%23").replace(WN,"%26").replace(QN,"`").replace(ZT,"{").replace(JT,"}").replace(XT,"^")}function i$(t){return Ly(t).replace(XN,"%3D")}function n$(t){return Rv(t).replace(WT,"%23").replace(YN,"%3F")}function s$(t){return t==null?"":n$(t).replace(GN,"%2F")}function Fh(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const a$=/\/$/,o$=t=>t.replace(a$,"");function _4(t,e,r="/"){let i,n={},s="",a="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(i=e.slice(0,l),s=e.slice(l+1,o>-1?o:e.length),n=t(s)),o>-1&&(i=i||e.slice(0,o),a=e.slice(o,e.length)),i=d$(i??e,r),{fullPath:i+(s&&"?")+s+a,path:i,query:n,hash:Fh(a)}}function l$(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function v7(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function u$(t,e,r){const i=e.matched.length-1,n=r.matched.length-1;return i>-1&&i===n&&c0(e.matched[i],r.matched[n])&&QT(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function c0(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function QT(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!c$(t[r],e[r]))return!1;return!0}function c$(t,e){return Ds(t)?b7(t,e):Ds(e)?b7(e,t):t===e}function b7(t,e){return Ds(e)?t.length===e.length&&t.every((r,i)=>r===e[i]):t.length===1&&t[0]===e}function d$(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),i=t.split("/"),n=i[i.length-1];(n===".."||n===".")&&i.push("");let s=r.length-1,a,o;for(a=0;a<i.length;a++)if(o=i[a],o!==".")if(o==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+i.slice(a).join("/")}const bo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Nh;(function(t){t.pop="pop",t.push="push"})(Nh||(Nh={}));var fh;(function(t){t.back="back",t.forward="forward",t.unknown=""})(fh||(fh={}));function h$(t){if(!t)if(Ec){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),o$(t)}const p$=/^[^#]+#/;function f$(t,e){return t.replace(p$,"#")+e}function m$(t,e){const r=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-r.left-(e.left||0),top:i.top-r.top-(e.top||0)}}const Ng=()=>({left:window.scrollX,top:window.scrollY});function g$(t){let e;if("el"in t){const r=t.el,i=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;e=m$(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function x7(t,e){return(history.state?history.state.position-e:-1)+t}const By=new Map;function y$(t,e){By.set(t,e)}function v$(t){const e=By.get(t);return By.delete(t),e}let b$=()=>location.protocol+"//"+location.host;function eE(t,e){const{pathname:r,search:i,hash:n}=e,s=t.indexOf("#");if(s>-1){let o=n.includes(t.slice(s))?t.slice(s).length:1,l=n.slice(o);return l[0]!=="/"&&(l="/"+l),v7(l,"")}return v7(r,t)+i+n}function x$(t,e,r,i){let n=[],s=[],a=null;const o=({state:h})=>{const f=eE(t,location),g=r.value,y=e.value;let C=0;if(h){if(r.value=f,e.value=h,a&&a===g){a=null;return}C=y?h.position-y.position:0}else i(f);n.forEach(S=>{S(r.value,g,{delta:C,type:Nh.pop,direction:C?C>0?fh.forward:fh.back:fh.unknown})})};function l(){a=r.value}function u(h){n.push(h);const f=()=>{const g=n.indexOf(h);g>-1&&n.splice(g,1)};return s.push(f),f}function c(){const{history:h}=window;h.state&&h.replaceState(nr({},h.state,{scroll:Ng()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function _7(t,e,r,i=!1,n=!1){return{back:t,current:e,forward:r,replaced:i,position:window.history.length,scroll:n?Ng():null}}function _$(t){const{history:e,location:r}=window,i={value:eE(t,r)},n={value:e.state};n.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),h=d>-1?(r.host&&document.querySelector("base")?t:t.slice(d))+l:b$()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),n.value=u}catch(f){console.error(f),r[c?"replace":"assign"](h)}}function a(l,u){const c=nr({},e.state,_7(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});s(l,c,!0),i.value=l}function o(l,u){const c=nr({},n.value,e.state,{forward:l,scroll:Ng()});s(c.current,c,!0);const d=nr({},_7(i.value,l,null),{position:c.position+1},u);s(l,d,!1),i.value=l}return{location:i,state:n,push:o,replace:a}}function w$(t){t=h$(t);const e=_$(t),r=x$(t,e.state,e.location,e.replace);function i(s,a=!0){a||r.pauseListeners(),history.go(s)}const n=nr({location:"",base:t,go:i,createHref:f$.bind(null,t)},e,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function S$(t){return typeof t=="string"||t&&typeof t=="object"}function tE(t){return typeof t=="string"||typeof t=="symbol"}const rE=Symbol("");var w7;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(w7||(w7={}));function d0(t,e){return nr(new Error,{type:t,[rE]:!0},e)}function wa(t,e){return t instanceof Error&&rE in t&&(e==null||!!(t.type&e))}const S7="[^/]+?",C$={sensitive:!1,strict:!1,start:!0,end:!0},k$=/[.+*?^${}()[\]/\\]/g;function T$(t,e){const r=nr({},C$,e),i=[];let n=r.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];r.strict&&!u.length&&(n+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(r.sensitive?.25:0);if(h.type===0)d||(n+="/"),n+=h.value.replace(k$,"\\$&"),f+=40;else if(h.type===1){const{value:g,repeatable:y,optional:C,regexp:S}=h;s.push({name:g,repeatable:y,optional:C});const A=S||S7;if(A!==S7){f+=10;try{new RegExp(`(${A})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${g}" (${A}): `+M.message)}}let T=y?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;d||(T=C&&u.length<2?`(?:/${T})`:"/"+T),C&&(T+="?"),n+=T,f+=20,C&&(f+=-8),y&&(f+=-20),A===".*"&&(f+=-50)}c.push(f)}i.push(c)}if(r.strict&&r.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}r.strict||(n+="/?"),r.end?n+="$":r.strict&&(n+="(?:/|$)");const a=new RegExp(n,r.sensitive?"":"i");function o(u){const c=u.match(a),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",g=s[h-1];d[g.name]=f&&g.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const h of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:g,repeatable:y,optional:C}=f,S=g in u?u[g]:"";if(Ds(S)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const A=Ds(S)?S.join("/"):S;if(!A)if(C)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);c+=A}}return c||"/"}return{re:a,score:i,keys:s,parse:o,stringify:l}}function E$(t,e){let r=0;for(;r<t.length&&r<e.length;){const i=e[r]-t[r];if(i)return i;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function iE(t,e){let r=0;const i=t.score,n=e.score;for(;r<i.length&&r<n.length;){const s=E$(i[r],n[r]);if(s)return s;r++}if(Math.abs(n.length-i.length)===1){if(C7(i))return 1;if(C7(n))return-1}return n.length-i.length}function C7(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const A$={type:0,value:""},M$=/[a-zA-Z0-9_]/;function D$(t){if(!t)return[[]];if(t==="/")return[[A$]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${r})/"${u}": ${f}`)}let r=0,i=r;const n=[];let s;function a(){s&&n.push(s),s=[]}let o=0,l,u="",c="";function d(){u&&(r===0?s.push({type:0,value:u}):r===1||r===2||r===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&r!==2){i=r,r=4;continue}switch(r){case 0:l==="/"?(u&&d(),a()):l===":"?(d(),r=1):h();break;case 4:h(),r=i;break;case 1:l==="("?r=2:M$.test(l)?h():(d(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:d(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,c="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),a(),n}function L$(t,e,r){const i=T$(D$(t.path),r),n=nr(i,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function B$(t,e){const r=[],i=new Map;e=A7({strict:!1,end:!0,sensitive:!1},e);function n(d){return i.get(d)}function s(d,h,f){const g=!f,y=T7(d);y.aliasOf=f&&f.record;const C=A7(e,d),S=[y];if("alias"in d){const M=typeof d.alias=="string"?[d.alias]:d.alias;for(const D of M)S.push(T7(nr({},y,{components:f?f.record.components:y.components,path:D,aliasOf:f?f.record:y})))}let A,T;for(const M of S){const{path:D}=M;if(h&&D[0]!=="/"){const B=h.record.path,F=B[B.length-1]==="/"?"":"/";M.path=h.record.path+(D&&F+D)}if(A=L$(M,h,C),f?f.alias.push(A):(T=T||A,T!==A&&T.alias.push(A),g&&d.name&&!E7(A)&&a(d.name)),nE(A)&&l(A),y.children){const B=y.children;for(let F=0;F<B.length;F++)s(B[F],A,f&&f.children[F])}f=f||A}return T?()=>{a(T)}:ph}function a(d){if(tE(d)){const h=i.get(d);h&&(i.delete(d),r.splice(r.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=r.indexOf(d);h>-1&&(r.splice(h,1),d.record.name&&i.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function o(){return r}function l(d){const h=R$(d,r);r.splice(h,0,d),d.record.name&&!E7(d)&&i.set(d.record.name,d)}function u(d,h){let f,g={},y,C;if("name"in d&&d.name){if(f=i.get(d.name),!f)throw d0(1,{location:d});C=f.record.name,g=nr(k7(h.params,f.keys.filter(T=>!T.optional).concat(f.parent?f.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),d.params&&k7(d.params,f.keys.map(T=>T.name))),y=f.stringify(g)}else if(d.path!=null)y=d.path,f=r.find(T=>T.re.test(y)),f&&(g=f.parse(y),C=f.record.name);else{if(f=h.name?i.get(h.name):r.find(T=>T.re.test(h.path)),!f)throw d0(1,{location:d,currentLocation:h});C=f.record.name,g=nr({},h.params,d.params),y=f.stringify(g)}const S=[];let A=f;for(;A;)S.unshift(A.record),A=A.parent;return{name:C,path:y,params:g,matched:S,meta:I$(S)}}t.forEach(d=>s(d));function c(){r.length=0,i.clear()}return{addRoute:s,resolve:u,removeRoute:a,clearRoutes:c,getRoutes:o,getRecordMatcher:n}}function k7(t,e){const r={};for(const i of e)i in t&&(r[i]=t[i]);return r}function T7(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:P$(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function P$(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const i in t.components)e[i]=typeof r=="object"?r[i]:r;return e}function E7(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function I$(t){return t.reduce((e,r)=>nr(e,r.meta),{})}function A7(t,e){const r={};for(const i in t)r[i]=i in e?e[i]:t[i];return r}function R$(t,e){let r=0,i=e.length;for(;r!==i;){const s=r+i>>1;iE(t,e[s])<0?i=s:r=s+1}const n=O$(t);return n&&(i=e.lastIndexOf(n,i-1)),i}function O$(t){let e=t;for(;e=e.parent;)if(nE(e)&&iE(t,e)===0)return e}function nE({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function F$(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<i.length;++n){const s=i[n].replace(GT," "),a=s.indexOf("="),o=Fh(a<0?s:s.slice(0,a)),l=a<0?null:Fh(s.slice(a+1));if(o in e){let u=e[o];Ds(u)||(u=e[o]=[u]),u.push(l)}else e[o]=l}return e}function M7(t){let e="";for(let r in t){const i=t[r];if(r=i$(r),i==null){i!==void 0&&(e+=(e.length?"&":"")+r);continue}(Ds(i)?i.map(s=>s&&Ly(s)):[i&&Ly(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function N$(t){const e={};for(const r in t){const i=t[r];i!==void 0&&(e[r]=Ds(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return e}const $$=Symbol(""),D7=Symbol(""),$g=Symbol(""),Ov=Symbol(""),Py=Symbol("");function fd(){let t=[];function e(i){return t.push(i),()=>{const n=t.indexOf(i);n>-1&&t.splice(n,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Yo(t,e,r,i,n,s=a=>a()){const a=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((o,l)=>{const u=h=>{h===!1?l(d0(4,{from:r,to:e})):h instanceof Error?l(h):S$(h)?l(d0(2,{from:e,to:h})):(a&&i.enterCallbacks[n]===a&&typeof h=="function"&&a.push(h),o())},c=s(()=>t.call(i&&i.instances[n],e,r,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(h=>l(h))})}function w4(t,e,r,i,n=s=>s()){const s=[];for(const a of t)for(const o in a.components){let l=a.components[o];if(!(e!=="beforeRouteEnter"&&!a.instances[o]))if(KT(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Yo(c,r,i,a,o,n))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${o}" at "${a.path}"`);const d=KN(c)?c.default:c;a.mods[o]=c,a.components[o]=d;const f=(d.__vccOpts||d)[e];return f&&Yo(f,r,i,a,o,n)()}))}}return s}function L7(t){const e=hi($g),r=hi(Ov),i=sr(()=>{const l=P(t.to);return e.resolve(l)}),n=sr(()=>{const{matched:l}=i.value,{length:u}=l,c=l[u-1],d=r.matched;if(!c||!d.length)return-1;const h=d.findIndex(c0.bind(null,c));if(h>-1)return h;const f=B7(l[u-2]);return u>1&&B7(c)===f&&d[d.length-1].path!==f?d.findIndex(c0.bind(null,l[u-2])):h}),s=sr(()=>n.value>-1&&q$(r.params,i.value.params)),a=sr(()=>n.value>-1&&n.value===r.matched.length-1&&QT(r.params,i.value.params));function o(l={}){return U$(l)?e[P(t.replace)?"replace":"push"](P(t.to)).catch(ph):Promise.resolve()}return{route:i,href:sr(()=>i.value.href),isActive:s,isExactActive:a,navigate:o}}const z$=st({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:L7,setup(t,{slots:e}){const r=L0(L7(t)),{options:i}=hi($g),n=sr(()=>({[P7(t.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[P7(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&e.default(r);return t.custom?s:lo("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},s)}}}),Fv=z$;function U$(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function q$(t,e){for(const r in e){const i=e[r],n=t[r];if(typeof i=="string"){if(i!==n)return!1}else if(!Ds(n)||n.length!==i.length||i.some((s,a)=>s!==n[a]))return!1}return!0}function B7(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const P7=(t,e,r)=>t??e??r,j$=st({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const i=hi(Py),n=sr(()=>t.route||i.value),s=hi(D7,0),a=sr(()=>{let u=P(s);const{matched:c}=n.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),o=sr(()=>n.value.matched[a.value]);Ln(D7,sr(()=>a.value+1)),Ln($$,o),Ln(Py,n);const l=Xe();return pi(()=>[l.value,o.value,t.name],([u,c,d],[h,f,g])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!c0(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=n.value,c=t.name,d=o.value,h=d&&d.components[c];if(!h)return I7(r.default,{Component:h,route:u});const f=d.props[c],g=f?f===!0?u.params:typeof f=="function"?f(u):f:null,C=lo(h,nr({},g,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return I7(r.default,{Component:C,route:u})||C}}});function I7(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const sE=j$;function V$(t){const e=B$(t.routes,t),r=t.parseQuery||F$,i=t.stringifyQuery||M7,n=t.history,s=fd(),a=fd(),o=fd(),l=Vk(bo);let u=bo;Ec&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=x4.bind(null,oe=>""+oe),d=x4.bind(null,s$),h=x4.bind(null,Fh);function f(oe,Te){let Ee,Ie;return tE(oe)?(Ee=e.getRecordMatcher(oe),Ie=Te):Ie=oe,e.addRoute(Ie,Ee)}function g(oe){const Te=e.getRecordMatcher(oe);Te&&e.removeRoute(Te)}function y(){return e.getRoutes().map(oe=>oe.record)}function C(oe){return!!e.getRecordMatcher(oe)}function S(oe,Te){if(Te=nr({},Te||l.value),typeof oe=="string"){const z=_4(r,oe,Te.path),ie=e.resolve({path:z.path},Te),ve=n.createHref(z.fullPath);return nr(z,ie,{params:h(ie.params),hash:Fh(z.hash),redirectedFrom:void 0,href:ve})}let Ee;if(oe.path!=null)Ee=nr({},oe,{path:_4(r,oe.path,Te.path).path});else{const z=nr({},oe.params);for(const ie in z)z[ie]==null&&delete z[ie];Ee=nr({},oe,{params:d(z)}),Te.params=d(Te.params)}const Ie=e.resolve(Ee,Te),wt=oe.hash||"";Ie.params=c(h(Ie.params));const St=l$(i,nr({},oe,{hash:r$(wt),path:Ie.path})),N=n.createHref(St);return nr({fullPath:St,hash:wt,query:i===M7?N$(oe.query):oe.query||{}},Ie,{redirectedFrom:void 0,href:N})}function A(oe){return typeof oe=="string"?_4(r,oe,l.value.path):nr({},oe)}function T(oe,Te){if(u!==oe)return d0(8,{from:Te,to:oe})}function M(oe){return F(oe)}function D(oe){return M(nr(A(oe),{replace:!0}))}function B(oe){const Te=oe.matched[oe.matched.length-1];if(Te&&Te.redirect){const{redirect:Ee}=Te;let Ie=typeof Ee=="function"?Ee(oe):Ee;return typeof Ie=="string"&&(Ie=Ie.includes("?")||Ie.includes("#")?Ie=A(Ie):{path:Ie},Ie.params={}),nr({query:oe.query,hash:oe.hash,params:Ie.path!=null?{}:oe.params},Ie)}}function F(oe,Te){const Ee=u=S(oe),Ie=l.value,wt=oe.state,St=oe.force,N=oe.replace===!0,z=B(Ee);if(z)return F(nr(A(z),{state:typeof z=="object"?nr({},wt,z.state):wt,force:St,replace:N}),Te||Ee);const ie=Ee;ie.redirectedFrom=Te;let ve;return!St&&u$(i,Ie,Ee)&&(ve=d0(16,{to:ie,from:Ie}),$e(Ie,Ie,!0,!1)),(ve?Promise.resolve(ve):U(ie,Ie)).catch(pe=>wa(pe)?wa(pe,2)?pe:vt(pe):be(pe,ie,Ie)).then(pe=>{if(pe){if(wa(pe,2))return F(nr({replace:N},A(pe.to),{state:typeof pe.to=="object"?nr({},wt,pe.to.state):wt,force:St}),Te||ie)}else pe=Y(ie,Ie,!0,N,wt);return J(ie,Ie,pe),pe})}function V(oe,Te){const Ee=T(oe,Te);return Ee?Promise.reject(Ee):Promise.resolve()}function O(oe){const Te=Ft.values().next().value;return Te&&typeof Te.runWithContext=="function"?Te.runWithContext(oe):oe()}function U(oe,Te){let Ee;const[Ie,wt,St]=H$(oe,Te);Ee=w4(Ie.reverse(),"beforeRouteLeave",oe,Te);for(const z of Ie)z.leaveGuards.forEach(ie=>{Ee.push(Yo(ie,oe,Te))});const N=V.bind(null,oe,Te);return Ee.push(N),It(Ee).then(()=>{Ee=[];for(const z of s.list())Ee.push(Yo(z,oe,Te));return Ee.push(N),It(Ee)}).then(()=>{Ee=w4(wt,"beforeRouteUpdate",oe,Te);for(const z of wt)z.updateGuards.forEach(ie=>{Ee.push(Yo(ie,oe,Te))});return Ee.push(N),It(Ee)}).then(()=>{Ee=[];for(const z of St)if(z.beforeEnter)if(Ds(z.beforeEnter))for(const ie of z.beforeEnter)Ee.push(Yo(ie,oe,Te));else Ee.push(Yo(z.beforeEnter,oe,Te));return Ee.push(N),It(Ee)}).then(()=>(oe.matched.forEach(z=>z.enterCallbacks={}),Ee=w4(St,"beforeRouteEnter",oe,Te,O),Ee.push(N),It(Ee))).then(()=>{Ee=[];for(const z of a.list())Ee.push(Yo(z,oe,Te));return Ee.push(N),It(Ee)}).catch(z=>wa(z,8)?z:Promise.reject(z))}function J(oe,Te,Ee){o.list().forEach(Ie=>O(()=>Ie(oe,Te,Ee)))}function Y(oe,Te,Ee,Ie,wt){const St=T(oe,Te);if(St)return St;const N=Te===bo,z=Ec?history.state:{};Ee&&(Ie||N?n.replace(oe.fullPath,nr({scroll:N&&z&&z.scroll},wt)):n.push(oe.fullPath,wt)),l.value=oe,$e(oe,Te,Ee,N),vt()}let re;function ce(){re||(re=n.listen((oe,Te,Ee)=>{if(!it.listening)return;const Ie=S(oe),wt=B(Ie);if(wt){F(nr(wt,{replace:!0}),Ie).catch(ph);return}u=Ie;const St=l.value;Ec&&y$(x7(St.fullPath,Ee.delta),Ng()),U(Ie,St).catch(N=>wa(N,12)?N:wa(N,2)?(F(N.to,Ie).then(z=>{wa(z,20)&&!Ee.delta&&Ee.type===Nh.pop&&n.go(-1,!1)}).catch(ph),Promise.reject()):(Ee.delta&&n.go(-Ee.delta,!1),be(N,Ie,St))).then(N=>{N=N||Y(Ie,St,!1),N&&(Ee.delta&&!wa(N,8)?n.go(-Ee.delta,!1):Ee.type===Nh.pop&&wa(N,20)&&n.go(-1,!1)),J(Ie,St,N)}).catch(ph)}))}let qe=fd(),Me=fd(),me;function be(oe,Te,Ee){vt(oe);const Ie=Me.list();return Ie.length?Ie.forEach(wt=>wt(oe,Te,Ee)):console.error(oe),Promise.reject(oe)}function ot(){return me&&l.value!==bo?Promise.resolve():new Promise((oe,Te)=>{qe.add([oe,Te])})}function vt(oe){return me||(me=!oe,ce(),qe.list().forEach(([Te,Ee])=>oe?Ee(oe):Te()),qe.reset()),oe}function $e(oe,Te,Ee,Ie){const{scrollBehavior:wt}=t;if(!Ec||!wt)return Promise.resolve();const St=!Ee&&v$(x7(oe.fullPath,0))||(Ie||!Ee)&&history.state&&history.state.scroll||null;return Ms().then(()=>wt(oe,Te,St)).then(N=>N&&g$(N)).catch(N=>be(N,oe,Te))}const Je=oe=>n.go(oe);let rt;const Ft=new Set,it={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:C,getRoutes:y,resolve:S,options:t,push:M,replace:D,go:Je,back:()=>Je(-1),forward:()=>Je(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:Me.add,isReady:ot,install(oe){const Te=this;oe.component("RouterLink",Fv),oe.component("RouterView",sE),oe.config.globalProperties.$router=Te,Object.defineProperty(oe.config.globalProperties,"$route",{enumerable:!0,get:()=>P(l)}),Ec&&!rt&&l.value===bo&&(rt=!0,M(n.location).catch(wt=>{}));const Ee={};for(const wt in bo)Object.defineProperty(Ee,wt,{get:()=>l.value[wt],enumerable:!0});oe.provide($g,Te),oe.provide(Ov,qk(Ee)),oe.provide(Py,l);const Ie=oe.unmount;Ft.add(oe),oe.unmount=function(){Ft.delete(oe),Ft.size<1&&(u=bo,re&&re(),re=null,l.value=bo,rt=!1,me=!1),Ie()}}};function It(oe){return oe.reduce((Te,Ee)=>Te.then(()=>O(Ee)),Promise.resolve())}return it}function H$(t,e){const r=[],i=[],n=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const o=e.matched[a];o&&(t.matched.find(u=>c0(u,o))?i.push(o):r.push(o));const l=t.matched[a];l&&(e.matched.find(u=>c0(u,l))||n.push(l))}return[r,i,n]}function Fu(){return hi($g)}function zg(t){return hi(Ov)}const ec=st({__name:"MobileMenuLink",props:{to:{type:String,required:!0},isShown:{type:Boolean},disabled:{type:Boolean}},emits:["closeMenu"],setup(t,{emit:e}){const r=t,i=e,{to:n,isShown:s,disabled:a}=Ls(r);return(o,l)=>(X(),Ot(ua,{"enter-from-class":"[transform:rotateY(90deg)]","enter-active-class":"transition-all duration-200","enter-to-class":"[transform:rotateY(0deg)]","leave-from-class":"[transform:rotateY(0deg)]","leave-active-class":"transition-all duration-200","leave-to-class":"[transform:rotateY(90deg)]"},{default:We(()=>[P(s)?(X(),ne("li",{key:0,class:Wt(`origin-left ${P(a)?"pointer-events-none":""}`)},[ye(P(Fv),{to:P(n),onClick:l[0]||(l[0]=u=>i("closeMenu")),class:"cursor-pointer text-subtitle"},{default:We(()=>[Bg(o.$slots,"default")]),_:3},8,["to"])],2)):je("",!0)]),_:3}))}}),K$={class:"z-[100] will-change-transform origin-left fixed left-0 top-0 bg-secondary bg-opacity-90 w-full h-full flex justify-center lg:justify-start lg:pl-[20vw] pt-[30vh]"},W$={class:"flex flex-col items-center gap-[2rem] lg:text-subtitle-lg text-pearl-white font-body font-semibold"},G$=5,R7=50,X$=st({__name:"MobileMenu",props:{shouldMenuBeVisible:{type:Boolean},isMenuVisible:{type:Boolean}},emits:["endAction","closeMenu"],setup(t,{emit:e}){const r=t,{shouldMenuBeVisible:i,isMenuVisible:n}=Ls(r),s=e,a=Xe(0),o=()=>{const l=setInterval(()=>{i.value&&a.value<=G$||!i.value&&a.value>0?a.value+=+i.value*2-1:(clearInterval(l),s("endAction"))},R7+R7*Number(i.value))};return qr(o),pi(i,o),(l,u)=>(X(),ne("div",K$,[m("ul",W$,[ye(ec,{to:"/",isShown:a.value>=1,disabled:P(i)!=P(n),onCloseMenu:u[0]||(u[0]=c=>s("closeMenu"))},{default:We(()=>u[6]||(u[6]=[tt("home")])),_:1},8,["isShown","disabled"]),ye(ec,{to:"/games",isShown:a.value>=2,disabled:P(i)!=P(n),onCloseMenu:u[1]||(u[1]=c=>s("closeMenu"))},{default:We(()=>u[7]||(u[7]=[tt("games")])),_:1},8,["isShown","disabled"]),ye(ec,{to:"/events",isShown:a.value>=3,disabled:P(i)!=P(n),onCloseMenu:u[2]||(u[2]=c=>s("closeMenu"))},{default:We(()=>u[8]||(u[8]=[tt("events")])),_:1},8,["isShown","disabled"]),ye(ec,{to:"/news",isShown:a.value>=4,disabled:P(i)!=P(n),onCloseMenu:u[3]||(u[3]=c=>s("closeMenu"))},{default:We(()=>u[9]||(u[9]=[tt("news")])),_:1},8,["isShown","disabled"]),ye(ec,{to:"/rankings",isShown:a.value>=5,disabled:P(i)!=P(n),onCloseMenu:u[4]||(u[4]=c=>s("closeMenu"))},{default:We(()=>u[10]||(u[10]=[tt("rankings")])),_:1},8,["isShown","disabled"]),ye(ec,{to:"/contact",isShown:a.value>=6,disabled:P(i)!=P(n),onCloseMenu:u[5]||(u[5]=c=>s("closeMenu"))},{default:We(()=>u[11]||(u[11]=[tt("contact")])),_:1},8,["isShown","disabled"])])]))}}),jt=ki("toast",{state:()=>({toasts:[]}),getters:{},actions:{addToast(t){const e=Date.now(),r=t.duration||5e3;this.toasts.push({...t,id:e}),setTimeout(()=>{this.removeToast(e)},r)},removeToast(t){this.toasts=this.toasts.filter(e=>e.id!==t)}}}),Y$={class:"fixed top-5 right-5 z-[2000] space-y-4"},Z$={class:"flex-1"},J$={class:"font-heading text-body-lg"},Q$={class:"font-body text-body"},ez=["onClick"],tz=st({__name:"Toast",setup(t){const e=jt();function r(n){e.removeToast(n)}function i(n){switch(n){case"success":return"bg-green text-white";case"error":return"bg-red text-white";case"info":return"bg-blue text-white";case"warning":return"bg-yellow text-black";default:return"bg-gray text-white"}}return(n,s)=>(X(),ne("div",Y$,[ye(CN,{name:"toast",tag:"div",class:"space-y-4","enter-active-class":"transition transform ease-out duration-300","enter-from-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition transform ease-in duration-300","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:We(()=>[(X(!0),ne(yt,null,Nr(P(e).toasts,a=>(X(),ne("div",{key:a.id,class:Wt(["max-w-[90vw] w-[50rem] py-4 px-8 rounded-xl shadow-lg flex items-start",i(a.type)])},[m("div",Z$,[m("p",J$,ge(a.title),1),m("p",Q$,ge(a.message),1)]),m("button",{onClick:o=>r(a.id),class:"ml-4 focus:outline-none"},s[0]||(s[0]=[m("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-current",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,ez)],2))),128))]),_:1})]))}});function aE(t,e){return function(){return t.apply(e,arguments)}}const{toString:rz}=Object.prototype,{getPrototypeOf:Nv}=Object,Ug=(t=>e=>{const r=rz.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Bs=t=>(t=t.toLowerCase(),e=>Ug(e)===t),qg=t=>e=>typeof e===t,{isArray:P0}=Array,$h=qg("undefined");function iz(t){return t!==null&&!$h(t)&&t.constructor!==null&&!$h(t.constructor)&&Pn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const oE=Bs("ArrayBuffer");function nz(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&oE(t.buffer),e}const sz=qg("string"),Pn=qg("function"),lE=qg("number"),jg=t=>t!==null&&typeof t=="object",az=t=>t===!0||t===!1,Gm=t=>{if(Ug(t)!=="object")return!1;const e=Nv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},oz=Bs("Date"),lz=Bs("File"),uz=Bs("Blob"),cz=Bs("FileList"),dz=t=>jg(t)&&Pn(t.pipe),hz=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Pn(t.append)&&((e=Ug(t))==="formdata"||e==="object"&&Pn(t.toString)&&t.toString()==="[object FormData]"))},pz=Bs("URLSearchParams"),[fz,mz,gz,yz]=["ReadableStream","Request","Response","Headers"].map(Bs),vz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function up(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let i,n;if(typeof t!="object"&&(t=[t]),P0(t))for(i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(i=0;i<a;i++)o=s[i],e.call(null,t[o],o,t)}}function uE(t,e){e=e.toLowerCase();const r=Object.keys(t);let i=r.length,n;for(;i-- >0;)if(n=r[i],e===n.toLowerCase())return n;return null}const cu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cE=t=>!$h(t)&&t!==cu;function Iy(){const{caseless:t}=cE(this)&&this||{},e={},r=(i,n)=>{const s=t&&uE(e,n)||n;Gm(e[s])&&Gm(i)?e[s]=Iy(e[s],i):Gm(i)?e[s]=Iy({},i):P0(i)?e[s]=i.slice():e[s]=i};for(let i=0,n=arguments.length;i<n;i++)arguments[i]&&up(arguments[i],r);return e}const bz=(t,e,r,{allOwnKeys:i}={})=>(up(e,(n,s)=>{r&&Pn(n)?t[s]=aE(n,r):t[s]=n},{allOwnKeys:i}),t),xz=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_z=(t,e,r,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},wz=(t,e,r,i)=>{let n,s,a;const o={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),s=n.length;s-- >0;)a=n[s],(!i||i(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&Nv(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Sz=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const i=t.indexOf(e,r);return i!==-1&&i===r},Cz=t=>{if(!t)return null;if(P0(t))return t;let e=t.length;if(!lE(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},kz=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Nv(Uint8Array)),Tz=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=i.next())&&!n.done;){const s=n.value;e.call(t,s[0],s[1])}},Ez=(t,e)=>{let r;const i=[];for(;(r=t.exec(e))!==null;)i.push(r);return i},Az=Bs("HTMLFormElement"),Mz=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,n){return i.toUpperCase()+n}),O7=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Dz=Bs("RegExp"),dE=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),i={};up(r,(n,s)=>{let a;(a=e(n,s,t))!==!1&&(i[s]=a||n)}),Object.defineProperties(t,i)},Lz=t=>{dE(t,(e,r)=>{if(Pn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const i=t[r];if(Pn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Bz=(t,e)=>{const r={},i=n=>{n.forEach(s=>{r[s]=!0})};return P0(t)?i(t):i(String(t).split(e)),r},Pz=()=>{},Iz=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,S4="abcdefghijklmnopqrstuvwxyz",F7="0123456789",hE={DIGIT:F7,ALPHA:S4,ALPHA_DIGIT:S4+S4.toUpperCase()+F7},Rz=(t=16,e=hE.ALPHA_DIGIT)=>{let r="";const{length:i}=e;for(;t--;)r+=e[Math.random()*i|0];return r};function Oz(t){return!!(t&&Pn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Fz=t=>{const e=new Array(10),r=(i,n)=>{if(jg(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[n]=i;const s=P0(i)?[]:{};return up(i,(a,o)=>{const l=r(a,n+1);!$h(l)&&(s[o]=l)}),e[n]=void 0,s}}return i};return r(t,0)},Nz=Bs("AsyncFunction"),$z=t=>t&&(jg(t)||Pn(t))&&Pn(t.then)&&Pn(t.catch),pE=((t,e)=>t?setImmediate:e?((r,i)=>(cu.addEventListener("message",({source:n,data:s})=>{n===cu&&s===r&&i.length&&i.shift()()},!1),n=>{i.push(n),cu.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Pn(cu.postMessage)),zz=typeof queueMicrotask<"u"?queueMicrotask.bind(cu):typeof process<"u"&&process.nextTick||pE,de={isArray:P0,isArrayBuffer:oE,isBuffer:iz,isFormData:hz,isArrayBufferView:nz,isString:sz,isNumber:lE,isBoolean:az,isObject:jg,isPlainObject:Gm,isReadableStream:fz,isRequest:mz,isResponse:gz,isHeaders:yz,isUndefined:$h,isDate:oz,isFile:lz,isBlob:uz,isRegExp:Dz,isFunction:Pn,isStream:dz,isURLSearchParams:pz,isTypedArray:kz,isFileList:cz,forEach:up,merge:Iy,extend:bz,trim:vz,stripBOM:xz,inherits:_z,toFlatObject:wz,kindOf:Ug,kindOfTest:Bs,endsWith:Sz,toArray:Cz,forEachEntry:Tz,matchAll:Ez,isHTMLForm:Az,hasOwnProperty:O7,hasOwnProp:O7,reduceDescriptors:dE,freezeMethods:Lz,toObjectSet:Bz,toCamelCase:Mz,noop:Pz,toFiniteNumber:Iz,findKey:uE,global:cu,isContextDefined:cE,ALPHABET:hE,generateString:Rz,isSpecCompliantForm:Oz,toJSONObject:Fz,isAsyncFn:Nz,isThenable:$z,setImmediate:pE,asap:zz};function Dt(t,e,r,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),i&&(this.request=i),n&&(this.response=n,this.status=n.status?n.status:null)}de.inherits(Dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const fE=Dt.prototype,mE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{mE[t]={value:t}});Object.defineProperties(Dt,mE);Object.defineProperty(fE,"isAxiosError",{value:!0});Dt.from=(t,e,r,i,n,s)=>{const a=Object.create(fE);return de.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Dt.call(a,t.message,e,r,i,n),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const Uz=null;function Ry(t){return de.isPlainObject(t)||de.isArray(t)}function gE(t){return de.endsWith(t,"[]")?t.slice(0,-2):t}function N7(t,e,r){return t?t.concat(e).map(function(n,s){return n=gE(n),!r&&s?"["+n+"]":n}).join(r?".":""):e}function qz(t){return de.isArray(t)&&!t.some(Ry)}const jz=de.toFlatObject(de,{},null,function(e){return/^is[A-Z]/.test(e)});function Vg(t,e,r){if(!de.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=de.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,C){return!de.isUndefined(C[y])});const i=r.metaTokens,n=r.visitor||c,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(e);if(!de.isFunction(n))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(de.isDate(g))return g.toISOString();if(!l&&de.isBlob(g))throw new Dt("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(g)||de.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,y,C){let S=g;if(g&&!C&&typeof g=="object"){if(de.endsWith(y,"{}"))y=i?y:y.slice(0,-2),g=JSON.stringify(g);else if(de.isArray(g)&&qz(g)||(de.isFileList(g)||de.endsWith(y,"[]"))&&(S=de.toArray(g)))return y=gE(y),S.forEach(function(T,M){!(de.isUndefined(T)||T===null)&&e.append(a===!0?N7([y],M,s):a===null?y:y+"[]",u(T))}),!1}return Ry(g)?!0:(e.append(N7(C,y,s),u(g)),!1)}const d=[],h=Object.assign(jz,{defaultVisitor:c,convertValue:u,isVisitable:Ry});function f(g,y){if(!de.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),de.forEach(g,function(S,A){(!(de.isUndefined(S)||S===null)&&n.call(e,S,de.isString(A)?A.trim():A,y,h))===!0&&f(S,y?y.concat(A):[A])}),d.pop()}}if(!de.isObject(t))throw new TypeError("data must be an object");return f(t),e}function $7(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function $v(t,e){this._pairs=[],t&&Vg(t,this,e)}const yE=$v.prototype;yE.append=function(e,r){this._pairs.push([e,r])};yE.toString=function(e){const r=e?function(i){return e.call(this,i,$7)}:$7;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function Vz(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vE(t,e,r){if(!e)return t;const i=r&&r.encode||Vz,n=r&&r.serialize;let s;if(n?s=n(e,r):s=de.isURLSearchParams(e)?e.toString():new $v(e,r).toString(i),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class z7{constructor(){this.handlers=[]}use(e,r,i){return this.handlers.push({fulfilled:e,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){de.forEach(this.handlers,function(i){i!==null&&e(i)})}}const bE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hz=typeof URLSearchParams<"u"?URLSearchParams:$v,Kz=typeof FormData<"u"?FormData:null,Wz=typeof Blob<"u"?Blob:null,Gz={isBrowser:!0,classes:{URLSearchParams:Hz,FormData:Kz,Blob:Wz},protocols:["http","https","file","blob","url","data"]},zv=typeof window<"u"&&typeof document<"u",Oy=typeof navigator=="object"&&navigator||void 0,Xz=zv&&(!Oy||["ReactNative","NativeScript","NS"].indexOf(Oy.product)<0),Yz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zz=zv&&window.location.href||"http://localhost",Jz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zv,hasStandardBrowserEnv:Xz,hasStandardBrowserWebWorkerEnv:Yz,navigator:Oy,origin:Zz},Symbol.toStringTag,{value:"Module"})),pn={...Jz,...Gz};function Qz(t,e){return Vg(t,new pn.classes.URLSearchParams,Object.assign({visitor:function(r,i,n,s){return pn.isNode&&de.isBuffer(r)?(this.append(i,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function eU(t){return de.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function tU(t){const e={},r=Object.keys(t);let i;const n=r.length;let s;for(i=0;i<n;i++)s=r[i],e[s]=t[s];return e}function xE(t){function e(r,i,n,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&de.isArray(n)?n.length:a,l?(de.hasOwnProp(n,a)?n[a]=[n[a],i]:n[a]=i,!o):((!n[a]||!de.isObject(n[a]))&&(n[a]=[]),e(r,i,n[a],s)&&de.isArray(n[a])&&(n[a]=tU(n[a])),!o)}if(de.isFormData(t)&&de.isFunction(t.entries)){const r={};return de.forEachEntry(t,(i,n)=>{e(eU(i),n,r,0)}),r}return null}function rU(t,e,r){if(de.isString(t))try{return(e||JSON.parse)(t),de.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(t)}const cp={transitional:bE,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const i=r.getContentType()||"",n=i.indexOf("application/json")>-1,s=de.isObject(e);if(s&&de.isHTMLForm(e)&&(e=new FormData(e)),de.isFormData(e))return n?JSON.stringify(xE(e)):e;if(de.isArrayBuffer(e)||de.isBuffer(e)||de.isStream(e)||de.isFile(e)||de.isBlob(e)||de.isReadableStream(e))return e;if(de.isArrayBufferView(e))return e.buffer;if(de.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Qz(e,this.formSerializer).toString();if((o=de.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Vg(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||n?(r.setContentType("application/json",!1),rU(e)):e}],transformResponse:[function(e){const r=this.transitional||cp.transitional,i=r&&r.forcedJSONParsing,n=this.responseType==="json";if(de.isResponse(e)||de.isReadableStream(e))return e;if(e&&de.isString(e)&&(i&&!this.responseType||n)){const a=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Dt.from(o,Dt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pn.classes.FormData,Blob:pn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],t=>{cp.headers[t]={}});const iU=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nU=t=>{const e={};let r,i,n;return t&&t.split(`
`).forEach(function(a){n=a.indexOf(":"),r=a.substring(0,n).trim().toLowerCase(),i=a.substring(n+1).trim(),!(!r||e[r]&&iU[r])&&(r==="set-cookie"?e[r]?e[r].push(i):e[r]=[i]:e[r]=e[r]?e[r]+", "+i:i)}),e},U7=Symbol("internals");function md(t){return t&&String(t).trim().toLowerCase()}function Xm(t){return t===!1||t==null?t:de.isArray(t)?t.map(Xm):String(t)}function sU(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(t);)e[i[1]]=i[2];return e}const aU=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function C4(t,e,r,i,n){if(de.isFunction(i))return i.call(this,e,r);if(n&&(e=r),!!de.isString(e)){if(de.isString(i))return e.indexOf(i)!==-1;if(de.isRegExp(i))return i.test(e)}}function oU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,i)=>r.toUpperCase()+i)}function lU(t,e){const r=de.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+r,{value:function(n,s,a){return this[i].call(this,e,n,s,a)},configurable:!0})})}class fn{constructor(e){e&&this.set(e)}set(e,r,i){const n=this;function s(o,l,u){const c=md(l);if(!c)throw new Error("header name must be a non-empty string");const d=de.findKey(n,c);(!d||n[d]===void 0||u===!0||u===void 0&&n[d]!==!1)&&(n[d||l]=Xm(o))}const a=(o,l)=>de.forEach(o,(u,c)=>s(u,c,l));if(de.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(de.isString(e)&&(e=e.trim())&&!aU(e))a(nU(e),r);else if(de.isHeaders(e))for(const[o,l]of e.entries())s(l,o,i);else e!=null&&s(r,e,i);return this}get(e,r){if(e=md(e),e){const i=de.findKey(this,e);if(i){const n=this[i];if(!r)return n;if(r===!0)return sU(n);if(de.isFunction(r))return r.call(this,n,i);if(de.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=md(e),e){const i=de.findKey(this,e);return!!(i&&this[i]!==void 0&&(!r||C4(this,this[i],i,r)))}return!1}delete(e,r){const i=this;let n=!1;function s(a){if(a=md(a),a){const o=de.findKey(i,a);o&&(!r||C4(i,i[o],o,r))&&(delete i[o],n=!0)}}return de.isArray(e)?e.forEach(s):s(e),n}clear(e){const r=Object.keys(this);let i=r.length,n=!1;for(;i--;){const s=r[i];(!e||C4(this,this[s],s,e,!0))&&(delete this[s],n=!0)}return n}normalize(e){const r=this,i={};return de.forEach(this,(n,s)=>{const a=de.findKey(i,s);if(a){r[a]=Xm(n),delete r[s];return}const o=e?oU(s):String(s).trim();o!==s&&delete r[s],r[o]=Xm(n),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return de.forEach(this,(i,n)=>{i!=null&&i!==!1&&(r[n]=e&&de.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const i=new this(e);return r.forEach(n=>i.set(n)),i}static accessor(e){const i=(this[U7]=this[U7]={accessors:{}}).accessors,n=this.prototype;function s(a){const o=md(a);i[o]||(lU(n,a),i[o]=!0)}return de.isArray(e)?e.forEach(s):s(e),this}}fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(fn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[r]=i}}});de.freezeMethods(fn);function k4(t,e){const r=this||cp,i=e||r,n=fn.from(i.headers);let s=i.data;return de.forEach(t,function(o){s=o.call(r,s,n.normalize(),e?e.status:void 0)}),n.normalize(),s}function _E(t){return!!(t&&t.__CANCEL__)}function I0(t,e,r){Dt.call(this,t??"canceled",Dt.ERR_CANCELED,e,r),this.name="CanceledError"}de.inherits(I0,Dt,{__CANCEL__:!0});function wE(t,e,r){const i=r.config.validateStatus;!r.status||!i||i(r.status)?t(r):e(new Dt("Request failed with status code "+r.status,[Dt.ERR_BAD_REQUEST,Dt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function uU(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function cU(t,e){t=t||10;const r=new Array(t),i=new Array(t);let n=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=i[s];a||(a=u),r[n]=l,i[n]=u;let d=s,h=0;for(;d!==n;)h+=r[d++],d=d%t;if(n=(n+1)%t,n===s&&(s=(s+1)%t),u-a<e)return;const f=c&&u-c;return f?Math.round(h*1e3/f):void 0}}function dU(t,e){let r=0,i=1e3/e,n,s;const a=(u,c=Date.now())=>{r=c,n=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const c=Date.now(),d=c-r;d>=i?a(u,c):(n=u,s||(s=setTimeout(()=>{s=null,a(n)},i-d)))},()=>n&&a(n)]}const C1=(t,e,r=3)=>{let i=0;const n=cU(50,250);return dU(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-i,u=n(l),c=a<=o;i=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},r)},q7=(t,e)=>{const r=t!=null;return[i=>e[0]({lengthComputable:r,total:t,loaded:i}),e[1]]},j7=t=>(...e)=>de.asap(()=>t(...e)),hU=pn.hasStandardBrowserEnv?function(){const e=pn.navigator&&/(msie|trident)/i.test(pn.navigator.userAgent),r=document.createElement("a");let i;function n(s){let a=s;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=n(window.location.href),function(a){const o=de.isString(a)?n(a):a;return o.protocol===i.protocol&&o.host===i.host}}():function(){return function(){return!0}}(),pU=pn.hasStandardBrowserEnv?{write(t,e,r,i,n,s){const a=[t+"="+encodeURIComponent(e)];de.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),de.isString(i)&&a.push("path="+i),de.isString(n)&&a.push("domain="+n),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fU(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function mU(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function SE(t,e){return t&&!fU(e)?mU(t,e):e}const V7=t=>t instanceof fn?{...t}:t;function Du(t,e){e=e||{};const r={};function i(u,c,d){return de.isPlainObject(u)&&de.isPlainObject(c)?de.merge.call({caseless:d},u,c):de.isPlainObject(c)?de.merge({},c):de.isArray(c)?c.slice():c}function n(u,c,d){if(de.isUndefined(c)){if(!de.isUndefined(u))return i(void 0,u,d)}else return i(u,c,d)}function s(u,c){if(!de.isUndefined(c))return i(void 0,c)}function a(u,c){if(de.isUndefined(c)){if(!de.isUndefined(u))return i(void 0,u)}else return i(void 0,c)}function o(u,c,d){if(d in e)return i(u,c);if(d in t)return i(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,c)=>n(V7(u),V7(c),!0)};return de.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=l[c]||n,h=d(t[c],e[c],c);de.isUndefined(h)&&d!==o||(r[c]=h)}),r}const CE=t=>{const e=Du({},t);let{data:r,withXSRFToken:i,xsrfHeaderName:n,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=fn.from(a),e.url=vE(SE(e.baseURL,e.url),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(de.isFormData(r)){if(pn.hasStandardBrowserEnv||pn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...c].join("; "))}}if(pn.hasStandardBrowserEnv&&(i&&de.isFunction(i)&&(i=i(e)),i||i!==!1&&hU(e.url))){const u=n&&s&&pU.read(s);u&&a.set(n,u)}return e},gU=typeof XMLHttpRequest<"u",yU=gU&&function(t){return new Promise(function(r,i){const n=CE(t);let s=n.data;const a=fn.from(n.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=n,c,d,h,f,g;function y(){f&&f(),g&&g(),n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}let C=new XMLHttpRequest;C.open(n.method.toUpperCase(),n.url,!0),C.timeout=n.timeout;function S(){if(!C)return;const T=fn.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),D={data:!o||o==="text"||o==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:T,config:t,request:C};wE(function(F){r(F),y()},function(F){i(F),y()},D),C=null}"onloadend"in C?C.onloadend=S:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(S)},C.onabort=function(){C&&(i(new Dt("Request aborted",Dt.ECONNABORTED,t,C)),C=null)},C.onerror=function(){i(new Dt("Network Error",Dt.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let M=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const D=n.transitional||bE;n.timeoutErrorMessage&&(M=n.timeoutErrorMessage),i(new Dt(M,D.clarifyTimeoutError?Dt.ETIMEDOUT:Dt.ECONNABORTED,t,C)),C=null},s===void 0&&a.setContentType(null),"setRequestHeader"in C&&de.forEach(a.toJSON(),function(M,D){C.setRequestHeader(D,M)}),de.isUndefined(n.withCredentials)||(C.withCredentials=!!n.withCredentials),o&&o!=="json"&&(C.responseType=n.responseType),u&&([h,g]=C1(u,!0),C.addEventListener("progress",h)),l&&C.upload&&([d,f]=C1(l),C.upload.addEventListener("progress",d),C.upload.addEventListener("loadend",f)),(n.cancelToken||n.signal)&&(c=T=>{C&&(i(!T||T.type?new I0(null,t,C):T),C.abort(),C=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const A=uU(n.url);if(A&&pn.protocols.indexOf(A)===-1){i(new Dt("Unsupported protocol "+A+":",Dt.ERR_BAD_REQUEST,t));return}C.send(s||null)})},vU=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let i=new AbortController,n;const s=function(u){if(!n){n=!0,o();const c=u instanceof Error?u:this.reason;i.abort(c instanceof Dt?c:new I0(c instanceof Error?c.message:c))}};let a=e&&setTimeout(()=>{a=null,s(new Dt(`timeout ${e} of ms exceeded`,Dt.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>de.asap(o),l}},bU=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let i=0,n;for(;i<r;)n=i+e,yield t.slice(i,n),i=n},xU=async function*(t,e){for await(const r of _U(t))yield*bU(r,e)},_U=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:i}=await e.read();if(r)break;yield i}}finally{await e.cancel()}},H7=(t,e,r,i)=>{const n=xU(t,e);let s=0,a,o=l=>{a||(a=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await n.next();if(u){o(),l.close();return}let d=c.byteLength;if(r){let h=s+=d;r(h)}l.enqueue(new Uint8Array(c))}catch(u){throw o(u),u}},cancel(l){return o(l),n.return()}},{highWaterMark:2})},Hg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",kE=Hg&&typeof ReadableStream=="function",wU=Hg&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),TE=(t,...e)=>{try{return!!t(...e)}catch{return!1}},SU=kE&&TE(()=>{let t=!1;const e=new Request(pn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),K7=64*1024,Fy=kE&&TE(()=>de.isReadableStream(new Response("").body)),k1={stream:Fy&&(t=>t.body)};Hg&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!k1[e]&&(k1[e]=de.isFunction(t[e])?r=>r[e]():(r,i)=>{throw new Dt(`Response type '${e}' is not supported`,Dt.ERR_NOT_SUPPORT,i)})})})(new Response);const CU=async t=>{if(t==null)return 0;if(de.isBlob(t))return t.size;if(de.isSpecCompliantForm(t))return(await new Request(pn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(de.isArrayBufferView(t)||de.isArrayBuffer(t))return t.byteLength;if(de.isURLSearchParams(t)&&(t=t+""),de.isString(t))return(await wU(t)).byteLength},kU=async(t,e)=>{const r=de.toFiniteNumber(t.getContentLength());return r??CU(e)},TU=Hg&&(async t=>{let{url:e,method:r,data:i,signal:n,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:h}=CE(t);u=u?(u+"").toLowerCase():"text";let f=vU([n,s&&s.toAbortSignal()],a),g;const y=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let C;try{if(l&&SU&&r!=="get"&&r!=="head"&&(C=await kU(c,i))!==0){let D=new Request(e,{method:"POST",body:i,duplex:"half"}),B;if(de.isFormData(i)&&(B=D.headers.get("content-type"))&&c.setContentType(B),D.body){const[F,V]=q7(C,C1(j7(l)));i=H7(D.body,K7,F,V)}}de.isString(d)||(d=d?"include":"omit");const S="credentials"in Request.prototype;g=new Request(e,{...h,signal:f,method:r.toUpperCase(),headers:c.normalize().toJSON(),body:i,duplex:"half",credentials:S?d:void 0});let A=await fetch(g);const T=Fy&&(u==="stream"||u==="response");if(Fy&&(o||T&&y)){const D={};["status","statusText","headers"].forEach(O=>{D[O]=A[O]});const B=de.toFiniteNumber(A.headers.get("content-length")),[F,V]=o&&q7(B,C1(j7(o),!0))||[];A=new Response(H7(A.body,K7,F,()=>{V&&V(),y&&y()}),D)}u=u||"text";let M=await k1[de.findKey(k1,u)||"text"](A,t);return!T&&y&&y(),await new Promise((D,B)=>{wE(D,B,{data:M,headers:fn.from(A.headers),status:A.status,statusText:A.statusText,config:t,request:g})})}catch(S){throw y&&y(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new Dt("Network Error",Dt.ERR_NETWORK,t,g),{cause:S.cause||S}):Dt.from(S,S&&S.code,t,g)}}),Ny={http:Uz,xhr:yU,fetch:TU};de.forEach(Ny,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const W7=t=>`- ${t}`,EU=t=>de.isFunction(t)||t===null||t===!1,EE={getAdapter:t=>{t=de.isArray(t)?t:[t];const{length:e}=t;let r,i;const n={};for(let s=0;s<e;s++){r=t[s];let a;if(i=r,!EU(r)&&(i=Ny[(a=String(r)).toLowerCase()],i===void 0))throw new Dt(`Unknown adapter '${a}'`);if(i)break;n[a||"#"+s]=i}if(!i){const s=Object.entries(n).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(W7).join(`
`):" "+W7(s[0]):"as no adapter specified";throw new Dt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:Ny};function T4(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new I0(null,t)}function G7(t){return T4(t),t.headers=fn.from(t.headers),t.data=k4.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),EE.getAdapter(t.adapter||cp.adapter)(t).then(function(i){return T4(t),i.data=k4.call(t,t.transformResponse,i),i.headers=fn.from(i.headers),i},function(i){return _E(i)||(T4(t),i&&i.response&&(i.response.data=k4.call(t,t.transformResponse,i.response),i.response.headers=fn.from(i.response.headers))),Promise.reject(i)})}const AE="1.7.7",Uv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Uv[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const X7={};Uv.transitional=function(e,r,i){function n(s,a){return"[Axios v"+AE+"] Transitional option '"+s+"'"+a+(i?". "+i:"")}return(s,a,o)=>{if(e===!1)throw new Dt(n(a," has been removed"+(r?" in "+r:"")),Dt.ERR_DEPRECATED);return r&&!X7[a]&&(X7[a]=!0,console.warn(n(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};function AU(t,e,r){if(typeof t!="object")throw new Dt("options must be an object",Dt.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let n=i.length;for(;n-- >0;){const s=i[n],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Dt("option "+s+" must be "+l,Dt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Dt("Unknown option "+s,Dt.ERR_BAD_OPTION)}}const $y={assertOptions:AU,validators:Uv},xo=$y.validators;class bu{constructor(e){this.defaults=e,this.interceptors={request:new z7,response:new z7}}async request(e,r){try{return await this._request(e,r)}catch(i){if(i instanceof Error){let n;Error.captureStackTrace?Error.captureStackTrace(n={}):n=new Error;const s=n.stack?n.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Du(this.defaults,r);const{transitional:i,paramsSerializer:n,headers:s}=r;i!==void 0&&$y.assertOptions(i,{silentJSONParsing:xo.transitional(xo.boolean),forcedJSONParsing:xo.transitional(xo.boolean),clarifyTimeoutError:xo.transitional(xo.boolean)},!1),n!=null&&(de.isFunction(n)?r.paramsSerializer={serialize:n}:$y.assertOptions(n,{encode:xo.function,serialize:xo.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&de.merge(s.common,s[r.method]);s&&de.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=fn.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,d=0,h;if(!l){const g=[G7.bind(this),void 0];for(g.unshift.apply(g,o),g.push.apply(g,u),h=g.length,c=Promise.resolve(r);d<h;)c=c.then(g[d++],g[d++]);return c}h=o.length;let f=r;for(d=0;d<h;){const g=o[d++],y=o[d++];try{f=g(f)}catch(C){y.call(this,C);break}}try{c=G7.call(this,f)}catch(g){return Promise.reject(g)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=Du(this.defaults,e);const r=SE(e.baseURL,e.url);return vE(r,e.params,e.paramsSerializer)}}de.forEach(["delete","get","head","options"],function(e){bu.prototype[e]=function(r,i){return this.request(Du(i||{},{method:e,url:r,data:(i||{}).data}))}});de.forEach(["post","put","patch"],function(e){function r(i){return function(s,a,o){return this.request(Du(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}bu.prototype[e]=r(),bu.prototype[e+"Form"]=r(!0)});class qv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const i=this;this.promise.then(n=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](n);i._listeners=null}),this.promise.then=n=>{let s;const a=new Promise(o=>{i.subscribe(o),s=o}).then(n);return a.cancel=function(){i.unsubscribe(s)},a},e(function(s,a,o){i.reason||(i.reason=new I0(s,a,o),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=i=>{e.abort(i)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new qv(function(n){e=n}),cancel:e}}}function MU(t){return function(r){return t.apply(null,r)}}function DU(t){return de.isObject(t)&&t.isAxiosError===!0}const zy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zy).forEach(([t,e])=>{zy[e]=t});function ME(t){const e=new bu(t),r=aE(bu.prototype.request,e);return de.extend(r,bu.prototype,e,{allOwnKeys:!0}),de.extend(r,e,null,{allOwnKeys:!0}),r.create=function(n){return ME(Du(t,n))},r}const Tr=ME(cp);Tr.Axios=bu;Tr.CanceledError=I0;Tr.CancelToken=qv;Tr.isCancel=_E;Tr.VERSION=AE;Tr.toFormData=Vg;Tr.AxiosError=Dt;Tr.Cancel=Tr.CanceledError;Tr.all=function(e){return Promise.all(e)};Tr.spread=MU;Tr.isAxiosError=DU;Tr.mergeConfig=Du;Tr.AxiosHeaders=fn;Tr.formToJSON=t=>xE(de.isHTMLForm(t)?new FormData(t):t);Tr.getAdapter=EE.getAdapter;Tr.HttpStatusCode=zy;Tr.default=Tr;/*! js-cookie v3.0.5 | MIT */function yf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)t[i]=r[i]}return t}var LU={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Uy(t,e){function r(n,s,a){if(!(typeof document>"u")){a=yf({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var l in a)a[l]&&(o+="; "+l,a[l]!==!0&&(o+="="+a[l].split(";")[0]));return document.cookie=n+"="+t.write(s,n)+o}}function i(n){if(!(typeof document>"u"||arguments.length&&!n)){for(var s=document.cookie?document.cookie.split("; "):[],a={},o=0;o<s.length;o++){var l=s[o].split("="),u=l.slice(1).join("=");try{var c=decodeURIComponent(l[0]);if(a[c]=t.read(u,c),n===c)break}catch{}}return n?a[n]:a}}return Object.create({set:r,get:i,remove:function(n,s){r(n,"",yf({},s,{expires:-1}))},withAttributes:function(n){return Uy(this.converter,yf({},this.attributes,n))},withConverter:function(n){return Uy(yf({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Xs=Uy(LU,{path:"/"});const jv="https://www.integrationbee.at/api/v2",wi=Tr.create({baseURL:jv,headers:{"Content-Type":"application/json"},withCredentials:!0});wi.interceptors.request.use(t=>{const e=Xs.get("access"),r=Xs.get("csrftoken");return Xs.get("refresh")||Xs.set("refresh","null"),r&&(t.headers["X-CSRFToken"]=r),t.headers.Authorization=e?`Bearer ${e}`:"",t});wi.interceptors.response.use(t=>t,async t=>{const e=t.config;if(t.response.status===401&&!e._retry){e._retry=!0;const r=Xs.get("refresh");try{const{data:i}=await Tr.post(`${jv}/refresh/`,{refresh:r});return Xs.set("access",i.access),wi.defaults.headers.common.Authorization=`Bearer ${i.access}`,e.headers.Authorization=`Bearer ${i.access}`,wi(e)}catch(i){return Promise.reject(i)}}return Promise.reject(t)});const en=Tr.create({baseURL:jv,headers:{"Content-Type":"application/json"},withCredentials:!0});async function Vv(t){try{return(await en.get(`/cms/images/${t}/`)).data.meta.download_url}catch{return null}}const DE=ki("homePageStore",{state:()=>({mainSponsorExists:!1,mainSponsor:null,goldSponsors:[],silverSponsors:[],bronzeSponsors:[],nextEvent:null,stepsToParticipate:[],whyParticipate:[],slogan:"",whatIsItContent:"",videoUrl:"",titleBackgroundImage:"",socialMediaLinks:[],loading:!1}),actions:{async fetchHomePageData(){var t;this.loading=!0;try{const e=await en.get("/cms/pages/",{params:{type:"home.HomePage",fields:"slogan,sponsors,why_participate,competition,youtube_video_link,what_is_it_content,title_background_image,social_media_links,steps_to_participate,competition"}});if(!e.data||!e.data||!e.data.items[0])throw new Error("Invalid response format: missing or invalid data");const r=e.data.items[0];this.mainSponsorExists=!!r.sponsors.find(s=>s.value.sponsor_tier=="main");const i=async s=>{const a=r.sponsors.filter(o=>o.value.sponsor_tier===s).map(async o=>({sponsorName:o.value.sponsor_name,logoSrc:await Vv(o.value.sponsor_logo),logoSize:o.value.sponsor_logo_size,...s==="main"?{description:o.value.sponsor_description}:{}}));return Promise.all(a)};this.mainSponsor=this.mainSponsorExists&&(await i("main"))[0]||null,this.goldSponsors=await i("gold"),this.silverSponsors=await i("silver"),this.bronzeSponsors=await i("bronze");const{data:n}=await Tr.get(r.competition.meta.detail_url);this.nextEvent={id:n.id,title:n.title,edition:n.edition,description:n.short_description.slice(0,300),imageSrc:((t=n.picture)==null?void 0:t.meta.download_url)||"",link:"event/"+n.id},this.stepsToParticipate=r.steps_to_participate.sort((s,a)=>s.step_number-a.step_number).map(s=>({title:s.value.step_title,description:s.value.step_description})),this.whyParticipate=r.why_participate.sort((s,a)=>s.reason_number-a.reason_number).map(s=>({title:s.value.header,description:s.value.content})),this.slogan=r.slogan,this.whatIsItContent=r.what_is_it_content,this.videoUrl=r.youtube_video_link,this.titleBackgroundImage=r.title_background_image.meta.download_url,this.socialMediaLinks=r.social_media_links.map(s=>({platform:s.value.social_media_name,url:s.value.social_media_link}))}catch{jt().addToast({title:"Error has occured",type:"error",message:"Could not fetch home page, try again later"})}finally{this.loading=!1}}}});function zh(t){const e=new Date(t),r=e.getUTCDate(),i=e.getUTCFullYear(),n=e.toLocaleString("en-US",{month:"short",timeZone:"UTC"}),s=String(e.getUTCHours()).padStart(2,"0"),a=String(e.getUTCMinutes()).padStart(2,"0");return`${r}. ${n} ${i} ${s}:${a}`}const qy=ki("newsPageStore",{state:()=>({title:"",newsItems:[],currentPage:1,totalPages:1,loading:!1,error:null,commentText:""}),actions:{async fetchNewsPage(){try{const t=await en.get("/cms/pages/",{params:{type:"home.NewsPage",fields:"title"}});this.title=t.data.items[0].title}catch{jt().addToast({type:"error",title:"Error has occured",message:"Could not fetch news page, try again later."})}},async fetchNews(t=0){this.loading=!0;const e=10;try{const i=(await en.get("/cms/pages/",{params:{type:"home.NewsPost",fields:"title,id,text,picture",offset:t*e}})).data.items;this.newsItems=i.sort((n,s)=>new Date(s.meta.first_published_at).getTime()-new Date(n.meta.first_published_at).getTime()).map(n=>{var s;return{id:n.id,title:n.title,content:n.text,pictureSrc:(s=n.picture)==null?void 0:s.meta.download_url,date:zh(n.meta.first_published_at)}})}catch{}finally{this.loading=!1}},async postComment(t){}}}),LE=ki("contactPageStore",{state:()=>({title:"",aboutUsText:"",generalInqueriesEmail:"",teamMembers:[],loading:!1}),actions:{async fetchContactData(){this.loading=!0;try{const e=(await en.get("/cms/pages",{params:{type:"home.ContactsPage",fields:"title,about_us,inquiry_email,our_team"}})).data.items[0];this.title=e.title,this.aboutUsText=e.about_us,this.generalInqueriesEmail=e.inquiry_email;const r=async()=>{const i=e.our_team.map(async(n,s)=>({id:s,name:n.value.name,imageSrc:await Vv(n.value.picture),role:n.value.role,...n.value.email?{email:n.value.email}:{},...n.value.phone?{tel:n.value.phone}:{}}));return Promise.all(i)};this.teamMembers=await r()}catch{jt().addToast({type:"error",title:"Couldn't fetch contacts",message:"try again later."})}finally{this.loading=!1}}}}),BE=ki("eventsPageStore",{state:()=>({title:"",events:[],currentPage:1,totalPages:1,totalEvents:0,loading:!1,error:null,searchQuery:""}),actions:{async fetchTitle(){try{const t=await en.get("/cms/pages/",{params:{type:"home.CompetitionsPage",fields:"title"}});this.title=t.data.items[0].title}catch{jt().addToast({type:"error",title:"Error has occured",message:"Could not fetch title of this page."}),this.error="Failed to fetch title."}},async fetchEvents(t=1,e=""){this.loading=!0;try{let r=function(n,s){const a=new Date,o=new Date(a.getFullYear(),a.getMonth(),a.getDate()),l=new Date(n),u=new Date(l.getFullYear(),l.getMonth(),l.getDate()),c=new Date(s),d=new Date(c.getFullYear(),c.getMonth(),c.getDate());return o<u?"upcoming":o>d?"past":"ongoing"};const i=await en.get("/cms/pages/",{params:{type:"home.CompetitionPost",fields:"id,title,edition,place,picture,competition"}});this.events=i.data.items.sort((n,s)=>new Date(s.competition.event_date_start).getTime()-new Date(n.competition.event_date_start).getTime()).map(n=>{var s;return{id:n.id,name:n.title,edition:n.edition,location:n.place,date:zh(n.competition.event_date_start),pictureSrc:(s=n.picture)==null?void 0:s.meta.download_url,status:r(n.competition.event_date_start,n.competition.event_date_end)}}),this.searchQuery=e,this.error=null}catch{jt().addToast({type:"error",title:"Error has occured",message:"Could not fetch compeitions"}),this.error="Failed to fetch events."}finally{this.loading=!1}}}}),BU={id:"hexagon-clip"},PU=["points"],IU={"clip-path":"url(#hexagon-clip)"},RU=["d"],OU=["d"],FU=["points"],ps=200,Y7=80,vf=5,NU=st({__name:"Loader",setup(t){const e=ps/2,r=ps/2,i=Xe(0);function n(l,u,c,d,h){const f=Math.PI/180*c,g=Math.cos(f),y=Math.sin(f),C=g*(l-d)-y*(u-h)+d,S=y*(l-d)+g*(u-h)+h;return[C,S]}const s=sr(()=>{const l=[],u=i.value+21.51;for(let c=0;c<6;c++){const d=60*c-90,h=Math.PI/180*d,f=e+Y7*Math.cos(h),g=r+Y7*Math.sin(h),[y,C]=n(f,g,u,e,r);l.push(`${y},${C}`)}return l.join(" ")});qr(()=>{const l=()=>{i.value=(i.value+.6)%360,requestAnimationFrame(l)};l()});const a=sr(()=>{const l=[],c=2*Math.PI/ps;l.push(`M 0 ${r-vf}`);for(let d=0;d<=ps;d+=2){const h=r+-16*Math.sin(c*d)-vf;l.push(`L ${d} ${h}`)}return l.push(`L ${ps} ${ps}`),l.push(`L 0 ${ps}`),l.push("Z"),l.join(" ")}),o=sr(()=>{const l=[],c=2*Math.PI/ps;l.push(`M 0 ${r+40*-.4*Math.sin(0)-vf}`);for(let d=0;d<=ps;d+=2){const h=r+-16*Math.sin(c*d)-vf;l.push(`L ${d} ${h}`)}return l.join(" ")});return(l,u)=>(X(),ne("svg",{width:ps,height:ps,viewBox:"0 0 200 200"},[m("defs",null,[m("clipPath",BU,[m("polygon",{points:s.value},null,8,PU)])]),m("g",IU,[m("path",{d:a.value,fill:"#FBC151"},null,8,RU)]),m("path",{d:o.value,stroke:"#242424","stroke-width":"10",fill:"none"},null,8,OU),m("polygon",{points:s.value,stroke:"#242424","stroke-width":"10",fill:"none"},null,8,FU)]))}}),uo=(t,e)=>{const r=t.__vccOpts||t;for(const[i,n]of e)r[i]=n;return r},$U=uo(NU,[["__scopeId","data-v-097d7782"]]),zU={class:"fixed top-0 left-0 w-full h-full bg-pearl-white z-[10000] flex flex-col justify-center items-center px-[2rem]"},UU={class:"h-[5rem] flex justify-center items-center"},qU={class:"text-screenBlack text-body font-body text-center"},jU=st({__name:"LoadingScreen",setup(t){let e;ao(()=>{document.getElementsByTagName("body")[0].style.overflowY="hidden",e=setInterval(()=>{i.value=r[Math.floor(Math.random()*r.length)]},2e3)}),oo(()=>{document.getElementsByTagName("body")[0].style.overflowY="unset",clearInterval(e)});const r=["Hacking the Pentagon","Searching for the missing +C","Decrypting secret keys","Making series converge","Solving for x","Escaping singularities","Conducting Fourier analysis","Dividing and conquering","Synchronizing with sine waves","Optimizing decay factors","Grilling the sandwich theorem","Remembering Bunyakovsky","Making inequalities equal"],i=Xe(r[Math.floor(Math.random()*r.length)]);return(n,s)=>(X(),ne("div",zU,[ye($U,{class:"scale-[0.8]"}),m("div",UU,[s[0]||(s[0]=tt("\\ ")),m("p",qU,ge(i.value),1)])]))}}),VU={key:0,class:"fixed bottom-0 left-0 right-0 p-[2rem] bg-pearl-white shadow-lg z-[10000] shadow"},HU={class:"max-w-5xl mx-auto flex flex-col md:flex-row items-center justify-between"},KU={class:"text-black mb-4 md:mb-0 md:mr-4 font-body text-body text-center md:text-left"},WU=st({__name:"CookieBanner",setup(t){const e=Xe(!1);qr(()=>{localStorage.getItem("cookieConsent")||(e.value=!0)});function r(){localStorage.setItem("cookieConsent","true"),e.value=!1}return(i,n)=>(X(),Ot(ua,{"enter-active-class":"transition duration-500 transform","enter-from-class":"translate-y-full opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-500 transform","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-full opacity-0"},{default:We(()=>[e.value?(X(),ne("div",VU,[m("div",HU,[m("div",KU,[n[1]||(n[1]=tt(" We use cookies to enhance your experience. By continuing to visit this site, you agree to our use of cookies. For more details, see our ")),ye(P(Fv),{to:"/terms_of_use",class:"text-primary-500 underline"},{default:We(()=>n[0]||(n[0]=[tt(" Terms of Use ")])),_:1}),n[2]||(n[2]=tt(" . "))]),m("button",{onClick:r,class:"bg-primary text-white px-6 py-2 rounded-xl lg:hover:bg-primary-400 transition-colors duration-100 font-body text-body"}," Accept ")])])):je("",!0)]),_:1}))}}),GU=st({__name:"App",setup(t){const e=Xe(!0);ao(()=>{Promise.all([DE().fetchHomePageData(),qy().fetchNewsPage(),LE().fetchContactData(),BE().fetchTitle()]).finally(()=>{e.value=!1})});const r=B0(),{shouldMobileMenuBeVisible:i,isMobileMenuVisible:n}=Ur(r);function s(){i.value===n.value&&(r.shouldMobileMenuBeVisible=!i.value,i.value&&(document.getElementsByTagName("body")[0].style.overflowY="hidden"))}function a(){r.isMobileMenuVisible=i.value,!n.value&&(document.getElementsByTagName("body")[0].style.overflowY="unset")}return(o,l)=>{const u=yn("router-view");return X(),ne(yt,null,[ye(ua,{"enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:We(()=>[e.value?(X(),Ot(jU,{key:0,class:"transition-all"})):je("",!0)]),_:1}),ye(u),(X(),Ot(tT,{to:"body"},[ye(ua,{"enter-from-class":"opacity-0","enter-active-class":"transition-all duration-200","enter-to-class":"opacity-1","leave-from-class":"opacity-1","leave-active-class":"transition-all duration-200","leave-to-class":"opacity-0"},{default:We(()=>[P(n)||P(i)?(X(),Ot(X$,{key:0,"should-menu-be-visible":P(i),onEndAction:a,onCloseMenu:s,"is-menu-visible":P(n)},null,8,["should-menu-be-visible","is-menu-visible"])):je("",!0)]),_:1}),ye(WU)])),ye(tz)],64)}}}),XU=st({__name:"MenuButton",props:{isMenuVisible:Boolean},emits:["toggleMenuVisibility"],setup(t,{emit:e}){const r=t,{isMenuVisible:i}=Ls(r),n=e,s=()=>{n("toggleMenuVisibility")};return(a,o)=>(X(),ne("div",{class:"flex flex-col justify-between cursor-pointer",onClick:s},[m("div",{class:Wt(["h-[15%] w-full bg-primary rounded-sm transition-all origin-left duration-1000",{"rotate-45 -translate-y-1/2 scale-x-[1.41] bg-bg":P(i)}])},null,2),m("div",{class:Wt(["h-[15%] w-[80%] bg-primary rounded-sm transition-all",{"opacity-0":P(i)}])},null,2),m("div",{class:Wt(["h-[15%] w-full bg-primary rounded-sm transition-all origin-left duration-1000",{"-rotate-45 translate-y-1/2 scale-x-[1.41] bg-bg":P(i)}])},null,2)]))}}),YU="/userData/";async function ZU(){this.userDataRequest={status:"pending",code:null,error:null,errorMSG:null};try{const t=await wi.get(YU);this.userDataRequest.status="resolved",this.userDataRequest.code=t.status,this.userDataRequest.errorMSG=null;const e=t.data;this.isAuthenticated=!0,this.email=e.email,this.firstName=e.first_name,this.lastName=e.last_name,this.phoneNumber=e.phone_number,this.dateJoined=e.registration_date,this.institution=e.institution,this.isAdmin=e.role.Admin,this.role=e.role,this.programOfStudy=e.program_of_study,this.profilePicture=e.profile_picture,this.competitions=e.competitions.map(r=>({date:zh(r.event_date_start),name:r.name,result:r.status,link:`/event/${r.page_id}`,id:r.id}))}catch(t){this.isAuthenticated=!1;const e=jt();this.userDataRequest.status="rejected",this.userDataRequest.code=t.status,this.userDataRequest.errorMSG=t.message,t.status!==401&&e.addToast({type:"error",title:"error has occured",message:"could not fetch your profile data, try again later."})}}const JU="/login/";async function QU(t,e){this.signInRequest={status:"pending",code:null,error:null,errorMSG:null};try{const r=new FormData;r.set("email",t),r.set("password",e);const i=await en.post(JU,r);return Xs.set("access",i.data.access),Xs.set("refresh",i.data.refresh),this.signInRequest.status="resolved",this.signInRequest.code=i.status,jt().addToast({type:"success",title:"Successfully logged in!",message:""}),i.data}catch(r){const i=jt();throw r.response.data.detail==="No active account found with the given credentials"?i.addToast({type:"error",title:"Wrong e-mail or password",message:"try again"}):i.addToast({type:"error",title:"Could not sign in",message:"try again later."}),this.signInRequest.status="rejected",this.signInRequest.code=r.response?r.response.status:null,this.signInRequest.error=r,this.signInRequest.errorMSG=r.message,r}}const eq="/register/";async function tq(t,e,r,i,n){this.registerRequest={status:"pending",code:null,error:null,errorMSG:null};const s=new FormData;s.set("first_name",t),s.set("second_name",e),s.set("email",r),s.set("school",i),s.set("password",n);try{this.registerRequest.status="pending";const a=await en.post(eq,s,{headers:{"Content-Type":"multipart/form-data"}});this.registerRequest.status="resolved",this.registerRequest.code=a.status,this.registerRequest.error=null,this.registerRequest.errorMSG=null}catch(a){throw this.registerRequest.status="rejected",this.registerRequest.error=a,this.registerRequest.errorMSG=a.message,a}}async function rq(){Xs.remove("access"),Xs.set("refresh","null"),jt().addToast({type:"info",title:"Successfully logged out",message:""})}const Si=ki("auth",{state:()=>({isAuthenticated:!1,firstName:null,lastName:null,email:null,dateJoined:null,institution:null,isAdmin:null,role:null,profilePicture:null,phoneNumber:null,programOfStudy:null,competitions:[],userDataRequest:{status:null,code:null,error:null,errorMSG:null},registerRequest:{status:null,code:null,error:null,errorMSG:null},signInRequest:{status:null,code:null,error:null,errorMSG:null},passwordResetRequest:{status:null,code:null,error:null,errorMSG:null}}),getters:{user:t=>({firstName:t.firstName,lastName:t.lastName,email:t.email,dateJoined:t.dateJoined,institution:t.institution,isAdmin:t.isAdmin,role:t.role,profilePicture:t.profilePicture,competitions:t.competitions,programOfStudy:t.programOfStudy}),wins:t=>({golds:t.competitions.reduce((e,r)=>r.result==="Won"?1:0,0),silvers:t.competitions.reduce((e,r)=>r.result==="2nd Place"?1:0,0),bronzes:t.competitions.reduce((e,r)=>r.result==="Semifinalist"?1:0,0)})},actions:{getProfileData:ZU,requestLogin:QU,requestSignUp:tq,logout:rq,resetStore(){this.isAuthenticated=!1,this.firstName=null,this.lastName=null,this.email=null,this.dateJoined=null,this.institution=null,this.isAdmin=null,this.profilePicture=null,this.phoneNumber=null,this.programOfStudy=null,this.competitions=[]},async resetPassword(t,e){this.passwordResetRequest={status:"pending",code:null,error:null,errorMSG:null};try{const r=await en.post("/reset-password-confirm/",{token:e,new_password:t});jt().addToast({type:"success",title:"Password successfuly reset",message:""}),this.passwordResetRequest={status:"resolved",code:r.status,error:null,errorMSG:null}}catch(r){throw jt().addToast({type:"error",title:"could not reset password",message:"try again."}),this.passwordResetRequest={status:"resolved",code:r.status,error:r,errorMSG:r.message},r}}}}),iq={class:"fixed top-0 w-full px-[1rem] lg:px-[2rem] xl:px-[10vw] font-body z-30 h-[8rem] lg:h-[10rem] text-secondary py-4"},nq={class:"w-full h-full bg-screenBlack lg:bg-pearl-white lg:bg-opacity-90 lg:backdrop-blur-sm rounded-xl lg:rounded-3xl shadow-md px-8 lg:px-6"},sq={class:"relative h-full flex items-center"},aq={class:"fixed left-[1.5rem] top-[1.5rem] h-[5rem] w-[5rem] lg:hidden flex z-[500] p-[1rem]"},oq={class:"absolute left-0 h-full hidden lg:flex"},lq={class:"hidden lg:flex absolute right-[max(50%,60rem)] translate-x-[50%] justify-center items-center gap-[2rem] lg:text-body"},uq={key:0,class:"rounded-2xl absolute z-[50] left-[50%] -translate-x-[50%] top-[100%] bg-pearl-white shadow-sm flex flex-col py-[1rem]"},cq={class:"hidden lg:flex absolute right-0 items-center gap-[2rem] text-body"},dq={class:"flex lg:hidden absolute right-0 items-center gap-[2rem] text-body"},hq={class:"hidden lg:flex absolute right-0 items-center gap-[2rem] text-body"},pq={class:"flex lg:hidden absolute right-0 items-center gap-[2rem] text-body"},fq={key:0,width:"45",height:"43",viewBox:"0 0 45 43",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},mq={key:1,class:"relative w-full h-full flex justify-center items-center"},gq={class:"relative z-[2] w-[90%] aspect-square overflow-hidden [clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)] [-webkit-clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)]"},yq=["src"],vq=st({__name:"Header",emits:["switchMenuVisibility"],setup(t,{emit:e}){const r=B0(),{shouldMobileMenuBeVisible:i}=Ur(r),n=e,s=Si(),{logout:a,getProfileData:o}=s,{isAuthenticated:l,profilePicture:u}=Ur(s),c=Fu(),d=async()=>{await a(),await o(),c.push("/")},h=Xe(!1);return document.addEventListener("click",()=>{h.value=!1}),(f,g)=>{const y=yn("RouterLink");return X(),ne("div",iq,[m("div",nq,[m("div",sq,[(X(),Ot(tT,{to:"body"},[m("div",aq,[ye(XU,{"is-menu-visible":P(i),onToggleMenuVisibility:g[0]||(g[0]=C=>n("switchMenuVisibility")),class:"h-[3rem] w-[3rem]"},null,8,["is-menu-visible"])])])),m("div",oq,[ye(y,{to:"/",class:"relative flex justify-center items-center h-full"},{default:We(()=>g[3]||(g[3]=[m("div",{class:"p-3"},[m("svg",{width:"69",height:"68",viewBox:"0 0 69 68",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full aspect-square"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M59.4828 33.7849L51.3108 54.5169L25.3814 58.3861L9.06592 37.8652L13.2027 27.3704C14.3404 27.2488 15.5733 27.1797 16.906 27.1797C22.0917 27.1797 26.0562 28.9823 30.2511 30.8896C34.9633 33.0321 39.9662 35.3068 47.3172 35.3068C52.2665 35.3068 56.3178 34.6415 59.4828 33.7849Z",fill:"#FBC151"}),m("path",{d:"M19.7919 14.8718L43.9564 11.266L59.1614 30.3902L50.2019 53.1202L26.0374 56.726L10.8324 37.6018L19.7919 14.8718Z",stroke:"#001D37","stroke-width":"3.09071"}),m("path",{d:"M1.70068 31.8987C1.70068 31.8987 5.89532 27.1797 16.9062 27.1797C27.9172 27.1797 33.4226 35.3068 47.3174 35.3068C61.2121 35.3068 68.0284 30.0635 68.0284 30.0635",stroke:"#001D37","stroke-width":"3.09071"})])],-1)])),_:1})]),m("div",lq,[ye(y,{to:"/games",class:"hover:bg-screenBlack-400 hover:bg-opacity-15 transition-all duration-100 px-[1.5rem] py-[0.8rem] rounded-2xl cursor-pointer relative after:absolute after:right-[-0.5rem] after:top-[-0.3rem] after:text-red after:text-text-sm after:font-semibold after:bg-red-200 after:bg-opacity-25 after:rounded-md after:px-[0.5rem] after:content-['new']"},{default:We(()=>g[4]||(g[4]=[tt("games")])),_:1}),ye(y,{to:"/events",class:"hover:bg-screenBlack-400 hover:bg-opacity-15 transition-all duration-100 px-[1.5rem] py-[0.8rem] rounded-2xl cursor-pointer"},{default:We(()=>g[5]||(g[5]=[tt("events")])),_:1}),ye(y,{to:"/news",class:"hover:bg-screenBlack-400 hover:bg-opacity-15 transition-all duration-100 px-[1.5rem] py-[0.8rem] rounded-2xl"},{default:We(()=>g[6]||(g[6]=[tt("news")])),_:1}),m("button",{onClick:g[1]||(g[1]=C=>{C.stopPropagation(),h.value=!h.value}),class:"hover:bg-screenBlack-400 hover:bg-opacity-15 transition-all duration-100 px-[1.5rem] py-[0.8rem] rounded-2xl relative",tabindex:"0"},[g[9]||(g[9]=m("p",null,"other ▾",-1)),h.value?(X(),ne("div",uq,[ye(y,{to:"/contact",class:"h-[4rem] flex justify-center items-center px-[2rem] hover:bg-screenBlack-400 hover:bg-opacity-15 transition-all duration-100"},{default:We(()=>g[7]||(g[7]=[tt("contact")])),_:1}),ye(y,{to:"/rankings",class:"h-[4rem] flex justify-center items-center px-[2rem] hover:bg-screenBlack-400 hover:bg-opacity-15 transition-all duration-100"},{default:We(()=>g[8]||(g[8]=[tt("rankings")])),_:1})])):je("",!0)])]),P(l)?je("",!0):(X(),ne(yt,{key:0},[m("div",cq,[ye(y,{to:"/sign_in",class:"px-[2.4rem] py-[1rem] rounded-2xl text-pearl-white bg-[#F5B338] font-semibold transition-all duration-100 outline-transparent hover:lg:outline-primary-50 outline-4 outline"},{default:We(()=>g[10]||(g[10]=[tt(" Sign in ")])),_:1}),ye(y,{to:"/sign_up",class:"px-[2.4rem] py-[1rem] h-max w-max hover:bg-screenBlack-400 hover:bg-opacity-15 rounded-2xl signUpBtn"},{default:We(()=>g[11]||(g[11]=[m("p",{class:"relative"},"Sign up",-1)])),_:1})]),m("div",dq,[ye(y,{to:"/sign_in",class:"relative h-[4rem] aspect-square"},{default:We(()=>g[12]||(g[12]=[m("svg",{width:"45",height:"43",viewBox:"0 0 45 43",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40254 24.0217L10.2674 5.35599L30.3648 2.83425L42.5974 18.9783L37.1086 32.005V31.958C37.1086 31.2435 36.7274 30.5833 36.1086 30.226L24.2332 23.3698C23.6144 23.0125 22.852 23.0125 22.2332 23.3698L10.3579 30.226C9.73907 30.5833 9.35787 31.2435 9.35787 31.958V33.201L2.40254 24.0217ZM9.75597 36.9234L0.539109 24.7595C0.323346 24.4747 0.275887 24.0965 0.414609 23.7673L8.69674 4.11108C8.83547 3.78185 9.1393 3.55163 9.49378 3.50715L30.6576 0.851605C31.0121 0.807124 31.3634 0.955141 31.5791 1.23989L44.4608 18.2405C44.6766 18.5253 44.724 18.9035 44.5853 19.2327L36.9516 37.3498L36.5273 38.3569L36.3032 38.8889C36.1645 39.2181 35.8606 39.4484 35.5061 39.4928L34.9398 39.5639C34.9376 39.5642 34.9354 39.5645 34.9332 39.5647L14.9151 42.0765C14.9127 42.0768 14.9102 42.0771 14.9077 42.0775L14.3423 42.1484C13.9878 42.1929 13.6366 42.0449 13.4208 41.7601L13.0799 41.3102C13.0773 41.3068 13.0747 41.3034 13.0721 41.2999L9.76379 36.9338C9.76117 36.9304 9.75856 36.9269 9.75597 36.9234ZM22.2333 9.90211C22.8521 9.54484 23.6145 9.54484 24.2333 9.90211L28.065 12.1143C28.6838 12.4716 29.065 13.1318 29.065 13.8464V18.2708C29.065 18.9853 28.6838 19.6456 28.065 20.0028L24.2333 22.2151C23.6145 22.5723 22.8521 22.5723 22.2333 22.2151L18.4016 20.0028C17.7828 19.6456 17.4016 18.9853 17.4016 18.2708V13.8464C17.4016 13.1318 17.7828 12.4716 18.4016 12.1143L22.2333 9.90211Z",fill:"#FBC151"})],-1)])),_:1})])],64)),P(l)?(X(),ne(yt,{key:1},[m("div",hq,[ye(y,{to:"/myprofile",class:"px-[2.4rem] py-[1rem] h-max w-max hover:bg-screenBlack-400 hover:bg-opacity-15 rounded-2xl signUpBtn"},{default:We(()=>g[13]||(g[13]=[m("p",{class:"relative"},"profile",-1)])),_:1}),m("button",{onClick:g[2]||(g[2]=(...C)=>d&&d(...C)),class:"px-[2.4rem] py-[1rem] h-max w-max hover:bg-screenBlack-400 hover:bg-opacity-15 rounded-2xl signUpBtn"},g[14]||(g[14]=[m("p",{class:"relative"},"log out",-1)]))]),m("div",pq,[ye(y,{to:"/myprofile",class:"relative h-[4rem] aspect-square"},{default:We(()=>[P(u)?je("",!0):(X(),ne("svg",fq,g[15]||(g[15]=[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40254 24.0217L10.2674 5.35599L30.3648 2.83425L42.5974 18.9783L37.1086 32.005V31.958C37.1086 31.2435 36.7274 30.5833 36.1086 30.226L24.2332 23.3698C23.6144 23.0125 22.852 23.0125 22.2332 23.3698L10.3579 30.226C9.73907 30.5833 9.35787 31.2435 9.35787 31.958V33.201L2.40254 24.0217ZM9.75597 36.9234L0.539109 24.7595C0.323346 24.4747 0.275887 24.0965 0.414609 23.7673L8.69674 4.11108C8.83547 3.78185 9.1393 3.55163 9.49378 3.50715L30.6576 0.851605C31.0121 0.807124 31.3634 0.955141 31.5791 1.23989L44.4608 18.2405C44.6766 18.5253 44.724 18.9035 44.5853 19.2327L36.9516 37.3498L36.5273 38.3569L36.3032 38.8889C36.1645 39.2181 35.8606 39.4484 35.5061 39.4928L34.9398 39.5639C34.9376 39.5642 34.9354 39.5645 34.9332 39.5647L14.9151 42.0765C14.9127 42.0768 14.9102 42.0771 14.9077 42.0775L14.3423 42.1484C13.9878 42.1929 13.6366 42.0449 13.4208 41.7601L13.0799 41.3102C13.0773 41.3068 13.0747 41.3034 13.0721 41.2999L9.76379 36.9338C9.76117 36.9304 9.75856 36.9269 9.75597 36.9234ZM22.2333 9.90211C22.8521 9.54484 23.6145 9.54484 24.2333 9.90211L28.065 12.1143C28.6838 12.4716 29.065 13.1318 29.065 13.8464V18.2708C29.065 18.9853 28.6838 19.6456 28.065 20.0028L24.2333 22.2151C23.6145 22.5723 22.8521 22.5723 22.2333 22.2151L18.4016 20.0028C17.7828 19.6456 17.4016 18.9853 17.4016 18.2708V13.8464C17.4016 13.1318 17.7828 12.4716 18.4016 12.1143L22.2333 9.90211Z",fill:"#FBC151"},null,-1)]))),P(u)?(X(),ne("div",mq,[m("div",gq,[m("img",{src:P(u),alt:"profile picture",class:"w-full h-full object-cover"},null,8,yq)]),g[16]||(g[16]=m("div",{class:"w-full h-full top-0 left-0 bg-primary absolute z-[1] [clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)] [-webkit-clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)]"},null,-1))])):je("",!0)]),_:1}),m("button",{onClick:d,class:"relative h-[4rem] aspect-square"},g[17]||(g[17]=[m("svg",{width:"42",height:"43",viewBox:"0 0 42 43",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.33362 12.8257L24.7014 1.95364L23.8585 0.21936L1.49067 11.0914C0.500216 11.5728 -0.0546888 12.6492 0.127692 13.7352L4.12639 37.5467C4.30877 38.6327 5.18484 39.4688 6.27821 39.6003L30.9704 42.5694L31.2006 40.6549L6.50842 37.6858C6.26433 37.6564 6.06876 37.4698 6.02804 37.2273L2.02935 13.4159C1.98863 13.1734 2.11251 12.9331 2.33362 12.8257ZM27.2481 13.8903L36.8813 21.7174H11.7123V23.6457H36.8813L27.2481 31.4727L28.464 32.9693L40.2049 23.4298L41.1259 22.6815L40.2049 21.9332L28.464 12.3938L27.2481 13.8903Z",fill:"#FBC151"})],-1)]))])],64)):je("",!0)])])])}}}),bq=uo(vq,[["__scopeId","data-v-c12127da"]]),xq={class:"w-full bg-screenBlack px-[2rem] lg:px-[12rem] xl:px-[10vw]"},_q={class:"w-full flex flex-col gap-[8rem] lg:gap-0 lg:grid lg:grid-cols-[2fr_3fr] py-[4rem]"},wq={class:"flex justify-center lg:justify-start items-center"},Sq={class:"flex flex-col gap-[2rem] text-center lg:text-left font-body text-pearl-white text-body lg:text-body"},Cq={class:"w-full flex flex-col gap-[4rem] lg:gap-0 lg:flex-row flex-wrap justify-center lg:justify-between text-pearl-white text-body lg:text-body py-[5rem]"},kq={class:"flex justify-between lg:justify-end gap-[4rem]"},PE=st({__name:"Footer",setup(t){const{isAuthenticated:e}=Si();return(r,i)=>{const n=yn("RouterLink");return X(),ne("div",xq,[i[11]||(i[11]=m("div",{class:"w-full py-[5rem]"},[m("div",{class:"w-full h-[3px] bg-pearl-white"})],-1)),m("div",_q,[m("div",wq,[m("ul",Sq,[m("li",null,[ye(n,{to:"/",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:We(()=>i[0]||(i[0]=[tt(" Home ")])),_:1})]),m("li",null,[ye(n,{to:"/events",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:We(()=>i[1]||(i[1]=[tt(" Events ")])),_:1})]),m("li",null,[ye(n,{to:"/news",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:We(()=>i[2]||(i[2]=[tt(" News ")])),_:1})]),m("li",null,[ye(n,{to:"/contact",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:We(()=>i[3]||(i[3]=[tt(" Contact ")])),_:1})]),P(e)?je("",!0):(X(),ne(yt,{key:0},[m("li",null,[ye(n,{to:"/sign_in",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:We(()=>i[4]||(i[4]=[tt(" Sign in ")])),_:1})]),m("li",null,[ye(n,{to:"/sign_up",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:We(()=>i[5]||(i[5]=[tt(" Sign up ")])),_:1})])],64))])]),i[6]||(i[6]=sa('<div class="w-full flex items-center justify-center lg:justify-end"><div class="flex flex-col items-end text-pearl-white"><p class="font-heading text-subtitle lg:text-title"> Integration Bee </p><p class="font-heading text-primary text-body lg:text-subtitle"> Austria </p><p class="font-body text-body lg:text-subtitle text-right"> come integrate <br> and bee integrated </p></div></div>',1))]),m("div",Cq,[i[9]||(i[9]=m("div",{class:"hidden lg:flex"},[m("p",null,"© 2024 JugendWAVE All Rights Reserved.")],-1)),m("div",kq,[ye(n,{to:"/imprint",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:-bottom-[2px] after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:We(()=>i[7]||(i[7]=[tt(" impressum ")])),_:1}),ye(n,{to:"/terms_of_use",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:-bottom-[2px] after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:We(()=>i[8]||(i[8]=[tt(" terms of use ")])),_:1})]),i[10]||(i[10]=m("div",{class:"lg:hidden flex"},[m("p",{class:"text-center"},"© 2024 JugendWAVE All Rights Reserved.")],-1))]),i[12]||(i[12]=m("div",{class:"w-full flex justify-center items-center text-pearl-white-50 text-body text-center lg:text-body font-body py-[4rem]"},[m("p",null,[tt(" this page was created by "),m("a",{href:"https://www.formamind.com",target:"_blank",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:-bottom-[2px] after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"}," Formamind ")])],-1))])}}}),Fn=st({__name:"Default",setup(t){const e=B0(),{shouldMobileMenuBeVisible:r,isMobileMenuVisible:i}=Ur(e);function n(){r.value===i.value&&(e.shouldMobileMenuBeVisible=!r.value,r.value&&(document.getElementsByTagName("body")[0].style.overflowY="hidden"))}return(s,a)=>(X(),ne("div",null,[(X(),Ot(lT,null,[ye(bq,{onSwitchMenuVisibility:n})],1024)),Bg(s.$slots,"default"),ye(PE)]))}});var Ya=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Hv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),r}var Jd;typeof window<"u"?Jd=window:typeof Ya<"u"?Jd=Ya:typeof self<"u"?Jd=self:Jd={};var Kg=Jd;const H=Nu(Kg),Tq={},Eq=Object.freeze(Object.defineProperty({__proto__:null,default:Tq},Symbol.toStringTag,{value:"Module"})),Aq=Hv(Eq);var Z7=typeof Ya<"u"?Ya:typeof window<"u"?window:{},Mq=Aq,Qd;typeof document<"u"?Qd=document:(Qd=Z7["__GLOBAL_DOCUMENT_CACHE@4"],Qd||(Qd=Z7["__GLOBAL_DOCUMENT_CACHE@4"]=Mq));var IE=Qd;const Pe=Nu(IE);var Kv={exports:{}};function Br(){return Br=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Br.apply(null,arguments)}const Dq=Object.freeze(Object.defineProperty({__proto__:null,get default(){return Br}},Symbol.toStringTag,{value:"Module"})),Lq=Hv(Dq);var Bq=Iq,Pq=Object.prototype.toString;function Iq(t){if(!t)return!1;var e=Pq.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function Rq(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=Oq(t))||e){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oq(t,e){if(t){if(typeof t=="string")return J7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J7(t,e)}}function J7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var Fq=function(){function t(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},e.addInterceptor=function(i,n){this.typeToInterceptorsMap_.has(i)||this.typeToInterceptorsMap_.set(i,new Set);var s=this.typeToInterceptorsMap_.get(i);return s.has(n)?!1:(s.add(n),!0)},e.removeInterceptor=function(i,n){var s=this.typeToInterceptorsMap_.get(i);return s&&s.has(n)?(s.delete(n),!0):!1},e.clearInterceptorsByType=function(i){var n=this.typeToInterceptorsMap_.get(i);return n?(this.typeToInterceptorsMap_.delete(i),this.typeToInterceptorsMap_.set(i,new Set),!0):!1},e.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},e.getForType=function(i){return this.typeToInterceptorsMap_.get(i)||new Set},e.execute=function(i,n){for(var s=this.getForType(i),a=Rq(s),o;!(o=a()).done;){var l=o.value;try{n=l(n)}catch{}}return n},t}(),Nq=Fq,$q=function(){function t(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},e.getMaxAttempts=function(){return this.maxAttempts_},e.setMaxAttempts=function(i){this.maxAttempts_=i},e.getDelayFactor=function(){return this.delayFactor_},e.setDelayFactor=function(i){this.delayFactor_=i},e.getFuzzFactor=function(){return this.fuzzFactor_},e.setFuzzFactor=function(i){this.fuzzFactor_=i},e.getInitialDelay=function(){return this.initialDelay_},e.setInitialDelay=function(i){this.initialDelay_=i},e.createRetry=function(i){var n=i===void 0?{}:i,s=n.maxAttempts,a=n.delayFactor,o=n.fuzzFactor,l=n.initialDelay;return new zq({maxAttempts:s||this.maxAttempts_,delayFactor:a||this.delayFactor_,fuzzFactor:o||this.fuzzFactor_,initialDelay:l||this.initialDelay_})},t}(),zq=function(){function t(r){this.maxAttempts_=r.maxAttempts,this.delayFactor_=r.delayFactor,this.fuzzFactor_=r.fuzzFactor,this.currentDelay_=r.initialDelay,this.currentAttempt_=1}var e=t.prototype;return e.moveToNextAttempt=function(){this.currentAttempt_++;var i=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+i},e.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},e.getCurrentDelay=function(){return this.currentDelay_},e.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},e.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},e.getCurrentFuzzedDelay=function(){var i=this.getCurrentMinPossibleDelay(),n=this.getCurrentMaxPossibleDelay();return i+Math.random()*(n-i)},t}(),Uq=$q,qq=Kg,jq=function(e,r){return r===void 0&&(r=!1),function(i,n,s){if(i){e(i);return}if(n.statusCode>=400&&n.statusCode<=599){var a=s;if(r)if(qq.TextDecoder){var o=Vq(n.headers&&n.headers["content-type"]);try{a=new TextDecoder(o).decode(s)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:a});return}e(null,s)}};function Vq(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,r){var i=r.split("="),n=i[0],s=i[1];return n.trim()==="charset"?s.trim():e},"utf-8")}var Hq=jq,RE=Kg,Kq=Lq,Wq=Bq,OE=Nq,Gq=Uq;Or.httpHandler=Hq;Or.requestInterceptorsStorage=new OE;Or.responseInterceptorsStorage=new OE;Or.retryManager=new Gq;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var Xq=function(e){var r={};return e&&e.trim().split(`
`).forEach(function(i){var n=i.indexOf(":"),s=i.slice(0,n).trim().toLowerCase(),a=i.slice(n+1).trim();typeof r[s]>"u"?r[s]=a:Array.isArray(r[s])?r[s].push(a):r[s]=[r[s],a]}),r};Kv.exports=Or;Kv.exports.default=Or;Or.XMLHttpRequest=RE.XMLHttpRequest||Qq;Or.XDomainRequest="withCredentials"in new Or.XMLHttpRequest?Or.XMLHttpRequest:RE.XDomainRequest;Yq(["get","put","post","patch","head","delete"],function(t){Or[t==="delete"?"del":t]=function(e,r,i){return r=FE(e,r,i),r.method=t.toUpperCase(),Wv(r)}});function Yq(t,e){for(var r=0;r<t.length;r++)e(t[r])}function Zq(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function FE(t,e,r){var i=t;return Wq(e)?(r=e,typeof t=="string"&&(i={uri:t})):i=Kq({},e,{uri:t}),i.callback=r,i}function Or(t,e,r){return e=FE(t,e,r),Wv(e)}function Wv(t){if(typeof t.callback>"u")throw new Error("callback argument missing");if(t.requestType&&Or.requestInterceptorsStorage.getIsEnabled()){var e={uri:t.uri||t.url,headers:t.headers||{},body:t.body,metadata:t.metadata||{},retry:t.retry,timeout:t.timeout},r=Or.requestInterceptorsStorage.execute(t.requestType,e);t.uri=r.uri,t.headers=r.headers,t.body=r.body,t.metadata=r.metadata,t.retry=r.retry,t.timeout=r.timeout}var i=!1,n=function(D,B,F){i||(i=!0,t.callback(D,B,F))};function s(){u.readyState===4&&!Or.responseInterceptorsStorage.getIsEnabled()&&setTimeout(l,0)}function a(){var M=void 0;if(u.response?M=u.response:M=u.responseText||Jq(u),S)try{M=JSON.parse(M)}catch{}return M}function o(M){if(clearTimeout(A),clearTimeout(t.retryTimeout),M instanceof Error||(M=new Error(""+(M||"Unknown XMLHttpRequest Error"))),M.statusCode=0,!d&&Or.retryManager.getIsEnabled()&&t.retry&&t.retry.shouldRetry()){t.retryTimeout=setTimeout(function(){t.retry.moveToNextAttempt(),t.xhr=u,Wv(t)},t.retry.getCurrentFuzzedDelay());return}if(t.requestType&&Or.responseInterceptorsStorage.getIsEnabled()){var D={headers:T.headers||{},body:T.body,responseUrl:u.responseURL,responseType:u.responseType},B=Or.responseInterceptorsStorage.execute(t.requestType,D);T.body=B.body,T.headers=B.headers}return n(M,T)}function l(){if(!d){var M;clearTimeout(A),clearTimeout(t.retryTimeout),t.useXDR&&u.status===void 0?M=200:M=u.status===1223?204:u.status;var D=T,B=null;if(M!==0?(D={body:a(),statusCode:M,method:f,headers:{},url:h,rawRequest:u},u.getAllResponseHeaders&&(D.headers=Xq(u.getAllResponseHeaders()))):B=new Error("Internal XMLHttpRequest Error"),t.requestType&&Or.responseInterceptorsStorage.getIsEnabled()){var F={headers:D.headers||{},body:D.body,responseUrl:u.responseURL,responseType:u.responseType},V=Or.responseInterceptorsStorage.execute(t.requestType,F);D.body=V.body,D.headers=V.headers}return n(B,D,D.body)}}var u=t.xhr||null;u||(t.cors||t.useXDR?u=new Or.XDomainRequest:u=new Or.XMLHttpRequest);var c,d,h=u.url=t.uri||t.url,f=u.method=t.method||"GET",g=t.body||t.data,y=u.headers=t.headers||{},C=!!t.sync,S=!1,A,T={body:void 0,headers:{},statusCode:0,method:f,url:h,rawRequest:u};if("json"in t&&t.json!==!1&&(S=!0,y.accept||y.Accept||(y.Accept="application/json"),f!=="GET"&&f!=="HEAD"&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),g=JSON.stringify(t.json===!0?g:t.json))),u.onreadystatechange=s,u.onload=l,u.onerror=o,u.onprogress=function(){},u.onabort=function(){d=!0,clearTimeout(t.retryTimeout)},u.ontimeout=o,u.open(f,h,!C,t.username,t.password),C||(u.withCredentials=!!t.withCredentials),!C&&t.timeout>0&&(A=setTimeout(function(){if(!d){d=!0,u.abort("timeout");var M=new Error("XMLHttpRequest timeout");M.code="ETIMEDOUT",o(M)}},t.timeout)),u.setRequestHeader)for(c in y)y.hasOwnProperty(c)&&u.setRequestHeader(c,y[c]);else if(t.headers&&!Zq(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(u.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(u),u.send(g||null),u}function Jq(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function Qq(){}var ej=Kv.exports;const NE=Nu(ej);var $E={exports:{}},Q7=IE,Gv=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Dn(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Dn.prototype=Gv(Error.prototype);Dn.prototype.constructor=Dn;Dn.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Xv(t){function e(i,n,s,a){return(i|0)*3600+(n|0)*60+(s|0)+(a|0)/1e3}var r=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function mh(){this.values=Gv(null)}mh.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var i=0;i<r.length;++i)if(e===r[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function eh(t,e,r,i){var n=i?t.split(i):[t];for(var s in n)if(typeof n[s]=="string"){var a=n[s].split(r);if(a.length===2){var o=a[0].trim(),l=a[1].trim();e(o,l)}}}function tj(t,e,r){var i=t;function n(){var o=Xv(t);if(o===null)throw new Dn(Dn.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function s(o,l){var u=new mh;eh(o,function(c,d){switch(c){case"region":for(var h=r.length-1;h>=0;h--)if(r[h].id===d){u.set(c,r[h].region);break}break;case"vertical":u.alt(c,d,["rl","lr"]);break;case"line":var f=d.split(","),g=f[0];u.integer(c,g),u.percent(c,g)&&u.set("snapToLines",!1),u.alt(c,g,["auto"]),f.length===2&&u.alt("lineAlign",f[1],["start","center","end"]);break;case"position":f=d.split(","),u.percent(c,f[0]),f.length===2&&u.alt("positionAlign",f[1],["start","center","end"]);break;case"size":u.percent(c,d);break;case"align":u.alt(c,d,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=n(),a(),t.substr(0,3)!=="-->")throw new Dn(Dn.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);t=t.substr(3),a(),e.endTime=n(),a(),s(t,e)}var E4=Q7.createElement&&Q7.createElement("textarea"),rj={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},ex={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},ij={v:"title",lang:"lang"},tx={rt:"ruby"};function zE(t,e){function r(){if(!e)return null;function g(C){return e=e.substr(C.length),C}var y=e.match(/^([^<]*)(<[^>]*>?)?/);return g(y[1]?y[1]:y[2])}function i(g){return E4.innerHTML=g,g=E4.textContent,E4.textContent="",g}function n(g,y){return!tx[y.localName]||tx[y.localName]===g.localName}function s(g,y){var C=rj[g];if(!C)return null;var S=t.document.createElement(C),A=ij[g];return A&&y&&(S[A]=y.trim()),S}for(var a=t.document.createElement("div"),o=a,l,u=[];(l=r())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),o=o.parentNode);continue}var c=Xv(l.substr(1,l.length-2)),d;if(c){d=t.document.createProcessingInstruction("timestamp",c),o.appendChild(d);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(d=s(h[1],h[3]),!d)||!n(o,d))continue;if(h[2]){var f=h[2].split(".");f.forEach(function(g){var y=/^bg_/.test(g),C=y?g.slice(3):g;if(ex.hasOwnProperty(C)){var S=y?"background-color":"color",A=ex[C];d.style[S]=A}}),d.className=f.join(" ")}u.push(h[1]),o.appendChild(d),o=d;continue}o.appendChild(t.document.createTextNode(i(l)))}return a}var rx=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function nj(t){for(var e=0;e<rx.length;e++){var r=rx[e];if(t>=r[0]&&t<=r[1])return!0}return!1}function sj(t){var e=[],r="",i;if(!t||!t.childNodes)return"ltr";function n(o,l){for(var u=l.childNodes.length-1;u>=0;u--)o.push(l.childNodes[u])}function s(o){if(!o||!o.length)return null;var l=o.pop(),u=l.textContent||l.innerText;if(u){var c=u.match(/^.*(\n|\r)/);return c?(o.length=0,c[0]):u}if(l.tagName==="ruby")return s(o);if(l.childNodes)return n(o,l),s(o)}for(n(e,t);r=s(e);)for(var a=0;a<r.length;a++)if(i=r.charCodeAt(a),nj(i))return"rtl";return"ltr"}function aj(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,r=e.textTrackList,i=0,n=0;n<r.length&&r[n]!==e;n++)r[n].mode==="showing"&&i++;return++i*-1}function Wg(){}Wg.prototype.applyStyles=function(t,e){e=e||this.div;for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r])};Wg.prototype.formatStyle=function(t,e){return t===0?0:t+e};function T1(t,e,r){Wg.call(this),this.cue=e,this.cueDiv=zE(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:sj(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var n=0;switch(e.positionAlign){case"start":case"line-left":n=e.position;break;case"center":n=e.position-e.size/2;break;case"end":case"line-right":n=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(n,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(n,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}T1.prototype=Gv(Wg.prototype);T1.prototype.constructor=T1;function Xi(t){var e,r,i,n;if(t.div){r=t.div.offsetHeight,i=t.div.offsetWidth,n=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||n,this.height=t.height||r,this.bottom=t.bottom||n+(t.height||r),this.width=t.width||i,this.lineHeight=e!==void 0?e:t.lineHeight}Xi.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Xi.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};Xi.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};Xi.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};Xi.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};Xi.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),r=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),i=e*r;return i/(this.height*this.width)};Xi.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};Xi.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,r=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var n={left:t.left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||r};return n};function oj(t,e,r,i){function n(C,S){for(var A,T=new Xi(C),M=1,D=0;D<S.length;D++){for(;C.overlapsOppositeAxis(r,S[D])||C.within(r)&&C.overlapsAny(i);)C.move(S[D]);if(C.within(r))return C;var B=C.intersectPercentage(r);M>B&&(A=new Xi(C),M=B),C=new Xi(T)}return A||T}var s=new Xi(e),a=e.cue,o=aj(a),l=[];if(a.snapToLines){var u;switch(a.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=s.lineHeight,d=c*Math.round(o),h=r[u]+c,f=l[0];Math.abs(d)>h&&(d=d<0?-1:1,d*=Math.ceil(h/c)*c),o<0&&(d+=a.vertical===""?r.height:r.width,l=l.reverse()),s.move(f,d)}else{var g=s.lineHeight/r.height*100;switch(a.lineAlign){case"center":o-=g/2;break;case"end":o-=g;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],s=new Xi(e)}var y=n(s,l);e.move(y.toCSSCompatValues(r))}function R0(){}R0.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};R0.convertCueToDOMTree=function(t,e){return!t||!e?null:zE(t,e)};var lj=.05,uj="sans-serif",cj="1.5%";R0.processCues=function(t,e,r){if(!t||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var i=t.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=cj,r.appendChild(i);function n(c){for(var d=0;d<c.length;d++)if(c[d].hasBeenReset||!c[d].displayState)return!0;return!1}if(!n(e)){for(var s=0;s<e.length;s++)i.appendChild(e[s].displayState);return}var a=[],o=Xi.getSimpleBoxPosition(i),l=Math.round(o.height*lj*100)/100,u={font:l+"px "+uj};(function(){for(var c,d,h=0;h<e.length;h++)d=e[h],c=new T1(t,d,u),i.appendChild(c.div),oj(t,c,o,a),d.displayState=c.div,a.push(Xi.getSimpleBoxPosition(c))})()};R0.Parser=function(t,e,r){r||(r=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]};R0.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Dn)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function r(){for(var c=e.buffer,d=0;d<c.length&&c[d]!=="\r"&&c[d]!==`
`;)++d;var h=c.substr(0,d);return c[d]==="\r"&&++d,c[d]===`
`&&++d,e.buffer=c.substr(d),h}function i(c){var d=new mh;if(eh(c,function(f,g){switch(f){case"id":d.set(f,g);break;case"width":d.percent(f,g);break;case"lines":d.integer(f,g);break;case"regionanchor":case"viewportanchor":var y=g.split(",");if(y.length!==2)break;var C=new mh;if(C.percent("x",y[0]),C.percent("y",y[1]),!C.has("x")||!C.has("y"))break;d.set(f+"X",C.get("x")),d.set(f+"Y",C.get("y"));break;case"scroll":d.alt(f,g,["up"]);break}},/=/,/\s/),d.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=d.get("width",100),h.lines=d.get("lines",3),h.regionAnchorX=d.get("regionanchorX",0),h.regionAnchorY=d.get("regionanchorY",100),h.viewportAnchorX=d.get("viewportanchorX",0),h.viewportAnchorY=d.get("viewportanchorY",100),h.scroll=d.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:d.get("id"),region:h})}}function n(c){var d=new mh;eh(c,function(h,f){switch(h){case"MPEGT":d.integer(h+"S",f);break;case"LOCA":d.set(h+"L",Xv(f));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:d.get("MPEGTS"),LOCAL:d.get("LOCAL")})}function s(c){c.match(/X-TIMESTAMP-MAP/)?eh(c,function(d,h){switch(d){case"X-TIMESTAMP-MAP":n(h);break}},/=/):eh(c,function(d,h){switch(d){case"Region":i(h);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=r();var o=a.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Dn(Dn.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:a=r(),e.state){case"HEADER":/:/.test(a)?s(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{tj(a,e.cue,e.regionList)}catch(c){e.reportOrThrowError(c),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=a.indexOf("-->")!==-1;if(!a||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(c){e.reportOrThrowError(c),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Dn(Dn.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var dj=R0,hj="auto",pj={"":1,lr:1,rl:1},fj={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function mj(t){if(typeof t!="string")return!1;var e=pj[t.toLowerCase()];return e?t.toLowerCase():!1}function A4(t){if(typeof t!="string")return!1;var e=fj[t.toLowerCase()];return e?t.toLowerCase():!1}function UE(t,e,r){this.hasBeenReset=!1;var i="",n=!1,s=t,a=e,o=r,l=null,u="",c=!0,d="auto",h="start",f="auto",g="auto",y=100,C="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(S){i=""+S}},pauseOnExit:{enumerable:!0,get:function(){return n},set:function(S){n=!!S}},startTime:{enumerable:!0,get:function(){return s},set:function(S){if(typeof S!="number")throw new TypeError("Start time must be set to a number.");s=S,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(S){if(typeof S!="number")throw new TypeError("End time must be set to a number.");a=S,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(S){o=""+S,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(S){l=S,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(S){var A=mj(S);if(A===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=A,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(S){c=!!S,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(S){if(typeof S!="number"&&S!==hj)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=S,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(S){var A=A4(S);A?(h=A,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return f},set:function(S){if(S<0||S>100)throw new Error("Position must be between 0 and 100.");f=S,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(S){var A=A4(S);A?(g=A,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return y},set:function(S){if(S<0||S>100)throw new Error("Size must be between 0 and 100.");y=S,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return C},set:function(S){var A=A4(S);if(!A)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");C=A,this.hasBeenReset=!0}}}),this.displayState=void 0}UE.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var gj=UE,yj={"":!0,up:!0};function vj(t){if(typeof t!="string")return!1;var e=yj[t.toLowerCase()];return e?t.toLowerCase():!1}function gd(t){return typeof t=="number"&&t>=0&&t<=100}function bj(){var t=100,e=3,r=0,i=100,n=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!gd(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(o){if(!gd(o))throw new Error("RegionAnchorX must be between 0 and 100.");i=o}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!gd(o))throw new Error("RegionAnchorY must be between 0 and 100.");r=o}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(o){if(!gd(o))throw new Error("ViewportAnchorY must be between 0 and 100.");s=o}},viewportAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!gd(o))throw new Error("ViewportAnchorX must be between 0 and 100.");n=o}},scroll:{enumerable:!0,get:function(){return a},set:function(o){var l=vj(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var xj=bj,Za=Kg,$u=$E.exports={WebVTT:dj,VTTCue:gj,VTTRegion:xj};Za.vttjs=$u;Za.WebVTT=$u.WebVTT;var _j=$u.VTTCue,wj=$u.VTTRegion,Sj=Za.VTTCue,Cj=Za.VTTRegion;$u.shim=function(){Za.VTTCue=_j,Za.VTTRegion=wj};$u.restore=function(){Za.VTTCue=Sj,Za.VTTRegion=Cj};Za.VTTCue||$u.shim();var kj=$E.exports;const ix=Nu(kj);var qE={exports:{}};(function(t,e){(function(r){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var d=o.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=o.normalizePath(d.path),o.buildURLFromParts(d)}var h=o.parseURL(u);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return c.alwaysNormalize?(h.path=o.normalizePath(h.path),o.buildURLFromParts(h)):u;var f=o.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");if(!f.netLoc&&f.path&&f.path[0]!=="/"){var g=n.exec(f.path);f.netLoc=g[1],f.path=g[2]}f.netLoc&&!f.path&&(f.path="/");var y={scheme:f.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(y.netLoc=f.netLoc,h.path[0]!=="/"))if(!h.path)y.path=f.path,h.params||(y.params=f.params,h.query||(y.query=f.query));else{var C=f.path,S=C.substring(0,C.lastIndexOf("/")+1)+h.path;y.path=o.normalizePath(S)}return y.path===null&&(y.path=c.alwaysNormalize?o.normalizePath(h.path):h.path),o.buildURLFromParts(y)},parseURL:function(l){var u=i.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=o})()})(qE);var Tj=qE.exports;const nx=Nu(Tj);var sx="http://example.com",Gg=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=H.location&&H.location.href||"");var i=typeof H.URL=="function",n=/^\/\//.test(e),s=!H.location&&!/\/\//i.test(e);if(i?e=new H.URL(e,H.location||sx):/\/\//i.test(e)||(e=nx.buildAbsoluteURL(H.location&&H.location.href||"",e)),i){var a=new URL(r,e);return s?a.href.slice(sx.length):n?a.href.slice(a.protocol.length):a.href}return nx.buildAbsoluteURL(e,r)},Yv=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(i,n){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(n)},e.off=function(i,n){if(!this.listeners[i])return!1;var s=this.listeners[i].indexOf(n);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(s,1),s>-1},e.trigger=function(i){var n=this.listeners[i];if(n)if(arguments.length===2)for(var s=n.length,a=0;a<s;++a)n[a].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=n.length,u=0;u<l;++u)n[u].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(n){i.push(n)})},t}(),Ej=function(e){return H.atob?H.atob(e):Buffer.from(e,"base64").toString("binary")};function Aj(t){for(var e=Ej(t),r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class Mj extends Yv{constructor(){super(),this.buffer=""}push(e){let r;for(this.buffer+=e,r=this.buffer.indexOf(`
`);r>-1;r=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,r)),this.buffer=this.buffer.substring(r+1)}}const Dj="	",M4=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),r={};return e[1]&&(r.length=parseInt(e[1],10)),e[2]&&(r.offset=parseInt(e[2],10)),r},Lj=function(){const r="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+r+")")},Ni=function(t){const e={};if(!t)return e;const r=t.split(Lj());let i=r.length,n;for(;i--;)r[i]!==""&&(n=/([^=]*)=(.*)/.exec(r[i]).slice(1),n[0]=n[0].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),e[n[0]]=n[1]);return e},ax=t=>{const e=t.split("x"),r={};return e[0]&&(r.width=parseInt(e[0],10)),e[1]&&(r.height=parseInt(e[1],10)),r};class Bj extends Yv{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let r,i;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((s,a)=>{const o=a(e);return o===e?s:s.concat([o])},[e]).forEach(s=>{for(let a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,s))return;if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),r=/^#EXTM3U/.exec(s),r){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(r=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(s),r){i={type:"tag",tagType:"inf"},r[1]&&(i.duration=parseFloat(r[1])),r[2]&&(i.title=r[2]),this.trigger("data",i);return}if(r=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(s),r){i={type:"tag",tagType:"targetduration"},r[1]&&(i.duration=parseInt(r[1],10)),this.trigger("data",i);return}if(r=/^#EXT-X-VERSION:([0-9.]*)?/.exec(s),r){i={type:"tag",tagType:"version"},r[1]&&(i.version=parseInt(r[1],10)),this.trigger("data",i);return}if(r=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(s),r){i={type:"tag",tagType:"media-sequence"},r[1]&&(i.number=parseInt(r[1],10)),this.trigger("data",i);return}if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(s),r){i={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(i.number=parseInt(r[1],10)),this.trigger("data",i);return}if(r=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(s),r){i={type:"tag",tagType:"playlist-type"},r[1]&&(i.playlistType=r[1]),this.trigger("data",i);return}if(r=/^#EXT-X-BYTERANGE:(.*)?$/.exec(s),r){i=Br(M4(r[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",i);return}if(r=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(s),r){i={type:"tag",tagType:"allow-cache"},r[1]&&(i.allowed=!/NO/.test(r[1])),this.trigger("data",i);return}if(r=/^#EXT-X-MAP:(.*)$/.exec(s),r){if(i={type:"tag",tagType:"map"},r[1]){const a=Ni(r[1]);a.URI&&(i.uri=a.URI),a.BYTERANGE&&(i.byterange=M4(a.BYTERANGE))}this.trigger("data",i);return}if(r=/^#EXT-X-STREAM-INF:(.*)$/.exec(s),r){i={type:"tag",tagType:"stream-inf"},r[1]&&(i.attributes=Ni(r[1]),i.attributes.RESOLUTION&&(i.attributes.RESOLUTION=ax(i.attributes.RESOLUTION)),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))),this.trigger("data",i);return}if(r=/^#EXT-X-MEDIA:(.*)$/.exec(s),r){i={type:"tag",tagType:"media"},r[1]&&(i.attributes=Ni(r[1])),this.trigger("data",i);return}if(r=/^#EXT-X-ENDLIST/.exec(s),r){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(r=/^#EXT-X-DISCONTINUITY/.exec(s),r){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(r=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(s),r){i={type:"tag",tagType:"program-date-time"},r[1]&&(i.dateTimeString=r[1],i.dateTimeObject=new Date(r[1])),this.trigger("data",i);return}if(r=/^#EXT-X-KEY:(.*)$/.exec(s),r){i={type:"tag",tagType:"key"},r[1]&&(i.attributes=Ni(r[1]),i.attributes.IV&&(i.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),this.trigger("data",i);return}if(r=/^#EXT-X-START:(.*)$/.exec(s),r){i={type:"tag",tagType:"start"},r[1]&&(i.attributes=Ni(r[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),this.trigger("data",i);return}if(r=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(s),r){i={type:"tag",tagType:"cue-out-cont"},r[1]?i.data=r[1]:i.data="",this.trigger("data",i);return}if(r=/^#EXT-X-CUE-OUT:(.*)?$/.exec(s),r){i={type:"tag",tagType:"cue-out"},r[1]?i.data=r[1]:i.data="",this.trigger("data",i);return}if(r=/^#EXT-X-CUE-IN:?(.*)?$/.exec(s),r){i={type:"tag",tagType:"cue-in"},r[1]?i.data=r[1]:i.data="",this.trigger("data",i);return}if(r=/^#EXT-X-SKIP:(.*)$/.exec(s),r&&r[1]){i={type:"tag",tagType:"skip"},i.attributes=Ni(r[1]),i.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(i.attributes["SKIPPED-SEGMENTS"]=parseInt(i.attributes["SKIPPED-SEGMENTS"],10)),i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(i.attributes["RECENTLY-REMOVED-DATERANGES"]=i.attributes["RECENTLY-REMOVED-DATERANGES"].split(Dj)),this.trigger("data",i);return}if(r=/^#EXT-X-PART:(.*)$/.exec(s),r&&r[1]){i={type:"tag",tagType:"part"},i.attributes=Ni(r[1]),["DURATION"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),["INDEPENDENT","GAP"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=/YES/.test(i.attributes[a]))}),i.attributes.hasOwnProperty("BYTERANGE")&&(i.attributes.byterange=M4(i.attributes.BYTERANGE)),this.trigger("data",i);return}if(r=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(s),r&&r[1]){i={type:"tag",tagType:"server-control"},i.attributes=Ni(r[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=/YES/.test(i.attributes[a]))}),this.trigger("data",i);return}if(r=/^#EXT-X-PART-INF:(.*)$/.exec(s),r&&r[1]){i={type:"tag",tagType:"part-inf"},i.attributes=Ni(r[1]),["PART-TARGET"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),this.trigger("data",i);return}if(r=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(s),r&&r[1]){i={type:"tag",tagType:"preload-hint"},i.attributes=Ni(r[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(a){if(i.attributes.hasOwnProperty(a)){i.attributes[a]=parseInt(i.attributes[a],10);const o=a==="BYTERANGE-LENGTH"?"length":"offset";i.attributes.byterange=i.attributes.byterange||{},i.attributes.byterange[o]=i.attributes[a],delete i.attributes[a]}}),this.trigger("data",i);return}if(r=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(s),r&&r[1]){i={type:"tag",tagType:"rendition-report"},i.attributes=Ni(r[1]),["LAST-MSN","LAST-PART"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseInt(i.attributes[a],10))}),this.trigger("data",i);return}if(r=/^#EXT-X-DATERANGE:(.*)$/.exec(s),r&&r[1]){i={type:"tag",tagType:"daterange"},i.attributes=Ni(r[1]),["ID","CLASS"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=String(i.attributes[o]))}),["START-DATE","END-DATE"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=new Date(i.attributes[o]))}),["DURATION","PLANNED-DURATION"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=parseFloat(i.attributes[o]))}),["END-ON-NEXT"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=/YES/i.test(i.attributes[o]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=i.attributes[o].toString(16))});const a=/^X-([A-Z]+-)+[A-Z]+$/;for(const o in i.attributes){if(!a.test(o))continue;const l=/[0-9A-Fa-f]{6}/g.test(i.attributes[o]),u=/^\d+(\.\d+)?$/.test(i.attributes[o]);i.attributes[o]=l?i.attributes[o].toString(16):u?parseFloat(i.attributes[o]):String(i.attributes[o])}this.trigger("data",i);return}if(r=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(s),r){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(r=/^#EXT-X-I-FRAMES-ONLY/.exec(s),r){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(r=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(s),r){i={type:"tag",tagType:"content-steering"},i.attributes=Ni(r[1]),this.trigger("data",i);return}if(r=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(s),r){i={type:"tag",tagType:"i-frame-playlist"},i.attributes=Ni(r[1]),i.attributes.URI&&(i.uri=i.attributes.URI),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes.RESOLUTION&&(i.attributes.RESOLUTION=ax(i.attributes.RESOLUTION)),i.attributes["AVERAGE-BANDWIDTH"]&&(i.attributes["AVERAGE-BANDWIDTH"]=parseInt(i.attributes["AVERAGE-BANDWIDTH"],10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),this.trigger("data",i);return}if(r=/^#EXT-X-DEFINE:(.*)$/.exec(s),r){i={type:"tag",tagType:"define"},i.attributes=Ni(r[1]),this.trigger("data",i);return}this.trigger("data",{type:"tag",data:s.slice(4)})})}addParser({expression:e,customType:r,dataParser:i,segment:n}){typeof i!="function"&&(i=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:i(s),customType:r,segment:n}),!0})}addTagMapper({expression:e,map:r}){const i=n=>e.test(n)?r(n):n;this.tagMappers.push(i)}}const Pj=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),_o=function(t){const e={};return Object.keys(t).forEach(function(r){e[Pj(r)]=t[r]}),e},D4=function(t){const{serverControl:e,targetDuration:r,partTargetDuration:i}=t;if(!e)return;const n="#EXT-X-SERVER-CONTROL",s="holdBack",a="partHoldBack",o=r&&r*3,l=i&&i*2;r&&!e.hasOwnProperty(s)&&(e[s]=o,this.trigger("info",{message:`${n} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&e[s]<o&&(this.trigger("warn",{message:`${n} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${o})`}),e[s]=o),i&&!e.hasOwnProperty(a)&&(e[a]=i*3,this.trigger("info",{message:`${n} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),i&&e[a]<l&&(this.trigger("warn",{message:`${n} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${l}).`}),e[a]=l)};let Ij=class extends Yv{constructor(e={}){super(),this.lineStream=new Mj,this.parseStream=new Bj,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const r=this,i=[];let n={},s,a,o=!1;const l=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let d=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let h=0,f=0;const g={};this.on("end",()=>{n.uri||!n.parts&&!n.preloadHints||(!n.map&&s&&(n.map=s),!n.key&&a&&(n.key=a),!n.timeline&&typeof d=="number"&&(n.timeline=d),this.manifest.preloadSegment=n)}),this.parseStream.on("data",function(y){let C,S;if(r.manifest.definitions){for(const A in r.manifest.definitions)if(y.uri&&(y.uri=y.uri.replace(`{$${A}}`,r.manifest.definitions[A])),y.attributes)for(const T in y.attributes)typeof y.attributes[T]=="string"&&(y.attributes[T]=y.attributes[T].replace(`{$${A}}`,r.manifest.definitions[A]))}({tag(){({version(){y.version&&(this.manifest.version=y.version)},"allow-cache"(){this.manifest.allowCache=y.allowed,"allowed"in y||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const A={};"length"in y&&(n.byterange=A,A.length=y.length,"offset"in y||(y.offset=h)),"offset"in y&&(n.byterange=A,A.offset=y.offset),h=A.offset+A.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),y.title&&(n.title=y.title),y.duration>0&&(n.duration=y.duration),y.duration===0&&(n.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key(){if(!y.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(y.attributes.METHOD==="NONE"){a=null;return}if(!y.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(y.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:y.attributes};return}if(y.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:y.attributes.URI};return}if(y.attributes.KEYFORMAT===c){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(y.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(y.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),y.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(y.attributes.KEYID&&y.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:y.attributes.KEYFORMAT,keyId:y.attributes.KEYID.substring(2)},pssh:Aj(y.attributes.URI.split(",")[1])};return}y.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:y.attributes.METHOD||"AES-128",uri:y.attributes.URI},typeof y.attributes.IV<"u"&&(a.iv=y.attributes.IV)},"media-sequence"(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+y.number});return}this.manifest.mediaSequence=y.number},"discontinuity-sequence"(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+y.number});return}this.manifest.discontinuitySequence=y.number,d=y.number},"playlist-type"(){if(!/VOD|EVENT/.test(y.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+y.playlist});return}this.manifest.playlistType=y.playlistType},map(){s={},y.uri&&(s.uri=y.uri),y.byterange&&(s.byterange=y.byterange),a&&(s.key=a)},"stream-inf"(){if(this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||u,!y.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}n.attributes||(n.attributes={}),Br(n.attributes,y.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,!(y.attributes&&y.attributes.TYPE&&y.attributes["GROUP-ID"]&&y.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const A=this.manifest.mediaGroups[y.attributes.TYPE];A[y.attributes["GROUP-ID"]]=A[y.attributes["GROUP-ID"]]||{},C=A[y.attributes["GROUP-ID"]],S={default:/yes/i.test(y.attributes.DEFAULT)},S.default?S.autoselect=!0:S.autoselect=/yes/i.test(y.attributes.AUTOSELECT),y.attributes.LANGUAGE&&(S.language=y.attributes.LANGUAGE),y.attributes.URI&&(S.uri=y.attributes.URI),y.attributes["INSTREAM-ID"]&&(S.instreamId=y.attributes["INSTREAM-ID"]),y.attributes.CHARACTERISTICS&&(S.characteristics=y.attributes.CHARACTERISTICS),y.attributes.FORCED&&(S.forced=/yes/i.test(y.attributes.FORCED)),C[y.attributes.NAME]=S},discontinuity(){d+=1,n.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=y.dateTimeString,this.manifest.dateTimeObject=y.dateTimeObject),n.dateTimeString=y.dateTimeString,n.dateTimeObject=y.dateTimeObject;const{lastProgramDateTime:A}=this;this.lastProgramDateTime=new Date(y.dateTimeString).getTime(),A===null&&this.manifest.segments.reduceRight((T,M)=>(M.programDateTime=T-M.duration*1e3,M.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(y.duration)||y.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+y.duration});return}this.manifest.targetDuration=y.duration,D4.call(this,this.manifest)},start(){if(!y.attributes||isNaN(y.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:y.attributes["TIME-OFFSET"],precise:y.attributes.PRECISE}},"cue-out"(){n.cueOut=y.data},"cue-out-cont"(){n.cueOutCont=y.data},"cue-in"(){n.cueIn=y.data},skip(){this.manifest.skip=_o(y.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",y.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const A=this.manifest.segments.length,T=_o(y.attributes);n.parts=n.parts||[],n.parts.push(T),T.byterange&&(T.byterange.hasOwnProperty("offset")||(T.byterange.offset=f),f=T.byterange.offset+T.byterange.length);const M=n.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${M} for segment #${A}`,y.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((D,B)=>{D.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${B} lacks required attribute(s): LAST-PART`})})},"server-control"(){const A=this.manifest.serverControl=_o(y.attributes);A.hasOwnProperty("canBlockReload")||(A.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),D4.call(this,this.manifest),A.canSkipDateranges&&!A.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const A=this.manifest.segments.length,T=_o(y.attributes),M=T.type&&T.type==="PART";n.preloadHints=n.preloadHints||[],n.preloadHints.push(T),T.byterange&&(T.byterange.hasOwnProperty("offset")||(T.byterange.offset=M?f:0,M&&(f=T.byterange.offset+T.byterange.length)));const D=n.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${D} for segment #${A}`,y.attributes,["TYPE","URI"]),!!T.type)for(let B=0;B<n.preloadHints.length-1;B++){const F=n.preloadHints[B];F.type&&F.type===T.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${D} for segment #${A} has the same TYPE ${T.type} as preload hint #${B}`})}},"rendition-report"(){const A=_o(y.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(A);const T=this.manifest.renditionReports.length-1,M=["LAST-MSN","URI"];o&&M.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${T}`,y.attributes,M)},"part-inf"(){this.manifest.partInf=_o(y.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",y.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),D4.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(_o(y.attributes));const A=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${A}`,y.attributes,["ID","START-DATE"]);const T=this.manifest.dateRanges[A];T.endDate&&T.startDate&&new Date(T.endDate)<new Date(T.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),T.duration&&T.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),T.plannedDuration&&T.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const M=!!T.endOnNext;if(M&&!T.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),M&&(T.duration||T.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),T.duration&&T.endDate){const B=T.startDate.getTime()+T.duration*1e3;this.manifest.dateRanges[A].endDate=new Date(B)}if(!g[T.id])g[T.id]=T;else{for(const B in g[T.id])if(T[B]&&JSON.stringify(g[T.id][B])!==JSON.stringify(T[B])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const D=this.manifest.dateRanges.findIndex(B=>B.id===T.id);this.manifest.dateRanges[D]=Br(this.manifest.dateRanges[D],T),g[T.id]=Br(g[T.id],T),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=_o(y.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",y.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const A=(T,M)=>{if(T in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${T}`});return}this.manifest.definitions[T]=M};if("QUERYPARAM"in y.attributes){if("NAME"in y.attributes||"IMPORT"in y.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const T=this.params.get(y.attributes.QUERYPARAM);if(!T){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${y.attributes.QUERYPARAM}`});return}A(y.attributes.QUERYPARAM,decodeURIComponent(T));return}if("NAME"in y.attributes){if("IMPORT"in y.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in y.attributes)||typeof y.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${y.attributes.NAME}`});return}A(y.attributes.NAME,y.attributes.VALUE);return}if("IMPORT"in y.attributes){if(!this.mainDefinitions[y.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${y.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}A(y.attributes.IMPORT,this.mainDefinitions[y.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:y.attributes,uri:y.uri,timeline:d}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",y.attributes,["BANDWIDTH","URI"])}}[y.tagType]||l).call(r)},uri(){n.uri=y.uri,i.push(n),this.manifest.targetDuration&&!("duration"in n)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),n.duration=this.manifest.targetDuration),a&&(n.key=a),n.timeline=d,s&&(n.map=s),f=0,this.lastProgramDateTime!==null&&(n.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=n.duration*1e3),n={}},comment(){},custom(){y.segment?(n.custom=n.custom||{},n.custom[y.customType]=y.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[y.customType]=y.data)}})[y.type].call(r)})}requiredCompatibilityversion(e,r){(e<r||!e)&&this.trigger("warn",{message:`manifest must be at least version ${r}`})}warnOnMissingAttributes_(e,r,i){const n=[];i.forEach(function(s){r.hasOwnProperty(s)||n.push(s)}),n.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${n.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}};var xu={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Rj=["video","audio","text"],ox=["Video","Audio","Text"],jE=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,i,n){var s=("00"+Number(i).toString(16)).slice(-2),a=("00"+Number(n).toString(16)).slice(-2);return"avc1."+s+"00"+a})},Vs=function(e){e===void 0&&(e="");var r=e.split(","),i=[];return r.forEach(function(n){n=n.trim();var s;Rj.forEach(function(a){var o=xu[a].exec(n.toLowerCase());if(!(!o||o.length<=1)){s=a;var l=n.substring(0,o[1].length),u=n.replace(l,"");i.push({type:l,details:u,mediaType:a})}}),s||i.push({type:n,details:"",mediaType:"unknown"})}),i},Oj=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var i=e.mediaGroups.AUDIO[r];if(!i)return null;for(var n in i){var s=i[n];if(s.default&&s.playlists)return Vs(s.playlists[0].attributes.CODECS)}return null},VE=function(e){return e===void 0&&(e=""),xu.audio.test(e.trim().toLowerCase())},Fj=function(e){return e===void 0&&(e=""),xu.text.test(e.trim().toLowerCase())},Uh=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(s){return jE(s.trim())}),i="video";r.length===1&&VE(r[0])?i="audio":r.length===1&&Fj(r[0])&&(i="application");var n="mp4";return r.every(function(s){return xu.mp4.test(s)})?n="mp4":r.every(function(s){return xu.webm.test(s)})?n="webm":r.every(function(s){return xu.ogg.test(s)})&&(n="ogg"),i+"/"+n+';codecs="'+e+'"'}},Ym=function(e){return e===void 0&&(e=""),H.MediaSource&&H.MediaSource.isTypeSupported&&H.MediaSource.isTypeSupported(Uh(e))||!1},L4=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var i=0;i<ox.length;i++){var n=ox[i];if(xu["muxer"+n].test(r))return!0}return!1})},lx="mp4a.40.2",Nj="avc1.4d400d",$j=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,zj=/^application\/dash\+xml/i,HE=function(e){return $j.test(e)?"hls":zj.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},Uj=function(e){return e.toString(2).length},qj=function(e){return Math.ceil(Uj(e)/8)},KE=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},jj=function(e){return KE(e)},ct=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!jj(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},bi=H.BigInt||Number,jy=[bi("0x1"),bi("0x100"),bi("0x10000"),bi("0x1000000"),bi("0x100000000"),bi("0x10000000000"),bi("0x1000000000000"),bi("0x100000000000000"),bi("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var Vj=function(e,r){var i=r===void 0?{}:r,n=i.signed,s=n===void 0?!1:n,a=i.le,o=a===void 0?!1:a;e=ct(e);var l=o?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],c=u.call(e,function(h,f,g){var y=o?g:Math.abs(g+1-e.length);return h+bi(f)*jy[y]},bi(0));if(s){var d=jy[e.length]/bi(2)-bi(1);c=bi(c),c>d&&(c-=d,c-=d,c-=bi(2))}return Number(c)},Hj=function(e,r){var i={},n=i.le,s=n===void 0?!1:n;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=bi(e);for(var a=qj(e),o=new Uint8Array(new ArrayBuffer(a)),l=0;l<a;l++){var u=s?l:Math.abs(l+1-o.length);o[u]=Number(e/jy[l]&bi(255)),e<0&&(o[u]=Math.abs(~o[u]),o[u]-=l===0?1:2)}return o},WE=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i},Kj=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(r=r.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),r.length<=1)return ct(r[0]);var n=r.reduce(function(o,l,u){return o+(l.byteLength||l.length)},0),s=new Uint8Array(n),a=0;return r.forEach(function(o){o=ct(o),s.set(o,a),a+=o.byteLength}),s},vr=function(e,r,i){var n=i===void 0?{}:i,s=n.offset,a=s===void 0?0:s,o=n.mask,l=o===void 0?[]:o;e=ct(e),r=ct(r);var u=r.every?r.every:Array.prototype.every;return r.length&&e.length-a>=r.length&&u.call(r,function(c,d){var h=l[d]?l[d]&e[a+d]:e[a+d];return c===h})},Wj=function(e,r,i){r.forEach(function(n){for(var s in e.mediaGroups[n])for(var a in e.mediaGroups[n][s]){var o=e.mediaGroups[n][s][a];i(o,n,s,a)}})},Gj=function(e){return H.atob?H.atob(e):Buffer.from(e,"base64").toString("binary")};function Xj(t){for(var e=Gj(t),r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}var wl={},co={};function Yj(t,e,r){if(r===void 0&&(r=Array.prototype),t&&typeof r.find=="function")return r.find.call(t,e);for(var i=0;i<t.length;i++)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i];if(e.call(void 0,n,i,t))return n}}function Zv(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function Zj(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var GE=Zv({HTML:"text/html",isHTML:function(t){return t===GE.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),XE=Zv({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===XE.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});co.assign=Zj;co.find=Yj;co.freeze=Zv;co.MIME_TYPE=GE;co.NAMESPACE=XE;var YE=co,aa=YE.find,qh=YE.NAMESPACE;function Jj(t){return t!==""}function Qj(t){return t?t.split(/[\t\n\f\r ]+/).filter(Jj):[]}function eV(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function ux(t){if(!t)return[];var e=Qj(t);return Object.keys(e.reduce(eV,{}))}function tV(t){return function(e){return t&&t.indexOf(e)!==-1}}function dp(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function vn(t,e){var r=t.prototype;if(!(r instanceof e)){let i=function(){};i.prototype=e.prototype,i=new i,dp(r,i),t.prototype=r=i}r.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),r.constructor=t)}var bn={},Cs=bn.ELEMENT_NODE=1,h0=bn.ATTRIBUTE_NODE=2,E1=bn.TEXT_NODE=3,ZE=bn.CDATA_SECTION_NODE=4,JE=bn.ENTITY_REFERENCE_NODE=5,rV=bn.ENTITY_NODE=6,QE=bn.PROCESSING_INSTRUCTION_NODE=7,eA=bn.COMMENT_NODE=8,tA=bn.DOCUMENT_NODE=9,rA=bn.DOCUMENT_TYPE_NODE=10,Ja=bn.DOCUMENT_FRAGMENT_NODE=11,iV=bn.NOTATION_NODE=12,Oi={},mi={};Oi.INDEX_SIZE_ERR=(mi[1]="Index size error",1);Oi.DOMSTRING_SIZE_ERR=(mi[2]="DOMString size error",2);var cn=Oi.HIERARCHY_REQUEST_ERR=(mi[3]="Hierarchy request error",3);Oi.WRONG_DOCUMENT_ERR=(mi[4]="Wrong document",4);Oi.INVALID_CHARACTER_ERR=(mi[5]="Invalid character",5);Oi.NO_DATA_ALLOWED_ERR=(mi[6]="No data allowed",6);Oi.NO_MODIFICATION_ALLOWED_ERR=(mi[7]="No modification allowed",7);var iA=Oi.NOT_FOUND_ERR=(mi[8]="Not found",8);Oi.NOT_SUPPORTED_ERR=(mi[9]="Not supported",9);var cx=Oi.INUSE_ATTRIBUTE_ERR=(mi[10]="Attribute in use",10);Oi.INVALID_STATE_ERR=(mi[11]="Invalid state",11);Oi.SYNTAX_ERR=(mi[12]="Syntax error",12);Oi.INVALID_MODIFICATION_ERR=(mi[13]="Invalid modification",13);Oi.NAMESPACE_ERR=(mi[14]="Invalid namespace",14);Oi.INVALID_ACCESS_ERR=(mi[15]="Invalid access",15);function Fr(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,mi[t]),this.message=mi[t],Error.captureStackTrace&&Error.captureStackTrace(this,Fr);return r.code=t,e&&(this.message=this.message+": "+e),r}Fr.prototype=Error.prototype;dp(Oi,Fr);function Va(){}Va.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var r=[],i=0;i<this.length;i++)Lc(this[i],r,t,e);return r.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function p0(t,e){this._node=t,this._refresh=e,Jv(this)}function Jv(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var r=t._refresh(t._node);if(mA(t,"length",r.length),!t.$$length||r.length<t.$$length)for(var i=r.length;i in t;i++)Object.prototype.hasOwnProperty.call(t,i)&&delete t[i];dp(r,t),t._inc=e}}p0.prototype.item=function(t){return Jv(this),this[t]||null};vn(p0,Va);function A1(){}function nA(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function dx(t,e,r,i){if(i?e[nA(e,i)]=r:e[e.length++]=r,t){r.ownerElement=t;var n=t.ownerDocument;n&&(i&&oA(n,t,i),nV(n,t,r))}}function hx(t,e,r){var i=nA(e,r);if(i>=0){for(var n=e.length-1;i<n;)e[i]=e[++i];if(e.length=n,t){var s=t.ownerDocument;s&&(oA(s,t,r),r.ownerElement=null)}}else throw new Fr(iA,new Error(t.tagName+"@"+r))}A1.prototype={length:0,item:Va.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Fr(cx);var r=this.getNamedItem(t.nodeName);return dx(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new Fr(cx);return r=this.getNamedItemNS(t.namespaceURI,t.localName),dx(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return hx(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return hx(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var i=this[r];if(i.localName==e&&i.namespaceURI==t)return i}return null}};function sA(){}sA.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var i=new hp;if(i.implementation=this,i.childNodes=new Va,i.doctype=r||null,r&&i.appendChild(r),e){var n=i.createElementNS(t,e);i.appendChild(n)}return i},createDocumentType:function(t,e,r){var i=new Xg;return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=r||"",i}};function ar(){}ar.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return M1(this,t,e)},replaceChild:function(t,e){M1(this,t,e,uA),e&&this.removeChild(e)},removeChild:function(t){return lA(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return Vy(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==E1&&t.nodeType==E1?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&r[i]===t)return i}e=e.nodeType==h0?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];e=e.nodeType==h0?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function aA(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}dp(bn,ar);dp(bn,ar.prototype);function jh(t,e){if(e(t))return!0;if(t=t.firstChild)do if(jh(t,e))return!0;while(t=t.nextSibling)}function hp(){this.ownerDocument=this}function nV(t,e,r){t&&t._inc++;var i=r.namespaceURI;i===qh.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function oA(t,e,r,i){t&&t._inc++;var n=r.namespaceURI;n===qh.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function Qv(t,e,r){if(t&&t._inc){t._inc++;var i=e.childNodes;if(r)i[i.length++]=r;else{for(var n=e.firstChild,s=0;n;)i[s++]=n,n=n.nextSibling;i.length=s,delete i[i.length]}}}function lA(t,e){var r=e.previousSibling,i=e.nextSibling;return r?r.nextSibling=i:t.firstChild=i,i?i.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,Qv(t.ownerDocument,t),e}function sV(t){return t&&(t.nodeType===ar.DOCUMENT_NODE||t.nodeType===ar.DOCUMENT_FRAGMENT_NODE||t.nodeType===ar.ELEMENT_NODE)}function aV(t){return t&&(oa(t)||eb(t)||Qa(t)||t.nodeType===ar.DOCUMENT_FRAGMENT_NODE||t.nodeType===ar.COMMENT_NODE||t.nodeType===ar.PROCESSING_INSTRUCTION_NODE)}function Qa(t){return t&&t.nodeType===ar.DOCUMENT_TYPE_NODE}function oa(t){return t&&t.nodeType===ar.ELEMENT_NODE}function eb(t){return t&&t.nodeType===ar.TEXT_NODE}function px(t,e){var r=t.childNodes||[];if(aa(r,oa)||Qa(e))return!1;var i=aa(r,Qa);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function fx(t,e){var r=t.childNodes||[];function i(s){return oa(s)&&s!==e}if(aa(r,i))return!1;var n=aa(r,Qa);return!(e&&n&&r.indexOf(n)>r.indexOf(e))}function oV(t,e,r){if(!sV(t))throw new Fr(cn,"Unexpected parent node type "+t.nodeType);if(r&&r.parentNode!==t)throw new Fr(iA,"child not in parent");if(!aV(e)||Qa(e)&&t.nodeType!==ar.DOCUMENT_NODE)throw new Fr(cn,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function lV(t,e,r){var i=t.childNodes||[],n=e.childNodes||[];if(e.nodeType===ar.DOCUMENT_FRAGMENT_NODE){var s=n.filter(oa);if(s.length>1||aa(n,eb))throw new Fr(cn,"More than one element or text in fragment");if(s.length===1&&!px(t,r))throw new Fr(cn,"Element in fragment can not be inserted before doctype")}if(oa(e)&&!px(t,r))throw new Fr(cn,"Only one element can be added and only after doctype");if(Qa(e)){if(aa(i,Qa))throw new Fr(cn,"Only one doctype is allowed");var a=aa(i,oa);if(r&&i.indexOf(a)<i.indexOf(r))throw new Fr(cn,"Doctype can only be inserted before an element");if(!r&&a)throw new Fr(cn,"Doctype can not be appended since element is present")}}function uA(t,e,r){var i=t.childNodes||[],n=e.childNodes||[];if(e.nodeType===ar.DOCUMENT_FRAGMENT_NODE){var s=n.filter(oa);if(s.length>1||aa(n,eb))throw new Fr(cn,"More than one element or text in fragment");if(s.length===1&&!fx(t,r))throw new Fr(cn,"Element in fragment can not be inserted before doctype")}if(oa(e)&&!fx(t,r))throw new Fr(cn,"Only one element can be added and only after doctype");if(Qa(e)){if(aa(i,function(l){return Qa(l)&&l!==r}))throw new Fr(cn,"Only one doctype is allowed");var a=aa(i,oa);if(r&&i.indexOf(a)<i.indexOf(r))throw new Fr(cn,"Doctype can only be inserted before an element")}}function M1(t,e,r,i){oV(t,e,r),t.nodeType===ar.DOCUMENT_NODE&&(i||lV)(t,e,r);var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===Ja){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var o=r?r.previousSibling:t.lastChild;s.previousSibling=o,a.nextSibling=r,o?o.nextSibling=s:t.firstChild=s,r==null?t.lastChild=a:r.previousSibling=a;do s.parentNode=t;while(s!==a&&(s=s.nextSibling));return Qv(t.ownerDocument||t,t),e.nodeType==Ja&&(e.firstChild=e.lastChild=null),e}function uV(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,Qv(t.ownerDocument,t,e),e}hp.prototype={nodeName:"#document",nodeType:tA,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Ja){for(var r=t.firstChild;r;){var i=r.nextSibling;this.insertBefore(r,e),r=i}return t}return M1(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===Cs&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),lA(this,t)},replaceChild:function(t,e){M1(this,t,e,uA),t.ownerDocument=this,e&&this.removeChild(e),oa(t)&&(this.documentElement=t)},importNode:function(t,e){return fA(this,t,e)},getElementById:function(t){var e=null;return jh(this.documentElement,function(r){if(r.nodeType==Cs&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=ux(t);return new p0(this,function(r){var i=[];return e.length>0&&jh(r.documentElement,function(n){if(n!==r&&n.nodeType===Cs){var s=n.getAttribute("class");if(s){var a=t===s;if(!a){var o=ux(s);a=e.every(tV(o))}a&&i.push(n)}}}),i})},createElement:function(t){var e=new Lu;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Va;var r=e.attributes=new A1;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new Yg;return t.ownerDocument=this,t.childNodes=new Va,t},createTextNode:function(t){var e=new tb;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new rb;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new ib;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new sb;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new D1;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new nb;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new Lu,i=e.split(":"),n=r.attributes=new A1;return r.childNodes=new Va,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,i.length==2?(r.prefix=i[0],r.localName=i[1]):r.localName=e,n._ownerElement=r,r},createAttributeNS:function(t,e){var r=new D1,i=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,i.length==2?(r.prefix=i[0],r.localName=i[1]):r.localName=e,r}};vn(hp,ar);function Lu(){this._nsMap={}}Lu.prototype={nodeType:Cs,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Ja?this.insertBefore(t,null):uV(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+r,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new p0(this,function(e){var r=[];return jh(e,function(i){i!==e&&i.nodeType==Cs&&(t==="*"||i.tagName==t)&&r.push(i)}),r})},getElementsByTagNameNS:function(t,e){return new p0(this,function(r){var i=[];return jh(r,function(n){n!==r&&n.nodeType===Cs&&(t==="*"||n.namespaceURI===t)&&(e==="*"||n.localName==e)&&i.push(n)}),i})}};hp.prototype.getElementsByTagName=Lu.prototype.getElementsByTagName;hp.prototype.getElementsByTagNameNS=Lu.prototype.getElementsByTagNameNS;vn(Lu,ar);function D1(){}D1.prototype.nodeType=h0;vn(D1,ar);function pp(){}pp.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(mi[cn])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var i=this.data.substring(0,t),n=this.data.substring(t+e);r=i+r+n,this.nodeValue=this.data=r,this.length=r.length}};vn(pp,ar);function tb(){}tb.prototype={nodeName:"#text",nodeType:E1,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};vn(tb,pp);function rb(){}rb.prototype={nodeName:"#comment",nodeType:eA};vn(rb,pp);function ib(){}ib.prototype={nodeName:"#cdata-section",nodeType:ZE};vn(ib,pp);function Xg(){}Xg.prototype.nodeType=rA;vn(Xg,ar);function cA(){}cA.prototype.nodeType=iV;vn(cA,ar);function dA(){}dA.prototype.nodeType=rV;vn(dA,ar);function nb(){}nb.prototype.nodeType=JE;vn(nb,ar);function Yg(){}Yg.prototype.nodeName="#document-fragment";Yg.prototype.nodeType=Ja;vn(Yg,ar);function sb(){}sb.prototype.nodeType=QE;vn(sb,ar);function hA(){}hA.prototype.serializeToString=function(t,e,r){return pA.call(t,e,r)};ar.prototype.toString=pA;function pA(t,e){var r=[],i=this.nodeType==9&&this.documentElement||this,n=i.prefix,s=i.namespaceURI;if(s&&n==null){var n=i.lookupPrefix(s);if(n==null)var a=[{namespace:s,prefix:null}]}return Lc(this,r,t,e,a),r.join("")}function mx(t,e,r){var i=t.prefix||"",n=t.namespaceURI;if(!n||i==="xml"&&n===qh.XML||n===qh.XMLNS)return!1;for(var s=r.length;s--;){var a=r[s];if(a.prefix===i)return a.namespace!==n}return!0}function B4(t,e,r){t.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,aA),'"')}function Lc(t,e,r,i,n){if(n||(n=[]),i)if(t=i(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Cs:var s=t.attributes,a=s.length,S=t.firstChild,o=t.tagName;r=qh.isHTML(t.namespaceURI)||r;var l=o;if(!r&&!t.prefix&&t.namespaceURI){for(var u,c=0;c<s.length;c++)if(s.item(c).name==="xmlns"){u=s.item(c).value;break}if(!u)for(var d=n.length-1;d>=0;d--){var h=n[d];if(h.prefix===""&&h.namespace===t.namespaceURI){u=h.namespace;break}}if(u!==t.namespaceURI)for(var d=n.length-1;d>=0;d--){var h=n[d];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+o);break}}}e.push("<",l);for(var f=0;f<a;f++){var g=s.item(f);g.prefix=="xmlns"?n.push({prefix:g.localName,namespace:g.value}):g.nodeName=="xmlns"&&n.push({prefix:"",namespace:g.value})}for(var f=0;f<a;f++){var g=s.item(f);if(mx(g,r,n)){var y=g.prefix||"",C=g.namespaceURI;B4(e,y?"xmlns:"+y:"xmlns",C),n.push({prefix:y,namespace:C})}Lc(g,e,r,i,n)}if(o===l&&mx(t,r,n)){var y=t.prefix||"",C=t.namespaceURI;B4(e,y?"xmlns:"+y:"xmlns",C),n.push({prefix:y,namespace:C})}if(S||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),r&&/^script$/i.test(o))for(;S;)S.data?e.push(S.data):Lc(S,e,r,i,n.slice()),S=S.nextSibling;else for(;S;)Lc(S,e,r,i,n.slice()),S=S.nextSibling;e.push("</",l,">")}else e.push("/>");return;case tA:case Ja:for(var S=t.firstChild;S;)Lc(S,e,r,i,n.slice()),S=S.nextSibling;return;case h0:return B4(e,t.name,t.value);case E1:return e.push(t.data.replace(/[<&>]/g,aA));case ZE:return e.push("<![CDATA[",t.data,"]]>");case eA:return e.push("<!--",t.data,"-->");case rA:var A=t.publicId,T=t.systemId;if(e.push("<!DOCTYPE ",t.name),A)e.push(" PUBLIC ",A),T&&T!="."&&e.push(" ",T),e.push(">");else if(T&&T!=".")e.push(" SYSTEM ",T,">");else{var M=t.internalSubset;M&&e.push(" [",M,"]"),e.push(">")}return;case QE:return e.push("<?",t.target," ",t.data,"?>");case JE:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function fA(t,e,r){var i;switch(e.nodeType){case Cs:i=e.cloneNode(!1),i.ownerDocument=t;case Ja:break;case h0:r=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,r)for(var n=e.firstChild;n;)i.appendChild(fA(t,n,r)),n=n.nextSibling;return i}function Vy(t,e,r){var i=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=e[n];typeof s!="object"&&s!=i[n]&&(i[n]=s)}switch(e.childNodes&&(i.childNodes=new Va),i.ownerDocument=t,i.nodeType){case Cs:var a=e.attributes,o=i.attributes=new A1,l=a.length;o._ownerElement=i;for(var u=0;u<l;u++)i.setAttributeNode(Vy(t,a.item(u),!0));break;case h0:r=!0}if(r)for(var c=e.firstChild;c;)i.appendChild(Vy(t,c,r)),c=c.nextSibling;return i}function mA(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Cs:case Ja:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};Object.defineProperty(p0.prototype,"length",{get:function(){return Jv(this),this.$$length}}),Object.defineProperty(ar.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Cs:case Ja:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),mA=function(e,r,i){e["$$"+r]=i}}}catch{}wl.DocumentType=Xg;wl.DOMException=Fr;wl.DOMImplementation=sA;wl.Element=Lu;wl.Node=ar;wl.NodeList=Va;wl.XMLSerializer=hA;var Zg={},gA={};(function(t){var e=co.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(gA);var ab={},Vh=co.NAMESPACE,Hy=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,gx=new RegExp("[\\-\\.0-9"+Hy.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),yx=new RegExp("^"+Hy.source+gx.source+"*(?::"+Hy.source+gx.source+"*)?$"),yd=0,wo=1,tc=2,vd=3,rc=4,ic=5,bd=6,bf=7;function f0(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,f0)}f0.prototype=new Error;f0.prototype.name=f0.name;function yA(){}yA.prototype={parse:function(t,e,r){var i=this.domBuilder;i.startDocument(),vA(e,e={}),cV(t,e,r,i,this.errorHandler),i.endDocument()}};function cV(t,e,r,i,n){function s(Me){if(Me>65535){Me-=65536;var me=55296+(Me>>10),be=56320+(Me&1023);return String.fromCharCode(me,be)}else return String.fromCharCode(Me)}function a(Me){var me=Me.slice(1,-1);return Object.hasOwnProperty.call(r,me)?r[me]:me.charAt(0)==="#"?s(parseInt(me.substr(1).replace("x","0x"))):(n.error("entity not found:"+Me),Me)}function o(Me){if(Me>y){var me=t.substring(y,Me).replace(/&#?\w+;/g,a);h&&l(y),i.characters(me,0,Me-y),y=Me}}function l(Me,me){for(;Me>=c&&(me=d.exec(t));)u=me.index,c=u+me[0].length,h.lineNumber++;h.columnNumber=Me-u+1}for(var u=0,c=0,d=/.*(?:\r\n?|\n)|.*$/g,h=i.locator,f=[{currentNSMap:e}],g={},y=0;;){try{var C=t.indexOf("<",y);if(C<0){if(!t.substr(y).match(/^\s*$/)){var S=i.doc,A=S.createTextNode(t.substr(y));S.appendChild(A),i.currentElement=A}return}switch(C>y&&o(C),t.charAt(C+1)){case"/":var J=t.indexOf(">",C+3),T=t.substring(C+2,J).replace(/[ \t\n\r]+$/g,""),M=f.pop();J<0?(T=t.substring(C+2).replace(/[\s<].*/,""),n.error("end tag name: "+T+" is not complete:"+M.tagName),J=C+1+T.length):T.match(/\s</)&&(T=T.replace(/[\s<].*/,""),n.error("end tag name: "+T+" maybe not complete"),J=C+1+T.length);var D=M.localNSMap,B=M.tagName==T,F=B||M.tagName&&M.tagName.toLowerCase()==T.toLowerCase();if(F){if(i.endElement(M.uri,M.localName,T),D)for(var V in D)Object.prototype.hasOwnProperty.call(D,V)&&i.endPrefixMapping(V);B||n.fatalError("end tag name: "+T+" is not match the current start tagName:"+M.tagName)}else f.push(M);J++;break;case"?":h&&l(C),J=mV(t,C,i);break;case"!":h&&l(C),J=fV(t,C,i,n);break;default:h&&l(C);var O=new bA,U=f[f.length-1].currentNSMap,J=dV(t,C,O,U,a,n),Y=O.length;if(!O.closed&&pV(t,J,O.tagName,g)&&(O.closed=!0,r.nbsp||n.warning("unclosed xml attribute")),h&&Y){for(var re=vx(h,{}),ce=0;ce<Y;ce++){var qe=O[ce];l(qe.offset),qe.locator=vx(h,{})}i.locator=re,bx(O,i,U)&&f.push(O),i.locator=h}else bx(O,i,U)&&f.push(O);Vh.isHTML(O.uri)&&!O.closed?J=hV(t,J,O.tagName,a,i):J++}}catch(Me){if(Me instanceof f0)throw Me;n.error("element parse error: "+Me),J=-1}J>y?y=J:o(Math.max(C,y)+1)}}function vx(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function dV(t,e,r,i,n,s){function a(h,f,g){r.attributeNames.hasOwnProperty(h)&&s.fatalError("Attribute "+h+" redefined"),r.addValue(h,f.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,n),g)}for(var o,l,u=++e,c=yd;;){var d=t.charAt(u);switch(d){case"=":if(c===wo)o=t.slice(e,u),c=vd;else if(c===tc)c=vd;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===vd||c===wo)if(c===wo&&(s.warning('attribute value must after "="'),o=t.slice(e,u)),e=u+1,u=t.indexOf(d,e),u>0)l=t.slice(e,u),a(o,l,e-1),c=ic;else throw new Error("attribute value no end '"+d+"' match");else if(c==rc)l=t.slice(e,u),a(o,l,e),s.warning('attribute "'+o+'" missed start quot('+d+")!!"),e=u+1,c=ic;else throw new Error('attribute value must after "="');break;case"/":switch(c){case yd:r.setTagName(t.slice(e,u));case ic:case bd:case bf:c=bf,r.closed=!0;case rc:case wo:break;case tc:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),c==yd&&r.setTagName(t.slice(e,u)),u;case">":switch(c){case yd:r.setTagName(t.slice(e,u));case ic:case bd:case bf:break;case rc:case wo:l=t.slice(e,u),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case tc:c===tc&&(l=o),c==rc?(s.warning('attribute "'+l+'" missed quot(")!'),a(o,l,e)):((!Vh.isHTML(i[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case vd:throw new Error("attribute value missed!!")}return u;case"":d=" ";default:if(d<=" ")switch(c){case yd:r.setTagName(t.slice(e,u)),c=bd;break;case wo:o=t.slice(e,u),c=tc;break;case rc:var l=t.slice(e,u);s.warning('attribute "'+l+'" missed quot(")!!'),a(o,l,e);case ic:c=bd;break}else switch(c){case tc:r.tagName,(!Vh.isHTML(i[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=u,c=wo;break;case ic:s.warning('attribute space is required"'+o+'"!!');case bd:c=wo,e=u;break;case vd:c=rc,e=u;break;case bf:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function bx(t,e,r){for(var i=t.tagName,n=null,d=t.length;d--;){var s=t[d],a=s.qName,o=s.value,h=a.indexOf(":");if(h>0)var l=s.prefix=a.slice(0,h),u=a.slice(h+1),c=l==="xmlns"&&u;else u=a,l=null,c=a==="xmlns"&&"";s.localName=u,c!==!1&&(n==null&&(n={},vA(r,r={})),r[c]=n[c]=o,s.uri=Vh.XMLNS,e.startPrefixMapping(c,o))}for(var d=t.length;d--;){s=t[d];var l=s.prefix;l&&(l==="xml"&&(s.uri=Vh.XML),l!=="xmlns"&&(s.uri=r[l||""]))}var h=i.indexOf(":");h>0?(l=t.prefix=i.slice(0,h),u=t.localName=i.slice(h+1)):(l=null,u=t.localName=i);var f=t.uri=r[l||""];if(e.startElement(f,u,i,t),t.closed){if(e.endElement(f,u,i),n)for(l in n)Object.prototype.hasOwnProperty.call(n,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=r,t.localNSMap=n,!0}function hV(t,e,r,i,n){if(/^(?:script|textarea)$/i.test(r)){var s=t.indexOf("</"+r+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(r)?(n.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,i),n.characters(a,0,a.length),s)}return e+1}function pV(t,e,r,i){var n=i[r];return n==null&&(n=t.lastIndexOf("</"+r+">"),n<e&&(n=t.lastIndexOf("</"+r)),i[r]=n),n<e}function vA(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function fV(t,e,r,i){var n=t.charAt(e+2);switch(n){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(r.comment(t,e+4,s-e-4),s+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,s-e-9),r.endCDATA(),s+3}var a=gV(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],u=!1,c=!1;o>3&&(/^public$/i.test(a[2][0])?(u=a[3][0],c=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var d=a[o-1];return r.startDTD(l,u,c),r.endDTD(),d.index+d[0].length}}return-1}function mV(t,e,r){var i=t.indexOf("?>",e);if(i){var n=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return n?(n[0].length,r.processingInstruction(n[1],n[2]),i+2):-1}return-1}function bA(){this.attributeNames={}}bA.prototype={setTagName:function(t){if(!yx.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!yx.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function gV(t,e){var r,i=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=e,n.exec(t);r=n.exec(t);)if(i.push(r),r[1])return i}ab.XMLReader=yA;ab.ParseError=f0;var yV=co,vV=wl,xx=gA,xA=ab,bV=vV.DOMImplementation,_x=yV.NAMESPACE,xV=xA.ParseError,_V=xA.XMLReader;function _A(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function wA(t){this.options=t||{locator:{}}}wA.prototype.parseFromString=function(t,e){var r=this.options,i=new _V,n=r.domBuilder||new fp,s=r.errorHandler,a=r.locator,o=r.xmlns||{},l=/\/x?html?$/.test(e),u=l?xx.HTML_ENTITIES:xx.XML_ENTITIES;a&&n.setDocumentLocator(a),i.errorHandler=wV(s,n,a),i.domBuilder=r.domBuilder||n,l&&(o[""]=_x.HTML),o.xml=o.xml||_x.XML;var c=r.normalizeLineEndings||_A;return t&&typeof t=="string"?i.parse(c(t),o,u):i.errorHandler.error("invalid doc source"),n.doc};function wV(t,e,r){if(!t){if(e instanceof fp)return e;t=e}var i={},n=t instanceof Function;r=r||{};function s(a){var o=t[a];!o&&n&&(o=t.length==2?function(l){t(a,l)}:t),i[a]=o&&function(l){o("[xmldom "+a+"]	"+l+Ky(r))}||function(){}}return s("warning"),s("error"),s("fatalError"),i}function fp(){this.cdata=!1}function nc(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}fp.prototype={startDocument:function(){this.doc=new bV().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,i){var n=this.doc,s=n.createElementNS(t,r||e),a=i.length;xf(this,s),this.currentElement=s,this.locator&&nc(this.locator,s);for(var o=0;o<a;o++){var t=i.getURI(o),l=i.getValue(o),r=i.getQName(o),u=n.createAttributeNS(t,r);this.locator&&nc(i.getLocator(o),u),u.value=u.nodeValue=l,s.setAttributeNode(u)}},endElement:function(t,e,r){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&nc(this.locator,r),xf(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=wx.apply(this,arguments),t){if(this.cdata)var i=this.doc.createCDATASection(t);else var i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&nc(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=wx.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&nc(this.locator,i),xf(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var i=this.doc.implementation;if(i&&i.createDocumentType){var n=i.createDocumentType(t,e,r);this.locator&&nc(this.locator,n),xf(this,n),this.doc.doctype=n}},warning:function(t){console.warn("[xmldom warning]	"+t,Ky(this.locator))},error:function(t){console.error("[xmldom error]	"+t,Ky(this.locator))},fatalError:function(t){throw new xV(t,this.locator)}};function Ky(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function wx(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){fp.prototype[t]=function(){return null}});function xf(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Zg.__DOMHandler=fp;Zg.normalizeLineEndings=_A;Zg.DOMParser=wA;var SV=Zg.DOMParser;/*! @name mpd-parser @version 1.3.0 @license Apache-2.0 */const Sx=t=>!!t&&typeof t=="object",di=(...t)=>t.reduce((e,r)=>(typeof r!="object"||Object.keys(r).forEach(i=>{Array.isArray(e[i])&&Array.isArray(r[i])?e[i]=e[i].concat(r[i]):Sx(e[i])&&Sx(r[i])?e[i]=di(e[i],r[i]):e[i]=r[i]}),e),{}),SA=t=>Object.keys(t).map(e=>t[e]),CV=(t,e)=>{const r=[];for(let i=t;i<e;i++)r.push(i);return r},m0=t=>t.reduce((e,r)=>e.concat(r),[]),CA=t=>{if(!t.length)return[];const e=[];for(let r=0;r<t.length;r++)e.push(t[r]);return e},kV=(t,e)=>t.reduce((r,i,n)=>(i[e]&&r.push(n),r),[]),TV=(t,e)=>SA(t.reduce((r,i)=>(i.forEach(n=>{r[e(n)]=n}),r),{}));var g0={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const Hh=({baseUrl:t="",source:e="",range:r="",indexRange:i=""})=>{const n={uri:e,resolvedUri:Gg(t||"",e)};if(r||i){const a=(r||i).split("-");let o=H.BigInt?H.BigInt(a[0]):parseInt(a[0],10),l=H.BigInt?H.BigInt(a[1]):parseInt(a[1],10);o<Number.MAX_SAFE_INTEGER&&typeof o=="bigint"&&(o=Number(o)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let u;typeof l=="bigint"||typeof o=="bigint"?u=H.BigInt(l)-H.BigInt(o)+H.BigInt(1):u=l-o+1,typeof u=="bigint"&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),n.byterange={length:u,offset:o}}return n},EV=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=H.BigInt(t.offset)+H.BigInt(t.length)-H.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},Cx=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),AV={static(t){const{duration:e,timescale:r=1,sourceDuration:i,periodDuration:n}=t,s=Cx(t.endNumber),a=e/r;return typeof s=="number"?{start:0,end:s}:typeof n=="number"?{start:0,end:n/a}:{start:0,end:i/a}},dynamic(t){const{NOW:e,clientOffset:r,availabilityStartTime:i,timescale:n=1,duration:s,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:l=1/0}=t,u=Cx(t.endNumber),c=(e+r)/1e3,d=i+a,f=c+o-d,g=Math.ceil(f*n/s),y=Math.floor((c-d-l)*n/s),C=Math.floor((c-d)*n/s);return{start:Math.max(0,y),end:typeof u=="number"?u:Math.min(g,C)}}},MV=t=>e=>{const{duration:r,timescale:i=1,periodStart:n,startNumber:s=1}=t;return{number:s+e,duration:r/i,timeline:n,time:e*r}},ob=t=>{const{type:e,duration:r,timescale:i=1,periodDuration:n,sourceDuration:s}=t,{start:a,end:o}=AV[e](t),l=CV(a,o).map(MV(t));if(e==="static"){const u=l.length-1,c=typeof n=="number"?n:s;l[u].duration=c-r/i*u}return l},kA=t=>{const{baseUrl:e,initialization:r={},sourceDuration:i,indexRange:n="",periodStart:s,presentationTime:a,number:o=0,duration:l}=t;if(!e)throw new Error(g0.NO_BASE_URL);const u=Hh({baseUrl:e,source:r.sourceURL,range:r.range}),c=Hh({baseUrl:e,source:e,indexRange:n});if(c.map=u,l){const d=ob(t);d.length&&(c.duration=d[0].duration,c.timeline=d[0].timeline)}else i&&(c.duration=i,c.timeline=s);return c.presentationTime=a||s,c.number=o,[c]},lb=(t,e,r)=>{const i=t.sidx.map?t.sidx.map:null,n=t.sidx.duration,s=t.timeline||0,a=t.sidx.byterange,o=a.offset+a.length,l=e.timescale,u=e.references.filter(C=>C.referenceType!==1),c=[],d=t.endList?"static":"dynamic",h=t.sidx.timeline;let f=h,g=t.mediaSequence||0,y;typeof e.firstOffset=="bigint"?y=H.BigInt(o)+e.firstOffset:y=o+e.firstOffset;for(let C=0;C<u.length;C++){const S=e.references[C],A=S.referencedSize,T=S.subsegmentDuration;let M;typeof y=="bigint"?M=y+H.BigInt(A)-H.BigInt(1):M=y+A-1;const D=`${y}-${M}`,F=kA({baseUrl:r,timescale:l,timeline:s,periodStart:h,presentationTime:f,number:g,duration:T,sourceDuration:n,indexRange:D,type:d})[0];i&&(F.map=i),c.push(F),typeof y=="bigint"?y+=H.BigInt(A):y+=A,f+=T/l,g++}return t.segments=c,t},DV=["AUDIO","SUBTITLES"],LV=1/60,TA=t=>TV(t,({timeline:e})=>e).sort((e,r)=>e.timeline>r.timeline?1:-1),BV=(t,e)=>{for(let r=0;r<t.length;r++)if(t[r].attributes.NAME===e)return t[r];return null},kx=t=>{let e=[];return Wj(t,DV,(r,i,n,s)=>{e=e.concat(r.playlists||[])}),e},Tx=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((r,i)=>{r.number=t.mediaSequence+i})},PV=({oldPlaylists:t,newPlaylists:e,timelineStarts:r})=>{e.forEach(i=>{i.discontinuitySequence=r.findIndex(function({timeline:l}){return l===i.timeline});const n=BV(t,i.attributes.NAME);if(!n||i.sidx)return;const s=i.segments[0],a=n.segments.findIndex(function(l){return Math.abs(l.presentationTime-s.presentationTime)<LV});if(a===-1){Tx({playlist:i,mediaSequence:n.mediaSequence+n.segments.length}),i.segments[0].discontinuity=!0,i.discontinuityStarts.unshift(0),(!n.segments.length&&i.timeline>n.timeline||n.segments.length&&i.timeline>n.segments[n.segments.length-1].timeline)&&i.discontinuitySequence--;return}n.segments[a].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,i.discontinuityStarts.unshift(0),i.discontinuitySequence--),Tx({playlist:i,mediaSequence:n.segments[a].number})})},IV=({oldManifest:t,newManifest:e})=>{const r=t.playlists.concat(kx(t)),i=e.playlists.concat(kx(e));return e.timelineStarts=TA([t.timelineStarts,e.timelineStarts]),PV({oldPlaylists:r,newPlaylists:i,timelineStarts:e.timelineStarts}),e},Jg=t=>t&&t.uri+"-"+EV(t.byterange),P4=t=>{const e=t.reduce(function(i,n){return i[n.attributes.baseUrl]||(i[n.attributes.baseUrl]=[]),i[n.attributes.baseUrl].push(n),i},{});let r=[];return Object.values(e).forEach(i=>{const n=SA(i.reduce((s,a)=>{const o=a.attributes.id+(a.attributes.lang||"");return s[o]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),s[o].segments.push(...a.segments)),a.attributes.contentProtection&&(s[o].attributes.contentProtection=a.attributes.contentProtection)):(s[o]=a,s[o].attributes.timelineStarts=[]),s[o].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),s},{}));r=r.concat(n)}),r.map(i=>(i.discontinuityStarts=kV(i.segments||[],"discontinuity"),i))},ub=(t,e)=>{const r=Jg(t.sidx),i=r&&e[r]&&e[r].sidx;return i&&lb(t,i,t.sidx.resolvedUri),t},RV=(t,e={})=>{if(!Object.keys(e).length)return t;for(const r in t)t[r]=ub(t[r],e);return t},OV=({attributes:t,segments:e,sidx:r,mediaSequence:i,discontinuitySequence:n,discontinuityStarts:s},a)=>{const o={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:n,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:i,segments:e};return t.contentProtection&&(o.contentProtection=t.contentProtection),t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),r&&(o.sidx=r),a&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},FV=({attributes:t,segments:e,mediaSequence:r,discontinuityStarts:i,discontinuitySequence:n})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const a={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:i,discontinuitySequence:n,mediaSequence:r,segments:e};return t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),a},NV=(t,e={},r=!1)=>{let i;const n=t.reduce((s,a)=>{const o=a.attributes.role&&a.attributes.role.value||"",l=a.attributes.lang||"";let u=a.attributes.label||"main";if(l&&!a.attributes.label){const d=o?` (${o})`:"";u=`${a.attributes.lang}${d}`}s[u]||(s[u]={language:l,autoselect:!0,default:o==="main",playlists:[],uri:""});const c=ub(OV(a,r),e);return s[u].playlists.push(c),typeof i>"u"&&o==="main"&&(i=a,i.default=!0),s},{});if(!i){const s=Object.keys(n)[0];n[s].default=!0}return n},$V=(t,e={})=>t.reduce((r,i)=>{const n=i.attributes.label||i.attributes.lang||"text";return r[n]||(r[n]={language:n,default:!1,autoselect:!1,playlists:[],uri:""}),r[n].playlists.push(ub(FV(i),e)),r},{}),zV=t=>t.reduce((e,r)=>(r&&r.forEach(i=>{const{channel:n,language:s}=i;e[s]={autoselect:!1,default:!1,instreamId:n,language:s},i.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=i.aspectRatio),i.hasOwnProperty("easyReader")&&(e[s].easyReader=i.easyReader),i.hasOwnProperty("3D")&&(e[s]["3D"]=i["3D"])}),e),{}),UV=({attributes:t,segments:e,sidx:r,discontinuityStarts:i})=>{const n={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:i,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(n.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(n.contentProtection=t.contentProtection),t.serviceLocation&&(n.attributes.serviceLocation=t.serviceLocation),r&&(n.sidx=r),n},qV=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",jV=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",VV=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",HV=(t,e)=>{t.forEach(r=>{r.mediaSequence=0,r.discontinuitySequence=e.findIndex(function({timeline:i}){return i===r.timeline}),r.segments&&r.segments.forEach((i,n)=>{i.number=n})})},Ex=t=>t?Object.keys(t).reduce((e,r)=>{const i=t[r];return e.concat(i.playlists)},[]):[],KV=({dashPlaylists:t,locations:e,contentSteering:r,sidxMapping:i={},previousManifest:n,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:a,type:o,suggestedPresentationDelay:l,minimumUpdatePeriod:u}=t[0].attributes,c=P4(t.filter(qV)).map(UV),d=P4(t.filter(jV)),h=P4(t.filter(VV)),f=t.map(M=>M.attributes.captionServices).filter(Boolean),g={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:RV(c,i)};u>=0&&(g.minimumUpdatePeriod=u*1e3),e&&(g.locations=e),r&&(g.contentSteering=r),o==="dynamic"&&(g.suggestedPresentationDelay=l),s&&s.length>0&&(g.eventStream=s);const y=g.playlists.length===0,C=d.length?NV(d,i,y):null,S=h.length?$V(h,i):null,A=c.concat(Ex(C),Ex(S)),T=A.map(({timelineStarts:M})=>M);return g.timelineStarts=TA(T),HV(A,g.timelineStarts),C&&(g.mediaGroups.AUDIO.audio=C),S&&(g.mediaGroups.SUBTITLES.subs=S),f.length&&(g.mediaGroups["CLOSED-CAPTIONS"].cc=zV(f)),n?IV({oldManifest:n,newManifest:g}):g},WV=(t,e,r)=>{const{NOW:i,clientOffset:n,availabilityStartTime:s,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:l=0}=t,u=(i+n)/1e3,c=s+o,h=u+l-c;return Math.ceil((h*a-e)/r)},EA=(t,e)=>{const{type:r,minimumUpdatePeriod:i=0,media:n="",sourceDuration:s,timescale:a=1,startNumber:o=1,periodStart:l}=t,u=[];let c=-1;for(let d=0;d<e.length;d++){const h=e[d],f=h.d,g=h.r||0,y=h.t||0;c<0&&(c=y),y&&y>c&&(c=y);let C;if(g<0){const T=d+1;T===e.length?r==="dynamic"&&i>0&&n.indexOf("$Number$")>0?C=WV(t,c,f):C=(s*a-c)/f:C=(e[T].t-c)/f}else C=g+1;const S=o+u.length+C;let A=o+u.length;for(;A<S;)u.push({number:A,duration:f/a,time:c,timeline:l}),c+=f,A++}return u},GV=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,XV=t=>(e,r,i,n)=>{if(e==="$$")return"$";if(typeof t[r]>"u")return e;const s=""+t[r];return r==="RepresentationID"||(i?n=parseInt(n,10):n=1,s.length>=n)?s:`${new Array(n-s.length+1).join("0")}${s}`},Ax=(t,e)=>t.replace(GV,XV(e)),YV=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?ob(t):EA(t,e),ZV=(t,e)=>{const r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:i={sourceURL:"",range:""}}=t,n=Hh({baseUrl:t.baseUrl,source:Ax(i.sourceURL,r),range:i.range});return YV(t,e).map(a=>{r.Number=a.number,r.Time=a.time;const o=Ax(t.media||"",r),l=t.timescale||1,u=t.presentationTimeOffset||0,c=t.periodStart+(a.time-u)/l;return{uri:o,timeline:a.timeline,duration:a.duration,resolvedUri:Gg(t.baseUrl||"",o),map:n,number:a.number,presentationTime:c}})},JV=(t,e)=>{const{baseUrl:r,initialization:i={}}=t,n=Hh({baseUrl:r,source:i.sourceURL,range:i.range}),s=Hh({baseUrl:r,source:e.media,range:e.mediaRange});return s.map=n,s},QV=(t,e)=>{const{duration:r,segmentUrls:i=[],periodStart:n}=t;if(!r&&!e||r&&e)throw new Error(g0.SEGMENT_TIME_UNSPECIFIED);const s=i.map(l=>JV(t,l));let a;return r&&(a=ob(t)),e&&(a=EA(t,e)),a.map((l,u)=>{if(s[u]){const c=s[u],d=t.timescale||1,h=t.presentationTimeOffset||0;return c.timeline=l.timeline,c.duration=l.duration,c.number=l.number,c.presentationTime=n+(l.time-h)/d,c}}).filter(l=>l)},eH=({attributes:t,segmentInfo:e})=>{let r,i;e.template?(i=ZV,r=di(t,e.template)):e.base?(i=kA,r=di(t,e.base)):e.list&&(i=QV,r=di(t,e.list));const n={attributes:t};if(!i)return n;const s=i(r,e.segmentTimeline);if(r.duration){const{duration:a,timescale:o=1}=r;r.duration=a/o}else s.length?r.duration=s.reduce((a,o)=>Math.max(a,Math.ceil(o.duration)),0):r.duration=0;return n.attributes=r,n.segments=s,e.base&&r.indexRange&&(n.sidx=s[0],n.segments=[]),n},tH=t=>t.map(eH),xr=(t,e)=>CA(t.childNodes).filter(({tagName:r})=>r===e),mp=t=>t.textContent.trim(),rH=t=>parseFloat(t.split("/").reduce((e,r)=>e/r)),sc=t=>{const o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!o)return 0;const[l,u,c,d,h,f]=o.slice(1);return parseFloat(l||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(c||0)*86400+parseFloat(d||0)*3600+parseFloat(h||0)*60+parseFloat(f||0)},iH=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),Mx={mediaPresentationDuration(t){return sc(t)},availabilityStartTime(t){return iH(t)/1e3},minimumUpdatePeriod(t){return sc(t)},suggestedPresentationDelay(t){return sc(t)},type(t){return t},timeShiftBufferDepth(t){return sc(t)},start(t){return sc(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return rH(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?sc(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},Xr=t=>t&&t.attributes?CA(t.attributes).reduce((e,r)=>{const i=Mx[r.name]||Mx.DEFAULT;return e[r.name]=i(r.value),e},{}):{},nH={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},Qg=(t,e)=>e.length?m0(t.map(function(r){return e.map(function(i){const n=mp(i),s=Gg(r.baseUrl,n),a=di(Xr(i),{baseUrl:s});return s!==n&&!a.serviceLocation&&r.serviceLocation&&(a.serviceLocation=r.serviceLocation),a})})):t,cb=t=>{const e=xr(t,"SegmentTemplate")[0],r=xr(t,"SegmentList")[0],i=r&&xr(r,"SegmentURL").map(d=>di({tag:"SegmentURL"},Xr(d))),n=xr(t,"SegmentBase")[0],s=r||e,a=s&&xr(s,"SegmentTimeline")[0],o=r||n||e,l=o&&xr(o,"Initialization")[0],u=e&&Xr(e);u&&l?u.initialization=l&&Xr(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const c={template:u,segmentTimeline:a&&xr(a,"S").map(d=>Xr(d)),list:r&&di(Xr(r),{segmentUrls:i,initialization:Xr(l)}),base:n&&di(Xr(n),{initialization:Xr(l)})};return Object.keys(c).forEach(d=>{c[d]||delete c[d]}),c},sH=(t,e,r)=>i=>{const n=xr(i,"BaseURL"),s=Qg(e,n),a=di(t,Xr(i)),o=cb(i);return s.map(l=>({segmentInfo:di(r,o),attributes:di(a,l)}))},aH=t=>t.reduce((e,r)=>{const i=Xr(r);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());const n=nH[i.schemeIdUri];if(n){e[n]={attributes:i};const s=xr(r,"cenc:pssh")[0];if(s){const a=mp(s);e[n].pssh=a&&Xj(a)}}return e},{}),oH=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{let i,n;return n=r,/^CC\d=/.test(r)?[i,n]=r.split("="):/^CC\d$/.test(r)&&(i=r),{channel:i,language:n}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{const i={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){const[n,s=""]=r.split("=");i.channel=n,i.language=r,s.split(",").forEach(a=>{const[o,l]=a.split(":");o==="lang"?i.language=l:o==="er"?i.easyReader=Number(l):o==="war"?i.aspectRatio=Number(l):o==="3D"&&(i["3D"]=Number(l))})}else i.language=r;return i.channel&&(i.channel="SERVICE"+i.channel),i})},lH=t=>m0(xr(t.node,"EventStream").map(e=>{const r=Xr(e),i=r.schemeIdUri;return xr(e,"Event").map(n=>{const s=Xr(n),a=s.presentationTime||0,o=r.timescale||1,l=s.duration||0,u=a/o+t.attributes.start;return{schemeIdUri:i,value:r.value,id:s.id,start:u,end:u+l/o,messageData:mp(n)||s.messageData,contentEncoding:r.contentEncoding,presentationTimeOffset:r.presentationTimeOffset||0}})})),uH=(t,e,r)=>i=>{const n=Xr(i),s=Qg(e,xr(i,"BaseURL")),a=xr(i,"Role")[0],o={role:Xr(a)};let l=di(t,n,o);const u=xr(i,"Accessibility")[0],c=oH(Xr(u));c&&(l=di(l,{captionServices:c}));const d=xr(i,"Label")[0];if(d&&d.childNodes.length){const C=d.childNodes[0].nodeValue.trim();l=di(l,{label:C})}const h=aH(xr(i,"ContentProtection"));Object.keys(h).length&&(l=di(l,{contentProtection:h}));const f=cb(i),g=xr(i,"Representation"),y=di(r,f);return m0(g.map(sH(l,s,y)))},cH=(t,e)=>(r,i)=>{const n=Qg(e,xr(r.node,"BaseURL")),s=di(t,{periodStart:r.attributes.start});typeof r.attributes.duration=="number"&&(s.periodDuration=r.attributes.duration);const a=xr(r.node,"AdaptationSet"),o=cb(r.node);return m0(a.map(uH(s,n,o)))},dH=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const r=di({serverURL:mp(t[0])},Xr(t[0]));return r.queryBeforeStart=r.queryBeforeStart==="true",r},hH=({attributes:t,priorPeriodAttributes:e,mpdType:r})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&r==="static"?0:null,pH=(t,e={})=>{const{manifestUri:r="",NOW:i=Date.now(),clientOffset:n=0,eventHandler:s=function(){}}=e,a=xr(t,"Period");if(!a.length)throw new Error(g0.INVALID_NUMBER_OF_PERIOD);const o=xr(t,"Location"),l=Xr(t),u=Qg([{baseUrl:r}],xr(t,"BaseURL")),c=xr(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=i,l.clientOffset=n,o.length&&(l.locations=o.map(mp));const d=[];return a.forEach((h,f)=>{const g=Xr(h),y=d[f-1];g.start=hH({attributes:g,priorPeriodAttributes:y?y.attributes:null,mpdType:l.type}),d.push({node:h,attributes:g})}),{locations:l.locations,contentSteeringInfo:dH(c,s),representationInfo:m0(d.map(cH(l,u))),eventStream:m0(d.map(lH))}},AA=t=>{if(t==="")throw new Error(g0.DASH_EMPTY_MANIFEST);const e=new SV;let r,i;try{r=e.parseFromString(t,"application/xml"),i=r&&r.documentElement.tagName==="MPD"?r.documentElement:null}catch{}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(g0.DASH_INVALID_XML);return i},fH=t=>{const e=xr(t,"UTCTiming")[0];if(!e)return null;const r=Xr(e);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(g0.UNSUPPORTED_UTC_TIMING_SCHEME)}return r},mH=(t,e={})=>{const r=pH(AA(t),e),i=tH(r.representationInfo);return KV({dashPlaylists:i,locations:r.locations,contentSteering:r.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:r.eventStream})},gH=t=>fH(AA(t));var MA=Math.pow(2,32),yH=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r;return e.getBigUint64?(r=e.getBigUint64(0),r<Number.MAX_SAFE_INTEGER?Number(r):r):e.getUint32(0)*MA+e.getUint32(4)},vH={getUint64:yH,MAX_UINT32:MA},Dx=vH.getUint64,bH=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;r.version===0?(r.earliestPresentationTime=e.getUint32(i),r.firstOffset=e.getUint32(i+4),i+=8):(r.earliestPresentationTime=Dx(t.subarray(i)),r.firstOffset=Dx(t.subarray(i+8)),i+=16),i+=2;var n=e.getUint16(i);for(i+=2;n>0;i+=12,n--)r.references.push({referenceType:(t[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(t[i+8]&128),sapType:(t[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return r},xH=bH;const _H=Nu(xH);var wH=ct([73,68,51]),SH=function(e,r){r===void 0&&(r=0),e=ct(e);var i=e[r+5],n=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],s=(i&16)>>4;return s?n+20:n+10},th=function t(e,r){return r===void 0&&(r=0),e=ct(e),e.length-r<10||!vr(e,wH,{offset:r})?r:(r+=SH(e,r),t(e,r))},Lx=function(e){return typeof e=="string"?WE(e):e},CH=function(e){return Array.isArray(e)?e.map(function(r){return Lx(r)}):[Lx(e)]},kH=function t(e,r,i){i===void 0&&(i=!1),r=CH(r),e=ct(e);var n=[];if(!r.length)return n;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(a===0)break;var l=s+a;if(l>e.length){if(i)break;l=e.length}var u=e.subarray(s+8,l);vr(o,r[0])&&(r.length===1?n.push(u):n.push.apply(n,t(u,r.slice(1),i))),s=l}return n},_f={EBML:ct([26,69,223,163]),DocType:ct([66,130]),Segment:ct([24,83,128,103]),SegmentInfo:ct([21,73,169,102]),Tracks:ct([22,84,174,107]),Track:ct([174]),TrackNumber:ct([215]),DefaultDuration:ct([35,227,131]),TrackEntry:ct([174]),TrackType:ct([131]),FlagDefault:ct([136]),CodecID:ct([134]),CodecPrivate:ct([99,162]),VideoTrack:ct([224]),AudioTrack:ct([225]),Cluster:ct([31,67,182,117]),Timestamp:ct([231]),TimestampScale:ct([42,215,177]),BlockGroup:ct([160]),BlockDuration:ct([155]),Block:ct([161]),SimpleBlock:ct([163])},Wy=[128,64,32,16,8,4,2,1],TH=function(e){for(var r=1,i=0;i<Wy.length&&!(e&Wy[i]);i++)r++;return r},L1=function(e,r,i,n){i===void 0&&(i=!0),n===void 0&&(n=!1);var s=TH(e[r]),a=e.subarray(r,r+s);return i&&(a=Array.prototype.slice.call(e,r,r+s),a[0]^=Wy[s-1]),{length:s,value:Vj(a,{signed:n}),bytes:a}},Bx=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return t(r)}):typeof e=="number"?Hj(e):e},EH=function(e){return Array.isArray(e)?e.map(function(r){return Bx(r)}):[Bx(e)]},AH=function t(e,r,i){if(i>=r.length)return r.length;var n=L1(r,i,!1);if(vr(e.bytes,n.bytes))return i;var s=L1(r,i+n.length);return t(e,r,i+s.length+s.value+n.length)},Px=function t(e,r){r=EH(r),e=ct(e);var i=[];if(!r.length)return i;for(var n=0;n<e.length;){var s=L1(e,n,!1),a=L1(e,n+s.length),o=n+s.length+a.length;a.value===127&&(a.value=AH(s,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value,u=e.subarray(o,l);vr(r[0],s.bytes)&&(r.length===1?i.push(u):i=i.concat(t(u,r.slice(1))));var c=s.length+a.length+u.length;n+=c}return i},MH=ct([0,0,0,1]),DH=ct([0,0,1]),LH=ct([0,0,3]),BH=function(e){for(var r=[],i=1;i<e.length-2;)vr(e.subarray(i,i+3),LH)&&(r.push(i+2),i++),i++;if(r.length===0)return e;var n=e.length-r.length,s=new Uint8Array(n),a=0;for(i=0;i<n;a++,i++)a===r[0]&&(a++,r.shift()),s[i]=e[a];return s},DA=function(e,r,i,n){e=ct(e),i=[].concat(i);for(var s=0,a,o=0;s<e.length&&(o<n||a);){var l=void 0;if(vr(e.subarray(s),MH)?l=4:vr(e.subarray(s),DH)&&(l=3),!l){s++;continue}if(o++,a)return BH(e.subarray(a,s));var u=void 0;r==="h264"?u=e[s+l]&31:r==="h265"&&(u=e[s+l]>>1&63),i.indexOf(u)!==-1&&(a=s+l),s+=l+(r==="h264"?1:2)}return e.subarray(0,0)},PH=function(e,r,i){return DA(e,"h264",r,i)},IH=function(e,r,i){return DA(e,"h265",r,i)},$i={webm:ct([119,101,98,109]),matroska:ct([109,97,116,114,111,115,107,97]),flac:ct([102,76,97,67]),ogg:ct([79,103,103,83]),ac3:ct([11,119]),riff:ct([82,73,70,70]),avi:ct([65,86,73]),wav:ct([87,65,86,69]),"3gp":ct([102,116,121,112,51,103]),mp4:ct([102,116,121,112]),fmp4:ct([115,116,121,112]),mov:ct([102,116,121,112,113,116]),moov:ct([109,111,111,118]),moof:ct([109,111,111,102])},y0={aac:function(e){var r=th(e);return vr(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=th(e);return vr(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=Px(e,[_f.EBML,_f.DocType])[0];return vr(r,$i.webm)},mkv:function(e){var r=Px(e,[_f.EBML,_f.DocType])[0];return vr(r,$i.matroska)},mp4:function(e){if(y0["3gp"](e)||y0.mov(e))return!1;if(vr(e,$i.mp4,{offset:4})||vr(e,$i.fmp4,{offset:4})||vr(e,$i.moof,{offset:4})||vr(e,$i.moov,{offset:4}))return!0},mov:function(e){return vr(e,$i.mov,{offset:4})},"3gp":function(e){return vr(e,$i["3gp"],{offset:4})},ac3:function(e){var r=th(e);return vr(e,$i.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=th(e);return vr(e,$i.flac,{offset:r})},ogg:function(e){return vr(e,$i.ogg)},avi:function(e){return vr(e,$i.riff)&&vr(e,$i.avi,{offset:8})},wav:function(e){return vr(e,$i.riff)&&vr(e,$i.wav,{offset:8})},h264:function(e){return PH(e,7,3).length},h265:function(e){return IH(e,[32,33],3).length}},Gy=Object.keys(y0).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);Gy.forEach(function(t){var e=y0[t];y0[t]=function(r){return e(ct(r))}});var RH=y0,db=function(e){e=ct(e);for(var r=0;r<Gy.length;r++){var i=Gy[r];if(RH[i](e))return i}return""},OH=function(e){return kH(e,["moof"]).length>0},hb=9e4,pb,fb,e2,mb,LA,BA,PA;pb=function(t){return t*hb};fb=function(t,e){return t*e};e2=function(t){return t/hb};mb=function(t,e){return t/e};LA=function(t,e){return pb(mb(t,e))};BA=function(t,e){return fb(e2(t),e)};PA=function(t,e,r){return e2(r?t:t-e)};var du={ONE_SECOND_IN_TS:hb,secondsToVideoTs:pb,secondsToAudioTs:fb,videoTsToSeconds:e2,audioTsToSeconds:mb,audioTsToVideoTs:LA,videoTsToAudioTs:BA,metadataTsToSeconds:PA};/**
 * @license
 * Video.js 8.17.4 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var Xy="8.17.4";const $a={},dl=function(t,e){return $a[t]=$a[t]||[],e&&($a[t]=$a[t].concat(e)),$a[t]},FH=function(t,e){dl(t,e)},IA=function(t,e){const r=dl(t).indexOf(e);return r<=-1?!1:($a[t]=$a[t].slice(),$a[t].splice(r,1),!0)},NH=function(t,e){dl(t,[].concat(e).map(r=>{const i=(...n)=>(IA(t,i),r(...n));return i}))},B1={prefixed:!0},Zm=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],Ix=Zm[0];let rh;for(let t=0;t<Zm.length;t++)if(Zm[t][1]in Pe){rh=Zm[t];break}if(rh){for(let t=0;t<rh.length;t++)B1[Ix[t]]=rh[t];B1.prefixed=rh[0]!==Ix[0]}let ln=[];const $H=(t,e,r)=>(i,n,s)=>{const a=e.levels[n],o=new RegExp(`^(${a})$`);let l=t;if(i!=="log"&&s.unshift(i.toUpperCase()+":"),r&&(l=`%c${t}`,s.unshift(r)),s.unshift(l+":"),ln){ln.push([].concat(s));const c=ln.length-1e3;ln.splice(0,c>0?c:0)}if(!H.console)return;let u=H.console[i];!u&&i==="debug"&&(u=H.console.info||H.console.log),!(!u||!a||!o.test(i))&&u[Array.isArray(s)?"apply":"call"](H.console,s)};function Yy(t,e=":",r=""){let i="info",n;function s(...a){n("log",i,a)}return n=$H(t,s,r),s.createLogger=(a,o,l)=>{const u=o!==void 0?o:e,c=l!==void 0?l:r,d=`${t} ${u} ${a}`;return Yy(d,u,c)},s.createNewLogger=(a,o,l)=>Yy(a,o,l),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},s.level=a=>{if(typeof a=="string"){if(!s.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);i=a}return i},s.history=()=>ln?[].concat(ln):[],s.history.filter=a=>(ln||[]).filter(o=>new RegExp(`.*${a}.*`).test(o[0])),s.history.clear=()=>{ln&&(ln.length=0)},s.history.disable=()=>{ln!==null&&(ln.length=0,ln=null)},s.history.enable=()=>{ln===null&&(ln=[])},s.error=(...a)=>n("error",i,a),s.warn=(...a)=>n("warn",i,a),s.debug=(...a)=>n("debug",i,a),s}const Nt=Yy("VIDEOJS"),RA=Nt.createLogger,zH=Object.prototype.toString,OA=function(t){return ca(t)?Object.keys(t):[]};function Gc(t,e){OA(t).forEach(r=>e(t[r],r))}function FA(t,e,r=0){return OA(t).reduce((i,n)=>e(i,t[n],n),r)}function ca(t){return!!t&&typeof t=="object"}function v0(t){return ca(t)&&zH.call(t)==="[object Object]"&&t.constructor===Object}function dr(...t){const e={};return t.forEach(r=>{r&&Gc(r,(i,n)=>{if(!v0(i)){e[n]=i;return}v0(e[n])||(e[n]={}),e[n]=dr(e[n],i)})}),e}function NA(t={}){const e=[];for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];e.push(i)}return e}function t2(t,e,r,i=!0){const n=a=>Object.defineProperty(t,e,{value:a,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const a=r();return n(a),a}};return i&&(s.set=n),Object.defineProperty(t,e,s)}var UH=Object.freeze({__proto__:null,each:Gc,reduce:FA,isObject:ca,isPlain:v0,merge:dr,values:NA,defineLazyProperty:t2});let gb=!1,$A=null,da=!1,zA,UA=!1,Xc=!1,Yc=!1,ha=!1,yb=null,r2=null;const qH=!!(H.cast&&H.cast.framework&&H.cast.framework.CastReceiverContext);let qA=null,P1=!1,i2=!1,I1=!1,n2=!1,R1=!1,O1=!1,F1=!1;const Kh=!!(O0()&&("ontouchstart"in H||H.navigator.maxTouchPoints||H.DocumentTouch&&H.document instanceof H.DocumentTouch)),So=H.navigator&&H.navigator.userAgentData;So&&So.platform&&So.brands&&(da=So.platform==="Android",Xc=!!So.brands.find(t=>t.brand==="Microsoft Edge"),Yc=!!So.brands.find(t=>t.brand==="Chromium"),ha=!Xc&&Yc,yb=r2=(So.brands.find(t=>t.brand==="Chromium")||{}).version||null,i2=So.platform==="Windows");if(!Yc){const t=H.navigator&&H.navigator.userAgent||"";gb=/iPod/i.test(t),$A=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),da=/Android/i.test(t),zA=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const r=e[1]&&parseFloat(e[1]),i=e[2]&&parseFloat(e[2]);return r&&i?parseFloat(e[1]+"."+e[2]):r||null}(),UA=/Firefox/i.test(t),Xc=/Edg/i.test(t),Yc=/Chrome/i.test(t)||/CriOS/i.test(t),ha=!Xc&&Yc,yb=r2=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),qA=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let r=e&&parseFloat(e[1]);return!r&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(r=11),r}(),R1=/Tizen/i.test(t),O1=/Web0S/i.test(t),F1=R1||O1,P1=/Safari/i.test(t)&&!ha&&!da&&!Xc&&!F1,i2=/Windows/i.test(t),I1=/iPad/i.test(t)||P1&&Kh&&!/iPhone/i.test(t),n2=/iPhone/i.test(t)&&!I1}const Qi=n2||I1||gb,s2=(P1||Qi)&&!ha;var jA=Object.freeze({__proto__:null,get IS_IPOD(){return gb},get IOS_VERSION(){return $A},get IS_ANDROID(){return da},get ANDROID_VERSION(){return zA},get IS_FIREFOX(){return UA},get IS_EDGE(){return Xc},get IS_CHROMIUM(){return Yc},get IS_CHROME(){return ha},get CHROMIUM_VERSION(){return yb},get CHROME_VERSION(){return r2},IS_CHROMECAST_RECEIVER:qH,get IE_VERSION(){return qA},get IS_SAFARI(){return P1},get IS_WINDOWS(){return i2},get IS_IPAD(){return I1},get IS_IPHONE(){return n2},get IS_TIZEN(){return R1},get IS_WEBOS(){return O1},get IS_SMART_TV(){return F1},TOUCH_ENABLED:Kh,IS_IOS:Qi,IS_ANY_SAFARI:s2});function Rx(t){return typeof t=="string"&&!!t.trim()}function jH(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function O0(){return Pe===H.document}function F0(t){return ca(t)&&t.nodeType===1}function VA(){try{return H.parent!==H.self}catch{return!0}}function HA(t){return function(e,r){if(!Rx(e))return Pe[t](null);Rx(r)&&(r=Pe.querySelector(r));const i=F0(r)?r:Pe;return i[t]&&i[t](e)}}function mt(t="div",e={},r={},i){const n=Pe.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const a=e[s];s==="textContent"?Sl(n,a):(n[s]!==a||s==="tabIndex")&&(n[s]=a)}),Object.getOwnPropertyNames(r).forEach(function(s){n.setAttribute(s,r[s])}),i&&vb(n,i),n}function Sl(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Zy(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function gh(t,e){return jH(e),t.classList.contains(e)}function _u(t,...e){return t.classList.add(...e.reduce((r,i)=>r.concat(i.split(/\s+/)),[])),t}function a2(t,...e){return t?(t.classList.remove(...e.reduce((r,i)=>r.concat(i.split(/\s+/)),[])),t):(Nt.warn("removeClass was called with an element that doesn't exist"),null)}function KA(t,e,r){return typeof r=="function"&&(r=r(t,e)),typeof r!="boolean"&&(r=void 0),e.split(/\s+/).forEach(i=>t.classList.toggle(i,r)),t}function WA(t,e){Object.getOwnPropertyNames(e).forEach(function(r){const i=e[r];i===null||typeof i>"u"||i===!1?t.removeAttribute(r):t.setAttribute(r,i===!0?"":i)})}function Zo(t){const e={},r=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const i=t.attributes;for(let n=i.length-1;n>=0;n--){const s=i[n].name;let a=i[n].value;r.includes(s)&&(a=a!==null),e[s]=a}}return e}function GA(t,e){return t.getAttribute(e)}function b0(t,e,r){t.setAttribute(e,r)}function o2(t,e){t.removeAttribute(e)}function XA(){Pe.body.focus(),Pe.onselectstart=function(){return!1}}function YA(){Pe.onselectstart=function(){return!0}}function x0(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(i=>{e[i]!==void 0&&(r[i]=e[i])}),r.height||(r.height=parseFloat(_0(t,"height"))),r.width||(r.width=parseFloat(_0(t,"width"))),r}}function Wh(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,r=t.offsetHeight;let i=0,n=0;for(;t.offsetParent&&t!==Pe[B1.fullscreenElement];)i+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{left:i,top:n,width:e,height:r}}function l2(t,e){const r={x:0,y:0};if(Qi){let c=t;for(;c&&c.nodeName.toLowerCase()!=="html";){const d=_0(c,"transform");if(/^matrix/.test(d)){const h=d.slice(7,-1).split(/,\s/).map(Number);r.x+=h[4],r.y+=h[5]}else if(/^matrix3d/.test(d)){const h=d.slice(9,-1).split(/,\s/).map(Number);r.x+=h[12],r.y+=h[13]}if(c.assignedSlot&&c.assignedSlot.parentElement&&H.WebKitCSSMatrix){const h=H.getComputedStyle(c.assignedSlot.parentElement).transform,f=new H.WebKitCSSMatrix(h);r.x+=f.m41,r.y+=f.m42}c=c.parentNode||c.host}}const i={},n=Wh(e.target),s=Wh(t),a=s.width,o=s.height;let l=e.offsetY-(s.top-n.top),u=e.offsetX-(s.left-n.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-s.left,l=e.changedTouches[0].pageY+s.top,Qi&&(u-=r.x,l-=r.y)),i.y=1-Math.max(0,Math.min(1,l/o)),i.x=Math.max(0,Math.min(1,u/a)),i}function ZA(t){return ca(t)&&t.nodeType===3}function u2(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function JA(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),F0(e)||ZA(e))return e;if(typeof e=="string"&&/\S/.test(e))return Pe.createTextNode(e)}).filter(e=>e)}function vb(t,e){return JA(e).forEach(r=>t.appendChild(r)),t}function QA(t,e){return vb(u2(t),e)}function Gh(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const hl=HA("querySelector"),eM=HA("querySelectorAll");function _0(t,e){if(!t||!e)return"";if(typeof H.getComputedStyle=="function"){let r;try{r=H.getComputedStyle(t)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}function tM(t){[...Pe.styleSheets].forEach(e=>{try{const r=[...e.cssRules].map(n=>n.cssText).join(""),i=Pe.createElement("style");i.textContent=r,t.document.head.appendChild(i)}catch{const i=Pe.createElement("link");i.rel="stylesheet",i.type=e.type,i.media=e.media.mediaText,i.href=e.href,t.document.head.appendChild(i)}})}var rM=Object.freeze({__proto__:null,isReal:O0,isEl:F0,isInFrame:VA,createEl:mt,textContent:Sl,prependTo:Zy,hasClass:gh,addClass:_u,removeClass:a2,toggleClass:KA,setAttributes:WA,getAttributes:Zo,getAttribute:GA,setAttribute:b0,removeAttribute:o2,blockTextSelection:XA,unblockTextSelection:YA,getBoundingClientRect:x0,findPosition:Wh,getPointerPosition:l2,isTextNode:ZA,emptyEl:u2,normalizeContent:JA,appendContent:vb,insertContent:QA,isSingleLeftClick:Gh,$:hl,$$:eM,computedStyle:_0,copyStyleSheetsToWindow:tM});let iM=!1,Jy;const VH=function(){if(Jy.options.autoSetup===!1)return;const t=Array.prototype.slice.call(Pe.getElementsByTagName("video")),e=Array.prototype.slice.call(Pe.getElementsByTagName("audio")),r=Array.prototype.slice.call(Pe.getElementsByTagName("video-js")),i=t.concat(e,r);if(i&&i.length>0)for(let n=0,s=i.length;n<s;n++){const a=i[n];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&Jy(a);else{Qy(1);break}}else iM||Qy(1)};function Qy(t,e){O0()&&(e&&(Jy=e),H.setTimeout(VH,t))}function e5(){iM=!0,H.removeEventListener("load",e5)}O0()&&(Pe.readyState==="complete"?e5():H.addEventListener("load",e5));const nM=function(t){const e=Pe.createElement("style");return e.className=t,e},sM=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var Yi=new WeakMap;const HH=3;let KH=HH;function rs(){return KH++}function Ox(t,e){if(!Yi.has(t))return;const r=Yi.get(t);r.handlers[e].length===0&&(delete r.handlers[e],t.removeEventListener?t.removeEventListener(e,r.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&Yi.delete(t)}function bb(t,e,r,i){r.forEach(function(n){t(e,n,i)})}function c2(t){if(t.fixed_)return t;function e(){return!0}function r(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const i=t||H.event;t={};const n=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const s in i)n.includes(s)||s==="returnValue"&&i.preventDefault||(t[s]=i[s]);if(t.target||(t.target=t.srcElement||Pe),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=r,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=r,t.clientX!==null&&t.clientX!==void 0){const s=Pe.documentElement,a=Pe.body;t.pageX=t.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let wf;const WH=function(){if(typeof wf!="boolean"){wf=!1;try{const t=Object.defineProperty({},"passive",{get(){wf=!0}});H.addEventListener("test",null,t),H.removeEventListener("test",null,t)}catch{}}return wf},GH=["touchstart","touchmove"];function In(t,e,r){if(Array.isArray(e))return bb(In,t,e,r);Yi.has(t)||Yi.set(t,{});const i=Yi.get(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),r.guid||(r.guid=rs()),i.handlers[e].push(r),i.dispatcher||(i.disabled=!1,i.dispatcher=function(n,s){if(i.disabled)return;n=c2(n);const a=i.handlers[n.type];if(a){const o=a.slice(0);for(let l=0,u=o.length;l<u&&!n.isImmediatePropagationStopped();l++)try{o[l].call(t,n,s)}catch(c){Nt.error(c)}}}),i.handlers[e].length===1)if(t.addEventListener){let n=!1;WH()&&GH.indexOf(e)>-1&&(n={passive:!0}),t.addEventListener(e,i.dispatcher,n)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function Pi(t,e,r){if(!Yi.has(t))return;const i=Yi.get(t);if(!i.handlers)return;if(Array.isArray(e))return bb(Pi,t,e,r);const n=function(a,o){i.handlers[o]=[],Ox(a,o)};if(e===void 0){for(const a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&n(t,a);return}const s=i.handlers[e];if(s){if(!r){n(t,e);return}if(r.guid)for(let a=0;a<s.length;a++)s[a].guid===r.guid&&s.splice(a--,1);Ox(t,e)}}function N0(t,e,r){const i=Yi.has(t)?Yi.get(t):{},n=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=c2(e),i.dispatcher&&i.dispatcher.call(t,e,r),n&&!e.isPropagationStopped()&&e.bubbles===!0)N0.call(null,n,e,r);else if(!n&&!e.defaultPrevented&&e.target&&e.target[e.type]){Yi.has(e.target)||Yi.set(e.target,{});const s=Yi.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function d2(t,e,r){if(Array.isArray(e))return bb(d2,t,e,r);const i=function(){Pi(t,e,i),r.apply(this,arguments)};i.guid=r.guid=r.guid||rs(),In(t,e,i)}function xb(t,e,r){const i=function(){Pi(t,e,i),r.apply(this,arguments)};i.guid=r.guid=r.guid||rs(),In(t,e,i)}var XH=Object.freeze({__proto__:null,fixEvent:c2,on:In,off:Pi,trigger:N0,one:d2,any:xb});const is=30,mr=function(t,e,r){e.guid||(e.guid=rs());const i=e.bind(t);return i.guid=r?r+"_"+e.guid:e.guid,i},pa=function(t,e){let r=H.performance.now();return function(...n){const s=H.performance.now();s-r>=e&&(t(...n),r=s)}},aM=function(t,e,r,i=H){let n;const s=()=>{i.clearTimeout(n),n=null},a=function(){const o=this,l=arguments;let u=function(){n=null,u=null,r||t.apply(o,l)};!n&&r&&t.apply(o,l),i.clearTimeout(n),n=i.setTimeout(u,e)};return a.cancel=s,a};var YH=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:is,bind_:mr,throttle:pa,debounce:aM});let xd;class Rn{on(e,r){const i=this.addEventListener;this.addEventListener=()=>{},In(this,e,r),this.addEventListener=i}off(e,r){Pi(this,e,r)}one(e,r){const i=this.addEventListener;this.addEventListener=()=>{},d2(this,e,r),this.addEventListener=i}any(e,r){const i=this.addEventListener;this.addEventListener=()=>{},xb(this,e,r),this.addEventListener=i}trigger(e){const r=e.type||e;typeof e=="string"&&(e={type:r}),e=c2(e),this.allowedEvents_[r]&&this["on"+r]&&this["on"+r](e),N0(this,e)}queueTrigger(e){xd||(xd=new Map);const r=e.type||e;let i=xd.get(this);i||(i=new Map,xd.set(this,i));const n=i.get(r);i.delete(r),H.clearTimeout(n);const s=H.setTimeout(()=>{i.delete(r),i.size===0&&(i=null,xd.delete(this)),this.trigger(e)},0);i.set(r,s)}}Rn.prototype.allowedEvents_={};Rn.prototype.addEventListener=Rn.prototype.on;Rn.prototype.removeEventListener=Rn.prototype.off;Rn.prototype.dispatchEvent=Rn.prototype.trigger;const h2=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,Ha=t=>t instanceof Rn||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),ZH=(t,e)=>{Ha(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},t5=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,N1=(t,e,r)=>{if(!t||!t.nodeName&&!Ha(t))throw new Error(`Invalid target for ${h2(e)}#${r}; must be a DOM node or evented object.`)},oM=(t,e,r)=>{if(!t5(t))throw new Error(`Invalid event type for ${h2(e)}#${r}; must be a non-empty string or array.`)},lM=(t,e,r)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${h2(e)}#${r}; must be a function.`)},I4=(t,e,r)=>{const i=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let n,s,a;return i?(n=t.eventBusEl_,e.length>=3&&e.shift(),[s,a]=e):(n=e[0],s=e[1],a=e[2]),N1(n,t,r),oM(s,t,r),lM(a,t,r),a=mr(t,a),{isTargetingSelf:i,target:n,type:s,listener:a}},Fl=(t,e,r,i)=>{N1(t,t,e),t.nodeName?XH[e](t,r,i):t[e](r,i)},JH={on(...t){const{isTargetingSelf:e,target:r,type:i,listener:n}=I4(this,t,"on");if(Fl(r,"on",i,n),!e){const s=()=>this.off(r,i,n);s.guid=n.guid;const a=()=>this.off("dispose",s);a.guid=n.guid,Fl(this,"on","dispose",s),Fl(r,"on","dispose",a)}},one(...t){const{isTargetingSelf:e,target:r,type:i,listener:n}=I4(this,t,"one");if(e)Fl(r,"one",i,n);else{const s=(...a)=>{this.off(r,i,s),n.apply(null,a)};s.guid=n.guid,Fl(r,"one",i,s)}},any(...t){const{isTargetingSelf:e,target:r,type:i,listener:n}=I4(this,t,"any");if(e)Fl(r,"any",i,n);else{const s=(...a)=>{this.off(r,i,s),n.apply(null,a)};s.guid=n.guid,Fl(r,"any",i,s)}},off(t,e,r){if(!t||t5(t))Pi(this.eventBusEl_,t,e);else{const i=t,n=e;N1(i,this,"off"),oM(n,this,"off"),lM(r,this,"off"),r=mr(this,r),this.off("dispose",r),i.nodeName?(Pi(i,n,r),Pi(i,"dispose",r)):Ha(i)&&(i.off(n,r),i.off("dispose",r))}},trigger(t,e){N1(this.eventBusEl_,this,"trigger");const r=t&&typeof t!="string"?t.type:t;if(!t5(r))throw new Error(`Invalid event type for ${h2(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return N0(this.eventBusEl_,t,e)}};function _b(t,e={}){const{eventBusKey:r}=e;if(r){if(!t[r].nodeName)throw new Error(`The eventBusKey "${r}" does not refer to an element.`);t.eventBusEl_=t[r]}else t.eventBusEl_=mt("span",{className:"vjs-event-bus"});return Object.assign(t,JH),t.eventedCallbacks&&t.eventedCallbacks.forEach(i=>{i()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(i){i&&Yi.has(i)&&Yi.delete(i)}),H.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const QH={state:{},setState(t){typeof t=="function"&&(t=t());let e;return Gc(t,(r,i)=>{this.state[i]!==r&&(e=e||{},e[i]={from:this.state[i],to:r}),this.state[i]=r}),e&&Ha(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function uM(t,e){return Object.assign(t,QH),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&Ha(t)&&t.on("statechanged",t.handleStateChanged),t}const yh=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},Lr=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},cM=function(t,e){return Lr(t)===Lr(e)};var eK=Object.freeze({__proto__:null,toLowerCase:yh,toTitleCase:Lr,titleCaseEquals:cM});class he{constructor(e,r,i){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=dr({},this.options_),r=this.options_=dr(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){const n=e&&e.id&&e.id()||"no_player";this.id_=`${n}_component_${rs()}`}this.name_=r.name||null,r.el?this.el_=r.el:r.createEl!==!1&&(this.el_=this.createEl()),r.className&&this.el_&&r.className.split(" ").forEach(n=>this.addClass(n)),["on","off","one","any","trigger"].forEach(n=>{this[n]=void 0}),r.evented!==!1&&(_b(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),uM(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,r.initChildren!==!1&&this.initChildren(),this.ready(i),r.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=dr(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,r,i){return mt(e,r,i)}localize(e,r,i=e){const n=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),a=s&&s[n],o=n&&n.split("-")[0],l=s&&s[o];let u=i;return a&&a[e]?u=a[e]:l&&l[e]&&(u=l[e]),r&&(u=u.replace(/\{(\d+)\}/g,function(c,d){const h=r[d-1];let f=h;return typeof h>"u"&&(f=c),f})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((i,n)=>i.concat(n),[]);let r=this;for(let i=0;i<e.length;i++)if(r=r.getChild(e[i]),!r||!r.getChild)return;return r}setIcon(e,r=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const i="http://www.w3.org/2000/svg",n=mt("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=Pe.createElementNS(i,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const a=Pe.createElementNS(i,"use");return s.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),n.appendChild(s),this.iconIsSet_?r.replaceChild(n,r.querySelector(".vjs-icon-placeholder")):r.appendChild(n),this.iconIsSet_=!0,n}addChild(e,r={},i=this.children_.length){let n,s;if(typeof e=="string"){s=Lr(e);const a=r.componentClass||s;r.name=s;const o=he.getComponent(a);if(!o)throw new Error(`Component ${a} does not exist`);if(typeof o!="function")return null;n=new o(this.player_||this,r)}else n=e;if(n.parentComponent_&&n.parentComponent_.removeChild(n),this.children_.splice(i,0,n),n.parentComponent_=this,typeof n.id=="function"&&(this.childIndex_[n.id()]=n),s=s||n.name&&Lr(n.name()),s&&(this.childNameIndex_[s]=n,this.childNameIndex_[yh(s)]=n),typeof n.el=="function"&&n.el()){let a=null;this.children_[i+1]&&(this.children_[i+1].el_?a=this.children_[i+1].el_:F0(this.children_[i+1])&&(a=this.children_[i+1])),this.contentEl().insertBefore(n.el(),a)}return n}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let r=!1;for(let n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){r=!0,this.children_.splice(n,1);break}if(!r)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Lr(e.name())]=null,this.childNameIndex_[yh(e.name())]=null;const i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const r=this.options_,i=a=>{const o=a.name;let l=a.opts;if(r[o]!==void 0&&(l=r[o]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const u=this.addChild(o,l);u&&(this[o]=u)};let n;const s=he.getComponent("Tech");Array.isArray(e)?n=e:n=Object.keys(e),n.concat(Object.keys(this.options_).filter(function(a){return!n.some(function(o){return typeof o=="string"?a===o:a===o.name})})).map(a=>{let o,l;return typeof a=="string"?(o=a,l=e[o]||this.options_[o]||{}):(o=a.name,l=a),{name:o,opts:l}}).filter(a=>{const o=he.getComponent(a.opts.componentClass||Lr(a.name));return o&&!s.isTech(o)}).forEach(i)}}buildCSSClass(){return""}ready(e,r=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}r?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)}$(e,r){return hl(e,r||this.contentEl())}$$(e,r){return eM(e,r||this.contentEl())}hasClass(e){return gh(this.el_,e)}addClass(...e){_u(this.el_,...e)}removeClass(...e){a2(this.el_,...e)}toggleClass(e,r){KA(this.el_,e,r)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return GA(this.el_,e)}setAttribute(e,r){b0(this.el_,e,r)}removeAttribute(e){o2(this.el_,e)}width(e,r){return this.dimension("width",e,r)}height(e,r){return this.dimension("height",e,r)}dimensions(e,r){this.width(e,!0),this.height(r)}dimension(e,r,i){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[e]=r:r==="auto"?this.el_.style[e]="":this.el_.style[e]=r+"px",i||this.trigger("componentresize");return}if(!this.el_)return 0;const n=this.el_.style[e],s=n.indexOf("px");return parseInt(s!==-1?n.slice(0,s):this.el_["offset"+Lr(e)],10)}currentDimension(e){let r=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(r=_0(this.el_,e),r=parseFloat(r),r===0||isNaN(r)){const i=`offset${Lr(e)}`;r=this.el_[i]}return r}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),r={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},i={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:r,center:i}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,r=null;const i=10,n=200;let s;this.on("touchstart",function(o){o.touches.length===1&&(r={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e=H.performance.now(),s=!0)}),this.on("touchmove",function(o){if(o.touches.length>1)s=!1;else if(r){const l=o.touches[0].pageX-r.pageX,u=o.touches[0].pageY-r.pageY;Math.sqrt(l*l+u*u)>i&&(s=!1)}});const a=function(){s=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(o){r=null,s===!0&&H.performance.now()-e<n&&(o.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=mr(this.player(),this.player().reportUserActivity);let r;this.on("touchstart",function(){e(),this.clearInterval(r),r=this.setInterval(e,250)});const i=function(n){e(),this.clearInterval(r)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}setTimeout(e,r){var i;return e=mr(this,e),this.clearTimersOnDispose_(),i=H.setTimeout(()=>{this.setTimeoutIds_.has(i)&&this.setTimeoutIds_.delete(i),e()},r),this.setTimeoutIds_.add(i),i}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),H.clearTimeout(e)),e}setInterval(e,r){e=mr(this,e),this.clearTimersOnDispose_();const i=H.setInterval(e,r);return this.setIntervalIds_.add(i),i}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),H.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var r;return e=mr(this,e),r=H.requestAnimationFrame(()=>{this.rafIds_.has(r)&&this.rafIds_.delete(r),e()}),this.rafIds_.add(r),r}requestNamedAnimationFrame(e,r){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),r=mr(this,r);const i=this.requestAnimationFrame(()=>{r(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,i),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),H.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,r])=>{this[e].forEach((i,n)=>this[r](n))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function r(s){const a=H.getComputedStyle(s,null),o=a.getPropertyValue("visibility");return a.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(o)}function i(s){return!(!r(s.parentElement)||!r(s)||s.style.opacity==="0"||H.getComputedStyle(s).height==="0px"||H.getComputedStyle(s).width==="0px")}function n(s){if(s.offsetWidth+s.offsetHeight+s.getBoundingClientRect().height+s.getBoundingClientRect().width===0)return!1;const a={x:s.getBoundingClientRect().left+s.offsetWidth/2,y:s.getBoundingClientRect().top+s.offsetHeight/2};if(a.x<0||a.x>(Pe.documentElement.clientWidth||H.innerWidth)||a.y<0||a.y>(Pe.documentElement.clientHeight||H.innerHeight))return!1;let o=Pe.elementFromPoint(a.x,a.y);for(;o;){if(o===s)return!0;if(o.parentNode)o=o.parentNode;else return!1}}return e||(e=this.el()),!!(n(e)&&i(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,r){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const i=he.getComponent("Tech"),n=i&&i.isTech(r),s=he===r||he.prototype.isPrototypeOf(r.prototype);if(n||!s){let o;throw n?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error(`Illegal component, "${e}"; ${o}.`)}e=Lr(e),he.components_||(he.components_={});const a=he.getComponent("Player");if(e==="Player"&&a&&a.players){const o=a.players,l=Object.keys(o);if(o&&l.length>0&&l.map(u=>o[u]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return he.components_[e]=r,he.components_[yh(e)]=r,r}static getComponent(e){if(!(!e||!he.components_))return he.components_[e]}}he.registerComponent("Component",he);function tK(t,e,r){if(typeof e!="number"||e<0||e>r)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${r}).`)}function Fx(t,e,r,i){return tK(t,i,r.length-1),r[i][e]}function R4(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:Fx.bind(null,"start",0,t),end:Fx.bind(null,"end",1,t)},H.Symbol&&H.Symbol.iterator&&(e[H.Symbol.iterator]=()=>(t||[]).values()),e}function ks(t,e){return Array.isArray(t)?R4(t):t===void 0||e===void 0?R4():R4([[t,e]])}const dM=function(t,e){t=t<0?0:t;let r=Math.floor(t%60),i=Math.floor(t/60%60),n=Math.floor(t/3600);const s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(n=i=r="-"),n=n>0||a>0?n+":":"",i=((n||s>=10)&&i<10?"0"+i:i)+":",r=r<10?"0"+r:r,n+i+r};let wb=dM;function hM(t){wb=t}function pM(){wb=dM}function Bu(t,e=t){return wb(t,e)}var rK=Object.freeze({__proto__:null,createTimeRanges:ks,createTimeRange:ks,setFormatTime:hM,resetFormatTime:pM,formatTime:Bu});function fM(t,e){let r=0,i,n;if(!e)return 0;(!t||!t.length)&&(t=ks(0,0));for(let s=0;s<t.length;s++)i=t.start(s),n=t.end(s),n>e&&(n=e),r+=n-i;return r/e}function Er(t){if(t instanceof Er)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:ca(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=Er.defaultMessages[this.code]||"")}Er.prototype.code=0;Er.prototype.message="";Er.prototype.status=null;Er.prototype.metadata=null;Er.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Er.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};Er.MEDIA_ERR_CUSTOM=0;Er.prototype.MEDIA_ERR_CUSTOM=0;Er.MEDIA_ERR_ABORTED=1;Er.prototype.MEDIA_ERR_ABORTED=1;Er.MEDIA_ERR_NETWORK=2;Er.prototype.MEDIA_ERR_NETWORK=2;Er.MEDIA_ERR_DECODE=3;Er.prototype.MEDIA_ERR_DECODE=3;Er.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Er.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Er.MEDIA_ERR_ENCRYPTED=5;Er.prototype.MEDIA_ERR_ENCRYPTED=5;function vh(t){return t!=null&&typeof t.then=="function"}function Ys(t){vh(t)&&t.then(null,e=>{})}const r5=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((r,i,n)=>(t[i]&&(r[i]=t[i]),r),{cues:t.cues&&Array.prototype.map.call(t.cues,function(r){return{startTime:r.startTime,endTime:r.endTime,text:r.text,id:r.id}})})},iK=function(t){const e=t.$$("track"),r=Array.prototype.map.call(e,n=>n.track);return Array.prototype.map.call(e,function(n){const s=r5(n.track);return n.src&&(s.src=n.src),s}).concat(Array.prototype.filter.call(t.textTracks(),function(n){return r.indexOf(n)===-1}).map(r5))},nK=function(t,e){return t.forEach(function(r){const i=e.addRemoteTextTrack(r).track;!r.src&&r.cues&&r.cues.forEach(n=>i.addCue(n))}),e.textTracks()};var Nx={textTracksToJson:iK,jsonToTextTracks:nK,trackToJson_:r5};const O4="vjs-modal-dialog";class $0 extends he{constructor(e,r){super(e,r),this.handleKeyDown_=i=>this.handleKeyDown(i),this.close_=i=>this.close(i),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=mt("div",{className:`${O4}-content`},{role:"document"}),this.descEl_=mt("p",{className:`${O4}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Sl(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${O4} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const r=this.closeable_=!!e;let i=this.getChild("closeButton");if(r&&!i){const n=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(i,"close",this.close_)}!r&&i&&(this.off(i,"close",this.close_),this.removeChild(i),i.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const r=this.contentEl(),i=r.parentNode,n=r.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(r),this.empty(),QA(r,e),this.trigger("modalfill"),n?i.insertBefore(r,n):i.appendChild(r);const s=this.getChild("closeButton");s&&i.appendChild(s.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),u2(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Pe.activeElement,r=this.player_.el_;this.previouslyActiveEl_=null,(r.contains(e)||r===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const r=this.focusableEls_(),i=this.el_.querySelector(":focus");let n;for(let s=0;s<r.length;s++)if(i===r[s]){n=s;break}Pe.activeElement===this.el_&&(n=0),e.shiftKey&&n===0?(r[r.length-1].focus(),e.preventDefault()):!e.shiftKey&&n===r.length-1&&(r[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,r=>(r instanceof H.HTMLAnchorElement||r instanceof H.HTMLAreaElement)&&r.hasAttribute("href")||(r instanceof H.HTMLInputElement||r instanceof H.HTMLSelectElement||r instanceof H.HTMLTextAreaElement||r instanceof H.HTMLButtonElement)&&!r.hasAttribute("disabled")||r instanceof H.HTMLIFrameElement||r instanceof H.HTMLObjectElement||r instanceof H.HTMLEmbedElement||r.hasAttribute("tabindex")&&r.getAttribute("tabindex")!==-1||r.hasAttribute("contenteditable"))}}$0.prototype.options_={pauseOnOpen:!0,temporary:!0};he.registerComponent("ModalDialog",$0);class w0 extends Rn{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let r=0;r<e.length;r++)this.addTrack(e[r])}addTrack(e){const r=this.tracks_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.tracks_[r]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},Ha(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let r;for(let i=0,n=this.length;i<n;i++)if(this[i]===e){r=this[i],r.off&&r.off(),this.tracks_.splice(i,1);break}r&&this.trigger({track:r,type:"removetrack",target:this})}getTrackById(e){let r=null;for(let i=0,n=this.length;i<n;i++){const s=this[i];if(s.id===e){r=s;break}}return r}}w0.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in w0.prototype.allowedEvents_)w0.prototype["on"+t]=null;const F4=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].enabled=!1)};class sK extends w0{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].enabled){F4(e,e[r]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&F4(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,F4(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const N4=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].selected=!1)};class aK extends w0{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].selected){N4(e,e[r]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let r=0;r<this.length;r++)if(this[r].selected)return r;return-1},set(){}})}addTrack(e){e.selected&&N4(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,N4(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class mM extends w0{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class oK{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let r=0,i=e.length;r<i;r++)this.addTrackElement_(e[r])}addTrackElement_(e){const r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.trackElements_[r]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let r;for(let i=0,n=this.trackElements_.length;i<n;i++)if(e===this.trackElements_[i].track){r=this.trackElements_[i];break}return r}removeTrackElement_(e){for(let r=0,i=this.trackElements_.length;r<i;r++)if(e===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}}}class $1{constructor(e){$1.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const r=this.length||0;let i=0;const n=e.length;this.cues_=e,this.length_=e.length;const s=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(r<n)for(i=r;i<n;i++)s.call(this,i)}getCueById(e){let r=null;for(let i=0,n=this.length;i<n;i++){const s=this[i];if(s.id===e){r=s;break}}return r}}const lK={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},uK={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},cK={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},$x={disabled:"disabled",hidden:"hidden",showing:"showing"};class Sb extends Rn{constructor(e={}){super();const r={id:e.id||"vjs_track_"+rs(),kind:e.kind||"",language:e.language||""};let i=e.label||"";for(const n in r)Object.defineProperty(this,n,{get(){return r[n]},set(){}});Object.defineProperty(this,"label",{get(){return i},set(n){n!==i&&(i=n,this.trigger("labelchange"))}})}}const Cb=function(t){return new URL(t,Pe.baseURI)},gM=function(t){return new URL(t,Pe.baseURI).href},kb=function(t){if(typeof t=="string"){const r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(r)return r.pop().toLowerCase()}return""},p2=function(t,e=H.location){return Cb(t).origin!==e.origin};var dK=Object.freeze({__proto__:null,parseUrl:Cb,getAbsoluteURL:gM,getFileExtension:kb,isCrossOrigin:p2});const zx=function(t,e){const r=new H.WebVTT.Parser(H,H.vttjs,H.WebVTT.StringDecoder()),i=[];r.oncue=function(n){e.addCue(n)},r.onparsingerror=function(n){i.push(n)},r.onflush=function(){e.trigger({type:"loadeddata",target:e})},r.parse(t),i.length>0&&(H.console&&H.console.groupCollapsed&&H.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),i.forEach(n=>Nt.error(n)),H.console&&H.console.groupEnd&&H.console.groupEnd()),r.flush()},Ux=function(t,e){const r={uri:t},i=p2(t);i&&(r.cors=i);const n=e.tech_.crossOrigin()==="use-credentials";n&&(r.withCredentials=n),NE(r,mr(this,function(s,a,o){if(s)return Nt.error(s,a);e.loaded_=!0,typeof H.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){Nt.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return zx(o,e)}):zx(o,e)}))};class gp extends Sb{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const r=dr(e,{kind:cK[e.kind]||"subtitles",language:e.language||e.srclang||""});let i=$x[r.mode]||"disabled";const n=r.default;(r.kind==="metadata"||r.kind==="chapters")&&(i="hidden"),super(r),this.tech_=r.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new $1(this.cues_),a=new $1(this.activeCues_);let o=!1;this.timeupdateHandler=mr(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),i!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return n},set(){}},mode:{get(){return i},set(u){$x[u]&&i!==u&&(i=u,!this.preload_&&i!=="disabled"&&this.cues.length===0&&Ux(this.src,this),this.stopTracking(),i!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const u=this.tech_.currentTime(),c=[];for(let d=0,h=this.cues.length;d<h;d++){const f=this.cues[d];f.startTime<=u&&f.endTime>=u&&c.push(f)}if(o=!1,c.length!==this.activeCues_.length)o=!0;else for(let d=0;d<c.length;d++)this.activeCues_.indexOf(c[d])===-1&&(o=!0);return this.activeCues_=c,a.setCues_(this.activeCues_),a},set(){}}}),r.src?(this.src=r.src,this.preload_||(this.loaded_=!0),(this.preload_||r.kind!=="subtitles"&&r.kind!=="captions")&&Ux(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let r=e;if(!("getCueAsHTML"in r)){r=new H.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const n in e)n in r||(r[n]=e[n]);r.id=e.id,r.originalCue_=e}const i=this.tech_.textTracks();for(let n=0;n<i.length;n++)i[n]!==this&&i[n].removeCue(r);this.cues_.push(r),this.cues.setCues_(this.cues_)}removeCue(e){let r=this.cues_.length;for(;r--;){const i=this.cues_[r];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(r,1),this.cues.setCues_(this.cues_);break}}}}gp.prototype.allowedEvents_={cuechange:"cuechange"};class yM extends Sb{constructor(e={}){const r=dr(e,{kind:uK[e.kind]||""});super(r);let i=!1;Object.defineProperty(this,"enabled",{get(){return i},set(n){typeof n!="boolean"||n===i||(i=n,this.trigger("enabledchange"))}}),r.enabled&&(this.enabled=r.enabled),this.loaded_=!0}}class vM extends Sb{constructor(e={}){const r=dr(e,{kind:lK[e.kind]||""});super(r);let i=!1;Object.defineProperty(this,"selected",{get(){return i},set(n){typeof n!="boolean"||n===i||(i=n,this.trigger("selectedchange"))}}),r.selected&&(this.selected=r.selected)}}class eo extends Rn{constructor(e={}){super();let r;const i=new gp(e);this.kind=i.kind,this.src=i.src,this.srclang=i.language,this.label=i.label,this.default=i.default,Object.defineProperties(this,{readyState:{get(){return r}},track:{get(){return i}}}),r=eo.NONE,i.addEventListener("loadeddata",()=>{r=eo.LOADED,this.trigger({type:"load",target:this})})}}eo.prototype.allowedEvents_={load:"load"};eo.NONE=0;eo.LOADING=1;eo.LOADED=2;eo.ERROR=3;const Jn={audio:{ListClass:sK,TrackClass:yM,capitalName:"Audio"},video:{ListClass:aK,TrackClass:vM,capitalName:"Video"},text:{ListClass:mM,TrackClass:gp,capitalName:"Text"}};Object.keys(Jn).forEach(function(t){Jn[t].getterName=`${t}Tracks`,Jn[t].privateName=`${t}Tracks_`});const S0={remoteText:{ListClass:mM,TrackClass:gp,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:oK,TrackClass:eo,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Wi=Object.assign({},Jn,S0);S0.names=Object.keys(S0);Jn.names=Object.keys(Jn);Wi.names=[].concat(S0.names).concat(Jn.names);function hK(t,e,r,i,n={}){const s=t.textTracks();n.kind=e,r&&(n.label=r),i&&(n.language=i),n.tech=t;const a=new Wi.text.TrackClass(n);return s.addTrack(a),a}class Et extends he{constructor(e={},r=function(){}){e.reportTouchActivity=!1,super(null,e,r),this.onDurationChange_=i=>this.onDurationChange(i),this.trackProgress_=i=>this.trackProgress(i),this.trackCurrentTime_=i=>this.trackCurrentTime(i),this.stopTrackingCurrentTime_=i=>this.stopTrackingCurrentTime(i),this.disposeSourceHandler_=i=>this.disposeSourceHandler(i),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Wi.names.forEach(i=>{const n=Wi[i];e&&e[n.getterName]&&(this[n.privateName]=e[n.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(i=>{e[`native${i}Tracks`]===!1&&(this[`featuresNative${i}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Wi.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(mr(this,function(){const r=this.bufferedPercent();this.bufferedPercent_!==r&&this.trigger("progress"),this.bufferedPercent_=r,r===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return ks(0,0)}bufferedPercent(){return fM(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Jn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(r=>{const i=this[`${r}Tracks`]()||[];let n=i.length;for(;n--;){const s=i[n];r==="text"&&this.removeRemoteTextTrack(s),i.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let r=e.length;for(;r--;){const i=e[r];this.removeRemoteTextTrack(i)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new Er(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?ks(0,0):ks()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Jn.names.forEach(e=>{const r=Jn[e],i=()=>{this.trigger(`${e}trackchange`)},n=this[r.getterName]();n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),this.on("dispose",()=>{n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i)})})}addWebVttScript_(){if(!H.WebVTT)if(Pe.body.contains(this.el())){if(!this.options_["vtt.js"]&&v0(ix)&&Object.keys(ix).length>0){this.trigger("vttjsloaded");return}const e=Pe.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),H.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),r=this.remoteTextTracks(),i=o=>e.addTrack(o.track),n=o=>e.removeTrack(o.track);r.on("addtrack",i),r.on("removetrack",n),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),a=()=>{s();for(let o=0;o<e.length;o++){const l=e[o];l.removeEventListener("cuechange",s),l.mode==="showing"&&l.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){r.off("addtrack",i),r.off("removetrack",n),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let o=0;o<e.length;o++)e[o].removeEventListener("cuechange",s)})}addTextTrack(e,r,i){if(!e)throw new Error("TextTrack kind is required but was not provided");return hK(this,e,r,i)}createRemoteTextTrack(e){const r=dr(e,{tech:this});return new S0.remoteTextEl.TrackClass(r)}addRemoteTextTrack(e={},r){const i=this.createRemoteTextTrack(e);return typeof r!="boolean"&&(r=!1),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),r===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(i.track)),i}removeRemoteTextTrack(e){const r=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(r),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const r=rs();return!this.isReady_||this.paused()?(this.queuedHanders_.add(r),this.one("playing",()=>{this.queuedHanders_.has(r)&&(this.queuedHanders_.delete(r),e())})):this.requestNamedAnimationFrame(r,e),r}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,r){return Et.canPlayType(e.type)}static isTech(e){return e.prototype instanceof Et||e instanceof Et||e===Et}static registerTech(e,r){if(Et.techs_||(Et.techs_={}),!Et.isTech(r))throw new Error(`Tech ${e} must be a Tech`);if(!Et.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Et.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Lr(e),Et.techs_[e]=r,Et.techs_[yh(e)]=r,e!=="Tech"&&Et.defaultTechOrder_.push(e),r}static getTech(e){if(e){if(Et.techs_&&Et.techs_[e])return Et.techs_[e];if(e=Lr(e),H&&H.videojs&&H.videojs[e])return Nt.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),H.videojs[e]}}}Wi.names.forEach(function(t){const e=Wi[t];Et.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Et.prototype.featuresVolumeControl=!0;Et.prototype.featuresMuteControl=!0;Et.prototype.featuresFullscreenResize=!1;Et.prototype.featuresPlaybackRate=!1;Et.prototype.featuresProgressEvents=!1;Et.prototype.featuresSourceset=!1;Et.prototype.featuresTimeupdateEvents=!1;Et.prototype.featuresNativeTextTracks=!1;Et.prototype.featuresVideoFrameCallback=!1;Et.withSourceHandlers=function(t){t.registerSourceHandler=function(r,i){let n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),i===void 0&&(i=n.length),n.splice(i,0,r)},t.canPlayType=function(r){const i=t.sourceHandlers||[];let n;for(let s=0;s<i.length;s++)if(n=i[s].canPlayType(r),n)return n;return""},t.selectSourceHandler=function(r,i){const n=t.sourceHandlers||[];let s;for(let a=0;a<n.length;a++)if(s=n[a].canHandleSource(r,i),s)return n[a];return null},t.canPlaySource=function(r,i){const n=t.selectSourceHandler(r,i);return n?n.canHandleSource(r,i):""},["seekable","seeking","duration"].forEach(function(r){const i=this[r];typeof i=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(r){let i=t.selectSourceHandler(r,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:Nt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==t.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=i.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};he.registerComponent("Tech",Et);Et.registerTech("Tech",Et);Et.defaultTechOrder_=[];const wu={},z1={},U1={};function pK(t,e){wu[t]=wu[t]||[],wu[t].push(e)}function fK(t,e,r){t.setTimeout(()=>eu(e,wu[e.type],r,t),1)}function mK(t,e){t.forEach(r=>r.setTech&&r.setTech(e))}function gK(t,e,r){return t.reduceRight(Tb(r),e[r]())}function yK(t,e,r,i){return e[r](t.reduce(Tb(r),i))}function qx(t,e,r,i=null){const n="call"+Lr(r),s=t.reduce(Tb(n),i),a=s===U1,o=a?null:e[r](s);return xK(t,r,o,a),o}const vK={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},bK={setCurrentTime:1,setMuted:1,setVolume:1},jx={play:1,pause:1};function Tb(t){return(e,r)=>e===U1?U1:r[t]?r[t](e):e}function xK(t,e,r,i){for(let n=t.length-1;n>=0;n--){const s=t[n];s[e]&&s[e](i,r)}}function _K(t){z1.hasOwnProperty(t.id())&&delete z1[t.id()]}function wK(t,e){const r=z1[t.id()];let i=null;if(r==null)return i=e(t),z1[t.id()]=[[e,i]],i;for(let n=0;n<r.length;n++){const[s,a]=r[n];s===e&&(i=a)}return i===null&&(i=e(t),r.push([e,i])),i}function eu(t={},e=[],r,i,n=[],s=!1){const[a,...o]=e;if(typeof a=="string")eu(t,wu[a],r,i,n,s);else if(a){const l=wK(i,a);if(!l.setSource)return n.push(l),eu(t,o,r,i,n,s);l.setSource(Object.assign({},t),function(u,c){if(u)return eu(t,o,r,i,n,s);n.push(l),eu(c,t.type===c.type?o:wu[c.type],r,i,n,s)})}else o.length?eu(t,o,r,i,n,s):s?r(t,n):eu(t,wu["*"],r,i,n,!0)}const SK={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},q1=function(t=""){const e=kb(t);return SK[e.toLowerCase()]||""},CK=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const r=t.cache_.sources.filter(n=>n.src===e);if(r.length)return r[0].type;const i=t.$$("source");for(let n=0;n<i.length;n++){const s=i[n];if(s.type&&s.src&&s.src===e)return s.type}return q1(e)},bM=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(r){r=bM(r),Array.isArray(r)?e=e.concat(r):ca(r)&&e.push(r)}),t=e}else typeof t=="string"&&t.trim()?t=[Vx({src:t})]:ca(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[Vx(t)]:t=[];return t};function Vx(t){if(!t.type){const e=q1(t.src);e&&(t.type=e)}return t}var kK=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const Hx=R1?10009:O1?461:8,ac={codes:{play:415,pause:19,ff:417,rw:412,back:Hx},names:{415:"play",19:"pause",417:"ff",412:"rw",[Hx]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},Kx=5;class TK extends Rn{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const r=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(r.key)){if(this.isPaused_)return;r.preventDefault();const i=r.key.substring(5).toLowerCase();this.move(i)}else if(ac.isEventKey(r,"play")||ac.isEventKey(r,"pause")||ac.isEventKey(r,"ff")||ac.isEventKey(r,"rw")){r.preventDefault();const i=ac.getEventName(r);this.performMediaAction_(i)}else ac.isEventKey(r,"Back")&&e.target&&e.target.closeable()&&(r.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+Kx);break;case"rw":this.userSeek_(this.player_.currentTime()-Kx);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const r=e.relatedTarget;let i=null;const n=this.getCurrentComponent(e.target);r&&(i=!!r.closest(".video-js"),r.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!i||!r)&&(n&&n.name()==="CloseButton"?this.refocusComponent():(this.pause(),n&&n.el()&&(this.lastFocusedComponent_=n)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,r=[];function i(n){for(const s of n)s.hasOwnProperty("el_")&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())&&r.push(s),s.hasOwnProperty("children_")&&s.children_.length>0&&i(s.children_)}return e.children_.forEach(n=>{if(n.hasOwnProperty("el_"))if(n.getIsFocusable&&n.getIsAvailableToBeFocused&&n.getIsFocusable()&&n.getIsAvailableToBeFocused(n.el())){r.push(n);return}else n.hasOwnProperty("children_")&&n.children_.length>0?i(n.children_):n.hasOwnProperty("items")&&n.items.length>0?i(n.items):this.findSuitableDOMChild(n)&&r.push(n);if(n.name_==="ErrorDisplay"&&n.opened_){const s=n.el_.querySelector(".vjs-errors-ok-button-container");s&&s.querySelectorAll("button").forEach((o,l)=>{r.push({name:()=>"ModalButton"+(l+1),el:()=>o,getPositions:()=>{const u=o.getBoundingClientRect(),c={x:u.x,y:u.y,width:u.width,height:u.height,top:u.top,right:u.right,bottom:u.bottom,left:u.left},d={x:u.left+u.width/2,y:u.top+u.height/2,width:0,height:0,top:u.top+u.height/2,right:u.left+u.width/2,bottom:u.top+u.height/2,left:u.left+u.width/2};return{boundingClientRect:c,center:d}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:u=>!0,focus:()=>o.focus()})})}}),this.focusableComponents=r,this.focusableComponents}findSuitableDOMChild(e){function r(i){if(e.getIsFocusable(i)&&e.getIsAvailableToBeFocused(i))return i;for(let n=0;n<i.children.length;n++){const s=i.children[n],a=r(s);if(a)return a}return null}return e.el()?r(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const r=e||document.activeElement;if(this.focusableComponents.length){for(const i of this.focusableComponents)if(i.el()===r)return i}}add(e){const r=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&r.push(e),this.focusableComponents=r,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let r=0;r<this.focusableComponents.length;r++)if(this.focusableComponents[r].name()===e.name()){this.focusableComponents.splice(r,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const r=this.getCurrentComponent();if(!r)return;const i=r.getPositions(),n=this.focusableComponents.filter(a=>a!==r&&this.isInDirection_(i.boundingClientRect,a.getPositions().boundingClientRect,e)),s=this.findBestCandidate_(i.center,n,e);s?this.focus(s):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:r})}findBestCandidate_(e,r,i){let n=1/0,s=null;for(const a of r){const o=a.getPositions().center,l=this.calculateDistance_(e,o,i);l<n&&(n=l,s=a)}return s}isInDirection_(e,r,i){switch(i){case"right":return r.left>=e.right;case"left":return r.right<=e.left;case"down":return r.top>=e.bottom;case"up":return r.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,r,i){const n=Math.abs(e.x-r.x),s=Math.abs(e.y-r.y);let a;switch(i){case"right":case"left":a=n+s*100;break;case"up":a=s*2+n*.5;break;case"down":a=s*5+n;break;default:a=n+s}return a}searchForTrackSelect_(){const e=this;for(const r of e.updateFocusableComponents())if(r.constructor.name==="TextTrackSelect"){e.focus(r);break}}}class EK extends he{constructor(e,r,i){const n=dr({createEl:!1},r);if(super(e,n,i),!r.playerOptions.sources||r.playerOptions.sources.length===0)for(let s=0,a=r.playerOptions.techOrder;s<a.length;s++){const o=Lr(a[s]);let l=Et.getTech(o);if(o||(l=he.getComponent(o)),l&&l.isSupported()){e.loadTech_(o);break}}else e.src(r.playerOptions.sources)}}he.registerComponent("MediaLoader",EK);class f2 extends he{constructor(e,r){super(e,r),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=i=>this.handleMouseOver(i),this.handleMouseOut_=i=>this.handleMouseOut(i),this.handleClick_=i=>this.handleClick(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.emitTapEvents(),this.enable()}createEl(e="div",r={},i={}){r=Object.assign({className:this.buildCSSClass(),tabIndex:0},r),e==="button"&&Nt.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),i=Object.assign({role:"button"},i),this.tabIndex_=r.tabIndex;const n=mt(e,r,i);return this.player_.options_.experimentalSvgIcons||n.appendChild(mt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=mt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,r=this.el()){if(e===void 0)return this.controlText_||"Need Text";const i=this.localize(e);this.controlText_=e,Sl(this.controlTextEl_,i),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&r.setAttribute("title",i)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}he.registerComponent("ClickableComponent",f2);class i5 extends f2{constructor(e,r){super(e,r),this.update(),this.update_=i=>this.update(i),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return mt("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const r=this.player().poster();this.setSrc(r),r?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(mt("picture",{className:"vjs-poster",tabIndex:-1},{},mt("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Ys(this.player_.play()):this.player_.pause())}}i5.prototype.crossorigin=i5.prototype.crossOrigin;he.registerComponent("PosterImage",i5);const qn="#222",Wx="#ccc",AK={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function $4(t,e){let r;if(t.length===4)r=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)r=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function Rs(t,e,r){try{t.style[e]=r}catch{return}}function Gx(t){return t?`${t}px`:""}class MK extends he{constructor(e,r,i){super(e,r,i);const n=a=>this.updateDisplay(a),s=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("texttrackchange",n),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(mr(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const a=H.screen.orientation||H,o=H.screen.orientation?"change":"orientationchange";a.addEventListener(o,s),e.on("dispose",()=>a.removeEventListener(o,s));const l=this.options_.playerOptions.tracks||[];for(let u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},r=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage;let n,s,a;for(let o=0;o<r.length;o++){const l=r[o];i&&i.enabled&&i.language&&i.language===l.language&&l.kind in e?l.kind===i.kind?a=l:a||(a=l):i&&!i.enabled?(a=null,n=null,s=null):l.default&&(l.kind==="descriptions"&&!n?n=l:l.kind in e&&!s&&(s=l))}a?a.mode="showing":s?s.mode="showing":n&&(n.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof H.WebVTT=="function"&&H.WebVTT.processCues(H,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),r=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),r){const a=[];for(let o=0;o<e.length;++o){const l=e[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}let i=null,n=null,s=e.length;for(;s--;){const a=e[s];a.mode==="showing"&&(a.kind==="descriptions"?i=a:n=a)}if(n?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):i&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(i)),!H.CSS.supports("inset","10px")){const a=this.el_,o=a.querySelectorAll(".vjs-text-track-cue"),l=this.player_.controlBar.el_.getBoundingClientRect().height,u=this.player_.el_.getBoundingClientRect().height;a.style="",Rs(a,"position","relative"),Rs(a,"height",u-l+"px"),Rs(a,"top","unset"),F1?Rs(a,"bottom",u+"px"):Rs(a,"bottom","0px"),o.length>0&&o.forEach(c=>{if(c.style.inset){const d=c.style.inset.split(" ");d.length===3&&Object.assign(c.style,{top:d[0],right:d[1],bottom:d[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!H.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),r=this.player_.currentHeight(),i=e/r,n=this.player_.videoWidth()/this.player_.videoHeight();let s=0,a=0;Math.abs(i-n)>.1&&(i>n?s=Math.round((e-r*n)/2):a=Math.round((r-e/n)/2)),Rs(this.el_,"insetInline",Gx(s)),Rs(this.el_,"insetBlock",Gx(a))}updateDisplayState(e){const r=this.player_.textTrackSettings.getValues(),i=e.activeCues;let n=i.length;for(;n--;){const s=i[n];if(!s)continue;const a=s.displayState;if(r.color&&(a.firstChild.style.color=r.color),r.textOpacity&&Rs(a.firstChild,"color",$4(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(a.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&Rs(a.firstChild,"backgroundColor",$4(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?Rs(a,"backgroundColor",$4(r.windowColor,r.windowOpacity)):a.style.backgroundColor=r.windowColor),r.edgeStyle&&(r.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${qn}, 2px 2px 4px ${qn}, 2px 2px 5px ${qn}`:r.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${qn}, 2px 2px ${qn}, 3px 3px ${qn}`:r.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${Wx}, 0 1px ${Wx}, -1px -1px ${qn}, 0 -1px ${qn}`:r.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${qn}, 0 0 4px ${qn}, 0 0 4px ${qn}, 0 0 4px ${qn}`)),r.fontPercent&&r.fontPercent!==1){const o=H.parseFloat(a.style.fontSize);a.style.fontSize=o*r.fontPercent+"px",a.style.height="auto",a.style.top="auto"}r.fontFamily&&r.fontFamily!=="default"&&(r.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=AK[r.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof H.WebVTT!="function"||e.every(i=>!i.activeCues))return;const r=[];for(let i=0;i<e.length;++i){const n=e[i];for(let s=0;s<n.activeCues.length;++s)r.push(n.activeCues[s])}H.WebVTT.processCues(H,r,this.el_);for(let i=0;i<e.length;++i){const n=e[i];for(let s=0;s<n.activeCues.length;++s){const a=n.activeCues[s].displayState;_u(a,"vjs-text-track-cue","vjs-text-track-cue-"+(n.language?n.language:i)),n.language&&b0(a,"lang",n.language)}this.player_.textTrackSettings&&this.updateDisplayState(n)}}}he.registerComponent("TextTrackDisplay",MK);class DK extends he{createEl(){const e=this.player_.isAudio(),r=this.localize(e?"Audio Player":"Video Player"),i=mt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[r])}),n=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(i),n}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}he.registerComponent("LoadingSpinner",DK);class Ii extends f2{createEl(e,r={},i={}){e="button",r=Object.assign({className:this.buildCSSClass()},r),i=Object.assign({type:"button"},i);const n=mt(e,r,i);return this.player_.options_.experimentalSvgIcons||n.appendChild(mt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}addChild(e,r={}){const i=this.constructor.name;return Nt.warn(`Adding an actionable (user controllable) child to a Button (${i}) is not supported; use a ClickableComponent instead.`),he.prototype.addChild.call(this,e,r)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}he.registerComponent("Button",Ii);class xM extends Ii{constructor(e,r){super(e,r),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",i=>this.handleMouseDown(i))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const r=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){Ys(r),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const i=this.player_.getChild("controlBar"),n=i&&i.getChild("playToggle");if(!n){this.player_.tech(!0).focus();return}const s=()=>n.focus();vh(r)?r.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}xM.prototype.controlText_="Play Video";he.registerComponent("BigPlayButton",xM);class LK extends Ii{constructor(e,r){super(e,r),this.setIcon("cancel"),this.controlText(r&&r.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}he.registerComponent("CloseButton",LK);class _M extends Ii{constructor(e,r={}){super(e,r),r.replay=r.replay===void 0||r.replay,this.setIcon("play"),this.on(e,"play",i=>this.handlePlay(i)),this.on(e,"pause",i=>this.handlePause(i)),r.replay&&this.on(e,"ended",i=>this.handleEnded(i))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Ys(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",r=>this.handleSeeked(r))}}_M.prototype.controlText_="Play";he.registerComponent("PlayToggle",_M);class z0 extends he{constructor(e,r){super(e,r),this.on(e,["timeupdate","ended","seeking"],i=>this.update(i)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),r=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),i=mt("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return r.appendChild(i),this.contentEl_=mt("span",{className:`${e}-display`},{role:"presentation"}),r.appendChild(this.contentEl_),r}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Bu(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let r=this.textNode_;r&&this.contentEl_.firstChild!==r&&(r=null,Nt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Pe.createTextNode(this.formattedTime_),this.textNode_&&(r?this.contentEl_.replaceChild(this.textNode_,r):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}z0.prototype.labelText_="Time";z0.prototype.controlText_="Time";he.registerComponent("TimeDisplay",z0);class Eb extends z0{buildCSSClass(){return"vjs-current-time"}updateContent(e){let r;this.player_.ended()?r=this.player_.duration():r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(r)}}Eb.prototype.labelText_="Current Time";Eb.prototype.controlText_="Current Time";he.registerComponent("CurrentTimeDisplay",Eb);class Ab extends z0{constructor(e,r){super(e,r);const i=n=>this.updateContent(n);this.on(e,"durationchange",i),this.on(e,"loadstart",i),this.on(e,"loadedmetadata",i)}buildCSSClass(){return"vjs-duration"}updateContent(e){const r=this.player_.duration();this.updateTextNode_(r)}}Ab.prototype.labelText_="Duration";Ab.prototype.controlText_="Duration";he.registerComponent("DurationDisplay",Ab);class BK extends he{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),r=super.createEl("div"),i=super.createEl("span",{textContent:"/"});return r.appendChild(i),e.appendChild(r),e}}he.registerComponent("TimeDivider",BK);class Mb extends z0{constructor(e,r){super(e,r),this.on(e,"durationchange",i=>this.updateContent(i))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(mt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let r;this.player_.ended()?r=0:this.player_.remainingTimeDisplay?r=this.player_.remainingTimeDisplay():r=this.player_.remainingTime(),this.updateTextNode_(r)}}Mb.prototype.labelText_="Remaining Time";Mb.prototype.controlText_="Remaining Time";he.registerComponent("RemainingTimeDisplay",Mb);class PK extends he{constructor(e,r){super(e,r),this.updateShowing(),this.on(this.player(),"durationchange",i=>this.updateShowing(i))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=mt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(mt("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(Pe.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}he.registerComponent("LiveDisplay",PK);class wM extends Ii{constructor(e,r){super(e,r),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=i=>this.updateLiveEdgeStatus(i),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=mt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}wM.prototype.controlText_="Seek to live, currently playing live";he.registerComponent("SeekToLive",wM);function yp(t,e,r){return t=Number(t),Math.min(r,Math.max(e,isNaN(t)?e:t))}var IK=Object.freeze({__proto__:null,clamp:yp});class Db extends he{constructor(e,r){super(e,r),this.handleMouseDown_=i=>this.handleMouseDown(i),this.handleMouseUp_=i=>this.handleMouseUp(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.handleClick_=i=>this.handleClick(i),this.handleMouseMove_=i=>this.handleMouseMove(i),this.update_=i=>this.update(i),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,r={},i={}){return r.className=r.className+" vjs-slider",r=Object.assign({tabIndex:0},r),i=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},i),super.createEl(e,r,i)}handleMouseDown(e){const r=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!ha&&e.preventDefault(),XA(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(r,"mousemove",this.handleMouseMove_),this.on(r,"mouseup",this.handleMouseUp_),this.on(r,"touchmove",this.handleMouseMove_),this.on(r,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const r=this.bar.el_.ownerDocument;YA(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const r=this.vertical()?"height":"width";this.bar.el().style[r]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(yp(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const r=l2(this.el_,e);return this.vertical()?r.y:r.x}handleKeyDown(e){const r=this.options_.playerOptions.spatialNavigation,i=r&&r.enabled,n=r&&r.horizontalSeek;i?n&&e.key==="ArrowLeft"||!n&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):n&&e.key==="ArrowRight"||!n&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}he.registerComponent("Slider",Db);const z4=(t,e)=>yp(t/e*100,0,100).toFixed(2)+"%";class RK extends he{constructor(e,r){super(e,r),this.partEls_=[],this.on(e,"progress",i=>this.update(i))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),r=mt("span",{className:"vjs-control-text"}),i=mt("span",{textContent:this.localize("Loaded")}),n=Pe.createTextNode(": ");return this.percentageEl_=mt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(r),r.appendChild(i),r.appendChild(n),r.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const r=this.player_.liveTracker,i=this.player_.buffered(),n=r&&r.isLive()?r.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),a=this.partEls_,o=z4(s,n);this.percent_!==o&&(this.el_.style.width=o,Sl(this.percentageEl_,o),this.percent_=o);for(let l=0;l<i.length;l++){const u=i.start(l),c=i.end(l);let d=a[l];d||(d=this.el_.appendChild(mt()),a[l]=d),!(d.dataset.start===u&&d.dataset.end===c)&&(d.dataset.start=u,d.dataset.end=c,d.style.left=z4(u,s),d.style.width=z4(c-u,s))}for(let l=a.length;l>i.length;l--)this.el_.removeChild(a[l-1]);a.length=i.length})}}he.registerComponent("LoadProgressBar",RK);class OK extends he{constructor(e,r){super(e,r),this.update=pa(mr(this,this.update),is)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,r,i){const n=Wh(this.el_),s=x0(this.player_.el()),a=e.width*r;if(!s||!n)return;let o=e.left-s.left+a,l=e.width-a+(s.right-e.right);l||(l=e.width-a,o=a);let u=n.width/2;o<u?u+=u-o:l<u&&(u=l),u<0?u=0:u>n.width&&(u=n.width),u=Math.round(u),this.el_.style.right=`-${u}px`,this.write(i)}write(e){Sl(this.el_,e)}updateTime(e,r,i,n){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const o=this.player_.liveTracker.liveWindow(),l=o-r*o;s=(l<1?"":"-")+Bu(l,o)}else s=Bu(i,a);this.update(e,r,s),n&&n()})}}he.registerComponent("TimeTooltip",OK);class Lb extends he{constructor(e,r){super(e,r),this.setIcon("circle"),this.update=pa(mr(this,this.update),is)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,r){const i=this.getChild("timeTooltip");if(!i)return;const n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(e,r,n)}}Lb.prototype.options_={children:[]};!Qi&&!da&&Lb.prototype.options_.children.push("timeTooltip");he.registerComponent("PlayProgressBar",Lb);class SM extends he{constructor(e,r){super(e,r),this.update=pa(mr(this,this.update),is)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r){const i=r*this.player_.duration();this.getChild("timeTooltip").updateTime(e,r,i,()=>{this.el_.style.left=`${e.width*r}px`})}}SM.prototype.options_={children:["timeTooltip"]};he.registerComponent("MouseTimeDisplay",SM);const Sf=5,Xx=12;class Bb extends Db{constructor(e,r){super(e,r),this.setEventHandlers_()}setEventHandlers_(){this.update_=mr(this,this.update),this.update=pa(this.update_,is),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Pe&&"visibilityState"in Pe&&this.on(Pe,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Pe.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,is))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Pe.visibilityState==="hidden")return;const r=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const i=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),n=this.player_.liveTracker;let s=this.player_.duration();n&&n.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==r&&(this.el_.setAttribute("aria-valuenow",(r*100).toFixed(2)),this.percent_=r),(this.currentTime_!==i||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Bu(i,s),Bu(s,s)],"{1} of {2}")),this.currentTime_=i,this.duration_=s),this.bar&&this.bar.update(x0(this.el()),this.getProgress())}),r}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let r;const i=this.player_.liveTracker;return i&&i.isLive()?(r=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(r=1)):r=e/this.player_.duration(),r}handleMouseDown(e){Gh(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,r=!1){if(!Gh(e)||isNaN(this.player_.duration()))return;!r&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let i;const n=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())i=n*this.player_.duration(),i===this.player_.duration()&&(i=i-.1);else{if(n>=.99){s.seekToLiveEdge();return}const a=s.seekableStart(),o=s.liveCurrentTime();if(i=a+n*s.liveWindow(),i>=o&&(i=o),i<=a&&(i=a+.1),i===1/0)return}this.userSeek_(i),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Ys(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+Sf)}stepBack(){this.userSeek_(this.player_.currentTime()-Sf)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const r=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),r&&r.isLive()?this.userSeek_(r.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const i=parseInt(e.key,10)*.1;r&&r.isLive()?this.userSeek_(r.seekableStart()+r.liveWindow()*i):this.userSeek_(this.player_.duration()*i)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Sf*Xx)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Sf*Xx)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Pe&&"visibilityState"in Pe&&this.off(Pe,"visibilitychange",this.toggleVisibility_),super.dispose()}}Bb.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Qi&&!da&&Bb.prototype.options_.children.splice(1,0,"mouseTimeDisplay");he.registerComponent("SeekBar",Bb);class CM extends he{constructor(e,r){super(e,r),this.handleMouseMove=pa(mr(this,this.handleMouseMove),is),this.throttledHandleMouseSeek=pa(mr(this,this.handleMouseSeek),is),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.handleMouseDownHandler_=i=>this.handleMouseDown(i),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const r=this.getChild("seekBar");if(!r)return;const i=r.getChild("playProgressBar"),n=r.getChild("mouseTimeDisplay");if(!i&&!n)return;const s=r.el(),a=Wh(s);let o=l2(s,e).x;o=yp(o,0,1),n&&n.update(a,o),i&&i.update(a,r.getProgress())}handleMouseSeek(e){const r=this.getChild("seekBar");r&&r.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Ys(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const r=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(r,"mousemove",this.throttledHandleMouseSeek),this.on(r,"touchmove",this.throttledHandleMouseSeek),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.getChild("seekBar");r&&r.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}CM.prototype.options_={children:["seekBar"]};he.registerComponent("ProgressControl",CM);class kM extends Ii{constructor(e,r){super(e,r),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],i=>this.handlePictureInPictureChange(i)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],i=>this.handlePictureInPictureEnabledChange(i)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Pe.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in H?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Pe.exitPictureInPicture=="function"&&super.show()}}kM.prototype.controlText_="Picture-in-Picture";he.registerComponent("PictureInPictureToggle",kM);class TM extends Ii{constructor(e,r){super(e,r),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",i=>this.handleFullscreenChange(i)),Pe[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}TM.prototype.controlText_="Fullscreen";he.registerComponent("FullscreenToggle",TM);const FK=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class NK extends he{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}he.registerComponent("VolumeLevel",NK);class $K extends he{constructor(e,r){super(e,r),this.update=pa(mr(this,this.update),is)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,r,i,n){if(!i){const s=x0(this.el_),a=x0(this.player_.el()),o=e.width*r;if(!a||!s)return;const l=e.left-a.left+o,u=e.width-o+(a.right-e.right);let c=s.width/2;l<c?c+=c-l:u<c&&(c=u),c<0?c=0:c>s.width&&(c=s.width),this.el_.style.right=`-${c}px`}this.write(`${n}%`)}write(e){Sl(this.el_,e)}updateVolume(e,r,i,n,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,r,i,n.toFixed(0)),s&&s()})}}he.registerComponent("VolumeLevelTooltip",$K);class EM extends he{constructor(e,r){super(e,r),this.update=pa(mr(this,this.update),is)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r,i){const n=100*r;this.getChild("volumeLevelTooltip").updateVolume(e,r,i,n,()=>{i?this.el_.style.bottom=`${e.height*r}px`:this.el_.style.left=`${e.width*r}px`})}}EM.prototype.options_={children:["volumeLevelTooltip"]};he.registerComponent("MouseVolumeLevelDisplay",EM);class m2 extends Db{constructor(e,r){super(e,r),this.on("slideractive",i=>this.updateLastVolume_(i)),this.on(e,"volumechange",i=>this.updateARIAAttributes(i)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Gh(e)&&super.handleMouseDown(e)}handleMouseMove(e){const r=this.getChild("mouseVolumeLevelDisplay");if(r){const i=this.el(),n=x0(i),s=this.vertical();let a=l2(i,e);a=s?a.y:a.x,a=yp(a,0,1),r.update(n,a,s)}Gh(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const r=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",r),this.el_.setAttribute("aria-valuetext",r+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}m2.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Qi&&!da&&m2.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");m2.prototype.playerEvent="volumechange";he.registerComponent("VolumeBar",m2);class AM extends he{constructor(e,r={}){r.vertical=r.vertical||!1,(typeof r.volumeBar>"u"||v0(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),super(e,r),FK(this,e),this.throttledHandleMouseMove=pa(mr(this,this.handleMouseMove),is),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.on("mousedown",i=>this.handleMouseDown(i)),this.on("touchstart",i=>this.handleMouseDown(i)),this.on("mousemove",i=>this.handleMouseMove(i)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const r=this.el_.ownerDocument;this.on(r,"mousemove",this.throttledHandleMouseMove),this.on(r,"touchmove",this.throttledHandleMouseMove),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseMove),this.off(r,"touchmove",this.throttledHandleMouseMove),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}AM.prototype.options_={children:["volumeBar"]};he.registerComponent("VolumeControl",AM);const zK=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class MM extends Ii{constructor(e,r){super(e,r),zK(this,e),this.on(e,["loadstart","volumechange"],i=>this.update(i))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.volume(),i=this.player_.lastVolume_();if(r===0){const n=i<.1?.1:i;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let r=3;this.setIcon("volume-high"),Qi&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),r=0):e<.33?(this.setIcon("volume-low"),r=1):e<.67&&(this.setIcon("volume-medium"),r=2),a2(this.el_,[0,1,2,3].reduce((i,n)=>i+`${n?" ":""}vjs-vol-${n}`,"")),_u(this.el_,`vjs-vol-${r}`)}updateControlText_(){const r=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r)}}MM.prototype.controlText_="Mute";he.registerComponent("MuteToggle",MM);class DM extends he{constructor(e,r={}){typeof r.inline<"u"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl>"u"||v0(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),super(e,r),this.handleKeyPressHandler_=i=>this.handleKeyPress(i),this.on(e,["loadstart"],i=>this.volumePanelState_(i)),this.on(this.muteToggle,"keyup",i=>this.handleKeyPress(i)),this.on(this.volumeControl,"keyup",i=>this.handleVolumeControlKeyUp(i)),this.on("keydown",i=>this.handleKeyPress(i)),this.on("mouseover",i=>this.handleMouseOver(i)),this.on("mouseout",i=>this.handleMouseOut(i)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),In(Pe,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Pi(Pe,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}DM.prototype.options_={children:["muteToggle","volumeControl"]};he.registerComponent("VolumePanel",DM);class LM extends Ii{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const r=this.player_.currentTime(),i=this.player_.liveTracker,n=i&&i.isLive()?i.seekableEnd():this.player_.duration();let s;r+this.skipTime<=n?s=r+this.skipTime:s=n,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}LM.prototype.controlText_="Skip Forward";he.registerComponent("SkipForward",LM);class BM extends Ii{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.currentTime(),i=this.player_.liveTracker,n=i&&i.isLive()&&i.seekableStart();let s;n&&r-this.skipTime<=n?s=n:r>=this.skipTime?s=r-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}BM.prototype.controlText_="Skip Backward";he.registerComponent("SkipBackward",BM);class PM extends he{constructor(e,r){super(e,r),r&&(this.menuButton_=r.menuButton),this.focusedChild_=-1,this.on("keydown",i=>this.handleKeyDown(i)),this.boundHandleBlur_=i=>this.handleBlur(i),this.boundHandleTapClick_=i=>this.handleTapClick(i)}addEventListenerForItem(e){e instanceof he&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof he&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const r=this.addChild(e);r&&this.addEventListenerForItem(r)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=mt(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const r=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),In(r,"click",function(i){i.preventDefault(),i.stopImmediatePropagation()}),r}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const r=e.relatedTarget||Pe.activeElement;if(!this.children().some(i=>i.el()===r)){const i=this.menuButton_;i&&i.buttonPressed_&&r!==i.el().firstChild&&i.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const r=this.children();if(!Array.isArray(r))return;const i=r.filter(n=>n.el()===e.target)[0];if(!i)return;i.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const r=this.children().slice();r.length&&r[0].hasClass("vjs-menu-title")&&r.shift(),r.length>0&&(e<0?e=0:e>=r.length&&(e=r.length-1),this.focusedChild_=e,r[e].el_.focus())}}he.registerComponent("Menu",PM);class Pb extends he{constructor(e,r={}){super(e,r),this.menuButton_=new Ii(e,r),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const i=Ii.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+i,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const n=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",n),this.on(this.menuButton_,"click",n),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),In(Pe,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new PM(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const r=mt("li",{className:"vjs-menu-title",textContent:Lr(this.options_.title),tabIndex:-1}),i=new he(this.player_,{el:r});e.addItem(i)}if(this.items=this.createItems(),this.items)for(let r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const r=Ii.prototype.buildCSSClass();return`vjs-menu-button ${e} ${r} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,r=this.menuButton_.el()){return this.menuButton_.controlText(e,r)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Pi(Pe,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Esc"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Esc"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Esc"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Qi&&VA())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}he.registerComponent("MenuButton",Pb);class Ib extends Pb{constructor(e,r){const i=r.tracks;if(super(e,r),this.items.length<=1&&this.hide(),!i)return;const n=mr(this,this.update);i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),i.addEventListener("labelchange",n),this.player_.on("ready",n),this.player_.on("dispose",function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n),i.removeEventListener("labelchange",n)})}}he.registerComponent("TrackButton",Ib);class vp extends f2{constructor(e,r){super(e,r),this.selectable=r.selectable,this.isSelected_=r.selected||!1,this.multiSelectable=r.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,r,i){this.nonIconControl=!0;const n=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},r),i),s=mt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?n.appendChild(s):n.replaceChild(s,n.querySelector(".vjs-icon-placeholder")),n}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}he.registerComponent("MenuItem",vp);class bp extends vp{constructor(e,r){const i=r.track,n=e.textTracks();r.label=i.label||i.language||"Unknown",r.selected=i.mode==="showing",super(e,r),this.track=i,this.kinds=(r.kinds||[r.kind||this.track.kind]).filter(Boolean);const s=(...o)=>{this.handleTracksChange.apply(this,o)},a=(...o)=>{this.handleSelectedLanguageChange.apply(this,o)};if(e.on(["loadstart","texttrackchange"],s),n.addEventListener("change",s),n.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),n.removeEventListener("change",s),n.removeEventListener("selectedlanguagechange",a)}),n.onchange===void 0){let o;this.on(["tap","click"],function(){if(typeof H.Event!="object")try{o=new H.Event("change")}catch{}o||(o=Pe.createEvent("Event"),o.initEvent("change",!0,!0)),n.dispatchEvent(o)})}this.handleTracksChange()}handleClick(e){const r=this.track,i=this.player_.textTracks();if(super.handleClick(e),!!i)for(let n=0;n<i.length;n++){const s=i[n];this.kinds.indexOf(s.kind)!==-1&&(s===r?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const r=this.track.mode==="showing";r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const r=this.player_.cache_.selectedLanguage;if(r&&r.enabled&&r.language===this.track.language&&r.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}he.registerComponent("TextTrackMenuItem",bp);class IM extends bp{constructor(e,r){r.track={player:e,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,super(e,r)}handleTracksChange(e){const r=this.player().textTracks();let i=!0;for(let n=0,s=r.length;n<s;n++){const a=r[n];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){i=!1;break}}i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){const r=this.player().textTracks();let i=!0;for(let n=0,s=r.length;n<s;n++){const a=r[n];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}he.registerComponent("OffTextTrackMenuItem",IM);class U0 extends Ib{constructor(e,r={}){r.tracks=e.textTracks(),super(e,r)}createItems(e=[],r=bp){let i;this.label_&&(i=`${this.label_} off`),e.push(new IM(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;const n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<n.length;s++){const a=n[s];if(this.kinds_.indexOf(a.kind)>-1){const o=new r(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass(`vjs-${a.kind}-menu-item`),e.push(o)}}return e}}he.registerComponent("TextTrackButton",U0);class RM extends vp{constructor(e,r){const i=r.track,n=r.cue,s=e.currentTime();r.selectable=!0,r.multiSelectable=!1,r.label=n.text,r.selected=n.startTime<=s&&s<n.endTime,super(e,r),this.track=i,this.cue=n}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}he.registerComponent("ChaptersTrackMenuItem",RM);class Rb extends U0{constructor(e,r,i){super(e,r,i),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(n=>{n.selected(this.track_.activeCues[0]===n.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const r=this.findChaptersTrack();r!==this.track_?(this.setTrack(r),super.update()):(!this.items||r&&r.cues&&r.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let r=e.length-1;r>=0;r--){const i=e[r];if(i.kind===this.kind_)return i}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(Lr(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const r=this.track_.cues;if(!r)return e;for(let i=0,n=r.length;i<n;i++){const s=r[i],a=new RM(this.player_,{track:this.track_,cue:s});e.push(a)}return e}}Rb.prototype.kind_="chapters";Rb.prototype.controlText_="Chapters";he.registerComponent("ChaptersButton",Rb);class Ob extends U0{constructor(e,r,i){super(e,r,i),this.setIcon("audio-description");const n=e.textTracks(),s=mr(this,this.handleTracksChange);n.addEventListener("change",s),this.on("dispose",function(){n.removeEventListener("change",s)})}handleTracksChange(e){const r=this.player().textTracks();let i=!1;for(let n=0,s=r.length;n<s;n++){const a=r[n];if(a.kind!==this.kind_&&a.mode==="showing"){i=!0;break}}i?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}Ob.prototype.kind_="descriptions";Ob.prototype.controlText_="Descriptions";he.registerComponent("DescriptionsButton",Ob);class Fb extends U0{constructor(e,r,i){super(e,r,i),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}Fb.prototype.kind_="subtitles";Fb.prototype.controlText_="Subtitles";he.registerComponent("SubtitlesButton",Fb);class Nb extends bp{constructor(e,r){r.track={player:e,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",super(e,r),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+r.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}he.registerComponent("CaptionSettingsMenuItem",Nb);class $b extends U0{constructor(e,r,i){super(e,r,i),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new Nb(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}$b.prototype.kind_="captions";$b.prototype.controlText_="Captions";he.registerComponent("CaptionsButton",$b);class OM extends bp{createEl(e,r,i){const n=super.createEl(e,r,i),s=n.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",n):s.appendChild(mt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(mt("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),n}}he.registerComponent("SubsCapsMenuItem",OM);class zb extends U0{constructor(e,r={}){super(e,r),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(Lr(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new Nb(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,OM),e}}zb.prototype.kinds_=["captions","subtitles"];zb.prototype.controlText_="Subtitles";he.registerComponent("SubsCapsButton",zb);class FM extends vp{constructor(e,r){const i=r.track,n=e.audioTracks();r.label=i.label||i.language||"Unknown",r.selected=i.enabled,super(e,r),this.track=i,this.addClass(`vjs-${i.kind}-menu-item`);const s=(...a)=>{this.handleTracksChange.apply(this,a)};n.addEventListener("change",s),this.on("dispose",()=>{n.removeEventListener("change",s)})}createEl(e,r,i){const n=super.createEl(e,r,i),s=n.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(mt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(mt("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),n}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const r=this.player_.audioTracks();for(let i=0;i<r.length;i++){const n=r[i];n!==this.track&&(n.enabled=n===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}he.registerComponent("AudioTrackMenuItem",FM);class NM extends Ib{constructor(e,r={}){r.tracks=e.audioTracks(),super(e,r),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const r=this.player_.audioTracks();for(let i=0;i<r.length;i++){const n=r[i];e.push(new FM(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e}}NM.prototype.controlText_="Audio Track";he.registerComponent("AudioTrackButton",NM);class Ub extends vp{constructor(e,r){const i=r.rate,n=parseFloat(i,10);r.label=i,r.selected=n===e.playbackRate(),r.selectable=!0,r.multiSelectable=!1,super(e,r),this.label=i,this.rate=n,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}Ub.prototype.contentElType="button";he.registerComponent("PlaybackRateMenuItem",Ub);class $M extends Pb{constructor(e,r){super(e,r),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",i=>this.updateVisibility(i)),this.on(e,"ratechange",i=>this.updateLabel(i)),this.on(e,"playbackrateschange",i=>this.handlePlaybackRateschange(i))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=mt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),r=[];for(let i=e.length-1;i>=0;i--)r.push(new Ub(this.player(),{rate:e[i]+"x"}));return r}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}$M.prototype.controlText_="Playback Rate";he.registerComponent("PlaybackRateMenuButton",$M);class zM extends he{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",r={},i={}){return r.className||(r.className=this.buildCSSClass()),super.createEl(e,r,i)}}he.registerComponent("Spacer",zM);class UK extends zM{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}he.registerComponent("CustomControlSpacer",UK);class UM extends he{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}UM.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};he.registerComponent("ControlBar",UM);class qM extends $0{constructor(e,r){super(e,r),this.on(e,"error",i=>{this.open(i)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}qM.prototype.options_=Object.assign({},$0.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});he.registerComponent("ErrorDisplay",qM);class jM extends he{constructor(e,r={}){super(e,r),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),mt("select",{id:this.options_.id},{},this.options_.SelectOptions.map(r=>{const i=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${rs()}`)+"-"+r[1].replace(/\W+/g,""),n=mt("option",{id:i,value:this.localize(r[0]),textContent:r[1]});return n.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${i}`),n}))}}he.registerComponent("TextTrackSelect",jM);class Su extends he{constructor(e,r={}){super(e,r);const i=mt("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(i);const n=this.options_.selects;for(const s of n){const a=this.options_.selectConfigs[s],o=a.className,l=a.id.replace("%s",this.options_.id_);let u=null;const c=`vjs_select_${rs()}`;if(this.options_.type==="colors"){u=mt("span",{className:o});const h=mt("label",{id:l,className:"vjs-label",textContent:a.label});h.setAttribute("for",c),u.appendChild(h)}const d=new jM(e,{SelectOptions:a.options,legendId:this.options_.legendId,id:c,labelId:l});this.addChild(d),this.options_.type==="colors"&&(u.appendChild(d.el()),this.el().appendChild(u))}}createEl(){return mt("fieldset",{className:this.options_.className})}}he.registerComponent("TextTrackFieldset",Su);class VM extends he{constructor(e,r={}){super(e,r);const i=this.options_.textTrackComponentid,n=new Su(e,{id_:i,legendId:`captions-text-legend-${i}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(n);const s=new Su(e,{id_:i,legendId:`captions-background-${i}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const a=new Su(e,{id_:i,legendId:`captions-window-${i}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a)}createEl(){return mt("div",{className:"vjs-track-settings-colors"})}}he.registerComponent("TextTrackSettingsColors",VM);class HM extends he{constructor(e,r={}){super(e,r);const i=this.options_.textTrackComponentid,n=new Su(e,{id_:i,legendId:`captions-font-size-${i}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(n);const s=new Su(e,{id_:i,legendId:`captions-edge-style-${i}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const a=new Su(e,{id_:i,legendId:`captions-font-family-${i}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a)}createEl(){return mt("div",{className:"vjs-track-settings-font"})}}he.registerComponent("TextTrackSettingsFont",HM);class KM extends he{constructor(e,r={}){super(e,r);const i=this.localize("restore all settings to the default values"),n=new Ii(e,{controlText:i,className:"vjs-default-button"});n.el().classList.remove("vjs-control","vjs-button"),n.el().textContent=this.localize("Reset"),this.addChild(n);const s=new Ii(e,{controlText:i,className:"vjs-done-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Done"),this.addChild(s)}createEl(){return mt("div",{className:"vjs-track-settings-controls"})}}he.registerComponent("TrackSettingsControls",KM);const U4="vjs-text-track-settings",Yx=["#000","Black"],Zx=["#00F","Blue"],Jx=["#0FF","Cyan"],Qx=["#0F0","Green"],e_=["#F0F","Magenta"],t_=["#F00","Red"],r_=["#FFF","White"],i_=["#FF0","Yellow"],q4=["1","Opaque"],j4=["0.5","Semi-Transparent"],n_=["0","Transparent"],Jo={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Yx,r_,t_,Qx,Zx,i_,e_,Jx],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[q4,j4,n_],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[r_,Yx,t_,Qx,Zx,i_,e_,Jx],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[q4,j4],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[n_,j4,q4],className:"vjs-window-opacity vjs-opacity"}};Jo.windowColor.options=Jo.backgroundColor.options;function WM(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function qK(t,e){const r=t.options[t.options.selectedIndex].value;return WM(r,e)}function jK(t,e,r){if(e){for(let i=0;i<t.options.length;i++)if(WM(t.options[i].value,r)===e){t.selectedIndex=i;break}}}class VK extends $0{constructor(e,r){r.temporary=!1,super(e,r),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=mt("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),r.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const r=new VM(e,{textTrackComponentid:this.id_,selectConfigs:Jo,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(r);const i=new HM(e,{textTrackComponentid:this.id_,selectConfigs:Jo,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(i);const n=new KM(e);this.addChild(n)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),Gc(Jo,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return FA(Jo,(e,r,i)=>{const n=qK(this.$(r.selector),r.parser);return n!==void 0&&(e[i]=n),e},{})}setValues(e){Gc(Jo,(r,i)=>{jK(this.$(r.selector),e[i],r.parser)})}setDefaults(){Gc(Jo,e=>{const r=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=r})}restoreSettings(){let e;try{e=JSON.parse(H.localStorage.getItem(U4))}catch(r){Nt.warn(r)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?H.localStorage.setItem(U4,JSON.stringify(e)):H.localStorage.removeItem(U4)}catch(r){Nt.warn(r)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}he.registerComponent("TextTrackSettings",VK);class HK extends he{constructor(e,r){let i=r.ResizeObserver||H.ResizeObserver;r.ResizeObserver===null&&(i=!1);const n=dr({createEl:!i,reportTouchActivity:!1},r);super(e,n),this.ResizeObserver=r.ResizeObserver||H.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=aM(()=>{this.resizeHandler()},100,!1,this),i?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let a=this.unloadListener_=function(){Pi(this,"resize",s),Pi(this,"unload",a),a=null};In(this.el_.contentWindow,"unload",a),In(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}he.registerComponent("ResizeManager",HK);const KK={trackingThreshold:20,liveTolerance:15};class WK extends he{constructor(e,r){const i=dr(KK,r,{createEl:!1});super(e,i),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=n=>this.handlePlay(n),this.handleFirstTimeupdate_=n=>this.handleFirstTimeupdate(n),this.handleSeeked_=n=>this.handleSeeked(n),this.seekToLiveEdge_=n=>this.seekToLiveEdge(n),this.reset_(),this.on(this.player_,"durationchange",n=>this.handleDurationchange(n)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const r=Number(H.performance.now().toFixed(4)),i=this.lastTime_===-1?0:(r-this.lastTime_)/1e3;this.lastTime_=r,this.pastSeekEnd_=this.pastSeekEnd()+i;const n=this.liveCurrentTime(),s=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(n-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||n===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,is),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),r=[];let i=e?e.length:0;for(;i--;)r.push(e.end(i));return r.length?r.sort()[r.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),r=[];let i=e?e.length:0;for(;i--;)r.push(e.start(i));return r.length?r.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}he.registerComponent("LiveTracker",WK);class GK extends he{constructor(e,r){super(e,r),this.on("statechanged",i=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:mt("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${rs()}`}),description:mt("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${rs()}`})},mt("div",{className:"vjs-title-bar"},{},NA(this.els))}updateDom_(){const e=this.player_.tech_,r=e&&e.el_,i={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(n=>{const s=this.state[n],a=this.els[n],o=i[n];u2(a),s&&Sl(a,s),r&&(r.removeAttribute(o),s&&r.setAttribute(o,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,r=e&&e.el_;r&&(r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}he.registerComponent("TitleBar",GK);const XK={initialDisplay:4e3,position:[],takeFocus:!1};class YK extends Ii{constructor(e,r){r=dr(XK,r),super(e,r),this.controlText(r.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],i=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=mt("button",{},{type:"button",class:this.buildCSSClass()},mt("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}he.registerComponent("TransientButton",YK);const n5=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const r=t.$$("source"),i=[];let n="";if(!r.length)return!1;for(let s=0;s<r.length;s++){const a=r[s].src;a&&i.indexOf(a)===-1&&i.push(a)}return i.length?(i.length===1&&(n=i[0]),t.triggerSourceset(n),!0):!1},ZK=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=Pe.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const r=Pe.createDocumentFragment();for(;e.childNodes.length;)r.appendChild(e.childNodes[0]);return this.innerText="",H.Element.prototype.appendChild.call(this,r),this.innerHTML}}),GM=(t,e)=>{let r={};for(let i=0;i<t.length&&(r=Object.getOwnPropertyDescriptor(t[i],e),!(r&&r.set&&r.get));i++);return r.enumerable=!0,r.configurable=!0,r},JK=t=>GM([t.el(),H.HTMLMediaElement.prototype,H.Element.prototype,ZK],"innerHTML"),s_=function(t){const e=t.el();if(e.resetSourceWatch_)return;const r={},i=JK(t),n=s=>(...a)=>{const o=s.apply(e,a);return n5(t),o};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(r[s]=e[s],e[s]=n(r[s]))}),Object.defineProperty(e,"innerHTML",dr(i,{set:n(i.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(r).forEach(s=>{e[s]=r[s]}),Object.defineProperty(e,"innerHTML",i)},t.one("sourceset",e.resetSourceWatch_)},QK=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?gM(H.Element.prototype.getAttribute.call(this,"src")):""},set(t){return H.Element.prototype.setAttribute.call(this,"src",t),t}}),eW=t=>GM([t.el(),H.HTMLMediaElement.prototype,QK],"src"),tW=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const r=eW(t),i=e.setAttribute,n=e.load;Object.defineProperty(e,"src",dr(r,{set:s=>{const a=r.set.call(e,s);return t.triggerSourceset(e.src),a}})),e.setAttribute=(s,a)=>{const o=i.call(e,s,a);return/src/i.test(s)&&t.triggerSourceset(e.src),o},e.load=()=>{const s=n.call(e);return n5(t)||(t.triggerSourceset(""),s_(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):n5(t)||s_(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=n,e.setAttribute=i,Object.defineProperty(e,"src",r),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Ge extends Et{constructor(e,r){super(e,r);const i=e.source;let n=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",i&&(this.el_.currentSrc!==i.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(i):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let a=s.length;const o=[];for(;a--;){const l=s[a];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!n&&!this.el_.hasAttribute("crossorigin")&&p2(l.src)&&(n=!0)):o.push(l))}for(let l=0;l<o.length;l++)this.el_.removeChild(o[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&n&&Nt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(Kh||n2)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Ge.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){tW(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let r;const i=()=>{r=[];for(let s=0;s<e.length;s++){const a=e[s];a.kind==="metadata"&&r.push({track:a,storedMode:a.mode})}};i(),e.addEventListener("change",i),this.on("dispose",()=>e.removeEventListener("change",i));const n=()=>{for(let s=0;s<r.length;s++){const a=r[s];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",i),e.removeEventListener("change",n),e.addEventListener("change",n)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",n)})}overrideNative_(e,r){if(r!==this[`featuresNative${e}Tracks`])return;const i=e.toLowerCase();this[`${i}TracksListeners_`]&&Object.keys(this[`${i}TracksListeners_`]).forEach(n=>{this.el()[`${i}Tracks`].removeEventListener(n,this[`${i}TracksListeners_`][n])}),this[`featuresNative${e}Tracks`]=!r,this[`${i}TracksListeners_`]=null,this.proxyNativeTracksForType_(i)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const r=Jn[e],i=this.el()[r.getterName],n=this[r.getterName]();if(!this[`featuresNative${r.capitalName}Tracks`]||!i||!i.addEventListener)return;const s={change:o=>{const l={type:"change",target:n,currentTarget:n,srcElement:n};n.trigger(l),e==="text"&&this[S0.remoteText.getterName]().trigger(l)},addtrack(o){n.addTrack(o.track)},removetrack(o){n.removeTrack(o.track)}},a=function(){const o=[];for(let l=0;l<n.length;l++){let u=!1;for(let c=0;c<i.length;c++)if(i[c]===n[l]){u=!0;break}u||o.push(n[l])}for(;o.length;)n.removeTrack(o.shift())};this[r.getterName+"Listeners_"]=s,Object.keys(s).forEach(o=>{const l=s[o];i.addEventListener(o,l),this.on("dispose",u=>i.removeEventListener(o,l))}),this.on("loadstart",a),this.on("dispose",o=>this.off("loadstart",a))}proxyNativeTracks_(){Jn.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const i=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(i,e),Ge.disposeMediaElement(e),e=i}else{e=Pe.createElement("video");const i=this.options_.tag&&Zo(this.options_.tag),n=dr({},i);(!Kh||this.options_.nativeControlsForTouch!==!0)&&delete n.controls,WA(e,Object.assign(n,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&b0(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const r=["loop","muted","playsinline","autoplay"];for(let i=0;i<r.length;i++){const n=r[i],s=this.options_[n];typeof s<"u"&&(s?b0(e,n,n):o2(e,n),e[n]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let i=!1;const n=function(){i=!0};this.on("loadstart",n);const s=function(){i||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",s),i||this.trigger("loadstart")});return}const r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(i){this.trigger(i)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&s2?this.el_.fastSeek(e):this.el_.currentTime=e}catch(r){Nt(r,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&da&&ha&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},r=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",()=>{this.off("webkitbeginfullscreen",r),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Ys(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}},0);else try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){Ge.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,r,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,r,i):super.addTextTrack(e,r,i)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const r=Pe.createElement("track");return e.kind&&(r.kind=e.kind),e.label&&(r.label=e.label),(e.language||e.srclang)&&(r.srclang=e.language||e.srclang),e.default&&(r.default=e.default),e.id&&(r.id=e.id),e.src&&(r.src=e.src),r}addRemoteTextTrack(e,r){const i=super.addRemoteTextTrack(e,r);return this.featuresNativeTextTracks&&this.el().appendChild(i),i}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const r=this.$$("track");let i=r.length;for(;i--;)(e===r[i]||e===r[i].track)&&this.el().removeChild(r[i])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),H.performance&&(e.creationTime=H.performance.now()),e}}t2(Ge,"TEST_VID",function(){if(!O0())return;const t=Pe.createElement("video"),e=Pe.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Ge.isSupported=function(){try{Ge.TEST_VID.volume=.5}catch{return!1}return!!(Ge.TEST_VID&&Ge.TEST_VID.canPlayType)};Ge.canPlayType=function(t){return Ge.TEST_VID.canPlayType(t)};Ge.canPlaySource=function(t,e){return Ge.canPlayType(t.type)};Ge.canControlVolume=function(){try{const t=Ge.TEST_VID.volume;Ge.TEST_VID.volume=t/2+.1;const e=t!==Ge.TEST_VID.volume;return e&&Qi?(H.setTimeout(()=>{Ge&&Ge.prototype&&(Ge.prototype.featuresVolumeControl=t!==Ge.TEST_VID.volume)}),!1):e}catch{return!1}};Ge.canMuteVolume=function(){try{const t=Ge.TEST_VID.muted;return Ge.TEST_VID.muted=!t,Ge.TEST_VID.muted?b0(Ge.TEST_VID,"muted","muted"):o2(Ge.TEST_VID,"muted","muted"),t!==Ge.TEST_VID.muted}catch{return!1}};Ge.canControlPlaybackRate=function(){if(da&&ha&&r2<58)return!1;try{const t=Ge.TEST_VID.playbackRate;return Ge.TEST_VID.playbackRate=t/2+.1,t!==Ge.TEST_VID.playbackRate}catch{return!1}};Ge.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(Pe.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Pe.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Pe.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Pe.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Ge.supportsNativeTextTracks=function(){return s2||Qi&&ha};Ge.supportsNativeVideoTracks=function(){return!!(Ge.TEST_VID&&Ge.TEST_VID.videoTracks)};Ge.supportsNativeAudioTracks=function(){return!!(Ge.TEST_VID&&Ge.TEST_VID.audioTracks)};Ge.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){t2(Ge.prototype,t,()=>Ge[e](),!0)});Ge.prototype.featuresVolumeControl=Ge.canControlVolume();Ge.prototype.movingMediaElementInDOM=!Qi;Ge.prototype.featuresFullscreenResize=!0;Ge.prototype.featuresProgressEvents=!0;Ge.prototype.featuresTimeupdateEvents=!0;Ge.prototype.featuresVideoFrameCallback=!!(Ge.TEST_VID&&Ge.TEST_VID.requestVideoFrameCallback);Ge.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Ge.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let r=e.length;for(;r--;)t.removeChild(e[r]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Ge.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Ge.prototype["set"+Lr(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Ge.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Ge.prototype["set"+Lr(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Ge.prototype[t]=function(){return this.el_[t]()}});Et.withSourceHandlers(Ge);Ge.nativeSourceHandler={};Ge.nativeSourceHandler.canPlayType=function(t){try{return Ge.TEST_VID.canPlayType(t)}catch{return""}};Ge.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Ge.nativeSourceHandler.canPlayType(t.type);if(t.src){const r=kb(t.src);return Ge.nativeSourceHandler.canPlayType(`video/${r}`)}return""};Ge.nativeSourceHandler.handleSource=function(t,e,r){e.setSrc(t.src)};Ge.nativeSourceHandler.dispose=function(){};Ge.registerSourceHandler(Ge.nativeSourceHandler);Et.registerTech("Html5",Ge);const XM=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],V4={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},s5=["tiny","xsmall","small","medium","large","xlarge","huge"],Jm={};s5.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;Jm[t]=`vjs-layout-${e}`});const rW={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class yr extends he{constructor(e,r,i){if(e.id=e.id||r.id||`vjs_video_${rs()}`,r=Object.assign(yr.getTagSettings(e),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language){const a=e.closest("[lang]");a&&(r.language=a.getAttribute("lang"))}if(super(null,r,i),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.boundUpdatePlayerHeightOnAudioOnlyMode_=a=>this.updatePlayerHeightOnAudioOnlyMode_(a),this.isFullscreen_=!1,this.log=RA(this.id_),this.fsApi_=B1,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Zo(e),this.language(this.options_.language),r.languages){const a={};Object.getOwnPropertyNames(r.languages).forEach(function(o){a[o.toLowerCase()]=r.languages[o]}),this.languages_=a}else this.languages_=yr.prototype.options_.languages;this.resetCache_(),this.poster_=r.poster||"",this.controls_=!!r.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),_b(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(In(Pe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const n=dr(this.options_);if(r.plugins&&Object.keys(r.plugins).forEach(a=>{this[a](r.plugins[a])}),r.debug&&this.debug(!0),this.options_.playerOptions=n,this.middleware_=[],this.playbackRates(r.playbackRates),r.experimentalSvgIcons){const o=new H.DOMParser().parseFromString(kK,"image/svg+xml");if(o.querySelector("parsererror"))Nt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const u=o.documentElement;u.style.display="none",this.el_.appendChild(u),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),r.spatialNavigation&&r.spatialNavigation.enabled&&(this.spatialNavigation=new TK(this),this.addClass("vjs-spatial-navigation-enabled")),Kh&&this.addClass("vjs-touch-enabled"),Qi||this.addClass("vjs-workinghover"),yr.players[this.id_]=this;const s=Xy.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Pi(Pe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Pi(Pe,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),yr.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),_K(this),Wi.names.forEach(e=>{const r=Wi[e],i=this[r.getterName]();i&&i.off&&i.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,r,i=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const n=this.tag.tagName.toLowerCase()==="video-js";i?r=this.el_=e.parentNode:n||(r=this.el_=super.createEl("div"));const s=Zo(e);if(n){for(r=this.el_=e,e=this.tag=Pe.createElement("video");r.children.length;)e.appendChild(r.firstChild);gh(r,"video-js")||_u(r,"video-js"),r.appendChild(e),i=this.playerElIngest_=r,Object.keys(r).forEach(l=>{try{e[l]=r[l]}catch{}})}e.setAttribute("tabindex","-1"),s.tabindex="-1",ha&&i2&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(l){n&&l==="class"||r.setAttribute(l,s[l]),n&&e.setAttribute(l,s[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=r.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>jA[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),H.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=nM("vjs-styles-dimensions");const l=hl(".vjs-styles-defaults"),u=hl("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let l=0;l<o.length;l++){const u=o.item(l);_u(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!i&&e.parentNode.insertBefore(r,e),Zy(e,r),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=r,r}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){Nt.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,r){const i=e+"_";if(r===void 0)return this[i]||0;if(r===""||r==="auto"){this[i]=void 0,this.updateStyleEl_();return}const n=parseFloat(r);if(isNaN(n)){Nt.error(`Improper value "${r}" supplied for for ${e}`);return}this[i]=n,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,Ha(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),ZH(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(H.VIDEOJS_NO_DYNAMIC_STYLE===!0){const o=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(o>=0&&(u.width=o),l>=0&&(u.height=l));return}let e,r,i,n;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?i=this.aspectRatio_:this.videoWidth()>0?i=this.videoWidth()+":"+this.videoHeight():i="16:9";const s=i.split(":"),a=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?r=this.height_:r=e*a,/^[^a-zA-Z]/.test(this.id())?n="dimensions-"+this.id():n=this.id()+"-dimensions",this.addClass(n),sM(this.styleEl_,`
      .${n} {
        width: ${e}px;
        height: ${r}px;
      }

      .${n}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,r){this.tech_&&this.unloadTech_();const i=Lr(e),n=e.charAt(0).toLowerCase()+e.slice(1);i!=="Html5"&&this.tag&&(Et.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const a={source:r,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${n}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Wi.names.forEach(l=>{const u=Wi[l];a[u.getterName]=this[u.privateName]}),Object.assign(a,this.options_[i]),Object.assign(a,this.options_[n]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),r&&r.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const o=Et.getTech(e);if(!o)throw new Error(`No Tech named '${i}' exists! '${i}' should be registered using videojs.registerTech()'`);this.tech_=new o(a),this.tech_.ready(mr(this,this.handleTechReady_),!0),Nx.jsonToTextTracks(this.textTracksJson_||[],this.tech_),XM.forEach(l=>{this.on(this.tech_,l,u=>this[`handleTech${Lr(l)}_`](u))}),Object.keys(V4).forEach(l=>{this.on(this.tech_,l,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${V4[l]}_`].bind(this),event:u});return}this[`handleTech${V4[l]}_`](u)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,u)=>this.handleTechFullscreenChange_(l,u)),this.on(this.tech_,"fullscreenerror",(l,u)=>this.handleTechFullscreenError_(l,u)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(i!=="Html5"||!this.tag)&&Zy(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Wi.names.forEach(e=>{const r=Wi[e];this[r.privateName]=this[r.getterName]()}),this.textTracksJson_=Nx.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&Nt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":Xy}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const r=()=>{const n=this.muted();this.muted(!0);const s=()=>{this.muted(n)};this.playTerminatedQueue_.push(s);const a=this.play();if(vh(a))return a.catch(o=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${o||""}`)})};let i;if(e==="any"&&!this.muted()?(i=this.play(),vh(i)&&(i=i.catch(r))):e==="muted"&&!this.muted()?i=r():i=this.play(),!!vh(i))return i.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let r=e,i="";typeof r!="string"&&(r=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],r&&!i&&(i=CK(this,r)),this.cache_.source=dr({},e,{src:r,type:i});const n=this.cache_.sources.filter(l=>l.src&&l.src===r),s=[],a=this.$$("source"),o=[];for(let l=0;l<a.length;l++){const u=Zo(a[l]);s.push(u),u.src&&u.src===r&&o.push(u.src)}o.length&&!n.length?this.cache_.sources=s:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=r}handleTechSourceset_(e){if(!this.changingSrc_){let r=s=>this.updateSourceCaches_(s);const i=this.currentSource().src,n=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(n)&&(!this.lastSource_||this.lastSource_.tech!==n&&this.lastSource_.player!==i)&&(r=()=>{}),r(n),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),r=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",r))};this.on("timeupdate",r)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Ys(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),i=>i.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const r=e.target.player;if(r&&r!==this)return;const i=this.el();let n=Pe[this.fsApi_.fullscreenElement]===i;!n&&i.matches&&(n=i.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(n)}handleTechFullscreenChange_(e,r){r&&(r.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(r.isFullscreen))}handleTechFullscreenError_(e,r){this.trigger("fullscreenerror",r)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,r){this.ready(function(){if(e in bK)return yK(this.middleware_,this.tech_,e,r);if(e in jx)return qx(this.middleware_,this.tech_,e,r);try{this.tech_&&this.tech_[e](r)}catch(i){throw Nt(i),i}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in vK)return gK(this.middleware_,this.tech_,e);if(e in jx)return qx(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(r){throw this.tech_[e]===void 0?(Nt(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,r),r):r.name==="TypeError"?(Nt(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,r),this.tech_.isReady_=!1,r):(Nt(r),r)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Ys){this.playCallbacks_.push(e);const r=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),i=!!(s2||Qi);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!r){this.waitToPlay_=a=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!r&&i&&this.load();return}const n=this.techGet_("play");i&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),n===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(r){r()})}runPlayCallbacks_(e){const r=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],r.forEach(function(i){i(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||ks(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=ks(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=ks(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return fM(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),r=this.duration();let i=e.end(e.length-1);return i>r&&(i=r),i}volume(e){let r;if(e!==void 0){r=Math.max(0,Math.min(1,e)),this.cache_.volume=r,this.techCall_("setVolume",r),r>0&&this.lastVolume_(r);return}return r=parseFloat(this.techGet_("volume")),isNaN(r)?1:r}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const r=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==r&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const r=this;return new Promise((i,n)=>{function s(){r.off("fullscreenerror",o),r.off("fullscreenchange",a)}function a(){s(),i()}function o(u,c){s(),n(c)}r.one("fullscreenchange",a),r.one("fullscreenerror",o);const l=r.requestFullscreenHelper_(e);l&&(l.then(s,s),l.then(i,n))})}requestFullscreenHelper_(e){let r;if(this.fsApi_.prefixed||(r=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(r=e)),this.fsApi_.requestFullscreen){const i=this.el_[this.fsApi_.requestFullscreen](r);return i&&i.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),i}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((r,i)=>{function n(){e.off("fullscreenerror",a),e.off("fullscreenchange",s)}function s(){n(),r()}function a(l,u){n(),i(u)}e.one("fullscreenchange",s),e.one("fullscreenerror",a);const o=e.exitFullscreenHelper_();o&&(o.then(n,n),o.then(r,i))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Pe[this.fsApi_.exitFullscreen]();return e&&Ys(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Pe.documentElement.style.overflow,In(Pe,"keydown",this.boundFullWindowOnEscKey_),Pe.documentElement.style.overflow="hidden",_u(Pe.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Pi(Pe,"keydown",this.boundFullWindowOnEscKey_),Pe.documentElement.style.overflow=this.docOrigOverflow,a2(Pe.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&H.documentPictureInPicture){const e=Pe.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(mt("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),H.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(r=>(tM(r),this.el_.parentNode.insertBefore(e,this.el_),r.document.body.appendChild(this.el_),r.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:r}),r.addEventListener("pagehide",i=>{const n=i.target.querySelector(".video-js");e.parentNode.replaceChild(n,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),r))}return"pictureInPictureEnabled"in Pe&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(H.documentPictureInPicture&&H.documentPictureInPicture.window)return H.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Pe)return Pe.exitPictureInPicture()}handleKeyDown(e){const{userActions:r}=this.options_;!r||!r.hotkeys||(n=>{const s=n.tagName.toLowerCase();if(n.isContentEditable)return!0;const a=["button","checkbox","hidden","radio","reset","submit"];return s==="input"?a.indexOf(n.type)===-1:["textarea"].indexOf(s)!==-1})(this.el_.ownerDocument.activeElement)||(typeof r.hotkeys=="function"?r.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const r=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:i=a=>e.key.toLowerCase()==="f",muteKey:n=a=>e.key.toLowerCase()==="m",playPauseKey:s=a=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=r;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();const a=he.getComponent("FullscreenToggle");Pe[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else n.call(this,e)?(e.preventDefault(),e.stopPropagation(),he.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),he.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let r;for(let i=0,n=this.options_.techOrder;i<n.length;i++){const s=n[i];let a=Et.getTech(s);if(a||(a=he.getComponent(s)),!a){Nt.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(r=a.canPlayType(e),r))return r}return""}selectSource(e){const r=this.options_.techOrder.map(o=>[o,Et.getTech(o)]).filter(([o,l])=>l?l.isSupported():(Nt.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`),!1)),i=function(o,l,u){let c;return o.some(d=>l.some(h=>{if(c=u(d,h),c)return!0})),c};let n;const s=o=>(l,u)=>o(u,l),a=([o,l],u)=>{if(l.canPlaySource(u,this.options_[o.toLowerCase()]))return{source:u,tech:o}};return this.options_.sourceOrder?n=i(e,r,s(a)):n=i(r,e,a),n||!1}handleSrc_(e,r){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const i=bM(e);if(!i.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,r||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),fK(this,i[0],(n,s)=>{if(this.middleware_=s,r||(this.cache_.sources=i),this.updateSourceCaches_(n),this.src_(n)){if(i.length>1)return this.handleSrc_(i.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}mK(s,this.tech_)}),i.length>1){const n=()=>{this.error(null),this.handleSrc_(i.slice(1),!0)},s=()=>{this.off("error",n)};this.one("error",n),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",n),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const r=this.selectSource([e]);return r?cM(r.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Ys(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),Ha(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:r,progressControl:i,remainingTimeDisplay:n}=this.controlBar||{},{seekBar:s}=i||{};e&&e.updateContent(),r&&r.updateContent(),n&&n.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),r=[];return Object.keys(e).length!==0&&r.push(e),this.cache_.sources||r}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let r;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),r=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,r=typeof r>"u"?this.options_.autoplay:r,this.tech_&&this.techCall_("setAutoplay",r)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(dl("beforeerror").forEach(r=>{const i=r(this,e);if(!(ca(i)&&!Array.isArray(i)||typeof i=="string"||typeof i=="number"||i===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=i}),this.options_.suppressNotSupportedError&&e&&e.code===4){const r=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],r),this.one("loadstart",function(){this.off(["click","touchstart"],r)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Er(e),this.addClass("vjs-error"),Nt.error(`(CODE:${this.error_.code} ${Er.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),dl("error").forEach(r=>r(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(r){r.stopPropagation(),r.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,r,i;const n=mr(this,this.reportUserActivity),s=function(d){(d.screenX!==r||d.screenY!==i)&&(r=d.screenX,i=d.screenY,n())},a=function(){n(),this.clearInterval(e),e=this.setInterval(n,250)},o=function(d){n(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",s),this.on("mouseup",o),this.on("mouseleave",o);const l=this.getChild("controlBar");l&&!Qi&&!da&&(l.on("mouseenter",function(d){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(d){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",n),this.on("keyup",n);let u;const c=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const d=this.options_.inactivityTimeout;d<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},d))};this.setInterval(c,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),r=this.getChild("ControlBar"),i=r&&r.currentHeight();e.forEach(n=>{n!==r&&n.el_&&!n.hasClass("vjs-hidden")&&(n.hide(),this.audioOnlyCache_.hiddenChildren.push(n))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=i,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(i),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const r=[];return this.isInPictureInPicture()&&r.push(this.exitPictureInPicture()),this.isFullscreen()&&r.push(this.exitFullscreen()),this.audioPosterMode()&&r.push(this.audioPosterMode(!1)),Promise.all(r).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,r,i){if(this.tech_)return this.tech_.addTextTrack(e,r,i)}addRemoteTextTrack(e,r){if(this.tech_)return this.tech_.addRemoteTextTrack(e,r)}removeRemoteTextTrack(e={}){let{track:r}=e;if(r||(r=e),this.tech_)return this.tech_.removeRemoteTextTrack(r)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Ha(this)&&this.trigger("languagechange"))}languages(){return dr(yr.prototype.options_.languages,this.languages_)}toJSON(){const e=dr(this.options_),r=e.tracks;e.tracks=[];for(let i=0;i<r.length;i++){let n=r[i];n=dr(n),n.player=void 0,e.tracks[i]=n}return e}createModal(e,r){r=r||{},r.content=e||"";const i=new $0(this,r);return this.addChild(i),i.on("dispose",()=>{this.removeChild(i)}),i.open(),i}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),r=this.currentWidth();for(let i=0;i<s5.length;i++){const n=s5[i],s=this.breakpoints_[n];if(r<=s){if(e===n)return;e&&this.removeClass(Jm[e]),this.addClass(Jm[n]),this.breakpoint_=n;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},rW,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const r=this.responsive_;if(e!==r)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return Jm[this.breakpoint_]||""}loadMedia(e,r){if(!e||typeof e!="object")return;const i=this.crossOrigin();this.reset(),this.cache_.media=dr(e);const{artist:n,artwork:s,description:a,poster:o,src:l,textTracks:u,title:c}=this.cache_.media;!s&&o&&(this.cache_.media.artwork=[{src:o,type:q1(o)}]),i&&this.crossOrigin(i),l&&this.src(l),o&&this.poster(o),Array.isArray(u)&&u.forEach(d=>this.addRemoteTextTrack(d,!1)),this.titleBar&&this.titleBar.update({title:c,description:a||n||""}),this.ready(r)}getMedia(){if(!this.cache_.media){const e=this.poster(),r=this.currentSources(),i=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),n={src:r,textTracks:i};return e&&(n.poster=e,n.artwork=[{src:n.poster,type:q1(n.poster)}]),n}return dr(this.cache_.media)}static getTagSettings(e){const r={sources:[],tracks:[]},i=Zo(e),n=i["data-setup"];if(gh(e,"vjs-fill")&&(i.fill=!0),gh(e,"vjs-fluid")&&(i.fluid=!0),n!==null)try{Object.assign(i,JSON.parse(n||"{}"))}catch(s){Nt.error("data-setup",s)}if(Object.assign(r,i),e.hasChildNodes()){const s=e.childNodes;for(let a=0,o=s.length;a<o;a++){const l=s[a],u=l.nodeName.toLowerCase();u==="source"?r.sources.push(Zo(l)):u==="track"&&r.tracks.push(Zo(l))}}return r}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(r=>typeof r=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Wi.names.forEach(function(t){const e=Wi[t];yr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});yr.prototype.crossorigin=yr.prototype.crossOrigin;yr.players={};const _d=H.navigator;yr.prototype.options_={techOrder:Et.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:_d&&(_d.languages&&_d.languages[0]||_d.userLanguage||_d.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1};XM.forEach(function(t){yr.prototype[`handleTech${Lr(t)}_`]=function(){return this.trigger(t)}});he.registerComponent("Player",yr);const j1="plugin",Zc="activePlugins_",Bc={},V1=t=>Bc.hasOwnProperty(t),Qm=t=>V1(t)?Bc[t]:void 0,YM=(t,e)=>{t[Zc]=t[Zc]||{},t[Zc][e]=!0},H1=(t,e,r)=>{const i=(r?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},iW=function(t,e){const r=function(){H1(this,{name:t,plugin:e,instance:null},!0);const i=e.apply(this,arguments);return YM(this,t),H1(this,{name:t,plugin:e,instance:i}),i};return Object.keys(e).forEach(function(i){r[i]=e[i]}),r},a_=(t,e)=>(e.prototype.name=t,function(...r){H1(this,{name:t,plugin:e,instance:null},!0);const i=new e(this,...r);return this[t]=()=>i,H1(this,i.getEventHash()),i});class mn{constructor(e){if(this.constructor===mn)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),_b(this),delete this.trigger,uM(this,this.constructor.defaultState),YM(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,r={}){return N0(this.eventBusEl_,e,this.getEventHash(r))}handleStateChanged(e){}dispose(){const{name:e,player:r}=this;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[Zc][e]=!1,this.player=this.state=null,r[e]=a_(e,Bc[e])}static isBasic(e){const r=typeof e=="string"?Qm(e):e;return typeof r=="function"&&!mn.prototype.isPrototypeOf(r.prototype)}static registerPlugin(e,r){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(V1(e))Nt.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(yr.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof r!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof r}.`);return Bc[e]=r,e!==j1&&(mn.isBasic(r)?yr.prototype[e]=iW(e,r):yr.prototype[e]=a_(e,r)),r}static deregisterPlugin(e){if(e===j1)throw new Error("Cannot de-register base plugin.");V1(e)&&(delete Bc[e],delete yr.prototype[e])}static getPlugins(e=Object.keys(Bc)){let r;return e.forEach(i=>{const n=Qm(i);n&&(r=r||{},r[i]=n)}),r}static getPluginVersion(e){const r=Qm(e);return r&&r.VERSION||""}}mn.getPlugin=Qm;mn.BASE_PLUGIN_NAME=j1;mn.registerPlugin(j1,mn);yr.prototype.usingPlugin=function(t){return!!this[Zc]&&this[Zc][t]===!0};yr.prototype.hasPlugin=function(t){return!!V1(t)};function nW(t,e){let r=!1;return function(...i){return r||Nt.warn(t),r=!0,e.apply(this,i)}}function Ps(t,e,r,i){return nW(`${e} is deprecated and will be removed in ${t}.0; please use ${r} instead.`,i)}var sW={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const ZM=t=>t.indexOf("#")===0?t.slice(1):t;function ae(t,e,r){let i=ae.getPlayer(t);if(i)return e&&Nt.warn(`Player "${t}" is already initialised. Options will not be applied.`),r&&i.ready(r),i;const n=typeof t=="string"?hl("#"+ZM(t)):t;if(!F0(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a=("getRootNode"in n?n.getRootNode()instanceof H.ShadowRoot:!1)?n.getRootNode():n.ownerDocument.body;(!n.ownerDocument.defaultView||!a.contains(n))&&Nt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player")?n.parentNode:n).cloneNode(!0)),dl("beforesetup").forEach(l=>{const u=l(n,dr(e));if(!ca(u)||Array.isArray(u)){Nt.error("please return an object in beforesetup hooks");return}e=dr(e,u)});const o=he.getComponent("Player");return i=new o(n,e,r),dl("setup").forEach(l=>l(i)),i}ae.hooks_=$a;ae.hooks=dl;ae.hook=FH;ae.hookOnce=NH;ae.removeHook=IA;if(H.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&O0()){let t=hl(".vjs-styles-defaults");if(!t){t=nM("vjs-styles-defaults");const e=hl("head");e&&e.insertBefore(t,e.firstChild),sM(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}Qy(1,ae);ae.VERSION=Xy;ae.options=yr.prototype.options_;ae.getPlayers=()=>yr.players;ae.getPlayer=t=>{const e=yr.players;let r;if(typeof t=="string"){const i=ZM(t),n=e[i];if(n)return n;r=hl("#"+i)}else r=t;if(F0(r)){const{player:i,playerId:n}=r;if(i||e[n])return i||e[n]}};ae.getAllPlayers=()=>Object.keys(yr.players).map(t=>yr.players[t]).filter(Boolean);ae.players=yr.players;ae.getComponent=he.getComponent;ae.registerComponent=(t,e)=>(Et.isTech(e)&&Nt.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),he.registerComponent.call(he,t,e));ae.getTech=Et.getTech;ae.registerTech=Et.registerTech;ae.use=pK;Object.defineProperty(ae,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(ae.middleware,"TERMINATOR",{value:U1,writeable:!1,enumerable:!0});ae.browser=jA;ae.obj=UH;ae.mergeOptions=Ps(9,"videojs.mergeOptions","videojs.obj.merge",dr);ae.defineLazyProperty=Ps(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",t2);ae.bind=Ps(9,"videojs.bind","native Function.prototype.bind",mr);ae.registerPlugin=mn.registerPlugin;ae.deregisterPlugin=mn.deregisterPlugin;ae.plugin=(t,e)=>(Nt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),mn.registerPlugin(t,e));ae.getPlugins=mn.getPlugins;ae.getPlugin=mn.getPlugin;ae.getPluginVersion=mn.getPluginVersion;ae.addLanguage=function(t,e){return t=(""+t).toLowerCase(),ae.options.languages=dr(ae.options.languages,{[t]:e}),ae.options.languages[t]};ae.log=Nt;ae.createLogger=RA;ae.time=rK;ae.createTimeRange=Ps(9,"videojs.createTimeRange","videojs.time.createTimeRanges",ks);ae.createTimeRanges=Ps(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",ks);ae.formatTime=Ps(9,"videojs.formatTime","videojs.time.formatTime",Bu);ae.setFormatTime=Ps(9,"videojs.setFormatTime","videojs.time.setFormatTime",hM);ae.resetFormatTime=Ps(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",pM);ae.parseUrl=Ps(9,"videojs.parseUrl","videojs.url.parseUrl",Cb);ae.isCrossOrigin=Ps(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",p2);ae.EventTarget=Rn;ae.any=xb;ae.on=In;ae.one=d2;ae.off=Pi;ae.trigger=N0;ae.xhr=NE;ae.TextTrack=gp;ae.AudioTrack=yM;ae.VideoTrack=vM;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{ae[t]=function(){return Nt.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),rM[t].apply(null,arguments)}});ae.computedStyle=Ps(9,"videojs.computedStyle","videojs.dom.computedStyle",_0);ae.dom=rM;ae.fn=YH;ae.num=IK;ae.str=eK;ae.url=dK;ae.Error=sW;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class aW{constructor(e){let r=this;return r.id=e.id,r.label=r.id,r.width=e.width,r.height=e.height,r.bitrate=e.bandwidth,r.frameRate=e.frameRate,r.enabled_=e.enabled,Object.defineProperty(r,"enabled",{get(){return r.enabled_()},set(i){r.enabled_(i)}}),r}}class K1 extends ae.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let r=this.getQualityLevelById(e.id);if(r)return r;const i=this.levels_.length;return r=new aW(e),""+i in this||Object.defineProperty(this,i,{get(){return this.levels_[i]}}),this.levels_.push(r),this.trigger({qualityLevel:r,type:"addqualitylevel"}),r}removeQualityLevel(e){let r=null;for(let i=0,n=this.length;i<n;i++)if(this[i]===e){r=this.levels_.splice(i,1)[0],this.selectedIndex_===i?this.selectedIndex_=-1:this.selectedIndex_>i&&this.selectedIndex_--;break}return r&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),r}getQualityLevelById(e){for(let r=0,i=this.length;r<i;r++){const n=this[r];if(n.id===e)return n}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}K1.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in K1.prototype.allowedEvents_)K1.prototype["on"+t]=null;var JM="4.1.0";const oW=function(t,e){const r=t.qualityLevels,i=new K1,n=function(){i.dispose(),t.qualityLevels=r,t.off("dispose",n)};return t.on("dispose",n),t.qualityLevels=()=>i,t.qualityLevels.VERSION=JM,i},QM=function(t){return oW(this,ae.obj.merge({},t))};ae.registerPlugin("qualityLevels",QM);QM.VERSION=JM;/*! @name @videojs/http-streaming @version 3.13.3 @license Apache-2.0 */const dn=Gg,W1=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,ls=t=>ae.log.debug?ae.log.debug.bind(ae,"VHS:",`${t} >`):function(){};function er(...t){const e=ae.obj||ae;return(e.merge||e.mergeOptions).apply(e,t)}function _i(...t){const e=ae.time||ae;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function lW(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let r=0;r<t.length;r++){const i=t.start(r),n=t.end(r);e+=`${i} --> ${n}. Duration (${n-i})
`}return e}const Zs=1/30,Js=Zs*3,eD=function(t,e){const r=[];let i;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&r.push([t.start(i),t.end(i)]);return _i(r)},Pc=function(t,e){return eD(t,function(r,i){return r-Js<=e&&i+Js>=e})},Cf=function(t,e){return eD(t,function(r){return r-Zs>=e})},uW=function(t){if(t.length<2)return _i();const e=[];for(let r=1;r<t.length;r++){const i=t.end(r-1),n=t.start(r);e.push([i,n])}return _i(e)},cW=function(t,e){let r=null,i=null,n=0;const s=[],a=[];if(!t||!t.length||!e||!e.length)return _i();let o=t.length;for(;o--;)s.push({time:t.start(o),type:"start"}),s.push({time:t.end(o),type:"end"});for(o=e.length;o--;)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(s.sort(function(l,u){return l.time-u.time}),o=0;o<s.length;o++)s[o].type==="start"?(n++,n===2&&(r=s[o].time)):s[o].type==="end"&&(n--,n===1&&(i=s[o].time)),r!==null&&i!==null&&(a.push([r,i]),r=null,i=null);return _i(a)},tD=t=>{const e=[];if(!t||!t.length)return"";for(let r=0;r<t.length;r++)e.push(t.start(r)+" => "+t.end(r));return e.join(", ")},dW=function(t,e,r=1){return((t.length?t.end(t.length-1):0)-e)/r},hu=t=>{const e=[];for(let r=0;r<t.length;r++)e.push({start:t.start(r),end:t.end(r)});return e},hW=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let r=0;r<t.length;r++)if(t.start(r)!==e.start(r)||t.end(r)!==e.end(r))return!0;return!1},H4=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},qb=function(t,e){let r=0;if(!t||!t.length)return r;for(let i=0;i<t.length;i++){const n=t.start(i),s=t.end(i);if(!(e>s)){if(e>n&&e<=s){r+=s-e;continue}r+=s-n}}return r},jb=(t,e)=>{if(!e.preload)return e.duration;let r=0;return(e.parts||[]).forEach(function(i){r+=i.duration}),(e.preloadHints||[]).forEach(function(i){i.type==="PART"&&(r+=t.partTargetDuration)}),r},a5=t=>(t.segments||[]).reduce((e,r,i)=>(r.parts?r.parts.forEach(function(n,s){e.push({duration:n.duration,segmentIndex:i,partIndex:s,part:n,segment:r})}):e.push({duration:r.duration,segmentIndex:i,partIndex:null,segment:r,part:null}),e),[]),rD=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},iD=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:r}=t;let i=(r||[]).reduce((n,s)=>n+(s.type==="PART"?1:0),0);return i+=e&&e.length?e.length:0,i},nD=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const r=rD(e).length>0;return r&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:r&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},pW=function(t,e){let r=0,i=e-t.mediaSequence,n=t.segments[i];if(n){if(typeof n.start<"u")return{result:n.start,precise:!0};if(typeof n.end<"u")return{result:n.end-n.duration,precise:!0}}for(;i--;){if(n=t.segments[i],typeof n.end<"u")return{result:r+n.end,precise:!0};if(r+=jb(t,n),typeof n.start<"u")return{result:r+n.start,precise:!0}}return{result:r,precise:!1}},fW=function(t,e){let r=0,i,n=e-t.mediaSequence;for(;n<t.segments.length;n++){if(i=t.segments[n],typeof i.start<"u")return{result:i.start-r,precise:!0};if(r+=jb(t,i),typeof i.end<"u")return{result:i.end-r,precise:!0}}return{result:-1,precise:!1}},sD=function(t,e,r){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const i=pW(t,e);if(i.precise)return i.result;const n=fW(t,e);return n.precise?n.result:i.result+r},aD=function(t,e,r){if(!t)return 0;if(typeof r!="number"&&(r=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return H.Infinity}return sD(t,e,r)},bh=function({defaultDuration:t,durationList:e,startIndex:r,endIndex:i}){let n=0;if(r>i&&([r,i]=[i,r]),r<0){for(let s=r;s<Math.min(0,i);s++)n+=t;r=0}for(let s=r;s<i;s++)n+=e[s].duration;return n},oD=function(t,e,r,i){if(!t||!t.segments)return null;if(t.endList)return aD(t);if(e===null)return null;e=e||0;let n=sD(t,t.mediaSequence+t.segments.length,e);return r&&(i=typeof i=="number"?i:nD(null,t),n-=i),Math.max(0,n)},mW=function(t,e,r){const n=e||0;let s=oD(t,e,!0,r);return s===null?_i():(s<n&&(s=n),_i(n,s))},gW=function({playlist:t,currentTime:e,startingSegmentIndex:r,startingPartIndex:i,startTime:n,exactManifestTimings:s}){let a=e-n;const o=a5(t);let l=0;for(let u=0;u<o.length;u++){const c=o[u];if(r===c.segmentIndex&&!(typeof i=="number"&&typeof c.partIndex=="number"&&i!==c.partIndex)){l=u;break}}if(a<0){if(l>0)for(let u=l-1;u>=0;u--){const c=o[u];if(a+=c.duration,s){if(a<0)continue}else if(a+Zs<=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:n-bh({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:u})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e}}if(l<0){for(let u=l;u<0;u++)if(a-=t.targetDuration,a<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e};l=0}for(let u=l;u<o.length;u++){const c=o[u];a-=c.duration;const d=c.duration>Zs,h=a===0,f=d&&a+Zs>=0;if(!((h||f)&&u!==o.length-1)){if(s){if(a>0)continue}else if(a-Zs>=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:n+bh({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:u})}}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:e}},lD=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Vb=function(t){return t.excludeUntil&&t.excludeUntil===1/0},g2=function(t){const e=lD(t);return!t.disabled&&!e},yW=function(t){return t.disabled},vW=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},uD=function(t,e){return e.attributes&&e.attributes[t]},bW=function(t,e,r,i=0){return uD("BANDWIDTH",r)?(t*r.attributes.BANDWIDTH-i*8)/e:NaN},o5=(t,e)=>{if(t.playlists.length===1)return!0;const r=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(i=>g2(i)?(i.attributes.BANDWIDTH||0)<r:!1).length===0},Hb=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),o_=function(t,e){const r=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let i=!1;for(const n in r){for(const s in r[n])if(i=e(r[n][s]),i)break;if(i)break}return!!i},xp=t=>{if(!t||!t.playlists||!t.playlists.length)return o_(t,r=>r.playlists&&r.playlists.length||r.uri);for(let e=0;e<t.playlists.length;e++){const r=t.playlists[e],i=r.attributes&&r.attributes.CODECS;if(!(i&&i.split(",").every(s=>VE(s))||o_(t,s=>Hb(r,s))))return!1}return!0};var hn={liveEdgeDelay:nD,duration:aD,seekable:mW,getMediaInfoForTime:gW,isEnabled:g2,isDisabled:yW,isExcluded:lD,isIncompatible:Vb,playlistEnd:oD,isAes:vW,hasAttribute:uD,estimateSegmentRequestTime:bW,isLowestEnabledRendition:o5,isAudioOnly:xp,playlistMatch:Hb,segmentDurationWithParts:jb};const{log:cD}=ae,Jc=(t,e)=>`${t}-${e}`,dD=(t,e,r)=>`placeholder-uri-${t}-${e}-${r}`,xW=({onwarn:t,oninfo:e,manifestString:r,customTagParsers:i=[],customTagMappers:n=[],llhls:s})=>{const a=new Ij;t&&a.on("warn",t),e&&a.on("info",e),i.forEach(u=>a.addParser(u)),n.forEach(u=>a.addTagMapper(u)),a.push(r),a.end();const o=a.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){o.hasOwnProperty(u)&&delete o[u]}),o.segments&&o.segments.forEach(function(u){["parts","preloadHints"].forEach(function(c){u.hasOwnProperty(c)&&delete u[c]})})),!o.targetDuration){let u=10;o.segments&&o.segments.length&&(u=o.segments.reduce((c,d)=>Math.max(c,d.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${u}`}),o.targetDuration=u}const l=rD(o);if(l.length&&!o.partTargetDuration){const u=l.reduce((c,d)=>Math.max(c,d.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${u}`}),cD.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=u}return o},q0=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(r=>{if(t.mediaGroups[r])for(const i in t.mediaGroups[r])for(const n in t.mediaGroups[r][i]){const s=t.mediaGroups[r][i][n];e(s,r,i,n)}})},hD=({playlist:t,uri:e,id:r})=>{t.id=r,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},_W=t=>{let e=t.playlists.length;for(;e--;){const r=t.playlists[e];hD({playlist:r,id:Jc(e,r.uri)}),r.resolvedUri=dn(t.uri,r.uri),t.playlists[r.id]=r,t.playlists[r.uri]=r,r.attributes.BANDWIDTH||cD.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},wW=t=>{q0(t,e=>{e.uri&&(e.resolvedUri=dn(t.uri,e.uri))})},SW=(t,e)=>{const r=Jc(0,e),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:H.location.href,resolvedUri:H.location.href,playlists:[{uri:e,id:r,resolvedUri:e,attributes:{}}]};return i.playlists[r]=i.playlists[0],i.playlists[e]=i.playlists[0],i},pD=(t,e,r=dD)=>{t.uri=e;for(let n=0;n<t.playlists.length;n++)if(!t.playlists[n].uri){const s=`placeholder-uri-${n}`;t.playlists[n].uri=s}const i=xp(t);q0(t,(n,s,a,o)=>{if(!n.playlists||!n.playlists.length){if(i&&s==="AUDIO"&&!n.uri)for(let l=0;l<t.playlists.length;l++){const u=t.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===a)return}n.playlists=[Br({},n)]}n.playlists.forEach(function(l,u){const c=r(s,a,o,l),d=Jc(u,c);l.uri?l.resolvedUri=l.resolvedUri||dn(t.uri,l.uri):(l.uri=u===0?c:d,l.resolvedUri=l.uri),l.id=l.id||d,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),_W(t),wW(t)};class l_{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[r]=e;r.programDateTime!==void 0&&(this.offset_=r.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[r]=e,i=r.startDate.getTime();this.trimProcessedDateRanges_(i),this.pendingDateRanges_=e.reduce((n,s)=>(n.set(s.id,s),n),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},r=[];this.pendingDateRanges_.forEach((i,n)=>{if(!this.processedDateRanges_.has(n)&&(i.startTime=i.startDate.getTime()/1e3-this.offset_,i.processDateRange=()=>this.processDateRange(i),r.push(i),!!i.class))if(e[i.class]){const s=e[i.class].push(i);i.classListIndex=s-1}else e[i.class]=[i],i.classListIndex=0});for(const i of r){const n=e[i.class]||[];i.endDate?i.endTime=i.endDate.getTime()/1e3-this.offset_:i.endOnNext&&n[i.classListIndex+1]?i.endTime=n[i.classListIndex+1].startTime:i.duration?i.endTime=i.startTime+i.duration:i.plannedDuration?i.endTime=i.startTime+i.plannedDuration:i.endTime=i.startTime}return r}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((i,n)=>{i.startDate.getTime()<e&&this.processedDateRanges_.delete(n)})}}const fD=22,Cu=({requestType:t,request:e,error:r,parseFailure:i})=>{const n=e.status<200||e.status>299,s=e.status>=400&&e.status<=499,a={uri:e.uri,requestType:t},o=n&&!s||i;if(r&&s)a.error=Br({},r),a.errorType=ae.Error.NetworkRequestFailed;else if(e.aborted)a.errorType=ae.Error.NetworkRequestAborted;else if(e.timedout)a.erroType=ae.Error.NetworkRequestTimeout;else if(o){const l=i?ae.Error.NetworkBodyParserFailed:ae.Error.NetworkBadStatus;a.errorType=l,a.status=e.status,a.headers=e.headers}return a},{EventTarget:CW}=ae,kW=(t,e)=>{if(e.endList||!e.serverControl)return t;const r={};if(e.serverControl.canBlockReload){const{preloadSegment:i}=e;let n=e.mediaSequence+e.segments.length;if(i){const s=i.parts||[],a=iD(e)-1;a>-1&&a!==s.length-1&&(r._HLS_part=a),(a>-1||s.length)&&n--}r._HLS_msn=n}if(e.serverControl&&e.serverControl.canSkipUntil&&(r._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(r).length){const i=new H.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(n){r.hasOwnProperty(n)&&i.searchParams.set(n,r[n])}),t=i.toString()}return t},TW=(t,e)=>{if(!t)return e;const r=er(t,e);if(t.preloadHints&&!e.preloadHints&&delete r.preloadHints,t.parts&&!e.parts)delete r.parts;else if(t.parts&&e.parts)for(let i=0;i<e.parts.length;i++)t.parts&&t.parts[i]&&(r.parts[i]=er(t.parts[i],e.parts[i]));return!t.skipped&&e.skipped&&(r.skipped=!1),t.preload&&!e.preload&&(r.preload=!1),r},EW=(t,e,r)=>{const i=t.slice(),n=e.slice();r=r||0;const s=[];let a;for(let o=0;o<n.length;o++){const l=i[o+r],u=n[o];l?(a=l.map||a,s.push(TW(l,u))):(a&&!u.map&&(u.map=a),s.push(u))}return s},mD=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=dn(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=dn(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=dn(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=dn(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(r=>{r.resolvedUri||(r.resolvedUri=dn(e,r.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(r=>{r.resolvedUri||(r.resolvedUri=dn(e,r.uri))})},gD=function(t){const e=t.segments||[],r=t.preloadSegment;if(r&&r.parts&&r.parts.length){if(r.preloadHints){for(let i=0;i<r.preloadHints.length;i++)if(r.preloadHints[i].type==="MAP")return e}r.duration=t.targetDuration,r.preload=!0,e.push(r)}return e},yD=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,l5=(t,e,r=yD)=>{const i=er(t,{}),n=i.playlists[e.id];if(!n||r(n,e))return null;e.segments=gD(e);const s=er(n,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,n.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}s.segments=EW(n.segments,e.segments,e.mediaSequence-n.mediaSequence)}s.segments.forEach(a=>{mD(a,s.resolvedUri)});for(let a=0;a<i.playlists.length;a++)i.playlists[a].id===e.id&&(i.playlists[a]=s);return i.playlists[e.id]=s,i.playlists[e.uri]=s,q0(t,(a,o,l,u)=>{if(a.playlists)for(let c=0;c<a.playlists.length;c++)e.id===a.playlists[c].id&&(a.playlists[c]=s)}),i},u5=(t,e)=>{const r=t.segments||[],i=r[r.length-1],n=i&&i.parts&&i.parts[i.parts.length-1],s=n&&n.duration||i&&i.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500},u_=(t,e,r)=>{if(!t)return;const i=[];return t.forEach(n=>{if(!n.attributes)return;const{BANDWIDTH:s,RESOLUTION:a,CODECS:o}=n.attributes;i.push({id:n.id,bandwidth:s,resolution:a,codecs:o})}),{type:e,isLive:r,renditions:i}};class Ic extends CW{constructor(e,r,i={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=ls("PlaylistLoader");const{withCredentials:n=!1}=i;this.src=e,this.vhs_=r,this.withCredentials=n,this.addDateRangesToTextTrack_=i.addDateRangesToTextTrack;const s=r.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new l_,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const r=this.dateRangesStorage_.getDateRangesToProcess();!r.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(r)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let r=dn(this.main.uri,e.uri);this.llhls&&(r=kW(r,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:r,withCredentials:this.withCredentials,requestType:"hls-playlist"},(i,n)=>{if(this.request){if(i)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,r,i){const{uri:n,id:s}=r;this.request=null,i&&(this.state=i),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${n}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:Cu({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:r}){try{return xW({onwarn:({message:i})=>this.logger_(`m3u8-parser warn for ${e}: ${i}`),oninfo:({message:i})=>this.logger_(`m3u8-parser info for ${e}: ${i}`),manifestString:r,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(i){this.error=i,this.error.metadata={errorType:ae.Error.StreamingHlsPlaylistParserError,error:i}}}haveMetadata({playlistString:e,playlistObject:r,url:i,id:n}){this.request=null,this.state="HAVE_METADATA";const s={playlistInfo:{type:"media",uri:i}};this.trigger({type:"playlistparsestart",metadata:s});const a=r||this.parseManifest_({url:i,manifestString:e});a.lastRequest=Date.now(),hD({playlist:a,uri:i,id:n});const o=l5(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[n]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(u5(this.media(),!!o)),s.parsedPlaylist=u_(this.main.playlists,s.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:s}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),H.clearTimeout(this.mediaUpdateTimeout),H.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new l_,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,r){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(H.clearTimeout(this.finalRenditionTimeout),r){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=H.setTimeout(this.media.bind(this,e,!1),o);return}const i=this.state,n=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(u5(e,!0)),!n)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const a={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(o,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=W1(e.resolvedUri,l),o)return this.playlistRequestError(this.request,e,i);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const r=this.media();if(e){const i=r?(r.partTargetDuration||r.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=H.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},i);return}if(!this.started){this.start();return}r&&!r.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=H.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=H.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,i)=>{if(!this.request)return;if(this.request=null,r)return this.error={status:i.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:i.responseText,code:2,metadata:Cu({requestType:i.requestType,request:i,error:r})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=W1(this.src,i),this.trigger({type:"playlistparsestart",metadata:e});const n=this.parseManifest_({manifestString:i.responseText,url:this.src});e.parsedPlaylist=u_(n.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(n)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,pD(this.main,this.srcUri()),e.playlists.forEach(i=>{i.segments=gD(i),i.segments.forEach(n=>{mD(n,i.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const r=this.srcUri()||H.location.href;this.main=SW(e,r),this.haveMetadata({playlistObject:e,url:r,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,r){const i=this.main,n=e.ID;let s=i.playlists.length;for(;s--;){const a=i.playlists[s];if(a.attributes["PATHWAY-ID"]===n){const o=a.resolvedUri,l=a.id;if(r){const u=this.createCloneURI_(a.resolvedUri,e),c=Jc(n,u),d=this.createCloneAttributes_(n,a.attributes),h=this.createClonePlaylist_(a,c,e,d);i.playlists[s]=h,i.playlists[c]=h,i.playlists[u]=h}else i.playlists.splice(s,1);delete i.playlists[l],delete i.playlists[o]}}this.updateOrDeleteCloneMedia(e,r)}updateOrDeleteCloneMedia(e,r){const i=this.main,n=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!i.mediaGroups[s]||!i.mediaGroups[s][n])){for(const a in i.mediaGroups[s])if(a===n){for(const o in i.mediaGroups[s][a])i.mediaGroups[s][a][o].playlists.forEach((u,c)=>{const d=i.playlists[u.id],h=d.id,f=d.resolvedUri;delete i.playlists[h],delete i.playlists[f]});delete i.mediaGroups[s][a]}}}),r&&this.createClonedMediaGroups_(e)}addClonePathway(e,r={}){const i=this.main,n=i.playlists.length,s=this.createCloneURI_(r.resolvedUri,e),a=Jc(e.ID,s),o=this.createCloneAttributes_(e.ID,r.attributes),l=this.createClonePlaylist_(r,a,e,o);i.playlists[n]=l,i.playlists[a]=l,i.playlists[s]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const r=e.ID,i=e["BASE-ID"],n=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!n.mediaGroups[s]||n.mediaGroups[s][r]))for(const a in n.mediaGroups[s]){if(a===i)n.mediaGroups[s][r]={};else continue;for(const o in n.mediaGroups[s][a]){const l=n.mediaGroups[s][a][o];n.mediaGroups[s][r][o]=Br({},l);const u=n.mediaGroups[s][r][o],c=this.createCloneURI_(l.resolvedUri,e);u.resolvedUri=c,u.uri=c,u.playlists=[],l.playlists.forEach((d,h)=>{const f=n.playlists[d.id],g=dD(s,r,o),y=Jc(r,g);if(f&&!n.playlists[y]){const C=this.createClonePlaylist_(f,y,e),S=C.resolvedUri;n.playlists[y]=C,n.playlists[S]=C}u.playlists[h]=this.createClonePlaylist_(d,y,e)})}}})}createClonePlaylist_(e,r,i,n){const s=this.createCloneURI_(e.resolvedUri,i),a={resolvedUri:s,uri:s,id:r};return e.segments&&(a.segments=[]),n&&(a.attributes=n),er(e,a)}createCloneURI_(e,r){const i=new URL(e);i.hostname=r["URI-REPLACEMENT"].HOST;const n=r["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(n))i.searchParams.set(s,n[s]);return i.href}createCloneAttributes_(e,r){const i={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(n=>{r[n]&&(i[n]=e)}),i}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const i in e.contentProtection){const n=e.contentProtection[i].attributes.keyId;n&&r.add(n.toLowerCase())}return r}}}const c5=function(t,e,r,i){const n=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&n&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=n.byteLength||n.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),r.headers&&(t.responseHeaders=r.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&r.statusCode!==200&&r.statusCode!==206&&r.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(n||t.responseText)))),i(e,t)},AW=(t,e)=>{if(!t||!t.size)return;let r=e;return t.forEach(i=>{r=i(r)}),r},MW=(t,e,r,i)=>{!t||!t.size||t.forEach(n=>{n(e,r,i)})},vD=function(){const t=function e(r,i){r=er({timeout:45e3},r);const n=e.beforeRequest||ae.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||ae.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||ae.Vhs.xhr._responseCallbackSet;n&&typeof n=="function"&&(ae.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(n));const o=ae.Vhs.xhr.original===!0?ae.xhr:ae.Vhs.xhr,l=AW(s,r);s.delete(n);const u=o(l||r,function(d,h){return MW(a,u,d,h),c5(u,d,h,i)}),c=u.abort;return u.abort=function(){return u.aborted=!0,c.apply(u,arguments)},u.uri=r.uri,u.requestType=r.requestType,u.requestTime=Date.now(),u};return t.original=!0,t},DW=function(t){let e;const r=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=H.BigInt(t.offset)+H.BigInt(t.length)-H.BigInt(1):e=t.offset+t.length-1,"bytes="+r+"-"+e},d5=function(t){const e={};return t.byterange&&(e.Range=DW(t.byterange)),e},LW=function(t,e){return t.start(e)+"-"+t.end(e)},BW=function(t,e){const r=t.toString(16);return"00".substring(0,2-r.length)+r+(e%2?" ":"")},PW=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},bD=function(t){const e={};return Object.keys(t).forEach(r=>{const i=t[r];KE(i)?e[r]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[r]=i}),e},G1=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},xD=function(t){return t.resolvedUri},_D=t=>{const e=Array.prototype.slice.call(t),r=16;let i="",n,s;for(let a=0;a<e.length/r;a++)n=e.slice(a*r,a*r+r).map(BW).join(""),s=e.slice(a*r,a*r+r).map(PW).join(""),i+=n+" "+s+`
`;return i},IW=({bytes:t})=>_D(t),RW=t=>{let e="",r;for(r=0;r<t.length;r++)e+=LW(t,r)+" ";return e};var OW=Object.freeze({__proto__:null,createTransferableMessage:bD,initSegmentId:G1,segmentKeyId:xD,hexDump:_D,tagDump:IW,textRanges:RW});const wD=.25,FW=(t,e)=>{if(!e.dateTimeObject)return null;const r=e.videoTimingInfo.transmuxerPrependedSeconds,n=e.videoTimingInfo.transmuxedPresentationStart+r,s=t-n;return new Date(e.dateTimeObject.getTime()+s*1e3)},NW=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,$W=(t,e)=>{let r;try{r=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let i=e.segments[0];if(r<new Date(i.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){i=e.segments[l];const u=new Date(e.segments[l+1].dateTimeObject);if(r<u)break}const n=e.segments[e.segments.length-1],s=n.dateTimeObject,a=n.videoTimingInfo?NW(n.videoTimingInfo):n.duration+n.duration*wD,o=new Date(s.getTime()+a*1e3);return r>o?null:(r>new Date(s)&&(i=n),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:hn.duration(e,e.mediaSequence+e.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})},zW=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let r=0,i;for(let s=0;s<e.segments.length&&(i=e.segments[s],r=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:r+i.duration,!(t<=r));s++);const n=e.segments[e.segments.length-1];if(n.videoTimingInfo&&n.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>r){if(t>r+n.duration*wD)return null;i=n}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:r-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}},UW=(t,e)=>{let r,i;try{r=new Date(t),i=new Date(e)}catch{}const n=r.getTime();return(i.getTime()-n)/1e3},qW=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},jW=({playlist:t,time:e=void 0,callback:r})=>{if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return r({message:"getProgramTime: playlist and time must be provided"});const i=zW(e,t);if(!i)return r({message:"valid programTime was not found"});if(i.type==="estimate")return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:i.estimatedStart});const n={mediaSeconds:e},s=FW(e,i.segment);return s&&(n.programDateTime=s.toISOString()),r(null,n)},SD=({programTime:t,playlist:e,retryCount:r=2,seekTo:i,pauseAfterSeek:n=!0,tech:s,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!i)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!qW(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const o=$W(t,e);if(!o)return a({message:`${t} was not found in the stream`});const l=o.segment,u=UW(l.dateTimeObject,t);if(o.type==="estimate"){if(r===0)return a({message:`${t} is not buffered yet. Try again`});i(o.estimatedStart+u),s.one("seeked",()=>{SD({programTime:t,playlist:e,retryCount:r-1,seekTo:i,pauseAfterSeek:n,tech:s,callback:a})});return}const c=l.start+u,d=()=>a(null,s.currentTime());s.one("seeked",d),n&&s.pause(),i(c)},K4=(t,e)=>{if(t.readyState===4)return e()},VW=(t,e,r,i)=>{let n=[],s,a=!1;const o=function(d,h,f,g){return h.abort(),a=!0,r(d,h,f,g)},l=function(d,h){if(a)return;if(d)return d.metadata=Cu({requestType:i,request:h,error:d}),o(d,h,"",n);const f=h.responseText.substring(n&&n.byteLength||0,h.responseText.length);if(n=Kj(n,WE(f,!0)),s=s||th(n),n.length<10||s&&n.length<s+2)return K4(h,()=>o(d,h,"",n));const g=db(n);return g==="ts"&&n.length<188?K4(h,()=>o(d,h,"",n)):!g&&n.length<376?K4(h,()=>o(d,h,"",n)):o(null,h,g,n)},c=e({uri:t,beforeSend(d){d.overrideMimeType("text/plain; charset=x-user-defined"),d.addEventListener("progress",function({total:h,loaded:f}){return c5(d,null,{statusCode:d.status},l)})}},function(d,h){return c5(c,d,h,l)});return c},{EventTarget:HW}=ae,c_=function(t,e){if(!yD(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let r=0;r<t.segments.length;r++){const i=t.segments[r],n=e.segments[r];if(i.uri!==n.uri)return!1;if(!i.byterange&&!n.byterange)continue;const s=i.byterange,a=n.byterange;if(s&&!a||!s&&a||s.offset!==a.offset||s.length!==a.length)return!1}return!0},KW=(t,e,r,i)=>{const n=i.attributes.NAME||r;return`placeholder-uri-${t}-${e}-${n}`},WW=({mainXml:t,srcUrl:e,clientOffset:r,sidxMapping:i,previousManifest:n})=>{const s=mH(t,{manifestUri:e,clientOffset:r,sidxMapping:i,previousManifest:n});return pD(s,e,KW),s},GW=(t,e)=>{q0(t,(r,i,n,s)=>{s in e.mediaGroups[i][n]||delete t.mediaGroups[i][n][s]})},XW=(t,e,r)=>{let i=!0,n=er(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const a=e.playlists[s];if(a.sidx){const l=Jg(a.sidx);r&&r[l]&&r[l].sidx&&lb(a,r[l].sidx,a.sidx.resolvedUri)}const o=l5(n,a,c_);o&&(n=o,i=!1)}return q0(e,(s,a,o,l)=>{if(s.playlists&&s.playlists.length){const u=s.playlists[0].id,c=l5(n,s.playlists[0],c_);c&&(n=c,l in n.mediaGroups[a][o]||(n.mediaGroups[a][o][l]=s),n.mediaGroups[a][o][l].playlists[0]=n.playlists[u],i=!1)}}),GW(n,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(i=!1),i?null:n},YW=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,d_=(t,e)=>{const r={};for(const i in t){const s=t[i].sidx;if(s){const a=Jg(s);if(!e[a])break;const o=e[a].sidxInfo;YW(o,s)&&(r[a]=e[a])}}return r},ZW=(t,e)=>{let i=d_(t.playlists,e);return q0(t,(n,s,a,o)=>{if(n.playlists&&n.playlists.length){const l=n.playlists;i=er(i,d_(l,e))}}),i};class h5 extends HW{constructor(e,r,i={},n){super(),this.mainPlaylistLoader_=n||this,n||(this.isMain_=!0);const{withCredentials:s=!1}=i;if(this.vhs_=r,this.withCredentials=s,this.addMetadataToTextTrack=i.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=ls("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,r,i){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:r.status,message:"DASH request error at URL: "+r.uri,response:r.response,code:2,metadata:e.metadata},i&&(this.state=i),this.trigger("error"),!0}addSidxSegments_(e,r,i){const n=e.sidx&&Jg(e.sidx);if(!e.sidx||!n||this.mainPlaylistLoader_.sidxMapping_[n]){this.mediaRequest_=H.setTimeout(()=>i(!1),0);return}const s=W1(e.sidx.resolvedUri),a=(l,u)=>{if(this.requestErrored_(l,u,r))return;const c=this.mainPlaylistLoader_.sidxMapping_,{requestType:d}=u;let h;try{h=_H(ct(u.response).subarray(8))}catch(f){f.metadata=Cu({requestType:d,request:u,parseFailure:!0}),this.requestErrored_(f,u,r);return}return c[n]={sidxInfo:e.sidx,sidx:h},lb(e,h,e.sidx.resolvedUri),i(!0)},o="dash-sidx";this.request=VW(s,this.vhs_.xhr,(l,u,c,d)=>{if(l)return a(l,u);if(!c||c!=="mp4"){const g=c||"unknown";return a({status:u.status,message:`Unsupported ${g} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},u)}const{offset:h,length:f}=e.sidx.byterange;if(d.length>=f+h)return a(l,{response:d.subarray(h,h+f),status:u.status,uri:u.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",requestType:"dash-sidx",headers:d5({byterange:e.sidx.byterange})},a)},o)}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},H.clearTimeout(this.minimumUpdatePeriodTimeout_),H.clearTimeout(this.mediaRequest_),H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const r=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const i=!this.media_||e.id!==this.media_.id;if(i&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}i&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,r,n=>{this.haveMetadata({startingState:r,playlist:e})}))}haveMetadata({startingState:e,playlist:r}){this.state="HAVE_METADATA",this.loadedPlaylists_[r.id]=r,this.mediaRequest_=null,this.refreshMedia_(r.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(H.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const r=this.media();if(e){const i=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=H.setTimeout(()=>this.load(),i);return}if(!this.started){this.start();return}r&&!r.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=H.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,r)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const r={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:r}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(i,n)=>{if(i){const{requestType:a}=n;i.metadata=Cu({requestType:a,request:n,error:i})}if(this.requestErrored_(i,n)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:r});const s=n.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?this.mainLoaded_=Date.parse(n.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=W1(this.mainPlaylistLoader_.srcUrl,n),s){this.handleMain_(),this.syncClientServerClock_(()=>e(n,s));return}return e(n,s)})}syncClientServerClock_(e){const r=gH(this.mainPlaylistLoader_.mainXml_);if(r===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(r.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=r.value-Date.now(),e();this.request=this.vhs_.xhr({uri:dn(this.mainPlaylistLoader_.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(i,n)=>{if(!this.request)return;if(i){const{requestType:a}=n;return this.error.metadata=Cu({requestType:a,request:n,error:i}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let s;r.method==="HEAD"?!n.responseHeaders||!n.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(n.responseHeaders.date):s=Date.parse(n.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,r={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:r});let i;try{i=WW({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(s){this.error=s,this.error.metadata={errorType:ae.Error.StreamingDashManifestParserError,error:s},this.trigger("error")}e&&(i=XW(e,i,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=i||e;const n=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(n&&n!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=n),(!e||i&&i.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(i),i){const{duration:s,endList:a}=i,o=[];i.playlists.forEach(u=>{o.push({id:u.id,bandwidth:u.attributes.BANDWIDTH,resolution:u.attributes.RESOLUTION,codecs:u.attributes.CODECS})});const l={duration:s,isLive:!a,renditions:o};r.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:r})}return!!i}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(H.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let r=e.main&&e.main.minimumUpdatePeriod;if(r===0&&(e.media()?r=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof r!="number"||r<=0){r<0&&this.logger_(`found invalid minimumUpdatePeriod of ${r}, not setting a timeout`);return}this.createMUPTimeout_(r)}createMUPTimeout_(e){const r=this.mainPlaylistLoader_;r.minimumUpdatePeriodTimeout_=H.setTimeout(()=>{r.minimumUpdatePeriodTimeout_=null,r.trigger("minimumUpdatePeriod"),r.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,r)=>{r&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=ZW(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,i=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const r=this.mainPlaylistLoader_.main.playlists,i=!this.media_||this.media_!==r[e];if(i?this.media_=r[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const n=()=>{this.media().endList||(this.mediaUpdateTimeout=H.setTimeout(()=>{this.trigger("mediaupdatetimeout"),n()},u5(this.media(),!!i)))};n()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const r=this.mainPlaylistLoader_.main.eventStream.map(i=>({cueTime:i.start,frames:[{data:i.messageData}]}));this.addMetadataToTextTrack("EventStream",r,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const i in e.contentProtection){const n=e.contentProtection[i].attributes["cenc:default_KID"];n&&r.add(n.replace(/-/g,"").toLowerCase())}return r}}}var ci={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const JW=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e.buffer},CD=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},QW=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const r=new BlobBuilder;return r.append(t),URL.createObjectURL(r.getBlob())}},kD=function(t){return function(){const e=QW(t),r=CD(new Worker(e));r.objURL=e;const i=r.terminate;return r.on=r.addEventListener,r.off=r.removeEventListener,r.terminate=function(){return URL.revokeObjectURL(e),i.call(this)},r}},TD=function(t){return`var browserWorkerPolyFill = ${CD.toString()};
browserWorkerPolyFill(self);
`+t},ED=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},eG=TD(ED(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var p={};this.on=function(v,x){p[v]||(p[v]=[]),p[v]=p[v].concat(x)},this.off=function(v,x){var b;return p[v]?(b=p[v].indexOf(x),p[v]=p[v].slice(),p[v].splice(b,1),b>-1):!1},this.trigger=function(v){var x,b,w,E;if(x=p[v],!!x)if(arguments.length===2)for(w=x.length,b=0;b<w;++b)x[b].call(this,arguments[1]);else{for(E=[],b=arguments.length,b=1;b<arguments.length;++b)E.push(arguments[b]);for(w=x.length,b=0;b<w;++b)x[b].apply(this,E)}},this.dispose=function(){p={}}}};e.prototype.pipe=function(p){return this.on("data",function(v){p.push(v)}),this.on("done",function(v){p.flush(v)}),this.on("partialdone",function(v){p.partialFlush(v)}),this.on("endedtimeline",function(v){p.endTimeline(v)}),this.on("reset",function(v){p.reset(v)}),p},e.prototype.push=function(p){this.trigger("data",p)},e.prototype.flush=function(p){this.trigger("done",p)},e.prototype.partialFlush=function(p){this.trigger("partialdone",p)},e.prototype.endTimeline=function(p){this.trigger("endedtimeline",p)},e.prototype.reset=function(p){this.trigger("reset",p)};var r=e,i=Math.pow(2,32),n=function(p){var v=new DataView(p.buffer,p.byteOffset,p.byteLength),x;return v.getBigUint64?(x=v.getBigUint64(0),x<Number.MAX_SAFE_INTEGER?Number(x):x):v.getUint32(0)*i+v.getUint32(4)},s={getUint64:n,MAX_UINT32:i},a=s.MAX_UINT32,o,l,u,c,d,h,f,g,y,C,S,A,T,M,D,B,F,V,O,U,J,Y,re,ce,qe,Me,me,be,ot,vt,$e,Je,rt,Ft,it,It;(function(){var p;if(re={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(p in re)re.hasOwnProperty(p)&&(re[p]=[p.charCodeAt(0),p.charCodeAt(1),p.charCodeAt(2),p.charCodeAt(3)]);ce=new Uint8Array([105,115,111,109]),Me=new Uint8Array([97,118,99,49]),qe=new Uint8Array([0,0,0,1]),me=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),be=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ot={video:me,audio:be},Je=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),$e=new Uint8Array([0,0,0,0,0,0,0,0]),rt=new Uint8Array([0,0,0,0,0,0,0,0]),Ft=rt,it=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),It=rt,vt=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(p){var v=[],x=0,b,w,E;for(b=1;b<arguments.length;b++)v.push(arguments[b]);for(b=v.length;b--;)x+=v[b].byteLength;for(w=new Uint8Array(x+8),E=new DataView(w.buffer,w.byteOffset,w.byteLength),E.setUint32(0,w.byteLength),w.set(p,4),b=0,x=8;b<v.length;b++)w.set(v[b],x),x+=v[b].byteLength;return w},l=function(){return o(re.dinf,o(re.dref,Je))},u=function(p){return o(re.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,p.audioobjecttype<<3|p.samplingfrequencyindex>>>1,p.samplingfrequencyindex<<7|p.channelcount<<3,6,1,2]))},c=function(){return o(re.ftyp,ce,qe,ce,Me)},B=function(p){return o(re.hdlr,ot[p])},d=function(p){return o(re.mdat,p)},D=function(p){var v=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,p.duration>>>24&255,p.duration>>>16&255,p.duration>>>8&255,p.duration&255,85,196,0,0]);return p.samplerate&&(v[12]=p.samplerate>>>24&255,v[13]=p.samplerate>>>16&255,v[14]=p.samplerate>>>8&255,v[15]=p.samplerate&255),o(re.mdhd,v)},M=function(p){return o(re.mdia,D(p),B(p.type),f(p))},h=function(p){return o(re.mfhd,new Uint8Array([0,0,0,0,(p&4278190080)>>24,(p&16711680)>>16,(p&65280)>>8,p&255]))},f=function(p){return o(re.minf,p.type==="video"?o(re.vmhd,vt):o(re.smhd,$e),l(),V(p))},g=function(p,v){for(var x=[],b=v.length;b--;)x[b]=U(v[b]);return o.apply(null,[re.moof,h(p)].concat(x))},y=function(p){for(var v=p.length,x=[];v--;)x[v]=A(p[v]);return o.apply(null,[re.moov,S(4294967295)].concat(x).concat(C(p)))},C=function(p){for(var v=p.length,x=[];v--;)x[v]=J(p[v]);return o.apply(null,[re.mvex].concat(x))},S=function(p){var v=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(p&4278190080)>>24,(p&16711680)>>16,(p&65280)>>8,p&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(re.mvhd,v)},F=function(p){var v=p.samples||[],x=new Uint8Array(4+v.length),b,w;for(w=0;w<v.length;w++)b=v[w].flags,x[w+4]=b.dependsOn<<4|b.isDependedOn<<2|b.hasRedundancy;return o(re.sdtp,x)},V=function(p){return o(re.stbl,O(p),o(re.stts,It),o(re.stsc,Ft),o(re.stsz,it),o(re.stco,rt))},function(){var p,v;O=function(x){return o(re.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),x.type==="video"?p(x):v(x))},p=function(x){var b=x.sps||[],w=x.pps||[],E=[],R=[],$,j;for($=0;$<b.length;$++)E.push((b[$].byteLength&65280)>>>8),E.push(b[$].byteLength&255),E=E.concat(Array.prototype.slice.call(b[$]));for($=0;$<w.length;$++)R.push((w[$].byteLength&65280)>>>8),R.push(w[$].byteLength&255),R=R.concat(Array.prototype.slice.call(w[$]));if(j=[re.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(x.width&65280)>>8,x.width&255,(x.height&65280)>>8,x.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(re.avcC,new Uint8Array([1,x.profileIdc,x.profileCompatibility,x.levelIdc,255].concat([b.length],E,[w.length],R))),o(re.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],x.sarRatio){var G=x.sarRatio[0],te=x.sarRatio[1];j.push(o(re.pasp,new Uint8Array([(G&4278190080)>>24,(G&16711680)>>16,(G&65280)>>8,G&255,(te&4278190080)>>24,(te&16711680)>>16,(te&65280)>>8,te&255])))}return o.apply(null,j)},v=function(x){return o(re.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(x.channelcount&65280)>>8,x.channelcount&255,(x.samplesize&65280)>>8,x.samplesize&255,0,0,0,0,(x.samplerate&65280)>>8,x.samplerate&255,0,0]),u(x))}}(),T=function(p){var v=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,0,(p.duration&4278190080)>>24,(p.duration&16711680)>>16,(p.duration&65280)>>8,p.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(p.width&65280)>>8,p.width&255,0,0,(p.height&65280)>>8,p.height&255,0,0]);return o(re.tkhd,v)},U=function(p){var v,x,b,w,E,R,$;return v=o(re.tfhd,new Uint8Array([0,0,0,58,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),R=Math.floor(p.baseMediaDecodeTime/a),$=Math.floor(p.baseMediaDecodeTime%a),x=o(re.tfdt,new Uint8Array([1,0,0,0,R>>>24&255,R>>>16&255,R>>>8&255,R&255,$>>>24&255,$>>>16&255,$>>>8&255,$&255])),E=92,p.type==="audio"?(b=Y(p,E),o(re.traf,v,x,b)):(w=F(p),b=Y(p,w.length+E),o(re.traf,v,x,b,w))},A=function(p){return p.duration=p.duration||4294967295,o(re.trak,T(p),M(p))},J=function(p){var v=new Uint8Array([0,0,0,0,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return p.type!=="video"&&(v[v.length-1]=0),o(re.trex,v)},function(){var p,v,x;x=function(b,w){var E=0,R=0,$=0,j=0;return b.length&&(b[0].duration!==void 0&&(E=1),b[0].size!==void 0&&(R=2),b[0].flags!==void 0&&($=4),b[0].compositionTimeOffset!==void 0&&(j=8)),[0,0,E|R|$|j,1,(b.length&4278190080)>>>24,(b.length&16711680)>>>16,(b.length&65280)>>>8,b.length&255,(w&4278190080)>>>24,(w&16711680)>>>16,(w&65280)>>>8,w&255]},v=function(b,w){var E,R,$,j,G,te;for(j=b.samples||[],w+=20+16*j.length,$=x(j,w),R=new Uint8Array($.length+j.length*16),R.set($),E=$.length,te=0;te<j.length;te++)G=j[te],R[E++]=(G.duration&4278190080)>>>24,R[E++]=(G.duration&16711680)>>>16,R[E++]=(G.duration&65280)>>>8,R[E++]=G.duration&255,R[E++]=(G.size&4278190080)>>>24,R[E++]=(G.size&16711680)>>>16,R[E++]=(G.size&65280)>>>8,R[E++]=G.size&255,R[E++]=G.flags.isLeading<<2|G.flags.dependsOn,R[E++]=G.flags.isDependedOn<<6|G.flags.hasRedundancy<<4|G.flags.paddingValue<<1|G.flags.isNonSyncSample,R[E++]=G.flags.degradationPriority&61440,R[E++]=G.flags.degradationPriority&15,R[E++]=(G.compositionTimeOffset&4278190080)>>>24,R[E++]=(G.compositionTimeOffset&16711680)>>>16,R[E++]=(G.compositionTimeOffset&65280)>>>8,R[E++]=G.compositionTimeOffset&255;return o(re.trun,R)},p=function(b,w){var E,R,$,j,G,te;for(j=b.samples||[],w+=20+8*j.length,$=x(j,w),E=new Uint8Array($.length+j.length*8),E.set($),R=$.length,te=0;te<j.length;te++)G=j[te],E[R++]=(G.duration&4278190080)>>>24,E[R++]=(G.duration&16711680)>>>16,E[R++]=(G.duration&65280)>>>8,E[R++]=G.duration&255,E[R++]=(G.size&4278190080)>>>24,E[R++]=(G.size&16711680)>>>16,E[R++]=(G.size&65280)>>>8,E[R++]=G.size&255;return o(re.trun,E)},Y=function(b,w){return b.type==="audio"?p(b,w):v(b,w)}}();var oe={ftyp:c,mdat:d,moof:g,moov:y,initSegment:function(p){var v=c(),x=y(p),b;return b=new Uint8Array(v.byteLength+x.byteLength),b.set(v),b.set(x,v.byteLength),b}},Te=function(p){var v,x,b=[],w=[];for(w.byteLength=0,w.nalCount=0,w.duration=0,b.byteLength=0,v=0;v<p.length;v++)x=p[v],x.nalUnitType==="access_unit_delimiter_rbsp"?(b.length&&(b.duration=x.dts-b.dts,w.byteLength+=b.byteLength,w.nalCount+=b.length,w.duration+=b.duration,w.push(b)),b=[x],b.byteLength=x.data.byteLength,b.pts=x.pts,b.dts=x.dts):(x.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(b.keyFrame=!0),b.duration=x.dts-b.dts,b.byteLength+=x.data.byteLength,b.push(x));return w.length&&(!b.duration||b.duration<=0)&&(b.duration=w[w.length-1].duration),w.byteLength+=b.byteLength,w.nalCount+=b.length,w.duration+=b.duration,w.push(b),w},Ee=function(p){var v,x,b=[],w=[];for(b.byteLength=0,b.nalCount=0,b.duration=0,b.pts=p[0].pts,b.dts=p[0].dts,w.byteLength=0,w.nalCount=0,w.duration=0,w.pts=p[0].pts,w.dts=p[0].dts,v=0;v<p.length;v++)x=p[v],x.keyFrame?(b.length&&(w.push(b),w.byteLength+=b.byteLength,w.nalCount+=b.nalCount,w.duration+=b.duration),b=[x],b.nalCount=x.length,b.byteLength=x.byteLength,b.pts=x.pts,b.dts=x.dts,b.duration=x.duration):(b.duration+=x.duration,b.nalCount+=x.length,b.byteLength+=x.byteLength,b.push(x));return w.length&&b.duration<=0&&(b.duration=w[w.length-1].duration),w.byteLength+=b.byteLength,w.nalCount+=b.nalCount,w.duration+=b.duration,w.push(b),w},Ie=function(p){var v;return!p[0][0].keyFrame&&p.length>1&&(v=p.shift(),p.byteLength-=v.byteLength,p.nalCount-=v.nalCount,p[0][0].dts=v.dts,p[0][0].pts=v.pts,p[0][0].duration+=v.duration),p},wt=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},St=function(p,v){var x=wt();return x.dataOffset=v,x.compositionTimeOffset=p.pts-p.dts,x.duration=p.duration,x.size=4*p.length,x.size+=p.byteLength,p.keyFrame&&(x.flags.dependsOn=2,x.flags.isNonSyncSample=0),x},N=function(p,v){var x,b,w,E,R,$=v||0,j=[];for(x=0;x<p.length;x++)for(E=p[x],b=0;b<E.length;b++)R=E[b],w=St(R,$),$+=w.size,j.push(w);return j},z=function(p){var v,x,b,w,E,R,$=0,j=p.byteLength,G=p.nalCount,te=j+4*G,le=new Uint8Array(te),Ve=new DataView(le.buffer);for(v=0;v<p.length;v++)for(w=p[v],x=0;x<w.length;x++)for(E=w[x],b=0;b<E.length;b++)R=E[b],Ve.setUint32($,R.data.byteLength),$+=4,le.set(R.data,$),$+=R.data.byteLength;return le},ie=function(p,v){var x,b=v||0,w=[];return x=St(p,b),w.push(x),w},ve=function(p){var v,x,b=0,w=p.byteLength,E=p.length,R=w+4*E,$=new Uint8Array(R),j=new DataView($.buffer);for(v=0;v<p.length;v++)x=p[v],j.setUint32(b,x.data.byteLength),b+=4,$.set(x.data,b),b+=x.data.byteLength;return $},pe={groupNalsIntoFrames:Te,groupFramesIntoGops:Ee,extendFirstKeyFrame:Ie,generateSampleTable:N,concatenateNalData:z,generateSampleTableForFrame:ie,concatenateNalDataForFrame:ve},xe=[33,16,5,32,164,27],Re=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Se=function(p){for(var v=[];p--;)v.push(0);return v},Oe=function(p){return Object.keys(p).reduce(function(v,x){return v[x]=new Uint8Array(p[x].reduce(function(b,w){return b.concat(w)},[])),v},{})},De,at=function(){if(!De){var p={96e3:[xe,[227,64],Se(154),[56]],88200:[xe,[231],Se(170),[56]],64e3:[xe,[248,192],Se(240),[56]],48e3:[xe,[255,192],Se(268),[55,148,128],Se(54),[112]],44100:[xe,[255,192],Se(268),[55,163,128],Se(84),[112]],32e3:[xe,[255,192],Se(268),[55,234],Se(226),[112]],24e3:[xe,[255,192],Se(268),[55,255,128],Se(268),[111,112],Se(126),[224]],16e3:[xe,[255,192],Se(268),[55,255,128],Se(268),[111,255],Se(269),[223,108],Se(195),[1,192]],12e3:[Re,Se(268),[3,127,248],Se(268),[6,255,240],Se(268),[13,255,224],Se(268),[27,253,128],Se(259),[56]],11025:[Re,Se(268),[3,127,248],Se(268),[6,255,240],Se(268),[13,255,224],Se(268),[27,255,192],Se(268),[55,175,128],Se(108),[112]],8e3:[Re,Se(268),[3,121,16],Se(47),[7]]};De=Oe(p)}return De},Ue=9e4,Ze,nt,At,Vt,$t,jr,Ar;Ze=function(p){return p*Ue},nt=function(p,v){return p*v},At=function(p){return p/Ue},Vt=function(p,v){return p/v},$t=function(p,v){return Ze(Vt(p,v))},jr=function(p,v){return nt(At(p),v)},Ar=function(p,v,x){return At(x?p:p-v)};var Mt={ONE_SECOND_IN_TS:Ue,secondsToVideoTs:Ze,secondsToAudioTs:nt,videoTsToSeconds:At,audioTsToSeconds:Vt,audioTsToVideoTs:$t,videoTsToAudioTs:jr,metadataTsToSeconds:Ar},Vr=at,Hr=Mt,cs=function(p){var v,x,b=0;for(v=0;v<p.length;v++)x=p[v],b+=x.data.byteLength;return b},Jr=function(p,v,x,b){var w,E=0,R=0,$=0,j=0,G,te,le;if(v.length&&(w=Hr.audioTsToVideoTs(p.baseMediaDecodeTime,p.samplerate),E=Math.ceil(Hr.ONE_SECOND_IN_TS/(p.samplerate/1024)),x&&b&&(R=w-Math.max(x,b),$=Math.floor(R/E),j=$*E),!($<1||j>Hr.ONE_SECOND_IN_TS/2))){for(G=Vr()[p.samplerate],G||(G=v[0].data),te=0;te<$;te++)le=v[0],v.splice(0,0,{data:G,dts:le.dts-E,pts:le.pts-E});return p.baseMediaDecodeTime-=Math.floor(Hr.videoTsToAudioTs(j,p.samplerate)),j}},Ti=function(p,v,x){return v.minSegmentDts>=x?p:(v.minSegmentDts=1/0,p.filter(function(b){return b.dts>=x?(v.minSegmentDts=Math.min(v.minSegmentDts,b.dts),v.minSegmentPts=v.minSegmentDts,!0):!1}))},Hu=function(p){var v,x,b=[];for(v=0;v<p.length;v++)x=p[v],b.push({size:x.data.byteLength,duration:1024});return b},Tl=function(p){var v,x,b=0,w=new Uint8Array(cs(p));for(v=0;v<p.length;v++)x=p[v],w.set(x.data,b),b+=x.data.byteLength;return w},z2={prefixWithSilence:Jr,trimAdtsFramesByEarliestDts:Ti,generateSampleTable:Hu,concatenateFrameData:Tl},U2=Mt.ONE_SECOND_IN_TS,Kr=function(p,v){typeof v.pts=="number"&&(p.timelineStartInfo.pts===void 0&&(p.timelineStartInfo.pts=v.pts),p.minSegmentPts===void 0?p.minSegmentPts=v.pts:p.minSegmentPts=Math.min(p.minSegmentPts,v.pts),p.maxSegmentPts===void 0?p.maxSegmentPts=v.pts:p.maxSegmentPts=Math.max(p.maxSegmentPts,v.pts)),typeof v.dts=="number"&&(p.timelineStartInfo.dts===void 0&&(p.timelineStartInfo.dts=v.dts),p.minSegmentDts===void 0?p.minSegmentDts=v.dts:p.minSegmentDts=Math.min(p.minSegmentDts,v.dts),p.maxSegmentDts===void 0?p.maxSegmentDts=v.dts:p.maxSegmentDts=Math.max(p.maxSegmentDts,v.dts))},mo=function(p){delete p.minSegmentDts,delete p.maxSegmentDts,delete p.minSegmentPts,delete p.maxSegmentPts},q2=function(p,v){var x,b,w=p.minSegmentDts;return v||(w-=p.timelineStartInfo.dts),x=p.timelineStartInfo.baseMediaDecodeTime,x+=w,x=Math.max(0,x),p.type==="audio"&&(b=p.samplerate/U2,x*=b,x=Math.floor(x)),x},Ip={clearDtsInfo:mo,calculateTrackBaseMediaDecodeTime:q2,collectDtsInfo:Kr},Ku=4,Rp=128,Op=function(p){for(var v=0,x={payloadType:-1,payloadSize:0},b=0,w=0;v<p.byteLength&&p[v]!==Rp;){for(;p[v]===255;)b+=255,v++;for(b+=p[v++];p[v]===255;)w+=255,v++;if(w+=p[v++],!x.payload&&b===Ku){var E=String.fromCharCode(p[v+3],p[v+4],p[v+5],p[v+6]);if(E==="GA94"){x.payloadType=b,x.payloadSize=w,x.payload=p.subarray(v,v+w);break}else x.payload=void 0}v+=w,b=0,w=0}return x},j2=function(p){return p.payload[0]!==181||(p.payload[1]<<8|p.payload[2])!==49||String.fromCharCode(p.payload[3],p.payload[4],p.payload[5],p.payload[6])!=="GA94"||p.payload[7]!==3?null:p.payload.subarray(8,p.payload.length-1)},Fp=function(p,v){var x=[],b,w,E,R;if(!(v[0]&64))return x;for(w=v[0]&31,b=0;b<w;b++)E=b*3,R={type:v[E+2]&3,pts:p},v[E+2]&4&&(R.ccData=v[E+3]<<8|v[E+4],x.push(R));return x},Np=function(p){for(var v=p.byteLength,x=[],b=1,w,E;b<v-2;)p[b]===0&&p[b+1]===0&&p[b+2]===3?(x.push(b+2),b+=2):b++;if(x.length===0)return p;w=v-x.length,E=new Uint8Array(w);var R=0;for(b=0;b<w;R++,b++)R===x[0]&&(R++,x.shift()),E[b]=p[R];return E},$p={parseSei:Op,parseUserData:j2,parseCaptionPackets:Fp,discardEmulationPreventionBytes:Np,USER_DATA_REGISTERED_ITU_T_T35:Ku},sn=r,va=$p,yi=function(p){p=p||{},yi.prototype.init.call(this),this.parse708captions_=typeof p.parse708captions=="boolean"?p.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Ce(0,0),new Ce(0,1),new Ce(1,0),new Ce(1,1)],this.parse708captions_&&(this.cc708Stream_=new Zt({captionServices:p.captionServices})),this.reset(),this.ccStreams_.forEach(function(v){v.on("data",this.trigger.bind(this,"data")),v.on("partialdone",this.trigger.bind(this,"partialdone")),v.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};yi.prototype=new sn,yi.prototype.push=function(p){var v,x,b;if(p.nalUnitType==="sei_rbsp"&&(v=va.parseSei(p.escapedRBSP),!!v.payload&&v.payloadType===va.USER_DATA_REGISTERED_ITU_T_T35&&(x=va.parseUserData(v),!!x))){if(p.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(p.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}b=va.parseCaptionPackets(p.pts,x),this.captionPackets_=this.captionPackets_.concat(b),this.latestDts_!==p.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=p.dts}},yi.prototype.flushCCStreams=function(p){this.ccStreams_.forEach(function(v){return p==="flush"?v.flush():v.partialFlush()},this)},yi.prototype.flushStream=function(p){if(!this.captionPackets_.length){this.flushCCStreams(p);return}this.captionPackets_.forEach(function(v,x){v.presortIndex=x}),this.captionPackets_.sort(function(v,x){return v.pts===x.pts?v.presortIndex-x.presortIndex:v.pts-x.pts}),this.captionPackets_.forEach(function(v){v.type<2?this.dispatchCea608Packet(v):this.dispatchCea708Packet(v)},this),this.captionPackets_.length=0,this.flushCCStreams(p)},yi.prototype.flush=function(){return this.flushStream("flush")},yi.prototype.partialFlush=function(){return this.flushStream("partialFlush")},yi.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(p){p.reset()})},yi.prototype.dispatchCea608Packet=function(p){this.setsTextOrXDSActive(p)?this.activeCea608Channel_[p.type]=null:this.setsChannel1Active(p)?this.activeCea608Channel_[p.type]=0:this.setsChannel2Active(p)&&(this.activeCea608Channel_[p.type]=1),this.activeCea608Channel_[p.type]!==null&&this.ccStreams_[(p.type<<1)+this.activeCea608Channel_[p.type]].push(p)},yi.prototype.setsChannel1Active=function(p){return(p.ccData&30720)===4096},yi.prototype.setsChannel2Active=function(p){return(p.ccData&30720)===6144},yi.prototype.setsTextOrXDSActive=function(p){return(p.ccData&28928)===256||(p.ccData&30974)===4138||(p.ccData&30974)===6186},yi.prototype.dispatchCea708Packet=function(p){this.parse708captions_&&this.cc708Stream_.push(p)};var zp={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Up=function(p){var v=zp[p]||p;return p&4096&&p===v?"":String.fromCharCode(v)},El=function(p){return 32<=p&&p<=127||160<=p&&p<=255},Qr=function(p){this.windowNum=p,this.reset()};Qr.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Qr.prototype.getText=function(){return this.rows.join(`
`)},Qr.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Qr.prototype.newLine=function(p){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(p),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Qr.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Qr.prototype.addText=function(p){this.rows[this.rowIdx]+=p},Qr.prototype.backspace=function(){if(!this.isEmpty()){var p=this.rows[this.rowIdx];this.rows[this.rowIdx]=p.substr(0,p.length-1)}};var Al=function(p,v,x){this.serviceNum=p,this.text="",this.currentWindow=new Qr(-1),this.windows=[],this.stream=x,typeof v=="string"&&this.createTextDecoder(v)};Al.prototype.init=function(p,v){this.startPts=p;for(var x=0;x<8;x++)this.windows[x]=new Qr(x),typeof v=="function"&&(this.windows[x].beforeRowOverflow=v)},Al.prototype.setCurrentWindow=function(p){this.currentWindow=this.windows[p]},Al.prototype.createTextDecoder=function(p){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(p)}catch(v){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+p+" encoding. "+v})}};var Zt=function(p){p=p||{},Zt.prototype.init.call(this);var v=this,x=p.captionServices||{},b={},w;Object.keys(x).forEach(E=>{w=x[E],/^SERVICE/.test(E)&&(b[E]=w.encoding)}),this.serviceEncodings=b,this.current708Packet=null,this.services={},this.push=function(E){E.type===3?(v.new708Packet(),v.add708Bytes(E)):(v.current708Packet===null&&v.new708Packet(),v.add708Bytes(E))}};Zt.prototype=new sn,Zt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Zt.prototype.add708Bytes=function(p){var v=p.ccData,x=v>>>8,b=v&255;this.current708Packet.ptsVals.push(p.pts),this.current708Packet.data.push(x),this.current708Packet.data.push(b)},Zt.prototype.push708Packet=function(){var p=this.current708Packet,v=p.data,x=null,b=null,w=0,E=v[w++];for(p.seq=E>>6,p.sizeCode=E&63;w<v.length;w++)E=v[w++],x=E>>5,b=E&31,x===7&&b>0&&(E=v[w++],x=E),this.pushServiceBlock(x,w,b),b>0&&(w+=b-1)},Zt.prototype.pushServiceBlock=function(p,v,x){var b,w=v,E=this.current708Packet.data,R=this.services[p];for(R||(R=this.initService(p,w));w<v+x&&w<E.length;w++)b=E[w],El(b)?w=this.handleText(w,R):b===24?w=this.multiByteCharacter(w,R):b===16?w=this.extendedCommands(w,R):128<=b&&b<=135?w=this.setCurrentWindow(w,R):152<=b&&b<=159?w=this.defineWindow(w,R):b===136?w=this.clearWindows(w,R):b===140?w=this.deleteWindows(w,R):b===137?w=this.displayWindows(w,R):b===138?w=this.hideWindows(w,R):b===139?w=this.toggleWindows(w,R):b===151?w=this.setWindowAttributes(w,R):b===144?w=this.setPenAttributes(w,R):b===145?w=this.setPenColor(w,R):b===146?w=this.setPenLocation(w,R):b===143?R=this.reset(w,R):b===8?R.currentWindow.backspace():b===12?R.currentWindow.clearText():b===13?R.currentWindow.pendingNewLine=!0:b===14?R.currentWindow.clearText():b===141&&w++},Zt.prototype.extendedCommands=function(p,v){var x=this.current708Packet.data,b=x[++p];return El(b)&&(p=this.handleText(p,v,{isExtended:!0})),p},Zt.prototype.getPts=function(p){return this.current708Packet.ptsVals[Math.floor(p/2)]},Zt.prototype.initService=function(p,v){var b="SERVICE"+p,x=this,b,w;return b in this.serviceEncodings&&(w=this.serviceEncodings[b]),this.services[p]=new Al(p,w,x),this.services[p].init(this.getPts(v),function(E){x.flushDisplayed(E,x.services[p])}),this.services[p]},Zt.prototype.handleText=function(p,v,x){var b=x&&x.isExtended,w=x&&x.isMultiByte,E=this.current708Packet.data,R=b?4096:0,$=E[p],j=E[p+1],G=v.currentWindow,te,le;function Ve(_e){return _e.map(dt=>("0"+(dt&255).toString(16)).slice(-2)).join("")}if(w?(le=[$,j],p++):le=[$],v.textDecoder_&&!b)te=v.textDecoder_.decode(new Uint8Array(le));else if(w){const _e=Ve(le);te=String.fromCharCode(parseInt(_e,16))}else te=Up(R|$);return G.pendingNewLine&&!G.isEmpty()&&G.newLine(this.getPts(p)),G.pendingNewLine=!1,G.addText(te),p},Zt.prototype.multiByteCharacter=function(p,v){var x=this.current708Packet.data,b=x[p+1],w=x[p+2];return El(b)&&El(w)&&(p=this.handleText(++p,v,{isMultiByte:!0})),p},Zt.prototype.setCurrentWindow=function(p,v){var x=this.current708Packet.data,b=x[p],w=b&7;return v.setCurrentWindow(w),p},Zt.prototype.defineWindow=function(p,v){var x=this.current708Packet.data,b=x[p],w=b&7;v.setCurrentWindow(w);var E=v.currentWindow;return b=x[++p],E.visible=(b&32)>>5,E.rowLock=(b&16)>>4,E.columnLock=(b&8)>>3,E.priority=b&7,b=x[++p],E.relativePositioning=(b&128)>>7,E.anchorVertical=b&127,b=x[++p],E.anchorHorizontal=b,b=x[++p],E.anchorPoint=(b&240)>>4,E.rowCount=b&15,b=x[++p],E.columnCount=b&63,b=x[++p],E.windowStyle=(b&56)>>3,E.penStyle=b&7,E.virtualRowCount=E.rowCount+1,p},Zt.prototype.setWindowAttributes=function(p,v){var x=this.current708Packet.data,b=x[p],w=v.currentWindow.winAttr;return b=x[++p],w.fillOpacity=(b&192)>>6,w.fillRed=(b&48)>>4,w.fillGreen=(b&12)>>2,w.fillBlue=b&3,b=x[++p],w.borderType=(b&192)>>6,w.borderRed=(b&48)>>4,w.borderGreen=(b&12)>>2,w.borderBlue=b&3,b=x[++p],w.borderType+=(b&128)>>5,w.wordWrap=(b&64)>>6,w.printDirection=(b&48)>>4,w.scrollDirection=(b&12)>>2,w.justify=b&3,b=x[++p],w.effectSpeed=(b&240)>>4,w.effectDirection=(b&12)>>2,w.displayEffect=b&3,p},Zt.prototype.flushDisplayed=function(p,v){for(var x=[],b=0;b<8;b++)v.windows[b].visible&&!v.windows[b].isEmpty()&&x.push(v.windows[b].getText());v.endPts=p,v.text=x.join(`

`),this.pushCaption(v),v.startPts=p},Zt.prototype.pushCaption=function(p){p.text!==""&&(this.trigger("data",{startPts:p.startPts,endPts:p.endPts,text:p.text,stream:"cc708_"+p.serviceNum}),p.text="",p.startPts=p.endPts)},Zt.prototype.displayWindows=function(p,v){var x=this.current708Packet.data,b=x[++p],w=this.getPts(p);this.flushDisplayed(w,v);for(var E=0;E<8;E++)b&1<<E&&(v.windows[E].visible=1);return p},Zt.prototype.hideWindows=function(p,v){var x=this.current708Packet.data,b=x[++p],w=this.getPts(p);this.flushDisplayed(w,v);for(var E=0;E<8;E++)b&1<<E&&(v.windows[E].visible=0);return p},Zt.prototype.toggleWindows=function(p,v){var x=this.current708Packet.data,b=x[++p],w=this.getPts(p);this.flushDisplayed(w,v);for(var E=0;E<8;E++)b&1<<E&&(v.windows[E].visible^=1);return p},Zt.prototype.clearWindows=function(p,v){var x=this.current708Packet.data,b=x[++p],w=this.getPts(p);this.flushDisplayed(w,v);for(var E=0;E<8;E++)b&1<<E&&v.windows[E].clearText();return p},Zt.prototype.deleteWindows=function(p,v){var x=this.current708Packet.data,b=x[++p],w=this.getPts(p);this.flushDisplayed(w,v);for(var E=0;E<8;E++)b&1<<E&&v.windows[E].reset();return p},Zt.prototype.setPenAttributes=function(p,v){var x=this.current708Packet.data,b=x[p],w=v.currentWindow.penAttr;return b=x[++p],w.textTag=(b&240)>>4,w.offset=(b&12)>>2,w.penSize=b&3,b=x[++p],w.italics=(b&128)>>7,w.underline=(b&64)>>6,w.edgeType=(b&56)>>3,w.fontStyle=b&7,p},Zt.prototype.setPenColor=function(p,v){var x=this.current708Packet.data,b=x[p],w=v.currentWindow.penColor;return b=x[++p],w.fgOpacity=(b&192)>>6,w.fgRed=(b&48)>>4,w.fgGreen=(b&12)>>2,w.fgBlue=b&3,b=x[++p],w.bgOpacity=(b&192)>>6,w.bgRed=(b&48)>>4,w.bgGreen=(b&12)>>2,w.bgBlue=b&3,b=x[++p],w.edgeRed=(b&48)>>4,w.edgeGreen=(b&12)>>2,w.edgeBlue=b&3,p},Zt.prototype.setPenLocation=function(p,v){var x=this.current708Packet.data,b=x[p],w=v.currentWindow.penLoc;return v.currentWindow.pendingNewLine=!0,b=x[++p],w.row=b&15,b=x[++p],w.column=b&63,p},Zt.prototype.reset=function(p,v){var x=this.getPts(p);return this.flushDisplayed(x,v),this.initService(v.serviceNum,p)};var qp={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ml=function(p){return p===null?"":(p=qp[p]||p,String.fromCharCode(p))},Wu=14,et=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ee=function(){for(var p=[],v=Wu+1;v--;)p.push({text:"",indent:0,offset:0});return p},Ce=function(p,v){Ce.prototype.init.call(this),this.field_=p||0,this.dataChannel_=v||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(x){var b,w,E,R,$;if(b=x.ccData&32639,b===this.lastControlCode_){this.lastControlCode_=null;return}if((b&61440)===4096?this.lastControlCode_=b:b!==this.PADDING_&&(this.lastControlCode_=null),E=b>>>8,R=b&255,b!==this.PADDING_)if(b===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(b===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(x.pts),this.flushDisplayed(x.pts),w=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=w,this.startPts_=x.pts;else if(b===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(x.pts);else if(b===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(x.pts);else if(b===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(x.pts);else if(b===this.CARRIAGE_RETURN_)this.clearFormatting(x.pts),this.flushDisplayed(x.pts),this.shiftRowsUp_(),this.startPts_=x.pts;else if(b===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(b===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(x.pts),this.displayed_=ee();else if(b===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ee();else if(b===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(x.pts),this.displayed_=ee()),this.mode_="paintOn",this.startPts_=x.pts;else if(this.isSpecialCharacter(E,R))E=(E&3)<<8,$=Ml(E|R),this[this.mode_](x.pts,$),this.column_++;else if(this.isExtCharacter(E,R))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),E=(E&3)<<8,$=Ml(E|R),this[this.mode_](x.pts,$),this.column_++;else if(this.isMidRowCode(E,R))this.clearFormatting(x.pts),this[this.mode_](x.pts," "),this.column_++,(R&14)===14&&this.addFormatting(x.pts,["i"]),(R&1)===1&&this.addFormatting(x.pts,["u"]);else if(this.isOffsetControlCode(E,R)){const G=R&3;this.nonDisplayed_[this.row_].offset=G,this.column_+=G}else if(this.isPAC(E,R)){var j=et.indexOf(b&7968);if(this.mode_==="rollUp"&&(j-this.rollUpRows_+1<0&&(j=this.rollUpRows_-1),this.setRollUp(x.pts,j)),j!==this.row_&&j>=0&&j<=14&&(this.clearFormatting(x.pts),this.row_=j),R&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(x.pts,["u"]),(b&16)===16){const G=(b&14)>>1;this.column_=G*4,this.nonDisplayed_[this.row_].indent+=G}this.isColorPAC(R)&&(R&14)===14&&this.addFormatting(x.pts,["i"])}else this.isNormalChar(E)&&(R===0&&(R=null),$=Ml(E),$+=Ml(R),this[this.mode_](x.pts,$),this.column_+=$.length)}};Ce.prototype=new sn,Ce.prototype.flushDisplayed=function(p){const v=b=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+b+"."})},x=[];this.displayed_.forEach((b,w)=>{if(b&&b.text&&b.text.length){try{b.text=b.text.trim()}catch{v(w)}b.text.length&&x.push({text:b.text,line:w+1,position:10+Math.min(70,b.indent*10)+b.offset*2.5})}else b==null&&v(w)}),x.length&&this.trigger("data",{startPts:this.startPts_,endPts:p,content:x,stream:this.name_})},Ce.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ee(),this.nonDisplayed_=ee(),this.lastControlCode_=null,this.column_=0,this.row_=Wu,this.rollUpRows_=2,this.formatting_=[]},Ce.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Ce.prototype.isSpecialCharacter=function(p,v){return p===this.EXT_&&v>=48&&v<=63},Ce.prototype.isExtCharacter=function(p,v){return(p===this.EXT_+1||p===this.EXT_+2)&&v>=32&&v<=63},Ce.prototype.isMidRowCode=function(p,v){return p===this.EXT_&&v>=32&&v<=47},Ce.prototype.isOffsetControlCode=function(p,v){return p===this.OFFSET_&&v>=33&&v<=35},Ce.prototype.isPAC=function(p,v){return p>=this.BASE_&&p<this.BASE_+8&&v>=64&&v<=127},Ce.prototype.isColorPAC=function(p){return p>=64&&p<=79||p>=96&&p<=127},Ce.prototype.isNormalChar=function(p){return p>=32&&p<=127},Ce.prototype.setRollUp=function(p,v){if(this.mode_!=="rollUp"&&(this.row_=Wu,this.mode_="rollUp",this.flushDisplayed(p),this.nonDisplayed_=ee(),this.displayed_=ee()),v!==void 0&&v!==this.row_)for(var x=0;x<this.rollUpRows_;x++)this.displayed_[v-x]=this.displayed_[this.row_-x],this.displayed_[this.row_-x]={text:"",indent:0,offset:0};v===void 0&&(v=this.row_),this.topRow_=v-this.rollUpRows_+1},Ce.prototype.addFormatting=function(p,v){this.formatting_=this.formatting_.concat(v);var x=v.reduce(function(b,w){return b+"<"+w+">"},"");this[this.mode_](p,x)},Ce.prototype.clearFormatting=function(p){if(this.formatting_.length){var v=this.formatting_.reverse().reduce(function(x,b){return x+"</"+b+">"},"");this.formatting_=[],this[this.mode_](p,v)}},Ce.prototype.popOn=function(p,v){var x=this.nonDisplayed_[this.row_].text;x+=v,this.nonDisplayed_[this.row_].text=x},Ce.prototype.rollUp=function(p,v){var x=this.displayed_[this.row_].text;x+=v,this.displayed_[this.row_].text=x},Ce.prototype.shiftRowsUp_=function(){var p;for(p=0;p<this.topRow_;p++)this.displayed_[p]={text:"",indent:0,offset:0};for(p=this.row_+1;p<Wu+1;p++)this.displayed_[p]={text:"",indent:0,offset:0};for(p=this.topRow_;p<this.row_;p++)this.displayed_[p]=this.displayed_[p+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Ce.prototype.paintOn=function(p,v){var x=this.displayed_[this.row_].text;x+=v,this.displayed_[this.row_].text=x};var Qe={CaptionStream:yi,Cea608Stream:Ce,Cea708Stream:Zt},Gt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},li=r,ei=8589934592,Ei=4294967296,_n="shared",ba=function(p,v){var x=1;for(p>v&&(x=-1);Math.abs(v-p)>Ei;)p+=x*ei;return p},ti=function(p){var v,x;ti.prototype.init.call(this),this.type_=p||_n,this.push=function(b){if(b.type==="metadata"){this.trigger("data",b);return}this.type_!==_n&&b.type!==this.type_||(x===void 0&&(x=b.dts),b.dts=ba(b.dts,x),b.pts=ba(b.pts,x),v=b.dts,this.trigger("data",b))},this.flush=function(){x=v,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){x=void 0,v=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};ti.prototype=new li;var Q0={TimestampRolloverStream:ti,handleRollover:ba},jp=(p,v,x)=>{if(!p)return-1;for(var b=x;b<p.length;b++)if(p[b]===v)return b;return-1},xI={typedArrayIndexOf:jp},Vp=xI.typedArrayIndexOf,Hp={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},q6=function(p,v,x){var b,w="";for(b=v;b<x;b++)w+="%"+("00"+p[b].toString(16)).slice(-2);return w},ed=function(p,v,x){return decodeURIComponent(q6(p,v,x))},td=function(p,v,x){return unescape(q6(p,v,x))},rd=function(p){return p[0]<<21|p[1]<<14|p[2]<<7|p[3]},id={APIC:function(p){var v=1,x,b,w="-->";p.data[0]===Hp.Utf8&&(x=Vp(p.data,0,v),!(x<0)&&(p.mimeType=td(p.data,v,x),v=x+1,p.pictureType=p.data[v],v++,b=Vp(p.data,0,v),!(b<0)&&(p.description=ed(p.data,v,b),v=b+1,p.mimeType===w?p.url=td(p.data,v,p.data.length):p.pictureData=p.data.subarray(v,p.data.length))))},"T*":function(p){p.data[0]===Hp.Utf8&&(p.value=ed(p.data,1,p.data.length).replace(/\0*$/,""),p.values=p.value.split("\0"))},TXXX:function(p){var v;p.data[0]===Hp.Utf8&&(v=Vp(p.data,0,1),v!==-1&&(p.description=ed(p.data,1,v),p.value=ed(p.data,v+1,p.data.length).replace(/\0*$/,""),p.data=p.value))},"W*":function(p){p.url=td(p.data,0,p.data.length).replace(/\0.*$/,"")},WXXX:function(p){var v;p.data[0]===Hp.Utf8&&(v=Vp(p.data,0,1),v!==-1&&(p.description=ed(p.data,1,v),p.url=td(p.data,v+1,p.data.length).replace(/\0.*$/,"")))},PRIV:function(p){var v;for(v=0;v<p.data.length;v++)if(p.data[v]===0){p.owner=td(p.data,0,v);break}p.privateData=p.data.subarray(v+1),p.data=p.privateData}},_I=function(p){var v,x,b=10,w=0,E=[];if(!(p.length<10||p[0]!==73||p[1]!==68||p[2]!==51)){w=rd(p.subarray(6,10)),w+=10;var R=p[5]&64;R&&(b+=4,b+=rd(p.subarray(10,14)),w-=rd(p.subarray(16,20)));do{if(v=rd(p.subarray(b+4,b+8)),v<1)break;x=String.fromCharCode(p[b],p[b+1],p[b+2],p[b+3]);var $={id:x,data:p.subarray(b+10,b+v+10)};$.key=$.id,id[$.id]?id[$.id]($):$.id[0]==="T"?id["T*"]($):$.id[0]==="W"&&id["W*"]($),E.push($),b+=10,b+=v}while(b<w);return E}},j6={parseId3Frames:_I,parseSyncSafeInteger:rd,frameParsers:id},wI=r,SI=Gt,go=j6,Kp;Kp=function(p){var v={descriptor:p&&p.descriptor},x=0,b=[],w=0,E;if(Kp.prototype.init.call(this),this.dispatchType=SI.METADATA_STREAM_TYPE.toString(16),v.descriptor)for(E=0;E<v.descriptor.length;E++)this.dispatchType+=("00"+v.descriptor[E].toString(16)).slice(-2);this.push=function(R){var $,j,G,te,le,Ve;if(R.type==="timed-metadata"){if(R.dataAlignmentIndicator&&(w=0,b.length=0),b.length===0&&(R.data.length<10||R.data[0]!==73||R.data[1]!==68||R.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(b.push(R),w+=R.data.byteLength,b.length===1&&(x=go.parseSyncSafeInteger(R.data.subarray(6,10)),x+=10),!(w<x)){for($={data:new Uint8Array(x),frames:[],pts:b[0].pts,dts:b[0].dts},le=0;le<x;)$.data.set(b[0].data.subarray(0,x-le),le),le+=b[0].data.byteLength,w-=b[0].data.byteLength,b.shift();j=10,$.data[5]&64&&(j+=4,j+=go.parseSyncSafeInteger($.data.subarray(10,14)),x-=go.parseSyncSafeInteger($.data.subarray(16,20)));do{if(G=go.parseSyncSafeInteger($.data.subarray(j+4,j+8)),G<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Ve=String.fromCharCode($.data[j],$.data[j+1],$.data[j+2],$.data[j+3]),te={id:Ve,data:$.data.subarray(j+10,j+G+10)},te.key=te.id,go.frameParsers[te.id]?go.frameParsers[te.id](te):te.id[0]==="T"?go.frameParsers["T*"](te):te.id[0]==="W"&&go.frameParsers["W*"](te),te.owner==="com.apple.streaming.transportStreamTimestamp"){var _e=te.data,dt=(_e[3]&1)<<30|_e[4]<<22|_e[5]<<14|_e[6]<<6|_e[7]>>>2;dt*=4,dt+=_e[7]&3,te.timeStamp=dt,$.pts===void 0&&$.dts===void 0&&($.pts=te.timeStamp,$.dts=te.timeStamp),this.trigger("timestamp",te)}$.frames.push(te),j+=10,j+=G}while(j<x);this.trigger("data",$)}}}},Kp.prototype=new wI;var CI=Kp,V2=r,H2=Qe,ds=Gt,kI=Q0.TimestampRolloverStream,Wp,nd,Gp,Gu=188,K2=71;Wp=function(){var p=new Uint8Array(Gu),v=0;Wp.prototype.init.call(this),this.push=function(x){var b=0,w=Gu,E;for(v?(E=new Uint8Array(x.byteLength+v),E.set(p.subarray(0,v)),E.set(x,v),v=0):E=x;w<E.byteLength;){if(E[b]===K2&&E[w]===K2){this.trigger("data",E.subarray(b,w)),b+=Gu,w+=Gu;continue}b++,w++}b<E.byteLength&&(p.set(E.subarray(b),0),v=E.byteLength-b)},this.flush=function(){v===Gu&&p[0]===K2&&(this.trigger("data",p),v=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){v=0,this.trigger("reset")}},Wp.prototype=new V2,nd=function(){var p,v,x,b;nd.prototype.init.call(this),b=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,p=function(w,E){var R=0;E.payloadUnitStartIndicator&&(R+=w[R]+1),E.type==="pat"?v(w.subarray(R),E):x(w.subarray(R),E)},v=function(w,E){E.section_number=w[7],E.last_section_number=w[8],b.pmtPid=(w[10]&31)<<8|w[11],E.pmtPid=b.pmtPid},x=function(w,E){var R,$,j,G;if(w[5]&1){for(b.programMapTable={video:null,audio:null,"timed-metadata":{}},R=(w[1]&15)<<8|w[2],$=3+R-4,j=(w[10]&15)<<8|w[11],G=12+j;G<$;){var te=w[G],le=(w[G+1]&31)<<8|w[G+2];te===ds.H264_STREAM_TYPE&&b.programMapTable.video===null?b.programMapTable.video=le:te===ds.ADTS_STREAM_TYPE&&b.programMapTable.audio===null?b.programMapTable.audio=le:te===ds.METADATA_STREAM_TYPE&&(b.programMapTable["timed-metadata"][le]=te),G+=((w[G+3]&15)<<8|w[G+4])+5}E.programMapTable=b.programMapTable}},this.push=function(w){var E={},R=4;if(E.payloadUnitStartIndicator=!!(w[1]&64),E.pid=w[1]&31,E.pid<<=8,E.pid|=w[2],(w[3]&48)>>>4>1&&(R+=w[R]+1),E.pid===0)E.type="pat",p(w.subarray(R),E),this.trigger("data",E);else if(E.pid===this.pmtPid)for(E.type="pmt",p(w.subarray(R),E),this.trigger("data",E);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([w,R,E]):this.processPes_(w,R,E)},this.processPes_=function(w,E,R){R.pid===this.programMapTable.video?R.streamType=ds.H264_STREAM_TYPE:R.pid===this.programMapTable.audio?R.streamType=ds.ADTS_STREAM_TYPE:R.streamType=this.programMapTable["timed-metadata"][R.pid],R.type="pes",R.data=w.subarray(E),this.trigger("data",R)}},nd.prototype=new V2,nd.STREAM_TYPES={h264:27,adts:15},Gp=function(){var p=this,v=!1,x={data:[],size:0},b={data:[],size:0},w={data:[],size:0},E,R=function(j,G){var te;const le=j[0]<<16|j[1]<<8|j[2];G.data=new Uint8Array,le===1&&(G.packetLength=6+(j[4]<<8|j[5]),G.dataAlignmentIndicator=(j[6]&4)!==0,te=j[7],te&192&&(G.pts=(j[9]&14)<<27|(j[10]&255)<<20|(j[11]&254)<<12|(j[12]&255)<<5|(j[13]&254)>>>3,G.pts*=4,G.pts+=(j[13]&6)>>>1,G.dts=G.pts,te&64&&(G.dts=(j[14]&14)<<27|(j[15]&255)<<20|(j[16]&254)<<12|(j[17]&255)<<5|(j[18]&254)>>>3,G.dts*=4,G.dts+=(j[18]&6)>>>1)),G.data=j.subarray(9+j[8]))},$=function(j,G,te){var le=new Uint8Array(j.size),Ve={type:G},_e=0,dt=0,bt=!1,ri;if(!(!j.data.length||j.size<9)){for(Ve.trackId=j.data[0].pid,_e=0;_e<j.data.length;_e++)ri=j.data[_e],le.set(ri.data,dt),dt+=ri.data.byteLength;R(le,Ve),bt=G==="video"||Ve.packetLength<=j.size,(te||bt)&&(j.size=0,j.data.length=0),bt&&p.trigger("data",Ve)}};Gp.prototype.init.call(this),this.push=function(j){({pat:function(){},pes:function(){var G,te;switch(j.streamType){case ds.H264_STREAM_TYPE:G=x,te="video";break;case ds.ADTS_STREAM_TYPE:G=b,te="audio";break;case ds.METADATA_STREAM_TYPE:G=w,te="timed-metadata";break;default:return}j.payloadUnitStartIndicator&&$(G,te,!0),G.data.push(j),G.size+=j.data.byteLength},pmt:function(){var G={type:"metadata",tracks:[]};E=j.programMapTable,E.video!==null&&G.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+E.video,codec:"avc",type:"video"}),E.audio!==null&&G.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+E.audio,codec:"adts",type:"audio"}),v=!0,p.trigger("data",G)}})[j.type]()},this.reset=function(){x.size=0,x.data.length=0,b.size=0,b.data.length=0,this.trigger("reset")},this.flushStreams_=function(){$(x,"video"),$(b,"audio"),$(w,"timed-metadata")},this.flush=function(){if(!v&&E){var j={type:"metadata",tracks:[]};E.video!==null&&j.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+E.video,codec:"avc",type:"video"}),E.audio!==null&&j.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+E.audio,codec:"adts",type:"audio"}),p.trigger("data",j)}v=!1,this.flushStreams_(),this.trigger("done")}},Gp.prototype=new V2;var V6={PAT_PID:0,MP2T_PACKET_LENGTH:Gu,TransportPacketStream:Wp,TransportParseStream:nd,ElementaryStream:Gp,TimestampRolloverStream:kI,CaptionStream:H2.CaptionStream,Cea608Stream:H2.Cea608Stream,Cea708Stream:H2.Cea708Stream,MetadataStream:CI};for(var W2 in ds)ds.hasOwnProperty(W2)&&(V6[W2]=ds[W2]);var TI=V6,EI=r,AI=Mt.ONE_SECOND_IN_TS,Xp,H6=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Xp=function(p){var v,x=0;Xp.prototype.init.call(this),this.skipWarn_=function(b,w){this.trigger("log",{level:"warn",message:`adts skiping bytes ${b} to ${w} in frame ${x} outside syncword`})},this.push=function(b){var w=0,E,R,$,j,G;if(p||(x=0),b.type==="audio"){v&&v.length?($=v,v=new Uint8Array($.byteLength+b.data.byteLength),v.set($),v.set(b.data,$.byteLength)):v=b.data;for(var te;w+7<v.length;){if(v[w]!==255||(v[w+1]&246)!==240){typeof te!="number"&&(te=w),w++;continue}if(typeof te=="number"&&(this.skipWarn_(te,w),te=null),R=(~v[w+1]&1)*2,E=(v[w+3]&3)<<11|v[w+4]<<3|(v[w+5]&224)>>5,j=((v[w+6]&3)+1)*1024,G=j*AI/H6[(v[w+2]&60)>>>2],v.byteLength-w<E)break;this.trigger("data",{pts:b.pts+x*G,dts:b.dts+x*G,sampleCount:j,audioobjecttype:(v[w+2]>>>6&3)+1,channelcount:(v[w+2]&1)<<2|(v[w+3]&192)>>>6,samplerate:H6[(v[w+2]&60)>>>2],samplingfrequencyindex:(v[w+2]&60)>>>2,samplesize:16,data:v.subarray(w+7+R,w+E)}),x++,w+=E}typeof te=="number"&&(this.skipWarn_(te,w),te=null),v=v.subarray(w)}},this.flush=function(){x=0,this.trigger("done")},this.reset=function(){v=void 0,this.trigger("reset")},this.endTimeline=function(){v=void 0,this.trigger("endedtimeline")}},Xp.prototype=new EI;var MI=Xp,K6;K6=function(p){var v=p.byteLength,x=0,b=0;this.length=function(){return 8*v},this.bitsAvailable=function(){return 8*v+b},this.loadWord=function(){var w=p.byteLength-v,E=new Uint8Array(4),R=Math.min(4,v);if(R===0)throw new Error("no bytes available");E.set(p.subarray(w,w+R)),x=new DataView(E.buffer).getUint32(0),b=R*8,v-=R},this.skipBits=function(w){var E;b>w?(x<<=w,b-=w):(w-=b,E=Math.floor(w/8),w-=E*8,v-=E,this.loadWord(),x<<=w,b-=w)},this.readBits=function(w){var E=Math.min(b,w),R=x>>>32-E;return b-=E,b>0?x<<=E:v>0&&this.loadWord(),E=w-E,E>0?R<<E|this.readBits(E):R},this.skipLeadingZeros=function(){var w;for(w=0;w<b;++w)if(x&2147483648>>>w)return x<<=w,b-=w,w;return this.loadWord(),w+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var w=this.skipLeadingZeros();return this.readBits(w+1)-1},this.readExpGolomb=function(){var w=this.readUnsignedExpGolomb();return 1&w?1+w>>>1:-1*(w>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var DI=K6,W6=r,LI=DI,Yp,sd,G6;sd=function(){var p=0,v,x;sd.prototype.init.call(this),this.push=function(b){var w;x?(w=new Uint8Array(x.byteLength+b.data.byteLength),w.set(x),w.set(b.data,x.byteLength),x=w):x=b.data;for(var E=x.byteLength;p<E-3;p++)if(x[p+2]===1){v=p+5;break}for(;v<E;)switch(x[v]){case 0:if(x[v-1]!==0){v+=2;break}else if(x[v-2]!==0){v++;break}p+3!==v-2&&this.trigger("data",x.subarray(p+3,v-2));do v++;while(x[v]!==1&&v<E);p=v-2,v+=3;break;case 1:if(x[v-1]!==0||x[v-2]!==0){v+=3;break}this.trigger("data",x.subarray(p+3,v-2)),p=v-2,v+=3;break;default:v+=3;break}x=x.subarray(p),v-=p,p=0},this.reset=function(){x=null,p=0,this.trigger("reset")},this.flush=function(){x&&x.byteLength>3&&this.trigger("data",x.subarray(p+3)),x=null,p=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},sd.prototype=new W6,G6={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Yp=function(){var p=new sd,v,x,b,w,E,R,$;Yp.prototype.init.call(this),v=this,this.push=function(j){j.type==="video"&&(x=j.trackId,b=j.pts,w=j.dts,p.push(j))},p.on("data",function(j){var G={trackId:x,pts:b,dts:w,data:j,nalUnitTypeCode:j[0]&31};switch(G.nalUnitTypeCode){case 5:G.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:G.nalUnitType="sei_rbsp",G.escapedRBSP=E(j.subarray(1));break;case 7:G.nalUnitType="seq_parameter_set_rbsp",G.escapedRBSP=E(j.subarray(1)),G.config=R(G.escapedRBSP);break;case 8:G.nalUnitType="pic_parameter_set_rbsp";break;case 9:G.nalUnitType="access_unit_delimiter_rbsp";break}v.trigger("data",G)}),p.on("done",function(){v.trigger("done")}),p.on("partialdone",function(){v.trigger("partialdone")}),p.on("reset",function(){v.trigger("reset")}),p.on("endedtimeline",function(){v.trigger("endedtimeline")}),this.flush=function(){p.flush()},this.partialFlush=function(){p.partialFlush()},this.reset=function(){p.reset()},this.endTimeline=function(){p.endTimeline()},$=function(j,G){var te=8,le=8,Ve,_e;for(Ve=0;Ve<j;Ve++)le!==0&&(_e=G.readExpGolomb(),le=(te+_e+256)%256),te=le===0?te:le},E=function(j){for(var G=j.byteLength,te=[],le=1,Ve,_e;le<G-2;)j[le]===0&&j[le+1]===0&&j[le+2]===3?(te.push(le+2),le+=2):le++;if(te.length===0)return j;Ve=G-te.length,_e=new Uint8Array(Ve);var dt=0;for(le=0;le<Ve;dt++,le++)dt===te[0]&&(dt++,te.shift()),_e[le]=j[dt];return _e},R=function(j){var G=0,te=0,le=0,Ve=0,_e,dt,bt,ri,$n,Bl,w8,S8,C8,n4,k8,Ir=[1,1],T8,Pl;if(_e=new LI(j),dt=_e.readUnsignedByte(),ri=_e.readUnsignedByte(),bt=_e.readUnsignedByte(),_e.skipUnsignedExpGolomb(),G6[dt]&&($n=_e.readUnsignedExpGolomb(),$n===3&&_e.skipBits(1),_e.skipUnsignedExpGolomb(),_e.skipUnsignedExpGolomb(),_e.skipBits(1),_e.readBoolean()))for(k8=$n!==3?8:12,Pl=0;Pl<k8;Pl++)_e.readBoolean()&&(Pl<6?$(16,_e):$(64,_e));if(_e.skipUnsignedExpGolomb(),Bl=_e.readUnsignedExpGolomb(),Bl===0)_e.readUnsignedExpGolomb();else if(Bl===1)for(_e.skipBits(1),_e.skipExpGolomb(),_e.skipExpGolomb(),w8=_e.readUnsignedExpGolomb(),Pl=0;Pl<w8;Pl++)_e.skipExpGolomb();if(_e.skipUnsignedExpGolomb(),_e.skipBits(1),S8=_e.readUnsignedExpGolomb(),C8=_e.readUnsignedExpGolomb(),n4=_e.readBits(1),n4===0&&_e.skipBits(1),_e.skipBits(1),_e.readBoolean()&&(G=_e.readUnsignedExpGolomb(),te=_e.readUnsignedExpGolomb(),le=_e.readUnsignedExpGolomb(),Ve=_e.readUnsignedExpGolomb()),_e.readBoolean()&&_e.readBoolean()){switch(T8=_e.readUnsignedByte(),T8){case 1:Ir=[1,1];break;case 2:Ir=[12,11];break;case 3:Ir=[10,11];break;case 4:Ir=[16,11];break;case 5:Ir=[40,33];break;case 6:Ir=[24,11];break;case 7:Ir=[20,11];break;case 8:Ir=[32,11];break;case 9:Ir=[80,33];break;case 10:Ir=[18,11];break;case 11:Ir=[15,11];break;case 12:Ir=[64,33];break;case 13:Ir=[160,99];break;case 14:Ir=[4,3];break;case 15:Ir=[3,2];break;case 16:Ir=[2,1];break;case 255:{Ir=[_e.readUnsignedByte()<<8|_e.readUnsignedByte(),_e.readUnsignedByte()<<8|_e.readUnsignedByte()];break}}Ir&&Ir[0]/Ir[1]}return{profileIdc:dt,levelIdc:bt,profileCompatibility:ri,width:(S8+1)*16-G*2-te*2,height:(2-n4)*(C8+1)*16-le*2-Ve*2,sarRatio:Ir}}},Yp.prototype=new W6;var BI={H264Stream:Yp,NalByteStream:sd},PI=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],X6=function(p,v){var x=p[v+6]<<21|p[v+7]<<14|p[v+8]<<7|p[v+9],b=p[v+5],w=(b&16)>>4;return x=x>=0?x:0,w?x+20:x+10},Y6=function(p,v){return p.length-v<10||p[v]!==73||p[v+1]!==68||p[v+2]!==51?v:(v+=X6(p,v),Y6(p,v))},II=function(p){var v=Y6(p,0);return p.length>=v+2&&(p[v]&255)===255&&(p[v+1]&240)===240&&(p[v+1]&22)===16},Z6=function(p){return p[0]<<21|p[1]<<14|p[2]<<7|p[3]},RI=function(p,v,x){var b,w="";for(b=v;b<x;b++)w+="%"+("00"+p[b].toString(16)).slice(-2);return w},OI=function(p,v,x){return unescape(RI(p,v,x))},FI=function(p,v){var x=(p[v+5]&224)>>5,b=p[v+4]<<3,w=p[v+3]&6144;return w|b|x},NI=function(p,v){return p[v]===73&&p[v+1]===68&&p[v+2]===51?"timed-metadata":p[v]&!0&&(p[v+1]&240)===240?"audio":null},$I=function(p){for(var v=0;v+5<p.length;){if(p[v]!==255||(p[v+1]&246)!==240){v++;continue}return PI[(p[v+2]&60)>>>2]}return null},zI=function(p){var v,x,b,w;v=10,p[5]&64&&(v+=4,v+=Z6(p.subarray(10,14)));do{if(x=Z6(p.subarray(v+4,v+8)),x<1)return null;if(w=String.fromCharCode(p[v],p[v+1],p[v+2],p[v+3]),w==="PRIV"){b=p.subarray(v+10,v+x+10);for(var E=0;E<b.byteLength;E++)if(b[E]===0){var R=OI(b,0,E);if(R==="com.apple.streaming.transportStreamTimestamp"){var $=b.subarray(E+1),j=($[3]&1)<<30|$[4]<<22|$[5]<<14|$[6]<<6|$[7]>>>2;return j*=4,j+=$[7]&3,j}break}}v+=10,v+=x}while(v<p.byteLength);return null},G2={isLikelyAacData:II,parseId3TagSize:X6,parseAdtsSize:FI,parseType:NI,parseSampleRate:$I,parseAacTimestamp:zI},UI=r,J6=G2,Zp;Zp=function(){var p=new Uint8Array,v=0;Zp.prototype.init.call(this),this.setTimestamp=function(x){v=x},this.push=function(x){var b=0,w=0,E,R,$,j;for(p.length?(j=p.length,p=new Uint8Array(x.byteLength+j),p.set(p.subarray(0,j)),p.set(x,j)):p=x;p.length-w>=3;){if(p[w]===73&&p[w+1]===68&&p[w+2]===51){if(p.length-w<10||(b=J6.parseId3TagSize(p,w),w+b>p.length))break;R={type:"timed-metadata",data:p.subarray(w,w+b)},this.trigger("data",R),w+=b;continue}else if((p[w]&255)===255&&(p[w+1]&240)===240){if(p.length-w<7||(b=J6.parseAdtsSize(p,w),w+b>p.length))break;$={type:"audio",data:p.subarray(w,w+b),pts:v,dts:v},this.trigger("data",$),w+=b;continue}w++}E=p.length-w,E>0?p=p.subarray(w):p=new Uint8Array},this.reset=function(){p=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){p=new Uint8Array,this.trigger("endedtimeline")}},Zp.prototype=new UI;var qI=Zp,jI=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],VI=jI,HI=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],KI=HI,Jp=r,ad=oe,od=pe,Qp=z2,hs=Ip,xa=TI,ef=Mt,Q6=MI,WI=BI.H264Stream,GI=qI,XI=G2.isLikelyAacData,YI=Mt.ONE_SECOND_IN_TS,X2=VI,Y2=KI,ld,Xu,tf,Dl,ZI=function(p,v){v.stream=p,this.trigger("log",v)},e8=function(p,v){for(var x=Object.keys(v),b=0;b<x.length;b++){var w=x[b];w==="headOfPipeline"||!v[w].on||v[w].on("log",ZI.bind(p,w))}},t8=function(p,v){var x;if(p.length!==v.length)return!1;for(x=0;x<p.length;x++)if(p[x]!==v[x])return!1;return!0},Z2=function(p,v,x,b,w,E){var R=x-v,$=b-v,j=w-x;return{start:{dts:p,pts:p+R},end:{dts:p+$,pts:p+j},prependedContentDuration:E,baseMediaDecodeTime:p}};Xu=function(p,v){var x=[],b,w=0,E=0,R=1/0;v=v||{},b=v.firstSequenceNumber||0,Xu.prototype.init.call(this),this.push=function($){hs.collectDtsInfo(p,$),p&&X2.forEach(function(j){p[j]=$[j]}),x.push($)},this.setEarliestDts=function($){w=$},this.setVideoBaseMediaDecodeTime=function($){R=$},this.setAudioAppendStart=function($){E=$},this.flush=function(){var $,j,G,te,le,Ve,_e;if(x.length===0){this.trigger("done","AudioSegmentStream");return}$=Qp.trimAdtsFramesByEarliestDts(x,p,w),p.baseMediaDecodeTime=hs.calculateTrackBaseMediaDecodeTime(p,v.keepOriginalTimestamps),_e=Qp.prefixWithSilence(p,$,E,R),p.samples=Qp.generateSampleTable($),G=ad.mdat(Qp.concatenateFrameData($)),x=[],j=ad.moof(b,[p]),te=new Uint8Array(j.byteLength+G.byteLength),b++,te.set(j),te.set(G,j.byteLength),hs.clearDtsInfo(p),le=Math.ceil(YI*1024/p.samplerate),$.length&&(Ve=$.length*le,this.trigger("segmentTimingInfo",Z2(ef.audioTsToVideoTs(p.baseMediaDecodeTime,p.samplerate),$[0].dts,$[0].pts,$[0].dts+Ve,$[0].pts+Ve,_e||0)),this.trigger("timingInfo",{start:$[0].pts,end:$[0].pts+Ve})),this.trigger("data",{track:p,boxes:te}),this.trigger("done","AudioSegmentStream")},this.reset=function(){hs.clearDtsInfo(p),x=[],this.trigger("reset")}},Xu.prototype=new Jp,ld=function(p,v){var x,b=[],w=[],E,R;v=v||{},x=v.firstSequenceNumber||0,ld.prototype.init.call(this),delete p.minPTS,this.gopCache_=[],this.push=function($){hs.collectDtsInfo(p,$),$.nalUnitType==="seq_parameter_set_rbsp"&&!E&&(E=$.config,p.sps=[$.data],Y2.forEach(function(j){p[j]=E[j]},this)),$.nalUnitType==="pic_parameter_set_rbsp"&&!R&&(R=$.data,p.pps=[$.data]),b.push($)},this.flush=function(){for(var $,j,G,te,le,Ve,_e=0,dt,bt;b.length&&b[0].nalUnitType!=="access_unit_delimiter_rbsp";)b.shift();if(b.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if($=od.groupNalsIntoFrames(b),G=od.groupFramesIntoGops($),G[0][0].keyFrame||(j=this.getGopForFusion_(b[0],p),j?(_e=j.duration,G.unshift(j),G.byteLength+=j.byteLength,G.nalCount+=j.nalCount,G.pts=j.pts,G.dts=j.dts,G.duration+=j.duration):G=od.extendFirstKeyFrame(G)),w.length){var ri;if(v.alignGopsAtEnd?ri=this.alignGopsAtEnd_(G):ri=this.alignGopsAtStart_(G),!ri){this.gopCache_.unshift({gop:G.pop(),pps:p.pps,sps:p.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),b=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}hs.clearDtsInfo(p),G=ri}hs.collectDtsInfo(p,G),p.samples=od.generateSampleTable(G),le=ad.mdat(od.concatenateNalData(G)),p.baseMediaDecodeTime=hs.calculateTrackBaseMediaDecodeTime(p,v.keepOriginalTimestamps),this.trigger("processedGopsInfo",G.map(function($n){return{pts:$n.pts,dts:$n.dts,byteLength:$n.byteLength}})),dt=G[0],bt=G[G.length-1],this.trigger("segmentTimingInfo",Z2(p.baseMediaDecodeTime,dt.dts,dt.pts,bt.dts+bt.duration,bt.pts+bt.duration,_e)),this.trigger("timingInfo",{start:G[0].pts,end:G[G.length-1].pts+G[G.length-1].duration}),this.gopCache_.unshift({gop:G.pop(),pps:p.pps,sps:p.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),b=[],this.trigger("baseMediaDecodeTime",p.baseMediaDecodeTime),this.trigger("timelineStartInfo",p.timelineStartInfo),te=ad.moof(x,[p]),Ve=new Uint8Array(te.byteLength+le.byteLength),x++,Ve.set(te),Ve.set(le,te.byteLength),this.trigger("data",{track:p,boxes:Ve}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),b=[],this.gopCache_.length=0,w.length=0,this.trigger("reset")},this.resetStream_=function(){hs.clearDtsInfo(p),E=void 0,R=void 0},this.getGopForFusion_=function($){var j=45e3,G=1e4,te=1/0,le,Ve,_e,dt,bt;for(bt=0;bt<this.gopCache_.length;bt++)dt=this.gopCache_[bt],_e=dt.gop,!(!(p.pps&&t8(p.pps[0],dt.pps[0]))||!(p.sps&&t8(p.sps[0],dt.sps[0])))&&(_e.dts<p.timelineStartInfo.dts||(le=$.dts-_e.dts-_e.duration,le>=-G&&le<=j&&(!Ve||te>le)&&(Ve=dt,te=le)));return Ve?Ve.gop:null},this.alignGopsAtStart_=function($){var j,G,te,le,Ve,_e,dt,bt;for(Ve=$.byteLength,_e=$.nalCount,dt=$.duration,j=G=0;j<w.length&&G<$.length&&(te=w[j],le=$[G],te.pts!==le.pts);){if(le.pts>te.pts){j++;continue}G++,Ve-=le.byteLength,_e-=le.nalCount,dt-=le.duration}return G===0?$:G===$.length?null:(bt=$.slice(G),bt.byteLength=Ve,bt.duration=dt,bt.nalCount=_e,bt.pts=bt[0].pts,bt.dts=bt[0].dts,bt)},this.alignGopsAtEnd_=function($){var j,G,te,le,Ve,_e;for(j=w.length-1,G=$.length-1,Ve=null,_e=!1;j>=0&&G>=0;){if(te=w[j],le=$[G],te.pts===le.pts){_e=!0;break}if(te.pts>le.pts){j--;continue}j===w.length-1&&(Ve=G),G--}if(!_e&&Ve===null)return null;var dt;if(_e?dt=G:dt=Ve,dt===0)return $;var bt=$.slice(dt),ri=bt.reduce(function($n,Bl){return $n.byteLength+=Bl.byteLength,$n.duration+=Bl.duration,$n.nalCount+=Bl.nalCount,$n},{byteLength:0,duration:0,nalCount:0});return bt.byteLength=ri.byteLength,bt.duration=ri.duration,bt.nalCount=ri.nalCount,bt.pts=bt[0].pts,bt.dts=bt[0].dts,bt},this.alignGopsWith=function($){w=$}},ld.prototype=new Jp,Dl=function(p,v){this.numberOfTracks=0,this.metadataStream=v,p=p||{},typeof p.remux<"u"?this.remuxTracks=!!p.remux:this.remuxTracks=!0,typeof p.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=p.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Dl.prototype.init.call(this),this.push=function(x){if(x.content||x.text)return this.pendingCaptions.push(x);if(x.frames)return this.pendingMetadata.push(x);this.pendingTracks.push(x.track),this.pendingBytes+=x.boxes.byteLength,x.track.type==="video"&&(this.videoTrack=x.track,this.pendingBoxes.push(x.boxes)),x.track.type==="audio"&&(this.audioTrack=x.track,this.pendingBoxes.unshift(x.boxes))}},Dl.prototype=new Jp,Dl.prototype.flush=function(p){var v=0,x={captions:[],captionStreams:{},metadata:[],info:{}},b,w,E,R=0,$;if(this.pendingTracks.length<this.numberOfTracks){if(p!=="VideoSegmentStream"&&p!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(R=this.videoTrack.timelineStartInfo.pts,Y2.forEach(function(j){x.info[j]=this.videoTrack[j]},this)):this.audioTrack&&(R=this.audioTrack.timelineStartInfo.pts,X2.forEach(function(j){x.info[j]=this.audioTrack[j]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?x.type=this.pendingTracks[0].type:x.type="combined",this.emittedTracks+=this.pendingTracks.length,E=ad.initSegment(this.pendingTracks),x.initSegment=new Uint8Array(E.byteLength),x.initSegment.set(E),x.data=new Uint8Array(this.pendingBytes),$=0;$<this.pendingBoxes.length;$++)x.data.set(this.pendingBoxes[$],v),v+=this.pendingBoxes[$].byteLength;for($=0;$<this.pendingCaptions.length;$++)b=this.pendingCaptions[$],b.startTime=ef.metadataTsToSeconds(b.startPts,R,this.keepOriginalTimestamps),b.endTime=ef.metadataTsToSeconds(b.endPts,R,this.keepOriginalTimestamps),x.captionStreams[b.stream]=!0,x.captions.push(b);for($=0;$<this.pendingMetadata.length;$++)w=this.pendingMetadata[$],w.cueTime=ef.metadataTsToSeconds(w.pts,R,this.keepOriginalTimestamps),x.metadata.push(w);for(x.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",x),$=0;$<x.captions.length;$++)b=x.captions[$],this.trigger("caption",b);for($=0;$<x.metadata.length;$++)w=x.metadata[$],this.trigger("id3Frame",w)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Dl.prototype.setRemux=function(p){this.remuxTracks=p},tf=function(p){var v=this,x=!0,b,w;tf.prototype.init.call(this),p=p||{},this.baseMediaDecodeTime=p.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var E={};this.transmuxPipeline_=E,E.type="aac",E.metadataStream=new xa.MetadataStream,E.aacStream=new GI,E.audioTimestampRolloverStream=new xa.TimestampRolloverStream("audio"),E.timedMetadataTimestampRolloverStream=new xa.TimestampRolloverStream("timed-metadata"),E.adtsStream=new Q6,E.coalesceStream=new Dl(p,E.metadataStream),E.headOfPipeline=E.aacStream,E.aacStream.pipe(E.audioTimestampRolloverStream).pipe(E.adtsStream),E.aacStream.pipe(E.timedMetadataTimestampRolloverStream).pipe(E.metadataStream).pipe(E.coalesceStream),E.metadataStream.on("timestamp",function(R){E.aacStream.setTimestamp(R.timeStamp)}),E.aacStream.on("data",function(R){R.type!=="timed-metadata"&&R.type!=="audio"||E.audioSegmentStream||(w=w||{timelineStartInfo:{baseMediaDecodeTime:v.baseMediaDecodeTime},codec:"adts",type:"audio"},E.coalesceStream.numberOfTracks++,E.audioSegmentStream=new Xu(w,p),E.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),E.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),E.adtsStream.pipe(E.audioSegmentStream).pipe(E.coalesceStream),v.trigger("trackinfo",{hasAudio:!!w,hasVideo:!!b}))}),E.coalesceStream.on("data",this.trigger.bind(this,"data")),E.coalesceStream.on("done",this.trigger.bind(this,"done")),e8(this,E)},this.setupTsPipeline=function(){var E={};this.transmuxPipeline_=E,E.type="ts",E.metadataStream=new xa.MetadataStream,E.packetStream=new xa.TransportPacketStream,E.parseStream=new xa.TransportParseStream,E.elementaryStream=new xa.ElementaryStream,E.timestampRolloverStream=new xa.TimestampRolloverStream,E.adtsStream=new Q6,E.h264Stream=new WI,E.captionStream=new xa.CaptionStream(p),E.coalesceStream=new Dl(p,E.metadataStream),E.headOfPipeline=E.packetStream,E.packetStream.pipe(E.parseStream).pipe(E.elementaryStream).pipe(E.timestampRolloverStream),E.timestampRolloverStream.pipe(E.h264Stream),E.timestampRolloverStream.pipe(E.adtsStream),E.timestampRolloverStream.pipe(E.metadataStream).pipe(E.coalesceStream),E.h264Stream.pipe(E.captionStream).pipe(E.coalesceStream),E.elementaryStream.on("data",function(R){var $;if(R.type==="metadata"){for($=R.tracks.length;$--;)!b&&R.tracks[$].type==="video"?(b=R.tracks[$],b.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime):!w&&R.tracks[$].type==="audio"&&(w=R.tracks[$],w.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime);b&&!E.videoSegmentStream&&(E.coalesceStream.numberOfTracks++,E.videoSegmentStream=new ld(b,p),E.videoSegmentStream.on("log",v.getLogTrigger_("videoSegmentStream")),E.videoSegmentStream.on("timelineStartInfo",function(j){w&&!p.keepOriginalTimestamps&&(w.timelineStartInfo=j,E.audioSegmentStream.setEarliestDts(j.dts-v.baseMediaDecodeTime))}),E.videoSegmentStream.on("processedGopsInfo",v.trigger.bind(v,"gopInfo")),E.videoSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"videoSegmentTimingInfo")),E.videoSegmentStream.on("baseMediaDecodeTime",function(j){w&&E.audioSegmentStream.setVideoBaseMediaDecodeTime(j)}),E.videoSegmentStream.on("timingInfo",v.trigger.bind(v,"videoTimingInfo")),E.h264Stream.pipe(E.videoSegmentStream).pipe(E.coalesceStream)),w&&!E.audioSegmentStream&&(E.coalesceStream.numberOfTracks++,E.audioSegmentStream=new Xu(w,p),E.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),E.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),E.audioSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"audioSegmentTimingInfo")),E.adtsStream.pipe(E.audioSegmentStream).pipe(E.coalesceStream)),v.trigger("trackinfo",{hasAudio:!!w,hasVideo:!!b})}}),E.coalesceStream.on("data",this.trigger.bind(this,"data")),E.coalesceStream.on("id3Frame",function(R){R.dispatchType=E.metadataStream.dispatchType,v.trigger("id3Frame",R)}),E.coalesceStream.on("caption",this.trigger.bind(this,"caption")),E.coalesceStream.on("done",this.trigger.bind(this,"done")),e8(this,E)},this.setBaseMediaDecodeTime=function(E){var R=this.transmuxPipeline_;p.keepOriginalTimestamps||(this.baseMediaDecodeTime=E),w&&(w.timelineStartInfo.dts=void 0,w.timelineStartInfo.pts=void 0,hs.clearDtsInfo(w),R.audioTimestampRolloverStream&&R.audioTimestampRolloverStream.discontinuity()),b&&(R.videoSegmentStream&&(R.videoSegmentStream.gopCache_=[]),b.timelineStartInfo.dts=void 0,b.timelineStartInfo.pts=void 0,hs.clearDtsInfo(b),R.captionStream.reset()),R.timestampRolloverStream&&R.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(E){w&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(E)},this.setRemux=function(E){var R=this.transmuxPipeline_;p.remux=E,R&&R.coalesceStream&&R.coalesceStream.setRemux(E)},this.alignGopsWith=function(E){b&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(E)},this.getLogTrigger_=function(E){var R=this;return function($){$.stream=E,R.trigger("log",$)}},this.push=function(E){if(x){var R=XI(E);R&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!R&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),x=!1}this.transmuxPipeline_.headOfPipeline.push(E)},this.flush=function(){x=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},tf.prototype=new Jp;var JI={Transmuxer:tf,VideoSegmentStream:ld,AudioSegmentStream:Xu,AUDIO_PROPERTIES:X2,VIDEO_PROPERTIES:Y2,generateSegmentTimingInfo:Z2},QI=function(p){return p>>>0},eR=function(p){return("00"+p.toString(16)).slice(-2)},rf={toUnsigned:QI,toHexString:eR},tR=function(p){var v="";return v+=String.fromCharCode(p[0]),v+=String.fromCharCode(p[1]),v+=String.fromCharCode(p[2]),v+=String.fromCharCode(p[3]),v},r8=tR,rR=rf.toUnsigned,iR=r8,i8=function(p,v){var x=[],b,w,E,R,$;if(!v.length)return null;for(b=0;b<p.byteLength;)w=rR(p[b]<<24|p[b+1]<<16|p[b+2]<<8|p[b+3]),E=iR(p.subarray(b+4,b+8)),R=w>1?b+w:p.byteLength,E===v[0]&&(v.length===1?x.push(p.subarray(b+8,R)):($=i8(p.subarray(b+8,R),v.slice(1)),$.length&&(x=x.concat($)))),b=R;return x},n8=i8,nR=rf.toUnsigned,sR=s.getUint64,aR=function(p){var v={version:p[0],flags:new Uint8Array(p.subarray(1,4))};return v.version===1?v.baseMediaDecodeTime=sR(p.subarray(4)):v.baseMediaDecodeTime=nR(p[4]<<24|p[5]<<16|p[6]<<8|p[7]),v},s8=aR,oR=function(p){return{isLeading:(p[0]&12)>>>2,dependsOn:p[0]&3,isDependedOn:(p[1]&192)>>>6,hasRedundancy:(p[1]&48)>>>4,paddingValue:(p[1]&14)>>>1,isNonSyncSample:p[1]&1,degradationPriority:p[2]<<8|p[3]}},lR=oR,a8=lR,uR=function(p){var v={version:p[0],flags:new Uint8Array(p.subarray(1,4)),samples:[]},x=new DataView(p.buffer,p.byteOffset,p.byteLength),b=v.flags[2]&1,w=v.flags[2]&4,E=v.flags[1]&1,R=v.flags[1]&2,$=v.flags[1]&4,j=v.flags[1]&8,G=x.getUint32(4),te=8,le;for(b&&(v.dataOffset=x.getInt32(te),te+=4),w&&G&&(le={flags:a8(p.subarray(te,te+4))},te+=4,E&&(le.duration=x.getUint32(te),te+=4),R&&(le.size=x.getUint32(te),te+=4),j&&(v.version===1?le.compositionTimeOffset=x.getInt32(te):le.compositionTimeOffset=x.getUint32(te),te+=4),v.samples.push(le),G--);G--;)le={},E&&(le.duration=x.getUint32(te),te+=4),R&&(le.size=x.getUint32(te),te+=4),$&&(le.flags=a8(p.subarray(te,te+4)),te+=4),j&&(v.version===1?le.compositionTimeOffset=x.getInt32(te):le.compositionTimeOffset=x.getUint32(te),te+=4),v.samples.push(le);return v},o8=uR,cR=function(p){var v=new DataView(p.buffer,p.byteOffset,p.byteLength),x={version:p[0],flags:new Uint8Array(p.subarray(1,4)),trackId:v.getUint32(4)},b=x.flags[2]&1,w=x.flags[2]&2,E=x.flags[2]&8,R=x.flags[2]&16,$=x.flags[2]&32,j=x.flags[0]&65536,G=x.flags[0]&131072,te;return te=8,b&&(te+=4,x.baseDataOffset=v.getUint32(12),te+=4),w&&(x.sampleDescriptionIndex=v.getUint32(te),te+=4),E&&(x.defaultSampleDuration=v.getUint32(te),te+=4),R&&(x.defaultSampleSize=v.getUint32(te),te+=4),$&&(x.defaultSampleFlags=v.getUint32(te)),j&&(x.durationIsEmpty=!0),!b&&G&&(x.baseDataOffsetIsMoof=!0),x},l8=cR,ud;typeof window<"u"?ud=window:typeof t<"u"?ud=t:typeof self<"u"?ud=self:ud={};var u8=ud,dR=$p.discardEmulationPreventionBytes,hR=Qe.CaptionStream,cd=n8,pR=s8,fR=o8,mR=l8,c8=u8,gR=function(p,v){for(var x=p,b=0;b<v.length;b++){var w=v[b];if(x<w.size)return w;x-=w.size}return null},yR=function(p,v,x){var b=new DataView(p.buffer,p.byteOffset,p.byteLength),w={logs:[],seiNals:[]},E,R,$,j;for(R=0;R+4<p.length;R+=$)if($=b.getUint32(R),R+=4,!($<=0))switch(p[R]&31){case 6:var G=p.subarray(R+1,R+1+$),te=gR(R,v);if(E={nalUnitType:"sei_rbsp",size:$,data:G,escapedRBSP:dR(G),trackId:x},te)E.pts=te.pts,E.dts=te.dts,j=te;else if(j)E.pts=j.pts,E.dts=j.dts;else{w.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+R+" for trackId "+x+". See mux.js#223."});break}w.seiNals.push(E);break}return w},vR=function(p,v,x){var b=v,w=x.defaultSampleDuration||0,E=x.defaultSampleSize||0,R=x.trackId,$=[];return p.forEach(function(j){var G=fR(j),te=G.samples;te.forEach(function(le){le.duration===void 0&&(le.duration=w),le.size===void 0&&(le.size=E),le.trackId=R,le.dts=b,le.compositionTimeOffset===void 0&&(le.compositionTimeOffset=0),typeof b=="bigint"?(le.pts=b+c8.BigInt(le.compositionTimeOffset),b+=c8.BigInt(le.duration)):(le.pts=b+le.compositionTimeOffset,b+=le.duration)}),$=$.concat(te)}),$},bR=function(p,v){var x=cd(p,["moof","traf"]),b=cd(p,["mdat"]),w={},E=[];return b.forEach(function(R,$){var j=x[$];E.push({mdat:R,traf:j})}),E.forEach(function(R){var $=R.mdat,j=R.traf,G=cd(j,["tfhd"]),te=mR(G[0]),le=te.trackId,Ve=cd(j,["tfdt"]),_e=Ve.length>0?pR(Ve[0]).baseMediaDecodeTime:0,dt=cd(j,["trun"]),bt,ri;v===le&&dt.length>0&&(bt=vR(dt,_e,te),ri=yR($,bt,le),w[le]||(w[le]={seiNals:[],logs:[]}),w[le].seiNals=w[le].seiNals.concat(ri.seiNals),w[le].logs=w[le].logs.concat(ri.logs))}),w},xR=function(p,v,x){var b;if(v===null)return null;b=bR(p,v);var w=b[v]||{};return{seiNals:w.seiNals,logs:w.logs,timescale:x}},_R=function(){var p=!1,v,x,b,w,E,R;this.isInitialized=function(){return p},this.init=function($){v=new hR,p=!0,R=$?$.isPartial:!1,v.on("data",function(j){j.startTime=j.startPts/w,j.endTime=j.endPts/w,E.captions.push(j),E.captionStreams[j.stream]=!0}),v.on("log",function(j){E.logs.push(j)})},this.isNewInit=function($,j){return $&&$.length===0||j&&typeof j=="object"&&Object.keys(j).length===0?!1:b!==$[0]||w!==j[b]},this.parse=function($,j,G){var te;if(this.isInitialized()){if(!j||!G)return null;if(this.isNewInit(j,G))b=j[0],w=G[b];else if(b===null||!w)return x.push($),null}else return null;for(;x.length>0;){var le=x.shift();this.parse(le,j,G)}return te=xR($,b,w),te&&te.logs&&(E.logs=E.logs.concat(te.logs)),te===null||!te.seiNals?E.logs.length?{logs:E.logs,captions:[],captionStreams:[]}:null:(this.pushNals(te.seiNals),this.flushStream(),E)},this.pushNals=function($){if(!this.isInitialized()||!$||$.length===0)return null;$.forEach(function(j){v.push(j)})},this.flushStream=function(){if(!this.isInitialized())return null;R?v.partialFlush():v.flush()},this.clearParsedCaptions=function(){E.captions=[],E.captionStreams={},E.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;v.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){x=[],b=null,w=null,E?this.clearParsedCaptions():E={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},wR=_R,SR=function(p){for(var v=0,x=String.fromCharCode(p[v]),b="";x!=="\0";)b+=x,v++,x=String.fromCharCode(p[v]);return b+=x,b},CR={uint8ToCString:SR},nf=CR.uint8ToCString,kR=s.getUint64,TR=function(p){var v=4,x=p[0],b,w,E,R,$,j,G,te;if(x===0){b=nf(p.subarray(v)),v+=b.length,w=nf(p.subarray(v)),v+=w.length;var le=new DataView(p.buffer);E=le.getUint32(v),v+=4,$=le.getUint32(v),v+=4,j=le.getUint32(v),v+=4,G=le.getUint32(v),v+=4}else if(x===1){var le=new DataView(p.buffer);E=le.getUint32(v),v+=4,R=kR(p.subarray(v)),v+=8,j=le.getUint32(v),v+=4,G=le.getUint32(v),v+=4,b=nf(p.subarray(v)),v+=b.length,w=nf(p.subarray(v)),v+=w.length}te=new Uint8Array(p.subarray(v,p.byteLength));var Ve={scheme_id_uri:b,value:w,timescale:E||1,presentation_time:R,presentation_time_delta:$,event_duration:j,id:G,message_data:te};return AR(x,Ve)?Ve:void 0},ER=function(p,v,x,b){return p||p===0?p/v:b+x/v},AR=function(p,v){var x=v.scheme_id_uri!=="\0",b=p===0&&d8(v.presentation_time_delta)&&x,w=p===1&&d8(v.presentation_time)&&x;return!(p>1)&&b||w},d8=function(p){return p!==void 0||p!==null},MR={parseEmsgBox:TR,scaleTime:ER},sf=rf.toUnsigned,dd=rf.toHexString,Pr=n8,Yu=r8,J2=MR,DR=l8,LR=o8,BR=s8,PR=s.getUint64,h8,p8,f8,m8,g8,Q2,y8,e4=u8,IR=j6.parseId3Frames;h8=function(p){var v={},x=Pr(p,["moov","trak"]);return x.reduce(function(b,w){var E,R,$,j,G;return E=Pr(w,["tkhd"])[0],!E||(R=E[0],$=R===0?12:20,j=sf(E[$]<<24|E[$+1]<<16|E[$+2]<<8|E[$+3]),G=Pr(w,["mdia","mdhd"])[0],!G)?null:(R=G[0],$=R===0?12:20,b[j]=sf(G[$]<<24|G[$+1]<<16|G[$+2]<<8|G[$+3]),b)},v)},p8=function(p,v){var x;x=Pr(v,["moof","traf"]);var b=x.reduce(function(w,E){var R=Pr(E,["tfhd"])[0],$=sf(R[4]<<24|R[5]<<16|R[6]<<8|R[7]),j=p[$]||9e4,G=Pr(E,["tfdt"])[0],te=new DataView(G.buffer,G.byteOffset,G.byteLength),le;G[0]===1?le=PR(G.subarray(4,12)):le=te.getUint32(4);let Ve;return typeof le=="bigint"?Ve=le/e4.BigInt(j):typeof le=="number"&&!isNaN(le)&&(Ve=le/j),Ve<Number.MAX_SAFE_INTEGER&&(Ve=Number(Ve)),Ve<w&&(w=Ve),w},1/0);return typeof b=="bigint"||isFinite(b)?b:0},f8=function(p,v){var x=Pr(v,["moof","traf"]),b=0,w=0,E;if(x&&x.length){var R=Pr(x[0],["tfhd"])[0],$=Pr(x[0],["trun"])[0],j=Pr(x[0],["tfdt"])[0];if(R){var G=DR(R);E=G.trackId}if(j){var te=BR(j);b=te.baseMediaDecodeTime}if($){var le=LR($);le.samples&&le.samples.length&&(w=le.samples[0].compositionTimeOffset||0)}}var Ve=p[E]||9e4;typeof b=="bigint"&&(w=e4.BigInt(w),Ve=e4.BigInt(Ve));var _e=(b+w)/Ve;return typeof _e=="bigint"&&_e<Number.MAX_SAFE_INTEGER&&(_e=Number(_e)),_e},m8=function(p){var v=Pr(p,["moov","trak"]),x=[];return v.forEach(function(b){var w=Pr(b,["mdia","hdlr"]),E=Pr(b,["tkhd"]);w.forEach(function(R,$){var j=Yu(R.subarray(8,12)),G=E[$],te,le,Ve;j==="vide"&&(te=new DataView(G.buffer,G.byteOffset,G.byteLength),le=te.getUint8(0),Ve=le===0?te.getUint32(12):te.getUint32(20),x.push(Ve))})}),x},Q2=function(p){var v=p[0],x=v===0?12:20;return sf(p[x]<<24|p[x+1]<<16|p[x+2]<<8|p[x+3])},g8=function(p){var v=Pr(p,["moov","trak"]),x=[];return v.forEach(function(b){var w={},E=Pr(b,["tkhd"])[0],R,$;E&&(R=new DataView(E.buffer,E.byteOffset,E.byteLength),$=R.getUint8(0),w.id=$===0?R.getUint32(12):R.getUint32(20));var j=Pr(b,["mdia","hdlr"])[0];if(j){var G=Yu(j.subarray(8,12));G==="vide"?w.type="video":G==="soun"?w.type="audio":w.type=G}var te=Pr(b,["mdia","minf","stbl","stsd"])[0];if(te){var le=te.subarray(8);w.codec=Yu(le.subarray(4,8));var Ve=Pr(le,[w.codec])[0],_e,dt;Ve&&(/^[asm]vc[1-9]$/i.test(w.codec)?(_e=Ve.subarray(78),dt=Yu(_e.subarray(4,8)),dt==="avcC"&&_e.length>11?(w.codec+=".",w.codec+=dd(_e[9]),w.codec+=dd(_e[10]),w.codec+=dd(_e[11])):w.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(w.codec)?(_e=Ve.subarray(28),dt=Yu(_e.subarray(4,8)),dt==="esds"&&_e.length>20&&_e[19]!==0?(w.codec+="."+dd(_e[19]),w.codec+="."+dd(_e[20]>>>2&63).replace(/^0/,"")):w.codec="mp4a.40.2"):w.codec=w.codec.toLowerCase())}var bt=Pr(b,["mdia","mdhd"])[0];bt&&(w.timescale=Q2(bt)),x.push(w)}),x},y8=function(p,v=0){var x=Pr(p,["emsg"]);return x.map(b=>{var w=J2.parseEmsgBox(new Uint8Array(b)),E=IR(w.message_data);return{cueTime:J2.scaleTime(w.presentation_time,w.timescale,w.presentation_time_delta,v),duration:J2.scaleTime(w.event_duration,w.timescale),frames:E}})};var t4={findBox:Pr,parseType:Yu,timescale:h8,startTime:p8,compositionStartTime:f8,videoTrackIds:m8,tracks:g8,getTimescaleFromMediaHeader:Q2,getEmsgID3:y8},r4=Gt,v8=function(p){var v=p[1]&31;return v<<=8,v|=p[2],v},af=function(p){return!!(p[1]&64)},of=function(p){var v=0;return(p[3]&48)>>>4>1&&(v+=p[4]+1),v},RR=function(p,v){var x=v8(p);return x===0?"pat":x===v?"pmt":v?"pes":null},OR=function(p){var v=af(p),x=4+of(p);return v&&(x+=p[x]+1),(p[x+10]&31)<<8|p[x+11]},FR=function(p){var v={},x=af(p),b=4+of(p);if(x&&(b+=p[b]+1),!!(p[b+5]&1)){var w,E,R;w=(p[b+1]&15)<<8|p[b+2],E=3+w-4,R=(p[b+10]&15)<<8|p[b+11];for(var $=12+R;$<E;){var j=b+$;v[(p[j+1]&31)<<8|p[j+2]]=p[j],$+=((p[j+3]&15)<<8|p[j+4])+5}return v}},NR=function(p,v){var x=v8(p),b=v[x];switch(b){case r4.H264_STREAM_TYPE:return"video";case r4.ADTS_STREAM_TYPE:return"audio";case r4.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},$R=function(p){var v=af(p);if(!v)return null;var x=4+of(p);if(x>=p.byteLength)return null;var b=null,w;return w=p[x+7],w&192&&(b={},b.pts=(p[x+9]&14)<<27|(p[x+10]&255)<<20|(p[x+11]&254)<<12|(p[x+12]&255)<<5|(p[x+13]&254)>>>3,b.pts*=4,b.pts+=(p[x+13]&6)>>>1,b.dts=b.pts,w&64&&(b.dts=(p[x+14]&14)<<27|(p[x+15]&255)<<20|(p[x+16]&254)<<12|(p[x+17]&255)<<5|(p[x+18]&254)>>>3,b.dts*=4,b.dts+=(p[x+18]&6)>>>1)),b},i4=function(p){switch(p){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},zR=function(p){for(var v=4+of(p),x=p.subarray(v),b=0,w=0,E=!1,R;w<x.byteLength-3;w++)if(x[w+2]===1){b=w+5;break}for(;b<x.byteLength;)switch(x[b]){case 0:if(x[b-1]!==0){b+=2;break}else if(x[b-2]!==0){b++;break}w+3!==b-2&&(R=i4(x[w+3]&31),R==="slice_layer_without_partitioning_rbsp_idr"&&(E=!0));do b++;while(x[b]!==1&&b<x.length);w=b-2,b+=3;break;case 1:if(x[b-1]!==0||x[b-2]!==0){b+=3;break}R=i4(x[w+3]&31),R==="slice_layer_without_partitioning_rbsp_idr"&&(E=!0),w=b-2,b+=3;break;default:b+=3;break}return x=x.subarray(w),b-=w,w=0,x&&x.byteLength>3&&(R=i4(x[w+3]&31),R==="slice_layer_without_partitioning_rbsp_idr"&&(E=!0)),E},UR={parseType:RR,parsePat:OR,parsePmt:FR,parsePayloadUnitStartIndicator:af,parsePesType:NR,parsePesTime:$R,videoPacketContainsKeyFrame:zR},b8=Gt,Zu=Q0.handleRollover,rr={};rr.ts=UR,rr.aac=G2;var Ll=Mt.ONE_SECOND_IN_TS,Fi=188,Is=71,qR=function(p,v){for(var x=0,b=Fi,w,E;b<p.byteLength;){if(p[x]===Is&&p[b]===Is){switch(w=p.subarray(x,b),E=rr.ts.parseType(w,v.pid),E){case"pat":v.pid=rr.ts.parsePat(w);break;case"pmt":var R=rr.ts.parsePmt(w);v.table=v.table||{},Object.keys(R).forEach(function($){v.table[$]=R[$]});break}x+=Fi,b+=Fi;continue}x++,b++}},x8=function(p,v,x){for(var b=0,w=Fi,E,R,$,j,G,te=!1;w<=p.byteLength;){if(p[b]===Is&&(p[w]===Is||w===p.byteLength)){switch(E=p.subarray(b,w),R=rr.ts.parseType(E,v.pid),R){case"pes":$=rr.ts.parsePesType(E,v.table),j=rr.ts.parsePayloadUnitStartIndicator(E),$==="audio"&&j&&(G=rr.ts.parsePesTime(E),G&&(G.type="audio",x.audio.push(G),te=!0));break}if(te)break;b+=Fi,w+=Fi;continue}b++,w++}for(w=p.byteLength,b=w-Fi,te=!1;b>=0;){if(p[b]===Is&&(p[w]===Is||w===p.byteLength)){switch(E=p.subarray(b,w),R=rr.ts.parseType(E,v.pid),R){case"pes":$=rr.ts.parsePesType(E,v.table),j=rr.ts.parsePayloadUnitStartIndicator(E),$==="audio"&&j&&(G=rr.ts.parsePesTime(E),G&&(G.type="audio",x.audio.push(G),te=!0));break}if(te)break;b-=Fi,w-=Fi;continue}b--,w--}},jR=function(p,v,x){for(var b=0,w=Fi,E,R,$,j,G,te,le,Ve,_e=!1,dt={data:[],size:0};w<p.byteLength;){if(p[b]===Is&&p[w]===Is){switch(E=p.subarray(b,w),R=rr.ts.parseType(E,v.pid),R){case"pes":if($=rr.ts.parsePesType(E,v.table),j=rr.ts.parsePayloadUnitStartIndicator(E),$==="video"&&(j&&!_e&&(G=rr.ts.parsePesTime(E),G&&(G.type="video",x.video.push(G),_e=!0)),!x.firstKeyFrame)){if(j&&dt.size!==0){for(te=new Uint8Array(dt.size),le=0;dt.data.length;)Ve=dt.data.shift(),te.set(Ve,le),le+=Ve.byteLength;if(rr.ts.videoPacketContainsKeyFrame(te)){var bt=rr.ts.parsePesTime(te);bt?(x.firstKeyFrame=bt,x.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}dt.size=0}dt.data.push(E),dt.size+=E.byteLength}break}if(_e&&x.firstKeyFrame)break;b+=Fi,w+=Fi;continue}b++,w++}for(w=p.byteLength,b=w-Fi,_e=!1;b>=0;){if(p[b]===Is&&p[w]===Is){switch(E=p.subarray(b,w),R=rr.ts.parseType(E,v.pid),R){case"pes":$=rr.ts.parsePesType(E,v.table),j=rr.ts.parsePayloadUnitStartIndicator(E),$==="video"&&j&&(G=rr.ts.parsePesTime(E),G&&(G.type="video",x.video.push(G),_e=!0));break}if(_e)break;b-=Fi,w-=Fi;continue}b--,w--}},VR=function(p,v){if(p.audio&&p.audio.length){var x=v;(typeof x>"u"||isNaN(x))&&(x=p.audio[0].dts),p.audio.forEach(function(E){E.dts=Zu(E.dts,x),E.pts=Zu(E.pts,x),E.dtsTime=E.dts/Ll,E.ptsTime=E.pts/Ll})}if(p.video&&p.video.length){var b=v;if((typeof b>"u"||isNaN(b))&&(b=p.video[0].dts),p.video.forEach(function(E){E.dts=Zu(E.dts,b),E.pts=Zu(E.pts,b),E.dtsTime=E.dts/Ll,E.ptsTime=E.pts/Ll}),p.firstKeyFrame){var w=p.firstKeyFrame;w.dts=Zu(w.dts,b),w.pts=Zu(w.pts,b),w.dtsTime=w.dts/Ll,w.ptsTime=w.pts/Ll}}},HR=function(p){for(var v=!1,x=0,b=null,w=null,E=0,R=0,$;p.length-R>=3;){var j=rr.aac.parseType(p,R);switch(j){case"timed-metadata":if(p.length-R<10){v=!0;break}if(E=rr.aac.parseId3TagSize(p,R),E>p.length){v=!0;break}w===null&&($=p.subarray(R,R+E),w=rr.aac.parseAacTimestamp($)),R+=E;break;case"audio":if(p.length-R<7){v=!0;break}if(E=rr.aac.parseAdtsSize(p,R),E>p.length){v=!0;break}b===null&&($=p.subarray(R,R+E),b=rr.aac.parseSampleRate($)),x++,R+=E;break;default:R++;break}if(v)return null}if(b===null||w===null)return null;var G=Ll/b,te={audio:[{type:"audio",dts:w,pts:w},{type:"audio",dts:w+x*1024*G,pts:w+x*1024*G}]};return te},KR=function(p){var v={pid:null,table:null},x={};qR(p,v);for(var b in v.table)if(v.table.hasOwnProperty(b)){var w=v.table[b];switch(w){case b8.H264_STREAM_TYPE:x.video=[],jR(p,v,x),x.video.length===0&&delete x.video;break;case b8.ADTS_STREAM_TYPE:x.audio=[],x8(p,v,x),x.audio.length===0&&delete x.audio;break}}return x},WR=function(p,v){var x=rr.aac.isLikelyAacData(p),b;return x?b=HR(p):b=KR(p),!b||!b.audio&&!b.video?null:(VR(b,v),b)},GR={inspect:WR,parseAudioPes_:x8};const XR=function(p,v){v.on("data",function(x){const b=x.initSegment;x.initSegment={data:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength};const w=x.data;x.data=w.buffer,p.postMessage({action:"data",segment:x,byteOffset:w.byteOffset,byteLength:w.byteLength},[x.data])}),v.on("done",function(x){p.postMessage({action:"done"})}),v.on("gopInfo",function(x){p.postMessage({action:"gopInfo",gopInfo:x})}),v.on("videoSegmentTimingInfo",function(x){const b={start:{decode:Mt.videoTsToSeconds(x.start.dts),presentation:Mt.videoTsToSeconds(x.start.pts)},end:{decode:Mt.videoTsToSeconds(x.end.dts),presentation:Mt.videoTsToSeconds(x.end.pts)},baseMediaDecodeTime:Mt.videoTsToSeconds(x.baseMediaDecodeTime)};x.prependedContentDuration&&(b.prependedContentDuration=Mt.videoTsToSeconds(x.prependedContentDuration)),p.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:b})}),v.on("audioSegmentTimingInfo",function(x){const b={start:{decode:Mt.videoTsToSeconds(x.start.dts),presentation:Mt.videoTsToSeconds(x.start.pts)},end:{decode:Mt.videoTsToSeconds(x.end.dts),presentation:Mt.videoTsToSeconds(x.end.pts)},baseMediaDecodeTime:Mt.videoTsToSeconds(x.baseMediaDecodeTime)};x.prependedContentDuration&&(b.prependedContentDuration=Mt.videoTsToSeconds(x.prependedContentDuration)),p.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:b})}),v.on("id3Frame",function(x){p.postMessage({action:"id3Frame",id3Frame:x})}),v.on("caption",function(x){p.postMessage({action:"caption",caption:x})}),v.on("trackinfo",function(x){p.postMessage({action:"trackinfo",trackInfo:x})}),v.on("audioTimingInfo",function(x){p.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Mt.videoTsToSeconds(x.start),end:Mt.videoTsToSeconds(x.end)}})}),v.on("videoTimingInfo",function(x){p.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Mt.videoTsToSeconds(x.start),end:Mt.videoTsToSeconds(x.end)}})}),v.on("log",function(x){p.postMessage({action:"log",log:x})})};class _8{constructor(v,x){this.options=x||{},this.self=v,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new JI.Transmuxer(this.options),XR(this.self,this.transmuxer)}pushMp4Captions(v){this.captionParser||(this.captionParser=new wR,this.captionParser.init());const x=new Uint8Array(v.data,v.byteOffset,v.byteLength),b=this.captionParser.parse(x,v.trackIds,v.timescales);this.self.postMessage({action:"mp4Captions",captions:b&&b.captions||[],logs:b&&b.logs||[],data:x.buffer},[x.buffer])}probeMp4StartTime({timescales:v,data:x}){const b=t4.startTime(v,x);this.self.postMessage({action:"probeMp4StartTime",startTime:b,data:x},[x.buffer])}probeMp4Tracks({data:v}){const x=t4.tracks(v);this.self.postMessage({action:"probeMp4Tracks",tracks:x,data:v},[v.buffer])}probeEmsgID3({data:v,offset:x}){const b=t4.getEmsgID3(v,x);this.self.postMessage({action:"probeEmsgID3",id3Frames:b,emsgData:v},[v.buffer])}probeTs({data:v,baseStartTime:x}){const b=typeof x=="number"&&!isNaN(x)?x*Mt.ONE_SECOND_IN_TS:void 0,w=GR.inspect(v,b);let E=null;w&&(E={hasVideo:w.video&&w.video.length===2||!1,hasAudio:w.audio&&w.audio.length===2||!1},E.hasVideo&&(E.videoStart=w.video[0].ptsTime),E.hasAudio&&(E.audioStart=w.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:E,data:v},[v.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(v){const x=new Uint8Array(v.data,v.byteOffset,v.byteLength);this.transmuxer.push(x)}reset(){this.transmuxer.reset()}setTimestampOffset(v){const x=v.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Mt.secondsToVideoTs(x)))}setAudioAppendStart(v){this.transmuxer.setAudioAppendStart(Math.ceil(Mt.secondsToVideoTs(v.appendStart)))}setRemux(v){this.transmuxer.setRemux(v.remux)}flush(v){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(v){this.transmuxer.alignGopsWith(v.gopsToAlignWith.slice())}}self.onmessage=function(p){if(p.data.action==="init"&&p.data.options){this.messageHandlers=new _8(self,p.data.options);return}this.messageHandlers||(this.messageHandlers=new _8(self)),p.data&&p.data.action&&p.data.action!=="init"&&this.messageHandlers[p.data.action]&&this.messageHandlers[p.data.action](p.data)}}));var tG=kD(eG);const rG=(t,e,r)=>{const{type:i,initSegment:n,captions:s,captionStreams:a,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:u}=t.data.segment;e.buffer.push({captions:s,captionStreams:a,metadata:o});const c=t.data.segment.boxes||{data:t.data.segment.data},d={type:i,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(n.data,n.byteOffset,n.byteLength)};typeof l<"u"&&(d.videoFrameDtsTime=l),typeof u<"u"&&(d.videoFramePtsTime=u),r(d)},iG=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},nG=(t,e)=>{e.gopInfo=t.data.gopInfo},AD=t=>{const{transmuxer:e,bytes:r,audioAppendStart:i,gopsToAlignWith:n,remux:s,onData:a,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:c,onAudioSegmentTimingInfo:d,onId3:h,onCaptions:f,onDone:g,onEndedTimeline:y,onTransmuxerLog:C,isEndOfTimeline:S,segment:A,triggerSegmentEventFn:T}=t,M={buffer:[]};let D=S;const B=V=>{e.currentTransmux===t&&(V.data.action==="data"&&rG(V,M,a),V.data.action==="trackinfo"&&o(V.data.trackInfo),V.data.action==="gopInfo"&&nG(V,M),V.data.action==="audioTimingInfo"&&l(V.data.audioTimingInfo),V.data.action==="videoTimingInfo"&&u(V.data.videoTimingInfo),V.data.action==="videoSegmentTimingInfo"&&c(V.data.videoSegmentTimingInfo),V.data.action==="audioSegmentTimingInfo"&&d(V.data.audioSegmentTimingInfo),V.data.action==="id3Frame"&&h([V.data.id3Frame],V.data.id3Frame.dispatchType),V.data.action==="caption"&&f(V.data.caption),V.data.action==="endedtimeline"&&(D=!1,y()),V.data.action==="log"&&C(V.data.log),V.data.type==="transmuxed"&&(D||(e.onmessage=null,iG({transmuxedData:M,callback:g}),MD(e))))},F=()=>{const V={message:"Received an error message from the transmuxer worker",metadata:{errorType:ae.Error.StreamingFailedToTransmuxSegment,segmentInfo:au({segment:A})}};g(null,V)};if(e.onmessage=B,e.onerror=F,i&&e.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(n)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:n}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),r.byteLength){const V=r instanceof ArrayBuffer?r:r.buffer,O=r instanceof ArrayBuffer?0:r.byteOffset;T({type:"segmenttransmuxingstart",segment:A}),e.postMessage({action:"push",data:V,byteOffset:O,byteLength:r.byteLength},[V])}S&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},MD=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():AD(t.currentTransmux))},h_=(t,e)=>{t.postMessage({action:e}),MD(t)},DD=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,h_(e,t);return}e.transmuxQueue.push(h_.bind(null,e,t))},sG=t=>{DD("reset",t)},aG=t=>{DD("endTimeline",t)},LD=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,AD(t);return}t.transmuxer.transmuxQueue.push(t)},oG=t=>{const e=new tG;e.currentTransmux=null,e.transmuxQueue=[];const r=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,r.call(e)),e.postMessage({action:"init",options:t}),e};var W4={reset:sG,endTimeline:aG,transmux:LD,createTransmuxer:oG};const xh=function(t){const e=t.transmuxer,r=t.endAction||t.action,i=t.callback,n=Br({},t,{endAction:null,transmuxer:null,callback:null}),s=a=>{a.data.action===r&&(e.removeEventListener("message",s),a.data.data&&(a.data.data=new Uint8Array(a.data.data,t.byteOffset||0,t.byteLength||a.data.data.byteLength),t.data&&(t.data=a.data.data)),i(a.data))};if(e.addEventListener("message",s),t.data){const a=t.data instanceof ArrayBuffer;n.byteOffset=a?0:t.data.byteOffset,n.byteLength=t.data.byteLength;const o=[a?t.data:t.data.buffer];e.postMessage(n,o)}else e.postMessage(n)},Qs={FAILURE:2,TIMEOUT:-101,ABORTED:-102},p5=t=>{t.forEach(e=>{e.abort()})},lG=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),uG=t=>{const e=t.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return i.bytesReceived=t.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i},Kb=(t,e)=>{const{requestType:r}=e,i=Cu({requestType:r,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Qs.TIMEOUT,xhr:e,metadata:i}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Qs.ABORTED,xhr:e,metadata:i}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Qs.FAILURE,xhr:e,metadata:i}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:Qs.FAILURE,xhr:e,metadata:i}:null},p_=(t,e,r,i)=>(n,s)=>{const a=s.response,o=Kb(n,s);if(o)return r(o,t);if(a.byteLength!==16)return r({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:Qs.FAILURE,xhr:s},t);const l=new DataView(a),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let d=0;d<e.length;d++)e[d].bytes=u;const c={uri:s.uri};return i({type:"segmentkeyloadcomplete",segment:t,keyInfo:c}),r(null,t)},BD=(t,e)=>{const r=db(t.map.bytes);if(r!=="mp4"){const i=t.map.resolvedUri||t.map.uri,n=r||"unknown";return e({internal:!0,message:`Found unsupported ${n} container for initialization segment at URL: ${i}`,code:Qs.FAILURE,metadata:{mediaType:n}})}xh({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:i,data:n})=>(t.map.bytes=n,i.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale))}),e(null))})},cG=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:r})=>(i,n)=>{const s=Kb(i,n);if(s)return e(s,t);const a=new Uint8Array(n.response);if(r({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=a,e(null,t);t.map.bytes=a,BD(t,function(o){if(o)return o.xhr=n,o.status=n.status,e(o,t);e(null,t)})},dG=({segment:t,finishProcessingFn:e,responseType:r,triggerSegmentEventFn:i})=>(n,s)=>{const a=Kb(n,s);if(a)return e(a,t);i({type:"segmentloaded",segment:t});const o=r==="arraybuffer"||!s.responseText?s.response:JW(s.responseText.substring(t.lastReachedChar||0));return t.stats=lG(s),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),e(null,t)},hG=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})=>{const g=t.map&&t.map.tracks||{},y=!!(g.audio&&g.video);let C=i.bind(null,t,"audio","start");const S=i.bind(null,t,"audio","end");let A=i.bind(null,t,"video","start");const T=i.bind(null,t,"video","end"),M=()=>LD({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:y,onData:D=>{D.type=D.type==="combined"?"video":D.type,c(t,D)},onTrackInfo:D=>{r&&(y&&(D.isMuxed=!0),r(t,D))},onAudioTimingInfo:D=>{C&&typeof D.start<"u"&&(C(D.start),C=null),S&&typeof D.end<"u"&&S(D.end)},onVideoTimingInfo:D=>{A&&typeof D.start<"u"&&(A(D.start),A=null),T&&typeof D.end<"u"&&T(D.end)},onVideoSegmentTimingInfo:D=>{const B={pts:{start:D.start.presentation,end:D.end.presentation},dts:{start:D.start.decode,end:D.end.decode}};f({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:B}),n(D)},onAudioSegmentTimingInfo:D=>{const B={pts:{start:D.start.pts,end:D.end.pts},dts:{start:D.start.dts,end:D.end.dts}};f({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:B}),s(D)},onId3:(D,B)=>{a(t,D,B)},onCaptions:D=>{o(t,[D])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:h,onDone:(D,B)=>{d&&(D.type=D.type==="combined"?"video":D.type,f({type:"segmenttransmuxingcomplete",segment:t}),d(B,t,D))},segment:t,triggerSegmentEventFn:f});xh({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:D=>{t.bytes=e=D.data;const B=D.result;B&&(r(t,{hasAudio:B.hasAudio,hasVideo:B.hasVideo,isMuxed:y}),r=null),M()}})},PD=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})=>{let g=new Uint8Array(e);if(OH(g)){t.isFmp4=!0;const{tracks:y}=t.map,C={isFmp4:!0,hasVideo:!!y.video,hasAudio:!!y.audio};y.audio&&y.audio.codec&&y.audio.codec!=="enca"&&(C.audioCodec=y.audio.codec),y.video&&y.video.codec&&y.video.codec!=="encv"&&(C.videoCodec=y.video.codec),y.video&&y.audio&&(C.isMuxed=!0),r(t,C);const S=(A,T)=>{c(t,{data:g,type:C.hasAudio&&!C.isMuxed?"audio":"video"}),T&&T.length&&a(t,T),A&&A.length&&o(t,A),d(null,t,{})};xh({action:"probeMp4StartTime",timescales:t.map.timescales,data:g,transmuxer:t.transmuxer,callback:({data:A,startTime:T})=>{e=A.buffer,t.bytes=g=A,C.hasAudio&&!C.isMuxed&&i(t,"audio","start",T),C.hasVideo&&i(t,"video","start",T),xh({action:"probeEmsgID3",data:g,transmuxer:t.transmuxer,offset:T,callback:({emsgData:M,id3Frames:D})=>{if(e=M.buffer,t.bytes=g=M,!y.video||!M.byteLength||!t.transmuxer){S(void 0,D);return}xh({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:g,timescales:t.map.timescales,trackIds:[y.video.id],callback:B=>{e=B.data.buffer,t.bytes=g=B.data,B.logs.forEach(function(F){h(er(F,{stream:"mp4CaptionParser"}))}),S(B.captions,D)}})}})}});return}if(!t.transmuxer){d(null,t,{});return}if(typeof t.container>"u"&&(t.container=db(g)),t.container!=="ts"&&t.container!=="aac"){r(t,{hasAudio:!1,hasVideo:!1}),d(null,t,{});return}hG({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})},ID=function({id:t,key:e,encryptedBytes:r,decryptionWorker:i,segment:n,doneFn:s},a){const o=u=>{if(u.data.source===t){i.removeEventListener("message",o);const c=u.data.decrypted;a(new Uint8Array(c.bytes,c.byteOffset,c.byteLength))}};i.onerror=()=>{const u="An error occurred in the decryption worker",c=au({segment:n}),d={message:u,metadata:{error:new Error(u),errorType:ae.Error.StreamingFailedToDecryptSegment,segmentInfo:c,keyInfo:{uri:n.key.resolvedUri||n.map.key.resolvedUri}}};s(d,n)},i.addEventListener("message",o);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),i.postMessage(bD({source:t,encrypted:r,key:l,iv:e.iv}),[r.buffer,l.buffer])},pG=({decryptionWorker:t,segment:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})=>{f({type:"segmentdecryptionstart"}),ID({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:d},g=>{e.bytes=g,f({type:"segmentdecryptioncomplete",segment:e}),PD({segment:e,bytes:e.bytes,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})})},fG=({activeXhrs:t,decryptionWorker:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})=>{let g=0,y=!1;return(C,S)=>{if(!y){if(C)return y=!0,p5(t),d(C,S);if(g+=1,g===t.length){const A=function(){if(S.encryptedBytes)return pG({decryptionWorker:e,segment:S,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f});PD({segment:S,bytes:S.bytes,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})};if(S.endOfAllRequests=Date.now(),S.map&&S.map.encryptedBytes&&!S.map.bytes)return f({type:"segmentdecryptionstart",segment:S}),ID({decryptionWorker:e,id:S.requestId+"-init",encryptedBytes:S.map.encryptedBytes,key:S.map.key,segment:S,doneFn:d},T=>{S.map.bytes=T,f({type:"segmentdecryptioncomplete",segment:S}),BD(S,M=>{if(M)return p5(t),d(M,S);A()})});A()}}}},mG=({loadendState:t,abortFn:e})=>r=>{r.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},gG=({segment:t,progressFn:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c})=>d=>{if(!d.target.aborted)return t.stats=er(t.stats,uG(d)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(d,t)},yG=({xhr:t,xhrOptions:e,decryptionWorker:r,segment:i,abortFn:n,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:f,dataFn:g,doneFn:y,onTransmuxerLog:C,triggerSegmentEventFn:S})=>{const A=[],T=fG({activeXhrs:A,decryptionWorker:r,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:f,dataFn:g,doneFn:y,onTransmuxerLog:C,triggerSegmentEventFn:S});if(i.key&&!i.key.bytes){const V=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&V.push(i.map.key);const O=er(e,{uri:i.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),U=p_(i,V,T,S),J={uri:i.key.resolvedUri};S({type:"segmentkeyloadstart",segment:i,keyInfo:J});const Y=t(O,U);A.push(Y)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){const Y=er(e,{uri:i.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),re=p_(i,[i.map.key],T,S),ce={uri:i.map.key.resolvedUri};S({type:"segmentkeyloadstart",segment:i,keyInfo:ce});const qe=t(Y,re);A.push(qe)}const O=er(e,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:d5(i.map),requestType:"segment-media-initialization"}),U=cG({segment:i,finishProcessingFn:T,triggerSegmentEventFn:S});S({type:"segmentloadstart",segment:i});const J=t(O,U);A.push(J)}const M=er(e,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:d5(i),requestType:"segment"}),D=dG({segment:i,finishProcessingFn:T,responseType:M.responseType,triggerSegmentEventFn:S});S({type:"segmentloadstart",segment:i});const B=t(M,D);B.addEventListener("progress",gG({segment:i,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:f,dataFn:g})),A.push(B);const F={};return A.forEach(V=>{V.addEventListener("loadend",mG({loadendState:F,abortFn:n}))}),()=>p5(A)},vG=ls("CodecUtils"),bG=function(t){const e=t.attributes||{};if(e.CODECS)return Vs(e.CODECS)},RD=(t,e)=>{const r=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&r.AUDIO&&t.mediaGroups.AUDIO[r.AUDIO]},xG=(t,e)=>{if(!RD(t,e))return!0;const r=e.attributes||{},i=t.mediaGroups.AUDIO[r.AUDIO];for(const n in i)if(!i[n].uri&&!i[n].playlists)return!0;return!1},X1=function(t){const e={};return t.forEach(({mediaType:r,type:i,details:n})=>{e[r]=e[r]||[],e[r].push(jE(`${i}${n}`))}),Object.keys(e).forEach(function(r){if(e[r].length>1){vG(`multiple ${r} codecs found as attributes: ${e[r].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[r]=null;return}e[r]=e[r][0]}),e},f_=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},_h=function(t,e){const r=e.attributes||{},i=X1(bG(e)||[]);if(RD(t,e)&&!i.audio&&!xG(t,e)){const n=X1(Oj(t,r.AUDIO)||[]);n.audio&&(i.audio=n.audio)}return i},kf=ls("PlaylistSelector"),m_=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},Y1=function(t,e){if(!t)return"";const r=H.getComputedStyle(t);return r?r[e]:""},Qc=function(t,e){const r=t.slice();t.sort(function(i,n){const s=e(i,n);return s===0?r.indexOf(i)-r.indexOf(n):s})},Wb=function(t,e){let r,i;return t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||H.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||H.Number.MAX_VALUE,r-i},_G=function(t,e){let r,i;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||H.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||H.Number.MAX_VALUE,r===i&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:r-i};let OD=function(t,e,r,i,n,s){if(!t)return;const a={bandwidth:e,width:r,height:i,limitRenditionByPlayerDimensions:n};let o=t.playlists;hn.isAudioOnly(t)&&(o=s.getAudioTrackPlaylists_(),a.audioOnly=!0);let l=o.map(D=>{let B;const F=D.attributes&&D.attributes.RESOLUTION&&D.attributes.RESOLUTION.width,V=D.attributes&&D.attributes.RESOLUTION&&D.attributes.RESOLUTION.height;return B=D.attributes&&D.attributes.BANDWIDTH,B=B||H.Number.MAX_VALUE,{bandwidth:B,width:F,height:V,playlist:D}});Qc(l,(D,B)=>D.bandwidth-B.bandwidth),l=l.filter(D=>!hn.isIncompatible(D.playlist));let u=l.filter(D=>hn.isEnabled(D.playlist));u.length||(u=l.filter(D=>!hn.isDisabled(D.playlist)));const c=u.filter(D=>D.bandwidth*ci.BANDWIDTH_VARIANCE<e);let d=c[c.length-1];const h=c.filter(D=>D.bandwidth===d.bandwidth)[0];if(n===!1){const D=h||u[0]||l[0];if(D&&D.playlist){let B="sortedPlaylistReps";return h&&(B="bandwidthBestRep"),u[0]&&(B="enabledPlaylistReps"),kf(`choosing ${m_(D)} using ${B} with options`,a),D.playlist}return kf("could not choose a playlist with options",a),null}const f=c.filter(D=>D.width&&D.height);Qc(f,(D,B)=>D.width-B.width);const g=f.filter(D=>D.width===r&&D.height===i);d=g[g.length-1];const y=g.filter(D=>D.bandwidth===d.bandwidth)[0];let C,S,A;y||(C=f.filter(D=>D.width>r||D.height>i),S=C.filter(D=>D.width===C[0].width&&D.height===C[0].height),d=S[S.length-1],A=S.filter(D=>D.bandwidth===d.bandwidth)[0]);let T;if(s.leastPixelDiffSelector){const D=f.map(B=>(B.pixelDiff=Math.abs(B.width-r)+Math.abs(B.height-i),B));Qc(D,(B,F)=>B.pixelDiff===F.pixelDiff?F.bandwidth-B.bandwidth:B.pixelDiff-F.pixelDiff),T=D[0]}const M=T||A||y||h||u[0]||l[0];if(M&&M.playlist){let D="sortedPlaylistReps";return T?D="leastPixelDiffRep":A?D="resolutionPlusOneRep":y?D="resolutionBestRep":h?D="bandwidthBestRep":u[0]&&(D="enabledPlaylistReps"),kf(`choosing ${m_(M)} using ${D} with options`,a),M.playlist}return kf("could not choose a playlist with options",a),null};const g_=function(){let t=this.useDevicePixelRatio&&H.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),OD(this.playlists.main,this.systemBandwidth,parseInt(Y1(this.tech_.el(),"width"),10)*t,parseInt(Y1(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},wG=function(t){let e=-1,r=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let i=this.useDevicePixelRatio&&H.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(i=this.customPixelRatio),e<0&&(e=this.systemBandwidth,r=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==r&&(e=t*this.systemBandwidth+(1-t)*e,r=this.systemBandwidth),OD(this.playlists.main,e,parseInt(Y1(this.tech_.el(),"width"),10)*i,parseInt(Y1(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions,this.playlistController_)}},SG=function(t){const{main:e,currentTime:r,bandwidth:i,duration:n,segmentDuration:s,timeUntilRebuffer:a,currentTimeline:o,syncController:l}=t,u=e.playlists.filter(g=>!hn.isIncompatible(g));let c=u.filter(hn.isEnabled);c.length||(c=u.filter(g=>!hn.isDisabled(g)));const h=c.filter(hn.hasAttribute.bind(null,"BANDWIDTH")).map(g=>{const C=l.getSyncPoint(g,n,o,r)?1:2,A=hn.estimateSegmentRequestTime(s,i,g)*C-a;return{playlist:g,rebufferingImpact:A}}),f=h.filter(g=>g.rebufferingImpact<=0);return Qc(f,(g,y)=>Wb(y.playlist,g.playlist)),f.length?f[0]:(Qc(h,(g,y)=>g.rebufferingImpact-y.rebufferingImpact),h[0]||null)},CG=function(){const t=this.playlists.main.playlists.filter(hn.isEnabled);return Qc(t,(r,i)=>Wb(r,i)),t.filter(r=>!!_h(this.playlists.main,r).video)[0]||null},kG=t=>{let e=0,r;return t.bytes&&(r=new Uint8Array(t.bytes),t.segments.forEach(i=>{r.set(i,e),e+=i.byteLength})),r};function FD(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const TG=function(t,e,r){if(!t[r]){e.trigger({type:"usage",name:"vhs-608"});let i=r;/^cc708_/.test(r)&&(i="SERVICE"+r.split("_")[1]);const n=e.textTracks().getTrackById(i);if(n)t[r]=n;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=r,o=r,l=!1;const u=s[i];u&&(a=u.label,o=u.language,l=u.default),t[r]=e.addRemoteTextTrack({kind:"captions",id:i,default:l,label:a,language:o},!1).track}}},EG=function({inbandTextTracks:t,captionArray:e,timestampOffset:r}){if(!e)return;const i=H.WebKitDataCue||H.VTTCue;e.forEach(n=>{const s=n.stream;n.content?n.content.forEach(a=>{const o=new i(n.startTime+r,n.endTime+r,a.text);o.line=a.line,o.align="left",o.position=a.position,o.positionAlign="line-left",t[s].addCue(o)}):t[s].addCue(new i(n.startTime+r,n.endTime+r,n.text))})},AG=function(t){Object.defineProperties(t.frame,{id:{get(){return ae.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return ae.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return ae.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},MG=({inbandTextTracks:t,metadataArray:e,timestampOffset:r,videoDuration:i})=>{if(!e)return;const n=H.WebKitDataCue||H.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(c=>{const d=c.cueTime+r;typeof d!="number"||H.isNaN(d)||d<0||!(d<1/0)||!c.frames||!c.frames.length||c.frames.forEach(h=>{const f=new n(d,d,h.value||h.url||h.data||"");f.frame=h,f.value=h,AG(f),s.addCue(f)})}),!s.cues||!s.cues.length))return;const a=s.cues,o=[];for(let c=0;c<a.length;c++)a[c]&&o.push(a[c]);const l=o.reduce((c,d)=>{const h=c[d.startTime]||[];return h.push(d),c[d.startTime]=h,c},{}),u=Object.keys(l).sort((c,d)=>Number(c)-Number(d));u.forEach((c,d)=>{const h=l[c],f=isFinite(i)?i:c,g=Number(u[d+1])||f;h.forEach(y=>{y.endTime=g})})},DG={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},LG=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),BG=({inbandTextTracks:t,dateRanges:e})=>{const r=t.metadataTrack_;if(!r)return;const i=H.WebKitDataCue||H.VTTCue;e.forEach(n=>{for(const s of Object.keys(n)){if(LG.has(s))continue;const a=new i(n.startTime,n.endTime,"");a.id=n.id,a.type="com.apple.quicktime.HLS",a.value={key:DG[s],data:n[s]},(s==="scte35Out"||s==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),r.addCue(a)}n.processDateRange()})},y_=(t,e,r)=>{t.metadataTrack_||(t.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,ae.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},ih=function(t,e,r){let i,n;if(r&&r.cues)for(i=r.cues.length;i--;)n=r.cues[i],n.startTime>=t&&n.endTime<=e&&r.removeCue(n)},PG=function(t){const e=t.cues;if(!e)return;const r={};for(let i=e.length-1;i>=0;i--){const n=e[i],s=`${n.startTime}-${n.endTime}-${n.text}`;r[s]?t.removeCue(n):r[s]=n}},IG=(t,e,r)=>{if(typeof e>"u"||e===null||!t.length)return[];const i=Math.ceil((e-r+3)*du.ONE_SECOND_IN_TS);let n;for(n=0;n<t.length&&!(t[n].pts>i);n++);return t.slice(n)},RG=(t,e,r)=>{if(!e.length)return t;if(r)return e.slice();const i=e[0].pts;let n=0;for(n;n<t.length&&!(t[n].pts>=i);n++);return t.slice(0,n).concat(e)},OG=(t,e,r,i)=>{const n=Math.ceil((e-i)*du.ONE_SECOND_IN_TS),s=Math.ceil((r-i)*du.ONE_SECOND_IN_TS),a=t.slice();let o=t.length;for(;o--&&!(t[o].pts<=s););if(o===-1)return a;let l=o+1;for(;l--&&!(t[l].pts<=n););return l=Math.max(l,0),a.splice(l,o-l+1),a},FG=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const r=Object.keys(t).sort(),i=Object.keys(e).sort();if(r.length!==i.length)return!1;for(let n=0;n<r.length;n++){const s=r[n];if(s!==i[n]||t[s]!==e[s])return!1}return!0},NG=function(t,e,r){e=e||[];const i=[];let n=0;for(let s=0;s<e.length;s++){const a=e[s];if(t===a.timeline&&(i.push(s),n+=a.duration,n>r))return s}return i.length===0?0:i[i.length-1]},wd=1,$G=500,v_=t=>typeof t=="number"&&isFinite(t),Tf=1/60,zG=(t,e,r)=>t!=="main"||!e||!r?null:!r.hasAudio&&!r.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!r.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&r.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,UG=(t,e,r)=>{let i=e-ci.BACK_BUFFER_LENGTH;t.length&&(i=Math.max(i,t.start(0)));const n=e-r;return Math.min(n,i)},oc=t=>{const{startOfSegment:e,duration:r,segment:i,part:n,playlist:{mediaSequence:s,id:a,segments:o=[]},mediaIndex:l,partIndex:u,timeline:c}=t,d=o.length-1;let h="mediaIndex/partIndex increment";t.getMediaInfoForTime?h=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(h+=` with independent ${t.independent}`);const f=typeof u=="number",g=t.segment.uri?"segment":"pre-segment",y=f?iD({preloadSegment:i})-1:0;return`${g} [${s+l}/${s+d}]`+(f?` part [${u}/${y}]`:"")+` segment start/end [${i.start} => ${i.end}]`+(f?` part start/end [${n.start} => ${n.end}]`:"")+` startOfSegment [${e}] duration [${r}] timeline [${c}] selected by [${h}] playlist [${a}]`},b_=t=>`${t}TimingInfo`,qG=({segmentTimeline:t,currentTimeline:e,startOfSegment:r,buffered:i,overrideCheck:n})=>!n&&t===e?null:t<e?r:i.length?i.end(i.length-1):r,f5=({timelineChangeController:t,currentTimeline:e,segmentTimeline:r,loaderType:i,audioDisabled:n})=>{if(e===r)return!1;if(i==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==r}if(i==="main"&&n){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===r)}return!1},jG=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),r=t.pendingTimelineChange({type:"main"}),i=e&&r,n=i&&e.to!==r.to;return!!(i&&e.from!==-1&&r.from!==-1&&n)},VG=t=>{t&&(t.pause(),t.resetEverything(),t.load())},HG=t=>{const e=t.timelineChangeController_.pendingTimelineChange({type:"audio"}),r=t.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&r&&e.to<r.to},Co=t=>{const e=t.pendingSegment_;if(!e)return;if(f5({timelineChangeController:t.timelineChangeController_,currentTimeline:t.currentTimeline_,segmentTimeline:e.timeline,loaderType:t.loaderType_,audioDisabled:t.audioDisabled_})&&jG(t.timelineChangeController_)){if(t.sourceType_==="dash"&&HG(t)){t.timelineChangeController_.trigger("audioTimelineBehind");return}VG(t)}},KG=t=>{let e=0;return["video","audio"].forEach(function(r){const i=t[`${r}TimingInfo`];if(!i)return;const{start:n,end:s}=i;let a;typeof n=="bigint"||typeof s=="bigint"?a=H.BigInt(s)-H.BigInt(n):typeof n=="number"&&typeof s=="number"&&(a=s-n),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},x_=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+Zs:!1,WG=(t,e)=>{if(e!=="hls")return null;const r=KG({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!r)return null;const i=t.playlist.targetDuration,n=x_({segmentDuration:r,maxDuration:i*2}),s=x_({segmentDuration:r,maxDuration:i}),a=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${r} when the reported duration is ${t.duration} and the target duration is ${i}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return n||s?{severity:n?"warn":"info",message:a}:null},au=({type:t,segment:e})=>{if(!e)return;const r=!!(e.key||e.map&&e.map.ke),i=!!(e.map&&!e.map.bytes),n=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:n,duration:e.duration,isEncrypted:r,isMediaInitialization:i}};class m5 extends ae.EventTarget{constructor(e,r={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=ls(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(i){i!==this.state_&&(this.logger_(`${this.state_} -> ${i}`),this.state_=i,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Co(this)}),this.sourceUpdater_.on("codecschange",i=>{this.trigger(Br({type:"codecschange"},i))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Co(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",i=>{this.trigger(Br({type:"timelinechange"},i)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():Co(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Co(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return W4.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&H.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,H.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&W4.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return _i();if(this.loaderType_==="main"){const{hasAudio:r,hasVideo:i,isMuxed:n}=e;if(i&&r&&!this.audioDisabled_&&!n)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,r=!1){if(!e)return null;const i=G1(e);let n=this.initSegments_[i];return r&&!n&&e.bytes&&(this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),n||e}segmentKey(e,r=!1){if(!e)return null;const i=xD(e);let n=this.keyCache_[i];this.cacheEncryptionKeys_&&r&&!n&&e.bytes&&(this.keyCache_[i]=n={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(n||e).resolvedUri};return n&&(s.bytes=n.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,r={}){if(!e)return;const i=this.playlist_,n=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=r,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(i&&(i.id?s=i.id:i.uri&&(s=i.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${H4(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-i.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}n&&(n.mediaIndex-=a,n.mediaIndex<0?(n.mediaIndex=null,n.partIndex=null):(n.mediaIndex>=0&&(n.segment=e.segments[n.mediaIndex]),n.partIndex>=0&&n.segment.parts&&(n.part=n.segment.parts[n.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,e)}pause(){this.checkBufferTimeout_&&(H.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&W4.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,r,i=()=>{},n=!1){if(r===1/0&&(r=this.duration_()),r<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const a=()=>{s--,s===0&&i()};(n||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,r,a)),(n||this.loaderType_==="main")&&(this.gopBuffer_=OG(this.gopBuffer_,e,r,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,r,a));for(const o in this.inbandTextTracks_)ih(e,r,this.inbandTextTracks_[o]);ih(e,r,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&H.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=H.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&H.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=H.setTimeout(this.monitorBufferTick_.bind(this),$G)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const r={segmentInfo:au({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:r}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,r=this.playlist_,i=this.partIndex){if(!r||!this.mediaSource_)return!1;const n=typeof e=="number"&&r.segments[e],s=e+1===r.segments.length,a=!n||!n.parts||i+1===n.parts.length;return r.endList&&this.mediaSource_.readyState==="open"&&s&&a}chooseNextRequest_(){const e=this.buffered_(),r=H4(e)||0,i=qb(e,this.currentTime_()),n=!this.hasPlayed_()&&i>=1,s=i>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||n||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=NG(this.currentTimeline_,a,r),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${o.mediaIndex}`);else if(this.mediaIndex!==null){const h=a[this.mediaIndex],f=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=h.end?h.end:r,h.parts&&h.parts[f+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=f+1):o.mediaIndex=this.mediaIndex+1}else{let h,f,g;const y=this.fetchAtBuffer_?r:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${y}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${r}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const C=this.getSyncInfoFromMediaSequenceSync_(y);if(!C){const S="No sync info found while using media sequence sync";return this.error({message:S,metadata:{errorType:ae.Error.StreamingFailedToSelectNextSegment,error:new Error(S)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${C.start} --> ${C.end})`),h=C.segmentIndex,f=C.partIndex,g=C.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const C=hn.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:y,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});h=C.segmentIndex,f=C.partIndex,g=C.startTime}o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${y}`:`currentTime ${y}`,o.mediaIndex=h,o.startOfSegment=g,o.partIndex=f,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${o.mediaIndex} `)}const l=a[o.mediaIndex];let u=l&&typeof o.partIndex=="number"&&l.parts&&l.parts[o.partIndex];if(!l||typeof o.partIndex=="number"&&!u)return null;typeof o.partIndex!="number"&&l.parts&&(o.partIndex=0,u=l.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!i&&u&&!c&&!u.independent)if(o.partIndex===0){const h=a[o.mediaIndex-1],f=h.parts&&h.parts.length&&h.parts[h.parts.length-1];f&&f.independent&&(o.mediaIndex-=1,o.partIndex=h.parts.length-1,o.independent="previous segment")}else l.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const d=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=a.length-1&&d&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,o.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(o))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const r=Math.max(e,this.mediaSequenceSync_.start);e!==r&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${r}`);const i=this.mediaSequenceSync_.getSyncInfoForTime(r);if(!i)return null;if(!i.isAppended)return i;const n=this.mediaSequenceSync_.getSyncInfoForTime(i.end);return n?(n.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),n):null}generateSegmentInfo_(e){const{independent:r,playlist:i,mediaIndex:n,startOfSegment:s,isSyncRequest:a,partIndex:o,forceTimestampOffset:l,getMediaInfoForTime:u}=e,c=i.segments[n],d=typeof o=="number"&&c.parts[o],h={requestId:"segment-loader-"+Math.random(),uri:d&&d.resolvedUri||c.resolvedUri,mediaIndex:n,partIndex:d?o:null,isSyncRequest:a,startOfSegment:s,playlist:i,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:d&&d.duration||c.duration,segment:c,part:d,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:r},f=typeof l<"u"?l:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:f});const g=H4(this.sourceUpdater_.audioBuffered());return typeof g=="number"&&(h.audioAppendStart=g-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=IG(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return qG(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const r=this.currentTime_(),i=e.bandwidth,n=this.pendingSegment_.duration,s=hn.estimateSegmentRequestTime(n,i,this.playlist_,e.bytesReceived),a=dW(this.buffered_(),r,this.vhs_.tech_.playbackRate())-1;if(s<=a)return;const o=SG({main:this.vhs_.playlists.main,currentTime:r,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const u=s-a-o.rebufferingImpact;let c=.5;a<=Zs&&(c=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||u<c)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*ci.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${oc(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,r){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&this.trigger("progress")}handleTrackInfo_(e,r){const{hasAudio:i,hasVideo:n}=r,s={segmentInfo:au({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:i,hasVideo:n}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:s}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(r)||(r=r||{},FG(this.currentMediaInfo_,r)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=r,this.currentMediaInfo_=r,this.logger_("trackinfo update",r),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=r,this.hasEnoughInfoToAppend_()?this.processCallQueue_():Co(this))))}handleTimingInfo_(e,r,i,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,a=b_(r);s[a]=s[a]||{},s[a][i]=n,this.logger_(`timinginfo: ${r} - ${i} - ${n}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Co(this)}handleCaptions_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(r.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,r));return}const n=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};r.forEach(a=>{s[a.stream]=s[a.stream]||{startTime:1/0,captions:[],endTime:0};const o=s[a.stream];o.startTime=Math.min(o.startTime,a.startTime+n),o.endTime=Math.max(o.endTime,a.endTime+n),o.captions.push(a)}),Object.keys(s).forEach(a=>{const{startTime:o,endTime:l,captions:u}=s[a],c=this.inbandTextTracks_;this.logger_(`adding cues from ${o} -> ${l} for ${a}`),TG(c,this.vhs_.tech_,a),ih(o,l,c[a]),EG({captionArray:u,inbandTextTracks:c,timestampOffset:n})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,r,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,r,i));return}this.addMetadataToTextTrack(i,r,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(r=>r())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(r=>r())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!f5({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,r=this.getCurrentMediaInfo_();if(!e||!r)return!1;const{hasAudio:i,hasVideo:n,isMuxed:s}=r;return!(n&&!e.videoTimingInfo||i&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||f5({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){Co(this),this.callQueue_.push(this.handleData_.bind(this,e,r));return}const i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.part||i.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),i.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),i.isFmp4=e.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[b_(r.type)].start;else{const n=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&n&&n.hasVideo;let a;s&&(a=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:a,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(i,r.type),this.updateSourceBufferTimestampOffset_(i),i.isSyncRequest){this.updateTimingInfoEnd_(i),this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=this.chooseNextRequest_();if(n.mediaIndex!==i.mediaIndex||n.partIndex!==i.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,r)}}updateAppendInitSegmentStatus(e,r){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[r]!==e.playlist&&(this.appendInitSegment_[r]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:r,map:i,playlist:n}){if(i){const s=G1(i);if(this.activeInitSegmentId_===s)return null;r=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=s}return r&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=n,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,r):null}handleQuotaExceededError_({segmentInfo:e,type:r,bytes:i},n){const s=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+hu(s).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+hu(a).join(", "));const o=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,u=a.length?a.start(0):0,c=a.length?a.end(a.length-1):0;if(l-o<=wd&&c-u<=wd){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${i.byteLength}, audio buffer: ${hu(s).join(", ")}, video buffer: ${hu(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:r,bytes:i}));const h=this.currentTime_()-wd;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${h}`),this.remove(0,h,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${wd}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=H.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},wd*1e3)},!0)}handleAppendError_({segmentInfo:e,type:r,bytes:i},n){if(n){if(n.code===fD){this.handleQuotaExceededError_({segmentInfo:e,type:r,bytes:i});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",n),this.error({message:`${r} append of ${i.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:ae.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:i,data:n,bytes:s}){if(!s){const o=[n];let l=n.byteLength;i&&(o.unshift(i),l+=i.byteLength),s=kG({bytes:l,segments:o})}const a={segmentInfo:au({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:r,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:r,bytes:s}))}handleSegmentTimingInfo_(e,r,i){if(!this.pendingSegment_||r!==this.pendingSegment_.requestId)return;const n=this.pendingSegment_.segment,s=`${e}TimingInfo`;n[s]||(n[s]={}),n[s].transmuxerPrependedSeconds=i.prependedContentDuration||0,n[s].transmuxedPresentationStart=i.start.presentation,n[s].transmuxedDecodeStart=i.start.decode,n[s].transmuxedPresentationEnd=i.end.presentation,n[s].transmuxedDecodeEnd=i.end.decode,n[s].baseMediaDecodeTime=i.baseMediaDecodeTime}appendData_(e,r){const{type:i,data:n}=r;if(!n||!n.byteLength||i==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:i,initSegment:r.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:s,data:n})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){Co(this),this.loadQueue_.push(()=>{const r=Br({},e,{forceTimestampOffset:!0});Br(e,this.generateSegmentInfo_(r)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const r=this.createSimplifiedSegmentObj_(e),i=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),n=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,a=i||n&&s;this.logger_(`Requesting
${FD(e.uri)}
${oc(e)}`),r.map&&!r.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=yG({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:r,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:l,stream:u})=>{this.logger_(`${oc(e)} logged from transmuxer stream ${u} as a ${l}: ${o}`)},triggerSegmentEventFn:({type:o,segment:l,keyInfo:u,trackInfo:c,timingInfo:d})=>{const f={segmentInfo:au({segment:l})};u&&(f.keyInfo=u),c&&(f.trackInfo=c),d&&(f.timingInfo=d),this.trigger({type:o,metadata:f})}})}trimBackBuffer_(e){const r=UG(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);r>0&&this.remove(0,r)}createSimplifiedSegmentObj_(e){const r=e.segment,i=e.part,n=e.segment.key||e.segment.map&&e.segment.map.key,s=e.segment.map&&!e.segment.map.bytes,a={resolvedUri:i?i.resolvedUri:r.resolvedUri,byterange:i?i.byterange:r.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:n,isMediaInitialization:s},o=e.playlist.segments[e.mediaIndex-1];if(o&&o.timeline===r.timeline&&(o.videoTimingInfo?a.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(a.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),r.key){const l=r.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(r.key),a.key.iv=l}return r.map&&(a.map=this.initSegmentForMap(r.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,r){if(this.pendingSegment_.byteLength=r.bytesReceived,e<Tf){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${Tf}`);return}const i={bandwidthInfo:{from:this.bandwidth,to:r.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:i}),this.bandwidth=r.bandwidth,this.roundTrip=r.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,r,i){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,r,i));return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_||r.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Qs.ABORTED)return;if(this.pause(),e.code===Qs.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,r.stats),n.endOfAllRequests=r.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=RG(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(n)}setTimeMapping_(e){const r=this.syncController_.mappingForTimeline(e);r!==null&&(this.timeMapping_=r)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:r,mediaIndex:i,firstVideoFrameTimeForData:n,currentVideoTimestampOffset:s,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:l}){if(typeof e<"u")return e;if(!a)return l.start;const u=r.segments[i-1];return i===0||!u||typeof u.start>"u"||u.end!==n+s?n:o.start}waitForAppendsToComplete_(e){const r=this.getCurrentMediaInfo_(e);if(!r){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:i,hasVideo:n,isMuxed:s}=r,a=this.loaderType_==="main"&&n,o=!this.audioDisabled_&&i&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const r=zG(this.loaderType_,this.getCurrentMediaInfo_(),e);return r?(this.error({message:r,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let r=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),r=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),r=!0),r&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:r,timingInfo:i}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:r&&typeof r.transmuxedDecodeStart=="number"?r.transmuxedDecodeStart:i.start:i.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const r=this.getMediaInfo_(),n=this.loaderType_==="main"&&r&&r.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end=typeof n.end=="number"?n.end:n.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const l={segmentInfo:au({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=WG(e,this.sourceType_);if(r&&(r.severity==="warn"?ae.log.warn(r.message):this.logger_(r.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${oc(e)}`);return}this.logger_(`Appended ${oc(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const i=e.segment,n=e.part,s=i.end&&this.currentTime_()-i.end>e.playlist.targetDuration*3,a=n&&n.end&&this.currentTime_()-n.end>e.playlist.partTargetDuration*3;if(s||a){this.logger_(`bad ${s?"segment":"part"} ${oc(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Tf){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${Tf}`);return}const r=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(n-r)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const r=e.segment,i=r.start,n=r.end;if(!v_(i)||!v_(n))return;ih(i,n,this.segmentMetadataTrack_);const s=H.WebKitDataCue||H.VTTCue,a={custom:r.custom,dateTimeObject:r.dateTimeObject,dateTimeString:r.dateTimeString,programDateTime:r.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:n},o=JSON.stringify(a),l=new s(i,n,o);l.value=a,this.segmentMetadataTrack_.addCue(l)}}function za(){}const ND=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},GG=["video","audio"],g5=(t,e)=>{const r=e[`${t}Buffer`];return r&&r.updating||e.queuePending[t]},XG=(t,e)=>{for(let r=0;r<e.length;r++){const i=e[r];if(i.type==="mediaSource")return null;if(i.type===t)return r}return null},e0=(t,e)=>{if(e.queue.length===0)return;let r=0,i=e.queue[r];if(i.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),i.action(e),i.doneFn&&i.doneFn(),e0("audio",e),e0("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||g5(t,e))){if(i.type!==t){if(r=XG(t,e.queue),r===null)return;i=e.queue[r]}if(e.queue.splice(r,1),e.queuePending[t]=i,i.action(t,e),!i.doneFn){e.queuePending[t]=null,e0(t,e);return}}},$D=(t,e)=>{const r=e[`${t}Buffer`],i=ND(t);r&&(r.removeEventListener("updateend",e[`on${i}UpdateEnd_`]),r.removeEventListener("error",e[`on${i}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},Ks=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,wn={appendBuffer:(t,e,r)=>(i,n)=>{const s=n[`${i}Buffer`];if(Ks(n.mediaSource,s)){n.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${i}Buffer`);try{s.appendBuffer(t)}catch(a){n.logger_(`Error with code ${a.code} `+(a.code===fD?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${i}Buffer`),n.queuePending[i]=null,r(a)}}},remove:(t,e)=>(r,i)=>{const n=i[`${r}Buffer`];if(Ks(i.mediaSource,n)){i.logger_(`Removing ${t} to ${e} from ${r}Buffer`);try{n.remove(t,e)}catch{i.logger_(`Remove ${t} to ${e} from ${r}Buffer failed`)}}},timestampOffset:t=>(e,r)=>{const i=r[`${e}Buffer`];Ks(r.mediaSource,i)&&(r.logger_(`Setting ${e}timestampOffset to ${t}`),i.timestampOffset=t)},callback:t=>(e,r)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(r){ae.log.warn("Failed to call media source endOfStream",r)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(r){ae.log.warn("Failed to set media source duration",r)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const r=e[`${t}Buffer`];if(Ks(e.mediaSource,r)){e.logger_(`calling abort on ${t}Buffer`);try{r.abort()}catch(i){ae.log.warn(`Failed to abort on ${t}Buffer`,i)}}},addSourceBuffer:(t,e)=>r=>{const i=ND(t),n=Uh(e);r.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const s=r.mediaSource.addSourceBuffer(n);s.addEventListener("updateend",r[`on${i}UpdateEnd_`]),s.addEventListener("error",r[`on${i}Error_`]),r.codecs[t]=e,r[`${t}Buffer`]=s},removeSourceBuffer:t=>e=>{const r=e[`${t}Buffer`];if($D(t,e),!!Ks(e.mediaSource,r)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(r)}catch(i){ae.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,i)}}},changeType:t=>(e,r)=>{const i=r[`${e}Buffer`],n=Uh(t);if(!Ks(r.mediaSource,i))return;const s=t.substring(0,t.indexOf(".")),a=r.codecs[e];if(a.substring(0,a.indexOf("."))===s)return;const l={codecsChangeInfo:{from:a,to:t}};r.trigger({type:"codecschange",metadata:l}),r.logger_(`changing ${e}Buffer codec from ${a} to ${t}`);try{i.changeType(n),r.codecs[e]=t}catch(u){l.errorType=ae.Error.StreamingCodecsChangeError,l.error=u,u.metadata=l,r.error_=u,r.trigger("error"),ae.log.warn(`Failed to changeType on ${e}Buffer`,u)}}},Sn=({type:t,sourceUpdater:e,action:r,doneFn:i,name:n})=>{e.queue.push({type:t,action:r,doneFn:i,name:n}),e0(t,e)},__=(t,e)=>r=>{const i=e[`${t}Buffered`](),n=lW(i);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,n),e.queuePending[t]){const s=e.queuePending[t].doneFn;e.queuePending[t]=null,s&&s(e[`${t}Error_`])}e0(t,e)};class zD extends ae.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>e0("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=ls("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=__("video",this),this.onAudioUpdateEnd_=__("audio",this),this.onVideoError_=r=>{this.videoError_=r},this.onAudioError_=r=>{this.audioError_=r},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,r){Sn({type:"mediaSource",sourceUpdater:this,action:wn.addSourceBuffer(e,r),name:"addSourceBuffer"})}abort(e){Sn({type:e,sourceUpdater:this,action:wn.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){ae.log.error("removeSourceBuffer is not supported!");return}Sn({type:"mediaSource",sourceUpdater:this,action:wn.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!ae.browser.IS_FIREFOX&&H.MediaSource&&H.MediaSource.prototype&&typeof H.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return H.SourceBuffer&&H.SourceBuffer.prototype&&typeof H.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,r){if(!this.canChangeType()){ae.log.error("changeType is not supported!");return}Sn({type:e,sourceUpdater:this,action:wn.changeType(r),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(r=>{const i=e[r];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(r,i);this.canChangeType()&&this.changeType(r,i)})}appendBuffer(e,r){const{segmentInfo:i,type:n,bytes:s}=e;if(this.processedAppend_=!0,n==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,r]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const a=r;if(Sn({type:n,sourceUpdater:this,action:wn.appendBuffer(s,i||{mediaIndex:-1},a),doneFn:r,name:"appendBuffer"}),n==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${o.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,o.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return Ks(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:_i()}videoBuffered(){return Ks(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:_i()}buffered(){const e=Ks(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,r=Ks(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return r&&!e?this.audioBuffered():e&&!r?this.videoBuffered():cW(this.audioBuffered(),this.videoBuffered())}setDuration(e,r=za){Sn({type:"mediaSource",sourceUpdater:this,action:wn.duration(e),name:"duration",doneFn:r})}endOfStream(e=null,r=za){typeof e!="string"&&(e=void 0),Sn({type:"mediaSource",sourceUpdater:this,action:wn.endOfStream(e),name:"endOfStream",doneFn:r})}removeAudio(e,r,i=za){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){i();return}Sn({type:"audio",sourceUpdater:this,action:wn.remove(e,r),doneFn:i,name:"remove"})}removeVideo(e,r,i=za){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){i();return}Sn({type:"video",sourceUpdater:this,action:wn.remove(e,r),doneFn:i,name:"remove"})}updating(){return!!(g5("audio",this)||g5("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Sn({type:"audio",sourceUpdater:this,action:wn.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(Sn({type:"video",sourceUpdater:this,action:wn.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Sn({type:"audio",sourceUpdater:this,action:wn.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Sn({type:"video",sourceUpdater:this,action:wn.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),GG.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>$D(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const w_=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),YG=t=>{const e=new Uint8Array(t);return Array.from(e).map(r=>r.toString(16).padStart(2,"0")).join("")},S_=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class ZG extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class JG extends m5{constructor(e,r={}){super(e,r),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return _i();const e=this.subtitlesTrack_.cues,r=e[0].startTime,i=e[e.length-1].startTime;return _i([[r,i]])}initSegmentForMap(e,r=!1){if(!e)return null;const i=G1(e);let n=this.initSegments_[i];if(r&&!n&&e.bytes){const s=S_.byteLength+e.bytes.byteLength,a=new Uint8Array(s);a.set(e.bytes),a.set(S_,e.bytes.byteLength),this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return n||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,r){ih(e,r,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const r=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",r),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,r,i){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===Qs.TIMEOUT&&this.handleTimeout_(),e.code===Qs.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,r.stats),r.key&&this.segmentKey(r.key,!0),this.state="APPENDING",this.trigger("appending");const s=n.segment;if(s.map&&(s.map.bytes=r.map.bytes),n.bytes=r.bytes,typeof H.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,r,i),()=>this.stopForError({message:"Error loading vtt.js"}));return}s.requested=!0;try{this.parseVTTCues_(n)}catch(a){this.stopForError({message:a.message,metadata:{errorType:ae.Error.StreamingVttParserError,error:a}});return}if(this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.cues.length?n.timingInfo={start:n.cues[0].startTime,end:n.cues[n.cues.length-1].endTime}:n.timingInfo={start:n.startOfSegment,end:n.startOfSegment+n.duration},n.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}n.byteLength=n.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,n.cues.forEach(a=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new H.VTTCue(a.startTime,a.endTime,a.text):a)}),PG(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let r,i=!1;if(typeof H.WebVTT!="function")throw new ZG;typeof H.TextDecoder=="function"?r=new H.TextDecoder("utf8"):(r=H.WebVTT.StringDecoder(),i=!0);const n=new H.WebVTT.Parser(H,H.vttjs,r);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=e.cues.push.bind(e.cues),n.ontimestampmap=a=>{e.timestampmap=a},n.onparsingerror=a=>{ae.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;i&&(a=w_(a)),n.parse(a)}let s=e.bytes;i&&(s=w_(s)),n.parse(s),n.flush()}updateTimeMapping_(e,r,i){const n=e.segment;if(!r)return;if(!e.cues.length){n.empty=!0;return}const{MPEGTS:s,LOCAL:a}=e.timestampmap,l=s/du.ONE_SECOND_IN_TS-a+r.mapping;if(e.cues.forEach(u=>{const c=u.endTime-u.startTime,d=s===0?u.startTime+l:this.handleRollover_(u.startTime+l,r.time);u.startTime=Math.max(d,0),u.endTime=Math.max(d+c,0)}),!i.syncInfo){const u=e.cues[0].startTime,c=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(u,c-n.duration)}}}handleRollover_(e,r){if(r===null)return e;let i=e*du.ONE_SECOND_IN_TS;const n=r*du.ONE_SECOND_IN_TS;let s;for(n<i?s=-8589934592:s=8589934592;Math.abs(i-n)>4294967296;)i+=s;return i/du.ONE_SECOND_IN_TS}}const QG=function(t,e){const r=t.cues;for(let i=0;i<r.length;i++){const n=r[i];if(e>=n.adStartTime&&e<=n.adEndTime)return n}return null},eX=function(t,e,r=0){if(!t.segments)return;let i=r,n;for(let s=0;s<t.segments.length;s++){const a=t.segments[s];if(n||(n=QG(e,i+a.duration/2)),n){if("cueIn"in a){n.endTime=i,n.adEndTime=i,i+=a.duration,n=null;continue}if(i<n.endTime){i+=a.duration;continue}n.endTime+=a.duration}else if("cueOut"in a&&(n=new H.VTTCue(i,i+a.duration,a.cueOut),n.adStartTime=i,n.adEndTime=i+parseFloat(a.cueOut),e.addCue(n)),"cueOutCont"in a){const[o,l]=a.cueOutCont.split("/").map(parseFloat);n=new H.VTTCue(i,i+a.duration,""),n.adStartTime=i-o,n.adEndTime=n.adStartTime+l,e.addCue(n)}i+=a.duration}};class C_{constructor({start:e,end:r,segmentIndex:i,partIndex:n=null,appended:s=!1}){this.start_=e,this.end_=r,this.segmentIndex_=i,this.partIndex_=n,this.appended_=s}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class tX{constructor(e,r=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=r}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class UD{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,r){const{mediaSequence:i,segments:n}=e;if(this.isReliable_=this.isReliablePlaylist_(i,n),!!this.isReliable_)return this.updateStorage_(n,i,this.calculateBaseTime_(i,r))}getSyncInfoForTime(e){for(const{segmentSyncInfo:r,partsSyncInfo:i}of this.storage_.values())if(i.length){for(const n of i)if(n.isInRange(e))return n}else if(r.isInRange(e))return r;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,r,i){const n=new Map;let s=`
`,a=i,o=r;this.start_=a,e.forEach((l,u)=>{const c=this.storage_.get(o),d=a,h=d+l.duration,f=!!(c&&c.segmentSyncInfo&&c.segmentSyncInfo.isAppended),g=new C_({start:d,end:h,appended:f,segmentIndex:u});l.syncInfo=g;let y=a;const C=(l.parts||[]).map((S,A)=>{const T=y,M=y+S.duration,D=!!(c&&c.partsSyncInfo&&c.partsSyncInfo[A]&&c.partsSyncInfo[A].isAppended),B=new C_({start:T,end:M,appended:D,segmentIndex:u,partIndex:A});return y=M,s+=`Media Sequence: ${o}.${A} | Range: ${T} --> ${M} | Appended: ${D}
`,S.syncInfo=B,B});n.set(o,new tX(g,C)),s+=`${FD(l.resolvedUri)} | Media Sequence: ${o} | Range: ${d} --> ${h} | Appended: ${f}
`,o++,a=h}),this.end_=a,this.storage_=n,this.diagnostics_=s}calculateBaseTime_(e,r){return this.storage_.size?this.storage_.has(e)?this.storage_.get(e).segmentSyncInfo.start:r:0}isReliablePlaylist_(e,r){return e!=null&&Array.isArray(r)&&r.length}}class k_ extends UD{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,r){if(!this.storage_.size){const i=this.parent_.getSyncInfoForMediaSequence(e);return i?i.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,r)}}const rX=86400,G4=[{name:"VOD",run:(t,e,r,i,n)=>r!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,r,i,n,s)=>{const a=t.getMediaSequenceSync(s);if(!a||!a.isReliable)return null;const o=a.getSyncInfoForTime(n);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,r,i,n)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,a=null;const o=a5(e);n=n||0;for(let l=0;l<o.length;l++){const u=e.endList||n===0?l:o.length-(l+1),c=o[u],d=c.segment,h=t.timelineToDatetimeMappings[d.timeline];if(!h||!d.dateTimeObject)continue;let g=d.dateTimeObject.getTime()/1e3+h;if(d.parts&&typeof c.partIndex=="number")for(let C=0;C<c.partIndex;C++)g+=d.parts[C].duration;const y=Math.abs(n-g);if(a!==null&&(y===0||a<y))break;a=y,s={time:g,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}return s}},{name:"Segment",run:(t,e,r,i,n)=>{let s=null,a=null;n=n||0;const o=a5(e);for(let l=0;l<o.length;l++){const u=e.endList||n===0?l:o.length-(l+1),c=o[u],d=c.segment,h=c.part&&c.part.start||d&&d.start;if(d.timeline===i&&typeof h<"u"){const f=Math.abs(n-h);if(a!==null&&a<f)break;(!s||a===null||a>=f)&&(a=f,s={time:h,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,r,i,n)=>{let s=null;if(n=n||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let o=0;o<e.discontinuityStarts.length;o++){const l=e.discontinuityStarts[o],u=e.discontinuitySequence+o+1,c=t.discontinuities[u];if(c){const d=Math.abs(n-c.time);if(a!==null&&a<d)break;(!s||a===null||a>=d)&&(a=d,s={time:c.time,segmentIndex:l,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,r,i,n)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class iX extends ae.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const r=new UD,i=new k_(r),n=new k_(r);this.mediaSequenceStorage_={main:r,audio:i,vtt:n},this.logger_=ls("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,r,i,n,s){if(r!==1/0)return G4.find(({name:l})=>l==="VOD").run(this,e,r);const a=this.runStrategies_(e,r,i,n,s);if(!a.length)return null;for(const o of a){const{syncPoint:l,strategy:u}=o,{segmentIndex:c,time:d}=l;if(c<0)continue;const h=e.segments[c],f=d,g=f+h.duration;if(this.logger_(`Strategy: ${u}. Current time: ${n}. selected segment: ${c}. Time: [${f} -> ${g}]}`),n>=f&&n<g)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(a,{key:"time",value:n})}getExpiredTime(e,r){if(!e||!e.segments)return null;const i=this.runStrategies_(e,r,e.discontinuitySequence,0);if(!i.length)return null;const n=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+bh({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:n.segmentIndex,endIndex:0}))}runStrategies_(e,r,i,n,s){const a=[];for(let o=0;o<G4.length;o++){const l=G4[o],u=l.run(this,e,r,i,n,s);u&&(u.strategy=l.name,a.push({strategy:l.name,syncPoint:u}))}return a}selectSyncPoint_(e,r){let i=e[0].syncPoint,n=Math.abs(e[0].syncPoint[r.key]-r.value),s=e[0].strategy;for(let a=1;a<e.length;a++){const o=Math.abs(e[a].syncPoint[r.key]-r.value);o<n&&(n=o,i=e[a].syncPoint,s=e[a].strategy)}return this.logger_(`syncPoint for [${r.key}: ${r.value}] chosen with strategy [${s}]: [time:${i.time}, segmentIndex:${i.segmentIndex}`+(typeof i.partIndex=="number"?`,partIndex:${i.partIndex}`:"")+"]"),i}saveExpiredSegmentInfo(e,r){const i=r.mediaSequence-e.mediaSequence;if(i>rX){ae.log.warn(`Not saving expired segment info. Media sequence gap ${i} is too large.`);return}for(let n=i-1;n>=0;n--){const s=e.segments[n];if(s&&typeof s.start<"u"){r.syncInfo={mediaSequence:e.mediaSequence+n,time:s.start},this.logger_(`playlist refresh sync: [time:${r.syncInfo.time}, mediaSequence: ${r.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const r=e.segments[0],i=r.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[r.timeline]=-i}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:r}){const i=this.calculateSegmentTimeMapping_(e,e.timingInfo,r),n=e.segment;i&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:n.start}));const s=n.dateTimeObject;n.discontinuity&&r&&s&&(this.timelineToDatetimeMappings[n.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,r,i){const n=e.segment,s=e.part;let a=this.timelines[e.timeline],o,l;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-r.start},i&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,l=r.end+a.mapping;else if(a)o=r.start+a.mapping,l=r.end+a.mapping;else return!1;return s&&(s.start=o,s.end=l),(!n.start||o<n.start)&&(n.start=o),n.end=l,!0}saveDiscontinuitySyncInfo_(e){const r=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(r.discontinuityStarts&&r.discontinuityStarts.length)for(let n=0;n<r.discontinuityStarts.length;n++){const s=r.discontinuityStarts[n],a=r.discontinuitySequence+n+1,o=s-e.mediaIndex,l=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>l){let u;o<0?u=i.start-bh({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex,endIndex:s}):u=i.end+bh({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[a]={time:u,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class nX extends ae.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:r,to:i}){return typeof r=="number"&&typeof i=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:r,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:r,to:i}){if(typeof r=="number"&&typeof i=="number"){this.lastTimelineChanges_[e]={type:e,from:r,to:i},delete this.pendingTimelineChanges_[e];const n={timelineChangeInfo:{from:r,to:i}};this.trigger({type:"timelinechange",metadata:n})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const sX=TD(ED(function(){var t=function(){function y(){this.listeners={}}var C=y.prototype;return C.on=function(A,T){this.listeners[A]||(this.listeners[A]=[]),this.listeners[A].push(T)},C.off=function(A,T){if(!this.listeners[A])return!1;var M=this.listeners[A].indexOf(T);return this.listeners[A]=this.listeners[A].slice(0),this.listeners[A].splice(M,1),M>-1},C.trigger=function(A){var T=this.listeners[A];if(T)if(arguments.length===2)for(var M=T.length,D=0;D<M;++D)T[D].call(this,arguments[1]);else for(var B=Array.prototype.slice.call(arguments,1),F=T.length,V=0;V<F;++V)T[V].apply(this,B)},C.dispose=function(){this.listeners={}},C.pipe=function(A){this.on("data",function(T){A.push(T)})},y}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(y){return y.subarray(0,y.byteLength-y[y.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const r=function(){const y=[[[],[],[],[],[]],[[],[],[],[],[]]],C=y[0],S=y[1],A=C[4],T=S[4];let M,D,B;const F=[],V=[];let O,U,J,Y,re,ce;for(M=0;M<256;M++)V[(F[M]=M<<1^(M>>7)*283)^M]=M;for(D=B=0;!A[D];D^=O||1,B=V[B]||1)for(Y=B^B<<1^B<<2^B<<3^B<<4,Y=Y>>8^Y&255^99,A[D]=Y,T[Y]=D,J=F[U=F[O=F[D]]],ce=J*16843009^U*65537^O*257^D*16843008,re=F[Y]*257^Y*16843008,M=0;M<4;M++)C[M][D]=re=re<<24^re>>>8,S[M][Y]=ce=ce<<24^ce>>>8;for(M=0;M<5;M++)C[M]=C[M].slice(0),S[M]=S[M].slice(0);return y};let i=null;class n{constructor(C){i||(i=r()),this._tables=[[i[0][0].slice(),i[0][1].slice(),i[0][2].slice(),i[0][3].slice(),i[0][4].slice()],[i[1][0].slice(),i[1][1].slice(),i[1][2].slice(),i[1][3].slice(),i[1][4].slice()]];let S,A,T;const M=this._tables[0][4],D=this._tables[1],B=C.length;let F=1;if(B!==4&&B!==6&&B!==8)throw new Error("Invalid aes key size");const V=C.slice(0),O=[];for(this._key=[V,O],S=B;S<4*B+28;S++)T=V[S-1],(S%B===0||B===8&&S%B===4)&&(T=M[T>>>24]<<24^M[T>>16&255]<<16^M[T>>8&255]<<8^M[T&255],S%B===0&&(T=T<<8^T>>>24^F<<24,F=F<<1^(F>>7)*283)),V[S]=V[S-B]^T;for(A=0;S;A++,S--)T=V[A&3?S:S-4],S<=4||A<4?O[A]=T:O[A]=D[0][M[T>>>24]]^D[1][M[T>>16&255]]^D[2][M[T>>8&255]]^D[3][M[T&255]]}decrypt(C,S,A,T,M,D){const B=this._key[1];let F=C^B[0],V=T^B[1],O=A^B[2],U=S^B[3],J,Y,re;const ce=B.length/4-2;let qe,Me=4;const me=this._tables[1],be=me[0],ot=me[1],vt=me[2],$e=me[3],Je=me[4];for(qe=0;qe<ce;qe++)J=be[F>>>24]^ot[V>>16&255]^vt[O>>8&255]^$e[U&255]^B[Me],Y=be[V>>>24]^ot[O>>16&255]^vt[U>>8&255]^$e[F&255]^B[Me+1],re=be[O>>>24]^ot[U>>16&255]^vt[F>>8&255]^$e[V&255]^B[Me+2],U=be[U>>>24]^ot[F>>16&255]^vt[V>>8&255]^$e[O&255]^B[Me+3],Me+=4,F=J,V=Y,O=re;for(qe=0;qe<4;qe++)M[(3&-qe)+D]=Je[F>>>24]<<24^Je[V>>16&255]<<16^Je[O>>8&255]<<8^Je[U&255]^B[Me++],J=F,F=V,V=O,O=U,U=J}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(C){this.jobs.push(C),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(y){return y<<24|(y&65280)<<8|(y&16711680)>>8|y>>>24},o=function(y,C,S){const A=new Int32Array(y.buffer,y.byteOffset,y.byteLength>>2),T=new n(Array.prototype.slice.call(C)),M=new Uint8Array(y.byteLength),D=new Int32Array(M.buffer);let B,F,V,O,U,J,Y,re,ce;for(B=S[0],F=S[1],V=S[2],O=S[3],ce=0;ce<A.length;ce+=4)U=a(A[ce]),J=a(A[ce+1]),Y=a(A[ce+2]),re=a(A[ce+3]),T.decrypt(U,J,Y,re,D,ce),D[ce]=a(D[ce]^B),D[ce+1]=a(D[ce+1]^F),D[ce+2]=a(D[ce+2]^V),D[ce+3]=a(D[ce+3]^O),B=U,F=J,V=Y,O=re;return M};class l{constructor(C,S,A,T){const M=l.STEP,D=new Int32Array(C.buffer),B=new Uint8Array(C.byteLength);let F=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(D.subarray(F,F+M),S,A,B)),F=M;F<D.length;F+=M)A=new Uint32Array([a(D[F-4]),a(D[F-3]),a(D[F-2]),a(D[F-1])]),this.asyncStream_.push(this.decryptChunk_(D.subarray(F,F+M),S,A,B));this.asyncStream_.push(function(){T(null,e(B))})}static get STEP(){return 32e3}decryptChunk_(C,S,A,T){return function(){const M=o(C,S,A);T.set(M,C.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c;typeof window<"u"?c=window:typeof u<"u"?c=u:typeof self<"u"?c=self:c={};var d=c,h=function(C){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(C):C&&C.buffer instanceof ArrayBuffer},f=d.BigInt||Number;f("0x1"),f("0x100"),f("0x10000"),f("0x1000000"),f("0x100000000"),f("0x10000000000"),f("0x1000000000000"),f("0x100000000000000"),f("0x10000000000000000"),function(){var y=new Uint16Array([65484]),C=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);return C[0]===255?"big":C[0]===204?"little":"unknown"}();const g=function(y){const C={};return Object.keys(y).forEach(S=>{const A=y[S];h(A)?C[S]={bytes:A.buffer,byteOffset:A.byteOffset,byteLength:A.byteLength}:C[S]=A}),C};self.onmessage=function(y){const C=y.data,S=new Uint8Array(C.encrypted.bytes,C.encrypted.byteOffset,C.encrypted.byteLength),A=new Uint32Array(C.key.bytes,C.key.byteOffset,C.key.byteLength/4),T=new Uint32Array(C.iv.bytes,C.iv.byteOffset,C.iv.byteLength/4);new l(S,A,T,function(M,D){self.postMessage(g({source:C.source,decrypted:D}),[D.buffer])})}}));var aX=kD(sX);const oX=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},qD=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},y5=(t,e)=>{e.activePlaylistLoader=t,t.load()},lX=(t,e)=>()=>{const{segmentLoaders:{[t]:r,main:i},mediaTypes:{[t]:n}}=e,s=n.activeTrack(),a=n.getActiveGroup(),o=n.activePlaylistLoader,l=n.lastGroup_;if(!(a&&l&&a.id===l.id)&&(n.lastGroup_=a,n.lastTrack_=s,qD(r,n),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){o&&i.resetEverything();return}r.resyncLoader(),y5(a.playlistLoader,n)}},uX=(t,e)=>()=>{const{segmentLoaders:{[t]:r},mediaTypes:{[t]:i}}=e;i.lastGroup_=null,r.abort(),r.pause()},cX=(t,e)=>()=>{const{mainPlaylistLoader:r,segmentLoaders:{[t]:i,main:n},mediaTypes:{[t]:s}}=e,a=s.activeTrack(),o=s.getActiveGroup(),l=s.activePlaylistLoader,u=s.lastTrack_;if(!(u&&a&&u.id===a.id)&&(s.lastGroup_=o,s.lastTrack_=a,qD(i,s),!!o)){if(o.isMainPlaylist){if(!a||!u||a.id===u.id)return;const c=e.vhs.playlistController_,d=c.selectPlaylist();if(c.media()===d)return;s.logger_(`track change. Switching main audio from ${u.id} to ${a.id}`),r.pause(),n.resetEverything(),c.fastQualityChange_(d);return}if(t==="AUDIO"){if(!o.playlistLoader){n.setAudio(!0),n.resetEverything();return}i.setAudio(!0),n.setAudio(!1)}if(l===o.playlistLoader){y5(o.playlistLoader,s);return}i.track&&i.track(a),i.resetEverything(),y5(o.playlistLoader,s)}},Z1={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:r},excludePlaylist:i}=e,n=r.activeTrack(),s=r.activeGroup(),a=(s.filter(l=>l.default)[0]||s[0]).id,o=r.tracks[a];if(n===o){i({error:{message:"Problem encountered loading the default audio track."}});return}ae.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in r.tracks)r.tracks[l].enabled=r.tracks[l]===o;r.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:r}}=e;ae.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const i=r.activeTrack();i&&(i.mode="disabled"),r.onTrackChanged()}},T_={AUDIO:(t,e,r)=>{if(!e)return;const{tech:i,requestOptions:n,segmentLoaders:{[t]:s}}=r;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,n),(!i.paused()||a.endList&&i.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),n),i.paused()||s.load()}),e.on("error",Z1[t](t,r))},SUBTITLES:(t,e,r)=>{const{tech:i,requestOptions:n,segmentLoaders:{[t]:s},mediaTypes:{[t]:a}}=r;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,n),s.track(a.activeTrack()),(!i.paused()||o.endList&&i.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),n),i.paused()||s.load()}),e.on("error",Z1[t](t,r))}},dX={AUDIO:(t,e)=>{const{vhs:r,sourceType:i,segmentLoaders:{[t]:n},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[t]:{groups:o,tracks:l,logger_:u}},mainPlaylistLoader:c}=e,d=xp(c.main);(!a[t]||Object.keys(a[t]).length===0)&&(a[t]={main:{default:{default:!0}}},d&&(a[t].main.default.playlists=c.main.playlists));for(const h in a[t]){o[h]||(o[h]=[]);for(const f in a[t][h]){let g=a[t][h][f],y;if(d?(u(`AUDIO group '${h}' label '${f}' is a main playlist`),g.isMainPlaylist=!0,y=null):i==="vhs-json"&&g.playlists?y=new Ic(g.playlists[0],r,s):g.resolvedUri?y=new Ic(g.resolvedUri,r,s):g.playlists&&i==="dash"?y=new h5(g.playlists[0],r,s,c):y=null,g=er({id:f,playlistLoader:y},g),T_[t](t,g.playlistLoader,e),o[h].push(g),typeof l[f]>"u"){const C=new ae.AudioTrack({id:f,kind:oX(g),enabled:!1,language:g.language,default:g.default,label:f});l[f]=C}}}n.on("error",Z1[t](t,e))},SUBTITLES:(t,e)=>{const{tech:r,vhs:i,sourceType:n,segmentLoaders:{[t]:s},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[t]:{groups:l,tracks:u}},mainPlaylistLoader:c}=e;for(const d in o[t]){l[d]||(l[d]=[]);for(const h in o[t][d]){if(!i.options_.useForcedSubtitles&&o[t][d][h].forced)continue;let f=o[t][d][h],g;if(n==="hls")g=new Ic(f.resolvedUri,i,a);else if(n==="dash"){if(!f.playlists.filter(C=>C.excludeUntil!==1/0).length)return;g=new h5(f.playlists[0],i,a,c)}else n==="vhs-json"&&(g=new Ic(f.playlists?f.playlists[0]:f.resolvedUri,i,a));if(f=er({id:h,playlistLoader:g},f),T_[t](t,f.playlistLoader,e),l[d].push(f),typeof u[h]>"u"){const y=r.addRemoteTextTrack({id:h,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:h},!1).track;u[h]=y}}}s.on("error",Z1[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:r,main:{mediaGroups:i},mediaTypes:{[t]:{groups:n,tracks:s}}}=e;for(const a in i[t]){n[a]||(n[a]=[]);for(const o in i[t][a]){const l=i[t][a][o];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const u=r.options_.vhs&&r.options_.vhs.captionServices||{};let c={label:o,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(u[c.instreamId]&&(c=er(c,u[c.instreamId])),c.default===void 0&&delete c.default,n[a].push(er({id:o},l)),typeof s[o]>"u"){const d=r.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;s[o]=d}}}}},jD=(t,e)=>{for(let r=0;r<t.length;r++)if(Hb(e,t[r])||t[r].playlists&&jD(t[r].playlists,e))return!0;return!1},hX=(t,e)=>r=>{const{mainPlaylistLoader:i,mediaTypes:{[t]:{groups:n}}}=e,s=i.media();if(!s)return null;let a=null;s.attributes[t]&&(a=n[s.attributes[t]]);const o=Object.keys(n);if(!a)if(t==="AUDIO"&&o.length>1&&xp(e.main))for(let l=0;l<o.length;l++){const u=n[o[l]];if(jD(u,s)){a=u;break}}else n.main?a=n.main:o.length===1&&(a=n[o[0]]);return typeof r>"u"?a:r===null||!a?null:a.filter(l=>l.id===r.id)[0]||null},pX={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const i in r)if(r[i].enabled)return r[i];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const i in r)if(r[i].mode==="showing"||r[i].mode==="hidden")return r[i];return null}},fX=(t,{mediaTypes:e})=>()=>{const r=e[t].activeTrack();return r?e[t].activeGroup(r):null},mX=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{dX[u](u,t)});const{mediaTypes:e,mainPlaylistLoader:r,tech:i,vhs:n,segmentLoaders:{["AUDIO"]:s,main:a}}=t;["AUDIO","SUBTITLES"].forEach(u=>{e[u].activeGroup=hX(u,t),e[u].activeTrack=pX[u](u,t),e[u].onGroupChanged=lX(u,t),e[u].onGroupChanging=uX(u,t),e[u].onTrackChanged=cX(u,t),e[u].getActiveGroup=fX(u,t)});const o=e.AUDIO.activeGroup();if(o){const u=(o.filter(d=>d.default)[0]||o[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}r.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanged())}),r.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"})};i.audioTracks().addEventListener("change",l),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),n.on("dispose",()=>{i.audioTracks().removeEventListener("change",l),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),i.clearTracks("audio");for(const u in e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[u])},gX=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:za,activeTrack:za,getActiveGroup:za,onGroupChanged:za,onTrackChanged:za,lastTrack_:null,logger_:ls(`MediaGroups[${e}]`)}}),t};class E_{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=dn(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(r=>[r.ID,r])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class yX extends ae.EventTarget{constructor(e,r){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new E_,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=ls("Content Steering"),this.xhr_=e,this.getBandwidth_=r}assignTagProperties(e,r){this.manifestType_=r.serverUri?"HLS":"DASH";const i=r.serverUri||r.serverURL;if(!i){this.logger_(`steering manifest URL is ${i}, cannot request steering manifest.`),this.trigger("error");return}if(i.startsWith("data:")){this.decodeDataUriManifest_(i.substring(i.indexOf(",")+1));return}this.steeringManifest.reloadUri=dn(e,i),this.defaultPathway=r.pathwayId||r.defaultServiceLocation,this.queryBeforeStart=r.queryBeforeStart,this.proxyServerUrl_=r.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const r=this.steeringManifest.reloadUri;if(!r)return;const i=e?r:this.getRequestURI(r);if(!i){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const n={contentSteeringInfo:{uri:i}};this.trigger({type:"contentsteeringloadstart",metadata:n}),this.request_=this.xhr_({uri:i,requestType:"content-steering-manifest"},(s,a)=>{if(s){if(a.status===410){this.logger_(`manifest request 410 ${s}.`),this.logger_(`There will be no more content steering requests to ${i} this session.`),this.excludedSteeringManifestURLs.add(i);return}if(a.status===429){const u=a.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${s}.`),this.logger_(`content steering will retry in ${u} seconds.`),this.startTTLTimeout_(parseInt(u,10));return}this.logger_(`manifest failed to load ${s}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:n});let o;try{o=JSON.parse(this.request_.responseText)}catch(u){const c={errorType:ae.Error.StreamingContentSteeringParserError,error:u};this.trigger({type:"error",metadata:c})}this.assignSteeringProperties_(o);const l={contentSteeringInfo:n.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const r=new H.URL(e),i=new H.URL(this.proxyServerUrl_);return i.searchParams.set("url",encodeURI(r.toString())),this.setSteeringParams_(i.toString())}decodeDataUriManifest_(e){const r=JSON.parse(H.atob(e));this.assignSteeringProperties_(r)}setSteeringParams_(e){const r=new H.URL(e),i=this.getPathway(),n=this.getBandwidth_();if(i){const s=`_${this.manifestType_}_pathway`;r.searchParams.set(s,i)}if(n){const s=`_${this.manifestType_}_throughput`;r.searchParams.set(s,n)}return r.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const i=(n=>{for(const s of n)if(this.availablePathways_.has(s))return s;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==i&&(this.currentPathway=i,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const r=n=>this.excludedSteeringManifestURLs.has(n);if(this.proxyServerUrl_){const n=this.setProxyServerUrl_(e);if(!r(n))return n}const i=this.setSteeringParams_(e);return r(i)?null:i}startTTLTimeout_(e=this.steeringManifest.ttl){const r=e*1e3;this.ttlTimeout_=H.setTimeout(()=>{this.requestSteeringManifest()},r)}clearTTLTimeout_(){H.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new E_}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,r){return!r&&this.steeringManifest.reloadUri||r&&(dn(e,r.serverURL)!==this.steeringManifest.reloadUri||r.defaultServiceLocation!==this.defaultPathway||r.queryBeforeStart!==this.queryBeforeStart||r.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const vX=10;let Sa;const bX=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],xX=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},_X=function({currentPlaylist:t,buffered:e,currentTime:r,nextPlaylist:i,bufferLowWaterLine:n,bufferHighWaterLine:s,duration:a,bufferBasedABR:o,log:l}){if(!i)return ae.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u=`allowing switch ${t&&t.id||"null"} -> ${i.id}`;if(!t)return l(`${u} as current playlist is not set`),!0;if(i.id===t.id)return!1;const c=!!Pc(e,r).length;if(!t.endList)return!c&&typeof t.partTargetDuration=="number"?(l(`not ${u} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${u} as current playlist is live`),!0);const d=qb(e,r),h=o?ci.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:ci.MAX_BUFFER_LOW_WATER_LINE;if(a<h)return l(`${u} as duration < max low water line (${a} < ${h})`),!0;const f=i.attributes.BANDWIDTH,g=t.attributes.BANDWIDTH;if(f<g&&(!o||d<s)){let y=`${u} as next bandwidth < current bandwidth (${f} < ${g})`;return o&&(y+=` and forwardBuffer < bufferHighWaterLine (${d} < ${s})`),l(y),!0}if((!o||f>g)&&d>=n){let y=`${u} as forwardBuffer >= bufferLowWaterLine (${d} >= ${n})`;return o&&(y+=` and next bandwidth > current bandwidth (${f} > ${g})`),l(y),!0}return l(`not ${u} as no switching criteria met`),!1};class wX extends ae.EventTarget{constructor(e){super();const{src:r,withCredentials:i,tech:n,bandwidth:s,externVhs:a,useCueTags:o,playlistExclusionDuration:l,enableLowInitialPlaylist:u,sourceType:c,cacheEncryptionKeys:d,bufferBasedABR:h,leastPixelDiffSelector:f,captionServices:g}=e;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:y}=e;(y===null||typeof y>"u")&&(y=1/0),Sa=a,this.bufferBasedABR=!!h,this.leastPixelDiffSelector=!!f,this.withCredentials=i,this.tech_=n,this.vhs_=n.vhs,this.player_=e.player_,this.sourceType_=c,this.useCueTags_=o,this.playlistExclusionDuration=l,this.maxPlaylistRetries=y,this.enableLowInitialPlaylist=u,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:i,maxPlaylistRetries:y,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=gX(),this.mediaSource=new H.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=_i(),this.hasPlayed_=!1,this.syncController_=new iX(e),this.segmentMetadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new aX,this.sourceUpdater_=new zD(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new nX,this.keyStatusMap_=new Map;const C={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:g,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:d,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new h5(r,this.vhs_,er(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Ic(r,this.vhs_,er(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new m5(er(C,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new m5(er(C,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new JG(er(C,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((T,M)=>{function D(){n.off("vttjserror",B),T()}function B(){n.off("vttjsloaded",D),M()}n.one("vttjsloaded",D),n.one("vttjserror",B),n.addWebVttScript_()})}),e);const S=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new yX(this.vhs_.xhr,S),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),bX.forEach(T=>{this[T+"_"]=xX.bind(this,T)}),this.logger_=ls("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const A=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(A,()=>{const T=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-T,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),r=this.audioAppendsToLoadedData_();return e===-1||r===-1?-1:e+r}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,e)}switchMedia_(e,r,i){const n=this.media(),s=n&&(n.id||n.uri),a=e&&(e.id||e.uri);if(s&&s!==a){this.logger_(`switch media ${s} -> ${a} from ${r}`);const o={renditionInfo:{id:a,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:r};this.trigger({type:"renditionselected",metadata:o}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${r}`})}this.mainPlaylistLoader_.media(e,i)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const r=this.mediaTypes_[e],i=r?r.activeGroup():null,n=this.contentSteeringController_.getPathway();if(i&&n){const a=(i.length?i[0].playlists:i.playlists).filter(o=>o.attributes.serviceLocation===n);a.length&&this.mediaTypes_[e].activePlaylistLoader.media(a[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=H.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(H.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),r=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return r;const i=e.mediaGroups.AUDIO,n=Object.keys(i);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const o=i.main||n.length&&i[n[0]];for(const l in o)if(o[l].default){s={label:l};break}}if(!s)return r;const a=[];for(const o in i)if(i[o][s.label]){const l=i[o][s.label];if(l.playlists&&l.playlists.length)a.push.apply(a,l.playlists);else if(l.uri)a.push(l);else if(e.playlists.length)for(let u=0;u<e.playlists.length;u++){const c=e.playlists[u];c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===o&&a.push(c)}}return a.length?a:r}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const r=this.mainPlaylistLoader_.media(),i=r.targetDuration*1.5*1e3;o5(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,r.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.mainSegmentLoader_.load()),mX({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),r),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let r=this.mainPlaylistLoader_.media();if(!r){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let i;if(this.enableLowInitialPlaylist&&(i=this.selectInitialPlaylist()),i||(i=this.selectPlaylist()),!i||!this.shouldSwitchToMedia_(i)||(this.initialMedia_=i,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;r=this.initialMedia_}this.handleUpdatedMediaPlaylist(r)}),this.mainPlaylistLoader_.on("error",()=>{const r=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const r=this.mainPlaylistLoader_.media(),i=r.targetDuration*1.5*1e3;o5(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,this.sourceType_==="dash"&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const r=this.mainPlaylistLoader_.media();if(r.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(r)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(r=>{this.mainPlaylistLoader_.on(r,i=>{this.player_.trigger(Br({},i))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,r){const i=e.mediaGroups||{};let n=!0;const s=Object.keys(i.AUDIO);for(const a in i.AUDIO)for(const o in i.AUDIO[a])i.AUDIO[a][o].uri||(n=!1);n&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Sa.Playlist.isAes(r)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(i.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const r=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,i=this.tech_.currentTime(),n=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),a=this.tech_.buffered();return _X({buffered:a,currentTime:i,currentPlaylist:r,nextPlaylist:e,bufferLowWaterLine:n,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const i=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:i.playlist,error:i})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.sourceType_==="dash"&&this.timelineChangeController_.on("audioTimelineBehind",()=>{const i=this.audioSegmentLoader_.pendingSegment_;if(!i||!i.segment||!i.segment.syncInfo)return;const n=i.segment.syncInfo.end+.01;this.tech_.setCurrentTime(n)}),this.mainSegmentLoader_.on("earlyabort",i=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:vX}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const i=this.getCodecsOrExclude_();i&&this.sourceUpdater_.addOrChangeSourceBuffers(i)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(i=>{this.mainSegmentLoader_.on(i,n=>{this.player_.trigger(Br({},n))}),this.audioSegmentLoader_.on(i,n=>{this.player_.trigger(Br({},n))}),this.subtitleSegmentLoader_.on(i,n=>{this.player_.trigger(Br({},n))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(()=>{this.mainSegmentLoader_.load()})}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const r=this.seekable();if(!r.length)return!1;const i=r.end(0);let n=i;if(e.start){const s=e.start.timeOffset;s<0?n=Math.max(i+s,r.start(0)):n=Math.min(i,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(n)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,r=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const r=this.duration();e[e.length-1].endTime=isNaN(r)||Math.abs(r)===1/0?Number.MAX_VALUE:r}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const r=this.mainSegmentLoader_.getCurrentMediaInfo_();!r||r.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const i=this.syncController_.getExpiredTime(e,this.duration());if(i===null)return!1;const n=Sa.Playlist.playlistEnd(e,i),s=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return n-s<=Js;const o=a.end(a.length-1);return o-s<=Js&&n-o<=Js}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:r={},playlistExclusionDuration:i}){if(e=e||this.mainPlaylistLoader_.media(),i=i||r.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const n=this.mainPlaylistLoader_.main.playlists,s=n.filter(g2),a=s.length===1&&s[0]===e;if(n.length===1&&i!==1/0)return ae.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const g=this.pathwayAttribute_(e),y=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(g),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(g)},y);return}let f=!1;n.forEach(g=>{if(g===e)return;const y=g.excludeUntil;typeof y<"u"&&y!==1/0&&(f=!0,delete g.excludeUntil)}),f&&(ae.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;e.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+i*1e3,e.excludeUntil=o,r.reason&&(e.lastExcludeReason_=r.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=r.internal?this.logger_:ae.log.warn,c=r.message?" "+r.message:"";u(`${r.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${c} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const d=l.targetDuration/2*1e3||5*1e3,h=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=d;return this.switchMedia_(l,"exclude",a||h)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,r){const i=[],n=e==="all";(n||e==="main")&&i.push(this.mainPlaylistLoader_);const s=[];(n||e==="audio")&&s.push("AUDIO"),(n||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(a=>{const o=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;o&&i.push(o)}),["main","audio","subtitle"].forEach(a=>{const o=this[`${a}SegmentLoader_`];o&&(e===a||e==="all")&&i.push(o)}),i.forEach(a=>r.forEach(o=>{typeof a[o]=="function"&&a[o]()}))}setCurrentTime(e){const r=Pc(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(r&&r.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Sa.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let r=this.mainPlaylistLoader_.media();if(!r)return;let i=this.syncController_.getExpiredTime(r,this.duration());if(i===null)return;const n=this.mainPlaylistLoader_.main,s=Sa.Playlist.seekable(r,i,Sa.Playlist.liveEdgeDelay(n,r));if(s.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),i=this.syncController_.getExpiredTime(r,this.duration()),i===null||(e=Sa.Playlist.seekable(r,i,Sa.Playlist.liveEdgeDelay(n,r)),e.length===0)))return;let a,o;if(this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),o=this.seekable_.start(0)),e?e.start(0)>s.end(0)||s.start(0)>e.end(0)?this.seekable_=s:this.seekable_=_i([[e.start(0)>s.start(0)?e.start(0):s.start(0),e.end(0)<s.end(0)?e.end(0):s.end(0)]]):this.seekable_=s,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===o)return;this.logger_(`seekable updated [${tD(this.seekable_)}]`);const l={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:l}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const n=this.seekable();if(!n.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<n.end(n.length-1))&&this.sourceUpdater_.setDuration(n.end(n.length-1));return}const r=this.tech_.buffered();let i=Sa.Playlist.duration(this.mainPlaylistLoader_.media());r.length>0&&(i=Math.max(i,r.end(r.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const r=this.mediaTypes_[e].groups;for(const i in r)r[i].forEach(n=>{n.playlistLoader&&n.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,r=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),i=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!r||!i)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},r=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const i=_h(this.main(),r),n={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(n.video=i.video||e.main.videoCodec||Nj),e.main.isMuxed&&(n.video+=`,${i.audio||e.main.audioCodec||lx}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(n.audio=i.audio||e.main.audioCodec||e.audio.audioCodec||lx,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!n.audio&&!n.video){this.excludePlaylist({playlistToExclude:r,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(u,c)=>u?Ym(c):L4(c),o={};let l;if(["video","audio"].forEach(function(u){if(n.hasOwnProperty(u)&&!a(e[u].isFmp4,n[u])){const c=e[u].isFmp4?"browser":"muxer";o[c]=o[c]||[],o[c].push(n[u]),u==="audio"&&(l=c)}}),s&&l&&r.attributes.AUDIO){const u=r.attributes.AUDIO;this.main().playlists.forEach(c=>{(c.attributes&&c.attributes.AUDIO)===u&&c!==r&&(c.excludeUntil=1/0)}),this.logger_(`excluding audio group ${u} as ${l} does not support codec(s): "${n.audio}"`)}if(Object.keys(o).length){const u=Object.keys(o).reduce((c,d)=>(c&&(c+=", "),c+=`${d} does not support codec(s): "${o[d].join(",")}"`,c),"")+".";this.excludePlaylist({playlistToExclude:r,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(c=>{const d=(Vs(this.sourceUpdater_.codecs[c]||"")[0]||{}).type,h=(Vs(n[c]||"")[0]||{}).type;d&&h&&d.toLowerCase()!==h.toLowerCase()&&u.push(`"${this.sourceUpdater_.codecs[c]}" -> "${n[c]}"`)}),u.length){this.excludePlaylist({playlistToExclude:r,error:{message:`Codec switching not supported: ${u.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return n}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const r=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(r)}excludeUnsupportedVariants_(){const e=this.main().playlists,r=[];Object.keys(e).forEach(i=>{const n=e[i];if(r.indexOf(n.id)!==-1)return;r.push(n.id);const s=_h(this.main,n),a=[];s.audio&&!L4(s.audio)&&!Ym(s.audio)&&a.push(`audio codec ${s.audio}`),s.video&&!L4(s.video)&&!Ym(s.video)&&a.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&a.push(`text codec ${s.text}`),a.length&&(n.excludeUntil=1/0,this.logger_(`excluding ${n.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const r=[],i=this.main().playlists,n=X1(Vs(e)),s=f_(n),a=n.video&&Vs(n.video)[0]||null,o=n.audio&&Vs(n.audio)[0]||null;Object.keys(i).forEach(l=>{const u=i[l];if(r.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;r.push(u.id);const c=[],d=_h(this.mainPlaylistLoader_.main,u),h=f_(d);if(!(!d.audio&&!d.video)){if(h!==s&&c.push(`codec count "${h}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const f=d.video&&Vs(d.video)[0]||null,g=d.audio&&Vs(d.audio)[0]||null;f&&a&&f.type.toLowerCase()!==a.type.toLowerCase()&&c.push(`video codec "${f.type}" !== "${a.type}"`),g&&o&&g.type.toLowerCase()!==o.type.toLowerCase()&&c.push(`audio codec "${g.type}" !== "${o.type}"`)}c.length&&(u.excludeUntil=1/0,this.logger_(`excluding ${u.id}: ${c.join(" && ")}`))}})}updateAdCues_(e){let r=0;const i=this.seekable();i.length&&(r=i.start(0)),eX(e,this.cueTagsTrack_,r)}goalBufferLength(){const e=this.tech_.currentTime(),r=ci.GOAL_BUFFER_LENGTH,i=ci.GOAL_BUFFER_LENGTH_RATE,n=Math.max(r,ci.MAX_GOAL_BUFFER_LENGTH);return Math.min(r+e*i,n)}bufferLowWaterLine(){const e=this.tech_.currentTime(),r=ci.BUFFER_LOW_WATER_LINE,i=ci.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(r,ci.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(r,ci.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(r+e*i,this.bufferBasedABR?s:n)}bufferHighWaterLine(){return ci.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){y_(this.inbandTextTracks_,"com.apple.streaming",this.tech_),BG({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,r,i){const n=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();y_(this.inbandTextTracks_,e,this.tech_),MG({inbandTextTracks:this.inbandTextTracks_,metadataArray:r,timestampOffset:n,videoDuration:i})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const r of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(r));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(r=>{this.contentSteeringController_.on(r,i=>{this.trigger(Br({},i))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const r=this.main();(this.contentSteeringController_.didDASHTagChange(r.uri,r.contentSteering)||(()=>{const s=this.contentSteeringController_.getAvailablePathways(),a=[];for(const o of r.playlists){const l=o.attributes.serviceLocation;if(l&&(a.push(l),!s.has(l)))return!0}return!!(!a.length&&s.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const i=this.main().playlists,n=new Set;let s=!1;Object.keys(i).forEach(a=>{const o=i[a],l=this.pathwayAttribute_(o),u=l&&e!==l;o.excludeUntil===1/0&&o.lastExcludeReason_==="content-steering"&&!u&&(delete o.excludeUntil,delete o.lastExcludeReason_,s=!0);const d=!o.excludeUntil&&o.excludeUntil!==1/0;!n.has(o.id)&&u&&d&&(n.add(o.id),o.excludeUntil=1/0,o.lastExcludeReason_="content-steering",this.logger_(`excluding ${o.id} for ${o.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(a=>{const o=this.mediaTypes_[a];if(o.activePlaylistLoader){const l=o.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(s=!0)}}),s&&this.changeSegmentPathway_()}handlePathwayClones_(){const r=this.main().playlists,i=this.contentSteeringController_.currentPathwayClones,n=this.contentSteeringController_.nextPathwayClones;if(i&&i.size||n&&n.size){for(const[a,o]of i.entries())n.get(a)||(this.mainPlaylistLoader_.updateOrDeleteClone(o),this.contentSteeringController_.excludePathway(a));for(const[a,o]of n.entries()){const l=i.get(a);if(!l){r.filter(c=>c.attributes["PATHWAY-ID"]===o["BASE-ID"]).forEach(c=>{this.mainPlaylistLoader_.addClonePathway(o,c)}),this.contentSteeringController_.addAvailablePathway(a);continue}this.equalPathwayClones_(l,o)||(this.mainPlaylistLoader_.updateOrDeleteClone(o,!0),this.contentSteeringController_.addAvailablePathway(a))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...n])))}}equalPathwayClones_(e,r){if(e["BASE-ID"]!==r["BASE-ID"]||e.ID!==r.ID||e["URI-REPLACEMENT"].HOST!==r["URI-REPLACEMENT"].HOST)return!1;const i=e["URI-REPLACEMENT"].PARAMS,n=r["URI-REPLACEMENT"].PARAMS;for(const s in i)if(i[s]!==n[s])return!1;for(const s in n)if(i[s]!==n[s])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const r="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(i=>{const n=this.mainPlaylistLoader_.getKeyIdSet(i);!n||!n.size||n.forEach(s=>{const a="usable",o=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===a,l=i.lastExcludeReason_===r&&i.excludeUntil===1/0;o?o&&l&&(delete i.excludeUntil,delete i.lastExcludeReason_,this.logger_(`enabling playlist ${i.id} because key ID ${s} is ${a}`)):(i.excludeUntil!==1/0&&i.lastExcludeReason_!==r&&(i.excludeUntil=1/0,i.lastExcludeReason_=r,this.logger_(`excluding playlist ${i.id} because the key ID ${s} doesn't exist in the keyStatusMap or is not ${a}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(i=>{const n=i&&i.attributes&&i.attributes.RESOLUTION&&i.attributes.RESOLUTION.height<720,s=i.excludeUntil===1/0&&i.lastExcludeReason_===r;n&&s&&(delete i.excludeUntil,ae.log.warn(`enabling non-HD playlist ${i.id} because all playlists were excluded due to ${r} key IDs`))})}addKeyStatus_(e,r){const s=(typeof e=="string"?e:YG(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${r}' with key ID ${s} added to the keyStatusMap`),this.keyStatusMap_.set(s,r)}updatePlaylistByKeyStatus(e,r){this.addKeyStatus_(e,r),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const SX=(t,e,r)=>i=>{const n=t.main.playlists[e],s=Vb(n),a=g2(n);if(typeof i>"u")return a;i?delete n.disabled:n.disabled=!0;const o={renditionInfo:{id:e,bandwidth:n.attributes.BANDWIDTH,resolution:n.attributes.RESOLUTION,codecs:n.attributes.CODECS},cause:"fast-quality"};return i!==a&&!s&&(r(n),i?t.trigger({type:"renditionenabled",metadata:o}):t.trigger({type:"renditiondisabled",metadata:o})),i};class CX{constructor(e,r,i){const{playlistController_:n}=e,s=n.fastQualityChange_.bind(n);if(r.attributes){const a=r.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=r.attributes.BANDWIDTH,this.frameRate=r.attributes["FRAME-RATE"]}this.codecs=_h(n.main(),r),this.playlist=r,this.id=i,this.enabled=SX(e.playlists,r.id,s)}}const kX=function(t){t.representations=()=>{const e=t.playlistController_.main(),r=xp(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return r?r.filter(i=>!Vb(i)).map((i,n)=>new CX(t,i,i.id)):[]}},A_=["seeking","seeked","pause","playing","error"];class TX extends ae.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=ls("PlaybackWatcher"),this.logger_("initialize");const r=()=>this.monitorCurrentTime_(),i=()=>this.monitorCurrentTime_(),n=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),a=this.playlistController_,o=["main","subtitle","audio"],l={};o.forEach(c=>{l[c]={reset:()=>this.resetSegmentDownloads_(c),updateend:()=>this.checkSegmentDownloads_(c)},a[`${c}SegmentLoader_`].on("appendsdone",l[c].updateend),a[`${c}SegmentLoader_`].on("playlistupdate",l[c].reset),this.tech_.on(["seeked","seeking"],l[c].reset)});const u=c=>{["main","audio"].forEach(d=>{a[`${d}SegmentLoader_`][c]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",n),this.tech_.on(A_,s),this.tech_.on("canplay",i),this.tech_.one("play",r),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",n),this.tech_.off(A_,s),this.tech_.off("canplay",i),this.tech_.off("play",r),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(c=>{a[`${c}SegmentLoader_`].off("appendsdone",l[c].updateend),a[`${c}SegmentLoader_`].off("playlistupdate",l[c].reset),this.tech_.off(["seeked","seeking"],l[c].reset)}),this.checkCurrentTimeTimeout_&&H.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&H.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=H.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const r=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=r.buffered_()}checkSegmentDownloads_(e){const r=this.playlistController_,i=r[`${e}SegmentLoader_`],n=i.buffered_(),s=hW(this[`${e}Buffered_`],n);if(this[`${e}Buffered_`]=n,s){const a={bufferedRanges:n};r.trigger({type:"bufferedrangeschanged",metadata:a}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:i.playlist_&&i.playlist_.id,buffered:hu(n)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&r.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===e&&(!r.length||e+Js>=r.end(r.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(_i([this.lastRecordedTime,e]));const i={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:i}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const r=this.seekable(),i=this.tech_.currentTime(),n=this.afterSeekableWindow_(r,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(n&&(s=r.end(r.length-1)),this.beforeSeekableWindow_(r,i)){const g=r.start(0);s=g+(g===r.end(0)?0:Js)}if(typeof s<"u")return this.logger_(`Trying to seek outside of seekable at time ${i} with seekable range ${tD(r)}. Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0;const a=this.playlistController_.sourceUpdater_,o=this.tech_.buffered(),l=a.audioBuffer?a.audioBuffered():null,u=a.videoBuffer?a.videoBuffered():null,c=this.media(),d=c.partTargetDuration?c.partTargetDuration:(c.targetDuration-Zs)*2,h=[l,u];for(let g=0;g<h.length;g++){if(!h[g])continue;if(qb(h[g],i)<d)return!1}const f=Cf(o,i);return f.length===0?!1:(s=f.start(0)+Js,this.logger_(`Buffered region starts (${f.start(0)})  just beyond seek point (${i}). Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),r=this.tech_.buffered(),i=Pc(r,e);if(i.length&&e+3<=i.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${i.start(0)} -> ${i.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,r)){const o=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${r}. Seeking to live point (seekable end) ${o}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const i=this.tech_.vhs.playlistController_.sourceUpdater_,n=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:r}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const a=Cf(n,r);return a.length>0?(this.logger_(`Stopped at ${r} and seeking to ${a.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(r),!0):!1}afterSeekableWindow_(e,r,i,n=!1){if(!e.length)return!1;let s=e.end(e.length-1)+Js;const a=!i.endList,o=typeof i.partTargetDuration=="number";return a&&(o||n)&&(s=e.end(e.length-1)+i.targetDuration*3),r>s}beforeSeekableWindow_(e,r){return!!(e.length&&e.start(0)>0&&r<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:r,currentTime:i}){if(!e)return;let n;if(e.length&&r.length){const s=Pc(e,i-3),a=Pc(e,i),o=Pc(r,i);o.length&&!a.length&&s.length&&(n={start:s.end(0),end:o.end(0)})}else Cf(e,i).length||(n=this.gapFromVideoUnderflow_(e,i));return n?(this.logger_(`Encountered a gap in video from ${n.start} to ${n.end}. Seeking to current time ${i}`),!0):!1}skipTheGap_(e){const r=this.tech_.buffered(),i=this.tech_.currentTime(),n=Cf(r,i);if(this.resetTimeUpdate_(),n.length===0||i!==e)return;this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+Zs);const s={gapInfo:{from:i,to:n.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:s}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,r){const i=uW(e);for(let n=0;n<i.length;n++){const s=i.start(n),a=i.end(n);if(r-s<4&&r-s>2)return{start:s,end:a}}return null}}const EX={errorInterval:30,getSource(t){const r=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(r)}},VD=function(t,e){let r=0,i=0;const n=er(EX,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){i&&t.currentTime(i)},a=function(c){c!=null&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(c),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},o=function(){if(Date.now()-r<n.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!n.getSource||typeof n.getSource!="function"){ae.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return r=Date.now(),n.getSource.call(t,a)},l=function(){t.off("loadedmetadata",s),t.off("error",o),t.off("dispose",l)},u=function(c){l(),VD(t,c)};t.on("error",o),t.on("dispose",l),t.reloadSourceOnError=u},AX=function(t){VD(this,t)};var HD="3.13.3",MX="7.0.3",DX="1.3.0",LX="7.1.0",BX="4.0.1";const kr={PlaylistLoader:Ic,Playlist:hn,utils:OW,STANDARD_PLAYLIST_SELECTOR:g_,INITIAL_PLAYLIST_SELECTOR:CG,lastBandwidthSelector:g_,movingAverageBandwidthSelector:wG,comparePlaylistBandwidth:Wb,comparePlaylistResolution:_G,xhr:vD()};Object.keys(ci).forEach(t=>{Object.defineProperty(kr,t,{get(){return ae.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),ci[t]},set(e){if(ae.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){ae.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}ci[t]=e}})});const KD="videojs-vhs",WD=function(t,e){const r=e.media();let i=-1;for(let n=0;n<t.length;n++)if(t[n].id===r.id){i=n;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})},PX=function(t,e){e.representations().forEach(r=>{t.addQualityLevel(r)}),WD(t,e.playlists)};kr.canPlaySource=function(){return ae.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const IX=(t,e,r)=>{if(!t)return t;let i={};e&&e.attributes&&e.attributes.CODECS&&(i=X1(Vs(e.attributes.CODECS))),r&&r.attributes&&r.attributes.CODECS&&(i.audio=r.attributes.CODECS);const n=Uh(i.video),s=Uh(i.audio),a={};for(const o in t)a[o]={},s&&(a[o].audioContentType=s),n&&(a[o].videoContentType=n),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(a[o].pssh=e.contentProtection[o].pssh),typeof t[o]=="string"&&(a[o].url=t[o]);return er(t,a)},RX=(t,e)=>t.reduce((r,i)=>{if(!i.contentProtection)return r;const n=e.reduce((s,a)=>{const o=i.contentProtection[a];return o&&o.pssh&&(s[a]={pssh:o.pssh}),s},{});return Object.keys(n).length&&r.push(n),r},[]),OX=({player:t,sourceKeySystems:e,audioMedia:r,mainPlaylists:i})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const n=r?i.concat([r]):i,s=RX(n,Object.keys(e)),a=[],o=[];return s.forEach(l=>{o.push(new Promise((u,c)=>{t.tech_.one("keysessioncreated",u)})),a.push(new Promise((u,c)=>{t.eme.initializeMediaKeys({keySystems:l},d=>{if(d){c(d);return}u()})}))}),Promise.race([Promise.all(a),Promise.race(o)])},FX=({player:t,sourceKeySystems:e,media:r,audioMedia:i})=>{const n=IX(e,r,i);return n?(t.currentSource().keySystems=n,n&&!t.eme?(ae.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},GD=()=>{if(!H.localStorage)return null;const t=H.localStorage.getItem(KD);if(!t)return null;try{return JSON.parse(t)}catch{return null}},NX=t=>{if(!H.localStorage)return!1;let e=GD();e=e?er(e,t):t;try{H.localStorage.setItem(KD,JSON.stringify(e))}catch{return!1}return e},$X=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,XD=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},YD=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},ZD=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},JD=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};kr.supportsNativeHls=function(){if(!Pe||!Pe.createElement)return!1;const t=Pe.createElement("video");return ae.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(r){return/maybe|probably/i.test(t.canPlayType(r))}):!1}();kr.supportsNativeDash=function(){return!Pe||!Pe.createElement||!ae.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Pe.createElement("video").canPlayType("application/dash+xml"))}();kr.supportsTypeNatively=t=>t==="hls"?kr.supportsNativeHls:t==="dash"?kr.supportsNativeDash:!1;kr.isSupported=function(){return ae.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};kr.xhr.onRequest=function(t){XD(kr.xhr,t)};kr.xhr.onResponse=function(t){YD(kr.xhr,t)};kr.xhr.offRequest=function(t){ZD(kr.xhr,t)};kr.xhr.offResponse=function(t){JD(kr.xhr,t)};const zX=ae.getComponent("Component");class QD extends zX{constructor(e,r,i){if(super(r,i.vhs),typeof i.initialBandwidth=="number"&&(this.options_.bandwidth=i.initialBandwidth),this.logger_=ls("VhsHandler"),r.options_&&r.options_.playerId){const n=ae.getPlayer(r.options_.playerId);this.player_=n}if(this.tech_=r,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Pe,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],n=>{const s=Pe.fullscreenElement||Pe.webkitFullscreenElement||Pe.mozFullScreenElement||Pe.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=er(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const i=GD();i&&i.bandwidth&&(this.options_.bandwidth=i.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),i&&i.throughput&&(this.options_.throughput=i.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=ci.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===ci.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(i=>{typeof this.source_[i]<"u"&&(this.options_[i]=this.source_[i])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const r=this.options_.customPixelRatio;typeof r=="number"&&r>=0&&(this.customPixelRatio=r)}setOptions(e={}){this.setOptions_(e)}src(e,r){if(!e)return;this.setOptions_(),this.options_.src=$X(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=kr,this.options_.sourceType=HE(r),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.options_.player_=this.player_,this.playlistController_=new wX(this.options_);const i=er({liveRangeSafeTimeDelta:Js},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new TX(i),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const s=ae.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),s.error(a)});const n=this.options_.bufferBasedABR?kr.movingAverageBandwidthSelector(.55):kr.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):n.bind(this),this.playlistController_.selectInitialPlaylist=kr.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const a=H.navigator.connection||H.navigator.mozConnection||H.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&a){const l=a.downlink*1e3*1e3;l>=o&&s>=o?s=Math.max(s,l):s=l}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(s+a))},set(){ae.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>hu(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>hu(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&NX({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{kX(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=H.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),OX({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(r=>{this.logger_("error while creating EME key session",r),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,r=FX({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",i=>{this.playlistController_.updatePlaylistByKeyStatus(i.keyId,i.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!r){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=ae.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{PX(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{WD(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":HD,"mux.js":MX,"mpd-parser":DX,"m3u8-parser":LX,"aes-decrypter":BX}}version(){return this.constructor.version()}canChangeType(){return zD.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&H.URL.revokeObjectURL&&(H.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,r){return jW({playlist:this.playlistController_.media(),time:e,callback:r})}seekToProgramTime(e,r,i=!0,n=2){return SD({programTime:e,playlist:this.playlistController_.media(),retryCount:n,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:r})}setupXhrHooks_(){this.xhr.onRequest=e=>{XD(this.xhr,e)},this.xhr.onResponse=e=>{YD(this.xhr,e)},this.xhr.offRequest=e=>{ZD(this.xhr,e)},this.xhr.offResponse=e=>{JD(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],r=["gapjumped","playedrangeschanged"];e.forEach(i=>{this.playlistController_.on(i,n=>{this.player_.trigger(Br({},n))})}),r.forEach(i=>{this.playbackWatcher_.on(i,n=>{this.player_.trigger(Br({},n))})})}}const J1={name:"videojs-http-streaming",VERSION:HD,canHandleSource(t,e={}){const r=er(ae.options,e);return J1.canPlayType(t.type,r)},handleSource(t,e,r={}){const i=er(ae.options,r);return e.vhs=new QD(t,e,i),e.vhs.xhr=vD(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const r=HE(t);if(!r)return"";const i=J1.getOverrideNative(e);return!kr.supportsTypeNatively(r)||i?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,r=!(ae.browser.IS_ANY_SAFARI||ae.browser.IS_IOS),{overrideNative:i=r}=e;return i}},UX=()=>Ym("avc1.4d400d,mp4a.40.2");UX()&&ae.getTech("Html5").registerSourceHandler(J1,0);ae.VhsHandler=QD;ae.VhsSourceHandler=J1;ae.Vhs=kr;ae.use||ae.registerComponent("Vhs",kr);ae.options.vhs=ae.options.vhs||{};(!ae.getPlugin||!ae.getPlugin("reloadSourceOnError"))&&ae.registerPlugin("reloadSourceOnError",AX);const qX=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));var jX={exports:{}};const VX=Hv(qX);(function(t,e){(function(r,i){{var n=VX;t.exports=i(n.default||n)}})(Ya,function(r){var i=r.browser.IS_IOS||r.browser.IS_NATIVE_ANDROID,n=r.getTech("Tech");class s extends n{constructor(c,d){super(c,d),this.setPoster(c.poster),this.setSrc(this.options_.source,!0),this.setTimeout((function(){this.el_&&(this.el_.parentNode.className+=" vjs-youtube",i&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),s.isApiReady?this.initYTPlayer():s.apiReadyQueue.push(this))}).bind(this))}dispose(){if(this.ytPlayer)this.ytPlayer.stopVideo&&this.ytPlayer.stopVideo(),this.ytPlayer.destroy&&this.ytPlayer.destroy();else{var c=s.apiReadyQueue.indexOf(this);c!==-1&&s.apiReadyQueue.splice(c,1)}this.ytPlayer=null,this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile",""),this.el_.parentNode.removeChild(this.el_),n.prototype.dispose.call(this)}createEl(){var c=document.createElement("div");c.setAttribute("id",this.options_.techId),c.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute"),c.setAttribute("class","vjs-tech");var d=document.createElement("div");if(d.appendChild(c),!i&&!this.options_.ytControls){var h=document.createElement("div");h.setAttribute("class","vjs-iframe-blocker"),h.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),h.onclick=(function(){this.pause()}).bind(this),d.appendChild(h)}return d}initYTPlayer(){var c={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(typeof this.options_.autohide<"u"&&(c.autohide=this.options_.autohide),typeof this.options_.cc_load_policy<"u"&&(c.cc_load_policy=this.options_.cc_load_policy),typeof this.options_.ytControls<"u"&&(c.controls=this.options_.ytControls),typeof this.options_.disablekb<"u"&&(c.disablekb=this.options_.disablekb),typeof this.options_.color<"u"&&(c.color=this.options_.color),c.controls?typeof this.options_.fs<"u"&&(c.fs=this.options_.fs):c.fs=0,this.options_.source.src.indexOf("end=")!==-1){var d=this.options_.source.src.match(/end=([0-9]*)/);this.options_.end=parseInt(d[1])}if(typeof this.options_.end<"u"&&(c.end=this.options_.end),typeof this.options_.hl<"u"?c.hl=this.options_.hl:typeof this.options_.language<"u"&&(c.hl=this.options_.language.substr(0,2)),typeof this.options_.iv_load_policy<"u"&&(c.iv_load_policy=this.options_.iv_load_policy),typeof this.options_.list<"u"?c.list=this.options_.list:this.url&&typeof this.url.listId<"u"&&(c.list=this.url.listId),typeof this.options_.listType<"u"&&(c.listType=this.options_.listType),typeof this.options_.modestbranding<"u"&&(c.modestbranding=this.options_.modestbranding),typeof this.options_.playlist<"u"&&(c.playlist=this.options_.playlist),typeof this.options_.playsinline<"u"&&(c.playsinline=this.options_.playsinline),typeof this.options_.rel<"u"&&(c.rel=this.options_.rel),typeof this.options_.showinfo<"u"&&(c.showinfo=this.options_.showinfo),this.options_.source.src.indexOf("start=")!==-1){var h=this.options_.source.src.match(/start=([0-9]*)/);this.options_.start=parseInt(h[1])}if(typeof this.options_.start<"u"&&(c.start=this.options_.start),typeof this.options_.theme<"u"&&(c.theme=this.options_.theme),typeof this.options_.customVars<"u"){var f=this.options_.customVars;Object.keys(f).forEach(function(y){c[y]=f[y]})}this.activeVideoId=this.url?this.url.videoId:null,this.activeList=c.list;var g={videoId:this.activeVideoId,playerVars:c,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onPlaybackRateChange:this.onPlayerPlaybackRateChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onVolumeChange:this.onPlayerVolumeChange.bind(this),onError:this.onPlayerError.bind(this)}};typeof this.options_.enablePrivacyEnhancedMode<"u"&&this.options_.enablePrivacyEnhancedMode&&(g.host="https://www.youtube-nocookie.com"),this.ytPlayer=new YT.Player(this.options_.techId,g)}onPlayerReady(){this.options_.muted&&this.ytPlayer.mute();var c=this.ytPlayer.getAvailablePlaybackRates();c.length>1&&(this.featuresPlaybackRate=!0),this.playerReady_=!0,this.triggerReady(),this.playOnReady?this.play():this.cueOnReady&&(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)}onPlayerPlaybackQualityChange(){}onPlayerPlaybackRateChange(){this.trigger("ratechange")}onPlayerStateChange(c){var d=c.data;if(!(d===this.lastState||this.errorNumber))switch(this.lastState=d,d){case-1:this.trigger("loadstart"),this.trigger("loadedmetadata"),this.trigger("durationchange"),this.trigger("ratechange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.trigger("play"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking?this.onSeeked():this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting");break}}onPlayerVolumeChange(){this.trigger("volumechange")}onPlayerError(c){this.errorNumber=c.data,this.trigger("pause"),this.trigger("error")}error(){var c=1e3+this.errorNumber;switch(this.errorNumber){case 5:return{code:c,message:"Error while trying to play the video"};case 2:case 100:return{code:c,message:"Unable to find the video"};case 101:case 150:return{code:c,message:"Playback on other Websites has been disabled by the video owner."}}return{code:c,message:"YouTube unknown error ("+this.errorNumber+")"}}loadVideoById_(c){var d={videoId:c};this.options_.start&&(d.startSeconds=this.options_.start),this.options_.end&&(d.endSeconds=this.options_.end),this.ytPlayer.loadVideoById(d)}cueVideoById_(c){var d={videoId:c};this.options_.start&&(d.startSeconds=this.options_.start),this.options_.end&&(d.endSeconds=this.options_.end),this.ytPlayer.cueVideoById(d)}src(c){return c&&this.setSrc({src:c}),this.source}poster(){return i?null:this.poster_}setPoster(c){this.poster_=c}setSrc(c){!c||!c.src||(delete this.errorNumber,this.source=c,this.url=s.parseUrl(c.src),this.options_.poster||this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.trigger("posterchange"),this.checkHighResPoster()),this.options_.autoplay&&!i?this.isReady_?this.play():this.playOnReady=!0:this.activeVideoId!==this.url.videoId&&(this.isReady_?(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId):this.cueOnReady=!0))}autoplay(){return this.options_.autoplay}setAutoplay(c){this.options_.autoplay=c}loop(){return this.options_.loop}setLoop(c){this.options_.loop=c}play(){!this.url||!this.url.videoId||(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.loadVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))}pause(){this.ytPlayer&&this.ytPlayer.pauseVideo()}paused(){return this.ytPlayer?this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING:!0}currentTime(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0}setCurrentTime(c){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.isSeeking||(this.wasPausedBeforeSeek=this.paused()),this.ytPlayer.seekTo(c,!0),this.trigger("timeupdate"),this.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==c&&(clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=setInterval((function(){this.lastState!==YT.PlayerState.PAUSED||!this.isSeeking?clearInterval(this.checkSeekedInPauseInterval):this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),this.onSeeked())}).bind(this),250))}seeking(){return this.isSeeking}seekable(){return this.ytPlayer?r.createTimeRange(0,this.ytPlayer.getDuration()):r.createTimeRange()}onSeeked(){clearInterval(this.checkSeekedInPauseInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")}playbackRate(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1}setPlaybackRate(c){this.ytPlayer&&this.ytPlayer.setPlaybackRate(c)}duration(){return this.ytPlayer?this.ytPlayer.getDuration():0}currentSrc(){return this.source&&this.source.src}ended(){return this.ytPlayer?this.lastState===YT.PlayerState.ENDED:!1}volume(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1}setVolume(c){this.ytPlayer&&this.ytPlayer.setVolume(c*100)}muted(){return this.ytPlayer?this.ytPlayer.isMuted():!1}setMuted(c){if(this.ytPlayer)this.muted(!0);else return;c?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout(function(){this.trigger("volumechange")},50)}buffered(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return r.createTimeRange();var c=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return r.createTimeRange(0,c)}preload(){}load(){}reset(){}networkState(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 3:return 2;default:return 1}}readyState(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 5:return 1;case 3:return 2;default:return 4}}supportsFullScreen(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}checkHighResPoster(){var c="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var d=new Image;d.onload=(function(){if("naturalHeight"in d){if(d.naturalHeight<=90||d.naturalWidth<=120)return}else if(d.height<=90||d.width<=120)return;this.poster_=c,this.trigger("posterchange")}).bind(this),d.onerror=function(){},d.src=c}catch{}}}s.isSupported=function(){return!0},s.canPlaySource=function(u){return s.canPlayType(u.type)},s.canPlayType=function(u){return u==="video/youtube"},s.parseUrl=function(u){var c={videoId:null},d=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,h=u.match(d);h&&h[2].length===11&&(c.videoId=h[2]);var f=/[?&]list=([^#\&\?]+)/;return h=u.match(f),h&&h[1]&&(c.listId=h[1]),c};function a(){YT.ready(function(){s.isApiReady=!0;for(var u=0;u<s.apiReadyQueue.length;++u)s.apiReadyQueue[u].initYTPlayer()})}function o(u,c){var d=!1,h=document.createElement("script"),f=document.getElementsByTagName("script")[0];f&&(f.parentNode.insertBefore(h,f),h.onload=function(){d||(d=!0,c())},h.onreadystatechange=function(){!d&&(this.readyState==="complete"||this.readyState==="loaded")&&(d=!0,c())},h.src=u)}function l(){var u=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css",d.styleSheet?d.styleSheet.cssText=u:d.appendChild(document.createTextNode(u)),c.appendChild(d)}s.apiReadyQueue=[],typeof document<"u"&&(o("https://www.youtube.com/iframe_api",a),l()),typeof r.registerTech<"u"?r.registerTech("Youtube",s):r.registerComponent("Youtube",s)})})(jX);const HX={class:"overflow-hidden"},KX=st({__name:"VideoPlayer",props:{options:{type:Object,default:()=>({})}},setup(t){const e=t,{options:r}=Ls(e),i=Xe(null),n=Xe(null);return qr(()=>{i.value&&(n.value=ae(i.value,r.value,function(){}))}),pi(r,s=>{n.value&&n.value.src(s.sources[0])}),Ou(()=>{n.value&&n.value.dispose()}),(s,a)=>(X(),ne("div",HX,[m("video",{ref_key:"videoPlayer",ref:i,class:"video-js w-full h-full"},null,512)]))}});/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:eL,setPrototypeOf:M_,isFrozen:WX,getPrototypeOf:GX,getOwnPropertyDescriptor:XX}=Object;let{freeze:tn,seal:ns,create:tL}=Object,{apply:v5,construct:b5}=typeof Reflect<"u"&&Reflect;tn||(tn=function(e){return e});ns||(ns=function(e){return e});v5||(v5=function(e,r,i){return e.apply(r,i)});b5||(b5=function(e,r){return new e(...r)});const Ef=On(Array.prototype.forEach),D_=On(Array.prototype.pop),Sd=On(Array.prototype.push),e1=On(String.prototype.toLowerCase),X4=On(String.prototype.toString),L_=On(String.prototype.match),Cd=On(String.prototype.replace),YX=On(String.prototype.indexOf),ZX=On(String.prototype.trim),vs=On(Object.prototype.hasOwnProperty),zi=On(RegExp.prototype.test),kd=JX(TypeError);function On(t){return function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return v5(t,e,i)}}function JX(t){return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return b5(t,r)}}function Rt(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e1;M_&&M_(t,null);let i=e.length;for(;i--;){let n=e[i];if(typeof n=="string"){const s=r(n);s!==n&&(WX(e)||(e[i]=s),n=s)}t[n]=!0}return t}function QX(t){for(let e=0;e<t.length;e++)vs(t,e)||(t[e]=null);return t}function tu(t){const e=tL(null);for(const[r,i]of eL(t))vs(t,r)&&(Array.isArray(i)?e[r]=QX(i):i&&typeof i=="object"&&i.constructor===Object?e[r]=tu(i):e[r]=i);return e}function Td(t,e){for(;t!==null;){const i=XX(t,e);if(i){if(i.get)return On(i.get);if(typeof i.value=="function")return On(i.value)}t=GX(t)}function r(){return null}return r}const B_=tn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Y4=tn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Z4=tn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),eY=tn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),J4=tn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),tY=tn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P_=tn(["#text"]),I_=tn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Q4=tn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),R_=tn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Af=tn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),rY=ns(/\{\{[\w\W]*|[\w\W]*\}\}/gm),iY=ns(/<%[\w\W]*|[\w\W]*%>/gm),nY=ns(/\${[\w\W]*}/gm),sY=ns(/^data-[\-\w.\u00B7-\uFFFF]/),aY=ns(/^aria-[\-\w]+$/),rL=ns(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),oY=ns(/^(?:\w+script|data):/i),lY=ns(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),iL=ns(/^html$/i),uY=ns(/^[a-z][.\w]*(-[.\w]+)+$/i);var O_=Object.freeze({__proto__:null,MUSTACHE_EXPR:rY,ERB_EXPR:iY,TMPLIT_EXPR:nY,DATA_ATTR:sY,ARIA_ATTR:aY,IS_ALLOWED_URI:rL,IS_SCRIPT_OR_DATA:oY,ATTR_WHITESPACE:lY,DOCTYPE_NAME:iL,CUSTOM_ELEMENT:uY});const Ed={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},cY=function(){return typeof window>"u"?null:window},dY=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const n="data-tt-policy-suffix";r&&r.hasAttribute(n)&&(i=r.getAttribute(n));const s="dompurify"+(i?"#"+i:"");try{return e.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function nL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cY();const e=et=>nL(et);if(e.version="3.1.7",e.removed=[],!t||!t.document||t.document.nodeType!==Ed.document)return e.isSupported=!1,e;let{document:r}=t;const i=r,n=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:f}=t,g=l.prototype,y=Td(g,"cloneNode"),C=Td(g,"remove"),S=Td(g,"nextSibling"),A=Td(g,"childNodes"),T=Td(g,"parentNode");if(typeof a=="function"){const et=r.createElement("template");et.content&&et.content.ownerDocument&&(r=et.content.ownerDocument)}let M,D="";const{implementation:B,createNodeIterator:F,createDocumentFragment:V,getElementsByTagName:O}=r,{importNode:U}=i;let J={};e.isSupported=typeof eL=="function"&&typeof T=="function"&&B&&B.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Y,ERB_EXPR:re,TMPLIT_EXPR:ce,DATA_ATTR:qe,ARIA_ATTR:Me,IS_SCRIPT_OR_DATA:me,ATTR_WHITESPACE:be,CUSTOM_ELEMENT:ot}=O_;let{IS_ALLOWED_URI:vt}=O_,$e=null;const Je=Rt({},[...B_,...Y4,...Z4,...J4,...P_]);let rt=null;const Ft=Rt({},[...I_,...Q4,...R_,...Af]);let it=Object.seal(tL(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),It=null,oe=null,Te=!0,Ee=!0,Ie=!1,wt=!0,St=!1,N=!0,z=!1,ie=!1,ve=!1,pe=!1,xe=!1,Re=!1,Se=!0,Oe=!1;const De="user-content-";let at=!0,Ue=!1,Ze={},nt=null;const At=Rt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Vt=null;const $t=Rt({},["audio","video","img","source","image","track"]);let jr=null;const Ar=Rt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Mt="http://www.w3.org/1998/Math/MathML",Vr="http://www.w3.org/2000/svg",Hr="http://www.w3.org/1999/xhtml";let cs=Hr,Jr=!1,Ti=null;const Hu=Rt({},[Mt,Vr,Hr],X4);let Tl=null;const z2=["application/xhtml+xml","text/html"],U2="text/html";let Kr=null,mo=null;const q2=r.createElement("form"),Ip=function(ee){return ee instanceof RegExp||ee instanceof Function},Ku=function(){let ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(mo&&mo===ee)){if((!ee||typeof ee!="object")&&(ee={}),ee=tu(ee),Tl=z2.indexOf(ee.PARSER_MEDIA_TYPE)===-1?U2:ee.PARSER_MEDIA_TYPE,Kr=Tl==="application/xhtml+xml"?X4:e1,$e=vs(ee,"ALLOWED_TAGS")?Rt({},ee.ALLOWED_TAGS,Kr):Je,rt=vs(ee,"ALLOWED_ATTR")?Rt({},ee.ALLOWED_ATTR,Kr):Ft,Ti=vs(ee,"ALLOWED_NAMESPACES")?Rt({},ee.ALLOWED_NAMESPACES,X4):Hu,jr=vs(ee,"ADD_URI_SAFE_ATTR")?Rt(tu(Ar),ee.ADD_URI_SAFE_ATTR,Kr):Ar,Vt=vs(ee,"ADD_DATA_URI_TAGS")?Rt(tu($t),ee.ADD_DATA_URI_TAGS,Kr):$t,nt=vs(ee,"FORBID_CONTENTS")?Rt({},ee.FORBID_CONTENTS,Kr):At,It=vs(ee,"FORBID_TAGS")?Rt({},ee.FORBID_TAGS,Kr):{},oe=vs(ee,"FORBID_ATTR")?Rt({},ee.FORBID_ATTR,Kr):{},Ze=vs(ee,"USE_PROFILES")?ee.USE_PROFILES:!1,Te=ee.ALLOW_ARIA_ATTR!==!1,Ee=ee.ALLOW_DATA_ATTR!==!1,Ie=ee.ALLOW_UNKNOWN_PROTOCOLS||!1,wt=ee.ALLOW_SELF_CLOSE_IN_ATTR!==!1,St=ee.SAFE_FOR_TEMPLATES||!1,N=ee.SAFE_FOR_XML!==!1,z=ee.WHOLE_DOCUMENT||!1,pe=ee.RETURN_DOM||!1,xe=ee.RETURN_DOM_FRAGMENT||!1,Re=ee.RETURN_TRUSTED_TYPE||!1,ve=ee.FORCE_BODY||!1,Se=ee.SANITIZE_DOM!==!1,Oe=ee.SANITIZE_NAMED_PROPS||!1,at=ee.KEEP_CONTENT!==!1,Ue=ee.IN_PLACE||!1,vt=ee.ALLOWED_URI_REGEXP||rL,cs=ee.NAMESPACE||Hr,it=ee.CUSTOM_ELEMENT_HANDLING||{},ee.CUSTOM_ELEMENT_HANDLING&&Ip(ee.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(it.tagNameCheck=ee.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ee.CUSTOM_ELEMENT_HANDLING&&Ip(ee.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(it.attributeNameCheck=ee.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ee.CUSTOM_ELEMENT_HANDLING&&typeof ee.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(it.allowCustomizedBuiltInElements=ee.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),St&&(Ee=!1),xe&&(pe=!0),Ze&&($e=Rt({},P_),rt=[],Ze.html===!0&&(Rt($e,B_),Rt(rt,I_)),Ze.svg===!0&&(Rt($e,Y4),Rt(rt,Q4),Rt(rt,Af)),Ze.svgFilters===!0&&(Rt($e,Z4),Rt(rt,Q4),Rt(rt,Af)),Ze.mathMl===!0&&(Rt($e,J4),Rt(rt,R_),Rt(rt,Af))),ee.ADD_TAGS&&($e===Je&&($e=tu($e)),Rt($e,ee.ADD_TAGS,Kr)),ee.ADD_ATTR&&(rt===Ft&&(rt=tu(rt)),Rt(rt,ee.ADD_ATTR,Kr)),ee.ADD_URI_SAFE_ATTR&&Rt(jr,ee.ADD_URI_SAFE_ATTR,Kr),ee.FORBID_CONTENTS&&(nt===At&&(nt=tu(nt)),Rt(nt,ee.FORBID_CONTENTS,Kr)),at&&($e["#text"]=!0),z&&Rt($e,["html","head","body"]),$e.table&&(Rt($e,["tbody"]),delete It.tbody),ee.TRUSTED_TYPES_POLICY){if(typeof ee.TRUSTED_TYPES_POLICY.createHTML!="function")throw kd('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ee.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw kd('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');M=ee.TRUSTED_TYPES_POLICY,D=M.createHTML("")}else M===void 0&&(M=dY(f,n)),M!==null&&typeof D=="string"&&(D=M.createHTML(""));tn&&tn(ee),mo=ee}},Rp=Rt({},["mi","mo","mn","ms","mtext"]),Op=Rt({},["annotation-xml"]),j2=Rt({},["title","style","font","a","script"]),Fp=Rt({},[...Y4,...Z4,...eY]),Np=Rt({},[...J4,...tY]),$p=function(ee){let Ce=T(ee);(!Ce||!Ce.tagName)&&(Ce={namespaceURI:cs,tagName:"template"});const Qe=e1(ee.tagName),Gt=e1(Ce.tagName);return Ti[ee.namespaceURI]?ee.namespaceURI===Vr?Ce.namespaceURI===Hr?Qe==="svg":Ce.namespaceURI===Mt?Qe==="svg"&&(Gt==="annotation-xml"||Rp[Gt]):!!Fp[Qe]:ee.namespaceURI===Mt?Ce.namespaceURI===Hr?Qe==="math":Ce.namespaceURI===Vr?Qe==="math"&&Op[Gt]:!!Np[Qe]:ee.namespaceURI===Hr?Ce.namespaceURI===Vr&&!Op[Gt]||Ce.namespaceURI===Mt&&!Rp[Gt]?!1:!Np[Qe]&&(j2[Qe]||!Fp[Qe]):!!(Tl==="application/xhtml+xml"&&Ti[ee.namespaceURI]):!1},sn=function(ee){Sd(e.removed,{element:ee});try{T(ee).removeChild(ee)}catch{C(ee)}},va=function(ee,Ce){try{Sd(e.removed,{attribute:Ce.getAttributeNode(ee),from:Ce})}catch{Sd(e.removed,{attribute:null,from:Ce})}if(Ce.removeAttribute(ee),ee==="is"&&!rt[ee])if(pe||xe)try{sn(Ce)}catch{}else try{Ce.setAttribute(ee,"")}catch{}},yi=function(ee){let Ce=null,Qe=null;if(ve)ee="<remove></remove>"+ee;else{const ei=L_(ee,/^[\r\n\t ]+/);Qe=ei&&ei[0]}Tl==="application/xhtml+xml"&&cs===Hr&&(ee='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ee+"</body></html>");const Gt=M?M.createHTML(ee):ee;if(cs===Hr)try{Ce=new h().parseFromString(Gt,Tl)}catch{}if(!Ce||!Ce.documentElement){Ce=B.createDocument(cs,"template",null);try{Ce.documentElement.innerHTML=Jr?D:Gt}catch{}}const li=Ce.body||Ce.documentElement;return ee&&Qe&&li.insertBefore(r.createTextNode(Qe),li.childNodes[0]||null),cs===Hr?O.call(Ce,z?"html":"body")[0]:z?Ce.documentElement:li},zp=function(ee){return F.call(ee.ownerDocument||ee,ee,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Up=function(ee){return ee instanceof d&&(typeof ee.nodeName!="string"||typeof ee.textContent!="string"||typeof ee.removeChild!="function"||!(ee.attributes instanceof c)||typeof ee.removeAttribute!="function"||typeof ee.setAttribute!="function"||typeof ee.namespaceURI!="string"||typeof ee.insertBefore!="function"||typeof ee.hasChildNodes!="function")},El=function(ee){return typeof o=="function"&&ee instanceof o},Qr=function(ee,Ce,Qe){J[ee]&&Ef(J[ee],Gt=>{Gt.call(e,Ce,Qe,mo)})},Al=function(ee){let Ce=null;if(Qr("beforeSanitizeElements",ee,null),Up(ee))return sn(ee),!0;const Qe=Kr(ee.nodeName);if(Qr("uponSanitizeElement",ee,{tagName:Qe,allowedTags:$e}),ee.hasChildNodes()&&!El(ee.firstElementChild)&&zi(/<[/\w]/g,ee.innerHTML)&&zi(/<[/\w]/g,ee.textContent)||ee.nodeType===Ed.progressingInstruction||N&&ee.nodeType===Ed.comment&&zi(/<[/\w]/g,ee.data))return sn(ee),!0;if(!$e[Qe]||It[Qe]){if(!It[Qe]&&qp(Qe)&&(it.tagNameCheck instanceof RegExp&&zi(it.tagNameCheck,Qe)||it.tagNameCheck instanceof Function&&it.tagNameCheck(Qe)))return!1;if(at&&!nt[Qe]){const Gt=T(ee)||ee.parentNode,li=A(ee)||ee.childNodes;if(li&&Gt){const ei=li.length;for(let Ei=ei-1;Ei>=0;--Ei){const _n=y(li[Ei],!0);_n.__removalCount=(ee.__removalCount||0)+1,Gt.insertBefore(_n,S(ee))}}}return sn(ee),!0}return ee instanceof l&&!$p(ee)||(Qe==="noscript"||Qe==="noembed"||Qe==="noframes")&&zi(/<\/no(script|embed|frames)/i,ee.innerHTML)?(sn(ee),!0):(St&&ee.nodeType===Ed.text&&(Ce=ee.textContent,Ef([Y,re,ce],Gt=>{Ce=Cd(Ce,Gt," ")}),ee.textContent!==Ce&&(Sd(e.removed,{element:ee.cloneNode()}),ee.textContent=Ce)),Qr("afterSanitizeElements",ee,null),!1)},Zt=function(ee,Ce,Qe){if(Se&&(Ce==="id"||Ce==="name")&&(Qe in r||Qe in q2))return!1;if(!(Ee&&!oe[Ce]&&zi(qe,Ce))){if(!(Te&&zi(Me,Ce))){if(!rt[Ce]||oe[Ce]){if(!(qp(ee)&&(it.tagNameCheck instanceof RegExp&&zi(it.tagNameCheck,ee)||it.tagNameCheck instanceof Function&&it.tagNameCheck(ee))&&(it.attributeNameCheck instanceof RegExp&&zi(it.attributeNameCheck,Ce)||it.attributeNameCheck instanceof Function&&it.attributeNameCheck(Ce))||Ce==="is"&&it.allowCustomizedBuiltInElements&&(it.tagNameCheck instanceof RegExp&&zi(it.tagNameCheck,Qe)||it.tagNameCheck instanceof Function&&it.tagNameCheck(Qe))))return!1}else if(!jr[Ce]){if(!zi(vt,Cd(Qe,be,""))){if(!((Ce==="src"||Ce==="xlink:href"||Ce==="href")&&ee!=="script"&&YX(Qe,"data:")===0&&Vt[ee])){if(!(Ie&&!zi(me,Cd(Qe,be,"")))){if(Qe)return!1}}}}}}return!0},qp=function(ee){return ee!=="annotation-xml"&&L_(ee,ot)},Ml=function(ee){Qr("beforeSanitizeAttributes",ee,null);const{attributes:Ce}=ee;if(!Ce)return;const Qe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:rt};let Gt=Ce.length;for(;Gt--;){const li=Ce[Gt],{name:ei,namespaceURI:Ei,value:_n}=li,ba=Kr(ei);let ti=ei==="value"?_n:ZX(_n);if(Qe.attrName=ba,Qe.attrValue=ti,Qe.keepAttr=!0,Qe.forceKeepAttr=void 0,Qr("uponSanitizeAttribute",ee,Qe),ti=Qe.attrValue,Qe.forceKeepAttr||(va(ei,ee),!Qe.keepAttr))continue;if(!wt&&zi(/\/>/i,ti)){va(ei,ee);continue}St&&Ef([Y,re,ce],jp=>{ti=Cd(ti,jp," ")});const Q0=Kr(ee.nodeName);if(Zt(Q0,ba,ti)){if(Oe&&(ba==="id"||ba==="name")&&(va(ei,ee),ti=De+ti),N&&zi(/((--!?|])>)|<\/(style|title)/i,ti)){va(ei,ee);continue}if(M&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Ei)switch(f.getAttributeType(Q0,ba)){case"TrustedHTML":{ti=M.createHTML(ti);break}case"TrustedScriptURL":{ti=M.createScriptURL(ti);break}}try{Ei?ee.setAttributeNS(Ei,ei,ti):ee.setAttribute(ei,ti),Up(ee)?sn(ee):D_(e.removed)}catch{}}}Qr("afterSanitizeAttributes",ee,null)},Wu=function et(ee){let Ce=null;const Qe=zp(ee);for(Qr("beforeSanitizeShadowDOM",ee,null);Ce=Qe.nextNode();)Qr("uponSanitizeShadowNode",Ce,null),!Al(Ce)&&(Ce.content instanceof s&&et(Ce.content),Ml(Ce));Qr("afterSanitizeShadowDOM",ee,null)};return e.sanitize=function(et){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ce=null,Qe=null,Gt=null,li=null;if(Jr=!et,Jr&&(et="<!-->"),typeof et!="string"&&!El(et))if(typeof et.toString=="function"){if(et=et.toString(),typeof et!="string")throw kd("dirty is not a string, aborting")}else throw kd("toString is not a function");if(!e.isSupported)return et;if(ie||Ku(ee),e.removed=[],typeof et=="string"&&(Ue=!1),Ue){if(et.nodeName){const _n=Kr(et.nodeName);if(!$e[_n]||It[_n])throw kd("root node is forbidden and cannot be sanitized in-place")}}else if(et instanceof o)Ce=yi("<!---->"),Qe=Ce.ownerDocument.importNode(et,!0),Qe.nodeType===Ed.element&&Qe.nodeName==="BODY"||Qe.nodeName==="HTML"?Ce=Qe:Ce.appendChild(Qe);else{if(!pe&&!St&&!z&&et.indexOf("<")===-1)return M&&Re?M.createHTML(et):et;if(Ce=yi(et),!Ce)return pe?null:Re?D:""}Ce&&ve&&sn(Ce.firstChild);const ei=zp(Ue?et:Ce);for(;Gt=ei.nextNode();)Al(Gt)||(Gt.content instanceof s&&Wu(Gt.content),Ml(Gt));if(Ue)return et;if(pe){if(xe)for(li=V.call(Ce.ownerDocument);Ce.firstChild;)li.appendChild(Ce.firstChild);else li=Ce;return(rt.shadowroot||rt.shadowrootmode)&&(li=U.call(i,li,!0)),li}let Ei=z?Ce.outerHTML:Ce.innerHTML;return z&&$e["!doctype"]&&Ce.ownerDocument&&Ce.ownerDocument.doctype&&Ce.ownerDocument.doctype.name&&zi(iL,Ce.ownerDocument.doctype.name)&&(Ei="<!DOCTYPE "+Ce.ownerDocument.doctype.name+`>
`+Ei),St&&Ef([Y,re,ce],_n=>{Ei=Cd(Ei,_n," ")}),M&&Re?M.createHTML(Ei):Ei},e.setConfig=function(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ku(et),ie=!0},e.clearConfig=function(){mo=null,ie=!1},e.isValidAttribute=function(et,ee,Ce){mo||Ku({});const Qe=Kr(et),Gt=Kr(ee);return Zt(Qe,Gt,Ce)},e.addHook=function(et,ee){typeof ee=="function"&&(J[et]=J[et]||[],Sd(J[et],ee))},e.removeHook=function(et){if(J[et])return D_(J[et])},e.removeHooks=function(et){J[et]&&(J[et]=[])},e.removeAllHooks=function(){J={}},e}var hY=nL();function Qn(t){return hY.sanitize(t.replace("\\",""),{ALLOWED_TAGS:["b","i","em","strong","a","p","br","ul","ol","li","span","div","h1","h2","h3","h4","h5","h6","img"],ALLOWED_ATTR:["href","src","alt","title","target","rel"],FORBID_TAGS:["script","style","iframe"],FORBID_ATTR:["style","onerror","onclick","onload"]})}const pY={class:"top-0 h-max bg-screenBlack overflow-x-hidden"},fY={class:"flex flex-col font-body text-pearl-white gap-[3rem] w-full"},mY={class:"flex flex-col gap-0","data-aos":"fade-right","data-aos-offset":"0"},gY=["innerHTML"],yY={class:"flex justify-between md:justify-start items-center w-full md:gap-[2.4rem] lg:text-body"},vY={id:"about",class:"w-full h-max scroll-pt-[30rem] grid grid-cols-1 lg:grid-cols-[4fr_5fr] gap-[6rem] lg:gap-[4rem] px-[2rem] lg:px-[12rem] xl:px-[10vw] py-[10rem]"},bY={class:"w-full h-max flex justify-center items-center"},xY={class:"text-pearl-white flex flex-col items-center lg:items-start gap-[2rem]"},_Y={class:"font-base text-body text-center lg:text-left","data-aos":"fade-up"},wY={class:"flex justify-center items-center w-full lg:px-[3rem]"},SY={class:"w-full h-max grid grid-cols-1 lg:grid-cols-[4fr_5fr] gap-y-[10rem] lg:gap-[4rem] lg:px-[12rem] xl:px-[10vw] pt-[5rem] lg:py-[5rem] relative lg:gap-y-3"},CY={class:"w-full h-max grid grid-cols-1 auto-rows-[25rem] gap-y-[2rem] relative px-[2rem] lg:px-[0rem]"},kY={class:"grid grid-cols-[4rem_1fr] grid-rows-1 gap-x-[1rem] text-pearl-white"},TY={class:"grid grid-cols-1 grid-rows-[7rem_4px_auto] gap-[1rem] h-full","data-aos":"fade-up"},EY={class:"font-heading text-subtitle lg:text-title"},AY={class:"font-body text-body"},MY={class:"grid grid-cols-[4rem_1fr] grid-rows-1 gap-x-[1rem] text-pearl-white"},DY={class:"grid grid-cols-1 grid-rows-[7rem_4px_auto] gap-[1rem] h-full","data-aos":"fade-up"},LY={class:"font-heading text-subtitle lg:text-title"},BY={class:"font-body text-body"},PY={class:"grid grid-cols-[4rem_1fr] grid-rows-1 gap-x-[1rem] text-pearl-white"},IY={class:"grid grid-cols-1 grid-rows-[7rem_4px_auto] gap-[1rem] h-full","data-aos":"fade-up","data-aos-offset":"-50"},RY={class:"font-heading text-subtitle lg:text-title"},OY={class:"font-body text-body"},FY={class:"w-full h-max grid grid-cols-1 xl:grid-cols-[4fr_6fr] gap-[4rem] lg:px-[12rem] xl:px-[10vw] pb-[10rem] lg:py-[5rem] relative gap-y-3"},NY={class:"w-full h-max px-[2rem] lg:px-[0]","data-aos":"fade-left"},$Y={class:"font-heading flex flex-col justify-center items-start p-[2rem]"},zY={class:"text-screen-black text-subtitle md:text-title text-left"},UY={class:"text-primary text-subtitle md:text-title text-left"},qY={class:"flex justify-center md:justify-end items-start p-[2rem]"},jY={class:"w-[90%] md:w-[100%] h-min rounded-[20px] overflow-hidden shadow-[-1.5rem_1.5rem_0px_0px_#FBC151]"},VY=["src"],HY={class:"md:col-span-2 px-[2rem] py-[4rem] lg:py-[0] h-full w-full flex items-center"},KY=["innerHTML"],WY={class:"bg-pearl-white text-screenBlack px-[2rem] lg:px-[12rem] xl:px-[10vw] flex flex-col gap-[6rem] lg:gap-[10rem] py-[10rem] lg:py-[15rem] [clip-path:polygon(0_5rem,100%_0,100%_calc(100%-5rem),0%_100%)]"},GY={class:"flex flex-col gap-[4rem]"},XY={class:"font-heading text-subtitle lg:text-title relative after:absolute after:left-0 after:top-[2rem] lg:after:top-[4rem] after:-z-10 after:w-full after:h-[2rem] lg:after:h-[3rem] after:bg-primary after:-skew-x-[30deg] after:scale-x-[1.1] after:translate-x-2 after:-rotate-[2deg]"},YY={class:"font-body text-body lg:text-body lg:font-semibold","data-aos":"fade-up"},ZY={class:"w-full h-max bg-screenBlack"},JY={key:0,class:"w-full h-max flex flex-col gap-[5rem] lg:gap-0 lg:grid lg:grid-cols-[1fr_25rem] lg:grid-rows-1 lg:gap-x-[10rem] px-[2rem] lg:px-[12rem] xl:px-[10vw] py-[12rem] bg-pearl-white [clip-path:polygon(0_5rem,100%_0,100%_calc(100%-5rem),0%_100%)]"},QY={class:"flex flex-col gap-[4rem]"},eZ={class:"font-heading text-center text-title lg:text-heading"},tZ={class:"font-body text-body lg:text-body text-center lg:text-left"},rZ={class:"w-full h-full p-[20%] lg:p-0"},iZ=["src"],nZ={key:0,class:"relative w-full h-max py-[12rem]"},sZ={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},aZ={class:"flex flex-row justify-center lg:justify-between flex-wrap"},oZ=["data-aos-delay"],lZ={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},uZ={class:"relative w-full h-full"},cZ={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},dZ={class:"relative h-full aspect-square flex justify-center items-center"},hZ=["src","alt"],pZ={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},fZ={class:"font-heading text-subtitle lg:text-subtitle text-screenBlack"},mZ={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},gZ={class:"flex flex-row-reverse justify-center lg:justify-between flex-wrap"},yZ=["data-aos-delay"],vZ={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},bZ={class:"relative w-full h-full"},xZ={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},_Z={class:"relative h-full aspect-square flex justify-center items-center"},wZ=["src","alt"],SZ={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},CZ={class:"font-heading text-body lg:text-subtitle text-screenBlack"},kZ={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},TZ={class:"flex justify-center lg:justify-between flex-wrap"},EZ=["data-aos-delay"],AZ={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},MZ={class:"relative w-full h-full"},DZ={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},LZ={class:"relative h-full aspect-square flex justify-center items-center"},BZ=["src","alt"],PZ={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},IZ={class:"font-heading text-body lg:text-body text-screenBlack"},RZ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] h-max py-[10rem] flex flex-col gap-[5rem] lg:gap-0 lg:grid lg:grid-cols-2"},OZ={class:"flex lg:flex-row justify-center items-center w-full"},FZ={class:"flex gap-[5rem]"},NZ=["href"],$Z={key:0,width:"104",height:"104",viewBox:"0 0 104 104",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},zZ={key:1,width:"104",height:"104",viewBox:"0 0 104 104",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},UZ={key:2,width:"94",height:"84",viewBox:"0 0 94 84",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},qZ={key:3,width:"257",height:"180",viewBox:"0 0 257 180",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},jZ=st({__name:"Home",setup(t){const e=DE(),r=Xe({autoplay:!1,controls:!0,sources:[{src:e.videoUrl,type:"video/youtube"}]});BF(()=>{r.value={autoplay:!1,controls:!0,sources:[{src:e.videoUrl,type:"video/youtube"}]}});const{isAuthenticated:i}=Si();return(n,s)=>{const a=yn("RouterLink");return X(),Ot(Fn,null,{default:We(()=>{var o,l,u,c,d,h,f,g,y,C;return[m("div",pY,[m("section",{class:"top-0 flex justify-start pt-[30vh] md:pt-0 md:items-center lg:min-h-[40rem] h-[111vh] px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-no-repeat bg-cover [clip-path:polygon(0_0,100%_0,100%_90%,0%_100%)] relative",style:Zi({backgroundImage:`url(${P(e).titleBackgroundImage})`})},[m("div",fY,[m("div",mY,[s[0]||(s[0]=m("h1",{class:"font-heading text-title lg:text-heading"},"INTEGRATION BEE",-1)),s[1]||(s[1]=m("h2",{class:"font-heading text-primary text-subtitle lg:text-title"},"AUSTRIA",-1)),m("h3",{class:"text-body lg:text-title",innerHTML:P(e).slogan&&P(Qn)(P(e).slogan)},null,8,gY)]),m("div",yY,[P(i)?je("",!0):(X(),Ot(a,{key:0,to:"/sign_in",class:"rounded-2xl text-secondary bg-primary w-[16rem] h-[6rem] lg:w-[18rem] lg:h-[6rem] flex justify-center items-center text-body font-semibold"},{default:We(()=>s[2]||(s[2]=[tt("Sign in")])),_:1})),P(i)?(X(),Ot(a,{key:1,to:"/events",class:"rounded-2xl text-secondary bg-primary w-[16rem] h-[6rem] lg:w-[18rem] lg:h-[6rem] flex justify-center items-center text-body font-semibold"},{default:We(()=>s[3]||(s[3]=[tt("Events")])),_:1})):je("",!0),ye(a,{to:"#about",class:"border-pearl-white border-2 rounded-2xl w-[16rem] h-[6rem] lg:w-[18rem] lg:h-[6rem] flex justify-center items-center text-body font-semibold overflow-hidden lg:hover:text-screenBlack signUpBtn"},{default:We(()=>s[4]||(s[4]=[m("p",{class:"relative"},"Learn More",-1),m("div",{class:"signUpBtn_Bg bg-pearl-white hidden lg:flex"},null,-1)])),_:1})])]),s[5]||(s[5]=m("div",{class:"w-[5rem] aspect-square absolute left-[calc(50vw-2.5rem)] bottom-[max(15rem,20vh)] stroke-primary down-arrow"},[m("svg",{width:"61",height:"34",viewBox:"0 0 61 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M1.58545 1.35022L30.7674 30.5322L59.1498 2.14972","stroke-width":"3.7689"})])],-1))],4),m("section",vY,[m("div",bY,[m("div",xY,[s[6]||(s[6]=m("h3",{class:"font-heading text-title","data-aos":"fade-up"}," What is It ",-1)),m("p",_Y,ge(P(e).whatIsItContent),1)])]),m("div",wY,[ye(KX,{options:r.value,class:"rounded-[30px] lg:rounded-3xl w-full aspect-video border-pearl-white border-4 box-content"},null,8,["options"])])]),m("section",SY,[s[14]||(s[14]=m("div",null,[m("div",{class:"flex flex-col justify-center lg:h-[75rem] relative"},[m("div",{class:"flex flex-col items-end gap-[2rem] lg:absolute -left-[10vw] pr-[4rem]"},[m("h2",{class:"text-white font-heading text-title lg:text-heading text-center lg:text-right w-full pl-[10vw] lg:pl-[12rem]"}," 3 steps to participate "),m("div",{class:"w-full flex justify-start"},[m("div",{class:"w-auto h-auto"},[m("svg",{width:"749",height:"82",viewBox:"0 0 749 82",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full -scale-x-[1]"},[m("path",{d:"M749 0H2.8793C0.9697 0 0.146249 2.42068 1.65973 3.58513L103.039 81.5851C103.389 81.8541 103.818 82 104.259 82H749V0Z",fill:"#FBC151"})])])])])])],-1)),m("div",CY,[m("div",kY,[s[8]||(s[8]=m("div",{class:"relative pt-[calc(6rem)] z-[1]"},[m("svg",{width:"49",height:"45",viewBox:"0 0 49 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full aspect-square"},[m("path",{d:"M34.0532 0.508602L48.3827 19.7613L38.8741 41.7973L15.036 44.5807L0.706578 25.328L10.2152 3.29193L34.0532 0.508602Z",fill:"#FBC151"})])],-1)),m("div",TY,[m("h4",EY,ge((o=P(e).stepsToParticipate[0])==null?void 0:o.title),1),s[7]||(s[7]=m("div",{class:"h-[4px] bg-primary w-full"},null,-1)),m("p",AY,ge((l=P(e).stepsToParticipate[0])==null?void 0:l.description),1)])]),m("div",MY,[s[10]||(s[10]=m("div",{class:"relative pt-[calc(6rem)] z-[1]"},[m("svg",{width:"49",height:"45",viewBox:"0 0 49 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full aspect-square"},[m("path",{d:"M34.0532 0.508602L48.3827 19.7613L38.8741 41.7973L15.036 44.5807L0.706578 25.328L10.2152 3.29193L34.0532 0.508602Z",fill:"#FBC151"})])],-1)),m("div",DY,[m("h4",LY,ge((u=P(e).stepsToParticipate[1])==null?void 0:u.title),1),s[9]||(s[9]=m("div",{class:"h-[4px] bg-primary w-full"},null,-1)),m("p",BY,ge((c=P(e).stepsToParticipate[1])==null?void 0:c.description),1)])]),m("div",PY,[s[12]||(s[12]=m("div",{class:"relative pt-[calc(6rem)] z-[1]"},[m("svg",{width:"49",height:"45",viewBox:"0 0 49 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full aspect-square"},[m("path",{d:"M34.0532 0.508602L48.3827 19.7613L38.8741 41.7973L15.036 44.5807L0.706578 25.328L10.2152 3.29193L34.0532 0.508602Z",fill:"#FBC151"})])],-1)),m("div",IY,[m("h4",RY,ge((d=P(e).stepsToParticipate[2])==null?void 0:d.title),1),s[11]||(s[11]=m("div",{class:"h-[4px] bg-primary w-full"},null,-1)),m("p",OY,ge((h=P(e).stepsToParticipate[2])==null?void 0:h.description),1)])]),s[13]||(s[13]=m("div",{class:"absolute top-[calc(8rem+2px)] left-[calc(4rem-3px)] lg:left-[calc(2rem-3px)] z-0 w-[6px] h-[calc(54rem+2px)]"},[m("svg",{viewBox:"0 0 6 507",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full"},[m("path",{d:"M3 0V507",stroke:"#FBC151","stroke-width":"5","stroke-dasharray":"6 6"})])],-1))])]),m("section",FY,[s[15]||(s[15]=m("div",null,[m("div",{class:"flex flex-col justify-center h-[45rem] relative w-full"},[m("div",{class:"flex flex-col items-end gap-[2rem] absolute lg:-left-[10vw] pr-[4rem] w-full"},[m("h2",{class:"text-white font-heading text-title lg:text-heading text-center lg:text-right w-full pl-[2rem] lg:pl-[10vw]"}," Our next event: "),m("div",{class:"w-full flex justify-start"},[m("div",null,[m("svg",{width:"469",height:"82",viewBox:"0 0 469 82",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M0 0H466.793C468.478 0 469.408 1.95593 468.344 3.26264L404.847 81.2626C404.467 81.7292 403.898 82 403.296 82H0V0Z",fill:"#FBC151"})])])])])])],-1)),m("div",NY,[ye(a,{to:(f=P(e).nextEvent)==null?void 0:f.link,class:"w-full h-max lg:h-[45rem] bg-pearl-white rounded-[40px] grid grid-cols-1 md:grid-cols-[5fr_4fr] auto-rows-auto md:grid-rows-[5fr_5fr] cursor-pointer"},{default:We(()=>{var S,A,T,M;return[m("div",$Y,[m("h4",zY,ge((S=P(e).nextEvent)==null?void 0:S.title),1),m("h5",UY,ge((A=P(e).nextEvent)==null?void 0:A.edition),1)]),m("div",qY,[m("div",jY,[m("img",{src:(T=P(e).nextEvent)==null?void 0:T.imageSrc,alt:"last event picture",class:"w-full"},null,8,VY)])]),m("div",HY,[m("p",{class:"font-body text-body text-center lg:text-left",innerHTML:P(e).nextEvent&&P(Qn)((M=P(e).nextEvent)==null?void 0:M.description)},null,8,KY)])]}),_:1},8,["to"])])]),m("section",WY,[s[16]||(s[16]=m("div",{class:"w-full flex justify-center"},[m("h3",{class:"font-heading text-subtitle lg:text-heading text-center relative after:absolute after:left-0 after:top-[2rem] lg:after:top-[7.5rem] after:-z-10 after:w-full after:h-[2rem] lg:after:h-[3rem] after:bg-primary after:-skew-x-[30deg] after:scale-x-[1.1] after:translate-x-2 after:-rotate-[2deg]"}," Why Participate? ")],-1)),m("div",GY,[(X(!0),ne(yt,null,Nr(P(e).whyParticipate,(S,A)=>(X(),ne("div",{key:A,class:"w-full flex flex-col items-start gap-[2rem]","data-aos":"fade-up"},[m("h4",XY," >"+ge(S.title),1),m("p",YY,ge(S.description),1)]))),128))])]),m("section",ZY,[s[29]||(s[29]=m("div",{class:"w-full h-max relative flex justify-center items-center py-[10rem]"},[m("div",{class:"relative h-[10rem] w-full flex justify-center items-center"},[m("div",{class:"w-full absolute top-[2rem] left-0 hidden xl:flex"},[m("svg",{width:"1439",height:"46",viewBox:"0 0 1439 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1439 0.809456L1213.55 9.45089C1213.06 9.46978 1212.59 9.67003 1212.23 10.0132L1194.53 27.1656C1193.22 28.4422 1194.17 30.6707 1196 30.6004L1439 21.2864V0.809456Z",fill:"#FBC151"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 45.4958L265.844 35.3061C266.355 35.2866 266.839 35.0721 267.196 34.7068L283.956 17.5904C285.221 16.2981 284.257 14.1234 282.45 14.1927L0 25.0188V45.4958Z",fill:"#FBC151"})])]),m("h3",{class:"font-heading text-center text-subtitle lg:text-heading text-pearl-white"}," Sponsors of the season ")])],-1)),P(e).mainSponsorExists?(X(),ne("div",JY,[m("div",QY,[m("h4",eZ," Main Sponsor - "+ge((g=P(e).mainSponsor)==null?void 0:g.sponsorName),1),m("p",tZ,ge((y=P(e).mainSponsor)==null?void 0:y.description),1)]),m("div",rZ,[m("img",{src:(C=P(e).mainSponsor)==null?void 0:C.logoSrc,alt:"main sponsor logo",class:"w-full max-h-full"},null,8,iZ)])])):je("",!0),P(e).goldSponsors.length?(X(),ne(yt,{key:1},[P(e).silverSponsors.length||P(e).bronzeSponsors.length||P(e).mainSponsorExists?(X(),ne("div",nZ,s[17]||(s[17]=[m("div",{class:"absolute left-[70%] md:left-[50%] lg:left-[70%] xl:left-[50%] 2xl:left-auto 2xl:right-0 xl:right-0 top-[43%]"},[m("svg",{width:"782",height:"31",viewBox:"0 0 782 31",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M782 0.926632L45.1191 9.80528C44.8717 9.80826 44.627 9.85712 44.3974 9.94936L2.16181 26.9214C0.107586 27.7469 0.717887 30.8037 2.9316 30.777L782 21.3901V0.926632Z",fill:"#FBC151"})])],-1),m("div",{class:"pl-[2rem] lg:pl-[12rem]"},[m("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Gold Sponsors ")],-1)]))):je("",!0),m("div",sZ,[m("div",aZ,[(X(!0),ne(yt,null,Nr(P(e).goldSponsors,(S,A)=>(X(),ne("div",{key:A,"data-aos":"fade-left","data-aos-delay":A*50,"data-aos-offset":"20",class:"relative w-[35rem] h-[35rem]"},[s[19]||(s[19]=m("div",{class:"w-full h-full absolute z-[1]"},[m("svg",{width:"485",height:"485",viewBox:"0 0 485 485",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full"},[m("path",{d:"M315.567 73.0906L425.715 221.082L352.624 390.468L169.386 411.863L59.2388 263.872L132.329 94.4854L315.567 73.0906Z",fill:"#FBC151"}),m("path",{d:"M309.567 91.0447L407.668 222.852L342.571 373.714L179.372 392.769L81.2699 260.962L146.367 110.1L309.567 91.0447Z",fill:"#F2F1F0"})])],-1)),m("div",lZ,[m("div",uZ,[m("div",cZ,[m("div",dZ,[s[18]||(s[18]=m("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),m("img",{src:S.logoSrc,alt:`${S.sponsorName} logo`,class:"relative z-[4]",style:Zi({width:`${S.logoSize}%`,height:`${S.logoSize}%`})},null,12,hZ)])])]),m("div",pZ,[m("p",fZ,ge(S.sponsorName),1)])])],8,oZ))),128)),s[20]||(s[20]=m("div",{class:"h-[35rem] min-w-[35rem] flex items-center justify-center"},[m("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[tt("Here could "),m("br"),tt(" be your logo")])],-1))])])],64)):je("",!0),P(e).silverSponsors.length?(X(),ne(yt,{key:2},[s[24]||(s[24]=m("div",{class:"relative w-full h-max py-[12rem] flex justify-end"},[m("div",{class:"absolute right-[70%] md:right-[50%] lg:right-[70%] xl:right-[60%] 2xl:left-0 top-[43%]"},[m("svg",{width:"701",height:"29",viewBox:"0 0 701 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 29.005L658.721 21.0681C658.981 21.065 659.237 21.0114 659.476 20.9102L699.536 3.9644C701.556 3.10981 700.926 0.0961456 698.733 0.122574L0 8.54158V29.005Z",fill:"#FBC151"})])]),m("div",{class:"pr-[2rem] lg:pr-[12rem]"},[m("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Silver Sponsors ")])],-1)),m("div",mZ,[m("div",gZ,[(X(!0),ne(yt,null,Nr(P(e).silverSponsors,(S,A)=>(X(),ne("div",{key:A,"data-aos":"fade-left","data-aos-delay":A*50,"data-aos-offset":"20",class:"relative w-[30rem] h-[30rem]"},[s[22]||(s[22]=m("div",{class:"w-full h-full absolute z-[1]"},[m("svg",{width:"372",height:"372",viewBox:"0 0 372 372",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full"},[m("path",{d:"M242.067 56.0666L326.559 169.588L270.492 299.522L129.934 315.933L45.4412 202.412L101.508 72.4782L242.067 56.0666Z",fill:"#757575"}),m("path",{d:"M237.463 69.839L312.715 170.946L262.78 286.67L137.593 301.287L62.3406 200.18L112.276 84.4558L237.463 69.839Z",fill:"#F2F1F0"})])],-1)),m("div",vZ,[m("div",bZ,[m("div",xZ,[m("div",_Z,[s[21]||(s[21]=m("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),m("img",{src:S.logoSrc,alt:`${S.sponsorName} logo`,class:"relative z-[4]",style:Zi({width:`${S.logoSize}%`,height:`${S.logoSize}%`})},null,12,wZ)])])]),m("div",SZ,[m("p",CZ,ge(S.sponsorName),1)])])],8,yZ))),128)),s[23]||(s[23]=m("div",{class:"h-[30rem] min-w-[30rem] flex items-center justify-center"},[m("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[tt("Here could "),m("br"),tt(" be your logo")])],-1))])])],64)):je("",!0),P(e).bronzeSponsors.length?(X(),ne(yt,{key:3},[s[28]||(s[28]=m("div",{class:"relative w-full h-max py-[12rem] overflow-x-hidden"},[m("div",{class:"absolute left-[70%] md:left-[50%] lg:left-[70%] xl:left-[50%] 2xl:left-auto 2xl:right-0 xl:right-0 top-[43%]"},[m("svg",{width:"782",height:"31",viewBox:"0 0 782 31",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M782 0.926632L45.1191 9.80528C44.8717 9.80826 44.627 9.85712 44.3974 9.94936L2.16181 26.9214C0.107586 27.7469 0.717887 30.8037 2.9316 30.777L782 21.3901V0.926632Z",fill:"#FBC151"})])]),m("div",{class:"pl-[2rem] lg:pl-[12rem]"},[m("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Bronze Sponsors ")])],-1)),m("div",kZ,[m("div",TZ,[(X(!0),ne(yt,null,Nr(P(e).bronzeSponsors,(S,A)=>(X(),ne("div",{key:A,"data-aos":"fade-left","data-aos-delay":A*50,"data-aos-offset":"20",class:"relative w-[25rem] h-[25rem]"},[s[26]||(s[26]=m("div",{class:"w-full h-full absolute z-[1]"},[m("svg",{width:"293",height:"293",viewBox:"0 0 293 293",fill:"none",xmlns:"http://www.w3.org/2000/svg","preserve-aspect-ratio":"none",class:"w-full h-full"},[m("path",{d:"M190.66 44.16L257.209 133.574L213.049 235.914L102.34 248.84L35.7908 159.426L79.9508 57.0863L190.66 44.16Z",fill:"#CD7F32"}),m("path",{d:"M187.034 55.0074L246.306 134.643L206.975 225.791L108.373 237.304L49.1018 157.668L88.4324 66.5201L187.034 55.0074Z",fill:"#F2F1F0"})])],-1)),m("div",AZ,[m("div",MZ,[m("div",DZ,[m("div",LZ,[s[25]||(s[25]=m("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),m("img",{src:S.logoSrc,alt:`${S.sponsorName} logo`,class:"relative z-[4]",style:Zi({width:`${S.logoSize}%`,height:`${S.logoSize}%`})},null,12,BZ)])])]),m("div",PZ,[m("p",IZ,ge(S.sponsorName),1)])])],8,EZ))),128)),s[27]||(s[27]=m("div",{class:"h-[25rem] min-w-[25rem] flex items-center justify-center"},[m("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[tt("Here could "),m("br"),tt(" be your logo")])],-1))])])],64)):je("",!0)]),m("section",RZ,[s[34]||(s[34]=m("div",{class:"w-full flex text-center lg:text-left justify-center lg:justify-start items-center"},[m("h4",{class:"font-heading text-title lg:text-heading text-pearl-white relative z-[2]"},[m("span",{class:"relative z-[2] after:absolute after:left-0 after:top-[4rem] lg:after:top-[8rem] after:-z-[1] after:w-full after:h-[3rem] after:bg-primary after:-skew-x-[30deg] after:scale-x-[1.1] after:translate-x-2 after:-rotate-[2deg]"}," Follow us "),m("br"),tt(" on social Media ")])],-1)),m("div",OZ,[m("div",FZ,[(X(!0),ne(yt,null,Nr(P(e).socialMediaLinks,(S,A)=>(X(),ne("a",{key:A,href:S.url,class:"aspect-square h-[6rem] lg:h-[10rem] lg:hover:scale-110 lg:hover:rotate-12 transition-all duration-75"},[S.platform=="instagram"?(X(),ne("svg",$Z,s[30]||(s[30]=[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.584 0H91.416C98.3424 0 104 5.69591 104 12.646V91.354C104 98.3145 98.332 104 91.416 104H12.584C5.6576 104 0 98.3041 0 91.354V12.646C0 5.68546 5.668 0 12.584 0ZM11.232 42.8186H21.6216C20.54 45.9853 19.9472 49.3715 19.9472 52.904C19.9472 70.3262 34.2992 84.4458 52 84.4458C69.7008 84.4458 84.0528 70.3262 84.0528 52.904C84.0528 49.382 83.46 45.9853 82.3784 42.8186H92.768V86.6092C92.768 89.7132 90.2408 92.2424 87.1624 92.2424H16.4112C13.5616 92.2424 11.232 89.9013 11.232 87.0377V42.8186ZM75.6496 10.3049H87.724C90.4488 10.3049 92.6848 12.5519 92.6848 15.2901V26.567C92.6848 29.3052 90.4488 31.5522 87.724 31.5522H75.6496C72.9248 31.5522 70.6888 29.3052 70.6888 26.567V15.2901C70.6888 12.5519 72.9248 10.3049 75.6496 10.3049ZM52.0312 30.6848C63.5232 30.6848 72.8416 39.8609 72.8416 51.1691C72.8416 62.4773 63.5232 71.6535 52.0312 71.6535C40.5392 71.6535 31.2208 62.4773 31.2208 51.1691C31.2208 39.8609 40.5392 30.6848 52.0312 30.6848Z",fill:"#FBC151"},null,-1)]))):je("",!0),S.platform=="facebook"?(X(),ne("svg",zZ,s[31]||(s[31]=[m("path",{d:"M98.2597 0H5.74031C4.21789 0 2.75782 0.604781 1.6813 1.6813C0.604781 2.75782 0 4.21789 0 5.74031L0 98.2597C0 99.7821 0.604781 101.242 1.6813 102.319C2.75782 103.395 4.21789 104 5.74031 104H55.5547V63.7812H42.0469V48.0391H55.5547V36.4609C55.5547 23.0283 63.7589 15.7137 75.7453 15.7137C81.4836 15.7137 86.4175 16.1403 87.8516 16.3231V30.3611H79.5844C73.0641 30.3611 71.8006 33.4587 71.8006 38.0067V48.0391H87.3884L85.3572 63.7812H71.8006V104H98.2556C99.0098 104.001 99.7567 103.852 100.454 103.564C101.151 103.276 101.784 102.853 102.317 102.32C102.851 101.787 103.274 101.154 103.563 100.457C103.851 99.7606 104 99.0139 104 98.2597V5.74031C104 4.21789 103.395 2.75782 102.319 1.6813C101.242 0.604781 99.7821 0 98.2597 0Z",fill:"#FBC151"},null,-1)]))):je("",!0),S.platform=="telegram"?(X(),ne("svg",UZ,s[32]||(s[32]=[m("path",{d:"M6.46107 36.1617C31.6988 24.3084 48.5239 16.4933 56.9364 12.7177C80.9839 1.93636 85.9747 0.0638868 89.2342 0.000562376C89.951 -0.0119458 91.547 0.179093 92.5884 1.08763C93.454 1.85324 93.6974 2.88865 93.8192 3.61489C93.9274 4.34113 94.0762 5.99633 93.9544 7.2884C92.656 22.0466 87.0161 57.86 84.1488 74.3901C82.9451 81.3845 80.5511 83.7294 78.2384 83.9584C73.2071 84.4571 69.393 80.3767 64.524 76.9363C56.9094 71.5507 52.6084 68.1995 45.2103 62.9452C36.6624 56.8727 42.2077 53.5346 47.0767 48.0805C48.3481 46.6528 70.502 24.9312 70.9213 22.961C70.9754 22.7145 71.0295 21.7958 70.5156 21.3116C70.0151 20.826 69.2713 20.9922 68.7303 21.1235C67.9593 21.3101 55.8003 29.9842 32.2127 47.1443C28.7638 49.7022 25.6395 50.949 22.8263 50.8834C19.7426 50.8119 13.7916 48.9992 9.36895 47.4505C3.95894 45.5503 -0.35554 44.5455 0.0231604 41.3183C0.212511 39.6383 2.36299 37.9189 6.46107 36.1617Z",fill:"#FBC151"},null,-1)]))):je("",!0),S.platform=="youtube"?(X(),ne("svg",qZ,s[33]||(s[33]=[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M228.172 5.51149C239.215 8.49959 247.841 17.1256 250.829 28.1683C259.284 62.2027 257.331 115.955 250.993 151.303C248.005 162.346 239.379 170.972 228.337 173.96C208.471 179.378 128.515 179.378 128.515 179.378C128.515 179.378 48.56 179.378 28.6943 173.96C17.6517 170.972 9.02562 162.346 6.03753 151.303C-2.46697 117.416 -0.135623 63.631 5.87335 28.3324C8.86144 17.2898 17.4875 8.66377 28.5301 5.67567C48.3958 0.257747 128.351 0.0935669 128.351 0.0935669C128.351 0.0935669 208.307 0.0935669 228.172 5.51149ZM169.232 89.7356L102.903 128.154V51.3176L169.232 89.7356Z",fill:"#FBC151"},null,-1)]))):je("",!0)],8,NZ))),128))])])])])]}),_:1})}}}),VZ=uo(jZ,[["__scopeId","data-v-ae65f0c5"]]),HZ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},KZ={class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"},WZ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-pearl-white flex flex-col justify-center py-[5rem]"},GZ={class:"w-full grid grid-cols-1 lg:grid-cols-3 auto-rows-auto gap-y-[2rem] lg:gap-x-[2rem] px-[2rem] py-[5rem] overflow-x-hidden"},XZ={class:"w-full flex flex-col gap-[1rem] text-screenBlack p-4","data-aos":"fade-left","data-aos-offset":"-50"},YZ={class:"w-full aspect-[8/5] overflow-hidden rounded-3xl relative"},ZZ=["src"],JZ={key:0,class:"w-full h-full flex justify-end items-end absolute top-0 left-0 z-[10]"},QZ={class:"flex flex-col w-full px-[1rem]"},eJ={class:"font-heading text-subtitle lg:text-title relative w-max"},tJ={key:0,class:"absolute top-0 right-0 translate-x-[100%] text-body lg:text-subtitle text-[#EE1100]"},rJ={class:"flex flex-col w-full px-[1rem] gap-[1rem]"},iJ={class:"grid grid-cols-[3rem_1fr] grid-rows-1 w-full gap-[1rem]"},nJ={class:"font-body text-text-sm md:text-body text-gray"},sJ={class:"grid grid-cols-[3rem_1fr] grid-rows-1 w-full gap-[1rem]"},aJ={class:"font-body text-text-sm md:text-body text-gray"},oJ=st({__name:"Events",setup(t){const e=BE();return Ur(e),ao(()=>{(async()=>await e.fetchEvents())()}),(r,i)=>{const n=yn("RouterLink");return X(),Ot(Fn,null,{default:We(()=>[m("div",HZ,[m("h1",KZ,ge(P(e).title),1)]),m("div",WZ,[m("div",GZ,[(X(!0),ne(yt,null,Nr(P(e).events,s=>(X(),Ot(n,{to:`/event/${s.id}`},{default:We(()=>[m("div",XZ,[m("div",YZ,[m("img",{src:s.pictureSrc,alt:"",class:Wt("w-full h-full object-cover")},null,8,ZZ),s.status=="past"?(X(),ne("div",JZ,i[0]||(i[0]=[m("div",{class:"w-full bg-white-100 bg-opacity-70 backdrop-blur-sm flex justify-center items-center px-[2rem]"},[m("span",{class:"font-heading text-subtitle lg:text-title text-screenBlack"}," PAST ")],-1)]))):je("",!0)]),m("div",QZ,[m("h2",eJ,[tt(ge(s.name)+" ",1),s.status==="ongoing"?(X(),ne("span",tJ," LIVE! ")):je("",!0)]),m("h3",{class:Wt(`font-heading text-subtitle lg:text-title relative
								${s.status=="past"?"text-gray-300 ":"text-primary"}`)},ge(s.edition),3)]),m("div",rJ,[m("div",iJ,[i[1]||(i[1]=m("div",{class:"flex justify-center items-center w-full"},[m("div",{class:"h-[3rem] aspect-square"},[m("svg",{width:"30",height:"42",viewBox:"0 0 30 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M15 42L2 22.5L15 27L28 22.5L15 42Z",fill:"#4D4D4D"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30ZM15 23C19.4183 23 23 19.4183 23 15C23 10.5817 19.4183 7 15 7C10.5817 7 7 10.5817 7 15C7 19.4183 10.5817 23 15 23Z",fill:"#4D4D4D"})])])],-1)),m("p",nJ,ge(s.location),1)]),m("div",sJ,[i[2]||(i[2]=m("div",{class:"flex justify-center items-center w-full"},[m("div",{class:"h-[2.5rem] aspect-square"},[m("svg",{width:"31",height:"31",viewBox:"0 0 31 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full w-full"},[m("circle",{cx:"15.0807",cy:"15.0807",r:"14.2581",stroke:"#4D4D4D","stroke-width":"1.64516"}),m("path",{d:"M15.0806 6.85486V15.6291L19.1935 20.0162",stroke:"#4D4D4D","stroke-width":"2.06682"})])])],-1)),m("p",aJ,ge(s.date),1)])])])]),_:2},1032,["to"]))),256))]),i[3]||(i[3]=m("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] flex justify-center py-[10rem]"},[m("p",{class:"font-body text-body lg:text-subtitle text-center"},[tt(" Want to host a competition at your university?"),m("br"),tt(" contact us at "),m("a",{href:"mailto:info@integrationbee.at?subject=Competition%20organization%20request",class:"underline"},"info@integrationbee.at")])],-1))]),i[4]||(i[4]=m("div",{class:"w-full flex items-end p-0 h-[7rem] bg-pearl-white"},[m("div",{class:"w-full h-[6rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1))]),_:1})}}}),lJ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},uJ={class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"},cJ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-pearl-white flex flex-col justify-center py-[5rem]"},dJ=["onClick"],hJ={class:"grid md:grid-cols-[1fr_20rem] grid-cols-1 gap-x-[1rem]"},pJ={class:"font-semibold"},fJ={class:"md:flex flex-wrap text-right text-body hidden"},mJ={class:"md:hidden flex"},gJ={class:"flex flex-wrap text-right text-body"},yJ=["innerHTML"],vJ={key:0,class:"w-full max-h-[50rem] overflow-hidden rounded-[1.5rem]"},bJ=["src","alt"],xJ={key:0,class:"fixed top-0 left-0 w-full h-full bg-black-100 bg-opacity-40 flex justify-center items-center z-[501]"},_J={class:"w-full justify-center overflow-y-auto h-[100vh] px-[2rem] pt-[6rem] lg:pt-0"},wJ={class:"w-full min-h-full h-max flex justify-center items-center py-[4rem]"},SJ={class:"grid md:grid-cols-[1fr_20rem] grid-cols-1 gap-x-[1rem]"},CJ={class:"font-semibold"},kJ={class:"md:flex flex-wrap text-right text-body hidden"},TJ={class:"md:hidden flex"},EJ={class:"flex flex-wrap text-right text-body"},AJ=["innerHTML"],MJ={key:0,class:"w-full h-max max-h-[50rem] overflow-hidden rounded-[0.7rem]"},DJ=["src","alt"],LJ=st({__name:"News",setup(t){const e=qy(),{commentText:r}=Ur(e);ao(()=>{qy().fetchNews()});const i=Xe(null),n=()=>{i.value=null,document.getElementsByTagName("body")[0].style.overflowY="auto",document.removeEventListener("click",n)},s=a=>{r.value="",i.value=a,document.getElementsByTagName("body")[0].style.overflowY="hidden",document.removeEventListener("click",n),document.addEventListener("click",n)};return JO("fullScreenInputRef"),(a,o)=>{const l=yn("MasonryWall");return X(),Ot(Fn,null,{default:We(()=>[m("div",lJ,[m("h1",uJ,ge(P(e).title),1)]),m("div",cJ,[ye(l,{items:P(e).newsItems,"max-columns":2,"column-width":300,gap:16},{default:We(({item:u,index:c})=>[m("div",{class:"item bg-white flex flex-col gap-[2rem] p-8 rounded-[2.5rem] text-body font-body cursor-pointer text-screenBlack",onClick:d=>{d.stopPropagation(),s(u)}},[m("div",hJ,[m("h2",pJ,ge(u.title),1),m("p",fJ,ge(u.date),1)]),m("div",mJ,[m("p",gJ,ge(u.date),1)]),m("div",null,[m("p",{class:"news-text",innerHTML:P(Qn)(u.content).split(" ").slice(0,50).join(" ")},null,8,yJ),P(Qn)(u.content).split(" ").length>300?(X(),ne(yt,{key:0},[o[1]||(o[1]=m("br",null,null,-1)),o[2]||(o[2]=m("p",null," Click to see more... ",-1))],64)):je("",!0)]),u.pictureSrc?(X(),ne("div",vJ,[m("img",{src:u.pictureSrc,alt:u.pictureAlt,class:"w-full"},null,8,bJ)])):je("",!0)],8,dJ)]),_:1},8,["items"])]),o[4]||(o[4]=m("div",{class:"w-full flex items-end p-0 h-[7rem] bg-pearl-white"},[m("div",{class:"w-full h-[5rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1)),i.value?(X(),ne("div",xJ,[o[3]||(o[3]=m("button",{class:"absolute right-[4rem] top-[4rem] aspect-square w-[2rem] lg:w-[4rem] rounded-full transition-all"},[m("svg",{width:"134",height:"134",viewBox:"0 0 134 134",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_286_9)"},[m("rect",{x:"-2.67847",y:"6.51398",width:"13",height:"184.075",rx:"6.5",transform:"rotate(-45 -2.67847 6.51398)",fill:"#F2F1F0"}),m("rect",{x:"127.482",y:"-2.67841",width:"13",height:"184.075",rx:"6.5",transform:"rotate(45 127.482 -2.67841)",fill:"#F2F1F0"})]),m("defs",null,[m("clipPath",{id:"clip0_286_9"},[m("rect",{width:"134",height:"134",fill:"white"})])])])],-1)),m("div",_J,[m("div",wJ,[m("div",{class:"item bg-white flex flex-col gap-[2rem] p-8 rounded-[2.5rem] text-body font-body overflow-auto text-screenBlack w-full md:w-[70rem]",onClick:o[0]||(o[0]=u=>{u.stopPropagation()})},[m("div",SJ,[m("h2",CJ,ge(i.value.title),1),m("p",kJ,ge(i.value.date),1)]),m("div",TJ,[m("p",EJ,ge(i.value.date),1)]),m("div",null,[m("p",{class:"news-text",innerHTML:P(Qn)(i.value.content)},null,8,AJ)]),i.value.pictureSrc?(X(),ne("div",MJ,[m("img",{src:i.value.pictureSrc,alt:i.value.pictureAlt,class:"w-full"},null,8,DJ)])):je("",!0)])])])])):je("",!0)]),_:1})}}}),BJ=uo(LJ,[["__scopeId","data-v-393a64bd"]]),PJ={class:"w-full h-[50rem] flex justify-between"},IJ={class:"w-[70vw] h-full overflow-x-hidden flex"},RJ={class:"h-[20rem] aspect-square overflow-hidden rounded-full"},OJ=["src"],FJ={class:"w-full text-center flex justify-center font-heading text-subtitle"},NJ={key:0,class:"w-full text-center flex flex-col items-center font-body text-text-sm font-semibold"},$J=["href"],zJ={key:1,class:"w-full text-center flex flex-col items-center font-body text-text-sm font-semibold"},UJ=["href"],qJ=st({__name:"ContactsCarousel",props:{teamMembers:{}},setup(t){const e=Xe(0),r=t,{teamMembers:i}=Ls(r),n=sr(()=>i.value.length),s=()=>{e.value<n.value-1&&(e.value+=1)},a=()=>{e.value>0&&(e.value-=1)};return(o,l)=>(X(),ne("div",PJ,[m("div",{class:"h-full flex items-center justify-center w-[4rem]"},[m("button",{class:"w-full aspect-square",onClick:a},l[0]||(l[0]=[m("svg",{width:"22",height:"41",viewBox:"0 0 22 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full -scale-x-100"},[m("path",{d:"M2 1L19.5 20.5L2 39",stroke:"#FBC151","stroke-width":"3"})],-1)]))]),m("div",IJ,[m("div",{class:"h-full w-max flex transition-transform duration-300",style:Zi({transform:`translateX(-${e.value*70}vw)`})},[(X(!0),ne(yt,null,Nr(P(i),(u,c)=>(X(),ne("div",{key:c,class:"w-[70vw] flex flex-col items-center gap-[2rem]"},[m("div",RJ,[m("img",{src:u.imageSrc,alt:"",class:"w-full h-full"},null,8,OJ)]),m("div",FJ,[m("p",null,ge(u.name),1)]),u.tel?(X(),ne("div",NJ,[l[1]||(l[1]=m("p",null,"tel.",-1)),m("a",{href:"tel:"+u.tel.split(" ").join("")},ge(u.tel),9,$J)])):je("",!0),u.email?(X(),ne("div",zJ,[l[2]||(l[2]=m("p",null,"email",-1)),m("a",{href:"mailto:"+u.email.split(" ").join("")},ge(u.email),9,UJ)])):je("",!0)]))),128))],4)]),m("div",{class:"h-full flex items-center justify-center w-[4rem]"},[m("button",{class:"w-full aspect-square",onClick:s},l[3]||(l[3]=[m("svg",{width:"22",height:"41",viewBox:"0 0 22 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M2 1L19.5 20.5L2 39",stroke:"#FBC151","stroke-width":"3"})],-1)]))])]))}}),jJ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},VJ={class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"},HJ={class:"w-full py-[5rem] bg-pearl-white flex flex-col gap-[5rem] text-screenBlack font-body"},KJ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] flex flex-col gap-[2rem]"},WJ={class:"text-center lg:text-left w-full text-body"},GJ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] flex flex-col gap-[2rem]"},XJ={class:"text-center lg:text-left w-full text-body flex flex-col items-center lg:items-start"},YJ={class:"flex flex-col md:flex-row gap-[1rem]"},ZJ=["href"],JJ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] hidden lg:flex flex-col gap-[2rem]"},QJ={class:"h-full aspect-square"},eQ=["src","alt"],tQ={class:"h-full flex-1 flex flex-col justify-between p-[2rem] text-screenBlack text-body"},rQ={class:"flex flex-col"},iQ={class:"font-heading text-subtitle"},nQ={class:"font-heading text-primary"},sQ={class:"flex flex-col"},aQ={key:0,class:"flex gap-[1rem]"},oQ=["href"],lQ={key:1,class:"flex gap-[1rem]"},uQ=["href"],cQ={class:"w-full h-max px-[2rem] lg:px-[12rem] xl:px-[10vw] flex lg:hidden gap-[2rem]"},dQ=st({__name:"Contact",setup(t){const e=LE();return(r,i)=>(X(),Ot(Fn,null,{default:We(()=>[m("div",jJ,[m("h1",VJ,ge(P(e).title),1)]),m("div",HJ,[m("section",KJ,[i[0]||(i[0]=m("h2",{class:"font-heading text-title flex justify-center lg:justify-start w-full"},"About us",-1)),m("p",WJ,ge(P(e).aboutUsText),1)]),m("section",GJ,[i[3]||(i[3]=m("h2",{class:"font-heading text-title flex justify-center lg:justify-start w-full"}," Contact us ",-1)),m("div",XJ,[i[2]||(i[2]=m("p",null,"General Inqueries:",-1)),m("div",YJ,[i[1]||(i[1]=m("p",{class:"font-semibold"}," email: ",-1)),m("a",{href:`mailto:${P(e).generalInqueriesEmail}`,class:"underline"},ge(P(e).generalInqueriesEmail),9,ZJ)])])]),m("section",JJ,[(X(!0),ne(yt,null,Nr(P(e).teamMembers,(n,s)=>(X(),ne("div",{key:s,class:"w-full h-[22rem] bg-white-100 overflow-hidden rounded-3xl flex flex-row"},[m("div",QJ,[m("img",{src:n.imageSrc,alt:`photo of ${n.name}`,class:"w-full h-full"},null,8,eQ)]),m("div",tQ,[m("div",rQ,[m("p",iQ,ge(n.name),1),m("p",nQ,ge(n.role),1)]),m("div",sQ,[n.tel?(X(),ne("div",aQ,[i[4]||(i[4]=m("p",{class:"font-semibold"}," tel: ",-1)),m("a",{href:"tel:"+n.tel.split(" ").join(""),class:""},ge(n.tel),9,oQ)])):je("",!0),n.email?(X(),ne("div",lQ,[i[5]||(i[5]=m("p",{class:"font-semibold"}," email: ",-1)),m("a",{href:"mailto:"+n.email.split(" ").join("")},ge(n.email),9,uQ)])):je("",!0)])])]))),128))]),m("section",cQ,[ye(qJ,{teamMembers:P(e).teamMembers},null,8,["teamMembers"])])]),i[6]||(i[6]=m("div",{class:"w-full flex items-end leading-[0] p-0 h-[7rem] bg-pearl-white border-b-screenBlack"},[m("div",{class:"w-full h-[5rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1))]),_:1}))}}),hQ="modulepreload",pQ=function(t){return"/static/"+t},F_={},ze=function(e,r,i){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.allSettled(r.map(l=>{if(l=pQ(l),l in F_)return;F_[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":hQ,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return n.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},N_=(t,e)=>{for(const r of Object.keys(e))t.on(r,e[r])},sL=t=>{for(const e of Object.keys(t)){const r=t[e];r&&Qo(r.cancel)&&r.cancel()}},fQ=t=>!t||typeof t.charAt!="function"?t:t.charAt(0).toUpperCase()+t.slice(1),Qo=t=>typeof t=="function",j0=(t,e,r)=>{for(const i in r){const n="set"+fQ(i);t[n]?pi(()=>r[i],(s,a)=>{t[n](s,a)}):e[n]&&pi(()=>r[i],s=>{e[n](s)})}},zu=(t,e,r={})=>{const i={...r};for(const n in t){const s=e[n],a=t[n];s&&(s&&s.custom===!0||a!==void 0&&(i[n]=a))}return i},_p=t=>{const e={},r={};for(const i in t)if(i.startsWith("on")&&!i.startsWith("onUpdate")&&i!=="onReady"){const n=i.slice(2).toLocaleLowerCase();e[n]=t[i]}else r[i]=t[i];return{listeners:e,attrs:r}},mQ=async t=>{const e=await Promise.all([ze(()=>import("./marker-icon-2x-D4k_ikNW.js"),[]),ze(()=>import("./marker-icon-C2eJqgqv.js"),[]),ze(()=>import("./marker-shadow-DU6CIJ0p.js"),[])]);delete t.Default.prototype._getIconUrl,t.Default.mergeOptions({iconRetinaUrl:e[0].default,iconUrl:e[1].default,shadowUrl:e[2].default})},Mf=t=>{const e=Xe((...i)=>console.warn(`Method ${t} has been invoked without being replaced`)),r=(...i)=>e.value(...i);return r.wrapped=e,Ln(t,r),r},Df=(t,e)=>t.wrapped.value=e,al=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||globalThis,Ka=t=>{const e=hi(t);if(e===void 0)throw new Error(`Attempt to inject ${t.description} before it was provided.`);return e},V0=Symbol("useGlobalLeaflet"),wp=Symbol("addLayer"),aL=Symbol("removeLayer"),oL=Symbol("registerControl"),gQ=Symbol("registerLayerControl"),lL=Symbol("canSetParentHtml"),uL=Symbol("setParentHtml"),cL=Symbol("setIcon"),yQ=Symbol("bindPopup"),vQ=Symbol("bindTooltip"),bQ=Symbol("unbindPopup"),xQ=Symbol("unbindTooltip"),Sp={options:{type:Object,default:()=>({}),custom:!0}},y2=t=>({options:t.options,methods:{}}),H0={...Sp,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},dL=(t,e,r)=>{const i=Ka(wp),n=Ka(aL),{options:s,methods:a}=y2(t),o=zu(t,H0,s),l=()=>i({leafletObject:e.value}),u=()=>n({leafletObject:e.value}),c={...a,setAttribution(d){u(),e.value.options.attribution=d,t.visible&&l()},setName(){u(),t.visible&&l()},setLayerType(){u(),t.visible&&l()},setVisible(d){e.value&&(d?l():u())},bindPopup(d){if(!e.value||!Qo(e.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}e.value.bindPopup(d)},bindTooltip(d){if(!e.value||!Qo(e.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}e.value.bindTooltip(d)},unbindTooltip(){e.value&&(Qo(e.value.closeTooltip)&&e.value.closeTooltip(),Qo(e.value.unbindTooltip)&&e.value.unbindTooltip())},unbindPopup(){e.value&&(Qo(e.value.closePopup)&&e.value.closePopup(),Qo(e.value.unbindPopup)&&e.value.unbindPopup())},updateVisibleProp(d){r.emit("update:visible",d)}};return Ln(yQ,c.bindPopup),Ln(vQ,c.bindTooltip),Ln(bQ,c.unbindPopup),Ln(xQ,c.unbindTooltip),oo(()=>{c.unbindPopup(),c.unbindTooltip(),u()}),{options:o,methods:c}},_Q=(t,e)=>{if(t&&e.default)return lo("div",{style:{display:"none"}},e.default())},wQ={...H0,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},hL={...wQ,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},SQ={...hL,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}};({...SQ});const K0={...Sp,position:{type:String}},CQ=(t,e)=>{const{options:r,methods:i}=y2(t),n=zu(t,K0,r),s={...i,setPosition(a){e.value&&e.value.setPosition(a)}};return oo(()=>{e.value&&e.value.remove()}),{options:n,methods:s}},kQ=t=>t.default?lo("div",{ref:"root"},t.default()):null;({...K0});({...K0});({...K0});({...K0});({...K0});const pL={...H0};({...pL});({...pL});const Gb={...H0,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number},className:{type:String}},fL=(t,e,r)=>{const{options:i,methods:n}=dL(t,e,r),s=zu(t,Gb,i),a={...n,setTileComponent(){var o;(o=e.value)==null||o.redraw()}};return oo(()=>{e.value.off()}),{options:s,methods:a}},TQ=(t,e,r,i)=>t.extend({initialize(n){this.tileComponents={},this.on("tileunload",this._unloadTile),r.setOptions(this,n)},createTile(n){const s=this._tileCoordsToKey(n);this.tileComponents[s]=e.create("div");const a=lo({setup:i,props:["coords"]},{coords:n});return RN(a,this.tileComponents[s]),this.tileComponents[s]},_unloadTile(n){const s=this._tileCoordsToKey(n.coords);this.tileComponents[s]&&(this.tileComponents[s].innerHTML="",this.tileComponents[s]=void 0)}});({...Gb});const $_={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}},EQ=st({name:"LIcon",props:{...$_,...Sp},setup(t,e){const r=Xe(),i=hi(V0),n=Ka(lL),s=Ka(uL),a=Ka(cL);let o,l,u,c,d;const h=(C,S,A)=>{const T=C&&C.innerHTML;if(!S){A&&d&&n()&&s(T);return}const{listeners:M}=_p(e.attrs);d&&l(d,M);const{options:D}=y2(t),B=zu(t,$_,D);T&&(B.html=T),d=B.html?u(B):c(B),o(d,M),a(d)},f=()=>{Ms(()=>h(r.value,!0,!1))},g=()=>{Ms(()=>h(r.value,!1,!0))},y={setIconUrl:f,setIconRetinaUrl:f,setIconSize:f,setIconAnchor:f,setPopupAnchor:f,setTooltipAnchor:f,setShadowUrl:f,setShadowRetinaUrl:f,setShadowAnchor:f,setBgPos:f,setClassName:f,setHtml:f};return qr(async()=>{const{DomEvent:C,divIcon:S,icon:A}=i?al.L:await ze(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);o=C.on,l=C.off,u=S,c=A,j0(y,{},t),new MutationObserver(g).observe(r.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),f()}),{root:r}},render(){const t=this.$slots.default?this.$slots.default():void 0;return lo("div",{ref:"root"},t)}});({...H0});function mL(t,e,r){var i,n,s;e===void 0&&(e=50),r===void 0&&(r={});var a=(i=r.isImmediate)!=null&&i,o=(n=r.callback)!=null&&n,l=r.maxWait,u=Date.now(),c=[];function d(){if(l!==void 0){var f=Date.now()-u;if(f+e>=l)return l-f}return e}var h=function(){var f=[].slice.call(arguments),g=this;return new Promise(function(y,C){var S=a&&s===void 0;if(s!==void 0&&clearTimeout(s),s=setTimeout(function(){if(s=void 0,u=Date.now(),!a){var T=t.apply(g,f);o&&o(T),c.forEach(function(M){return(0,M.resolve)(T)}),c=[]}},d()),S){var A=t.apply(g,f);return o&&o(A),y(A)}c.push({resolve:y,reject:C})})};return h.cancel=function(f){s!==void 0&&clearTimeout(s),c.forEach(function(g){return(0,g.reject)(f)}),c=[]},h}const z_={...Sp,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},AQ=st({inheritAttrs:!1,emits:["ready","update:zoom","update:center","update:bounds"],props:z_,setup(t,e){const r=Xe(),i=L0({ready:!1,layersToAdd:[],layersInControl:[]}),{options:n}=y2(t),s=zu(t,z_,n),{listeners:a,attrs:o}=_p(e.attrs),l=Mf(wp),u=Mf(aL),c=Mf(oL),d=Mf(gQ);Ln(V0,t.useGlobalLeaflet);const h=sr(()=>{const S={};return t.noBlockingAnimations&&(S.animate=!1),S}),f=sr(()=>{const S=h.value;return t.padding&&(S.padding=t.padding),t.paddingTopLeft&&(S.paddingTopLeft=t.paddingTopLeft),t.paddingBottomRight&&(S.paddingBottomRight=t.paddingBottomRight),S}),g={moveend:mL(S=>{i.leafletRef&&(e.emit("update:zoom",i.leafletRef.getZoom()),e.emit("update:center",i.leafletRef.getCenter()),e.emit("update:bounds",i.leafletRef.getBounds()))}),overlayadd(S){const A=i.layersInControl.find(T=>T.name===S.name);A&&A.updateVisibleProp(!0)},overlayremove(S){const A=i.layersInControl.find(T=>T.name===S.name);A&&A.updateVisibleProp(!1)}};qr(async()=>{t.useGlobalLeaflet&&(al.L=al.L||await ze(()=>import("./leaflet-src-CDrZCVlJ.js").then(O=>O.l),[]));const{map:S,CRS:A,Icon:T,latLngBounds:M,latLng:D,stamp:B}=t.useGlobalLeaflet?al.L:await ze(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);try{s.beforeMapMount&&await s.beforeMapMount()}catch(O){console.error(`The following error occurred running the provided beforeMapMount hook ${O.message}`)}await mQ(T);const F=typeof s.crs=="string"?A[s.crs]:s.crs;s.crs=F||A.EPSG3857;const V={addLayer(O){O.layerType!==void 0&&(i.layerControl===void 0?i.layersToAdd.push(O):i.layersInControl.find(U=>B(U.leafletObject)===B(O.leafletObject))||(i.layerControl.addLayer(O),i.layersInControl.push(O))),O.visible!==!1&&i.leafletRef.addLayer(O.leafletObject)},removeLayer(O){O.layerType!==void 0&&(i.layerControl===void 0?i.layersToAdd=i.layersToAdd.filter(U=>U.name!==O.name):(i.layerControl.removeLayer(O.leafletObject),i.layersInControl=i.layersInControl.filter(U=>B(U.leafletObject)!==B(O.leafletObject)))),i.leafletRef.removeLayer(O.leafletObject)},registerLayerControl(O){i.layerControl=O,i.layersToAdd.forEach(U=>{i.layerControl.addLayer(U)}),i.layersToAdd=[],c(O)},registerControl(O){i.leafletRef.addControl(O.leafletObject)},setZoom(O){const U=i.leafletRef.getZoom();O!==U&&i.leafletRef.setZoom(O,h.value)},setCrs(O){const U=i.leafletRef.getBounds();i.leafletRef.options.crs=O,i.leafletRef.fitBounds(U,{animate:!1,padding:[0,0]})},fitBounds(O){i.leafletRef.fitBounds(O,f.value)},setBounds(O){if(!O)return;const U=M(O);U.isValid()&&!(i.lastSetBounds||i.leafletRef.getBounds()).equals(U,0)&&(i.lastSetBounds=U,i.leafletRef.fitBounds(U))},setCenter(O){if(O==null)return;const U=D(O),J=i.lastSetCenter||i.leafletRef.getCenter();(J.lat!==U.lat||J.lng!==U.lng)&&(i.lastSetCenter=U,i.leafletRef.panTo(U,h.value))}};Df(l,V.addLayer),Df(u,V.removeLayer),Df(c,V.registerControl),Df(d,V.registerLayerControl),i.leafletRef=_l(S(r.value,s)),j0(V,i.leafletRef,t),N_(i.leafletRef,g),N_(i.leafletRef,a),i.ready=!0,Ms(()=>e.emit("ready",i.leafletRef))}),Ou(()=>{sL(g),i.leafletRef&&(i.leafletRef.off(),i.leafletRef.remove())});const y=sr(()=>i.leafletRef),C=sr(()=>i.ready);return{root:r,ready:C,leafletObject:y,attrs:o}},render({attrs:t}){return t.style||(t.style={}),t.style.width||(t.style.width="100%"),t.style.height||(t.style.height="100%"),lo("div",{...t,ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),MQ=["Symbol(Comment)","Symbol(Text)"],DQ=["LTooltip","LPopup"],gL={...H0,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},LQ=(t,e,r)=>{const{options:i,methods:n}=dL(t,e,r),s=zu(t,gL,i),a={...n,setDraggable(o){e.value.dragging&&(o?e.value.dragging.enable():e.value.dragging.disable())},latLngSync(o){r.emit("update:latLng",o.latlng),r.emit("update:lat-lng",o.latlng)},setLatLng(o){if(o!=null&&e.value){const l=e.value.getLatLng();(!l||!l.equals(o))&&e.value.setLatLng(o)}}};return{options:s,methods:a}},BQ=(t,e)=>{const r=e.slots.default&&e.slots.default();return r&&r.length&&r.some(PQ)};function PQ(t){return!(MQ.includes(t.type.toString())||DQ.includes(t.type.name))}const IQ=st({name:"LMarker",props:gL,setup(t,e){const r=Xe(),i=Xe(!1),n=hi(V0),s=Ka(wp);Ln(lL,()=>{var u;return!!((u=r.value)!=null&&u.getElement())}),Ln(uL,u=>{var c,d;const h=Qo((c=r.value)==null?void 0:c.getElement)&&((d=r.value)==null?void 0:d.getElement());h&&(h.innerHTML=u)}),Ln(cL,u=>{var c;return((c=r.value)==null?void 0:c.setIcon)&&r.value.setIcon(u)});const{options:a,methods:o}=LQ(t,r,e),l={moveHandler:mL(o.latLngSync)};return qr(async()=>{const{marker:u,divIcon:c}=n?al.L:await ze(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);BQ(a,e)&&(a.icon=c({className:""})),r.value=_l(u(t.latLng,a));const{listeners:d}=_p(e.attrs);r.value.on(d),r.value.on("move",l.moveHandler),j0(o,r.value,t),s({...t,...o,leafletObject:r.value}),i.value=!0,Ms(()=>e.emit("ready",r.value))}),Ou(()=>sL(l)),{ready:i,leafletObject:r}},render(){return _Q(this.ready,this.$slots)}}),RQ={...hL,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},U_={...RQ},yL={...Sp,content:{type:String,default:null}};({...yL});({...U_,latLngs:{...U_.latLngs}});const Xb={...Gb,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:t=>typeof t=="string"?!0:Array.isArray(t)?t.every(e=>typeof e=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},OQ=(t,e,r)=>{const{options:i,methods:n}=fL(t,e,r),s=zu(t,Xb,i),a={...n};return{options:s,methods:a}},FQ=st({props:Xb,setup(t,e){const r=Xe(),i=hi(V0),n=Ka(wp),{options:s,methods:a}=OQ(t,r,e);return qr(async()=>{const{tileLayer:o}=i?al.L:await ze(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);r.value=_l(o(t.url,s));const{listeners:l}=_p(e.attrs);r.value.on(l),j0(a,r.value,t),n({...t,...a,leafletObject:r.value}),Ms(()=>e.emit("ready",r.value))}),{leafletObject:r}},render(){return null}});({...yL});({...Xb});const v2=ki("eventPageStore",{state:()=>({competitionId:null,competitionName:"",edition:"",description:"",eventPictureSrc:"",mainSponsorExists:!1,mainSponsor:{sponsorName:"",description:"",logoSrc:""},goldSponsors:[],silverSponsors:[],bronzeSponsors:[],sections:[],participatePanel:{zoom:12,coordinates:[0,0],isRegistrationOpen:!1,participantsCount:0,location:"",locationMapsUrl:"",date:""},tournamentBracket:{eightFinals:[{id:1,participant1:"",participant2:""},{id:2,participant1:"",participant2:""},{id:3,participant1:"",participant2:""},{id:4,participant1:"",participant2:""},{id:5,participant1:"",participant2:""},{id:6,participant1:"",participant2:""},{id:7,participant1:"",participant2:""},{id:8,participant1:"",participant2:""}],quarterfinals:[{id:9,participant1:"",participant2:""},{id:10,participant1:"",participant2:""},{id:11,participant1:"",participant2:""},{id:12,participant1:"",participant2:""}],semifinals:[{id:13,participant1:"",participant2:""},{id:14,participant1:"",participant2:""}],finals:[{id:15,participant1:"",participant2:""}]},loading:!1}),actions:{async fetchEventData(t){this.loading=!0;const e=jt();try{const i=(await en.get(`/cms/pages/${t}/`)).data;this.competitionId=i.competition.id,this.competitionName=i.title,this.edition=i.edition,this.description=i.description,this.eventPictureSrc=i.picture.meta.download_url;const n=async s=>{const a=i.sponsors.filter(o=>o.value.sponsor_tier===s).map(async o=>({sponsorName:o.value.sponsor_name,logoSrc:await Vv(o.value.sponsor_logo),logoSize:o.value.sponsor_logo_size,...s==="main"?{description:o.value.sponsor_description}:{}}));return Promise.all(a)};this.mainSponsorExists=!!i.sponsors.find(s=>s.value.sponsor_tier=="main"),this.mainSponsor=this.mainSponsorExists&&(await n("main"))[0]||null,this.goldSponsors=await n("gold"),this.silverSponsors=await n("silver"),this.bronzeSponsors=await n("bronze"),this.sections=i.sections.map(s=>({title:s.value.title,text:s.value.body})),this.participatePanel={zoom:12,coordinates:[i.latitude,i.longitude],isRegistrationOpen:!i.competition.close_registration,reasonRegistrationClosed:i.competition.close_registration,participantsCount:i.competition.users_count,date:zh(i.competition.event_date_start)+"<br>"+zh(i.competition.event_date_end),location:i.place,locationMapsUrl:`https://www.google.com/maps/dir//${i.latitude},${i.longitude}`},i.competition.rounds.length&&(this.tournamentBracket.eightFinals=i.competition.rounds.find(s=>s.name==="1/8 Finals").matches.sort((s,a)=>s.sort_order-a.sort_order).map(s=>({id:s.id,participant1:s.player1,participant2:s.player2,winner:s.winner})),this.tournamentBracket.quarterfinals=i.competition.rounds.find(s=>s.name==="Quarterfinals").matches.sort((s,a)=>s.sort_order-a.sort_order).map(s=>({id:s.id,participant1:s.player1,participant2:s.player2,winner:s.winner})),this.tournamentBracket.semifinals=i.competition.rounds.find(s=>s.name==="Semifinals").matches.sort((s,a)=>s.sort_order-a.sort_order).map(s=>({id:s.id,participant1:s.player1,participant2:s.player2,winner:s.winner})),this.tournamentBracket.finals=i.competition.rounds.find(s=>s.name==="Finals").matches.sort((s,a)=>s.sort_order-a.sort_order).map(s=>({id:s.id,participant1:s.player1,participant2:s.player2,winner:s.winner})))}catch{e.addToast({type:"error",title:"Error has occured",message:"could not fetch infos about this event"})}finally{this.loading=!1}},async deregisterParticipant(){try{await wi.patch(`/competition/${this.competitionId}/`,{action:"unregister"}),jt().addToast({type:"success",title:"Success",message:"Your participation was successfully cancelled!"})}catch{jt().addToast({type:"error",title:"Error has occured",message:"could not deregister"})}}}}),NQ={class:"flex flex-col gap-[2rem]"},$Q={key:0,class:"w-full h-[20rem] overflow-hidden rounded-xl hidden lg:flex z-[2]"},zQ={class:"w-full grid grid-cols-[4rem_1fr]"},UQ=["innerHTML"],qQ={class:"w-full grid grid-cols-[4rem_1fr] max-w-full"},jQ=["href","innerHTML"],VQ={key:1,class:"w-full flex justify-center items-center"},HQ={class:"text-body font-body text-gray-400"},KQ={class:"w-full flex justify-center items-center"},WQ=["title"],GQ=["title"],XQ={class:"w-full flex justify-center items-center"},YQ={class:"text-body font-body"},ZQ=st({__name:"CompetitionParticipatePanel",props:{data:{}},emits:["showParticipationForm"],setup(t,{emit:e}){const r=t,{data:i}=Ls(r),n=v2(),{competitionId:s}=Ur(n),{deregisterParticipant:a,fetchEventData:o}=n,{getProfileData:l}=Si(),{competitions:u,isAuthenticated:c}=Ur(Si()),d=Xe(i.value.zoom),h=e,f=sr(()=>u.value.find(y=>y.id==s.value)),g=async()=>{confirm("Are you sure you want to cancel your participation?")&&(await a(),await l())};return(y,C)=>(X(),ne("div",NQ,[P(i).coordinates[0]!==0||P(i).coordinates[1]!==0?(X(),ne("div",$Q,[ye(P(AQ),{"use-global-leaflet":!1,class:"h-full w-full",ref:"map",modelValue:d.value,"onUpdate:modelValue":C[0]||(C[0]=S=>d.value=S),zoom:d.value,"onUpdate:zoom":C[1]||(C[1]=S=>d.value=S),center:P(i).coordinates},{default:We(()=>[ye(P(FQ),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png","layer-type":"base",name:"OpenStreetMap"}),ye(P(IQ),{"lat-lng":P(i).coordinates},{default:We(()=>[ye(P(EQ),{"icon-size":[0,0],"icon-anchor":[25,50],class:"bg-transparent"},{default:We(()=>C[3]||(C[3]=[m("img",{src:"https://i.postimg.cc/3RJGQqj2/location-Marker.png"},null,-1)])),_:1})]),_:1},8,["lat-lng"])]),_:1},8,["modelValue","zoom","center"])])):je("",!0),m("div",zQ,[C[4]||(C[4]=sa('<div class="flex justify-center items-start pt-[0.2rem] w-full"><div class="h-[3rem] aspect-square"><svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-full w-full"><circle cx="15.0807" cy="15.0807" r="14.2581" stroke="#4D4D4D" stroke-width="1.64516"></circle><path d="M15.0806 6.85486V15.6291L19.1935 20.0162" stroke="#4D4D4D" stroke-width="2.06682"></path></svg></div></div>',1)),m("p",{class:"font-body text-body lg:text-text-sm text-gray",innerHTML:P(Qn)(P(i).date)},null,8,UQ)]),m("div",qQ,[C[5]||(C[5]=sa('<div class="flex justify-center items-start w-full"><div class="h-[4rem] aspect-square"><svg width="30" height="42" viewBox="0 0 30 42" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full"><path d="M15 42L2 22.5L15 27L28 22.5L15 42Z" fill="#4D4D4D"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30ZM15 23C19.4183 23 23 19.4183 23 15C23 10.5817 19.4183 7 15 7C10.5817 7 7 10.5817 7 15C7 19.4183 10.5817 23 15 23Z" fill="#4D4D4D"></path></svg></div></div>',1)),m("a",{href:P(i).locationMapsUrl,target:"_blank",class:"font-body text-body lg:text-text-sm text-gray max-w-full lg:hover:underline",innerHTML:P(Qn)(P(i).location)},null,8,jQ)]),P(i).isRegistrationOpen?je("",!0):(X(),ne("div",VQ,[m("p",HQ,ge(P(i).reasonRegistrationClosed),1)])),m("div",KQ,[!f.value||!P(c)?(X(),ne("button",{key:0,class:Wt({"overflow-hidden rounded-[20px] font-heading text-title  px-[4rem] pt-[0.6rem] pb-[0.4rem] relative ":!0,"bg-gray-100 text-gray-400 cursor-default":!P(i).isRegistrationOpen,"bg-primary border-primary border-4 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:hidden lg:after:flex after:bg-pearl-white lg:hover:after:scale-y-0 after:transition-transform after:duration-200 after:will-change-transform after:origin-top":P(i).isRegistrationOpen}),title:P(i).isRegistrationOpen?"take part":"registration isn't open",onClick:C[2]||(C[2]=()=>P(i).isRegistrationOpen&&h("showParticipationForm"))},C[6]||(C[6]=[m("span",{class:"relative z-[2]"}," Participate ",-1)]),10,WQ)):(X(),ne("button",{key:1,class:Wt({"overflow-hidden rounded-[20px] font-heading text-title  px-[4rem] pt-[0.6rem] pb-[0.4rem] relative ":!0,"bg-gray-100 text-gray-400 cursor-default":!P(i).isRegistrationOpen,"bg-red border-red border-4 text-pearl-white lg:hover:text-screenBlack":P(i).isRegistrationOpen}),title:P(i).isRegistrationOpen?"cancel participation":"deregistration is closed",onClick:g},C[7]||(C[7]=[m("span",{class:"relative z-[2]"}," Cancel ",-1)]),10,GQ))]),m("div",XQ,[m("p",YQ," Participants: "+ge(P(i).participantsCount),1)])]))}}),JQ=["data-aos-delay"],QQ={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},eee={class:"relative w-full h-full"},tee={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},ree={class:"relative h-full aspect-square flex justify-center items-center"},iee=["src","alt"],nee={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},see={class:"font-heading text-subtitle lg:text-subtitle text-screenBlack"},aee=st({__name:"GoldSponsorLogo",props:{logoSrc:{type:String},sponsorName:{type:String},index:{type:Number,required:!0},logoSize:{type:Number,required:!0}},setup(t){return(e,r)=>(X(),ne("div",{"data-aos":"fade-left","data-aos-delay":t.index*50,"data-aos-offset":"20",class:"relative w-[35rem] h-[35rem]"},[r[1]||(r[1]=m("div",{class:"w-full h-full absolute z-[1]"},[m("svg",{width:"485",height:"485",viewBox:"0 0 485 485",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full"},[m("path",{d:"M315.567 73.0906L425.715 221.082L352.624 390.468L169.386 411.863L59.2388 263.872L132.329 94.4854L315.567 73.0906Z",fill:"#FBC151"}),m("path",{d:"M309.567 91.0447L407.668 222.852L342.571 373.714L179.372 392.769L81.2699 260.962L146.367 110.1L309.567 91.0447Z",fill:"#F2F1F0"})])],-1)),m("div",QQ,[m("div",eee,[m("div",tee,[m("div",ree,[r[0]||(r[0]=m("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),m("img",{src:t.logoSrc,alt:`${t.sponsorName} logo`,class:"relative z-[4]",style:Zi({width:`${t.logoSize}%`,height:`${t.logoSize}%`})},null,12,iee)])])]),m("div",nee,[m("p",see,ge(t.sponsorName),1)])])],8,JQ))}}),oee={class:"row-span-4 col-span-4 grid grid-cols-1 grid-rows-3 text-text-xs lg:text-text-sm"},lee={class:"flex justify-center items-center text-center border-b-2 border-screenBlack whitespace-nowrap"},uee={class:"flex justify-center items-center text-center border-t-2 border-screenBlack whitespace-nowrap"},Ui=st({__name:"TournamentBracketItem",props:{participant1:String,participant2:String},setup(t){return(e,r)=>(X(),ne("div",oee,[m("p",lee,ge(t.participant1),1),r[0]||(r[0]=m("div",{class:"flex justify-center items-center"},[m("p",{class:"font-heading"},"vs")],-1)),m("p",uee,ge(t.participant2),1)]))}}),cee={class:"grid grid-cols-[repeat(42,1fr)] grid-rows-[repeat(28,1fr)] aspect-[42/28] font-body text-screenBlack"},dee=st({__name:"TournamentBracket",props:{data:{}},setup(t){const e=t,{data:r}=Ls(e);return(i,n)=>(X(),ne("div",cee,[ye(Ui,{class:"col-start-1 row-start-1",participant1:P(r).eightFinals[0].participant1,participant2:P(r).eightFinals[0].participant2},null,8,["participant1","participant2"]),n[0]||(n[0]=m("div",{class:"row-start-[3] col-start-[5] row-span-2 col-span-4 border-t-2 border-r-2 border-screenBlack"},null,-1)),n[1]||(n[1]=m("div",{class:"row-start-[9] col-start-[5] row-span-2 col-span-4 border-b-2 border-r-2 border-screenBlack"},null,-1)),ye(Ui,{class:"col-start-1 row-start-9",participant1:P(r).eightFinals[1].participant1,participant2:P(r).eightFinals[1].participant2},null,8,["participant1","participant2"]),ye(Ui,{class:"col-start-1 row-start-[17]",participant1:P(r).eightFinals[2].participant1,participant2:P(r).eightFinals[2].participant2},null,8,["participant1","participant2"]),n[2]||(n[2]=m("div",{class:"row-start-[19] col-start-[5] row-span-2 col-span-4 border-t-2 border-r-2 border-screenBlack"},null,-1)),n[3]||(n[3]=m("div",{class:"row-start-[25] col-start-[5] row-span-2 col-span-4 border-b-2 border-r-2 border-screenBlack"},null,-1)),ye(Ui,{class:"col-start-1 row-start-[25]",participant1:P(r).eightFinals[3].participant1,participant2:P(r).eightFinals[3].participant2},null,8,["participant1","participant2"]),ye(Ui,{class:"col-start-7 row-start-[5]",participant1:P(r).quarterfinals[0].participant1,participant2:P(r).quarterfinals[0].participant2},null,8,["participant1","participant2"]),n[4]||(n[4]=m("div",{class:"row-start-[7] col-start-[11] row-span-6 col-span-4 border-t-2 border-r-2 border-screenBlack"},null,-1)),n[5]||(n[5]=m("div",{class:"row-start-[17] col-start-[11] row-span-6 col-span-4 border-b-2 border-r-2 border-screenBlack"},null,-1)),ye(Ui,{class:"col-start-7 row-start-[21]",participant1:P(r).quarterfinals[1].participant1,participant2:P(r).quarterfinals[1].participant2},null,8,["participant1","participant2"]),ye(Ui,{class:"col-start-[13] row-start-[13]",participant1:P(r).semifinals[0].participant1,participant2:P(r).semifinals[0].participant2},null,8,["participant1","participant2"]),ye(Ui,{class:"col-start-[39] row-start-1",participant1:P(r).eightFinals[4].participant1,participant2:P(r).eightFinals[4].participant2},null,8,["participant1","participant2"]),n[6]||(n[6]=m("div",{class:"row-start-[3] col-start-[35] row-span-2 col-span-4 border-t-2 border-l-2 border-screenBlack"},null,-1)),n[7]||(n[7]=m("div",{class:"row-start-[9] col-start-[35] row-span-2 col-span-4 border-b-2 border-l-2 border-screenBlack"},null,-1)),ye(Ui,{class:"col-start-[39] row-start-9",participant1:P(r).eightFinals[5].participant1,participant2:P(r).eightFinals[5].participant2},null,8,["participant1","participant2"]),ye(Ui,{class:"col-start-[39] row-start-[17]",participant1:P(r).eightFinals[6].participant1,participant2:P(r).eightFinals[6].participant2},null,8,["participant1","participant2"]),n[8]||(n[8]=m("div",{class:"row-start-[19] col-start-[35] row-span-2 col-span-4 border-t-2 border-l-2 border-screenBlack"},null,-1)),n[9]||(n[9]=m("div",{class:"row-start-[25] col-start-[35] row-span-2 col-span-4 border-b-2 border-l-2 border-screenBlack"},null,-1)),ye(Ui,{class:"col-start-[39] row-start-[25]",participant1:P(r).eightFinals[7].participant1,participant2:P(r).eightFinals[7].participant2},null,8,["participant1","participant2"]),ye(Ui,{class:"col-start-[33] row-start-[5]",participant1:P(r).quarterfinals[2].participant1,participant2:P(r).quarterfinals[2].participant2},null,8,["participant1","participant2"]),n[10]||(n[10]=m("div",{class:"row-start-[7] col-start-[29] row-span-6 col-span-4 border-t-2 border-l-2 border-screenBlack"},null,-1)),n[11]||(n[11]=m("div",{class:"row-start-[17] col-start-[29] row-span-6 col-span-4 border-b-2 border-l-2 border-screenBlack"},null,-1)),ye(Ui,{class:"col-start-[33] row-start-[21]",participant1:P(r).quarterfinals[3].participant1,participant2:P(r).quarterfinals[3].participant2},null,8,["participant1","participant2"]),ye(Ui,{class:"col-start-[27] row-start-[13]",participant1:P(r).semifinals[1].participant1,participant2:P(r).semifinals[1].participant2},null,8,["participant1","participant2"]),n[12]||(n[12]=m("div",{class:"col-start-[19] row-start-[9] lg:row-start-[10] col-span-6 row-span-3 flex justify-center items-center"},[m("p",{class:"text-center font-heading text-body lg:text-subtitle"}," Finals ")],-1)),ye(Ui,{class:"col-start-[20] row-start-[13]",participant1:P(r).finals[0].participant1,participant2:P(r).finals[0].participant2},null,8,["participant1","participant2"]),n[13]||(n[13]=m("div",{class:"row-start-[15] col-start-[17] row-span-6 col-span-3 border-t-2 border-screenBlack"},null,-1)),n[14]||(n[14]=m("div",{class:"row-start-[15] col-start-[24] row-span-6 col-span-3 border-t-2 border-screenBlack"},null,-1))]))}}),hee=["data-aos-delay"],pee={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},fee={class:"relative w-full h-full"},mee={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},gee={class:"relative h-full aspect-square flex justify-center items-center"},yee=["src","alt"],vee={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},bee={class:"font-heading text-body lg:text-subtitle text-screenBlack"},xee=st({__name:"SilverSponsorLogo",props:{logoSrc:{type:String},sponsorName:{type:String},index:{type:Number,required:!0},logoSize:{type:Number,required:!0}},setup(t){return(e,r)=>(X(),ne("div",{"data-aos":"fade-left","data-aos-delay":t.index*50,"data-aos-offset":"20",class:"relative w-[30rem] h-[30rem]"},[r[1]||(r[1]=m("div",{class:"w-full h-full absolute z-[1]"},[m("svg",{width:"372",height:"372",viewBox:"0 0 372 372",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full"},[m("path",{d:"M242.067 56.0666L326.559 169.588L270.492 299.522L129.934 315.933L45.4412 202.412L101.508 72.4782L242.067 56.0666Z",fill:"#757575"}),m("path",{d:"M237.463 69.839L312.715 170.946L262.78 286.67L137.593 301.287L62.3406 200.18L112.276 84.4558L237.463 69.839Z",fill:"#F2F1F0"})])],-1)),m("div",pee,[m("div",fee,[m("div",mee,[m("div",gee,[r[0]||(r[0]=m("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),m("img",{src:t.logoSrc,alt:`${t.sponsorName} logo`,class:"relative z-[4]",style:Zi({width:`${t.logoSize}%`,height:`${t.logoSize}%`})},null,12,yee)])])]),m("div",vee,[m("p",bee,ge(t.sponsorName),1)])])],8,hee))}}),_ee=["data-aos-delay"],wee={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},See={class:"relative w-full h-full"},Cee={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},kee={class:"relative h-full aspect-square flex justify-center items-center"},Tee=["src","alt"],Eee={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},Aee={class:"font-heading text-body lg:text-body text-screenBlack"},Mee=st({__name:"BronzeSponsorLogo",props:{logoSrc:{type:String},sponsorName:{type:String},index:{type:Number,required:!0},logoSize:{type:Number,required:!0}},setup(t){return(e,r)=>(X(),ne("div",{"data-aos":"fade-left","data-aos-delay":t.index*50,"data-aos-offset":"20",class:"relative w-[25rem] h-[25rem]"},[r[1]||(r[1]=m("div",{class:"w-full h-full absolute z-[1]"},[m("svg",{width:"293",height:"293",viewBox:"0 0 293 293",fill:"none",xmlns:"http://www.w3.org/2000/svg","preserve-aspect-ratio":"none",class:"w-full h-full"},[m("path",{d:"M190.66 44.16L257.209 133.574L213.049 235.914L102.34 248.84L35.7908 159.426L79.9508 57.0863L190.66 44.16Z",fill:"#CD7F32"}),m("path",{d:"M187.034 55.0074L246.306 134.643L206.975 225.791L108.373 237.304L49.1018 157.668L88.4324 66.5201L187.034 55.0074Z",fill:"#F2F1F0"})])],-1)),m("div",wee,[m("div",See,[m("div",Cee,[m("div",kee,[r[0]||(r[0]=m("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),m("img",{src:t.logoSrc,alt:`${t.sponsorName} logo`,class:"relative z-[4]",style:Zi({width:`${t.logoSize}%`,height:`${t.logoSize}%`})},null,12,Tee)])])]),m("div",Eee,[m("p",Aee,ge(t.sponsorName),1)])])],8,_ee))}}),Dee={class:"relative h-[8rem] flex justify-start items-end text-body text-screenBlack"},Lee=["type","value","name"],Bee={class:"absolute w-full h-full top-0 left-0 pointer-events-none"},Pee={class:"relative w-full h-full"},Iee={class:"absolute w-full h-full top-0 left-0 origin-center scale-[1] flex justify-center items-center z-[10] rotate-45"},Ree={key:0,class:"h-[2px] w-full bg-screenBlack origin-left box-content rounded will-change-transform lg:group-hover:bg-primary"},_s=st({__name:"FormInput",props:{modelValue:{type:String},label:{type:String},type:{type:String},name:{type:String},invalid:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,{modelValue:i,label:n,invalid:s}=Ls(r),a=e,o=Xe(r.type);function l(){o.value=="password"?o.value="text":o.value="password"}const u="input"+Math.floor(Math.random()*1e5).toString();return(c,d)=>(X(),ne("div",Dee,[m("div",{class:Wt({"h-[50%] relative w-full border-b-2 has-[:focus]:border-b-primary transition-all duration-100":!0,"border-b-red":P(s),"border-b-screenBlack":!P(s)})},[m("input",{type:o.value,value:P(i),onInput:d[0]||(d[0]=h=>a("update:modelValue",h.target.value)),class:Wt(`w-full h-full outline-none font-body bg-pearl-white pl-[2rem] peer ${t.type=="password"?"pr-[7rem]":"pr-[2rem]"}`),placeholder:" ",id:u,name:t.name,autocomplete:"true"},null,42,Lee),m("label",{for:u,class:Wt({"px-[2rem] font-heading absolute w-full h-full top-0 left-0 justify-start items-center pointer-events-none peer-focus:-translate-y-[100%] transition-all duration-100 peer-[:not(:placeholder-shown)]:-translate-y-[100%] peer-[:autofill]:-translate-y-[100%] whitespace-nowrap":!0,"peer-focus:text-primary":!P(s),"text-red":P(s)})},ge(P(n)),3),t.type=="password"?(X(),ne("button",{key:0,type:"button",onClick:l,class:"absolute h-full aspect-square right-[2rem] top-0 flex justify-center items-center fill-screenBlack lg:hover:fill-primary group p-2"},[d[1]||(d[1]=sa('<svg width="25" height="17" viewBox="0 0 25 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full fill-inherit"><g clip-path="url(#clip0_352_208)"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.0429876 8.08552C2.14476 3.3236 6.90809 0 12.4477 0C17.9873 0 22.7506 3.32361 24.8524 8.08552C24.9097 8.21538 24.9097 8.36367 24.8524 8.49353C22.7506 13.2554 17.9873 16.579 12.4477 16.579C6.90809 16.579 2.14476 13.2554 0.0429875 8.49353C-0.0143292 8.36367 -0.0143291 8.21538 0.0429876 8.08552ZM18.9045 8.42096C18.9045 12.0544 15.959 14.9999 12.3255 14.9999C8.69205 14.9999 5.74656 12.0544 5.74656 8.42096C5.74656 4.78751 8.69205 1.84201 12.3255 1.84201C15.959 1.84201 18.9045 4.78751 18.9045 8.42096ZM17.6513 8.42109C17.6513 11.3625 15.2668 13.7469 12.3255 13.7469C9.38409 13.7469 6.99964 11.3625 6.99964 8.42109C6.99964 5.47973 9.38409 3.09528 12.3255 3.09528C15.2668 3.09528 17.6513 5.47973 17.6513 8.42109ZM14.6023 4.70419C14.713 4.68767 14.8241 4.73146 14.8937 4.81906L16.2905 6.57566C16.3602 6.66326 16.3778 6.78138 16.3367 6.88551L15.5139 8.97343C15.4728 9.07756 15.3794 9.15189 15.2687 9.16842L13.049 9.49975C12.9383 9.51627 12.8272 9.47248 12.7576 9.38488L11.3608 7.62828C11.2911 7.54067 11.2735 7.42256 11.3145 7.31843L12.1374 5.2305C12.1785 5.12637 12.2719 5.05205 12.3826 5.03552L14.6023 4.70419Z"></path></g><defs><clipPath id="clip0_352_208"><rect width="25" height="16.5789" fill="white"></rect></clipPath></defs></svg>',1)),m("div",Bee,[m("div",Pee,[m("div",Iee,[ye(ua,{"enter-from-class":"scale-x-0","enter-active-class":"transition-tranform duration-150","enter-to-class":"scale-x-1","leave-from-class":"scale-x-1","leave-active-class":"transition-tranform duration-150 origin-right","leave-to-class":"scale-x-0 "},{default:We(()=>[o.value=="text"?(X(),ne("div",Ree)):je("",!0)]),_:1})])])])])):je("",!0)],2)]))}});async function Oee(){try{const t=await navigator.permissions.query({name:"microphone"});return t.state==="granted"?!0:(t.state==="denied",!1)}catch{return!1}}var vL={exports:{}},e3={exports:{}},q_;function Fee(){return q_||(q_=1,function(t){function e(){const r={stop:"stop",listening:"listen",recording:"record",paused:"pause"};class i{constructor(a){this.sampleRate=a,this.sampleBlocs=[],this.length=0}push(a,o){if(this.length+=a.length,this.sampleBlocs.push(a),o!==void 0){let l=this.getDuration();l>o&&this.lTrim(l-o)}return this.length}get(){var a=new Float32Array(this.length),o=this.sampleBlocs.length,l=0;for(let u=0;u<o;++u)a.set(this.sampleBlocs[u],l),l+=this.sampleBlocs[u].length;return a}getDuration(){return this.length/this.sampleRate}lTrim(a){var o=Math.round(a*this.sampleRate);if(o>=this.length){this.sampleBlocs=[];return}for(this.length-=o;o>0&&o>=this.sampleBlocs[0].length;)o-=this.sampleBlocs[0].length,this.sampleBlocs.shift();o>0&&(this.sampleBlocs[0]=this.sampleBlocs[0].subarray(o))}rTrim(a){var o=Math.round(a*this.sampleRate);if(o>=this.length){this.sampleBlocs=[];return}for(this.length-=o;o>0&&o>=this.sampleBlocs[this.sampleBlocs.length-1].length;)o-=this.sampleBlocs[this.sampleBlocs.length-1].length,this.sampleBlocs.pop();if(o>0){let l=this.sampleBlocs.length-1;this.sampleBlocs[l]=this.sampleBlocs[l].subarray(0,this.sampleBlocs[l].length-o)}}}class n extends AudioWorkletProcessor{constructor(a){super(),this.config={autoStart:!1,autoStop:!1,timeLimit:0,onSaturate:"none",saturationThreshold:.99,startThreshold:.1,stopThreshold:.05,stopDuration:.3,marginBefore:.25,marginAfter:.25,minDuration:.15},this._isRunning=!0,this._state=r.stop,this._audioSamples=null,this._silenceSamplesCount=0,this._isSaturated=!1,this._setConfig(a.processorOptions),this.port.onmessage=o=>{switch(o.data.message){case"start":this._start();break;case"pause":this._pause();break;case"stop":this._stop();break;case"cancel":this._stop(!0);break;case"toggle":this._state===r.recording||this._state===r.listening?this.stop():this.start();break;case"close":this._isRunning=!1;break;case"setConfig":this._setConfig(o.data.extra);break}}}_setConfig(a){this.config={...this.config,...a}}_start(){if(!(this._state===r.listening||this._state===r.recording)){if(this._state===r.stop&&(this._audioSamples=new i(this.config.sampleRate),this._silenceSamplesCount=0,this._isSaturated=!1,this.config.autoStart)){this._state=r.listening;return}this._state=r.recording,this.port.postMessage({message:"started"})}}_pause(){this._state===r.stop||this._state===r.paused||(this._state===r.listening?this._state=r.stop:this._state=r.paused,this.port.postMessage({message:"paused"}))}_stop(a){a=a,this._state!==r.stop&&(a===!0?(this._audioSamples=null,this.port.postMessage({message:"canceled",reason:"asked"})):(this.config.onSaturate==="discard"||this.config.onSaturate==="cancel")&&this._isSaturated?(this._audioSamples=null,this.port.postMessage({message:"canceled",reason:"saturated"})):this._audioSamples.getDuration()<this.config.minDuration?(this._audioSamples=null,this.port.postMessage({message:"canceled",reason:"tooShort"})):this.port.postMessage({message:"stopped",record:this._audioSamples.get()}),this._state=r.stop)}process(a,o,l){if(a.length===0||a[0].length===0)return this._isRunning;this._state===r.listening?this._audioListeningProcess(new Float32Array(a[0][0])):this._state===r.recording&&this._audioRecordingProcess(new Float32Array(a[0][0]));for(let u=0;u<a[0][0].length;u++)o[0][0][u]=a[0][0][u];return this._isRunning}_audioListeningProcess(a){for(let o=0;o<a.length;o++)if(Math.abs(a[o])>this.config.startThreshold)return this._state=r.recording,this.port.postMessage({message:"started"}),this._audioRecordingProcess(a);this.config.marginBefore>0&&this._audioSamples.push(a,this.config.marginBefore),this.port.postMessage({message:"listening",samples:a})}_audioRecordingProcess(a){this._audioSamples.push(a),this.port.postMessage({message:"recording",samples:a,duration:this._audioSamples.getDuration()});for(let o=0;o<a.length;o++)if(Math.abs(a[o])>this.config.saturationThreshold){if(this.port.postMessage({message:"saturated"}),this._isSaturated=!0,this.config.onSaturate==="cancel"){this._stop();return}break}if(this.config.autoStop){let o=0;for(let l=0;l<a.length;l++){let u=Math.abs(a[l]);u>o&&(o=u)}o<this.config.stopThreshold?(this._silenceSamplesCount+=a.length,this._silenceSamplesCount>=this.config.stopDuration*this.config.sampleRate&&(this._audioSamples.rTrim(this.config.stopDuration-this.config.marginAfter),this._stop())):this._silenceSamplesCount=0}this.config.timeLimit>0&&this.config.timeLimit>=this._audioSamples.getDuration()&&this._stop()}}registerProcessor("recording-processor",n)}(function(r,i){t.exports?t.exports=i():(r.LinguaRecorder||(r.LinguaRecorder={}),r.LinguaRecorder.recordingProcessorEncapsulation=i().recordingProcessorEncapsulation)})(typeof self<"u"?self:Ya,function(){return{recordingProcessorEncapsulation:e}})}(e3)),e3.exports}var t3={exports:{}},j_;function Nee(){return j_||(j_=1,function(t){const e=[63,16128,26736,28776];class r{constructor(n,s){this.sampleRate=s,this.samples=n}setSampleRate(n){this.sampleRate=n}getSampleRate(){return this.sampleRate}getLength(){return this.samples.length}getDuration(){return this.samples.length/this.sampleRate}getSamples(){return this.samples}lTrim(n){var s=Math.round(n*this.sampleRate);if(s>=this.samples.length){this.clear();return}this.samples=this.samples.subarray(s)}rTrim(n){var s=Math.round(n*this.sampleRate);if(s>=this.samples.length){this.clear();return}this.samples=this.samples.subarray(0,this.samples.length-s)}clear(){this.samples=new Float32Array(0)}play(){var n=new window.AudioContext,s=n.createBuffer(1,this.samples.length,48e3),a=s.getChannelData(0);for(let l=0;l<this.samples.length;l++)a[l]=this.samples[l];var o=n.createBufferSource();o.buffer=s,o.connect(n.destination),o.start(0)}getBlob(){var n=new ArrayBuffer(44+this.samples.length*2),s=new DataView(n);r.writeString(s,0,"RIFF"),s.setUint32(4,32+this.samples.length*2,!0),r.writeString(s,8,"WAVE"),r.writeString(s,12,"fmt "),s.setUint32(16,16,!0),s.setUint16(20,1,!0),s.setUint16(22,1,!0),s.setUint32(24,this.sampleRate,!0),s.setUint32(28,this.sampleRate*2,!0),s.setUint16(32,2,!0),s.setUint16(34,16,!0),r.writeString(s,36,"data"),s.setUint32(40,this.samples.length*2,!0);for(let a=0;a<this.samples.length;a++){let o=parseInt(this.samples[a]*32767);e.indexOf(o)>-1&&o++,s.setInt16(44+a*2,o,!0)}return new Blob([s],{type:"audio/wav"})}getWAVE(){return this.getBlob()}getObjectURL(){return window.URL.createObjectURL(this.getBlob())}download(n){var s=document.createElement("a"),a=this.getObjectURL();n=n||"record.wav",n.toLowerCase().indexOf(".wav",n.length-4)===-1&&(n+=".wav"),s.style.display="none",s.href=a,s.download=n,document.body.appendChild(s),s.click(),setTimeout(function(){document.body.removeChild(s),window.URL.revokeObjectURL(a)},1e3)}getAudioElement(){var n=document.createElement("audio"),s=document.createElement("source");return s.src=this.getObjectURL(),s.type="audio/wav",n.appendChild(s),n}static writeString(n,s,a){for(let o=0;o<a.length;o++)n.setUint8(s+o,a.charCodeAt(o))}}(function(i,n){t.exports?t.exports=n():(i.LinguaRecorder||(i.LinguaRecorder={}),i.LinguaRecorder.AudioRecord=n().AudioRecord)})(typeof self<"u"?self:Ya,function(){return{AudioRecord:r}})}(t3)),t3.exports}(function(t){var e={};typeof AudioRecord<"u"&&typeof recordingProcessorEncapsulation<"u"?(e.recordingProcessorEncapsulation=recordingProcessorEncapsulation,e.AudioRecord=AudioRecord):t.exports&&(e.recordingProcessorEncapsulation=Fee().recordingProcessorEncapsulation,e.AudioRecord=Nee().AudioRecord);const r={stop:"stop",listening:"listen",recording:"record",paused:"pause"};class i{constructor(s){zn(this,"stream",null);zn(this,"recordProcessorConfig",{});zn(this,"audioContext",null);zn(this,"audioInput",null);zn(this,"processor",null);zn(this,"_state",r.stop);zn(this,"_isConnected",!1);zn(this,"_duration",0);zn(this,"_extraAudioNodes",[]);zn(this,"_eventHandlers",{ready:[],readyFail:[],started:[],listening:[],recording:[],saturated:[],paused:[],stopped:[],canceled:[]});zn(this,"_eventStorage",{ready:null,readyFail:null});this.setConfig(s),this._getAudioStream()}setConfig(s){return this.recordProcessorConfig={...this.recordProcessorConfig,...s},this._sendCommandToProcessor("setConfig",this.recordProcessorConfig),this}getRecordingTime(){return this._duration}getState(){return this._state}getAudioContext(){return this.audioContext}start(){return this.processor===null?this:(this._connect(),this._sendCommandToProcessor("start"))}pause(){return this._sendCommandToProcessor("pause")}stop(s){if(s===!0)this.cancel();else return this._sendCommandToProcessor("stop")}cancel(){return this._sendCommandToProcessor("cancel")}toggle(){return this._sendCommandToProcessor("toggle")}on(s,a){return s==="stoped"&&(s="stopped",console.warn("[LinguaRecorder] .on('stoped',...) is deprecated. Please use .on('stopped',...) instead.")),s in this._eventHandlers&&this._eventHandlers[s].push(a),s in this._eventStorage&&this._eventStorage[s]!==null&&a(this._eventStorage[s]),this}off(s){return s==="stoped"&&(s="stopped",console.warn("[LinguaRecorder] .off('stoped') is deprecated. Please use .off('stopped') instead.")),s in this._eventHandlers&&(this._eventHandlers[s]=[]),this}connectAudioNode(s){var a=this._isConnected;return this._isConnected&&this._disconnect(),this._extraAudioNodes.push(s),a&&this._connect(),this}disconnectAudioNode(s){for(let a=0;a<this._extraAudioNodes.length;a++)if(s===this._extraAudioNodes[a]){let o=this._isConnected;this._isConnected&&this._disconnect(),this._extraAudioNodes.splice(a,1),o&&this._connect();break}return this}close(){if(this.processor!==null)return this.off("ready").off("readyFail").off("started").off("listening").off("recording").off("saturated").off("paused").off("stopped").off("canceled"),this._eventStorage={},this._sendCommandToProcessor("close"),this._disconnect(),this.processor.port.onmessage=null,this.processor.port.close(),this.processor=null,this}_sendCommandToProcessor(s,a){return this.processor!==null&&this.processor.port.postMessage({message:s,extra:a}),this}_fire(s,a){if(s in this._eventHandlers)for(let o=0;o<this._eventHandlers[s].length;o++)this._eventHandlers[s][o](a);s in this._eventStorage&&(this._eventStorage[s]=a)}async _getAudioStream(){try{this.stream=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1})}catch(s){this._fire("readyFail",s);return}await this._initStream(),this._fire("ready",this.stream)}async _initStream(){this.audioContext=new window.AudioContext,this.audioInput=this.audioContext.createMediaStreamSource(this.stream);const s=new Blob([`(${e.recordingProcessorEncapsulation})()`],{type:"application/javascript; charset=utf-8"});await this.audioContext.audioWorklet.addModule(URL.createObjectURL(s)),this.recordProcessorConfig.sampleRate=this.audioContext.sampleRate,this.processor=new AudioWorkletNode(this.audioContext,"recording-processor",{processorOptions:this.recordProcessorConfig}),this.processor.port.onmessage=a=>{switch(a.data.message){case"started":this._state=r.recording,this._duration=0,this._fire("started");break;case"listening":this._state=r.listening,this._duration=0,this._fire("listening",a.data.samples);break;case"recording":this._state=r.recording,this._duration=a.data.duration,this._fire("recording",a.data.samples);break;case"saturated":this._fire("saturated");break;case"paused":this._state=r.paused,this._fire("paused");break;case"stopped":this._state=r.stop,this._duration=0,this._disconnect(),this._fire("stopped",new e.AudioRecord(a.data.record,this.audioContext.sampleRate));break;case"canceled":this._state=r.stop,this._duration=0,this._disconnect(),this._fire("canceled",a.data.reason);break}}}_connect(){if(!this._isConnected){var s=this.audioInput;for(let a=0;a<this._extraAudioNodes.length;a++)s.connect(this._extraAudioNodes[a]),s=this._extraAudioNodes[a];s.connect(this.processor),this._isConnected=!0}}_disconnect(){if(this._isConnected){this.audioInput.disconnect();for(let s=0;s<this._extraAudioNodes.length;s++)this._extraAudioNodes[s].disconnect();this.processor.disconnect(),this._isConnected=!1}}}(function(n,s){t.exports?t.exports=s():(n.LinguaRecorder||(n.LinguaRecorder={}),n.LinguaRecorder.LinguaRecorder=s().LinguaRecorder)})(typeof self<"u"?self:Ya,function(){return{LinguaRecorder:i}})})(vL);var $ee=vL.exports;const zee={class:"w-full h-[8rem] flex items-end"},Uee={class:"h-[50%] w-full bg-white-100 rounded-[10px] flex justify-between items-center px-[2rem] relative text-screenBlack"},qee={class:"flex-1 h-full flex items-center p-2"},jee={key:0,class:"text-body"},Vee={key:1,class:"flex w-full flex-col items-start justify-center"},Hee={class:"text-text-sm"},Kee={class:"w-full h-[3px] bg-gray-200 flex justify-start"},Wee={class:"h-full flex"},Gee={key:0,class:"h-full aspect-square p-1"},Xee={key:1,class:"h-full aspect-square p-1"},Yee={key:2,class:"h-full aspect-square p-1"},Zee={key:3,class:"h-full aspect-square p-1"},Jee={key:4,class:"h-full aspect-square p-1"},Qee=st({__name:"VoiceInput",props:{label:{type:String},modelValue:{type:Blob},invalid:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,{label:i,modelValue:n,invalid:s}=Ls(r),a=e,o=new $ee.LinguaRecorder,l=Xe(!1),u=Xe(!1),c=Xe(!1),d=Xe(null),h=Xe(null),f=Xe(0),g=Xe(0);o.on("stopped",D=>{d.value=D,h.value=new Audio(URL.createObjectURL(D.getBlob())),h.value.addEventListener("ended",T),h.value.addEventListener("timeupdate",y),h.value.addEventListener("loadedmetadata",()=>{g.value=h.value.duration}),a("update:modelValue",D.getBlob())});function y(){h.value&&h.value.duration>0&&(f.value=h.value.currentTime/h.value.duration*100)}const C=async()=>{if(!await Oee()){alert("allow access to the microphone first. It may require you to reload the page");return}o.start(),l.value=!0},S=()=>{o.stop(),l.value=!1,u.value=!0},A=()=>{c.value=!0,h.value&&h.value.play()};function T(){c.value=!1,h.value&&h.value.pause()}const M=()=>{o.cancel(),l.value=!1,u.value=!1,c.value=!1,h.value=null,d.value=null,f.value=0,g.value=0,a("update:modelValue",void 0)};return(D,B)=>(X(),ne("div",zee,[m("div",Uee,[m("p",{class:Wt({"absolute left-[2rem] text-body font-heading h-[100%] flex items-center will-change-transform transition-transform duration-100":!0,"-translate-y-[100%]":u.value||l.value,"text-red":P(s),"text-screenBlack":!P(s)})},ge(P(i)),3),m("div",qee,[l.value?(X(),ne("div",jee,B[0]||(B[0]=[m("p",null,"recording...",-1)]))):je("",!0),u.value&&g.value?(X(),ne("div",Vee,[m("p",Hee,ge(Math.ceil(f.value*g.value/100)+"/"+Math.ceil(g.value)+"s"),1),m("div",Kee,[m("div",{class:"h-full w-full bg-primary origin-left transition-transform will-change-transform duration-75",style:Zi({transform:`scaleX(${f.value/100})`})},null,4)])])):je("",!0)]),m("div",Wee,[!l.value&&!u.value?(X(),ne("div",Gee,[m("button",{type:"button",title:"record",onClick:C,class:"h-full aspect-square flex rounded-full bg-gray-50 fill-screenBlack lg:hover:fill-primary"},B[1]||(B[1]=[m("svg",{viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full fill-inherit"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.2412 23.1224L19.5364 10.2668L27.2188 10.2668L31.514 23.1224L27.3586 31.1932L19.3967 31.1932L15.2412 23.1224ZM18.624 9L28.1312 9L32.8848 23.2275L31.0825 26.728H31.9633L33.8786 23.0715L35.0008 23.6594L29.5062 34.1489L29.3284 34.4884H28.9451H24.0843V36.2176H27.9464V37.4844H18.9553V36.2176H22.8174V34.4884H17.4566H17.0566L16.8847 34.1273L11.8896 23.6378L13.0334 23.0931L14.7643 26.728H15.6728L13.8704 23.2275L18.624 9ZM16.325 27.9949H15.3676L17.8565 33.2216H28.5619L31.2997 27.9949H30.4436V27.9688L28.1312 32.46L18.624 32.46L16.325 27.9949Z"})],-1)]))])):je("",!0),l.value&&!u.value?(X(),ne("div",Xee,[m("button",{type:"button",title:"end recording",onClick:S,class:"h-full aspect-square flex rounded-full bg-gray-50 stroke-screenBlack lg:hover:stroke-primary"},B[2]||(B[2]=[m("svg",{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full stroke-inherit"},[m("rect",{x:"14.635",y:"13.635",width:"18.73",height:"19.73",rx:"1.365","stroke-width":"1.27"})],-1)]))])):je("",!0),!l.value&&u.value&&!c.value?(X(),ne("div",Yee,[m("button",{type:"button",title:"play",onClick:A,class:"h-full aspect-square flex rounded-full bg-gray-50 stroke-screenBlack lg:hover:stroke-primary"},B[3]||(B[3]=[m("svg",{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full stroke-inherit"},[m("path",{d:"M17.3069 12.416L35.3069 22.8083C35.5502 22.9487 35.5502 23.3 35.3069 23.4405L17.3069 33.8328C17.0635 33.9732 16.7594 33.7976 16.7594 33.5167L16.7594 12.7321C16.7594 12.4511 17.0635 12.2755 17.3069 12.416Z","stroke-width":"1.27"})],-1)]))])):je("",!0),!l.value&&u.value&&c.value?(X(),ne("div",Zee,[m("button",{type:"button",title:"pause",onClick:T,class:"h-full aspect-square flex rounded-full bg-gray-50 stroke-screenBlack lg:hover:stroke-primary"},B[4]||(B[4]=[m("svg",{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full stroke-inherit"},[m("rect",{x:"25.635",y:"12.635",width:"4.73",height:"21.73",rx:"1.365","stroke-width":"1.27"}),m("rect",{x:"16.635",y:"12.635",width:"4.73",height:"21.73",rx:"1.365","stroke-width":"1.27"})],-1)]))])):je("",!0),!l.value&&u.value?(X(),ne("div",Jee,[m("button",{type:"button",title:"record again",onClick:M,class:"h-full aspect-square flex rounded-full bg-gray-50 stroke-screenBlack lg:hover:stroke-primary"},B[5]||(B[5]=[m("svg",{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full stroke-inherit"},[m("path",{d:"M34 26.1228L31.671 32.274C31.4115 32.9593 30.798 33.4479 30.072 33.5473L20.5851 34.8465C19.8897 34.9417 19.1952 34.6654 18.7553 34.1185L12.7199 26.6144C12.2741 26.0601 12.1562 25.3108 12.4104 24.6464L15.9143 15.4856C16.1667 14.8257 16.7485 14.348 17.4448 14.2287L27.0095 12.5914C27.6919 12.4746 28.3862 12.719 28.845 13.2376L33.5 18.5M33.5 18.5L31.6429 12M33.5 18.5L27.7143 16.4386","stroke-width":"1.27"})],-1)]))])):je("",!0)])])]))}});function ete(t){return new Promise((e,r)=>{const i=new FileReader;i.onloadend=()=>{const n=i.result;e(n)},i.onerror=()=>{r(new Error("Failed to convert Blob to base64"))},i.readAsDataURL(t)})}const tte=ki("participationFormStore",{state:()=>({phoneNumber:"",emergencyPhoneNumber:"",studyProgram:"",namePronunciation:void 0,additionalInfo:"",acceptedRules:!1,errors:{},loading:!1}),actions:{async validateForm(){return this.errors={},this.phoneNumber.trim()?/^\+?[0-9\s\-()]{7,}$/.test(this.phoneNumber)||(this.errors.phoneNumber="Invalid phone number format."):this.errors.phoneNumber="Phone Number is required.",this.emergencyPhoneNumber.trim()?/^\+?[0-9\s\-()]{7,}$/.test(this.emergencyPhoneNumber)||(this.errors.emergencyPhoneNumber="Invalid phone number format."):this.errors.emergencyPhoneNumber="Emergency Phone Number is required.",this.studyProgram.trim()||(this.errors.studyProgram="Study Program is required."),this.namePronunciation?await this.checkIfAudioIsUnderNSeconds(this.namePronunciation,10)||(this.errors.namePronunciation="audio must be under 10 sec"):this.errors.namePronunciation="Name pronunciation is required",Object.keys(this.errors).length===0},async submitForm(){const t=jt();this.loading=!0;try{const e=v2().competitionId,r=await ete(this.namePronunciation);(await wi.patch(`/competition/${e}/`,{action:"register",phone_number:this.phoneNumber,emergency_phone_number:this.emergencyPhoneNumber,program_of_study:this.studyProgram,name_pronunciation:r,additional_info:this.additionalInfo})).status===200&&(t.addToast({type:"success",title:"successfully registered",message:"please check your email regularly to see updates"}),this.resetForm())}catch(e){throw t.addToast({type:"error",title:"an error has occured",message:"an error has occured while submitting the form"}),e}finally{this.loading=!1}},resetForm(){this.phoneNumber="",this.emergencyPhoneNumber="",this.studyProgram="",this.namePronunciation=void 0,this.additionalInfo="",this.acceptedRules=!1,this.errors={}},prefillForm(){const t=Si();t.phoneNumber&&(this.phoneNumber=t.phoneNumber),t.programOfStudy&&(this.studyProgram=t.programOfStudy)},async checkIfAudioIsUnderNSeconds(t,e=10){const r=new AudioContext,i=await t.arrayBuffer();return(await r.decodeAudioData(i)).duration<10}}}),rte={class:"w-full h-[max] flex flex-col gap-[2rem] items-center"},ite={class:"w-full grid grid-cols-1 lg:grid-cols-2 gap-x-[2rem] gap-y-[2rem]"},nte={class:"flex flex-col"},ste={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},ate={class:"flex flex-col"},ote={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},lte={class:"flex flex-col"},ute={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},cte={class:"flex flex-col"},dte={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},hte=st({__name:"ParticipationForm",emits:["closeForm"],setup(t,{emit:e}){const r=tte(),{phoneNumber:i,emergencyPhoneNumber:n,studyProgram:s,namePronunciation:a,errors:o}=Ur(r);ao(()=>{r.prefillForm(),document.getElementsByTagName("body")[0].style.overflowY="hidden"}),oo(()=>{document.getElementsByTagName("body")[0].style.overflowY="unset"});const l=e;v2();const{getProfileData:u}=Si(),c=async d=>{if(d.preventDefault(),await r.validateForm())try{await r.submitForm(),await u(),window.onbeforeunload=null,l("closeForm")}catch{l("closeForm")}};return(d,h)=>(X(),ne("form",{onSubmit:c,class:"w-[90vw] lg:w-[80vw] xl:w-[50vw] min-h-[60rem] h-[80vh] lg:h-[80vh] bg-pearl-white rounded-3xl py-8 px-[4rem] overflow-y-auto font-body text-body",onClick:h[4]||(h[4]=f=>f.stopImmediatePropagation())},[m("div",rte,[h[8]||(h[8]=m("h3",{class:"text-subtitle lg:text-title font-heading text-center"}," Registration ",-1)),h[9]||(h[9]=m("h4",{class:"text-center"}," You almost there! Please provide some additional information before proceeding. ",-1)),m("div",ite,[m("div",nte,[ye(_s,{modelValue:P(i),"onUpdate:modelValue":h[0]||(h[0]=f=>Bt(i)?i.value=f:null),label:"Phone Number*",invalid:!!P(o).phoneNumber},null,8,["modelValue","invalid"]),P(o).phoneNumber?(X(),ne("div",ste,ge(P(o).phoneNumber),1)):je("",!0)]),m("div",ate,[ye(_s,{modelValue:P(n),"onUpdate:modelValue":h[1]||(h[1]=f=>Bt(n)?n.value=f:null),label:"Emergency phone number*",invalid:!!P(o).emergencyPhoneNumber},null,8,["modelValue","invalid"]),P(o).emergencyPhoneNumber?(X(),ne("div",ote,ge(P(o).emergencyPhoneNumber),1)):je("",!0)]),m("div",lte,[ye(_s,{modelValue:P(s),"onUpdate:modelValue":h[2]||(h[2]=f=>Bt(s)?s.value=f:null),label:"Study Program*",invalid:!!P(o).studyProgram},null,8,["modelValue","invalid"]),P(o).studyProgram?(X(),ne("div",ute,ge(P(o).studyProgram),1)):je("",!0)]),m("div",cte,[ye(Qee,{modelValue:P(a),"onUpdate:modelValue":h[3]||(h[3]=f=>Bt(a)?a.value=f:null),label:"Name pronunciation*",invalid:!!P(o).namePronunciation},null,8,["modelValue","invalid"]),P(o).namePronunciation?(X(),ne("div",dte,ge(P(o).namePronunciation),1)):je("",!0)]),h[5]||(h[5]=m("h5",{class:"font-heading pl-[2rem] mt-[5rem]"}," Additional info: ",-1)),h[6]||(h[6]=m("textarea",{placeholder:"Anything else you want us to know?",class:"w-full lg:col-span-2 rounded resize-none h-[10rem] py-4 px-8"},null,-1)),h[7]||(h[7]=m("button",{class:"mt-[2rem] lg:col-start-2 overflow-hidden w-[100%] rounded-3xl font-heading text-subtitle pt-[0.8rem] pb-[0.6rem] relative bg-primary border-primary border-2 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:bg-pearl-white after:transition-transform after:duration-200 after:will-change-transform after:origin-top after:scale-y-0 hover:after:scale-y-100",title:"sign up",type:"submit"},[m("span",{class:"relative z-[2]"}," Send ")],-1))])])],32))}}),pte={class:"w-full bg-screenBlack flex justify-center pt-[8rem] lg:pt-[10rem]"},fte={class:"w-full h-[20rem] lg:h-[30rem] relative"},mte=["src"],gte={class:"absolute left-0 top-0 w-full h-full flex justify-center items-center z-[3]"},yte={class:"font-heading text-pearl-white w-max flex flex-col items-center"},vte={class:"text-body lg:text-subtitle flex gap-[1rem] text-primary"},bte={class:"w-full bg-screenBlack text-screenBlack"},xte={class:"px-[2rem] bg-pearl-white lg:px-[12rem] xl:px-[10vw] pt-[4rem] pb-[5rem] min-h-[64rem] flex flex-col lg:block"},_te={class:"w-full lg:w-[48rem] lg:h-[60rem] lg:px-[6rem] pt-[2rem] pb-[6rem] lg:py-[2rem] relative lg:float-right"},wte={class:"font-heading text-title w-full text-center lg:text-left"},Ste={class:"text-primary w-full text-center lg:text-left"},Cte=["innerHTML"],kte={class:"font-heading text-title mt-[3rem] w-full text-center lg:text-left"},Tte=["innerHTML"],Ete={class:"w-full"},Ate={class:"w-full h-max bg-screenBlack overflow-x-hidden"},Mte={key:0,class:"w-full h-max flex flex-col gap-[5rem] lg:gap-0 lg:grid lg:grid-cols-[1fr_25rem] lg:grid-rows-1 lg:gap-x-[10rem] px-[2rem] lg:px-[12rem] xl:px-[10vw] py-[12rem] bg-pearl-white [clip-path:polygon(0_0,100%_0,100%_calc(100%-5rem),0%_100%)]"},Dte={class:"flex flex-col gap-[4rem]"},Lte={class:"font-heading text-center lg:text-left text-title lg:text-heading"},Bte=["innerHTML"],Pte={class:"w-full h-full p-[20%] md:p-[30%] lg:p-0 flex justify-center items-center"},Ite=["src"],Rte={key:0,class:"relative w-full h-max py-[12rem]"},Ote={key:1,class:"w-full h-[5rem]"},Fte={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},Nte={class:"flex flex-row justify-center lg:justify-between flex-wrap"},$te={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},zte={class:"flex flex-row-reverse justify-center lg:justify-between flex-wrap"},Ute={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},qte={class:"flex justify-center lg:justify-between flex-wrap"},jte={class:"w-[90%] md:w-[50rem] h-[40rem] md:h-[30rem] flex flex-col items-center justify-between py-[2rem] px-[4rem] bg-pearl-white rounded-3xl"},Vte={class:"w-full flex justify-center gap-[2rem]"},Hte=st({__name:"Event",setup(t){const e=v2(),r=Xe(!1),{isAuthenticated:i}=Ur(Si()),n=zg(),s=Fu();ao(async()=>{try{e.$reset(),await e.fetchEventData(n.params.id)}catch{s.push("/events")}});const a=()=>{r.value=!0,i&&(window.onbeforeunload=function(){return!0})},o=()=>{(!i.value||confirm("Are you sure you want to leave this form? All entered data will be lost"))&&(r.value=!1,window.onbeforeunload=null)};return(l,u)=>{const c=yn("RouterLink");return X(),Ot(Fn,null,{default:We(()=>{var d,h,f;return[m("div",pte,[m("div",fte,[m("img",{src:P(e).eventPictureSrc,alt:"event preview photo",class:"absolute z-[1] w-full h-full top-0 left-0 object-cover",draggable:"false"},null,8,mte),u[2]||(u[2]=m("div",{class:"absolute left-0 top-0 w-full h-full bg-secondary z-[2] bg-opacity-70"},null,-1)),m("div",gte,[m("div",yte,[u[1]||(u[1]=m("h1",{class:"text-title lg:text-heading"},"Integration Bee",-1)),m("h2",vte,ge(P(e).competitionName)+" "+ge(P(e).edition),1)])])])]),m("div",null,[m("main",bte,[m("section",xte,[m("div",_te,[ye(ZQ,{data:P(e).participatePanel,class:"w-full h-full",onShowParticipationForm:a},null,8,["data"])]),m("h2",wte,[tt(ge(P(e).competitionName)+" ",1),u[3]||(u[3]=m("br",null,null,-1)),m("span",Ste,ge(P(e).edition),1)]),m("p",{class:"font-body text-body mt-[3rem] w-full text-center lg:text-left",innerHTML:P(Qn)(P(e).description)},null,8,Cte),(X(!0),ne(yt,null,Nr(P(e).sections,(g,y)=>(X(),ne(yt,{key:y},[m("h3",kte,ge(g.title),1),m("p",{class:"font-body text-body mt-[3rem] w-full text-center lg:text-left section-text",innerHTML:P(Qn)(g.text)},null,8,Tte)],64))),128)),u[4]||(u[4]=m("h3",{class:"font-heading text-title mt-[3rem] w-full text-center lg:text-left"}," Tournament Bracket ",-1)),m("div",Ete,[ye(dee,{data:P(e).tournamentBracket,class:"w-full mt-[4rem] origin-center lg:scale-[0.9]"},null,8,["data"])])]),m("section",Ate,[m("div",{class:Wt(`w-full h-max relative flex justify-center items-center bg-pearl-white ${P(e).silverSponsors.length||P(e).bronzeSponsors.length||P(e).mainSponsorExists||P(e).mainSponsorExists?"py-[10rem]":"[clip-path:polygon(0_0,100%_0,100%_calc(100%-5rem),0_100%)] pt-[10rem] pb-[15rem]"}`)},u[5]||(u[5]=[m("div",{class:"relative h-[10rem] w-full flex justify-center items-center"},[m("div",{class:"w-full absolute top-[2rem] left-0 hidden lg:flex"},[m("svg",{width:"1439",height:"46",viewBox:"0 0 1439 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1439 0.809456L1213.55 9.45089C1213.06 9.46978 1212.59 9.67003 1212.23 10.0132L1194.53 27.1656C1193.22 28.4422 1194.17 30.6707 1196 30.6004L1439 21.2864V0.809456Z",fill:"#FBC151"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 45.4958L265.844 35.3061C266.355 35.2866 266.839 35.0721 267.196 34.7068L283.956 17.5904C285.221 16.2981 284.257 14.1234 282.45 14.1927L0 25.0188V45.4958Z",fill:"#FBC151"})])]),m("h3",{class:"font-heading text-center text-title lg:text-heading text-screenBlack"}," Sponsors ")],-1)]),2),P(e).mainSponsorExists?(X(),ne("div",Mte,[m("div",Dte,[m("h4",Lte," Main sponsor - "+ge((d=P(e).mainSponsor)==null?void 0:d.sponsorName),1),m("p",{class:"font-body text-body lg:text-body text-center lg:text-left",innerHTML:P(Qn)((h=P(e).mainSponsor)==null?void 0:h.description)},null,8,Bte)]),m("div",Pte,[m("img",{src:(f=P(e).mainSponsor)==null?void 0:f.logoSrc,alt:"main sponsor logo",class:"w-full max-h-full"},null,8,Ite)])])):je("",!0),P(e).goldSponsors.length?(X(),ne(yt,{key:1},[P(e).silverSponsors.length||P(e).bronzeSponsors.length||P(e).mainSponsorExists?(X(),ne("div",Rte,u[6]||(u[6]=[m("div",{class:"absolute left-[70%] md:left-[50%] lg:left-[70%] xl:left-[50%] 2xl:left-auto 2xl:right-0 xl:right-0 top-[43%]"},[m("svg",{width:"782",height:"31",viewBox:"0 0 782 31",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M782 0.926632L45.1191 9.80528C44.8717 9.80826 44.627 9.85712 44.3974 9.94936L2.16181 26.9214C0.107586 27.7469 0.717887 30.8037 2.9316 30.777L782 21.3901V0.926632Z",fill:"#FBC151"})])],-1),m("div",{class:"pl-[2rem] lg:pl-[12rem]"},[m("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Gold Sponsors ")],-1)]))):(X(),ne("div",Ote)),m("div",Fte,[m("div",Nte,[(X(!0),ne(yt,null,Nr(P(e).goldSponsors,(g,y)=>(X(),Ot(aee,{key:y,"logo-src":g.logoSrc,"sponsor-name":g.sponsorName,index:y,"logo-size":g.logoSize},null,8,["logo-src","sponsor-name","index","logo-size"]))),128)),u[7]||(u[7]=m("div",{class:"h-[35rem] min-w-[35rem] flex items-center justify-center"},[m("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[tt("Here could "),m("br"),tt(" be your logo")])],-1))])])],64)):je("",!0),P(e).silverSponsors.length?(X(),ne(yt,{key:2},[u[9]||(u[9]=m("div",{class:"relative w-full h-max py-[12rem] flex justify-end"},[m("div",{class:"absolute right-[70%] md:right-[50%] lg:right-[70%] xl:right-[60%] 2xl:left-0 top-[43%]"},[m("svg",{width:"701",height:"29",viewBox:"0 0 701 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 29.005L658.721 21.0681C658.981 21.065 659.237 21.0114 659.476 20.9102L699.536 3.9644C701.556 3.10981 700.926 0.0961456 698.733 0.122574L0 8.54158V29.005Z",fill:"#FBC151"})])]),m("div",{class:"pr-[2rem] lg:pr-[12rem]"},[m("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Silver Sponsors ")])],-1)),m("div",$te,[m("div",zte,[(X(!0),ne(yt,null,Nr(P(e).silverSponsors,(g,y)=>(X(),Ot(xee,{key:y,"logo-src":g.logoSrc,"sponsor-name":g.sponsorName,index:y,"logo-size":g.logoSize},null,8,["logo-src","sponsor-name","index","logo-size"]))),128)),u[8]||(u[8]=m("div",{class:"h-[30rem] min-w-[30rem] flex items-center justify-center"},[m("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[tt("Here could "),m("br"),tt(" be your logo")])],-1))])])],64)):je("",!0),P(e).bronzeSponsors.length?(X(),ne(yt,{key:3},[u[11]||(u[11]=m("div",{class:"relative w-full h-max py-[12rem]"},[m("div",{class:"absolute left-[70%] md:left-[50%] lg:left-[70%] xl:left-[50%] 2xl:left-auto 2xl:right-0 xl:right-0 top-[43%]"},[m("svg",{width:"782",height:"31",viewBox:"0 0 782 31",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M782 0.926632L45.1191 9.80528C44.8717 9.80826 44.627 9.85712 44.3974 9.94936L2.16181 26.9214C0.107586 27.7469 0.717887 30.8037 2.9316 30.777L782 21.3901V0.926632Z",fill:"#FBC151"})])]),m("div",{class:"pl-[2rem] lg:pl-[12rem]"},[m("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Bronze Sponsors ")])],-1)),m("div",Ute,[m("div",qte,[(X(!0),ne(yt,null,Nr(P(e).bronzeSponsors,(g,y)=>(X(),Ot(Mee,{key:y,"logo-src":g.logoSrc,"sponsor-name":g.sponsorName,index:y,"logo-size":g.logoSize},null,8,["logo-src","sponsor-name","index","logo-size"]))),128)),u[10]||(u[10]=m("div",{class:"h-[25rem] min-w-[25rem] flex items-center justify-center"},[m("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[tt("Here could "),m("br"),tt(" be your logo")])],-1))])])],64)):je("",!0)])]),ye(ua,{"enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:We(()=>[r.value&&P(i)?(X(),ne("div",{key:0,class:"fixed z-[600] w-full h-full top-0 left-0 bg-[rgba(0,0,0,0.4)] flex justify-center items-center transition-opacity duration-100",onClick:o},[u[12]||(u[12]=m("button",{class:"absolute right-[4rem] top-[4rem] aspect-square w-[2rem] lg:w-[4rem] rounded-full transition-all"},[m("svg",{width:"134",height:"134",viewBox:"0 0 134 134",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_286_9)"},[m("rect",{x:"-2.67847",y:"6.51398",width:"13",height:"184.075",rx:"6.5",transform:"rotate(-45 -2.67847 6.51398)",fill:"#F2F1F0"}),m("rect",{x:"127.482",y:"-2.67841",width:"13",height:"184.075",rx:"6.5",transform:"rotate(45 127.482 -2.67841)",fill:"#F2F1F0"})]),m("defs",null,[m("clipPath",{id:"clip0_286_9"},[m("rect",{width:"134",height:"134",fill:"white"})])])])],-1)),ye(hte,{onCloseForm:u[0]||(u[0]=()=>{r.value=!1})})])):je("",!0)]),_:1}),ye(ua,{"enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:We(()=>[r.value&&!P(i)?(X(),ne("div",{key:0,class:"fixed z-[600] w-full h-full top-0 left-0 bg-[rgba(0,0,0,0.4)] flex justify-center items-center transition-opacity duration-100",onClick:o},[u[17]||(u[17]=m("button",{class:"absolute right-[4rem] top-[4rem] aspect-square w-[2rem] lg:w-[4rem] rounded-full transition-all"},[m("svg",{width:"134",height:"134",viewBox:"0 0 134 134",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_286_9)"},[m("rect",{x:"-2.67847",y:"6.51398",width:"13",height:"184.075",rx:"6.5",transform:"rotate(-45 -2.67847 6.51398)",fill:"#F2F1F0"}),m("rect",{x:"127.482",y:"-2.67841",width:"13",height:"184.075",rx:"6.5",transform:"rotate(45 127.482 -2.67841)",fill:"#F2F1F0"})]),m("defs",null,[m("clipPath",{id:"clip0_286_9"},[m("rect",{width:"134",height:"134",fill:"white"})])])])],-1)),m("div",jte,[u[15]||(u[15]=m("h3",{class:"font-heading text-subtitle text-screenBlack text-center"},"You have to log in first",-1)),u[16]||(u[16]=m("p",{class:"font-body text-body text-screenBlack text-center"}," you need to be signed into your account in order to participate in the event.",-1)),m("div",Vte,[ye(c,{to:"/sign_up",class:"rounded-2xl text-secondary lg:hover:bg-screenBlack-400 lg:hover:bg-opacity-15 w-[16rem] h-[6rem] lg:w-[18rem] lg:h-[6rem] flex justify-center items-center text-body font-semibold"},{default:We(()=>u[13]||(u[13]=[tt("Sign up")])),_:1}),ye(c,{to:`/sign_in?next=${P(n).path}`,class:"rounded-2xl text-secondary bg-primary w-[16rem] h-[6rem] lg:w-[18rem] lg:h-[6rem] flex justify-center items-center text-body font-semibold"},{default:We(()=>u[14]||(u[14]=[tt("Sign in")])),_:1},8,["to"])])])])):je("",!0)]),_:1})])]}),_:1})}}}),Kte=uo(Hte,[["__scopeId","data-v-5689ceb3"]]);function Wte(t){return t.replace(/([A-Z])/g,"_$1").toLowerCase()}function Gte(t){return new Promise((e,r)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>e(i.result),i.onerror=n=>r(n)})}const Xte=ki("profilePageStore",{state:()=>({phoneNumber:"",institution:"",programOfStudy:"",profilePicture:null,editingField:null}),actions:{async updateProfilePicture(){if(this.profilePicture)try{const t=await Gte(this.profilePicture);await wi.put("/updateUser/",{profile_picture:t}),await Si().getProfileData()}catch{jt().addToast({type:"error",title:"Something went wrong",message:"could not update profile picture, try again later."})}},async updateProfileField(t,e){try{const r=Wte(t);await wi.put("/updateUser/",{[r]:e}),await Si().getProfileData(),this.cancelEditing()}catch{jt().addToast({type:"error",title:"Error has occured",message:"could not update profile information. try later"})}},startEditing(t){this.editingField=t;const e=Si();this[t]=e[t]??""},cancelEditing(){this.editingField!=null&&(this[this.editingField]=""),this.editingField=null}}}),Yte={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-pearl-white flex flex-col justify-center py-[5rem]"},Zte={class:"grid grid-cols-1 lg:grid-cols-[1fr_2fr] gap-y-[4rem] lg:gap-y-0 lg:gap-x-[4rem] text-screenBlack font-body text-text-sm lg:text-body"},Jte={class:"flex flex-col items-center gap-[2rem]"},Qte={key:0,class:"w-full max-w-[30rem] flex justify-center items-center aspect-square relative before:absolute before:w-full before:h-full before:z-0 before:bg-gray-50 before:scale-[1.08] before:[clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)] before:[-webkit-clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)]"},ere={class:"relative z-[2] w-[95%] aspect-square overflow-hidden [clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)] [-webkit-clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)]"},tre=["src"],rre={class:"flex gap-[1rem] items-center cursor-pointer",for:"profilePictureInput"},ire={key:0},nre={key:1},sre={class:"flex flex-col gap-[2rem] items-center lg:items-start text-center lg:text-left"},are={class:"font-heading text-subtitle lg:text-title"},ore={class:"flex flex-col lg:flex-row gap-[1rem] items-center"},lre={class:"flex flex-col lg:flex-row gap-[1rem] items-center"},ure={key:0,class:"flex items-center gap-[1rem] h-[3.5rem]"},cre={key:1,class:"flex items-center gap-[1rem]"},dre={class:"flex flex-col lg:flex-row gap-[1rem] items-center"},hre={key:0,class:"flex items-center gap-[1rem] h-[3.5rem]"},pre={key:1,class:"flex items-center gap-[1rem]"},fre={class:"flex flex-col lg:flex-row gap-[1rem] items-center"},mre={key:0,class:"flex items-center gap-[1rem] h-[3.5rem]"},gre={key:1,class:"flex items-center gap-[1rem]"},yre={class:"flex flex-col gap-[2rem] py-[10rem] text-screenBlack font-body text-body"},vre={class:"flex flex-col lg:flex-row items-center lg:items-start text-center lg:text-left gap-[4rem]"},bre={class:"flex gap-[3rem] items-center h-[4rem] lg:h-[7rem] font-heading text-body lg:text-subtitle"},xre={key:0,class:"flex gap-[1rem] items-center h-full drop-shadow-sm"},_re={key:1,class:"flex gap-[1rem] items-center h-full"},wre={key:2,class:"flex gap-[1rem] items-center h-full"},Sre={class:"w-full bg-white-100 overflow-y-auto rounded relative text-text-sm lg:text-body"},Cre={class:"h-max max-h-[20rem] w-full text-text-xs lg:text-body"},kre={class:"w-full h-max flex flex-col py-[1rem]"},Tre={class:"text-center font-body"},Ere={class:"text-center font-body"},Are={class:"text-center font-body"},Mre=st({__name:"Profile",setup(t){const e=Si(),r=Xte(),{phoneNumber:i,institution:n,programOfStudy:s,profilePicture:a,editingField:o}=Ur(r),l=u=>{a.value=u.target.files[0],confirm("Are you sure you want to update your profile picture?")&&r.updateProfilePicture()};return(u,c)=>{const d=yn("RouterLink");return X(),Ot(Fn,null,{default:We(()=>[c[35]||(c[35]=m("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},[m("h1",{class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"}," Profile ")],-1)),m("div",Yte,[m("section",Zte,[m("div",Jte,[P(e).profilePicture?(X(),ne("div",Qte,[m("div",ere,[m("img",{src:P(e).profilePicture,alt:"profile picture",class:"w-full h-full object-cover"},null,8,tre)]),c[12]||(c[12]=m("div",{class:"w-full h-full top-0 left-0 bg-primary absolute z-[1] [clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)] [-webkit-clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)]"},null,-1))])):je("",!0),m("label",rre,[P(e).profilePicture?(X(),ne("p",ire,"change profile picture")):(X(),ne("p",nre,"set profile picture")),c[13]||(c[13]=m("div",{class:"h-full aspect-square"},[m("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_326_389)"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.8809 1.39611C27.443 0.625054 28.5237 0.455652 29.2948 1.01774L30.5831 1.95691C31.3541 2.51901 31.5235 3.59974 30.9614 4.3708L30.7528 4.65694C30.4718 5.04247 29.9314 5.12717 29.5459 4.84613L26.8615 2.8892C26.4759 2.60815 26.3912 2.06779 26.6723 1.68226L26.8809 1.39611ZM26.3667 3.56898C25.9811 3.28793 25.4408 3.37263 25.1597 3.75816L21.8781 8.25973L15.796 4.74823C14.9942 4.28529 14.0063 4.28529 13.2045 4.74823L3.23866 10.502C2.43682 10.9649 1.94287 11.8205 1.94287 12.7463V24.2539C1.94287 25.1797 2.43682 26.0353 3.23866 26.4982L8.5657 29.5738L9.06491 29.6986C9.16515 29.7237 9.26762 29.7277 9.36656 29.7123C9.72123 29.9466 14.4782 26.4085 14.4782 26.4085L10.9443 23.8323C10.9443 23.8323 9.76292 27.2979 9.41792 28.9111L3.73866 25.6322C3.24622 25.3479 2.94287 24.8225 2.94287 24.2539V12.7463C2.94287 12.1777 3.24622 11.6523 3.73866 11.368L13.7045 5.61425C14.1969 5.32994 14.8036 5.32994 15.296 5.61425L21.2857 9.07239L11.5519 22.4249C11.2709 22.8104 11.3556 23.3507 11.7411 23.6318L14.4256 25.5887C14.8111 25.8698 15.3515 25.7851 15.6325 25.3995L25.64 11.6716C25.9048 11.9609 26.0576 12.3428 26.0576 12.7463V24.2539C26.0576 24.8225 25.7543 25.3479 25.2618 25.6322L15.296 31.386C15.2748 31.3982 15.2534 31.4099 15.2318 31.4211L15.8372 32.2282L25.7618 26.4982C26.5637 26.0353 27.0576 25.1797 27.0576 24.2539V12.7463C27.0576 12.0204 26.754 11.3377 26.2363 10.8536L29.2403 6.73285C29.5213 6.34732 29.4366 5.80695 29.0511 5.52591L26.3667 3.56898Z",fill:"#4D4D4D"})]),m("defs",null,[m("clipPath",{id:"clip0_326_389"},[m("rect",{width:"32",height:"32",fill:"white"})])])])],-1))]),m("input",{type:"file",class:"hidden",id:"profilePictureInput",onChange:l,accept:".jpg,.jpeg,.png,.webp"},null,32)]),m("div",sre,[m("div",null,[m("p",are,ge(P(e).firstName)+" "+ge(P(e).lastName),1)]),m("div",ore,[c[14]||(c[14]=m("span",{class:"font-heading"},"email:",-1)),m("p",null,ge(P(e).email),1)]),m("div",lre,[c[18]||(c[18]=m("span",{class:"font-heading"},"tel:",-1)),P(o)==="phoneNumber"?(X(),ne("div",ure,[sl(m("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=h=>Bt(i)?i.value=h:null),class:"px-[2rem] py-[1rem] outline-none bg-white-100 rounded-lg"},null,512),[[vu,P(i)]]),m("button",{class:"h-full aspect-square",onClick:c[1]||(c[1]=()=>P(r).updateProfileField("phoneNumber",P(i)))},c[15]||(c[15]=[m("svg",{viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M54.25 8.87639L95.5513 32.7217C95.706 32.811 95.8013 32.9761 95.8013 33.1547V80.8453C95.8013 81.0239 95.706 81.189 95.5513 81.2783L54.25 105.124C54.0953 105.213 53.9047 105.213 53.75 105.124L12.4487 81.2783C12.294 81.189 12.1987 81.0239 12.1987 80.8453V33.1547C12.1987 32.9761 12.294 32.811 12.4487 32.7217L53.75 8.87639C53.9047 8.78707 54.0953 8.78707 54.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),m("path",{d:"M17.1122 55.5992C16.2373 54.833 16.2034 53.484 17.0388 52.6749V52.6749C17.7632 51.9732 18.8929 51.9246 19.6644 52.5742C22.9453 55.337 31.449 62.6057 36.8107 68.1665C41.9705 73.5181 48.6822 81.9154 51.2733 85.206C51.8965 85.9974 51.8123 87.1247 51.0888 87.8255V87.8255C50.2529 88.6351 48.9052 88.5575 48.1687 87.6567C45.4186 84.293 39.0563 76.6147 34.2272 71.5804C28.8828 66.0088 20.5949 58.6493 17.1122 55.5992Z",fill:"#4D4D4D"}),m("path",{d:"M94.5099 28.6203C95.3232 27.7632 95.1999 26.3859 94.2459 25.6888V25.6888C93.459 25.1138 92.3726 25.2057 91.7028 25.9137C87.7845 30.0553 74.9445 43.8124 67.5 54C60.0696 64.1683 51.1708 80.1467 48.483 85.0562C48.0157 85.9097 48.2608 86.9678 49.0465 87.5418V87.5418C50.0022 88.2402 51.3564 87.9343 51.926 86.8967C54.8875 81.5026 63.4346 66.2298 70.5 56.5C77.7984 46.4493 90.1893 33.1737 94.5099 28.6203Z",fill:"#4D4D4D"})],-1)])),m("button",{class:"h-full aspect-square",onClick:c[2]||(c[2]=()=>P(r).cancelEditing())},c[16]||(c[16]=[m("svg",{viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M57.25 8.87639L98.5513 32.7217C98.706 32.811 98.8013 32.9761 98.8013 33.1547V80.8453C98.8013 81.0239 98.706 81.189 98.5513 81.2783L57.25 105.124C57.0953 105.213 56.9047 105.213 56.75 105.124L15.4487 81.2783C15.294 81.189 15.1987 81.0239 15.1987 80.8453V33.1547C15.1987 32.9761 15.294 32.811 15.4487 32.7217L56.75 8.87639C56.9047 8.78707 57.0953 8.78707 57.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),m("rect",{x:"34.5293",y:"37.4055",width:"3.93713",height:"57.9069",rx:"1.96856",transform:"rotate(-44.0859 34.5293 37.4055)",fill:"#4D4D4D"}),m("rect",{width:"3.93713",height:"57.9069",rx:"1.96856",transform:"matrix(-0.718298 -0.695736 -0.695736 0.718298 77.8506 36.7815)",fill:"#4D4D4D"})],-1)]))])):(X(),ne("div",cre,[m("p",null,ge(P(e).phoneNumber),1),m("button",{class:"h-full aspect-square",onClick:c[3]||(c[3]=()=>P(r).startEditing("phoneNumber"))},c[17]||(c[17]=[m("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_326_389)"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.8809 1.39611C27.443 0.625054 28.5237 0.455652 29.2948 1.01774L30.5831 1.95691C31.3541 2.51901 31.5235 3.59974 30.9614 4.3708L30.7528 4.65694C30.4718 5.04247 29.9314 5.12717 29.5459 4.84613L26.8615 2.8892C26.4759 2.60815 26.3912 2.06779 26.6723 1.68226L26.8809 1.39611ZM26.3667 3.56898C25.9811 3.28793 25.4408 3.37263 25.1597 3.75816L21.8781 8.25973L15.796 4.74823C14.9942 4.28529 14.0063 4.28529 13.2045 4.74823L3.23866 10.502C2.43682 10.9649 1.94287 11.8205 1.94287 12.7463V24.2539C1.94287 25.1797 2.43682 26.0353 3.23866 26.4982L8.5657 29.5738L9.06491 29.6986C9.16515 29.7237 9.26762 29.7277 9.36656 29.7123C9.72123 29.9466 14.4782 26.4085 14.4782 26.4085L10.9443 23.8323C10.9443 23.8323 9.76292 27.2979 9.41792 28.9111L3.73866 25.6322C3.24622 25.3479 2.94287 24.8225 2.94287 24.2539V12.7463C2.94287 12.1777 3.24622 11.6523 3.73866 11.368L13.7045 5.61425C14.1969 5.32994 14.8036 5.32994 15.296 5.61425L21.2857 9.07239L11.5519 22.4249C11.2709 22.8104 11.3556 23.3507 11.7411 23.6318L14.4256 25.5887C14.8111 25.8698 15.3515 25.7851 15.6325 25.3995L25.64 11.6716C25.9048 11.9609 26.0576 12.3428 26.0576 12.7463V24.2539C26.0576 24.8225 25.7543 25.3479 25.2618 25.6322L15.296 31.386C15.2748 31.3982 15.2534 31.4099 15.2318 31.4211L15.8372 32.2282L25.7618 26.4982C26.5637 26.0353 27.0576 25.1797 27.0576 24.2539V12.7463C27.0576 12.0204 26.754 11.3377 26.2363 10.8536L29.2403 6.73285C29.5213 6.34732 29.4366 5.80695 29.0511 5.52591L26.3667 3.56898Z",fill:"#4D4D4D"})]),m("defs",null,[m("clipPath",{id:"clip0_326_389"},[m("rect",{width:"32",height:"32",fill:"white"})])])],-1)]))]))]),m("div",dre,[c[22]||(c[22]=m("span",{class:"font-heading"},"Institution:",-1)),P(o)==="institution"?(X(),ne("div",hre,[sl(m("input",{type:"text","onUpdate:modelValue":c[4]||(c[4]=h=>Bt(n)?n.value=h:null),class:"px-[2rem] py-[1rem] outline-none bg-white-100 rounded-lg"},null,512),[[vu,P(n)]]),m("button",{class:"h-full aspect-square",onClick:c[5]||(c[5]=()=>P(r).updateProfileField("institution",P(n)))},c[19]||(c[19]=[m("svg",{width:"113",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M54.25 8.87639L95.5513 32.7217C95.706 32.811 95.8013 32.9761 95.8013 33.1547V80.8453C95.8013 81.0239 95.706 81.189 95.5513 81.2783L54.25 105.124C54.0953 105.213 53.9047 105.213 53.75 105.124L12.4487 81.2783C12.294 81.189 12.1987 81.0239 12.1987 80.8453V33.1547C12.1987 32.9761 12.294 32.811 12.4487 32.7217L53.75 8.87639C53.9047 8.78707 54.0953 8.78707 54.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),m("path",{d:"M17.1122 55.5992C16.2373 54.833 16.2034 53.484 17.0388 52.6749V52.6749C17.7632 51.9732 18.8929 51.9246 19.6644 52.5742C22.9453 55.337 31.449 62.6057 36.8107 68.1665C41.9705 73.5181 48.6822 81.9154 51.2733 85.206C51.8965 85.9974 51.8123 87.1247 51.0888 87.8255V87.8255C50.2529 88.6351 48.9052 88.5575 48.1687 87.6567C45.4186 84.293 39.0563 76.6147 34.2272 71.5804C28.8828 66.0088 20.5949 58.6493 17.1122 55.5992Z",fill:"#4D4D4D"}),m("path",{d:"M94.5099 28.6203C95.3232 27.7632 95.1999 26.3859 94.2459 25.6888V25.6888C93.459 25.1138 92.3726 25.2057 91.7028 25.9137C87.7845 30.0553 74.9445 43.8124 67.5 54C60.0696 64.1683 51.1708 80.1467 48.483 85.0562C48.0157 85.9097 48.2608 86.9678 49.0465 87.5418V87.5418C50.0022 88.2402 51.3564 87.9343 51.926 86.8967C54.8875 81.5026 63.4346 66.2298 70.5 56.5C77.7984 46.4493 90.1893 33.1737 94.5099 28.6203Z",fill:"#4D4D4D"})],-1)])),m("button",{class:"h-full aspect-square",onClick:c[6]||(c[6]=()=>P(r).cancelEditing())},c[20]||(c[20]=[m("svg",{width:"113",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M57.25 8.87639L98.5513 32.7217C98.706 32.811 98.8013 32.9761 98.8013 33.1547V80.8453C98.8013 81.0239 98.706 81.189 98.5513 81.2783L57.25 105.124C57.0953 105.213 56.9047 105.213 56.75 105.124L15.4487 81.2783C15.294 81.189 15.1987 81.0239 15.1987 80.8453V33.1547C15.1987 32.9761 15.294 32.811 15.4487 32.7217L56.75 8.87639C56.9047 8.78707 57.0953 8.78707 57.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),m("rect",{x:"34.5293",y:"37.4055",width:"3.93713",height:"57.9069",rx:"1.96856",transform:"rotate(-44.0859 34.5293 37.4055)",fill:"#4D4D4D"}),m("rect",{width:"3.93713",height:"57.9069",rx:"1.96856",transform:"matrix(-0.718298 -0.695736 -0.695736 0.718298 77.8506 36.7815)",fill:"#4D4D4D"})],-1)]))])):(X(),ne("div",pre,[m("p",null,ge(P(e).institution),1),m("button",{class:"h-full aspect-square",onClick:c[7]||(c[7]=()=>P(r).startEditing("institution"))},c[21]||(c[21]=[m("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_326_389)"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.8809 1.39611C27.443 0.625054 28.5237 0.455652 29.2948 1.01774L30.5831 1.95691C31.3541 2.51901 31.5235 3.59974 30.9614 4.3708L30.7528 4.65694C30.4718 5.04247 29.9314 5.12717 29.5459 4.84613L26.8615 2.8892C26.4759 2.60815 26.3912 2.06779 26.6723 1.68226L26.8809 1.39611ZM26.3667 3.56898C25.9811 3.28793 25.4408 3.37263 25.1597 3.75816L21.8781 8.25973L15.796 4.74823C14.9942 4.28529 14.0063 4.28529 13.2045 4.74823L3.23866 10.502C2.43682 10.9649 1.94287 11.8205 1.94287 12.7463V24.2539C1.94287 25.1797 2.43682 26.0353 3.23866 26.4982L8.5657 29.5738L9.06491 29.6986C9.16515 29.7237 9.26762 29.7277 9.36656 29.7123C9.72123 29.9466 14.4782 26.4085 14.4782 26.4085L10.9443 23.8323C10.9443 23.8323 9.76292 27.2979 9.41792 28.9111L3.73866 25.6322C3.24622 25.3479 2.94287 24.8225 2.94287 24.2539V12.7463C2.94287 12.1777 3.24622 11.6523 3.73866 11.368L13.7045 5.61425C14.1969 5.32994 14.8036 5.32994 15.296 5.61425L21.2857 9.07239L11.5519 22.4249C11.2709 22.8104 11.3556 23.3507 11.7411 23.6318L14.4256 25.5887C14.8111 25.8698 15.3515 25.7851 15.6325 25.3995L25.64 11.6716C25.9048 11.9609 26.0576 12.3428 26.0576 12.7463V24.2539C26.0576 24.8225 25.7543 25.3479 25.2618 25.6322L15.296 31.386C15.2748 31.3982 15.2534 31.4099 15.2318 31.4211L15.8372 32.2282L25.7618 26.4982C26.5637 26.0353 27.0576 25.1797 27.0576 24.2539V12.7463C27.0576 12.0204 26.754 11.3377 26.2363 10.8536L29.2403 6.73285C29.5213 6.34732 29.4366 5.80695 29.0511 5.52591L26.3667 3.56898Z",fill:"#4D4D4D"})]),m("defs",null,[m("clipPath",{id:"clip0_326_389"},[m("rect",{width:"32",height:"32",fill:"white"})])])],-1)]))]))]),m("div",fre,[c[26]||(c[26]=m("span",{class:"font-heading"},"Program of studies:",-1)),P(o)==="programOfStudy"?(X(),ne("div",mre,[sl(m("input",{type:"text","onUpdate:modelValue":c[8]||(c[8]=h=>Bt(s)?s.value=h:null),class:"px-[2rem] py-[1rem] bg-white-100 rounded-lg"},null,512),[[vu,P(s)]]),m("button",{class:"h-full aspect-square",onClick:c[9]||(c[9]=()=>P(r).updateProfileField("programOfStudy",P(s)))},c[23]||(c[23]=[m("svg",{width:"113",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M54.25 8.87639L95.5513 32.7217C95.706 32.811 95.8013 32.9761 95.8013 33.1547V80.8453C95.8013 81.0239 95.706 81.189 95.5513 81.2783L54.25 105.124C54.0953 105.213 53.9047 105.213 53.75 105.124L12.4487 81.2783C12.294 81.189 12.1987 81.0239 12.1987 80.8453V33.1547C12.1987 32.9761 12.294 32.811 12.4487 32.7217L53.75 8.87639C53.9047 8.78707 54.0953 8.78707 54.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),m("path",{d:"M17.1122 55.5992C16.2373 54.833 16.2034 53.484 17.0388 52.6749V52.6749C17.7632 51.9732 18.8929 51.9246 19.6644 52.5742C22.9453 55.337 31.449 62.6057 36.8107 68.1665C41.9705 73.5181 48.6822 81.9154 51.2733 85.206C51.8965 85.9974 51.8123 87.1247 51.0888 87.8255V87.8255C50.2529 88.6351 48.9052 88.5575 48.1687 87.6567C45.4186 84.293 39.0563 76.6147 34.2272 71.5804C28.8828 66.0088 20.5949 58.6493 17.1122 55.5992Z",fill:"#4D4D4D"}),m("path",{d:"M94.5099 28.6203C95.3232 27.7632 95.1999 26.3859 94.2459 25.6888V25.6888C93.459 25.1138 92.3726 25.2057 91.7028 25.9137C87.7845 30.0553 74.9445 43.8124 67.5 54C60.0696 64.1683 51.1708 80.1467 48.483 85.0562C48.0157 85.9097 48.2608 86.9678 49.0465 87.5418V87.5418C50.0022 88.2402 51.3564 87.9343 51.926 86.8967C54.8875 81.5026 63.4346 66.2298 70.5 56.5C77.7984 46.4493 90.1893 33.1737 94.5099 28.6203Z",fill:"#4D4D4D"})],-1)])),m("button",{class:"h-full aspect-square",onClick:c[10]||(c[10]=()=>P(r).cancelEditing())},c[24]||(c[24]=[m("svg",{width:"113",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M57.25 8.87639L98.5513 32.7217C98.706 32.811 98.8013 32.9761 98.8013 33.1547V80.8453C98.8013 81.0239 98.706 81.189 98.5513 81.2783L57.25 105.124C57.0953 105.213 56.9047 105.213 56.75 105.124L15.4487 81.2783C15.294 81.189 15.1987 81.0239 15.1987 80.8453V33.1547C15.1987 32.9761 15.294 32.811 15.4487 32.7217L56.75 8.87639C56.9047 8.78707 57.0953 8.78707 57.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),m("rect",{x:"34.5293",y:"37.4055",width:"3.93713",height:"57.9069",rx:"1.96856",transform:"rotate(-44.0859 34.5293 37.4055)",fill:"#4D4D4D"}),m("rect",{width:"3.93713",height:"57.9069",rx:"1.96856",transform:"matrix(-0.718298 -0.695736 -0.695736 0.718298 77.8506 36.7815)",fill:"#4D4D4D"})],-1)]))])):(X(),ne("div",gre,[m("p",null,ge(P(e).programOfStudy),1),m("button",{class:"h-full aspect-square",onClick:c[11]||(c[11]=()=>P(r).startEditing("programOfStudy"))},c[25]||(c[25]=[m("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_326_389)"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.8809 1.39611C27.443 0.625054 28.5237 0.455652 29.2948 1.01774L30.5831 1.95691C31.3541 2.51901 31.5235 3.59974 30.9614 4.3708L30.7528 4.65694C30.4718 5.04247 29.9314 5.12717 29.5459 4.84613L26.8615 2.8892C26.4759 2.60815 26.3912 2.06779 26.6723 1.68226L26.8809 1.39611ZM26.3667 3.56898C25.9811 3.28793 25.4408 3.37263 25.1597 3.75816L21.8781 8.25973L15.796 4.74823C14.9942 4.28529 14.0063 4.28529 13.2045 4.74823L3.23866 10.502C2.43682 10.9649 1.94287 11.8205 1.94287 12.7463V24.2539C1.94287 25.1797 2.43682 26.0353 3.23866 26.4982L8.5657 29.5738L9.06491 29.6986C9.16515 29.7237 9.26762 29.7277 9.36656 29.7123C9.72123 29.9466 14.4782 26.4085 14.4782 26.4085L10.9443 23.8323C10.9443 23.8323 9.76292 27.2979 9.41792 28.9111L3.73866 25.6322C3.24622 25.3479 2.94287 24.8225 2.94287 24.2539V12.7463C2.94287 12.1777 3.24622 11.6523 3.73866 11.368L13.7045 5.61425C14.1969 5.32994 14.8036 5.32994 15.296 5.61425L21.2857 9.07239L11.5519 22.4249C11.2709 22.8104 11.3556 23.3507 11.7411 23.6318L14.4256 25.5887C14.8111 25.8698 15.3515 25.7851 15.6325 25.3995L25.64 11.6716C25.9048 11.9609 26.0576 12.3428 26.0576 12.7463V24.2539C26.0576 24.8225 25.7543 25.3479 25.2618 25.6322L15.296 31.386C15.2748 31.3982 15.2534 31.4099 15.2318 31.4211L15.8372 32.2282L25.7618 26.4982C26.5637 26.0353 27.0576 25.1797 27.0576 24.2539V12.7463C27.0576 12.0204 26.754 11.3377 26.2363 10.8536L29.2403 6.73285C29.5213 6.34732 29.4366 5.80695 29.0511 5.52591L26.3667 3.56898Z",fill:"#4D4D4D"})]),m("defs",null,[m("clipPath",{id:"clip0_326_389"},[m("rect",{width:"32",height:"32",fill:"white"})])])],-1)]))]))])])]),m("section",yre,[m("div",vre,[c[33]||(c[33]=m("h2",{class:"font-heading text-subtitle lg:text-title"}," Competitions history ",-1)),m("div",bre,[P(e).wins.golds?(X(),ne("div",xre,[c[27]||(c[27]=m("div",{class:"aspect-square h-full flex items-center"},[m("svg",{width:"247",height:"155",viewBox:"0 0 247 155",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_340_462)"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M131.058 31.6221L137.984 27.6229V9.20763L122.036 0L106.088 9.20763V27.6229L113.145 31.6968L83.6712 78.2648L46.0733 73.661L14.1108 55.8357L20.0195 50.338L18.492 36.6113L8.48221 30.7768L0 38.6691L1.52752 52.3958L7.2701 55.743L22.287 115.095C22.287 115.095 82.7879 130.516 122.036 130.441C160.69 130.368 220.251 115.095 220.251 115.095L239.986 58.6125L245.292 55.7967L247.366 42.1418L239.205 33.9178L228.97 39.3487L226.897 53.0036L231.149 57.2887L199.534 73.661L161.169 78.2648L131.058 31.6221ZM24.5889 125.838C24.5889 125.838 82.7528 140.881 122.036 140.416C160.216 139.965 217.182 125.838 217.182 125.838C217.182 125.838 214.113 135.045 211.811 138.114C209.509 141.184 159.034 154.773 122.036 154.995C83.5579 155.226 33.0292 141.951 30.7273 139.649C29.1927 138.114 24.5889 125.838 24.5889 125.838Z",fill:"#FBC151"})]),m("defs",null,[m("clipPath",{id:"clip0_340_462"},[m("rect",{width:"247",height:"155",fill:"white"})])])])],-1)),c[28]||(c[28]=m("span",null,":",-1)),m("span",null,ge(P(e).wins.golds),1)])):je("",!0),P(e).wins.silvers?(X(),ne("div",_re,[c[29]||(c[29]=m("div",{class:"aspect-square h-full flex items-center p-3 drop-shadow-sm"},[m("svg",{width:"292",height:"292",viewBox:"0 0 292 292",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M90.4479 280.739C91.5597 282.138 93.3338 282.837 95.1014 282.573L234.389 261.766C236.156 261.502 237.648 260.315 238.303 258.653L289.943 127.523C290.597 125.862 290.316 123.978 289.206 122.58L201.552 12.2614C200.44 10.8622 198.666 10.1627 196.899 10.4267L57.6109 31.2345C55.8439 31.4984 54.352 32.6851 53.6973 34.3475L2.057 165.477C1.40286 167.138 1.68395 169.022 2.7945 170.42L90.4479 280.739Z",fill:"#4D4D4D"}),m("path",{d:"M97.8056 269L227.806 249.561L276 127.061L194.194 24L64.1944 43.4394L16 165.939L97.8056 269Z",fill:"#C8C8C8"})])],-1)),c[30]||(c[30]=m("span",null,":",-1)),m("span",null,ge(P(e).wins.silvers),1)])):je("",!0),P(e).wins.bronzes?(X(),ne("div",wre,[c[31]||(c[31]=m("div",{class:"aspect-square h-full flex items-center p-3 drop-shadow-sm"},[m("svg",{width:"292",height:"292",viewBox:"0 0 292 292",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M90.4479 280.739C91.5597 282.138 93.3338 282.837 95.1014 282.573L234.389 261.766C236.156 261.502 237.648 260.315 238.303 258.653L289.943 127.523C290.597 125.862 290.316 123.978 289.206 122.58L201.552 12.2614C200.44 10.8622 198.666 10.1627 196.899 10.4267L57.6109 31.2345C55.8439 31.4984 54.352 32.6851 53.6973 34.3475L2.057 165.477C1.40286 167.138 1.68395 169.022 2.7945 170.42L90.4479 280.739Z",fill:"#CD7F32"}),m("path",{d:"M97.8056 269L227.806 249.561L276 127.061L194.194 24L64.1944 43.4394L16 165.939L97.8056 269Z",fill:"#F5C37E"})])],-1)),c[32]||(c[32]=m("span",null,":",-1)),m("span",null,ge(P(e).wins.bronzes),1)])):je("",!0)])]),m("div",Sre,[c[34]||(c[34]=m("div",{class:"grid grid-cols-[2fr_6fr_4fr] py-[1rem] shadow-md sticky top-0 bg-pearl-white-50"},[m("h3",{class:"text-center font-heading"}," Date "),m("h3",{class:"text-center font-heading"}," Competition "),m("h3",{class:"text-center font-heading"}," Result ")],-1)),m("div",Cre,[m("div",kre,[(X(!0),ne(yt,null,Nr(P(e).competitions,(h,f)=>(X(),Ot(d,{key:f,to:h.link,class:"grid grid-cols-[2fr_6fr_4fr] py-[1rem] lg:hover:bg-white-400"},{default:We(()=>[m("p",Tre,ge(h.date.split(" ").slice(0,3).join(" ")),1),m("p",Ere,ge(h.name),1),m("p",Are,ge(h.result),1)]),_:2},1032,["to"]))),128))])])])])]),c[36]||(c[36]=m("div",{class:"w-full flex items-end p-0 h-[6rem] bg-pearl-white"},[m("div",{class:"w-full h-[6rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1))]),_:1})}}}),Dre=uo(Mre,[["__scopeId","data-v-1623d25d"]]),Lre=ki("signUpPageStore",{state:()=>({email:"",firstName:"",lastName:"",institution:"",password:"",isTermsAccepted:!1,loading:!1,errors:{}}),actions:{validateForm(){return this.errors={},this.isTermsAccepted||(this.errors.isTermsAccepted="This field is required"),this.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)||(this.errors.email="Invalid email address."):this.errors.email="Email is required.",this.firstName.trim()||(this.errors.firstName="First Name is required."),this.lastName.trim()||(this.errors.lastName="Last Name is required."),this.password.trim()?this.password.length<8&&(this.errors.password="Password must be at least 8 characters long."):this.errors.password="Password is required.",Object.keys(this.errors).length===0},async initializeSignUp(){try{const t=await en.post("/register/",{first_name:this.firstName,last_name:this.lastName,school:this.institution,email:this.email,password:this.password,...this.institution?{institution:this.institution}:{}});jt().addToast({type:"info",title:"Check your e-mail",message:"We sent a message to the e-mail you provided, use the link there to validate your e-mail address",duration:1e4})}catch(t){throw jt().addToast({type:"error",title:"Error has occured",message:"try again later",duration:1e4}),t}}}}),Bre={class:"inline-flex items-center cursor-pointer"},Pre={class:"w-9 h-9 text-screenBlack absolute top-[-4px] left-[-3px] origin-center scale-[1.3]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},Ire=st({__name:"CheckBox",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,i=e,n=Xe(r.modelValue);pi(()=>r.modelValue,a=>{n.value=a});const s=()=>{i("update:modelValue",n.value)};return(a,o)=>(X(),ne("label",Bre,[sl(m("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=l=>n.value=l),onChange:s,class:"hidden"},null,544),[[DN,n.value]]),m("span",{class:Wt(["relative w-8 h-8 border-2 rounded-full transition-all duration-300 flex items-center justify-center overflow-visible",[n.value?"bg-primary border-primary":"bg-white border-gray-300"]])},[(X(),ne("svg",Pre,[m("path",{d:"M5 13l4 4L19 7",class:Wt(n.value?"draw-checkmark":"undraw-checkmark")},null,2)]))],2)]))}}),Rre=uo(Ire,[["__scopeId","data-v-f14c039b"]]),Ore={class:"w-full flex flex-col bg-pearl-white gap-[4rem] py-[5rem] text-body font-body text-screenBlack"},Fre={class:"w-full flex justify-center"},Nre={class:"flex flex-col w-full"},$re={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},zre={class:"flex flex-col w-full"},Ure={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},qre={class:"flex flex-col w-full"},jre={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},Vre={class:"flex flex-col w-full"},Hre={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},Kre={class:"flex flex-col w-full"},Wre={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},Gre={class:"flex flex-col w-full gap-[1rem] py-[2rem]"},Xre={class:"flex items-center justify-center gap-[2rem]"},Yre={key:0,class:"text-text-sm font-body text-center text-red pl-[0rem]"},Zre={class:"w-full flex justify-center mt-[4rem]"},Jre=["disabled"],Qre={class:"relative z-[2]"},eie={class:"flex text-center items-center flex-col text-body font-body gap-2"},tie=st({__name:"SignUp",setup(t){Xe("");const e=Lre(),{email:r,password:i,firstName:n,lastName:s,institution:a,isTermsAccepted:o,errors:l}=Ur(e),u=Fu(),c=async d=>{if(d.preventDefault(),e.validateForm())try{await e.initializeSignUp(),u.push("/sign_in"),e.$reset()}catch{}};return(d,h)=>{const f=yn("RouterLink");return X(),Ot(Fn,null,{default:We(()=>[h[11]||(h[11]=m("div",{class:"w-full h-[8rem] lg:h-[10rem] bg-screenBlack"},null,-1)),m("div",Ore,[h[10]||(h[10]=m("div",{class:"flex items-center justify-between"},[m("div",{class:"w-[10vw] lg:w-[30vw] h-[4rem] rounded-r-[2px] bg-primary"}),m("h1",{class:"font-heading text-subtitle lg:text-title text-center"}," Create new profile "),m("div",{class:"w-[10vw] lg:w-[30vw] h-[4rem] rounded-l-[2px] bg-primary"})],-1)),m("div",Fre,[m("form",{onSubmit:c,class:"w-full lg:w-[30%] px-[2rem] flex flex-col gap-[2rem]"},[m("div",Nre,[ye(_s,{modelValue:P(r),"onUpdate:modelValue":h[0]||(h[0]=g=>Bt(r)?r.value=g:null),class:"w-full",type:"text",label:"E-mail",name:"email",invalid:!!P(l).email},null,8,["modelValue","invalid"]),P(l).email?(X(),ne("div",$re,ge(P(l).email),1)):je("",!0)]),m("div",zre,[ye(_s,{modelValue:P(n),"onUpdate:modelValue":h[1]||(h[1]=g=>Bt(n)?n.value=g:null),class:"w-full",type:"text",label:"First Name",name:"first name",invalid:!!P(l).firstName},null,8,["modelValue","invalid"]),P(l).firstName?(X(),ne("div",Ure,ge(P(l).firstName),1)):je("",!0)]),m("div",qre,[ye(_s,{modelValue:P(s),"onUpdate:modelValue":h[2]||(h[2]=g=>Bt(s)?s.value=g:null),class:"w-full",type:"text",label:"Last Name",name:"last name",invalid:!!P(l).lastName},null,8,["modelValue","invalid"]),P(l).lastName?(X(),ne("div",jre,ge(P(l).lastName),1)):je("",!0)]),m("div",Vre,[ye(_s,{modelValue:P(a),"onUpdate:modelValue":h[3]||(h[3]=g=>Bt(a)?a.value=g:null),class:"w-full",type:"text",label:"Institution",name:"institution",invalid:!!P(l).institution},null,8,["modelValue","invalid"]),P(l).institution?(X(),ne("div",Hre,ge(P(l).institution),1)):je("",!0)]),m("div",Kre,[ye(_s,{modelValue:P(i),"onUpdate:modelValue":h[4]||(h[4]=g=>Bt(i)?i.value=g:null),class:"w-full",type:"password",label:"Password",name:"password",invalid:!!P(l).password},null,8,["modelValue","invalid"]),P(l).password?(X(),ne("div",Wre,ge(P(l).password),1)):je("",!0)]),m("div",Gre,[m("div",Xre,[ye(Rre,{modelValue:P(o),"onUpdate:modelValue":h[5]||(h[5]=g=>Bt(o)?o.value=g:null)},null,8,["modelValue"]),m("p",{class:Wt(`${P(l).isTermsAccepted?"text-red":"text-screenBlack"}`)},[h[7]||(h[7]=tt("I accept ")),ye(f,{to:"/terms_of_use",class:"underline lg:hover:text-primary lg:transition-colors"},{default:We(()=>h[6]||(h[6]=[tt("Terms of use")])),_:1})],2)]),P(l).isTermsAccepted?(X(),ne("div",Yre,ge(P(l).isTermsAccepted),1)):je("",!0)]),m("div",Zre,[m("button",{class:"overflow-hidden w-[90%] rounded-3xl font-heading text-subtitle pt-[0.8rem] pb-[0.6rem] relative bg-primary border-primary border-2 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:bg-pearl-white after:transition-transform after:duration-200 after:will-change-transform after:origin-top after:scale-y-0 hover:after:scale-y-100",title:"sign up",type:"submit",disabled:P(e).loading},[m("span",Qre,ge(P(e).loading?"loading...":"Sign Up"),1)],8,Jre)]),m("div",eie,[h[9]||(h[9]=m("p",null,"already have an account?",-1)),ye(f,{to:"sign_in",class:"lg:hover:underline text-primary"},{default:We(()=>h[8]||(h[8]=[tt("click here to sign in")])),_:1})])],32)])]),h[12]||(h[12]=m("div",{class:"w-full flex items-end p-0 h-[6rem] bg-pearl-white"},[m("div",{class:"w-full h-[6rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1))]),_:1})}}}),bL=ki("useSignInPageStore",{state:()=>({email:"",password:"",loading:!1,errors:{},resetPasswordEmail:"",resetPasswordEmailError:""}),actions:{validateForm(){return this.errors={},this.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)||(this.errors.email="Invalid email address."):this.errors.email="Email is required.",this.password.trim()||(this.errors.password="Password is required."),Object.keys(this.errors).length===0},async initializeAuth(t="/"){const e=Si();try{await e.requestLogin(this.email,this.password),await e.getProfileData(),U6.push(t),bL().$reset()}catch{}},async initializePasswordReset(){try{if(this.resetPasswordEmailError="",!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.resetPasswordEmail)){this.resetPasswordEmailError="invalid email";return}await en.post("/request-password-reset/",{email:this.resetPasswordEmail}),jt().addToast({type:"info",title:"Check your email",message:"we've sent recovery link to your e-mail, follow it to continue.",duration:1e4})}catch(t){t.status==404?jt().addToast({type:"error",title:"User doesn't exist",message:"User with fiven email doesn't exist. Check spelling or create a new account."}):jt().addToast({type:"error",title:"Something went wrong",message:"error has occured, try again later"})}}}}),rie={class:"w-full flex flex-col bg-pearl-white gap-[4rem] py-[5rem] text-body font-body text-screenBlack"},iie={class:"w-full flex justify-center"},nie={class:"flex flex-col w-full"},sie={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},aie={class:"flex flex-col w-full"},oie={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},lie={class:"w-full flex justify-center gap-[2rem] mt-[5rem]"},uie=["disabled"],cie={class:"relative z-[2]"},die={class:"flex flex-col w-full justify-center items-center gap-8"},hie={class:"flex flex-col items-start gap-4 w-ful"},pie={key:0,class:"text-red"},fie={class:"flex justify-end w-full"},mie=["disabled"],gie=st({__name:"SignIn",setup(t){const e=bL(),{email:r,password:i,errors:n,resetPasswordEmail:s}=Ur(e),o=zg().query;qr(()=>{o&&o.emailVerified&&o.emailVerified=="true"&&jt().addToast({type:"success",title:"Email verified",message:"Your email was successfully verified. You can sign into your account now.",duration:1e4})});const l=h=>{var f,g;if(h.preventDefault(),e.validateForm()){let y="/myprofile";"next"in o&&((f=o.next)==null?void 0:f.toString())!==void 0&&(y=(g=o.next)==null?void 0:g.toString()),e.initializeAuth(y)}},u=Xe(!1),c=()=>{u.value=!0,document.getElementsByTagName("body")[0].style.overflowY="hidden"};function d(){u.value=!1,document.getElementsByTagName("body")[0].style.overflowY="unset"}return(h,f)=>{const g=yn("RouterLink");return X(),Ot(Fn,null,{default:We(()=>[f[10]||(f[10]=m("div",{class:"w-full h-[8rem] lg:h-[10rem] bg-screenBlack"},null,-1)),m("div",rie,[f[6]||(f[6]=m("div",{class:"flex items-center justify-between"},[m("div",{class:"w-[10vw] lg:w-[30vw] h-[4rem] rounded-r-[2px] bg-primary"}),m("h1",{class:"font-heading text-subtitle lg:text-title text-center"}," Sign in "),m("div",{class:"w-[10vw] lg:w-[30vw] h-[4rem] rounded-l-[2px] bg-primary"})],-1)),m("div",iie,[m("form",{onSubmit:l,class:"w-full lg:w-[30%] px-[2rem] flex flex-col gap-[2rem]"},[m("div",nie,[ye(_s,{modelValue:P(r),"onUpdate:modelValue":f[0]||(f[0]=y=>Bt(r)?r.value=y:null),class:"w-full",type:"text",label:"E-mail",name:"email",invalid:!!P(n).email},null,8,["modelValue","invalid"]),P(n).email?(X(),ne("div",sie,ge(P(n).email),1)):je("",!0)]),m("div",aie,[ye(_s,{modelValue:P(i),"onUpdate:modelValue":f[1]||(f[1]=y=>Bt(i)?i.value=y:null),class:"w-full",type:"password",label:"Password",name:"password",invalid:!!P(n).password},null,8,["modelValue","invalid"]),P(n).password?(X(),ne("div",oie,ge(P(n).password),1)):je("",!0)]),m("div",lie,[ye(g,{to:"/sign_up",class:"overflow-hidden w-[90%] rounded-3xl font-heading text-subtitle pt-[0.8rem] pb-[0.6rem] text-primary lg:hidden flex justify-center",title:"sign in"},{default:We(()=>f[5]||(f[5]=[m("span",{class:"relative z-[2]"}," Sign up ",-1)])),_:1}),m("button",{class:"overflow-hidden w-[90%] rounded-3xl font-heading text-subtitle pt-[0.8rem] pb-[0.6rem] relative bg-primary border-primary border-2 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:bg-pearl-white after:transition-transform after:duration-200 after:will-change-transform after:origin-top after:scale-y-0 lg:hover:after:scale-y-100",title:"sign in",type:"submit",disabled:P(e).loading},[m("span",cie,ge(P(e).loading?"loading...":"sign in"),1)],8,uie)]),m("div",{class:"flex text-center items-center flex-col text-body font-body gap-2 mt-[1rem]"},[m("button",{onClick:c,type:"button",class:"lg:hover:underline text-screen-black"}," Forgot password? ")])],32)])]),f[11]||(f[11]=m("div",{class:"w-full flex items-end p-0 h-[6rem] bg-pearl-white"},[m("div",{class:"w-full h-[6rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1)),u.value?(X(),ne("div",{key:0,onClick:d,class:"fixed w-full h-full top-0 left-0 z-[500] bg-screenBlack bg-opacity-40"},[f[9]||(f[9]=m("button",{class:"absolute right-[4rem] top-[4rem] aspect-square w-[2rem] lg:w-[4rem] rounded-full transition-all"},[m("svg",{width:"134",height:"134",viewBox:"0 0 134 134",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_286_9)"},[m("rect",{x:"-2.67847",y:"6.51398",width:"13",height:"184.075",rx:"6.5",transform:"rotate(-45 -2.67847 6.51398)",fill:"#F2F1F0"}),m("rect",{x:"127.482",y:"-2.67841",width:"13",height:"184.075",rx:"6.5",transform:"rotate(45 127.482 -2.67841)",fill:"#F2F1F0"})]),m("defs",null,[m("clipPath",{id:"clip0_286_9"},[m("rect",{width:"134",height:"134",fill:"white"})])])])],-1)),m("div",{onClick:f[4]||(f[4]=y=>y.stopImmediatePropagation()),class:"absolute w-[90vw] md:w-[40rem] h-[30rem] rounded-3xl shadow-lg left-[50%] -translate-x-[50%] top-[calc(50%-15rem)] bg-pearl-white flex flex-col justify-center items-center text-screenBlack text-body font-body px-[2rem]"},[m("div",die,[f[8]||(f[8]=m("h3",{class:"font-heading text-subtitle"},"Password recovery",-1)),m("div",hie,[f[7]||(f[7]=m("p",null,"provide your email.",-1)),sl(m("input",{"onUpdate:modelValue":f[2]||(f[2]=y=>Bt(s)?s.value=y:null),type:"text",placeholder:"email",class:"px-6 py-4 outline-none rounded-2xl w-full"},null,512),[[vu,P(s)]]),P(e).resetPasswordEmailError?(X(),ne("p",pie,ge(P(e).resetPasswordEmailError),1)):je("",!0)]),m("div",fie,[m("button",{onClick:f[3]||(f[3]=(...y)=>P(e).initializePasswordReset&&P(e).initializePasswordReset(...y)),class:Wt(`px-6 py-4 rounded-2xl font-semibold transition-colors ${P(s)?"bg-primary lg:hover:bg-transparent":"bg-gray-200"}`),disabled:!P(s)}," recover ",10,mie)])])])])):je("",!0)]),_:1})}}}),yie=ki("imprintPageStore",{state:()=>({text:null,loading:!1}),actions:{async fetchImprint(){this.loading=!0;try{const t=await en.get("/cms/pages",{params:{type:"home.ImprintPage",fields:"imprint"}});this.text=Qn(t.data.items[0].imprint)}catch{}finally{this.loading=!1}}}}),vie=["innerHTML"],bie=st({__name:"Imprint",setup(t){const e=yie();return ao(()=>{e.fetchImprint()}),(r,i)=>(X(),Ot(Fn,null,{default:We(()=>[i[0]||(i[0]=m("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},[m("h1",{class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"}," Imprint ")],-1)),m("div",{class:"w-full py-[10rem] px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-pearl-white font-body text-body",innerHTML:P(e).text},null,8,vie)]),_:1}))}}),xie=ki("termsOfUsePageStore",{state:()=>({text:null,loading:!1}),actions:{async fetchTermsOfUse(){this.loading=!0;try{const t=await en.get("/cms/pages",{params:{type:"home.TermsOfUsePage",fields:"terms_of_use"}});this.text=Qn(t.data.items[0].terms_of_use)}catch{}finally{this.loading=!1}}}}),_ie=["innerHTML"],wie=st({__name:"TermsOfUse",setup(t){const e=xie();return ao(()=>{e.fetchTermsOfUse()}),(r,i)=>(X(),Ot(Fn,null,{default:We(()=>[i[0]||(i[0]=m("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},[m("h1",{class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"}," Terms of use ")],-1)),m("div",{class:"w-full py-[10rem] px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-pearl-white font-body text-body",innerHTML:P(e).text},null,8,_ie)]),_:1}))}}),Sie={class:"bg-pearl-white py-[10rem] flex flex-col items-center justify-center font-body text-body text-screenBlack px-[2rem] lg:px-[12rem] xl:px-[10vw]"},Cie={class:"w-full lg:w-[30vw] flex flex-col items-center gap-[2rem]"},kie=["disabled","title"],Tie=st({__name:"PasswordReset",setup(t){const e=zg(),r=Fu(),i=Xe(""),n=Si(),s=async()=>{try{if(!e.query.token){jt().addToast({type:"error",title:"Action not allowed",message:"You cannot perform this action, go to sign in page and request resetting a password"});return}await n.resetPassword(i.value,e.query.token),r.push("/sign_in")}catch{}};return(a,o)=>(X(),Ot(Fn,null,{default:We(()=>[o[3]||(o[3]=m("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},null,-1)),m("div",Sie,[m("div",Cie,[o[1]||(o[1]=m("h1",{class:"font-heading text-subtitle lg:text-title"},"Reset password",-1)),o[2]||(o[2]=m("p",null,"provide new password",-1)),ye(_s,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=l=>i.value=l),type:"password",label:"new password",class:"w-full"},null,8,["modelValue"]),m("button",{onClick:s,class:Wt(`w-full text-subtitle font-heading rounded-2xl pt-4 pb-2 ${i.value?"bg-primary":"bg-gray-200"}`),disabled:P(n).passwordResetRequest.status=="loading"||!i.value,title:i.value?"confirm":"new password not provided",type:"button"},ge(P(n).passwordResetRequest.status!="loading"?"confirm":"loading..."),11,kie)])])]),_:1}))}}),Eie={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex flex-col justify-center py-[2rem]"},Aie={class:"w-full flex flex-row justify-center flex-wrap gap-y-[2rem] lg:gap-x-[2rem] px-[2rem] py-[5rem] overflow-x-hidden"},Mie={class:"h-max md:h-[52rem] w-full md:w-[45rem] bg-pearl-white rounded-[30px] items-center flex flex-col p-[2rem] md:p-[4rem] gap-[1rem] md:gap-[2rem]"},Die=["src","alt"],Lie={class:"text-screenBlack text-subtitle md:text-title font-heading text-center w-full"},Bie={class:"font-body font-medium text-screenBlack-400 text-center text-body mt-[1rem]"},Pie=st({__name:"Games",setup(t){const e=[{name:"Integration gym",description:"Solve daily integral, hit streaks and bee the best!",pictureSrc:"https://i.ibb.co/D5QpqPX/cover-integration-gym.png",url:"integration_gym"}];return(r,i)=>{const n=yn("RouterLink");return X(),Ot(Fn,null,{default:We(()=>[i[2]||(i[2]=m("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center gap-[2rem] pt-[10rem] pb-[2rem] lg:pt-[16rem]"},[m("svg",{width:"81",height:"64",viewBox:"0 0 81 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M38.6415 6.77979L31.0516 2.74416C30.5601 2.48283 30.0555 2.27114 29.5434 2.10732C20.5338 -1.35005 10.1525 2.37665 5.50641 11.1147C0.480628 20.5668 -3.41312 29.3064 6.039 34.3321C12.4693 37.7512 23.4195 38.5706 31.3463 35.7692L42.9004 41.9126C45.0105 50.0507 51.8132 58.6706 58.2434 62.0896C67.6955 67.1154 72.7636 59.0002 77.7893 49.5481C82.8151 40.096 79.2269 28.3593 69.7748 23.3335C69.5272 23.2019 69.2781 23.0762 69.0277 22.9564C68.8664 22.8573 68.701 22.7627 68.5316 22.6726L63.0451 19.7554L57.8596 29.5078C57.1685 30.8077 55.5544 31.3012 54.2544 30.61L34.5583 20.1374C33.2584 19.4462 32.7649 17.8321 33.4561 16.5322L38.6415 6.77979ZM34.339 17.0017L39.2898 7.6907L61.9274 19.7274L56.9767 29.0383C56.5448 29.8506 55.5362 30.159 54.7239 29.7271L35.0278 19.2545C34.2155 18.8226 33.9071 17.814 34.339 17.0017ZM65.6995 35.1483C64.1681 34.3341 63.8918 31.8589 64.706 30.3276C65.5203 28.7962 67.4218 28.2149 68.9531 29.0291C70.4844 29.8434 71.0658 31.7448 70.2516 33.2762C69.4373 34.8075 67.2308 35.9625 65.6995 35.1483ZM58.606 41.801C59.4202 40.2697 61.6267 39.1147 63.1581 39.9289C64.6894 40.7431 64.9657 43.2183 64.1515 44.7496C63.3373 46.281 61.4358 46.8623 59.9044 46.0481C58.3731 45.2339 57.7917 43.3324 58.606 41.801ZM62.0382 36.2677C61.224 37.7991 58.7488 38.0754 57.2175 37.2612C55.6861 36.4469 55.1048 34.5455 55.919 33.0141C56.7332 31.4828 58.6347 30.9014 60.1661 31.7157C61.6974 32.5299 62.8524 34.7364 62.0382 36.2677ZM68.6912 43.3617C67.1598 42.5475 66.0048 40.341 66.8191 38.8096C67.6333 37.2783 70.1084 37.002 71.6398 37.8162C73.1711 38.6304 73.7525 40.5319 72.9382 42.0633C72.124 43.5946 70.2225 44.1759 68.6912 43.3617ZM26.0894 7.46415C25.0332 6.90261 23.7219 7.30353 23.1604 8.35964L21.5335 11.4193L18.4738 9.79242C17.4177 9.23088 16.1063 9.6318 15.5448 10.6879L14.3247 12.9826C13.7631 14.0387 14.164 15.3501 15.2201 15.9116L18.2799 17.5385L16.6531 20.598C16.0916 21.6541 16.4925 22.9655 17.5486 23.527L19.8433 24.7471C20.8994 25.3086 22.2107 24.9077 22.7723 23.8516L24.399 20.7921L27.4585 22.4189C28.5146 22.9804 29.826 22.5795 30.3875 21.5234L31.6076 19.2287C32.1691 18.1726 31.7682 16.8612 30.7121 16.2997L27.6527 14.6729L29.2795 11.6133C29.8411 10.5572 29.4401 9.2458 28.384 8.68426L26.0894 7.46415Z",fill:"#FBC151"})]),m("h1",{class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"}," Games "),m("svg",{width:"81",height:"64",viewBox:"0 0 81 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M38.6415 6.77979L31.0516 2.74416C30.5601 2.48283 30.0555 2.27114 29.5434 2.10732C20.5338 -1.35005 10.1525 2.37665 5.50641 11.1147C0.480628 20.5668 -3.41312 29.3064 6.039 34.3321C12.4693 37.7512 23.4195 38.5706 31.3463 35.7692L42.9004 41.9126C45.0105 50.0507 51.8132 58.6706 58.2434 62.0896C67.6955 67.1154 72.7636 59.0002 77.7893 49.5481C82.8151 40.096 79.2269 28.3593 69.7748 23.3335C69.5272 23.2019 69.2781 23.0762 69.0277 22.9564C68.8664 22.8573 68.701 22.7627 68.5316 22.6726L63.0451 19.7554L57.8596 29.5078C57.1685 30.8077 55.5544 31.3012 54.2544 30.61L34.5583 20.1374C33.2584 19.4462 32.7649 17.8321 33.4561 16.5322L38.6415 6.77979ZM34.339 17.0017L39.2898 7.6907L61.9274 19.7274L56.9767 29.0383C56.5448 29.8506 55.5362 30.159 54.7239 29.7271L35.0278 19.2545C34.2155 18.8226 33.9071 17.814 34.339 17.0017ZM65.6995 35.1483C64.1681 34.3341 63.8918 31.8589 64.706 30.3276C65.5203 28.7962 67.4218 28.2149 68.9531 29.0291C70.4844 29.8434 71.0658 31.7448 70.2516 33.2762C69.4373 34.8075 67.2308 35.9625 65.6995 35.1483ZM58.606 41.801C59.4202 40.2697 61.6267 39.1147 63.1581 39.9289C64.6894 40.7431 64.9657 43.2183 64.1515 44.7496C63.3373 46.281 61.4358 46.8623 59.9044 46.0481C58.3731 45.2339 57.7917 43.3324 58.606 41.801ZM62.0382 36.2677C61.224 37.7991 58.7488 38.0754 57.2175 37.2612C55.6861 36.4469 55.1048 34.5455 55.919 33.0141C56.7332 31.4828 58.6347 30.9014 60.1661 31.7157C61.6974 32.5299 62.8524 34.7364 62.0382 36.2677ZM68.6912 43.3617C67.1598 42.5475 66.0048 40.341 66.8191 38.8096C67.6333 37.2783 70.1084 37.002 71.6398 37.8162C73.1711 38.6304 73.7525 40.5319 72.9382 42.0633C72.124 43.5946 70.2225 44.1759 68.6912 43.3617ZM26.0894 7.46415C25.0332 6.90261 23.7219 7.30353 23.1604 8.35964L21.5335 11.4193L18.4738 9.79242C17.4177 9.23088 16.1063 9.6318 15.5448 10.6879L14.3247 12.9826C13.7631 14.0387 14.164 15.3501 15.2201 15.9116L18.2799 17.5385L16.6531 20.598C16.0916 21.6541 16.4925 22.9655 17.5486 23.527L19.8433 24.7471C20.8994 25.3086 22.2107 24.9077 22.7723 23.8516L24.399 20.7921L27.4585 22.4189C28.5146 22.9804 29.826 22.5795 30.3875 21.5234L31.6076 19.2287C32.1691 18.1726 31.7682 16.8612 30.7121 16.2997L27.6527 14.6729L29.2795 11.6133C29.8411 10.5572 29.4401 9.2458 28.384 8.68426L26.0894 7.46415Z",fill:"#FBC151"})])],-1)),m("div",Eie,[m("div",Aie,[(X(),ne(yt,null,Nr(e,s=>ye(n,{to:`/game/${s.url}`},{default:We(()=>[m("div",Mie,[m("img",{src:s.pictureSrc,alt:`${s.name} - icon`,class:"aspect-[11/5] w-full rounded-[10px] bg-screenBlack"},null,8,Die),m("h2",Lie,ge(s.name),1),i[0]||(i[0]=m("button",{class:"overflow-hidden rounded-[10px] font-heading text-subtitle md:text-title border-box w-[95%] pt-[0.4rem] pb-[0rem] relative bg-primary border-primary border-[3px] text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:bg-pearl-white after:transition-transform after:duration-200 after:will-change-transform after:origin-top after:scale-y-0 lg:hover:after:scale-y-100"},[m("span",{class:"relative z-[2]"}," PLAY ")],-1)),m("p",Bie,ge(s.description),1)])]),_:2},1032,["to"])),64))]),i[1]||(i[1]=m("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] flex justify-center pt-[2rem] pb-[10rem] text-pearl-white"},[m("p",{class:"font-body text-body lg:text-subtitle text-center"},[tt(" Have an idea for a fun game?"),m("br"),tt(" reach out to us: "),m("a",{href:"mailto:info@integrationbee.at?subject=Competition%20organization%20request",class:"underline"},"info@integrationbee.at")])],-1))])]),_:1})}}}),Iie=st({__name:"Presenting",setup(t){return(e,r)=>(X(),Ot(P(sE)))}}),xL=ki("presenting",{state:()=>({competitions:[],currentSeriesName:"",series:[],currentIntegralIndex:0,timePerIntegral:180,tieBreakers:[],currentTieBreakerIndex:0}),actions:{async fetchCompetitions(){try{const t=await wi.get("/competitions/");this.competitions=t.data.results,console.log("competitions set",t.data.results)}catch{jt().addToast({type:"error",title:"could not fetch competitions",message:""})}},async fetchSeries(t,e){try{const r=await wi.get(`/competitions/${t}/series/${e}/`);console.log("series response",r.data);const i=r.data;this.currentSeriesName=i.series_name,this.series=i.integrals.map(n=>({...n,isTieBreaker:!1})),this.currentIntegralIndex=0}catch{jt().addToast({type:"error",title:"Error during fetching series",message:"series could not be fetched, try later."})}},async fetchTieBreakers(t){try{const r=(await wi.get(`/competitions/${t}/tie-breakers/`)).data;this.tieBreakers=r.integrals.map(i=>({...i,isTieBreaker:!0})),this.currentTieBreakerIndex=0}catch{jt().addToast({type:"error",title:"Error during fetching tie-breakers",message:"tie-breakers could not be fetched, try later."})}},addCurrentTieBreaker(){if(this.currentTieBreakerIndex<this.tieBreakers.length){const t=this.tieBreakers[this.currentTieBreakerIndex];this.series.splice(this.currentIntegralIndex+1,0,t),this.tieBreakers.length-1!==this.currentTieBreakerIndex?this.currentTieBreakerIndex+=1:jt().addToast({type:"warning",title:"Last tie-breaker",message:"this was the last tie-breaker."}),jt().addToast({type:"info",title:"Tie breaker was added.",message:"next integral will be a tie breaker, current series will continue afterwards."})}else jt().addToast({type:"warning",title:"No more Tie Breakers available",message:""})}}}),Rie={class:"w-full h-[100vh] bg-pearl-white min-h-[50rem] min-w-[120rem] px-[2rem] xl:px-[12rem] flex flex-col font-body text-body text-screenBlack py-[2rem]"},Oie={class:"w-full h-[10rem] flex justify-start items-center"},Fie={class:"h-full w-max min-w-[5rem] rounded-full border-4 border-primary flex items-center"},Nie={class:"aspect-square h-full p-[1rem]"},$ie={class:"grid grid-cols-2 py-[5rem] gap-x-[2rem]"},zie={class:"bg-white h-[calc(100vh-30rem)] min-h-[25rem] w-full rounded-xl overflow-y-auto px-[1rem] py-[1rem] col-start-1 col-span-1"},Uie={class:"w-full h-max flex flex-col gap-[1rem]"},qie=["onClick"],jie={class:"text-center"},Vie={class:"col-start-2 col-span-1 h-[calc(100vh-30rem)] min-h-[25rem] flex flex-col-reverse justify-between"},Hie={class:"flex flex-col gap-[2rem]"},Kie={key:1,class:"flex justify-center font-heading text-title w-full rounded-xl bg-gray-100 py-[1rem]"},Wie={key:0,class:"bg-white h-[calc(100vh-55rem)] w-full rounded-xl overflow-y-auto px-[1rem] py-[1rem]"},Gie={class:"w-full h-max flex flex-col gap-[1rem]"},Xie=["onClick"],Yie={class:"text-center"},Zie=st({__name:"MainMenu",setup(t){const e=xL(),r=Xe(null),i=Xe(null);return qr(async()=>{await e.fetchCompetitions(),console.log("competitions",e.competitions)}),pi(e.competitions,n=>{console.log("selectedCompetition",n)}),(n,s)=>{const a=yn("RouterLink");return X(),ne("div",Rie,[m("header",Oie,[m("div",Fie,[m("div",Nie,[ye(a,{to:"/",class:"w-full h-full p-[1rem] bg-white flex rounded-full transition-transform duration-[.8s] hover:rotate-[360deg]"},{default:We(()=>s[0]||(s[0]=[m("svg",{width:"69",height:"68",viewBox:"0 0 69 68",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full w-full"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M59.4828 33.7849L51.3108 54.5169L25.3814 58.3861L9.06592 37.8652L13.2027 27.3704C14.3404 27.2488 15.5733 27.1797 16.906 27.1797C22.0917 27.1797 26.0562 28.9823 30.2511 30.8896C34.9633 33.0321 39.9662 35.3068 47.3172 35.3068C52.2665 35.3068 56.3178 34.6415 59.4828 33.7849Z",fill:"#FBC151"}),m("path",{d:"M19.7919 14.8718L43.9564 11.266L59.1614 30.3902L50.2019 53.1202L26.0374 56.726L10.8324 37.6018L19.7919 14.8718Z",stroke:"#001D37","stroke-width":"3.09071"}),m("path",{d:"M1.70068 31.8987C1.70068 31.8987 5.89532 27.1797 16.9062 27.1797C27.9172 27.1797 33.4226 35.3068 47.3174 35.3068C61.2121 35.3068 68.0284 30.0635 68.0284 30.0635",stroke:"#001D37","stroke-width":"3.09071"})],-1)])),_:1})]),s[1]||(s[1]=m("h1",{class:"font-heading text-title pl-[2rem] pr-[4rem]"},"Integral Presenting",-1))])]),m("main",$ie,[s[4]||(s[4]=m("h2",{class:"text-title font-heading col-start-1 col-span-1 pl-[1rem]"}," Competitions ",-1)),m("div",zie,[m("div",Uie,[(X(!0),ne(yt,null,Nr(P(e).competitions,(o,l)=>{var u;return X(),ne("div",{key:l,onClick:()=>{var c;r.value=(c=o==null?void 0:o.id)==null?void 0:c.toString()},class:Wt(`w-full h-[5rem] rounded-lg  flex justify-center items-center cursor-pointer transition-colors hover:bg-gray-100 ${r.value==((u=o==null?void 0:o.id)==null?void 0:u.toString())?"bg-gray-100":"bg-pearl-white"}`)},[tt(ge((()=>{console.log("competition",o,P(e).competitions)})())+" ",1),m("p",jie,ge(o==null?void 0:o.name),1)],10,qie)}),128))])]),s[5]||(s[5]=m("h2",{class:"text-title font-heading col-start-2 col-span-1 row-start-1 pl-[1rem]"}," Series ",-1)),m("div",Vie,[m("div",Hie,[r.value!==null&&i.value!==null?(X(),Ot(a,{key:0,to:`/presenting/series_presentation/${r.value}/${i.value}`,class:"flex justify-center font-heading text-title w-full rounded-xl bg-primary py-[1rem]"},{default:We(()=>s[2]||(s[2]=[tt(" Start presenting ")])),_:1},8,["to"])):(X(),ne("div",Kie," Start presenting ")),s[3]||(s[3]=m("a",{href:"/admin/",class:"flex justify-center font-heading text-title w-full rounded-xl border-4 border-primary py-[1rem]"}," Go to admin ",-1))]),r.value!==null?(X(),ne("div",Wie,[m("div",Gie,[(X(!0),ne(yt,null,Nr(P(e).competitions.find(o=>{var l;return((l=o==null?void 0:o.id)==null?void 0:l.toString())==r.value}).series,(o,l)=>{var u;return X(),ne("div",{key:l,onClick:()=>{i.value=o.id},class:Wt(`w-full h-[5rem] rounded-lg flex justify-center items-center cursor-pointer transition-colors hover:bg-gray-100 ${i.value==((u=o==null?void 0:o.id)==null?void 0:u.toString())?"bg-gray-100":"bg-pearl-white"}`)},[m("p",Yie,ge(o.series_name),1)],10,Xie)}),128))])])):je("",!0)])])])}}});class An{constructor(e,r,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=i}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new An(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class es{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new es(r,An.range(this,e))}}class Be{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+e,n,s,a=r&&r.loc;if(a&&a.start<=a.end){var o=a.lexer.input;n=a.start,s=a.end,n===o.length?i+=" at end of input: ":i+=" at position "+(n+1)+": ";var l=o.slice(n,s).replace(/[^]/g,"$&̲"),u;n>15?u="…"+o.slice(n-15,n):u=o.slice(0,n);var c;s+15<o.length?c=o.slice(s,s+15)+"…":c=o.slice(s),i+=u+l+c}var d=new Error(i);return d.name="ParseError",d.__proto__=Be.prototype,d.position=n,n!=null&&s!=null&&(d.length=s-n),d.rawMessage=e,d}}Be.prototype.__proto__=Error.prototype;var Jie=function(e,r){return e.indexOf(r)!==-1},Qie=function(e,r){return e===void 0?r:e},ene=/([A-Z])/g,tne=function(e){return e.replace(ene,"-$1").toLowerCase()},rne={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ine=/[&><"']/g;function nne(t){return String(t).replace(ine,e=>rne[e])}var _L=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},sne=function(e){var r=_L(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},ane=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},one=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},lt={contains:Jie,deflt:Qie,escape:nne,hyphenate:tne,getBaseElem:_L,isCharacterBox:sne,protocolFromUrl:one},t1={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function lne(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Yb{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in t1)if(t1.hasOwnProperty(r)){var i=t1[r];this[r]=e[r]!==void 0?i.processor?i.processor(e[r]):e[r]:lne(i)}}reportNonstrict(e,r,i){var n=this.strict;if(typeof n=="function"&&(n=n(e,r,i)),!(!n||n==="ignore")){if(n===!0||n==="error")throw new Be("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),i);n==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,i){var n=this.strict;if(typeof n=="function")try{n=n(e,r,i)}catch{n="error"}return!n||n==="ignore"?!1:n===!0||n==="error"?!0:n==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=lt.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var i=typeof this.trust=="function"?this.trust(e):this.trust;return!!i}}class ko{constructor(e,r,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=i}sup(){return Ws[une[this.id]]}sub(){return Ws[cne[this.id]]}fracNum(){return Ws[dne[this.id]]}fracDen(){return Ws[hne[this.id]]}cramp(){return Ws[pne[this.id]]}text(){return Ws[fne[this.id]]}isTight(){return this.size>=2}}var Zb=0,Q1=1,t0=2,Wa=3,Xh=4,Yn=5,C0=6,Ji=7,Ws=[new ko(Zb,0,!1),new ko(Q1,0,!0),new ko(t0,1,!1),new ko(Wa,1,!0),new ko(Xh,2,!1),new ko(Yn,2,!0),new ko(C0,3,!1),new ko(Ji,3,!0)],une=[Xh,Yn,Xh,Yn,C0,Ji,C0,Ji],cne=[Yn,Yn,Yn,Yn,Ji,Ji,Ji,Ji],dne=[t0,Wa,Xh,Yn,C0,Ji,C0,Ji],hne=[Wa,Wa,Yn,Yn,Ji,Ji,Ji,Ji],pne=[Q1,Q1,Wa,Wa,Yn,Yn,Ji,Ji],fne=[Zb,Q1,t0,Wa,t0,Wa,t0,Wa],pt={DISPLAY:Ws[Zb],TEXT:Ws[t0],SCRIPT:Ws[Xh],SCRIPTSCRIPT:Ws[C0]},x5=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function mne(t){for(var e=0;e<x5.length;e++)for(var r=x5[e],i=0;i<r.blocks.length;i++){var n=r.blocks[i];if(t>=n[0]&&t<=n[1])return r.name}return null}var r1=[];x5.forEach(t=>t.blocks.forEach(e=>r1.push(...e)));function wL(t){for(var e=0;e<r1.length;e+=2)if(t>=r1[e]&&t<=r1[e+1])return!0;return!1}var lc=80,gne=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},yne=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},vne=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},bne=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},xne=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},_ne=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},wne=function(e,r,i){var n=i-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+n+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},Sne=function(e,r,i){r=1e3*r;var n="";switch(e){case"sqrtMain":n=gne(r,lc);break;case"sqrtSize1":n=yne(r,lc);break;case"sqrtSize2":n=vne(r,lc);break;case"sqrtSize3":n=bne(r,lc);break;case"sqrtSize4":n=xne(r,lc);break;case"sqrtTall":n=wne(r,lc,i)}return n},Cne=function(e,r){switch(e){case"⎜":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"∣":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"∥":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"⎟":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"⎢":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"⎥":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"⎪":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"⏐":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"‖":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},V_={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},kne=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Cp{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return lt.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var ea={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Lf={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},H_={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Tne(t,e){ea[t]=e}function Jb(t,e,r){if(!ea[e])throw new Error("Font metrics not found for font: "+e+".");var i=t.charCodeAt(0),n=ea[e][i];if(!n&&t[0]in H_&&(i=H_[t[0]].charCodeAt(0),n=ea[e][i]),!n&&r==="text"&&wL(i)&&(n=ea[e][77]),n)return{depth:n[0],height:n[1],italic:n[2],skew:n[3],width:n[4]}}var r3={};function Ene(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!r3[e]){var r=r3[e]={cssEmPerMu:Lf.quad[e]/18};for(var i in Lf)Lf.hasOwnProperty(i)&&(r[i]=Lf[i][e])}return r3[e]}var Ane=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],K_=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],W_=function(e,r){return r.size<2?e:Ane[e-1][r.size-1]};class Ra{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Ra.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=K_[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);return new Ra(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:W_(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:K_[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=W_(Ra.BASESIZE,e);return this.size===r&&this.textSize===Ra.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ra.BASESIZE?["sizing","reset-size"+this.size,"size"+Ra.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Ene(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ra.BASESIZE=6;var _5={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Mne={ex:!0,em:!0,mu:!0},SL=function(e){return typeof e!="string"&&(e=e.unit),e in _5||e in Mne||e==="ex"},Cr=function(e,r){var i;if(e.unit in _5)i=_5[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")i=r.fontMetrics().cssEmPerMu;else{var n;if(r.style.isTight()?n=r.havingStyle(r.style.text()):n=r,e.unit==="ex")i=n.fontMetrics().xHeight;else if(e.unit==="em")i=n.fontMetrics().quad;else throw new Be("Invalid unit: '"+e.unit+"'");n!==r&&(i*=n.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*i,r.maxSize)},Fe=function(e){return+e.toFixed(4)+"em"},pl=function(e){return e.filter(r=>r).join(" ")},CL=function(e,r,i){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},r){r.style.isTight()&&this.classes.push("mtight");var n=r.getColor();n&&(this.style.color=n)}},kL=function(e){var r=document.createElement(e);r.className=pl(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(r.style[i]=this.style[i]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&r.setAttribute(n,this.attributes[n]);for(var s=0;s<this.children.length;s++)r.appendChild(this.children[s].toNode());return r},TL=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+lt.escape(pl(this.classes))+'"');var i="";for(var n in this.style)this.style.hasOwnProperty(n)&&(i+=lt.hyphenate(n)+":"+this.style[n]+";");i&&(r+=' style="'+lt.escape(i)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(r+=" "+s+'="'+lt.escape(this.attributes[s])+'"');r+=">";for(var a=0;a<this.children.length;a++)r+=this.children[a].toMarkup();return r+="</"+e+">",r};class kp{constructor(e,r,i,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,CL.call(this,e,i,n),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return lt.contains(this.classes,e)}toNode(){return kL.call(this,"span")}toMarkup(){return TL.call(this,"span")}}class Qb{constructor(e,r,i,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,CL.call(this,r,n),this.children=i||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return lt.contains(this.classes,e)}toNode(){return kL.call(this,"a")}toMarkup(){return TL.call(this,"a")}}class Dne{constructor(e,r,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=i}hasClass(e){return lt.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+lt.escape(this.src)+'"'+(' alt="'+lt.escape(this.alt)+'"'),r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=lt.hyphenate(i)+":"+this.style[i]+";");return r&&(e+=' style="'+lt.escape(r)+'"'),e+="'/>",e}}var Lne={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class ss{constructor(e,r,i,n,s,a,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=i||0,this.italic=n||0,this.skew=s||0,this.width=a||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=mne(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Lne[this.text])}hasClass(e){return lt.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=Fe(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=pl(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(r=r||document.createElement("span"),r.style[i]=this.style[i]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=lt.escape(pl(this.classes)),r+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var n in this.style)this.style.hasOwnProperty(n)&&(i+=lt.hyphenate(n)+":"+this.style[n]+";");i&&(e=!0,r+=' style="'+lt.escape(i)+'"');var s=lt.escape(this.text);return e?(r+=">",r+=s,r+="</span>",r):s}}class to{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&r.setAttribute(i,this.attributes[i]);for(var n=0;n<this.children.length;n++)r.appendChild(this.children[n].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+lt.escape(this.attributes[r])+'"');e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</svg>",e}}class fl{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",V_[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+lt.escape(this.alternate)+'"/>':'<path d="'+lt.escape(V_[this.pathName])+'"/>'}}class w5{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&r.setAttribute(i,this.attributes[i]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+lt.escape(this.attributes[r])+'"');return e+="/>",e}}function G_(t){if(t instanceof ss)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function Bne(t){if(t instanceof kp)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var Pne={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Ine={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},gr={math:{},text:{}};function _(t,e,r,i,n,s){gr[t][n]={font:e,group:r,replace:i},s&&i&&(gr[t][i]=gr[t][n])}var k="math",ke="text",L="main",K="ams",wr="accent-token",Ye="bin",rn="close",W0="inner",ht="mathord",Zr="op-token",Nn="open",b2="punct",W="rel",ho="spacing",Q="textord";_(k,L,W,"≡","\\equiv",!0);_(k,L,W,"≺","\\prec",!0);_(k,L,W,"≻","\\succ",!0);_(k,L,W,"∼","\\sim",!0);_(k,L,W,"⊥","\\perp");_(k,L,W,"⪯","\\preceq",!0);_(k,L,W,"⪰","\\succeq",!0);_(k,L,W,"≃","\\simeq",!0);_(k,L,W,"∣","\\mid",!0);_(k,L,W,"≪","\\ll",!0);_(k,L,W,"≫","\\gg",!0);_(k,L,W,"≍","\\asymp",!0);_(k,L,W,"∥","\\parallel");_(k,L,W,"⋈","\\bowtie",!0);_(k,L,W,"⌣","\\smile",!0);_(k,L,W,"⊑","\\sqsubseteq",!0);_(k,L,W,"⊒","\\sqsupseteq",!0);_(k,L,W,"≐","\\doteq",!0);_(k,L,W,"⌢","\\frown",!0);_(k,L,W,"∋","\\ni",!0);_(k,L,W,"∝","\\propto",!0);_(k,L,W,"⊢","\\vdash",!0);_(k,L,W,"⊣","\\dashv",!0);_(k,L,W,"∋","\\owns");_(k,L,b2,".","\\ldotp");_(k,L,b2,"⋅","\\cdotp");_(k,L,Q,"#","\\#");_(ke,L,Q,"#","\\#");_(k,L,Q,"&","\\&");_(ke,L,Q,"&","\\&");_(k,L,Q,"ℵ","\\aleph",!0);_(k,L,Q,"∀","\\forall",!0);_(k,L,Q,"ℏ","\\hbar",!0);_(k,L,Q,"∃","\\exists",!0);_(k,L,Q,"∇","\\nabla",!0);_(k,L,Q,"♭","\\flat",!0);_(k,L,Q,"ℓ","\\ell",!0);_(k,L,Q,"♮","\\natural",!0);_(k,L,Q,"♣","\\clubsuit",!0);_(k,L,Q,"℘","\\wp",!0);_(k,L,Q,"♯","\\sharp",!0);_(k,L,Q,"♢","\\diamondsuit",!0);_(k,L,Q,"ℜ","\\Re",!0);_(k,L,Q,"♡","\\heartsuit",!0);_(k,L,Q,"ℑ","\\Im",!0);_(k,L,Q,"♠","\\spadesuit",!0);_(k,L,Q,"§","\\S",!0);_(ke,L,Q,"§","\\S");_(k,L,Q,"¶","\\P",!0);_(ke,L,Q,"¶","\\P");_(k,L,Q,"†","\\dag");_(ke,L,Q,"†","\\dag");_(ke,L,Q,"†","\\textdagger");_(k,L,Q,"‡","\\ddag");_(ke,L,Q,"‡","\\ddag");_(ke,L,Q,"‡","\\textdaggerdbl");_(k,L,rn,"⎱","\\rmoustache",!0);_(k,L,Nn,"⎰","\\lmoustache",!0);_(k,L,rn,"⟯","\\rgroup",!0);_(k,L,Nn,"⟮","\\lgroup",!0);_(k,L,Ye,"∓","\\mp",!0);_(k,L,Ye,"⊖","\\ominus",!0);_(k,L,Ye,"⊎","\\uplus",!0);_(k,L,Ye,"⊓","\\sqcap",!0);_(k,L,Ye,"∗","\\ast");_(k,L,Ye,"⊔","\\sqcup",!0);_(k,L,Ye,"◯","\\bigcirc",!0);_(k,L,Ye,"∙","\\bullet",!0);_(k,L,Ye,"‡","\\ddagger");_(k,L,Ye,"≀","\\wr",!0);_(k,L,Ye,"⨿","\\amalg");_(k,L,Ye,"&","\\And");_(k,L,W,"⟵","\\longleftarrow",!0);_(k,L,W,"⇐","\\Leftarrow",!0);_(k,L,W,"⟸","\\Longleftarrow",!0);_(k,L,W,"⟶","\\longrightarrow",!0);_(k,L,W,"⇒","\\Rightarrow",!0);_(k,L,W,"⟹","\\Longrightarrow",!0);_(k,L,W,"↔","\\leftrightarrow",!0);_(k,L,W,"⟷","\\longleftrightarrow",!0);_(k,L,W,"⇔","\\Leftrightarrow",!0);_(k,L,W,"⟺","\\Longleftrightarrow",!0);_(k,L,W,"↦","\\mapsto",!0);_(k,L,W,"⟼","\\longmapsto",!0);_(k,L,W,"↗","\\nearrow",!0);_(k,L,W,"↩","\\hookleftarrow",!0);_(k,L,W,"↪","\\hookrightarrow",!0);_(k,L,W,"↘","\\searrow",!0);_(k,L,W,"↼","\\leftharpoonup",!0);_(k,L,W,"⇀","\\rightharpoonup",!0);_(k,L,W,"↙","\\swarrow",!0);_(k,L,W,"↽","\\leftharpoondown",!0);_(k,L,W,"⇁","\\rightharpoondown",!0);_(k,L,W,"↖","\\nwarrow",!0);_(k,L,W,"⇌","\\rightleftharpoons",!0);_(k,K,W,"≮","\\nless",!0);_(k,K,W,"","\\@nleqslant");_(k,K,W,"","\\@nleqq");_(k,K,W,"⪇","\\lneq",!0);_(k,K,W,"≨","\\lneqq",!0);_(k,K,W,"","\\@lvertneqq");_(k,K,W,"⋦","\\lnsim",!0);_(k,K,W,"⪉","\\lnapprox",!0);_(k,K,W,"⊀","\\nprec",!0);_(k,K,W,"⋠","\\npreceq",!0);_(k,K,W,"⋨","\\precnsim",!0);_(k,K,W,"⪹","\\precnapprox",!0);_(k,K,W,"≁","\\nsim",!0);_(k,K,W,"","\\@nshortmid");_(k,K,W,"∤","\\nmid",!0);_(k,K,W,"⊬","\\nvdash",!0);_(k,K,W,"⊭","\\nvDash",!0);_(k,K,W,"⋪","\\ntriangleleft");_(k,K,W,"⋬","\\ntrianglelefteq",!0);_(k,K,W,"⊊","\\subsetneq",!0);_(k,K,W,"","\\@varsubsetneq");_(k,K,W,"⫋","\\subsetneqq",!0);_(k,K,W,"","\\@varsubsetneqq");_(k,K,W,"≯","\\ngtr",!0);_(k,K,W,"","\\@ngeqslant");_(k,K,W,"","\\@ngeqq");_(k,K,W,"⪈","\\gneq",!0);_(k,K,W,"≩","\\gneqq",!0);_(k,K,W,"","\\@gvertneqq");_(k,K,W,"⋧","\\gnsim",!0);_(k,K,W,"⪊","\\gnapprox",!0);_(k,K,W,"⊁","\\nsucc",!0);_(k,K,W,"⋡","\\nsucceq",!0);_(k,K,W,"⋩","\\succnsim",!0);_(k,K,W,"⪺","\\succnapprox",!0);_(k,K,W,"≆","\\ncong",!0);_(k,K,W,"","\\@nshortparallel");_(k,K,W,"∦","\\nparallel",!0);_(k,K,W,"⊯","\\nVDash",!0);_(k,K,W,"⋫","\\ntriangleright");_(k,K,W,"⋭","\\ntrianglerighteq",!0);_(k,K,W,"","\\@nsupseteqq");_(k,K,W,"⊋","\\supsetneq",!0);_(k,K,W,"","\\@varsupsetneq");_(k,K,W,"⫌","\\supsetneqq",!0);_(k,K,W,"","\\@varsupsetneqq");_(k,K,W,"⊮","\\nVdash",!0);_(k,K,W,"⪵","\\precneqq",!0);_(k,K,W,"⪶","\\succneqq",!0);_(k,K,W,"","\\@nsubseteqq");_(k,K,Ye,"⊴","\\unlhd");_(k,K,Ye,"⊵","\\unrhd");_(k,K,W,"↚","\\nleftarrow",!0);_(k,K,W,"↛","\\nrightarrow",!0);_(k,K,W,"⇍","\\nLeftarrow",!0);_(k,K,W,"⇏","\\nRightarrow",!0);_(k,K,W,"↮","\\nleftrightarrow",!0);_(k,K,W,"⇎","\\nLeftrightarrow",!0);_(k,K,W,"△","\\vartriangle");_(k,K,Q,"ℏ","\\hslash");_(k,K,Q,"▽","\\triangledown");_(k,K,Q,"◊","\\lozenge");_(k,K,Q,"Ⓢ","\\circledS");_(k,K,Q,"®","\\circledR");_(ke,K,Q,"®","\\circledR");_(k,K,Q,"∡","\\measuredangle",!0);_(k,K,Q,"∄","\\nexists");_(k,K,Q,"℧","\\mho");_(k,K,Q,"Ⅎ","\\Finv",!0);_(k,K,Q,"⅁","\\Game",!0);_(k,K,Q,"‵","\\backprime");_(k,K,Q,"▲","\\blacktriangle");_(k,K,Q,"▼","\\blacktriangledown");_(k,K,Q,"■","\\blacksquare");_(k,K,Q,"⧫","\\blacklozenge");_(k,K,Q,"★","\\bigstar");_(k,K,Q,"∢","\\sphericalangle",!0);_(k,K,Q,"∁","\\complement",!0);_(k,K,Q,"ð","\\eth",!0);_(ke,L,Q,"ð","ð");_(k,K,Q,"╱","\\diagup");_(k,K,Q,"╲","\\diagdown");_(k,K,Q,"□","\\square");_(k,K,Q,"□","\\Box");_(k,K,Q,"◊","\\Diamond");_(k,K,Q,"¥","\\yen",!0);_(ke,K,Q,"¥","\\yen",!0);_(k,K,Q,"✓","\\checkmark",!0);_(ke,K,Q,"✓","\\checkmark");_(k,K,Q,"ℶ","\\beth",!0);_(k,K,Q,"ℸ","\\daleth",!0);_(k,K,Q,"ℷ","\\gimel",!0);_(k,K,Q,"ϝ","\\digamma",!0);_(k,K,Q,"ϰ","\\varkappa");_(k,K,Nn,"┌","\\@ulcorner",!0);_(k,K,rn,"┐","\\@urcorner",!0);_(k,K,Nn,"└","\\@llcorner",!0);_(k,K,rn,"┘","\\@lrcorner",!0);_(k,K,W,"≦","\\leqq",!0);_(k,K,W,"⩽","\\leqslant",!0);_(k,K,W,"⪕","\\eqslantless",!0);_(k,K,W,"≲","\\lesssim",!0);_(k,K,W,"⪅","\\lessapprox",!0);_(k,K,W,"≊","\\approxeq",!0);_(k,K,Ye,"⋖","\\lessdot");_(k,K,W,"⋘","\\lll",!0);_(k,K,W,"≶","\\lessgtr",!0);_(k,K,W,"⋚","\\lesseqgtr",!0);_(k,K,W,"⪋","\\lesseqqgtr",!0);_(k,K,W,"≑","\\doteqdot");_(k,K,W,"≓","\\risingdotseq",!0);_(k,K,W,"≒","\\fallingdotseq",!0);_(k,K,W,"∽","\\backsim",!0);_(k,K,W,"⋍","\\backsimeq",!0);_(k,K,W,"⫅","\\subseteqq",!0);_(k,K,W,"⋐","\\Subset",!0);_(k,K,W,"⊏","\\sqsubset",!0);_(k,K,W,"≼","\\preccurlyeq",!0);_(k,K,W,"⋞","\\curlyeqprec",!0);_(k,K,W,"≾","\\precsim",!0);_(k,K,W,"⪷","\\precapprox",!0);_(k,K,W,"⊲","\\vartriangleleft");_(k,K,W,"⊴","\\trianglelefteq");_(k,K,W,"⊨","\\vDash",!0);_(k,K,W,"⊪","\\Vvdash",!0);_(k,K,W,"⌣","\\smallsmile");_(k,K,W,"⌢","\\smallfrown");_(k,K,W,"≏","\\bumpeq",!0);_(k,K,W,"≎","\\Bumpeq",!0);_(k,K,W,"≧","\\geqq",!0);_(k,K,W,"⩾","\\geqslant",!0);_(k,K,W,"⪖","\\eqslantgtr",!0);_(k,K,W,"≳","\\gtrsim",!0);_(k,K,W,"⪆","\\gtrapprox",!0);_(k,K,Ye,"⋗","\\gtrdot");_(k,K,W,"⋙","\\ggg",!0);_(k,K,W,"≷","\\gtrless",!0);_(k,K,W,"⋛","\\gtreqless",!0);_(k,K,W,"⪌","\\gtreqqless",!0);_(k,K,W,"≖","\\eqcirc",!0);_(k,K,W,"≗","\\circeq",!0);_(k,K,W,"≜","\\triangleq",!0);_(k,K,W,"∼","\\thicksim");_(k,K,W,"≈","\\thickapprox");_(k,K,W,"⫆","\\supseteqq",!0);_(k,K,W,"⋑","\\Supset",!0);_(k,K,W,"⊐","\\sqsupset",!0);_(k,K,W,"≽","\\succcurlyeq",!0);_(k,K,W,"⋟","\\curlyeqsucc",!0);_(k,K,W,"≿","\\succsim",!0);_(k,K,W,"⪸","\\succapprox",!0);_(k,K,W,"⊳","\\vartriangleright");_(k,K,W,"⊵","\\trianglerighteq");_(k,K,W,"⊩","\\Vdash",!0);_(k,K,W,"∣","\\shortmid");_(k,K,W,"∥","\\shortparallel");_(k,K,W,"≬","\\between",!0);_(k,K,W,"⋔","\\pitchfork",!0);_(k,K,W,"∝","\\varpropto");_(k,K,W,"◀","\\blacktriangleleft");_(k,K,W,"∴","\\therefore",!0);_(k,K,W,"∍","\\backepsilon");_(k,K,W,"▶","\\blacktriangleright");_(k,K,W,"∵","\\because",!0);_(k,K,W,"⋘","\\llless");_(k,K,W,"⋙","\\gggtr");_(k,K,Ye,"⊲","\\lhd");_(k,K,Ye,"⊳","\\rhd");_(k,K,W,"≂","\\eqsim",!0);_(k,L,W,"⋈","\\Join");_(k,K,W,"≑","\\Doteq",!0);_(k,K,Ye,"∔","\\dotplus",!0);_(k,K,Ye,"∖","\\smallsetminus");_(k,K,Ye,"⋒","\\Cap",!0);_(k,K,Ye,"⋓","\\Cup",!0);_(k,K,Ye,"⩞","\\doublebarwedge",!0);_(k,K,Ye,"⊟","\\boxminus",!0);_(k,K,Ye,"⊞","\\boxplus",!0);_(k,K,Ye,"⋇","\\divideontimes",!0);_(k,K,Ye,"⋉","\\ltimes",!0);_(k,K,Ye,"⋊","\\rtimes",!0);_(k,K,Ye,"⋋","\\leftthreetimes",!0);_(k,K,Ye,"⋌","\\rightthreetimes",!0);_(k,K,Ye,"⋏","\\curlywedge",!0);_(k,K,Ye,"⋎","\\curlyvee",!0);_(k,K,Ye,"⊝","\\circleddash",!0);_(k,K,Ye,"⊛","\\circledast",!0);_(k,K,Ye,"⋅","\\centerdot");_(k,K,Ye,"⊺","\\intercal",!0);_(k,K,Ye,"⋒","\\doublecap");_(k,K,Ye,"⋓","\\doublecup");_(k,K,Ye,"⊠","\\boxtimes",!0);_(k,K,W,"⇢","\\dashrightarrow",!0);_(k,K,W,"⇠","\\dashleftarrow",!0);_(k,K,W,"⇇","\\leftleftarrows",!0);_(k,K,W,"⇆","\\leftrightarrows",!0);_(k,K,W,"⇚","\\Lleftarrow",!0);_(k,K,W,"↞","\\twoheadleftarrow",!0);_(k,K,W,"↢","\\leftarrowtail",!0);_(k,K,W,"↫","\\looparrowleft",!0);_(k,K,W,"⇋","\\leftrightharpoons",!0);_(k,K,W,"↶","\\curvearrowleft",!0);_(k,K,W,"↺","\\circlearrowleft",!0);_(k,K,W,"↰","\\Lsh",!0);_(k,K,W,"⇈","\\upuparrows",!0);_(k,K,W,"↿","\\upharpoonleft",!0);_(k,K,W,"⇃","\\downharpoonleft",!0);_(k,L,W,"⊶","\\origof",!0);_(k,L,W,"⊷","\\imageof",!0);_(k,K,W,"⊸","\\multimap",!0);_(k,K,W,"↭","\\leftrightsquigarrow",!0);_(k,K,W,"⇉","\\rightrightarrows",!0);_(k,K,W,"⇄","\\rightleftarrows",!0);_(k,K,W,"↠","\\twoheadrightarrow",!0);_(k,K,W,"↣","\\rightarrowtail",!0);_(k,K,W,"↬","\\looparrowright",!0);_(k,K,W,"↷","\\curvearrowright",!0);_(k,K,W,"↻","\\circlearrowright",!0);_(k,K,W,"↱","\\Rsh",!0);_(k,K,W,"⇊","\\downdownarrows",!0);_(k,K,W,"↾","\\upharpoonright",!0);_(k,K,W,"⇂","\\downharpoonright",!0);_(k,K,W,"⇝","\\rightsquigarrow",!0);_(k,K,W,"⇝","\\leadsto");_(k,K,W,"⇛","\\Rrightarrow",!0);_(k,K,W,"↾","\\restriction");_(k,L,Q,"‘","`");_(k,L,Q,"$","\\$");_(ke,L,Q,"$","\\$");_(ke,L,Q,"$","\\textdollar");_(k,L,Q,"%","\\%");_(ke,L,Q,"%","\\%");_(k,L,Q,"_","\\_");_(ke,L,Q,"_","\\_");_(ke,L,Q,"_","\\textunderscore");_(k,L,Q,"∠","\\angle",!0);_(k,L,Q,"∞","\\infty",!0);_(k,L,Q,"′","\\prime");_(k,L,Q,"△","\\triangle");_(k,L,Q,"Γ","\\Gamma",!0);_(k,L,Q,"Δ","\\Delta",!0);_(k,L,Q,"Θ","\\Theta",!0);_(k,L,Q,"Λ","\\Lambda",!0);_(k,L,Q,"Ξ","\\Xi",!0);_(k,L,Q,"Π","\\Pi",!0);_(k,L,Q,"Σ","\\Sigma",!0);_(k,L,Q,"Υ","\\Upsilon",!0);_(k,L,Q,"Φ","\\Phi",!0);_(k,L,Q,"Ψ","\\Psi",!0);_(k,L,Q,"Ω","\\Omega",!0);_(k,L,Q,"A","Α");_(k,L,Q,"B","Β");_(k,L,Q,"E","Ε");_(k,L,Q,"Z","Ζ");_(k,L,Q,"H","Η");_(k,L,Q,"I","Ι");_(k,L,Q,"K","Κ");_(k,L,Q,"M","Μ");_(k,L,Q,"N","Ν");_(k,L,Q,"O","Ο");_(k,L,Q,"P","Ρ");_(k,L,Q,"T","Τ");_(k,L,Q,"X","Χ");_(k,L,Q,"¬","\\neg",!0);_(k,L,Q,"¬","\\lnot");_(k,L,Q,"⊤","\\top");_(k,L,Q,"⊥","\\bot");_(k,L,Q,"∅","\\emptyset");_(k,K,Q,"∅","\\varnothing");_(k,L,ht,"α","\\alpha",!0);_(k,L,ht,"β","\\beta",!0);_(k,L,ht,"γ","\\gamma",!0);_(k,L,ht,"δ","\\delta",!0);_(k,L,ht,"ϵ","\\epsilon",!0);_(k,L,ht,"ζ","\\zeta",!0);_(k,L,ht,"η","\\eta",!0);_(k,L,ht,"θ","\\theta",!0);_(k,L,ht,"ι","\\iota",!0);_(k,L,ht,"κ","\\kappa",!0);_(k,L,ht,"λ","\\lambda",!0);_(k,L,ht,"μ","\\mu",!0);_(k,L,ht,"ν","\\nu",!0);_(k,L,ht,"ξ","\\xi",!0);_(k,L,ht,"ο","\\omicron",!0);_(k,L,ht,"π","\\pi",!0);_(k,L,ht,"ρ","\\rho",!0);_(k,L,ht,"σ","\\sigma",!0);_(k,L,ht,"τ","\\tau",!0);_(k,L,ht,"υ","\\upsilon",!0);_(k,L,ht,"ϕ","\\phi",!0);_(k,L,ht,"χ","\\chi",!0);_(k,L,ht,"ψ","\\psi",!0);_(k,L,ht,"ω","\\omega",!0);_(k,L,ht,"ε","\\varepsilon",!0);_(k,L,ht,"ϑ","\\vartheta",!0);_(k,L,ht,"ϖ","\\varpi",!0);_(k,L,ht,"ϱ","\\varrho",!0);_(k,L,ht,"ς","\\varsigma",!0);_(k,L,ht,"φ","\\varphi",!0);_(k,L,Ye,"∗","*",!0);_(k,L,Ye,"+","+");_(k,L,Ye,"−","-",!0);_(k,L,Ye,"⋅","\\cdot",!0);_(k,L,Ye,"∘","\\circ",!0);_(k,L,Ye,"÷","\\div",!0);_(k,L,Ye,"±","\\pm",!0);_(k,L,Ye,"×","\\times",!0);_(k,L,Ye,"∩","\\cap",!0);_(k,L,Ye,"∪","\\cup",!0);_(k,L,Ye,"∖","\\setminus",!0);_(k,L,Ye,"∧","\\land");_(k,L,Ye,"∨","\\lor");_(k,L,Ye,"∧","\\wedge",!0);_(k,L,Ye,"∨","\\vee",!0);_(k,L,Q,"√","\\surd");_(k,L,Nn,"⟨","\\langle",!0);_(k,L,Nn,"∣","\\lvert");_(k,L,Nn,"∥","\\lVert");_(k,L,rn,"?","?");_(k,L,rn,"!","!");_(k,L,rn,"⟩","\\rangle",!0);_(k,L,rn,"∣","\\rvert");_(k,L,rn,"∥","\\rVert");_(k,L,W,"=","=");_(k,L,W,":",":");_(k,L,W,"≈","\\approx",!0);_(k,L,W,"≅","\\cong",!0);_(k,L,W,"≥","\\ge");_(k,L,W,"≥","\\geq",!0);_(k,L,W,"←","\\gets");_(k,L,W,">","\\gt",!0);_(k,L,W,"∈","\\in",!0);_(k,L,W,"","\\@not");_(k,L,W,"⊂","\\subset",!0);_(k,L,W,"⊃","\\supset",!0);_(k,L,W,"⊆","\\subseteq",!0);_(k,L,W,"⊇","\\supseteq",!0);_(k,K,W,"⊈","\\nsubseteq",!0);_(k,K,W,"⊉","\\nsupseteq",!0);_(k,L,W,"⊨","\\models");_(k,L,W,"←","\\leftarrow",!0);_(k,L,W,"≤","\\le");_(k,L,W,"≤","\\leq",!0);_(k,L,W,"<","\\lt",!0);_(k,L,W,"→","\\rightarrow",!0);_(k,L,W,"→","\\to");_(k,K,W,"≱","\\ngeq",!0);_(k,K,W,"≰","\\nleq",!0);_(k,L,ho," ","\\ ");_(k,L,ho," ","\\space");_(k,L,ho," ","\\nobreakspace");_(ke,L,ho," ","\\ ");_(ke,L,ho," "," ");_(ke,L,ho," ","\\space");_(ke,L,ho," ","\\nobreakspace");_(k,L,ho,null,"\\nobreak");_(k,L,ho,null,"\\allowbreak");_(k,L,b2,",",",");_(k,L,b2,";",";");_(k,K,Ye,"⊼","\\barwedge",!0);_(k,K,Ye,"⊻","\\veebar",!0);_(k,L,Ye,"⊙","\\odot",!0);_(k,L,Ye,"⊕","\\oplus",!0);_(k,L,Ye,"⊗","\\otimes",!0);_(k,L,Q,"∂","\\partial",!0);_(k,L,Ye,"⊘","\\oslash",!0);_(k,K,Ye,"⊚","\\circledcirc",!0);_(k,K,Ye,"⊡","\\boxdot",!0);_(k,L,Ye,"△","\\bigtriangleup");_(k,L,Ye,"▽","\\bigtriangledown");_(k,L,Ye,"†","\\dagger");_(k,L,Ye,"⋄","\\diamond");_(k,L,Ye,"⋆","\\star");_(k,L,Ye,"◃","\\triangleleft");_(k,L,Ye,"▹","\\triangleright");_(k,L,Nn,"{","\\{");_(ke,L,Q,"{","\\{");_(ke,L,Q,"{","\\textbraceleft");_(k,L,rn,"}","\\}");_(ke,L,Q,"}","\\}");_(ke,L,Q,"}","\\textbraceright");_(k,L,Nn,"{","\\lbrace");_(k,L,rn,"}","\\rbrace");_(k,L,Nn,"[","\\lbrack",!0);_(ke,L,Q,"[","\\lbrack",!0);_(k,L,rn,"]","\\rbrack",!0);_(ke,L,Q,"]","\\rbrack",!0);_(k,L,Nn,"(","\\lparen",!0);_(k,L,rn,")","\\rparen",!0);_(ke,L,Q,"<","\\textless",!0);_(ke,L,Q,">","\\textgreater",!0);_(k,L,Nn,"⌊","\\lfloor",!0);_(k,L,rn,"⌋","\\rfloor",!0);_(k,L,Nn,"⌈","\\lceil",!0);_(k,L,rn,"⌉","\\rceil",!0);_(k,L,Q,"\\","\\backslash");_(k,L,Q,"∣","|");_(k,L,Q,"∣","\\vert");_(ke,L,Q,"|","\\textbar",!0);_(k,L,Q,"∥","\\|");_(k,L,Q,"∥","\\Vert");_(ke,L,Q,"∥","\\textbardbl");_(ke,L,Q,"~","\\textasciitilde");_(ke,L,Q,"\\","\\textbackslash");_(ke,L,Q,"^","\\textasciicircum");_(k,L,W,"↑","\\uparrow",!0);_(k,L,W,"⇑","\\Uparrow",!0);_(k,L,W,"↓","\\downarrow",!0);_(k,L,W,"⇓","\\Downarrow",!0);_(k,L,W,"↕","\\updownarrow",!0);_(k,L,W,"⇕","\\Updownarrow",!0);_(k,L,Zr,"∐","\\coprod");_(k,L,Zr,"⋁","\\bigvee");_(k,L,Zr,"⋀","\\bigwedge");_(k,L,Zr,"⨄","\\biguplus");_(k,L,Zr,"⋂","\\bigcap");_(k,L,Zr,"⋃","\\bigcup");_(k,L,Zr,"∫","\\int");_(k,L,Zr,"∫","\\intop");_(k,L,Zr,"∬","\\iint");_(k,L,Zr,"∭","\\iiint");_(k,L,Zr,"∏","\\prod");_(k,L,Zr,"∑","\\sum");_(k,L,Zr,"⨂","\\bigotimes");_(k,L,Zr,"⨁","\\bigoplus");_(k,L,Zr,"⨀","\\bigodot");_(k,L,Zr,"∮","\\oint");_(k,L,Zr,"∯","\\oiint");_(k,L,Zr,"∰","\\oiiint");_(k,L,Zr,"⨆","\\bigsqcup");_(k,L,Zr,"∫","\\smallint");_(ke,L,W0,"…","\\textellipsis");_(k,L,W0,"…","\\mathellipsis");_(ke,L,W0,"…","\\ldots",!0);_(k,L,W0,"…","\\ldots",!0);_(k,L,W0,"⋯","\\@cdots",!0);_(k,L,W0,"⋱","\\ddots",!0);_(k,L,Q,"⋮","\\varvdots");_(k,L,wr,"ˊ","\\acute");_(k,L,wr,"ˋ","\\grave");_(k,L,wr,"¨","\\ddot");_(k,L,wr,"~","\\tilde");_(k,L,wr,"ˉ","\\bar");_(k,L,wr,"˘","\\breve");_(k,L,wr,"ˇ","\\check");_(k,L,wr,"^","\\hat");_(k,L,wr,"⃗","\\vec");_(k,L,wr,"˙","\\dot");_(k,L,wr,"˚","\\mathring");_(k,L,ht,"","\\@imath");_(k,L,ht,"","\\@jmath");_(k,L,Q,"ı","ı");_(k,L,Q,"ȷ","ȷ");_(ke,L,Q,"ı","\\i",!0);_(ke,L,Q,"ȷ","\\j",!0);_(ke,L,Q,"ß","\\ss",!0);_(ke,L,Q,"æ","\\ae",!0);_(ke,L,Q,"œ","\\oe",!0);_(ke,L,Q,"ø","\\o",!0);_(ke,L,Q,"Æ","\\AE",!0);_(ke,L,Q,"Œ","\\OE",!0);_(ke,L,Q,"Ø","\\O",!0);_(ke,L,wr,"ˊ","\\'");_(ke,L,wr,"ˋ","\\`");_(ke,L,wr,"ˆ","\\^");_(ke,L,wr,"˜","\\~");_(ke,L,wr,"ˉ","\\=");_(ke,L,wr,"˘","\\u");_(ke,L,wr,"˙","\\.");_(ke,L,wr,"¸","\\c");_(ke,L,wr,"˚","\\r");_(ke,L,wr,"ˇ","\\v");_(ke,L,wr,"¨",'\\"');_(ke,L,wr,"˝","\\H");_(ke,L,wr,"◯","\\textcircled");var EL={"--":!0,"---":!0,"``":!0,"''":!0};_(ke,L,Q,"–","--",!0);_(ke,L,Q,"–","\\textendash");_(ke,L,Q,"—","---",!0);_(ke,L,Q,"—","\\textemdash");_(ke,L,Q,"‘","`",!0);_(ke,L,Q,"‘","\\textquoteleft");_(ke,L,Q,"’","'",!0);_(ke,L,Q,"’","\\textquoteright");_(ke,L,Q,"“","``",!0);_(ke,L,Q,"“","\\textquotedblleft");_(ke,L,Q,"”","''",!0);_(ke,L,Q,"”","\\textquotedblright");_(k,L,Q,"°","\\degree",!0);_(ke,L,Q,"°","\\degree");_(ke,L,Q,"°","\\textdegree",!0);_(k,L,Q,"£","\\pounds");_(k,L,Q,"£","\\mathsterling",!0);_(ke,L,Q,"£","\\pounds");_(ke,L,Q,"£","\\textsterling",!0);_(k,K,Q,"✠","\\maltese");_(ke,K,Q,"✠","\\maltese");var X_='0123456789/@."';for(var i3=0;i3<X_.length;i3++){var Y_=X_.charAt(i3);_(k,L,Q,Y_,Y_)}var Z_='0123456789!@*()-=+";:?/.,';for(var n3=0;n3<Z_.length;n3++){var J_=Z_.charAt(n3);_(ke,L,Q,J_,J_)}var eg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var s3=0;s3<eg.length;s3++){var Bf=eg.charAt(s3);_(k,L,ht,Bf,Bf),_(ke,L,Q,Bf,Bf)}_(k,K,Q,"C","ℂ");_(ke,K,Q,"C","ℂ");_(k,K,Q,"H","ℍ");_(ke,K,Q,"H","ℍ");_(k,K,Q,"N","ℕ");_(ke,K,Q,"N","ℕ");_(k,K,Q,"P","ℙ");_(ke,K,Q,"P","ℙ");_(k,K,Q,"Q","ℚ");_(ke,K,Q,"Q","ℚ");_(k,K,Q,"R","ℝ");_(ke,K,Q,"R","ℝ");_(k,K,Q,"Z","ℤ");_(ke,K,Q,"Z","ℤ");_(k,L,ht,"h","ℎ");_(ke,L,ht,"h","ℎ");var gt="";for(var qi=0;qi<eg.length;qi++){var Mr=eg.charAt(qi);gt=String.fromCharCode(55349,56320+qi),_(k,L,ht,Mr,gt),_(ke,L,Q,Mr,gt),gt=String.fromCharCode(55349,56372+qi),_(k,L,ht,Mr,gt),_(ke,L,Q,Mr,gt),gt=String.fromCharCode(55349,56424+qi),_(k,L,ht,Mr,gt),_(ke,L,Q,Mr,gt),gt=String.fromCharCode(55349,56580+qi),_(k,L,ht,Mr,gt),_(ke,L,Q,Mr,gt),gt=String.fromCharCode(55349,56684+qi),_(k,L,ht,Mr,gt),_(ke,L,Q,Mr,gt),gt=String.fromCharCode(55349,56736+qi),_(k,L,ht,Mr,gt),_(ke,L,Q,Mr,gt),gt=String.fromCharCode(55349,56788+qi),_(k,L,ht,Mr,gt),_(ke,L,Q,Mr,gt),gt=String.fromCharCode(55349,56840+qi),_(k,L,ht,Mr,gt),_(ke,L,Q,Mr,gt),gt=String.fromCharCode(55349,56944+qi),_(k,L,ht,Mr,gt),_(ke,L,Q,Mr,gt),qi<26&&(gt=String.fromCharCode(55349,56632+qi),_(k,L,ht,Mr,gt),_(ke,L,Q,Mr,gt),gt=String.fromCharCode(55349,56476+qi),_(k,L,ht,Mr,gt),_(ke,L,Q,Mr,gt))}gt="𝕜";_(k,L,ht,"k",gt);_(ke,L,Q,"k",gt);for(var Nl=0;Nl<10;Nl++){var To=Nl.toString();gt=String.fromCharCode(55349,57294+Nl),_(k,L,ht,To,gt),_(ke,L,Q,To,gt),gt=String.fromCharCode(55349,57314+Nl),_(k,L,ht,To,gt),_(ke,L,Q,To,gt),gt=String.fromCharCode(55349,57324+Nl),_(k,L,ht,To,gt),_(ke,L,Q,To,gt),gt=String.fromCharCode(55349,57334+Nl),_(k,L,ht,To,gt),_(ke,L,Q,To,gt)}var S5="ÐÞþ";for(var a3=0;a3<S5.length;a3++){var Pf=S5.charAt(a3);_(k,L,ht,Pf,Pf),_(ke,L,Q,Pf,Pf)}var If=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Q_=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Rne=function(e,r){var i=e.charCodeAt(0),n=e.charCodeAt(1),s=(i-55296)*1024+(n-56320)+65536,a=r==="math"?0:1;if(119808<=s&&s<120484){var o=Math.floor((s-119808)/26);return[If[o][2],If[o][a]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[Q_[l][2],Q_[l][a]]}else{if(s===120485||s===120486)return[If[0][2],If[0][a]];if(120486<s&&s<120782)return["",""];throw new Be("Unsupported character: "+e)}},x2=function(e,r,i){return gr[i][e]&&gr[i][e].replace&&(e=gr[i][e].replace),{value:e,metrics:Jb(e,r,i)}},bs=function(e,r,i,n,s){var a=x2(e,r,i),o=a.metrics;e=a.value;var l;if(o){var u=o.italic;(i==="text"||n&&n.font==="mathit")&&(u=0),l=new ss(e,o.height,o.depth,u,o.skew,o.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+i+"'")),l=new ss(e,0,0,0,0,0,s);if(n){l.maxFontSize=n.sizeMultiplier,n.style.isTight()&&l.classes.push("mtight");var c=n.getColor();c&&(l.style.color=c)}return l},One=function(e,r,i,n){return n===void 0&&(n=[]),i.font==="boldsymbol"&&x2(e,"Main-Bold",r).metrics?bs(e,"Main-Bold",r,i,n.concat(["mathbf"])):e==="\\"||gr[r][e].font==="main"?bs(e,"Main-Regular",r,i,n):bs(e,"AMS-Regular",r,i,n.concat(["amsrm"]))},Fne=function(e,r,i,n,s){return s!=="textord"&&x2(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Nne=function(e,r,i){var n=e.mode,s=e.text,a=["mord"],o=n==="math"||n==="text"&&r.font,l=o?r.font:r.fontFamily,u="",c="";if(s.charCodeAt(0)===55349&&([u,c]=Rne(s,n)),u.length>0)return bs(s,u,n,r,a.concat(c));if(l){var d,h;if(l==="boldsymbol"){var f=Fne(s,n,r,a,i);d=f.fontName,h=[f.fontClass]}else o?(d=DL[l].fontName,h=[l]):(d=Rf(l,r.fontWeight,r.fontShape),h=[l,r.fontWeight,r.fontShape]);if(x2(s,d,n).metrics)return bs(s,d,n,r,a.concat(h));if(EL.hasOwnProperty(s)&&d.slice(0,10)==="Typewriter"){for(var g=[],y=0;y<s.length;y++)g.push(bs(s[y],d,n,r,a.concat(h)));return ML(g)}}if(i==="mathord")return bs(s,"Math-Italic",n,r,a.concat(["mathnormal"]));if(i==="textord"){var C=gr[n][s]&&gr[n][s].font;if(C==="ams"){var S=Rf("amsrm",r.fontWeight,r.fontShape);return bs(s,S,n,r,a.concat("amsrm",r.fontWeight,r.fontShape))}else if(C==="main"||!C){var A=Rf("textrm",r.fontWeight,r.fontShape);return bs(s,A,n,r,a.concat(r.fontWeight,r.fontShape))}else{var T=Rf(C,r.fontWeight,r.fontShape);return bs(s,T,n,r,a.concat(T,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},$ne=(t,e)=>{if(pl(t.classes)!==pl(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var i in t.style)if(t.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;for(var n in e.style)if(e.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;return!0},zne=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],i=t[e+1];r instanceof ss&&i instanceof ss&&$ne(r,i)&&(r.text+=i.text,r.height=Math.max(r.height,i.height),r.depth=Math.max(r.depth,i.depth),r.italic=i.italic,t.splice(e+1,1),e--)}return t},e6=function(e){for(var r=0,i=0,n=0,s=0;s<e.children.length;s++){var a=e.children[s];a.height>r&&(r=a.height),a.depth>i&&(i=a.depth),a.maxFontSize>n&&(n=a.maxFontSize)}e.height=r,e.depth=i,e.maxFontSize=n},un=function(e,r,i,n){var s=new kp(e,r,i,n);return e6(s),s},AL=(t,e,r,i)=>new kp(t,e,r,i),Une=function(e,r,i){var n=un([e],[],r);return n.height=Math.max(i||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),n.style.borderBottomWidth=Fe(n.height),n.maxFontSize=1,n},qne=function(e,r,i,n){var s=new Qb(e,r,i,n);return e6(s),s},ML=function(e){var r=new Cp(e);return e6(r),r},jne=function(e,r){return e instanceof Cp?un([],[e],r):e},Vne=function(e){if(e.positionType==="individualShift"){for(var r=e.children,i=[r[0]],n=-r[0].shift-r[0].elem.depth,s=n,a=1;a<r.length;a++){var o=-r[a].shift-s-r[a].elem.depth,l=o-(r[a-1].elem.height+r[a-1].elem.depth);s=s+o,i.push({type:"kern",size:l}),i.push(r[a])}return{children:i,depth:n}}var u;if(e.positionType==="top"){for(var c=e.positionData,d=0;d<e.children.length;d++){var h=e.children[d];c-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}u=c}else if(e.positionType==="bottom")u=-e.positionData;else{var f=e.children[0];if(f.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-f.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-f.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},Hne=function(e,r){for(var{children:i,depth:n}=Vne(e),s=0,a=0;a<i.length;a++){var o=i[a];if(o.type==="elem"){var l=o.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var u=un(["pstrut"],[]);u.style.height=Fe(s);for(var c=[],d=n,h=n,f=n,g=0;g<i.length;g++){var y=i[g];if(y.type==="kern")f+=y.size;else{var C=y.elem,S=y.wrapperClasses||[],A=y.wrapperStyle||{},T=un(S,[u,C],void 0,A);T.style.top=Fe(-s-f-C.depth),y.marginLeft&&(T.style.marginLeft=y.marginLeft),y.marginRight&&(T.style.marginRight=y.marginRight),c.push(T),f+=C.height+C.depth}d=Math.min(d,f),h=Math.max(h,f)}var M=un(["vlist"],c);M.style.height=Fe(h);var D;if(d<0){var B=un([],[]),F=un(["vlist"],[B]);F.style.height=Fe(-d);var V=un(["vlist-s"],[new ss("​")]);D=[un(["vlist-r"],[M,V]),un(["vlist-r"],[F])]}else D=[un(["vlist-r"],[M])];var O=un(["vlist-t"],D);return D.length===2&&O.classes.push("vlist-t2"),O.height=h,O.depth=-d,O},Kne=(t,e)=>{var r=un(["mspace"],[],e),i=Cr(t,e);return r.style.marginRight=Fe(i),r},Rf=function(e,r,i){var n="";switch(e){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=e}var s;return r==="textbf"&&i==="textit"?s="BoldItalic":r==="textbf"?s="Bold":r==="textit"?s="Italic":s="Regular",n+"-"+s},DL={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},LL={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Wne=function(e,r){var[i,n,s]=LL[e],a=new fl(i),o=new to([a],{width:Fe(n),height:Fe(s),style:"width:"+Fe(n),viewBox:"0 0 "+1e3*n+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=AL(["overlay"],[o],r);return l.height=s,l.style.height=Fe(s),l.style.width=Fe(n),l},se={fontMap:DL,makeSymbol:bs,mathsym:One,makeSpan:un,makeSvgSpan:AL,makeLineSpan:Une,makeAnchor:qne,makeFragment:ML,wrapFragment:jne,makeVList:Hne,makeOrd:Nne,makeGlue:Kne,staticSvg:Wne,svgData:LL,tryCombineChars:zne},Sr={number:3,unit:"mu"},$l={number:4,unit:"mu"},Ca={number:5,unit:"mu"},Gne={mord:{mop:Sr,mbin:$l,mrel:Ca,minner:Sr},mop:{mord:Sr,mop:Sr,mrel:Ca,minner:Sr},mbin:{mord:$l,mop:$l,mopen:$l,minner:$l},mrel:{mord:Ca,mop:Ca,mopen:Ca,minner:Ca},mopen:{},mclose:{mop:Sr,mbin:$l,mrel:Ca,minner:Sr},mpunct:{mord:Sr,mop:Sr,mrel:Ca,mopen:Sr,mclose:Sr,mpunct:Sr,minner:Sr},minner:{mord:Sr,mop:Sr,mbin:$l,mrel:Ca,mopen:Sr,mpunct:Sr,minner:Sr}},Xne={mord:{mop:Sr},mop:{mord:Sr,mop:Sr},mbin:{},mrel:{},mopen:{},mclose:{mop:Sr},mpunct:{},minner:{mop:Sr}},BL={},tg={},rg={};function Ke(t){for(var{type:e,names:r,props:i,handler:n,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:n},l=0;l<r.length;++l)BL[r[l]]=o;e&&(s&&(tg[e]=s),a&&(rg[e]=a))}function Uu(t){var{type:e,htmlBuilder:r,mathmlBuilder:i}=t;Ke({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:i})}var ig=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},$r=function(e){return e.type==="ordgroup"?e.body:[e]},ro=se.makeSpan,Yne=["leftmost","mbin","mopen","mrel","mop","mpunct"],Zne=["rightmost","mrel","mclose","mpunct"],Jne={display:pt.DISPLAY,text:pt.TEXT,script:pt.SCRIPT,scriptscript:pt.SCRIPTSCRIPT},Qne={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ai=function(e,r,i,n){n===void 0&&(n=[null,null]);for(var s=[],a=0;a<e.length;a++){var o=Kt(e[a],r);if(o instanceof Cp){var l=o.children;s.push(...l)}else s.push(o)}if(se.tryCombineChars(s),!i)return s;var u=r;if(e.length===1){var c=e[0];c.type==="sizing"?u=r.havingSize(c.size):c.type==="styling"&&(u=r.havingStyle(Jne[c.style]))}var d=ro([n[0]||"leftmost"],[],r),h=ro([n[1]||"rightmost"],[],r),f=i==="root";return e9(s,(g,y)=>{var C=y.classes[0],S=g.classes[0];C==="mbin"&&lt.contains(Zne,S)?y.classes[0]="mord":S==="mbin"&&lt.contains(Yne,C)&&(g.classes[0]="mord")},{node:d},h,f),e9(s,(g,y)=>{var C=C5(y),S=C5(g),A=C&&S?g.hasClass("mtight")?Xne[C][S]:Gne[C][S]:null;if(A)return se.makeGlue(A,u)},{node:d},h,f),s},e9=function t(e,r,i,n,s){n&&e.push(n);for(var a=0;a<e.length;a++){var o=e[a],l=PL(o);if(l){t(l.children,r,i,null,s);continue}var u=!o.hasClass("mspace");if(u){var c=r(o,i.node);c&&(i.insertAfter?i.insertAfter(c):(e.unshift(c),a++))}u?i.node=o:s&&o.hasClass("newline")&&(i.node=ro(["leftmost"])),i.insertAfter=(d=>h=>{e.splice(d+1,0,h),a++})(a)}n&&e.pop()},PL=function(e){return e instanceof Cp||e instanceof Qb||e instanceof kp&&e.hasClass("enclosing")?e:null},ese=function t(e,r){var i=PL(e);if(i){var n=i.children;if(n.length){if(r==="right")return t(n[n.length-1],"right");if(r==="left")return t(n[0],"left")}}return e},C5=function(e,r){return e?(r&&(e=ese(e,r)),Qne[e.classes[0]]||null):null},Yh=function(e,r){var i=["nulldelimiter"].concat(e.baseSizingClasses());return ro(r.concat(i))},Kt=function(e,r,i){if(!e)return ro();if(tg[e.type]){var n=tg[e.type](e,r);if(i&&r.size!==i.size){n=ro(r.sizingClasses(i),[n],r);var s=r.sizeMultiplier/i.sizeMultiplier;n.height*=s,n.depth*=s}return n}else throw new Be("Got group of unknown type: '"+e.type+"'")};function Of(t,e){var r=ro(["base"],t,e),i=ro(["strut"]);return i.style.height=Fe(r.height+r.depth),r.depth&&(i.style.verticalAlign=Fe(-r.depth)),r.children.unshift(i),r}function k5(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var i=ai(t,e,"root"),n;i.length===2&&i[1].hasClass("tag")&&(n=i.pop());for(var s=[],a=[],o=0;o<i.length;o++)if(a.push(i[o]),i[o].hasClass("mbin")||i[o].hasClass("mrel")||i[o].hasClass("allowbreak")){for(var l=!1;o<i.length-1&&i[o+1].hasClass("mspace")&&!i[o+1].hasClass("newline");)o++,a.push(i[o]),i[o].hasClass("nobreak")&&(l=!0);l||(s.push(Of(a,e)),a=[])}else i[o].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(Of(a,e)),a=[]),s.push(i[o]));a.length>0&&s.push(Of(a,e));var u;r?(u=Of(ai(r,e,!0)),u.classes=["tag"],s.push(u)):n&&s.push(n);var c=ro(["katex-html"],s);if(c.setAttribute("aria-hidden","true"),u){var d=u.children[0];d.style.height=Fe(c.height+c.depth),c.depth&&(d.style.verticalAlign=Fe(-c.depth))}return c}function IL(t){return new Cp(t)}class Xn{constructor(e,r,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=i||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=pl(this.classes));for(var i=0;i<this.children.length;i++)e.appendChild(this.children[i].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=lt.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+lt.escape(pl(this.classes))+'"'),e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class wh{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return lt.escape(this.toText())}toText(){return this.text}}class tse{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Fe(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Fe(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Le={MathNode:Xn,TextNode:wh,SpaceNode:tse,newDocumentFragment:IL},as=function(e,r,i){return gr[r][e]&&gr[r][e].replace&&e.charCodeAt(0)!==55349&&!(EL.hasOwnProperty(e)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(e=gr[r][e].replace),new Le.TextNode(e)},t6=function(e){return e.length===1?e[0]:new Le.MathNode("mrow",e)},r6=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var i=r.font;if(!i||i==="mathnormal")return null;var n=e.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var s=e.text;if(lt.contains(["\\imath","\\jmath"],s))return null;gr[n][s]&&gr[n][s].replace&&(s=gr[n][s].replace);var a=se.fontMap[i].fontName;return Jb(s,a,n)?se.fontMap[i].variant:null},xn=function(e,r,i){if(e.length===1){var n=hr(e[0],r);return i&&n instanceof Xn&&n.type==="mo"&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var s=[],a,o=0;o<e.length;o++){var l=hr(e[o],r);if(l instanceof Xn&&a instanceof Xn){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&a.type==="mn"){var u=l.children[0];if(u instanceof wh&&u.text==="."){a.children.push(...l.children);continue}}else if(a.type==="mi"&&a.children.length===1){var c=a.children[0];if(c instanceof wh&&c.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof wh&&d.text.length>0&&(d.text=d.text.slice(0,1)+"̸"+d.text.slice(1),s.pop())}}}s.push(l),a=l}return s},ml=function(e,r,i){return t6(xn(e,r,i))},hr=function(e,r){if(!e)return new Le.MathNode("mrow");if(rg[e.type]){var i=rg[e.type](e,r);return i}else throw new Be("Got group of unknown type: '"+e.type+"'")};function t9(t,e,r,i,n){var s=xn(t,r),a;s.length===1&&s[0]instanceof Xn&&lt.contains(["mrow","mtable"],s[0].type)?a=s[0]:a=new Le.MathNode("mrow",s);var o=new Le.MathNode("annotation",[new Le.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new Le.MathNode("semantics",[a,o]),u=new Le.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&u.setAttribute("display","block");var c=n?"katex":"katex-mathml";return se.makeSpan([c],[u])}var RL=function(e){return new Ra({style:e.displayMode?pt.DISPLAY:pt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},OL=function(e,r){if(r.displayMode){var i=["katex-display"];r.leqno&&i.push("leqno"),r.fleqn&&i.push("fleqn"),e=se.makeSpan(i,[e])}return e},rse=function(e,r,i){var n=RL(i),s;if(i.output==="mathml")return t9(e,r,n,i.displayMode,!0);if(i.output==="html"){var a=k5(e,n);s=se.makeSpan(["katex"],[a])}else{var o=t9(e,r,n,i.displayMode,!1),l=k5(e,n);s=se.makeSpan(["katex"],[o,l])}return OL(s,i)},ise=function(e,r,i){var n=RL(i),s=k5(e,n),a=se.makeSpan(["katex"],[s]);return OL(a,i)},nse={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},sse=function(e){var r=new Le.MathNode("mo",[new Le.TextNode(nse[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},ase={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},ose=function(e){return e.type==="ordgroup"?e.body.length:1},lse=function(e,r){function i(){var o=4e5,l=e.label.slice(1);if(lt.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,c=ose(u.base),d,h,f;if(c>5)l==="widehat"||l==="widecheck"?(d=420,o=2364,f=.42,h=l+"4"):(d=312,o=2340,f=.34,h="tilde4");else{var g=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][g],d=[0,239,300,360,420][g],f=[0,.24,.3,.3,.36,.42][g],h=l+g):(o=[0,600,1033,2339,2340][g],d=[0,260,286,306,312][g],f=[0,.26,.286,.3,.306,.34][g],h="tilde"+g)}var y=new fl(h),C=new to([y],{width:"100%",height:Fe(f),viewBox:"0 0 "+o+" "+d,preserveAspectRatio:"none"});return{span:se.makeSvgSpan([],[C],r),minWidth:0,height:f}}else{var S=[],A=ase[l],[T,M,D]=A,B=D/1e3,F=T.length,V,O;if(F===1){var U=A[3];V=["hide-tail"],O=[U]}else if(F===2)V=["halfarrow-left","halfarrow-right"],O=["xMinYMin","xMaxYMin"];else if(F===3)V=["brace-left","brace-center","brace-right"],O=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+F+" children.");for(var J=0;J<F;J++){var Y=new fl(T[J]),re=new to([Y],{width:"400em",height:Fe(B),viewBox:"0 0 "+o+" "+D,preserveAspectRatio:O[J]+" slice"}),ce=se.makeSvgSpan([V[J]],[re],r);if(F===1)return{span:ce,minWidth:M,height:B};ce.style.height=Fe(B),S.push(ce)}return{span:se.makeSpan(["stretchy"],S,r),minWidth:M,height:B}}}var{span:n,minWidth:s,height:a}=i();return n.height=a,n.style.height=Fe(a),s>0&&(n.style.minWidth=Fe(s)),n},use=function(e,r,i,n,s){var a,o=e.height+e.depth+i+n;if(/fbox|color|angl/.test(r)){if(a=se.makeSpan(["stretchy",r],[],s),r==="fbox"){var l=s.color&&s.getColor();l&&(a.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(r)&&u.push(new w5({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&u.push(new w5({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new to(u,{width:"100%",height:Fe(o)});a=se.makeSvgSpan([],[c],s)}return a.height=o,a.style.height=Fe(o),a},io={encloseSpan:use,mathMLnode:sse,svgSpan:lse};function Lt(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function i6(t){var e=_2(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function _2(t){return t&&(t.type==="atom"||Ine.hasOwnProperty(t.type))?t:null}var n6=(t,e)=>{var r,i,n;t&&t.type==="supsub"?(i=Lt(t.base,"accent"),r=i.base,t.base=r,n=Bne(Kt(t,e)),t.base=i):(i=Lt(t,"accent"),r=i.base);var s=Kt(r,e.havingCrampedStyle()),a=i.isShifty&&lt.isCharacterBox(r),o=0;if(a){var l=lt.getBaseElem(r),u=Kt(l,e.havingCrampedStyle());o=G_(u).skew}var c=i.label==="\\c",d=c?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),h;if(i.isStretchy)h=io.svgSpan(i,e),h=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Fe(2*o)+")",marginLeft:Fe(2*o)}:void 0}]},e);else{var f,g;i.label==="\\vec"?(f=se.staticSvg("vec",e),g=se.svgData.vec[1]):(f=se.makeOrd({mode:i.mode,text:i.label},e,"textord"),f=G_(f),f.italic=0,g=f.width,c&&(d+=f.depth)),h=se.makeSpan(["accent-body"],[f]);var y=i.label==="\\textcircled";y&&(h.classes.push("accent-full"),d=s.height);var C=o;y||(C-=g/2),h.style.left=Fe(C),i.label==="\\textcircled"&&(h.style.top=".2em"),h=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-d},{type:"elem",elem:h}]},e)}var S=se.makeSpan(["mord","accent"],[h],e);return n?(n.children[0]=S,n.height=Math.max(S.height,n.height),n.classes[0]="mord",n):S},FL=(t,e)=>{var r=t.isStretchy?io.mathMLnode(t.label):new Le.MathNode("mo",[as(t.label,t.mode)]),i=new Le.MathNode("mover",[hr(t.base,e),r]);return i.setAttribute("accent","true"),i},cse=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Ke({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=ig(e[0]),i=!cse.test(t.funcName),n=!i||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:i,isShifty:n,base:r}},htmlBuilder:n6,mathmlBuilder:FL});Ke({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],i=t.parser.mode;return i==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:n6,mathmlBuilder:FL});Ke({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0];return{type:"accentUnder",mode:r.mode,label:i,base:n}},htmlBuilder:(t,e)=>{var r=Kt(t.base,e),i=io.svgSpan(t,e),n=t.label==="\\utilde"?.12:0,s=se.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:n},{type:"elem",elem:r}]},e);return se.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var r=io.mathMLnode(t.label),i=new Le.MathNode("munder",[hr(t.base,e),r]);return i.setAttribute("accentunder","true"),i}});var Ff=t=>{var e=new Le.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Ke({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:i,funcName:n}=t;return{type:"xArrow",mode:i.mode,label:n,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,i=e.havingStyle(r.sup()),n=se.wrapFragment(Kt(t.body,i,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";n.classes.push(s+"-arrow-pad");var a;t.below&&(i=e.havingStyle(r.sub()),a=se.wrapFragment(Kt(t.below,i,e),e),a.classes.push(s+"-arrow-pad"));var o=io.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(n.depth>.25||t.label==="\\xleftequilibrium")&&(u-=n.depth);var c;if(a){var d=-e.fontMetrics().axisHeight+a.height+.5*o.height+.111;c=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:a,shift:d}]},e)}else c=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:u},{type:"elem",elem:o,shift:l}]},e);return c.children[0].children[0].children[1].classes.push("svg-align"),se.makeSpan(["mrel","x-arrow"],[c],e)},mathmlBuilder(t,e){var r=io.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(t.body){var n=Ff(hr(t.body,e));if(t.below){var s=Ff(hr(t.below,e));i=new Le.MathNode("munderover",[r,s,n])}else i=new Le.MathNode("mover",[r,n])}else if(t.below){var a=Ff(hr(t.below,e));i=new Le.MathNode("munder",[r,a])}else i=Ff(),i=new Le.MathNode("mover",[r,i]);return i}});var dse=se.makeSpan;function NL(t,e){var r=ai(t.body,e,!0);return dse([t.mclass],r,e)}function $L(t,e){var r,i=xn(t.body,e);return t.mclass==="minner"?r=new Le.MathNode("mpadded",i):t.mclass==="mord"?t.isCharacterBox?(r=i[0],r.type="mi"):r=new Le.MathNode("mi",i):(t.isCharacterBox?(r=i[0],r.type="mo"):r=new Le.MathNode("mo",i),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}Ke({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:i}=t,n=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+i.slice(5),body:$r(n),isCharacterBox:lt.isCharacterBox(n)}},htmlBuilder:NL,mathmlBuilder:$L});var w2=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Ke({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:w2(e[0]),body:$r(e[1]),isCharacterBox:lt.isCharacterBox(e[1])}}});Ke({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:i}=t,n=e[1],s=e[0],a;i!=="\\stackrel"?a=w2(n):a="mrel";var o={type:"op",mode:n.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:$r(n)},l={type:"supsub",mode:s.mode,base:o,sup:i==="\\underset"?null:s,sub:i==="\\underset"?s:null};return{type:"mclass",mode:r.mode,mclass:a,body:[l],isCharacterBox:lt.isCharacterBox(l)}},htmlBuilder:NL,mathmlBuilder:$L});Ke({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:w2(e[0]),body:$r(e[0])}},htmlBuilder(t,e){var r=ai(t.body,e,!0),i=se.makeSpan([t.mclass],r,e);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(t,e){var r=xn(t.body,e),i=new Le.MathNode("mstyle",r);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var hse={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},r9=()=>({type:"styling",body:[],mode:"math",style:"display"}),i9=t=>t.type==="textord"&&t.text==="@",pse=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function fse(t,e,r){var i=hse[t];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(i,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var n=r.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:i,mode:"math",family:"rel"},a=r.callFunction("\\Big",[s],[]),o=r.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[n,a,o]};return r.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function mse(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Be("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var i=[],n=[i],s=0;s<e.length;s++){for(var a=e[s],o=r9(),l=0;l<a.length;l++)if(!i9(a[l]))o.body.push(a[l]);else{i.push(o),l+=1;var u=i6(a[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var d=0;d<2;d++){for(var h=!0,f=l+1;f<a.length;f++){if(pse(a[f],u)){h=!1,l=f;break}if(i9(a[f]))throw new Be("Missing a "+u+" character to complete a CD arrow.",a[f]);c[d].body.push(a[f])}if(h)throw new Be("Missing a "+u+" character to complete a CD arrow.",a[l])}else throw new Be('Expected one of "<>AV=|." after @',a[l]);var g=fse(u,c,t),y={type:"styling",body:[g],mode:"math",style:"display"};i.push(y),o=r9()}s%2===0?i.push(o):i.shift(),i=[],n.push(i)}t.gullet.endGroup(),t.gullet.endGroup();var C=new Array(n[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:n,arraystretch:1,addJot:!0,rowGaps:[null],cols:C,colSeparationType:"CD",hLinesBeforeRow:new Array(n.length+1).fill([])}}Ke({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:i}=t;return{type:"cdlabel",mode:r.mode,side:i.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),i=se.wrapFragment(Kt(t.label,r,e),e);return i.classes.push("cd-label-"+t.side),i.style.bottom=Fe(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(t,e){var r=new Le.MathNode("mrow",[hr(t.label,e)]);return r=new Le.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new Le.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});Ke({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=se.wrapFragment(Kt(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new Le.MathNode("mrow",[hr(t.fragment,e)])}});Ke({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,i=Lt(e[0],"ordgroup"),n=i.body,s="",a=0;a<n.length;a++){var o=Lt(n[a],"textord");s+=o.text}var l=parseInt(s),u;if(isNaN(l))throw new Be("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new Be("\\@char with invalid code point "+s);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:r.mode,text:u}}});var zL=(t,e)=>{var r=ai(t.body,e.withColor(t.color),!1);return se.makeFragment(r)},UL=(t,e)=>{var r=xn(t.body,e.withColor(t.color)),i=new Le.MathNode("mstyle",r);return i.setAttribute("mathcolor",t.color),i};Ke({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,i=Lt(e[0],"color-token").color,n=e[1];return{type:"color",mode:r.mode,color:i,body:$r(n)}},htmlBuilder:zL,mathmlBuilder:UL});Ke({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:i}=t,n=Lt(e[0],"color-token").color;r.gullet.macros.set("\\current@color",n);var s=r.parseExpression(!0,i);return{type:"color",mode:r.mode,color:n,body:s}},htmlBuilder:zL,mathmlBuilder:UL});Ke({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:i}=t,n=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,s=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:s,size:n&&Lt(n,"size").value}},htmlBuilder(t,e){var r=se.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=Fe(Cr(t.size,e)))),r},mathmlBuilder(t,e){var r=new Le.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",Fe(Cr(t.size,e)))),r}});var T5={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},qL=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Be("Expected a control sequence",t);return e},gse=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},jL=(t,e,r,i)=>{var n=t.gullet.macros.get(r.text);n==null&&(r.noexpand=!0,n={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,n,i)};Ke({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var i=e.fetch();if(T5[i.text])return(r==="\\global"||r==="\\\\globallong")&&(i.text=T5[i.text]),Lt(e.parseFunction(),"internal");throw new Be("Invalid token after macro prefix",i)}});Ke({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,i=e.gullet.popToken(),n=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(n))throw new Be("Expected a control sequence",i);for(var s=0,a,o=[[]];e.gullet.future().text!=="{";)if(i=e.gullet.popToken(),i.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),o[s].push("{");break}if(i=e.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new Be('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==s+1)throw new Be('Argument number "'+i.text+'" out of order');s++,o.push([])}else{if(i.text==="EOF")throw new Be("Expected a macro definition");o[s].push(i.text)}var{tokens:l}=e.gullet.consumeArg();return a&&l.unshift(a),(r==="\\edef"||r==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(n,{tokens:l,numArgs:s,delimiters:o},r===T5[r]),{type:"internal",mode:e.mode}}});Ke({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,i=qL(e.gullet.popToken());e.gullet.consumeSpaces();var n=gse(e);return jL(e,i,n,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});Ke({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,i=qL(e.gullet.popToken()),n=e.gullet.popToken(),s=e.gullet.popToken();return jL(e,i,s,r==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(n),{type:"internal",mode:e.mode}}});var nh=function(e,r,i){var n=gr.math[e]&&gr.math[e].replace,s=Jb(n||e,r,i);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return s},s6=function(e,r,i,n){var s=i.havingBaseStyle(r),a=se.makeSpan(n.concat(s.sizingClasses(i)),[e],i),o=s.sizeMultiplier/i.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=s.sizeMultiplier,a},VL=function(e,r,i){var n=r.havingBaseStyle(i),s=(1-r.sizeMultiplier/n.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Fe(s),e.height-=s,e.depth+=s},yse=function(e,r,i,n,s,a){var o=se.makeSymbol(e,"Main-Regular",s,n),l=s6(o,r,n,a);return i&&VL(l,n,r),l},vse=function(e,r,i,n){return se.makeSymbol(e,"Size"+r+"-Regular",i,n)},HL=function(e,r,i,n,s,a){var o=vse(e,r,s,n),l=s6(se.makeSpan(["delimsizing","size"+r],[o],n),pt.TEXT,n,a);return i&&VL(l,n,pt.TEXT),l},o3=function(e,r,i){var n;r==="Size1-Regular"?n="delim-size1":n="delim-size4";var s=se.makeSpan(["delimsizinginner",n],[se.makeSpan([],[se.makeSymbol(e,r,i)])]);return{type:"elem",elem:s}},l3=function(e,r,i){var n=ea["Size4-Regular"][e.charCodeAt(0)]?ea["Size4-Regular"][e.charCodeAt(0)][4]:ea["Size1-Regular"][e.charCodeAt(0)][4],s=new fl("inner",Cne(e,Math.round(1e3*r))),a=new to([s],{width:Fe(n),height:Fe(r),style:"width:"+Fe(n),viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),o=se.makeSvgSpan([],[a],i);return o.height=r,o.style.height=Fe(r),o.style.width=Fe(n),{type:"elem",elem:o}},E5=.008,Nf={type:"kern",size:-1*E5},bse=["|","\\lvert","\\rvert","\\vert"],xse=["\\|","\\lVert","\\rVert","\\Vert"],KL=function(e,r,i,n,s,a){var o,l,u,c,d="",h=0;o=u=c=e,l=null;var f="Size1-Regular";e==="\\uparrow"?u=c="⏐":e==="\\Uparrow"?u=c="‖":e==="\\downarrow"?o=u="⏐":e==="\\Downarrow"?o=u="‖":e==="\\updownarrow"?(o="\\uparrow",u="⏐",c="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="‖",c="\\Downarrow"):lt.contains(bse,e)?(u="∣",d="vert",h=333):lt.contains(xse,e)?(u="∥",d="doublevert",h=556):e==="["||e==="\\lbrack"?(o="⎡",u="⎢",c="⎣",f="Size4-Regular",d="lbrack",h=667):e==="]"||e==="\\rbrack"?(o="⎤",u="⎥",c="⎦",f="Size4-Regular",d="rbrack",h=667):e==="\\lfloor"||e==="⌊"?(u=o="⎢",c="⎣",f="Size4-Regular",d="lfloor",h=667):e==="\\lceil"||e==="⌈"?(o="⎡",u=c="⎢",f="Size4-Regular",d="lceil",h=667):e==="\\rfloor"||e==="⌋"?(u=o="⎥",c="⎦",f="Size4-Regular",d="rfloor",h=667):e==="\\rceil"||e==="⌉"?(o="⎤",u=c="⎥",f="Size4-Regular",d="rceil",h=667):e==="("||e==="\\lparen"?(o="⎛",u="⎜",c="⎝",f="Size4-Regular",d="lparen",h=875):e===")"||e==="\\rparen"?(o="⎞",u="⎟",c="⎠",f="Size4-Regular",d="rparen",h=875):e==="\\{"||e==="\\lbrace"?(o="⎧",l="⎨",c="⎩",u="⎪",f="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="⎫",l="⎬",c="⎭",u="⎪",f="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(o="⎧",c="⎩",u="⎪",f="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(o="⎫",c="⎭",u="⎪",f="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(o="⎧",c="⎭",u="⎪",f="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(o="⎫",c="⎩",u="⎪",f="Size4-Regular");var g=nh(o,f,s),y=g.height+g.depth,C=nh(u,f,s),S=C.height+C.depth,A=nh(c,f,s),T=A.height+A.depth,M=0,D=1;if(l!==null){var B=nh(l,f,s);M=B.height+B.depth,D=2}var F=y+T+M,V=Math.max(0,Math.ceil((r-F)/(D*S))),O=F+V*D*S,U=n.fontMetrics().axisHeight;i&&(U*=n.sizeMultiplier);var J=O/2-U,Y=[];if(d.length>0){var re=O-y-T,ce=Math.round(O*1e3),qe=kne(d,Math.round(re*1e3)),Me=new fl(d,qe),me=(h/1e3).toFixed(3)+"em",be=(ce/1e3).toFixed(3)+"em",ot=new to([Me],{width:me,height:be,viewBox:"0 0 "+h+" "+ce}),vt=se.makeSvgSpan([],[ot],n);vt.height=ce/1e3,vt.style.width=me,vt.style.height=be,Y.push({type:"elem",elem:vt})}else{if(Y.push(o3(c,f,s)),Y.push(Nf),l===null){var $e=O-y-T+2*E5;Y.push(l3(u,$e,n))}else{var Je=(O-y-T-M)/2+2*E5;Y.push(l3(u,Je,n)),Y.push(Nf),Y.push(o3(l,f,s)),Y.push(Nf),Y.push(l3(u,Je,n))}Y.push(Nf),Y.push(o3(o,f,s))}var rt=n.havingBaseStyle(pt.TEXT),Ft=se.makeVList({positionType:"bottom",positionData:J,children:Y},rt);return s6(se.makeSpan(["delimsizing","mult"],[Ft],rt),pt.TEXT,n,a)},u3=80,c3=.08,d3=function(e,r,i,n,s){var a=Sne(e,n,i),o=new fl(e,a),l=new to([o],{width:"400em",height:Fe(r),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return se.makeSvgSpan(["hide-tail"],[l],s)},_se=function(e,r){var i=r.havingBaseSizing(),n=YL("\\surd",e*i.sizeMultiplier,XL,i),s=i.sizeMultiplier,a=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),o,l=0,u=0,c=0,d;return n.type==="small"?(c=1e3+1e3*a+u3,e<1?s=1:e<1.4&&(s=.7),l=(1+a+c3)/s,u=(1+a)/s,o=d3("sqrtMain",l,c,a,r),o.style.minWidth="0.853em",d=.833/s):n.type==="large"?(c=(1e3+u3)*Sh[n.size],u=(Sh[n.size]+a)/s,l=(Sh[n.size]+a+c3)/s,o=d3("sqrtSize"+n.size,l,c,a,r),o.style.minWidth="1.02em",d=1/s):(l=e+a+c3,u=e+a,c=Math.floor(1e3*e+a)+u3,o=d3("sqrtTall",l,c,a,r),o.style.minWidth="0.742em",d=1.056),o.height=u,o.style.height=Fe(l),{span:o,advanceWidth:d,ruleWidth:(r.fontMetrics().sqrtRuleThickness+a)*s}},WL=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],wse=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],GL=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Sh=[0,1.2,1.8,2.4,3],Sse=function(e,r,i,n,s){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),lt.contains(WL,e)||lt.contains(GL,e))return HL(e,r,!1,i,n,s);if(lt.contains(wse,e))return KL(e,Sh[r],!1,i,n,s);throw new Be("Illegal delimiter: '"+e+"'")},Cse=[{type:"small",style:pt.SCRIPTSCRIPT},{type:"small",style:pt.SCRIPT},{type:"small",style:pt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],kse=[{type:"small",style:pt.SCRIPTSCRIPT},{type:"small",style:pt.SCRIPT},{type:"small",style:pt.TEXT},{type:"stack"}],XL=[{type:"small",style:pt.SCRIPTSCRIPT},{type:"small",style:pt.SCRIPT},{type:"small",style:pt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Tse=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},YL=function(e,r,i,n){for(var s=Math.min(2,3-n.style.size),a=s;a<i.length&&i[a].type!=="stack";a++){var o=nh(e,Tse(i[a]),"math"),l=o.height+o.depth;if(i[a].type==="small"){var u=n.havingBaseStyle(i[a].style);l*=u.sizeMultiplier}if(l>r)return i[a]}return i[i.length-1]},ZL=function(e,r,i,n,s,a){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var o;lt.contains(GL,e)?o=Cse:lt.contains(WL,e)?o=XL:o=kse;var l=YL(e,r,o,n);return l.type==="small"?yse(e,l.style,i,n,s,a):l.type==="large"?HL(e,l.size,i,n,s,a):KL(e,r,i,n,s,a)},Ese=function(e,r,i,n,s,a){var o=n.fontMetrics().axisHeight*n.sizeMultiplier,l=901,u=5/n.fontMetrics().ptPerEm,c=Math.max(r-o,i+o),d=Math.max(c/500*l,2*c-u);return ZL(e,d,!0,n,s,a)},Ga={sqrtImage:_se,sizedDelim:Sse,sizeToMaxHeight:Sh,customSizedDelim:ZL,leftRightDelim:Ese},n9={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Ase=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function S2(t,e){var r=_2(t);if(r&&lt.contains(Ase,r.text))return r;throw r?new Be("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new Be("Invalid delimiter type '"+t.type+"'",t)}Ke({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=S2(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:n9[t.funcName].size,mclass:n9[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?se.makeSpan([t.mclass]):Ga.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(as(t.delim,t.mode));var r=new Le.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var i=Fe(Ga.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",i),r.setAttribute("maxsize",i),r}});function s9(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ke({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new Be("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:S2(e[0],t).text,color:r}}});Ke({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=S2(e[0],t),i=t.parser;++i.leftrightDepth;var n=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var s=Lt(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:n,left:r.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{s9(t);for(var r=ai(t.body,e,!0,["mopen","mclose"]),i=0,n=0,s=!1,a=0;a<r.length;a++)r[a].isMiddle?s=!0:(i=Math.max(r[a].height,i),n=Math.max(r[a].depth,n));i*=e.sizeMultiplier,n*=e.sizeMultiplier;var o;if(t.left==="."?o=Yh(e,["mopen"]):o=Ga.leftRightDelim(t.left,i,n,e,t.mode,["mopen"]),r.unshift(o),s)for(var l=1;l<r.length;l++){var u=r[l],c=u.isMiddle;c&&(r[l]=Ga.leftRightDelim(c.delim,i,n,c.options,t.mode,[]))}var d;if(t.right===".")d=Yh(e,["mclose"]);else{var h=t.rightColor?e.withColor(t.rightColor):e;d=Ga.leftRightDelim(t.right,i,n,h,t.mode,["mclose"])}return r.push(d),se.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{s9(t);var r=xn(t.body,e);if(t.left!=="."){var i=new Le.MathNode("mo",[as(t.left,t.mode)]);i.setAttribute("fence","true"),r.unshift(i)}if(t.right!=="."){var n=new Le.MathNode("mo",[as(t.right,t.mode)]);n.setAttribute("fence","true"),t.rightColor&&n.setAttribute("mathcolor",t.rightColor),r.push(n)}return t6(r)}});Ke({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=S2(e[0],t);if(!t.parser.leftrightDepth)throw new Be("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=Yh(e,[]);else{r=Ga.sizedDelim(t.delim,1,e,t.mode,[]);var i={delim:t.delim,options:e};r.isMiddle=i}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?as("|","text"):as(t.delim,t.mode),i=new Le.MathNode("mo",[r]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var a6=(t,e)=>{var r=se.wrapFragment(Kt(t.body,e),e),i=t.label.slice(1),n=e.sizeMultiplier,s,a=0,o=lt.isCharacterBox(t.body);if(i==="sout")s=se.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/n,a=-.5*e.fontMetrics().xHeight;else if(i==="phase"){var l=Cr({number:.6,unit:"pt"},e),u=Cr({number:.35,unit:"ex"},e),c=e.havingBaseSizing();n=n/c.sizeMultiplier;var d=r.height+r.depth+l+u;r.style.paddingLeft=Fe(d/2+l);var h=Math.floor(1e3*d*n),f=_ne(h),g=new to([new fl("phase",f)],{width:"400em",height:Fe(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});s=se.makeSvgSpan(["hide-tail"],[g],e),s.style.height=Fe(d),a=r.depth+l+u}else{/cancel/.test(i)?o||r.classes.push("cancel-pad"):i==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var y=0,C=0,S=0;/box/.test(i)?(S=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),y=e.fontMetrics().fboxsep+(i==="colorbox"?0:S),C=y):i==="angl"?(S=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),y=4*S,C=Math.max(0,.25-r.depth)):(y=o?.2:0,C=y),s=io.encloseSpan(r,i,y,C,e),/fbox|boxed|fcolorbox/.test(i)?(s.style.borderStyle="solid",s.style.borderWidth=Fe(S)):i==="angl"&&S!==.049&&(s.style.borderTopWidth=Fe(S),s.style.borderRightWidth=Fe(S)),a=r.depth+C,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var A;if(t.backgroundColor)A=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:r,shift:0}]},e);else{var T=/cancel|phase/.test(i)?["svg-align"]:[];A=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:T}]},e)}return/cancel/.test(i)&&(A.height=r.height,A.depth=r.depth),/cancel/.test(i)&&!o?se.makeSpan(["mord","cancel-lap"],[A],e):se.makeSpan(["mord"],[A],e)},o6=(t,e)=>{var r=0,i=new Le.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[hr(t.body,e)]);switch(t.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*r+"pt"),i.setAttribute("height","+"+2*r+"pt"),i.setAttribute("lspace",r+"pt"),i.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var n=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);i.setAttribute("style","border: "+n+"em solid "+String(t.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&i.setAttribute("mathbackground",t.backgroundColor),i};Ke({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:i,funcName:n}=t,s=Lt(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:i.mode,label:n,backgroundColor:s,body:a}},htmlBuilder:a6,mathmlBuilder:o6});Ke({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:i,funcName:n}=t,s=Lt(e[0],"color-token").color,a=Lt(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:i.mode,label:n,backgroundColor:a,borderColor:s,body:o}},htmlBuilder:a6,mathmlBuilder:o6});Ke({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});Ke({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:i}=t,n=e[0];return{type:"enclose",mode:r.mode,label:i,body:n}},htmlBuilder:a6,mathmlBuilder:o6});Ke({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var JL={};function ma(t){for(var{type:e,names:r,props:i,handler:n,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:n},l=0;l<r.length;++l)JL[r[l]]=o;s&&(tg[e]=s),a&&(rg[e]=a)}var QL={};function I(t,e){QL[t]=e}function a9(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var C2=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Be("{"+t.envName+"} can be used only in display mode.")};function l6(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Cl(t,e,r){var{hskipBeforeAndAfter:i,addJot:n,cols:s,arraystretch:a,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:d,leqno:h}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var f=t.gullet.expandMacroAsText("\\arraystretch");if(f==null)a=1;else if(a=parseFloat(f),!a||a<0)throw new Be("Invalid \\arraystretch: "+f)}t.gullet.beginGroup();var g=[],y=[g],C=[],S=[],A=l!=null?[]:void 0;function T(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function M(){A&&(t.gullet.macros.get("\\df@tag")?(A.push(t.subparse([new es("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):A.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(T(),S.push(a9(t));;){var D=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),D={type:"ordgroup",mode:t.mode,body:D},r&&(D={type:"styling",mode:t.mode,style:r,body:[D]}),g.push(D);var B=t.fetch().text;if(B==="&"){if(d&&g.length===d){if(u||o)throw new Be("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(B==="\\end"){M(),g.length===1&&D.type==="styling"&&D.body[0].body.length===0&&(y.length>1||!c)&&y.pop(),S.length<y.length+1&&S.push([]);break}else if(B==="\\\\"){t.consume();var F=void 0;t.gullet.future().text!==" "&&(F=t.parseSizeGroup(!0)),C.push(F?F.value:null),M(),S.push(a9(t)),g=[],y.push(g),T()}else throw new Be("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:n,arraystretch:a,body:y,cols:s,rowGaps:C,hskipBeforeAndAfter:i,hLinesBeforeRow:S,colSeparationType:o,tags:A,leqno:h}}function u6(t){return t.slice(0,1)==="d"?"display":"text"}var ga=function(e,r){var i,n,s=e.body.length,a=e.hLinesBeforeRow,o=0,l=new Array(s),u=[],c=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),d=1/r.fontMetrics().ptPerEm,h=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var f=r.havingStyle(pt.SCRIPT).sizeMultiplier;h=.2778*(f/r.sizeMultiplier)}var g=e.colSeparationType==="CD"?Cr({number:3,unit:"ex"},r):12*d,y=3*d,C=e.arraystretch*g,S=.7*C,A=.3*C,T=0;function M(xe){for(var Re=0;Re<xe.length;++Re)Re>0&&(T+=.25),u.push({pos:T,isDashed:xe[Re]})}for(M(a[0]),i=0;i<e.body.length;++i){var D=e.body[i],B=S,F=A;o<D.length&&(o=D.length);var V=new Array(D.length);for(n=0;n<D.length;++n){var O=Kt(D[n],r);F<O.depth&&(F=O.depth),B<O.height&&(B=O.height),V[n]=O}var U=e.rowGaps[i],J=0;U&&(J=Cr(U,r),J>0&&(J+=A,F<J&&(F=J),J=0)),e.addJot&&(F+=y),V.height=B,V.depth=F,T+=B,V.pos=T,T+=F+J,l[i]=V,M(a[i+1])}var Y=T/2+r.fontMetrics().axisHeight,re=e.cols||[],ce=[],qe,Me,me=[];if(e.tags&&e.tags.some(xe=>xe))for(i=0;i<s;++i){var be=l[i],ot=be.pos-Y,vt=e.tags[i],$e=void 0;vt===!0?$e=se.makeSpan(["eqn-num"],[],r):vt===!1?$e=se.makeSpan([],[],r):$e=se.makeSpan([],ai(vt,r,!0),r),$e.depth=be.depth,$e.height=be.height,me.push({type:"elem",elem:$e,shift:ot})}for(n=0,Me=0;n<o||Me<re.length;++n,++Me){for(var Je=re[Me]||{},rt=!0;Je.type==="separator";){if(rt||(qe=se.makeSpan(["arraycolsep"],[]),qe.style.width=Fe(r.fontMetrics().doubleRuleSep),ce.push(qe)),Je.separator==="|"||Je.separator===":"){var Ft=Je.separator==="|"?"solid":"dashed",it=se.makeSpan(["vertical-separator"],[],r);it.style.height=Fe(T),it.style.borderRightWidth=Fe(c),it.style.borderRightStyle=Ft,it.style.margin="0 "+Fe(-c/2);var It=T-Y;It&&(it.style.verticalAlign=Fe(-It)),ce.push(it)}else throw new Be("Invalid separator type: "+Je.separator);Me++,Je=re[Me]||{},rt=!1}if(!(n>=o)){var oe=void 0;(n>0||e.hskipBeforeAndAfter)&&(oe=lt.deflt(Je.pregap,h),oe!==0&&(qe=se.makeSpan(["arraycolsep"],[]),qe.style.width=Fe(oe),ce.push(qe)));var Te=[];for(i=0;i<s;++i){var Ee=l[i],Ie=Ee[n];if(Ie){var wt=Ee.pos-Y;Ie.depth=Ee.depth,Ie.height=Ee.height,Te.push({type:"elem",elem:Ie,shift:wt})}}Te=se.makeVList({positionType:"individualShift",children:Te},r),Te=se.makeSpan(["col-align-"+(Je.align||"c")],[Te]),ce.push(Te),(n<o-1||e.hskipBeforeAndAfter)&&(oe=lt.deflt(Je.postgap,h),oe!==0&&(qe=se.makeSpan(["arraycolsep"],[]),qe.style.width=Fe(oe),ce.push(qe)))}}if(l=se.makeSpan(["mtable"],ce),u.length>0){for(var St=se.makeLineSpan("hline",r,c),N=se.makeLineSpan("hdashline",r,c),z=[{type:"elem",elem:l,shift:0}];u.length>0;){var ie=u.pop(),ve=ie.pos-Y;ie.isDashed?z.push({type:"elem",elem:N,shift:ve}):z.push({type:"elem",elem:St,shift:ve})}l=se.makeVList({positionType:"individualShift",children:z},r)}if(me.length===0)return se.makeSpan(["mord"],[l],r);var pe=se.makeVList({positionType:"individualShift",children:me},r);return pe=se.makeSpan(["tag"],[pe],r),se.makeFragment([l,pe])},Mse={c:"center ",l:"left ",r:"right "},ya=function(e,r){for(var i=[],n=new Le.MathNode("mtd",[],["mtr-glue"]),s=new Le.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var o=e.body[a],l=[],u=0;u<o.length;u++)l.push(new Le.MathNode("mtd",[hr(o[u],r)]));e.tags&&e.tags[a]&&(l.unshift(n),l.push(n),e.leqno?l.unshift(s):l.push(s)),i.push(new Le.MathNode("mtr",l))}var c=new Le.MathNode("mtable",i),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",Fe(d));var h="",f="";if(e.cols&&e.cols.length>0){var g=e.cols,y="",C=!1,S=0,A=g.length;g[0].type==="separator"&&(h+="top ",S=1),g[g.length-1].type==="separator"&&(h+="bottom ",A-=1);for(var T=S;T<A;T++)g[T].type==="align"?(f+=Mse[g[T].align],C&&(y+="none "),C=!0):g[T].type==="separator"&&C&&(y+=g[T].separator==="|"?"solid ":"dashed ",C=!1);c.setAttribute("columnalign",f.trim()),/[sd]/.test(y)&&c.setAttribute("columnlines",y.trim())}if(e.colSeparationType==="align"){for(var M=e.cols||[],D="",B=1;B<M.length;B++)D+=B%2?"0em ":"1em ";c.setAttribute("columnspacing",D.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var F="",V=e.hLinesBeforeRow;h+=V[0].length>0?"left ":"",h+=V[V.length-1].length>0?"right ":"";for(var O=1;O<V.length-1;O++)F+=V[O].length===0?"none ":V[O][0]?"dashed ":"solid ";return/[sd]/.test(F)&&c.setAttribute("rowlines",F.trim()),h!==""&&(c=new Le.MathNode("menclose",[c]),c.setAttribute("notation",h.trim())),e.arraystretch&&e.arraystretch<1&&(c=new Le.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},eB=function(e,r){e.envName.indexOf("ed")===-1&&C2(e);var i=[],n=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",a=Cl(e.parser,{cols:i,addJot:!0,autoTag:s?void 0:l6(e.envName),emptySingleRow:!0,colSeparationType:n,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var c="",d=0;d<r[0].body.length;d++){var h=Lt(r[0].body[d],"textord");c+=h.text}o=Number(c),l=o*2}var f=!l;a.body.forEach(function(S){for(var A=1;A<S.length;A+=2){var T=Lt(S[A],"styling"),M=Lt(T.body[0],"ordgroup");M.body.unshift(u)}if(f)l<S.length&&(l=S.length);else{var D=S.length/2;if(o<D)throw new Be("Too many math in a row: "+("expected "+o+", but got "+D),S[0])}});for(var g=0;g<l;++g){var y="r",C=0;g%2===1?y="l":g>0&&f&&(C=1),i[g]={type:"align",align:y,pregap:C,postgap:0}}return a.colSeparationType=f?"align":"alignat",a};ma({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=_2(e[0]),i=r?[e[0]]:Lt(e[0],"ordgroup").body,n=i.map(function(a){var o=i6(a),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new Be("Unknown column alignment: "+l,a)}),s={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return Cl(t.parser,s,u6(t.envName))},htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var n=t.parser;if(n.consumeSpaces(),n.fetch().text==="["){if(n.consume(),n.consumeSpaces(),r=n.fetch().text,"lcr".indexOf(r)===-1)throw new Be("Expected l or c or r",n.nextToken);n.consume(),n.consumeSpaces(),n.expect("]"),n.consume(),i.cols=[{type:"align",align:r}]}}var s=Cl(t.parser,i,u6(t.envName)),a=Math.max(0,...s.body.map(o=>o.length));return s.cols=new Array(a).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=Cl(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=_2(e[0]),i=r?[e[0]]:Lt(e[0],"ordgroup").body,n=i.map(function(a){var o=i6(a),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new Be("Unknown column alignment: "+l,a)});if(n.length>1)throw new Be("{subarray} can contain only one column");var s={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Cl(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new Be("{subarray} can contain only one column");return s},htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Cl(t.parser,e,u6(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:eB,htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){lt.contains(["gather","gather*"],t.envName)&&C2(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:l6(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Cl(t.parser,e,"display")},htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:eB,htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){C2(t);var e={autoTag:l6(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Cl(t.parser,e,"display")},htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["CD"],props:{numArgs:0},handler(t){return C2(t),mse(t.parser)},htmlBuilder:ga,mathmlBuilder:ya});I("\\nonumber","\\gdef\\@eqnsw{0}");I("\\notag","\\nonumber");Ke({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Be(t.funcName+" valid only within array environment")}});var o9=JL;Ke({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:i}=t,n=e[0];if(n.type!=="ordgroup")throw new Be("Invalid environment name",n);for(var s="",a=0;a<n.body.length;++a)s+=Lt(n.body[a],"textord").text;if(i==="\\begin"){if(!o9.hasOwnProperty(s))throw new Be("No such environment: "+s,n);var o=o9[s],{args:l,optArgs:u}=r.parseArguments("\\begin{"+s+"}",o),c={mode:r.mode,envName:s,parser:r},d=o.handler(c,l,u);r.expect("\\end",!1);var h=r.nextToken,f=Lt(r.parseFunction(),"environment");if(f.name!==s)throw new Be("Mismatch: \\begin{"+s+"} matched by \\end{"+f.name+"}",h);return d}return{type:"environment",mode:r.mode,name:s,nameGroup:n}}});var tB=(t,e)=>{var r=t.font,i=e.withFont(r);return Kt(t.body,i)},rB=(t,e)=>{var r=t.font,i=e.withFont(r);return hr(t.body,i)},l9={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ke({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=ig(e[0]),s=i;return s in l9&&(s=l9[s]),{type:"font",mode:r.mode,font:s.slice(1),body:n}},htmlBuilder:tB,mathmlBuilder:rB});Ke({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,i=e[0],n=lt.isCharacterBox(i);return{type:"mclass",mode:r.mode,mclass:w2(i),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:i}],isCharacterBox:n}}});Ke({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:i,breakOnTokenText:n}=t,{mode:s}=r,a=r.parseExpression(!0,n),o="math"+i.slice(1);return{type:"font",mode:s,font:o,body:{type:"ordgroup",mode:r.mode,body:a}}},htmlBuilder:tB,mathmlBuilder:rB});var iB=(t,e)=>{var r=e;return t==="display"?r=r.id>=pt.SCRIPT.id?r.text():pt.DISPLAY:t==="text"&&r.size===pt.DISPLAY.size?r=pt.TEXT:t==="script"?r=pt.SCRIPT:t==="scriptscript"&&(r=pt.SCRIPTSCRIPT),r},c6=(t,e)=>{var r=iB(t.size,e.style),i=r.fracNum(),n=r.fracDen(),s;s=e.havingStyle(i);var a=Kt(t.numer,s,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<l?l:a.depth}s=e.havingStyle(n);var u=Kt(t.denom,s,e),c,d,h;t.hasBarLine?(t.barSize?(d=Cr(t.barSize,e),c=se.makeLineSpan("frac-line",e,d)):c=se.makeLineSpan("frac-line",e),d=c.height,h=c.height):(c=null,d=0,h=e.fontMetrics().defaultRuleThickness);var f,g,y;r.size===pt.DISPLAY.size||t.size==="display"?(f=e.fontMetrics().num1,d>0?g=3*h:g=7*h,y=e.fontMetrics().denom1):(d>0?(f=e.fontMetrics().num2,g=h):(f=e.fontMetrics().num3,g=3*h),y=e.fontMetrics().denom2);var C;if(c){var A=e.fontMetrics().axisHeight;f-a.depth-(A+.5*d)<g&&(f+=g-(f-a.depth-(A+.5*d))),A-.5*d-(u.height-y)<g&&(y+=g-(A-.5*d-(u.height-y)));var T=-(A-.5*d);C=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:c,shift:T},{type:"elem",elem:a,shift:-f}]},e)}else{var S=f-a.depth-(u.height-y);S<g&&(f+=.5*(g-S),y+=.5*(g-S)),C=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:a,shift:-f}]},e)}s=e.havingStyle(r),C.height*=s.sizeMultiplier/e.sizeMultiplier,C.depth*=s.sizeMultiplier/e.sizeMultiplier;var M;r.size===pt.DISPLAY.size?M=e.fontMetrics().delim1:r.size===pt.SCRIPTSCRIPT.size?M=e.havingStyle(pt.SCRIPT).fontMetrics().delim2:M=e.fontMetrics().delim2;var D,B;return t.leftDelim==null?D=Yh(e,["mopen"]):D=Ga.customSizedDelim(t.leftDelim,M,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?B=se.makeSpan([]):t.rightDelim==null?B=Yh(e,["mclose"]):B=Ga.customSizedDelim(t.rightDelim,M,!0,e.havingStyle(r),t.mode,["mclose"]),se.makeSpan(["mord"].concat(s.sizingClasses(e)),[D,se.makeSpan(["mfrac"],[C]),B],e)},d6=(t,e)=>{var r=new Le.MathNode("mfrac",[hr(t.numer,e),hr(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var i=Cr(t.barSize,e);r.setAttribute("linethickness",Fe(i))}var n=iB(t.size,e.style);if(n.size!==e.style.size){r=new Le.MathNode("mstyle",[r]);var s=n.size===pt.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",s),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var o=new Le.MathNode("mo",[new Le.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(r),t.rightDelim!=null){var l=new Le.MathNode("mo",[new Le.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return t6(a)}return r};Ke({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0],s=e[1],a,o=null,l=null,u="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",l=")";break;case"\\\\bracefrac":a=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:n,denom:s,hasBarLine:a,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:c6,mathmlBuilder:d6});Ke({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0],s=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:n,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Ke({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:i}=t,n;switch(r){case"\\over":n="\\frac";break;case"\\choose":n="\\binom";break;case"\\atop":n="\\\\atopfrac";break;case"\\brace":n="\\\\bracefrac";break;case"\\brack":n="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:n,token:i}}});var u9=["display","text","script","scriptscript"],c9=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};Ke({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,i=e[4],n=e[5],s=ig(e[0]),a=s.type==="atom"&&s.family==="open"?c9(s.text):null,o=ig(e[1]),l=o.type==="atom"&&o.family==="close"?c9(o.text):null,u=Lt(e[2],"size"),c,d=null;u.isBlank?c=!0:(d=u.value,c=d.number>0);var h="auto",f=e[3];if(f.type==="ordgroup"){if(f.body.length>0){var g=Lt(f.body[0],"textord");h=u9[Number(g.text)]}}else f=Lt(f,"textord"),h=u9[Number(f.text)];return{type:"genfrac",mode:r.mode,numer:i,denom:n,continued:!1,hasBarLine:c,barSize:d,leftDelim:a,rightDelim:l,size:h}},htmlBuilder:c6,mathmlBuilder:d6});Ke({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:i,token:n}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Lt(e[0],"size").value,token:n}}});Ke({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0],s=ane(Lt(e[1],"infix").size),a=e[2],o=s.number>0;return{type:"genfrac",mode:r.mode,numer:n,denom:a,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:c6,mathmlBuilder:d6});var nB=(t,e)=>{var r=e.style,i,n;t.type==="supsub"?(i=t.sup?Kt(t.sup,e.havingStyle(r.sup()),e):Kt(t.sub,e.havingStyle(r.sub()),e),n=Lt(t.base,"horizBrace")):n=Lt(t,"horizBrace");var s=Kt(n.base,e.havingBaseStyle(pt.DISPLAY)),a=io.svgSpan(n,e),o;if(n.isOver?(o=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=se.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),i){var l=se.makeSpan(["mord",n.isOver?"mover":"munder"],[o],e);n.isOver?o=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:i}]},e):o=se.makeVList({positionType:"bottom",positionData:l.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return se.makeSpan(["mord",n.isOver?"mover":"munder"],[o],e)},Dse=(t,e)=>{var r=io.mathMLnode(t.label);return new Le.MathNode(t.isOver?"mover":"munder",[hr(t.base,e),r])};Ke({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:i}=t;return{type:"horizBrace",mode:r.mode,label:i,isOver:/^\\over/.test(i),base:e[0]}},htmlBuilder:nB,mathmlBuilder:Dse});Ke({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=e[1],n=Lt(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:n})?{type:"href",mode:r.mode,href:n,body:$r(i)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=ai(t.body,e,!1);return se.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=ml(t.body,e);return r instanceof Xn||(r=new Xn("mrow",[r])),r.setAttribute("href",t.href),r}});Ke({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=Lt(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:i}))return r.formatUnsupportedCmd("\\url");for(var n=[],s=0;s<i.length;s++){var a=i[s];a==="~"&&(a="\\textasciitilde"),n.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:r.mode,font:"\\texttt",body:n};return{type:"href",mode:r.mode,href:i,body:$r(o)}}});Ke({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:$r(e[0])}},htmlBuilder(t,e){var r=ai(t.body,e,!1);return se.makeFragment(r)},mathmlBuilder(t,e){return new Le.MathNode("mrow",xn(t.body,e))}});Ke({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:i,token:n}=t,s=Lt(e[0],"raw").string,a=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(i){case"\\htmlClass":l.class=s,o={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,o={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,o={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var u=s.split(","),c=0;c<u.length;c++){var d=u[c].split("=");if(d.length!==2)throw new Be("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(o)?{type:"html",mode:r.mode,attributes:l,body:$r(a)}:r.formatUnsupportedCmd(i)},htmlBuilder:(t,e)=>{var r=ai(t.body,e,!1),i=["enclosing"];t.attributes.class&&i.push(...t.attributes.class.trim().split(/\s+/));var n=se.makeSpan(i,r,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&n.setAttribute(s,t.attributes[s]);return n},mathmlBuilder:(t,e)=>ml(t.body,e)});Ke({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:$r(e[0]),mathml:$r(e[1])}},htmlBuilder:(t,e)=>{var r=ai(t.html,e,!1);return se.makeFragment(r)},mathmlBuilder:(t,e)=>ml(t.mathml,e)});var h3=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new Be("Invalid size: '"+e+"' in \\includegraphics");var i={number:+(r[1]+r[2]),unit:r[3]};if(!SL(i))throw new Be("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};Ke({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:i}=t,n={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(r[0])for(var l=Lt(r[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var d=u[c].split("=");if(d.length===2){var h=d[1].trim();switch(d[0].trim()){case"alt":o=h;break;case"width":n=h3(h);break;case"height":s=h3(h);break;case"totalheight":a=h3(h);break;default:throw new Be("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var f=Lt(e[0],"url").url;return o===""&&(o=f,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:i.mode,alt:o,width:n,height:s,totalheight:a,src:f}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=Cr(t.height,e),i=0;t.totalheight.number>0&&(i=Cr(t.totalheight,e)-r);var n=0;t.width.number>0&&(n=Cr(t.width,e));var s={height:Fe(r+i)};n>0&&(s.width=Fe(n)),i>0&&(s.verticalAlign=Fe(-i));var a=new Dne(t.src,t.alt,s);return a.height=r,a.depth=i,a},mathmlBuilder:(t,e)=>{var r=new Le.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var i=Cr(t.height,e),n=0;if(t.totalheight.number>0&&(n=Cr(t.totalheight,e)-i,r.setAttribute("valign",Fe(-n))),r.setAttribute("height",Fe(i+n)),t.width.number>0){var s=Cr(t.width,e);r.setAttribute("width",Fe(s))}return r.setAttribute("src",t.src),r}});Ke({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:i}=t,n=Lt(e[0],"size");if(r.settings.strict){var s=i[1]==="m",a=n.value.unit==="mu";s?(a||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+n.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):a&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:n.value}},htmlBuilder(t,e){return se.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=Cr(t.dimension,e);return new Le.SpaceNode(r)}});Ke({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0];return{type:"lap",mode:r.mode,alignment:i.slice(5),body:n}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=se.makeSpan([],[Kt(t.body,e)]),r=se.makeSpan(["inner"],[r],e)):r=se.makeSpan(["inner"],[Kt(t.body,e)]);var i=se.makeSpan(["fix"],[]),n=se.makeSpan([t.alignment],[r,i],e),s=se.makeSpan(["strut"]);return s.style.height=Fe(n.height+n.depth),n.depth&&(s.style.verticalAlign=Fe(-n.depth)),n.children.unshift(s),n=se.makeSpan(["thinbox"],[n],e),se.makeSpan(["mord","vbox"],[n],e)},mathmlBuilder:(t,e)=>{var r=new Le.MathNode("mpadded",[hr(t.body,e)]);if(t.alignment!=="rlap"){var i=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",i+"width")}return r.setAttribute("width","0px"),r}});Ke({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:i}=t,n=i.mode;i.switchMode("math");var s=r==="\\("?"\\)":"$",a=i.parseExpression(!1,s);return i.expect(s),i.switchMode(n),{type:"styling",mode:i.mode,style:"text",body:a}}});Ke({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Be("Mismatched "+t.funcName)}});var d9=(t,e)=>{switch(e.style.size){case pt.DISPLAY.size:return t.display;case pt.TEXT.size:return t.text;case pt.SCRIPT.size:return t.script;case pt.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Ke({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:$r(e[0]),text:$r(e[1]),script:$r(e[2]),scriptscript:$r(e[3])}},htmlBuilder:(t,e)=>{var r=d9(t,e),i=ai(r,e,!1);return se.makeFragment(i)},mathmlBuilder:(t,e)=>{var r=d9(t,e);return ml(r,e)}});var sB=(t,e,r,i,n,s,a)=>{t=se.makeSpan([],[t]);var o=r&&lt.isCharacterBox(r),l,u;if(e){var c=Kt(e,i.havingStyle(n.sup()),i);u={elem:c,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-c.depth)}}if(r){var d=Kt(r,i.havingStyle(n.sub()),i);l={elem:d,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-d.height)}}var h;if(u&&l){var f=i.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+a;h=se.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Fe(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Fe(s)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(l){var g=t.height-a;h=se.makeVList({positionType:"top",positionData:g,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Fe(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},i)}else if(u){var y=t.depth+a;h=se.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Fe(s)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return t;var C=[h];if(l&&s!==0&&!o){var S=se.makeSpan(["mspace"],[],i);S.style.marginRight=Fe(s),C.unshift(S)}return se.makeSpan(["mop","op-limits"],C,i)},aB=["\\smallint"],G0=(t,e)=>{var r,i,n=!1,s;t.type==="supsub"?(r=t.sup,i=t.sub,s=Lt(t.base,"op"),n=!0):s=Lt(t,"op");var a=e.style,o=!1;a.size===pt.DISPLAY.size&&s.symbol&&!lt.contains(aB,s.name)&&(o=!0);var l;if(s.symbol){var u=o?"Size2-Regular":"Size1-Regular",c="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(c=s.name.slice(1),s.name=c==="oiint"?"\\iint":"\\iiint"),l=se.makeSymbol(s.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),c.length>0){var d=l.italic,h=se.staticSvg(c+"Size"+(o?"2":"1"),e);l=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:h,shift:o?.08:0}]},e),s.name="\\"+c,l.classes.unshift("mop"),l.italic=d}}else if(s.body){var f=ai(s.body,e,!0);f.length===1&&f[0]instanceof ss?(l=f[0],l.classes[0]="mop"):l=se.makeSpan(["mop"],f,e)}else{for(var g=[],y=1;y<s.name.length;y++)g.push(se.mathsym(s.name[y],s.mode,e));l=se.makeSpan(["mop"],g,e)}var C=0,S=0;return(l instanceof ss||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(C=(l.height-l.depth)/2-e.fontMetrics().axisHeight,S=l.italic),n?sB(l,r,i,e,a,S,C):(C&&(l.style.position="relative",l.style.top=Fe(C)),l)},Tp=(t,e)=>{var r;if(t.symbol)r=new Xn("mo",[as(t.name,t.mode)]),lt.contains(aB,t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new Xn("mo",xn(t.body,e));else{r=new Xn("mi",[new wh(t.name.slice(1))]);var i=new Xn("mo",[as("⁡","text")]);t.parentIsSupSub?r=new Xn("mrow",[r,i]):r=IL([r,i])}return r},Lse={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Ke({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=i;return n.length===1&&(n=Lse[n]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:G0,mathmlBuilder:Tp});Ke({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,i=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:$r(i)}},htmlBuilder:G0,mathmlBuilder:Tp});var Bse={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Ke({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:G0,mathmlBuilder:Tp});Ke({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:G0,mathmlBuilder:Tp});Ke({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t,i=r;return i.length===1&&(i=Bse[i]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:G0,mathmlBuilder:Tp});var oB=(t,e)=>{var r,i,n=!1,s;t.type==="supsub"?(r=t.sup,i=t.sub,s=Lt(t.base,"operatorname"),n=!0):s=Lt(t,"operatorname");var a;if(s.body.length>0){for(var o=s.body.map(d=>{var h=d.text;return typeof h=="string"?{type:"textord",mode:d.mode,text:h}:d}),l=ai(o,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof ss&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=se.makeSpan(["mop"],l,e)}else a=se.makeSpan(["mop"],[],e);return n?sB(a,r,i,e,e.style,0,0):a},Pse=(t,e)=>{for(var r=xn(t.body,e.withFont("mathrm")),i=!0,n=0;n<r.length;n++){var s=r[n];if(!(s instanceof Le.SpaceNode))if(s instanceof Le.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof Le.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var o=r.map(c=>c.toText()).join("");r=[new Le.TextNode(o)]}var l=new Le.MathNode("mi",r);l.setAttribute("mathvariant","normal");var u=new Le.MathNode("mo",[as("⁡","text")]);return t.parentIsSupSub?new Le.MathNode("mrow",[l,u]):Le.newDocumentFragment([l,u])};Ke({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:i}=t,n=e[0];return{type:"operatorname",mode:r.mode,body:$r(n),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:oB,mathmlBuilder:Pse});I("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Uu({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?se.makeFragment(ai(t.body,e,!1)):se.makeSpan(["mord"],ai(t.body,e,!0),e)},mathmlBuilder(t,e){return ml(t.body,e,!0)}});Ke({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,i=e[0];return{type:"overline",mode:r.mode,body:i}},htmlBuilder(t,e){var r=Kt(t.body,e.havingCrampedStyle()),i=se.makeLineSpan("overline-line",e),n=e.fontMetrics().defaultRuleThickness,s=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*n},{type:"elem",elem:i},{type:"kern",size:n}]},e);return se.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var r=new Le.MathNode("mo",[new Le.TextNode("‾")]);r.setAttribute("stretchy","true");var i=new Le.MathNode("mover",[hr(t.body,e),r]);return i.setAttribute("accent","true"),i}});Ke({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=e[0];return{type:"phantom",mode:r.mode,body:$r(i)}},htmlBuilder:(t,e)=>{var r=ai(t.body,e.withPhantom(),!1);return se.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=xn(t.body,e);return new Le.MathNode("mphantom",r)}});Ke({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=e[0];return{type:"hphantom",mode:r.mode,body:i}},htmlBuilder:(t,e)=>{var r=se.makeSpan([],[Kt(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var i=0;i<r.children.length;i++)r.children[i].height=0,r.children[i].depth=0;return r=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),se.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=xn($r(t.body),e),i=new Le.MathNode("mphantom",r),n=new Le.MathNode("mpadded",[i]);return n.setAttribute("height","0px"),n.setAttribute("depth","0px"),n}});Ke({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=e[0];return{type:"vphantom",mode:r.mode,body:i}},htmlBuilder:(t,e)=>{var r=se.makeSpan(["inner"],[Kt(t.body,e.withPhantom())]),i=se.makeSpan(["fix"],[]);return se.makeSpan(["mord","rlap"],[r,i],e)},mathmlBuilder:(t,e)=>{var r=xn($r(t.body),e),i=new Le.MathNode("mphantom",r),n=new Le.MathNode("mpadded",[i]);return n.setAttribute("width","0px"),n}});Ke({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,i=Lt(e[0],"size").value,n=e[1];return{type:"raisebox",mode:r.mode,dy:i,body:n}},htmlBuilder(t,e){var r=Kt(t.body,e),i=Cr(t.dy,e);return se.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new Le.MathNode("mpadded",[hr(t.body,e)]),i=t.dy.number+t.dy.unit;return r.setAttribute("voffset",i),r}});Ke({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Ke({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,r){var{parser:i}=t,n=r[0],s=Lt(e[0],"size"),a=Lt(e[1],"size");return{type:"rule",mode:i.mode,shift:n&&Lt(n,"size").value,width:s.value,height:a.value}},htmlBuilder(t,e){var r=se.makeSpan(["mord","rule"],[],e),i=Cr(t.width,e),n=Cr(t.height,e),s=t.shift?Cr(t.shift,e):0;return r.style.borderRightWidth=Fe(i),r.style.borderTopWidth=Fe(n),r.style.bottom=Fe(s),r.width=i,r.height=n+s,r.depth=-s,r.maxFontSize=n*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=Cr(t.width,e),i=Cr(t.height,e),n=t.shift?Cr(t.shift,e):0,s=e.color&&e.getColor()||"black",a=new Le.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",Fe(r)),a.setAttribute("height",Fe(i));var o=new Le.MathNode("mpadded",[a]);return n>=0?o.setAttribute("height",Fe(n)):(o.setAttribute("height",Fe(n)),o.setAttribute("depth",Fe(-n))),o.setAttribute("voffset",Fe(n)),o}});function lB(t,e,r){for(var i=ai(t,e,!1),n=e.sizeMultiplier/r.sizeMultiplier,s=0;s<i.length;s++){var a=i[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(i[s].classes,e.sizingClasses(r)):i[s].classes[a+1]==="reset-size"+e.size&&(i[s].classes[a+1]="reset-size"+r.size),i[s].height*=n,i[s].depth*=n}return se.makeFragment(i)}var h9=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Ise=(t,e)=>{var r=e.havingSize(t.size);return lB(t.body,r,e)};Ke({type:"sizing",names:h9,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:i,parser:n}=t,s=n.parseExpression(!1,r);return{type:"sizing",mode:n.mode,size:h9.indexOf(i)+1,body:s}},htmlBuilder:Ise,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),i=xn(t.body,r),n=new Le.MathNode("mstyle",i);return n.setAttribute("mathsize",Fe(r.sizeMultiplier)),n}});Ke({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:i}=t,n=!1,s=!1,a=r[0]&&Lt(r[0],"ordgroup");if(a)for(var o="",l=0;l<a.body.length;++l){var u=a.body[l];if(o=u.text,o==="t")n=!0;else if(o==="b")s=!0;else{n=!1,s=!1;break}}else n=!0,s=!0;var c=e[0];return{type:"smash",mode:i.mode,body:c,smashHeight:n,smashDepth:s}},htmlBuilder:(t,e)=>{var r=se.makeSpan([],[Kt(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].depth=0;var s=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return se.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var r=new Le.MathNode("mpadded",[hr(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});Ke({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:i}=t,n=r[0],s=e[0];return{type:"sqrt",mode:i.mode,body:s,index:n}},htmlBuilder(t,e){var r=Kt(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=se.wrapFragment(r,e);var i=e.fontMetrics(),n=i.defaultRuleThickness,s=n;e.style.id<pt.TEXT.id&&(s=e.fontMetrics().xHeight);var a=n+s/4,o=r.height+r.depth+a+n,{span:l,ruleWidth:u,advanceWidth:c}=Ga.sqrtImage(o,e),d=l.height-u;d>r.height+r.depth+a&&(a=(a+d-r.height-r.depth)/2);var h=l.height-r.height-a-u;r.style.paddingLeft=Fe(c);var f=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+h)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var g=e.havingStyle(pt.SCRIPTSCRIPT),y=Kt(t.index,g,e),C=.6*(f.height-f.depth),S=se.makeVList({positionType:"shift",positionData:-C,children:[{type:"elem",elem:y}]},e),A=se.makeSpan(["root"],[S]);return se.makeSpan(["mord","sqrt"],[A,f],e)}else return se.makeSpan(["mord","sqrt"],[f],e)},mathmlBuilder(t,e){var{body:r,index:i}=t;return i?new Le.MathNode("mroot",[hr(r,e),hr(i,e)]):new Le.MathNode("msqrt",[hr(r,e)])}});var p9={display:pt.DISPLAY,text:pt.TEXT,script:pt.SCRIPT,scriptscript:pt.SCRIPTSCRIPT};Ke({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:i,parser:n}=t,s=n.parseExpression(!0,r),a=i.slice(1,i.length-5);return{type:"styling",mode:n.mode,style:a,body:s}},htmlBuilder(t,e){var r=p9[t.style],i=e.havingStyle(r).withFont("");return lB(t.body,i,e)},mathmlBuilder(t,e){var r=p9[t.style],i=e.havingStyle(r),n=xn(t.body,i),s=new Le.MathNode("mstyle",n),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=a[t.style];return s.setAttribute("scriptlevel",o[0]),s.setAttribute("displaystyle",o[1]),s}});var Rse=function(e,r){var i=e.base;if(i)if(i.type==="op"){var n=i.limits&&(r.style.size===pt.DISPLAY.size||i.alwaysHandleSupSub);return n?G0:null}else if(i.type==="operatorname"){var s=i.alwaysHandleSupSub&&(r.style.size===pt.DISPLAY.size||i.limits);return s?oB:null}else{if(i.type==="accent")return lt.isCharacterBox(i.base)?n6:null;if(i.type==="horizBrace"){var a=!e.sub;return a===i.isOver?nB:null}else return null}else return null};Uu({type:"supsub",htmlBuilder(t,e){var r=Rse(t,e);if(r)return r(t,e);var{base:i,sup:n,sub:s}=t,a=Kt(i,e),o,l,u=e.fontMetrics(),c=0,d=0,h=i&&lt.isCharacterBox(i);if(n){var f=e.havingStyle(e.style.sup());o=Kt(n,f,e),h||(c=a.height-f.fontMetrics().supDrop*f.sizeMultiplier/e.sizeMultiplier)}if(s){var g=e.havingStyle(e.style.sub());l=Kt(s,g,e),h||(d=a.depth+g.fontMetrics().subDrop*g.sizeMultiplier/e.sizeMultiplier)}var y;e.style===pt.DISPLAY?y=u.sup1:e.style.cramped?y=u.sup3:y=u.sup2;var C=e.sizeMultiplier,S=Fe(.5/u.ptPerEm/C),A=null;if(l){var T=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof ss||T)&&(A=Fe(-a.italic))}var M;if(o&&l){c=Math.max(c,y,o.depth+.25*u.xHeight),d=Math.max(d,u.sub2);var D=u.defaultRuleThickness,B=4*D;if(c-o.depth-(l.height-d)<B){d=B-(c-o.depth)+l.height;var F=.8*u.xHeight-(c-o.depth);F>0&&(c+=F,d-=F)}var V=[{type:"elem",elem:l,shift:d,marginRight:S,marginLeft:A},{type:"elem",elem:o,shift:-c,marginRight:S}];M=se.makeVList({positionType:"individualShift",children:V},e)}else if(l){d=Math.max(d,u.sub1,l.height-.8*u.xHeight);var O=[{type:"elem",elem:l,marginLeft:A,marginRight:S}];M=se.makeVList({positionType:"shift",positionData:d,children:O},e)}else if(o)c=Math.max(c,y,o.depth+.25*u.xHeight),M=se.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:o,marginRight:S}]},e);else throw new Error("supsub must have either sup or sub.");var U=C5(a,"right")||"mord";return se.makeSpan([U],[a,se.makeSpan(["msupsub"],[M])],e)},mathmlBuilder(t,e){var r=!1,i,n;t.base&&t.base.type==="horizBrace"&&(n=!!t.sup,n===t.base.isOver&&(r=!0,i=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[hr(t.base,e)];t.sub&&s.push(hr(t.sub,e)),t.sup&&s.push(hr(t.sup,e));var a;if(r)a=i?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===pt.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===pt.DISPLAY||u.limits)?a="munderover":a="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===pt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===pt.DISPLAY)?a="munder":a="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===pt.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===pt.DISPLAY)?a="mover":a="msup"}return new Le.MathNode(a,s)}});Uu({type:"atom",htmlBuilder(t,e){return se.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new Le.MathNode("mo",[as(t.text,t.mode)]);if(t.family==="bin"){var i=r6(t,e);i==="bold-italic"&&r.setAttribute("mathvariant",i)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var uB={mi:"italic",mn:"normal",mtext:"normal"};Uu({type:"mathord",htmlBuilder(t,e){return se.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new Le.MathNode("mi",[as(t.text,t.mode,e)]),i=r6(t,e)||"italic";return i!==uB[r.type]&&r.setAttribute("mathvariant",i),r}});Uu({type:"textord",htmlBuilder(t,e){return se.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=as(t.text,t.mode,e),i=r6(t,e)||"normal",n;return t.mode==="text"?n=new Le.MathNode("mtext",[r]):/[0-9]/.test(t.text)?n=new Le.MathNode("mn",[r]):t.text==="\\prime"?n=new Le.MathNode("mo",[r]):n=new Le.MathNode("mi",[r]),i!==uB[n.type]&&n.setAttribute("mathvariant",i),n}});var p3={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},f3={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Uu({type:"spacing",htmlBuilder(t,e){if(f3.hasOwnProperty(t.text)){var r=f3[t.text].className||"";if(t.mode==="text"){var i=se.makeOrd(t,e,"textord");return i.classes.push(r),i}else return se.makeSpan(["mspace",r],[se.mathsym(t.text,t.mode,e)],e)}else{if(p3.hasOwnProperty(t.text))return se.makeSpan(["mspace",p3[t.text]],[],e);throw new Be('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(f3.hasOwnProperty(t.text))r=new Le.MathNode("mtext",[new Le.TextNode(" ")]);else{if(p3.hasOwnProperty(t.text))return new Le.MathNode("mspace");throw new Be('Unknown type of space "'+t.text+'"')}return r}});var f9=()=>{var t=new Le.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Uu({type:"tag",mathmlBuilder(t,e){var r=new Le.MathNode("mtable",[new Le.MathNode("mtr",[f9(),new Le.MathNode("mtd",[ml(t.body,e)]),f9(),new Le.MathNode("mtd",[ml(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var m9={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},g9={"\\textbf":"textbf","\\textmd":"textmd"},Ose={"\\textit":"textit","\\textup":"textup"},y9=(t,e)=>{var r=t.font;if(r){if(m9[r])return e.withTextFontFamily(m9[r]);if(g9[r])return e.withTextFontWeight(g9[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(Ose[r])};Ke({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:i}=t,n=e[0];return{type:"text",mode:r.mode,body:$r(n),font:i}},htmlBuilder(t,e){var r=y9(t,e),i=ai(t.body,r,!0);return se.makeSpan(["mord","text"],i,r)},mathmlBuilder(t,e){var r=y9(t,e);return ml(t.body,r)}});Ke({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Kt(t.body,e),i=se.makeLineSpan("underline-line",e),n=e.fontMetrics().defaultRuleThickness,s=se.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:n},{type:"elem",elem:i},{type:"kern",size:3*n},{type:"elem",elem:r}]},e);return se.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var r=new Le.MathNode("mo",[new Le.TextNode("‾")]);r.setAttribute("stretchy","true");var i=new Le.MathNode("munder",[hr(t.body,e),r]);return i.setAttribute("accentunder","true"),i}});Ke({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Kt(t.body,e),i=e.fontMetrics().axisHeight,n=.5*(r.height-i-(r.depth+i));return se.makeVList({positionType:"shift",positionData:n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new Le.MathNode("mpadded",[hr(t.body,e)],["vcenter"])}});Ke({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new Be("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=v9(t),i=[],n=e.havingStyle(e.style.text()),s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),i.push(se.makeSymbol(a,"Typewriter-Regular",t.mode,n,["mord","texttt"]))}return se.makeSpan(["mord","text"].concat(n.sizingClasses(e)),se.tryCombineChars(i),n)},mathmlBuilder(t,e){var r=new Le.TextNode(v9(t)),i=new Le.MathNode("mtext",[r]);return i.setAttribute("mathvariant","monospace"),i}});var v9=t=>t.body.replace(/ /g,t.star?"␣":" "),rl=BL,cB=`[ \r
	]`,Fse="\\\\[a-zA-Z@]+",Nse="\\\\[^\uD800-\uDFFF]",$se="("+Fse+")"+cB+"*",zse=`\\\\(
|[ \r	]+
?)[ \r	]*`,A5="[̀-ͯ]",Use=new RegExp(A5+"+$"),qse="("+cB+"+)|"+(zse+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(A5+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(A5+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+$se)+("|"+Nse+")");class b9{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(qse,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new es("EOF",new An(this,r,r));var i=this.tokenRegex.exec(e);if(i===null||i.index!==r)throw new Be("Unexpected character: '"+e[r]+"'",new es(e[r],new An(this,r,r+1)));var n=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[n]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new es(n,new An(this,r,this.tokenRegex.lastIndex))}}class jse{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Be("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,i){if(i===void 0&&(i=!1),i){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var Vse=QL;I("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});I("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});I("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});I("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});I("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});I("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");I("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var x9={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};I("\\char",function(t){var e=t.popToken(),r,i="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")i=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Be("\\char` missing argument");i=e.text.charCodeAt(0)}else r=10;if(r){if(i=x9[e.text],i==null||i>=r)throw new Be("Invalid base-"+r+" digit "+e.text);for(var n;(n=x9[t.future().text])!=null&&n<r;)i*=r,i+=n,t.popToken()}return"\\@char{"+i+"}"});var h6=(t,e,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new Be("\\newcommand's first argument must be a macro name");var n=i[0].text,s=t.isDefined(n);if(s&&!e)throw new Be("\\newcommand{"+n+"} attempting to redefine "+(n+"; use \\renewcommand"));if(!s&&!r)throw new Be("\\renewcommand{"+n+"} when command "+n+" does not yet exist; use \\newcommand");var a=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var o="",l=t.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=t.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new Be("Invalid number of arguments: "+o);a=parseInt(o),i=t.consumeArg().tokens}return t.macros.set(n,{tokens:i,numArgs:a}),""};I("\\newcommand",t=>h6(t,!1,!0));I("\\renewcommand",t=>h6(t,!0,!1));I("\\providecommand",t=>h6(t,!0,!0));I("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});I("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});I("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),rl[r],gr.math[r],gr.text[r]),""});I("\\bgroup","{");I("\\egroup","}");I("~","\\nobreakspace");I("\\lq","`");I("\\rq","'");I("\\aa","\\r a");I("\\AA","\\r A");I("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");I("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");I("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");I("ℬ","\\mathscr{B}");I("ℰ","\\mathscr{E}");I("ℱ","\\mathscr{F}");I("ℋ","\\mathscr{H}");I("ℐ","\\mathscr{I}");I("ℒ","\\mathscr{L}");I("ℳ","\\mathscr{M}");I("ℛ","\\mathscr{R}");I("ℭ","\\mathfrak{C}");I("ℌ","\\mathfrak{H}");I("ℨ","\\mathfrak{Z}");I("\\Bbbk","\\Bbb{k}");I("·","\\cdotp");I("\\llap","\\mathllap{\\textrm{#1}}");I("\\rlap","\\mathrlap{\\textrm{#1}}");I("\\clap","\\mathclap{\\textrm{#1}}");I("\\mathstrut","\\vphantom{(}");I("\\underbar","\\underline{\\text{#1}}");I("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');I("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");I("\\ne","\\neq");I("≠","\\neq");I("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");I("∉","\\notin");I("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");I("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");I("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");I("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");I("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");I("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");I("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");I("⟂","\\perp");I("‼","\\mathclose{!\\mkern-0.8mu!}");I("∌","\\notni");I("⌜","\\ulcorner");I("⌝","\\urcorner");I("⌞","\\llcorner");I("⌟","\\lrcorner");I("©","\\copyright");I("®","\\textregistered");I("️","\\textregistered");I("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');I("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');I("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');I("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');I("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");I("⋮","\\vdots");I("\\varGamma","\\mathit{\\Gamma}");I("\\varDelta","\\mathit{\\Delta}");I("\\varTheta","\\mathit{\\Theta}");I("\\varLambda","\\mathit{\\Lambda}");I("\\varXi","\\mathit{\\Xi}");I("\\varPi","\\mathit{\\Pi}");I("\\varSigma","\\mathit{\\Sigma}");I("\\varUpsilon","\\mathit{\\Upsilon}");I("\\varPhi","\\mathit{\\Phi}");I("\\varPsi","\\mathit{\\Psi}");I("\\varOmega","\\mathit{\\Omega}");I("\\substack","\\begin{subarray}{c}#1\\end{subarray}");I("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");I("\\boxed","\\fbox{$\\displaystyle{#1}$}");I("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");I("\\implies","\\DOTSB\\;\\Longrightarrow\\;");I("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var _9={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};I("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in _9?e=_9[r]:(r.slice(0,4)==="\\not"||r in gr.math&&lt.contains(["bin","rel"],gr.math[r].group))&&(e="\\dotsb"),e});var p6={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};I("\\dotso",function(t){var e=t.future().text;return e in p6?"\\ldots\\,":"\\ldots"});I("\\dotsc",function(t){var e=t.future().text;return e in p6&&e!==","?"\\ldots\\,":"\\ldots"});I("\\cdots",function(t){var e=t.future().text;return e in p6?"\\@cdots\\,":"\\@cdots"});I("\\dotsb","\\cdots");I("\\dotsm","\\cdots");I("\\dotsi","\\!\\cdots");I("\\dotsx","\\ldots\\,");I("\\DOTSI","\\relax");I("\\DOTSB","\\relax");I("\\DOTSX","\\relax");I("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");I("\\,","\\tmspace+{3mu}{.1667em}");I("\\thinspace","\\,");I("\\>","\\mskip{4mu}");I("\\:","\\tmspace+{4mu}{.2222em}");I("\\medspace","\\:");I("\\;","\\tmspace+{5mu}{.2777em}");I("\\thickspace","\\;");I("\\!","\\tmspace-{3mu}{.1667em}");I("\\negthinspace","\\!");I("\\negmedspace","\\tmspace-{4mu}{.2222em}");I("\\negthickspace","\\tmspace-{5mu}{.277em}");I("\\enspace","\\kern.5em ");I("\\enskip","\\hskip.5em\\relax");I("\\quad","\\hskip1em\\relax");I("\\qquad","\\hskip2em\\relax");I("\\tag","\\@ifstar\\tag@literal\\tag@paren");I("\\tag@paren","\\tag@literal{({#1})}");I("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Be("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});I("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");I("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");I("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");I("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");I("\\newline","\\\\\\relax");I("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var dB=Fe(ea["Main-Regular"][84][1]-.7*ea["Main-Regular"][65][1]);I("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+dB+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");I("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+dB+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");I("\\hspace","\\@ifstar\\@hspacer\\@hspace");I("\\@hspace","\\hskip #1\\relax");I("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");I("\\ordinarycolon",":");I("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");I("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');I("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');I("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');I("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');I("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');I("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');I("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');I("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');I("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');I("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');I("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');I("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');I("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');I("∷","\\dblcolon");I("∹","\\eqcolon");I("≔","\\coloneqq");I("≕","\\eqqcolon");I("⩴","\\Coloneqq");I("\\ratio","\\vcentcolon");I("\\coloncolon","\\dblcolon");I("\\colonequals","\\coloneqq");I("\\coloncolonequals","\\Coloneqq");I("\\equalscolon","\\eqqcolon");I("\\equalscoloncolon","\\Eqqcolon");I("\\colonminus","\\coloneq");I("\\coloncolonminus","\\Coloneq");I("\\minuscolon","\\eqcolon");I("\\minuscoloncolon","\\Eqcolon");I("\\coloncolonapprox","\\Colonapprox");I("\\coloncolonsim","\\Colonsim");I("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");I("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");I("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");I("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");I("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");I("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");I("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");I("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");I("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");I("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");I("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");I("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");I("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");I("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");I("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");I("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");I("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");I("\\nleqq","\\html@mathml{\\@nleqq}{≰}");I("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");I("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");I("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");I("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");I("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");I("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");I("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");I("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");I("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");I("\\imath","\\html@mathml{\\@imath}{ı}");I("\\jmath","\\html@mathml{\\@jmath}{ȷ}");I("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");I("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");I("⟦","\\llbracket");I("⟧","\\rrbracket");I("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");I("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");I("⦃","\\lBrace");I("⦄","\\rBrace");I("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");I("⦵","\\minuso");I("\\darr","\\downarrow");I("\\dArr","\\Downarrow");I("\\Darr","\\Downarrow");I("\\lang","\\langle");I("\\rang","\\rangle");I("\\uarr","\\uparrow");I("\\uArr","\\Uparrow");I("\\Uarr","\\Uparrow");I("\\N","\\mathbb{N}");I("\\R","\\mathbb{R}");I("\\Z","\\mathbb{Z}");I("\\alef","\\aleph");I("\\alefsym","\\aleph");I("\\Alpha","\\mathrm{A}");I("\\Beta","\\mathrm{B}");I("\\bull","\\bullet");I("\\Chi","\\mathrm{X}");I("\\clubs","\\clubsuit");I("\\cnums","\\mathbb{C}");I("\\Complex","\\mathbb{C}");I("\\Dagger","\\ddagger");I("\\diamonds","\\diamondsuit");I("\\empty","\\emptyset");I("\\Epsilon","\\mathrm{E}");I("\\Eta","\\mathrm{H}");I("\\exist","\\exists");I("\\harr","\\leftrightarrow");I("\\hArr","\\Leftrightarrow");I("\\Harr","\\Leftrightarrow");I("\\hearts","\\heartsuit");I("\\image","\\Im");I("\\infin","\\infty");I("\\Iota","\\mathrm{I}");I("\\isin","\\in");I("\\Kappa","\\mathrm{K}");I("\\larr","\\leftarrow");I("\\lArr","\\Leftarrow");I("\\Larr","\\Leftarrow");I("\\lrarr","\\leftrightarrow");I("\\lrArr","\\Leftrightarrow");I("\\Lrarr","\\Leftrightarrow");I("\\Mu","\\mathrm{M}");I("\\natnums","\\mathbb{N}");I("\\Nu","\\mathrm{N}");I("\\Omicron","\\mathrm{O}");I("\\plusmn","\\pm");I("\\rarr","\\rightarrow");I("\\rArr","\\Rightarrow");I("\\Rarr","\\Rightarrow");I("\\real","\\Re");I("\\reals","\\mathbb{R}");I("\\Reals","\\mathbb{R}");I("\\Rho","\\mathrm{P}");I("\\sdot","\\cdot");I("\\sect","\\S");I("\\spades","\\spadesuit");I("\\sub","\\subset");I("\\sube","\\subseteq");I("\\supe","\\supseteq");I("\\Tau","\\mathrm{T}");I("\\thetasym","\\vartheta");I("\\weierp","\\wp");I("\\Zeta","\\mathrm{Z}");I("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");I("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");I("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");I("\\bra","\\mathinner{\\langle{#1}|}");I("\\ket","\\mathinner{|{#1}\\rangle}");I("\\braket","\\mathinner{\\langle{#1}\\rangle}");I("\\Bra","\\left\\langle#1\\right|");I("\\Ket","\\left|#1\\right\\rangle");var hB=t=>e=>{var r=e.consumeArg().tokens,i=e.consumeArg().tokens,n=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=d=>h=>{t&&(h.macros.set("|",a),n.length&&h.macros.set("\\|",o));var f=d;if(!d&&n.length){var g=h.future();g.text==="|"&&(h.popToken(),f=!0)}return{tokens:f?n:i,numArgs:0}};e.macros.set("|",l(!1)),n.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,c=e.expandTokens([...s,...u,...r]);return e.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};I("\\bra@ket",hB(!1));I("\\bra@set",hB(!0));I("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");I("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");I("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");I("\\angln","{\\angl n}");I("\\blue","\\textcolor{##6495ed}{#1}");I("\\orange","\\textcolor{##ffa500}{#1}");I("\\pink","\\textcolor{##ff00af}{#1}");I("\\red","\\textcolor{##df0030}{#1}");I("\\green","\\textcolor{##28ae7b}{#1}");I("\\gray","\\textcolor{gray}{#1}");I("\\purple","\\textcolor{##9d38bd}{#1}");I("\\blueA","\\textcolor{##ccfaff}{#1}");I("\\blueB","\\textcolor{##80f6ff}{#1}");I("\\blueC","\\textcolor{##63d9ea}{#1}");I("\\blueD","\\textcolor{##11accd}{#1}");I("\\blueE","\\textcolor{##0c7f99}{#1}");I("\\tealA","\\textcolor{##94fff5}{#1}");I("\\tealB","\\textcolor{##26edd5}{#1}");I("\\tealC","\\textcolor{##01d1c1}{#1}");I("\\tealD","\\textcolor{##01a995}{#1}");I("\\tealE","\\textcolor{##208170}{#1}");I("\\greenA","\\textcolor{##b6ffb0}{#1}");I("\\greenB","\\textcolor{##8af281}{#1}");I("\\greenC","\\textcolor{##74cf70}{#1}");I("\\greenD","\\textcolor{##1fab54}{#1}");I("\\greenE","\\textcolor{##0d923f}{#1}");I("\\goldA","\\textcolor{##ffd0a9}{#1}");I("\\goldB","\\textcolor{##ffbb71}{#1}");I("\\goldC","\\textcolor{##ff9c39}{#1}");I("\\goldD","\\textcolor{##e07d10}{#1}");I("\\goldE","\\textcolor{##a75a05}{#1}");I("\\redA","\\textcolor{##fca9a9}{#1}");I("\\redB","\\textcolor{##ff8482}{#1}");I("\\redC","\\textcolor{##f9685d}{#1}");I("\\redD","\\textcolor{##e84d39}{#1}");I("\\redE","\\textcolor{##bc2612}{#1}");I("\\maroonA","\\textcolor{##ffbde0}{#1}");I("\\maroonB","\\textcolor{##ff92c6}{#1}");I("\\maroonC","\\textcolor{##ed5fa6}{#1}");I("\\maroonD","\\textcolor{##ca337c}{#1}");I("\\maroonE","\\textcolor{##9e034e}{#1}");I("\\purpleA","\\textcolor{##ddd7ff}{#1}");I("\\purpleB","\\textcolor{##c6b9fc}{#1}");I("\\purpleC","\\textcolor{##aa87ff}{#1}");I("\\purpleD","\\textcolor{##7854ab}{#1}");I("\\purpleE","\\textcolor{##543b78}{#1}");I("\\mintA","\\textcolor{##f5f9e8}{#1}");I("\\mintB","\\textcolor{##edf2df}{#1}");I("\\mintC","\\textcolor{##e0e5cc}{#1}");I("\\grayA","\\textcolor{##f6f7f7}{#1}");I("\\grayB","\\textcolor{##f0f1f2}{#1}");I("\\grayC","\\textcolor{##e3e5e6}{#1}");I("\\grayD","\\textcolor{##d6d8da}{#1}");I("\\grayE","\\textcolor{##babec2}{#1}");I("\\grayF","\\textcolor{##888d93}{#1}");I("\\grayG","\\textcolor{##626569}{#1}");I("\\grayH","\\textcolor{##3b3e40}{#1}");I("\\grayI","\\textcolor{##21242c}{#1}");I("\\kaBlue","\\textcolor{##314453}{#1}");I("\\kaGreen","\\textcolor{##71B307}{#1}");var pB={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Hse{constructor(e,r,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new jse(Vse,r.macros),this.mode=i,this.stack=[]}feed(e){this.lexer=new b9(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,i,n;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:n,end:i}=this.consumeArg(["]"])}else({tokens:n,start:r,end:i}=this.consumeArg());return this.pushToken(new es("EOF",i.loc)),this.pushTokens(n),r.range(i,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],i=e&&e.length>0;i||this.consumeSpaces();var n=this.future(),s,a=0,o=0;do{if(s=this.popToken(),r.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new Be("Extra }",s)}else if(s.text==="EOF")throw new Be("Unexpected end of input in a macro argument, expected '"+(e&&i?e[o]:"}")+"'",s);if(e&&i)if((a===0||a===1&&e[o]==="{")&&s.text===e[o]){if(++o,o===e.length){r.splice(-o,o);break}}else o=0}while(a!==0||i);return n.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:n,end:s}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new Be("The length of delimiters doesn't match the number of args!");for(var i=r[0],n=0;n<i.length;n++){var s=this.popToken();if(i[n]!==s.text)throw new Be("Use of the macro doesn't match its definition",s)}}for(var a=[],o=0;o<e;o++)a.push(this.consumeArg(r&&r[o+1]).tokens);return a}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Be("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),i=r.text,n=r.noexpand?null:this._getExpansion(i);if(n==null||e&&n.unexpandable){if(e&&n==null&&i[0]==="\\"&&!this.isDefined(i))throw new Be("Undefined control sequence: "+i);return this.pushToken(r),!1}this.countExpansion(1);var s=n.tokens,a=this.consumeArgs(n.numArgs,n.delimiters);if(n.numArgs){s=s.slice();for(var o=s.length-1;o>=0;--o){var l=s[o];if(l.text==="#"){if(o===0)throw new Be("Incomplete placeholder at end of macro body",l);if(l=s[--o],l.text==="#")s.splice(o+1,1);else if(/^[1-9]$/.test(l.text))s.splice(o,2,...a[+l.text-1]);else throw new Be("Not a valid argument number",l)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new es(e)]):void 0}expandTokens(e){var r=[],i=this.stack.length;for(this.pushTokens(e);this.stack.length>i;)if(this.expandOnce(!0)===!1){var n=this.stack.pop();n.treatAsRelax&&(n.noexpand=!1,n.treatAsRelax=!1),r.push(n)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(i=>i.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var i=this.lexer.catcodes[e];if(i!=null&&i!==13)return}var n=typeof r=="function"?r(this):r;if(typeof n=="string"){var s=0;if(n.indexOf("#")!==-1)for(var a=n.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var o=new b9(n,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var c={tokens:l,numArgs:s};return c}return n}isDefined(e){return this.macros.has(e)||rl.hasOwnProperty(e)||gr.math.hasOwnProperty(e)||gr.text.hasOwnProperty(e)||pB.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:rl.hasOwnProperty(e)&&!rl[e].primitive}}var w9=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,$f=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),m3={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},S9={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class k2{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Hse(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new Be("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new es("}")),this.gullet.pushTokens(e);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,i}parseExpression(e,r){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var n=this.fetch();if(k2.endOfExpression.indexOf(n.text)!==-1||r&&n.text===r||e&&rl[n.text]&&rl[n.text].infix)break;var s=this.parseAtom(r);if(s){if(s.type==="internal")continue}else break;i.push(s)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(e){for(var r=-1,i,n=0;n<e.length;n++)if(e[n].type==="infix"){if(r!==-1)throw new Be("only one infix operator per group",e[n].token);r=n,i=e[n].replaceWith}if(r!==-1&&i){var s,a,o=e.slice(0,r),l=e.slice(r+1);o.length===1&&o[0].type==="ordgroup"?s=o[0]:s={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l};var u;return i==="\\\\abovefrac"?u=this.callFunction(i,[s,e[r],a],[]):u=this.callFunction(i,[s,a],[]),[u]}else return e}handleSupSubscript(e){var r=this.fetch(),i=r.text;this.consume(),this.consumeSpaces();var n=this.parseGroup(e);if(!n)throw new Be("Expected group after '"+i+"'",r);return n}formatUnsupportedCmd(e){for(var r=[],i=0;i<e.length;i++)r.push({type:"textord",mode:"text",text:e[i]});var n={type:"text",mode:this.mode,body:r},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]};return s}parseAtom(e){var r=this.parseGroup("atom",e);if(this.mode==="text")return r;for(var i,n;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(r&&r.type==="op"){var a=s.text==="\\limits";r.limits=a,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=s.text==="\\limits");else throw new Be("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(i)throw new Be("Double superscript",s);i=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(n)throw new Be("Double subscript",s);n=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(i)throw new Be("Double superscript",s);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:l}}else if($f[s.text]){var u=w9.test(s.text),c=[];for(c.push(new es($f[s.text])),this.consume();;){var d=this.fetch().text;if(!$f[d]||w9.test(d)!==u)break;c.unshift(new es($f[d])),this.consume()}var h=this.subparse(c);u?n={type:"ordgroup",mode:"math",body:h}:i={type:"ordgroup",mode:"math",body:h}}else break}return i||n?{type:"supsub",mode:this.mode,base:r,sup:i,sub:n}:r}parseFunction(e,r){var i=this.fetch(),n=i.text,s=rl[n];if(!s)return null;if(this.consume(),r&&r!=="atom"&&!s.allowedInArgument)throw new Be("Got function '"+n+"' with no arguments"+(r?" as "+r:""),i);if(this.mode==="text"&&!s.allowedInText)throw new Be("Can't use function '"+n+"' in text mode",i);if(this.mode==="math"&&s.allowedInMath===!1)throw new Be("Can't use function '"+n+"' in math mode",i);var{args:a,optArgs:o}=this.parseArguments(n,s);return this.callFunction(n,a,o,i,e)}callFunction(e,r,i,n,s){var a={funcName:e,parser:this,token:n,breakOnTokenText:s},o=rl[e];if(o&&o.handler)return o.handler(a,r,i);throw new Be("No function handler for "+e)}parseArguments(e,r){var i=r.numArgs+r.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var n=[],s=[],a=0;a<i;a++){var o=r.argTypes&&r.argTypes[a],l=a<r.numOptionalArgs;(r.primitive&&o==null||r.type==="sqrt"&&a===1&&s[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)s.push(u);else if(u!=null)n.push(u);else throw new Be("Null argument, please report this as a bug")}return{args:n,optArgs:s}}parseGroupOfType(e,r,i){switch(r){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,r);case"hbox":{var n=this.parseArgumentGroup(i,"text");return n!=null?{type:"styling",mode:n.mode,body:[n],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",i);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(i)throw new Be("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new Be("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new Be("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var i=this.gullet.scanArgument(r);if(i==null)return null;for(var n="",s;(s=this.fetch()).text!=="EOF";)n+=s.text,this.consume();return this.consume(),i.text=n,i}parseRegexGroup(e,r){for(var i=this.fetch(),n=i,s="",a;(a=this.fetch()).text!=="EOF"&&e.test(s+a.text);)n=a,s+=n.text,this.consume();if(s==="")throw new Be("Invalid "+r+": '"+i.text+"'",i);return i.range(n,s)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var i=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!i)throw new Be("Invalid color: '"+r.text+"'",r);var n=i[0];return/^[0-9a-f]{6}$/i.test(n)&&(n="#"+n),{type:"color-token",mode:this.mode,color:n}}parseSizeGroup(e){var r,i=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",i=!0);var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!n)throw new Be("Invalid size: '"+r.text+"'",r);var s={number:+(n[1]+n[2]),unit:n[3]};if(!SL(s))throw new Be("Invalid unit: '"+s.unit+"'",r);return{type:"size",mode:this.mode,value:s,isBlank:i}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var i=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(e,r){var i=this.gullet.scanArgument(e);if(i==null)return null;var n=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:i.loc,body:s};return r&&this.switchMode(n),a}parseGroup(e,r){var i=this.fetch(),n=i.text,s;if(n==="{"||n==="\\begingroup"){this.consume();var a=n==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:An.range(i,l),body:o,semisimple:n==="\\begingroup"||void 0}}else if(s=this.parseFunction(r,e)||this.parseSymbol(),s==null&&n[0]==="\\"&&!pB.hasOwnProperty(n)){if(this.settings.throwOnError)throw new Be("Undefined control sequence: "+n,i);s=this.formatUnsupportedCmd(n),this.consume()}return s}formLigatures(e){for(var r=e.length-1,i=0;i<r;++i){var n=e[i],s=n.text;s==="-"&&e[i+1].text==="-"&&(i+1<r&&e[i+2].text==="-"?(e.splice(i,3,{type:"textord",mode:"text",loc:An.range(n,e[i+2]),text:"---"}),r-=2):(e.splice(i,2,{type:"textord",mode:"text",loc:An.range(n,e[i+1]),text:"--"}),r-=1)),(s==="'"||s==="`")&&e[i+1].text===s&&(e.splice(i,2,{type:"textord",mode:"text",loc:An.range(n,e[i+1]),text:s+s}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var i=r.slice(5),n=i.charAt(0)==="*";if(n&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new Be(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:n}}S9.hasOwnProperty(r[0])&&!gr[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=S9[r[0]]+r.slice(1));var s=Use.exec(r);s&&(r=r.substring(0,s.index),r==="i"?r="ı":r==="j"&&(r="ȷ"));var a;if(gr[this.mode][r]){this.settings.strict&&this.mode==="math"&&S5.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var o=gr[this.mode][r].group,l=An.range(e),u;if(Pne.hasOwnProperty(o)){var c=o;u={type:"atom",mode:this.mode,family:c,loc:l,text:r}}else u={type:o,mode:this.mode,loc:l,text:r};a=u}else if(r.charCodeAt(0)>=128)this.settings.strict&&(wL(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:An.range(e),text:r};else return null;if(this.consume(),s)for(var d=0;d<s[0].length;d++){var h=s[0][d];if(!m3[h])throw new Be("Unknown accent ' "+h+"'",e);var f=m3[h][this.mode]||m3[h].text;if(!f)throw new Be("Accent "+h+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:An.range(e),label:f,isStretchy:!1,isShifty:!0,base:a}}return a}}k2.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var f6=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new k2(e,r);delete i.gullet.macros.current["\\df@tag"];var n=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new Be("\\tag works only in display equations");n=[{type:"tag",mode:"text",body:n,tag:i.subparse([new es("\\df@tag")])}]}return n},fB=function(e,r,i){r.textContent="";var n=m6(e,i).toNode();r.appendChild(n)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),fB=function(){throw new Be("KaTeX doesn't work in quirks mode.")});var Kse=function(e,r){var i=m6(e,r).toMarkup();return i},Wse=function(e,r){var i=new Yb(r);return f6(e,i)},mB=function(e,r,i){if(i.throwOnError||!(e instanceof Be))throw e;var n=se.makeSpan(["katex-error"],[new ss(r)]);return n.setAttribute("title",e.toString()),n.setAttribute("style","color:"+i.errorColor),n},m6=function(e,r){var i=new Yb(r);try{var n=f6(e,i);return rse(n,e,i)}catch(s){return mB(s,e,i)}},Gse=function(e,r){var i=new Yb(r);try{var n=f6(e,i);return ise(n,e,i)}catch(s){return mB(s,e,i)}},g6={version:"0.16.11",render:fB,renderToString:Kse,ParseError:Be,SETTINGS_SCHEMA:t1,__parse:Wse,__renderToDomTree:m6,__renderToHTMLTree:Gse,__setFontMetrics:Tne,__defineSymbol:_,__defineFunction:Ke,__defineMacro:I,__domTree:{Span:kp,Anchor:Qb,SymbolNode:ss,SvgNode:to,PathNode:fl,LineNode:w5}};function y6(t){return t=t.trim(),t=t.replace(/^\\\[(.*?)\\\]$/s,"$1"),t=Xse(t),t=t.replace(/\\displaystyle/g,""),t=t.replace(/%.*$/gm,""),t=t.replace(/\\label\{.*?\}/g,""),t=t.replace(/\\ref\{.*?\}/g,""),t}function Xse(t){const e=/\\displaystyle\{/g;let r;for(;(r=e.exec(t))!==null;){const i=r.index,n=i+r[0].length-1,s=Yse(t,n);if(s!==-1){const a=t.substring(n+1,s);t=t.slice(0,i)+a+t.slice(s+1),e.lastIndex=i+a.length}else break}return t}function Yse(t,e){let r=[];for(let i=e;i<t.length;i++)if(t[i]==="{")r.push("{");else if(t[i]==="}"&&(r.pop(),r.length===0))return i;return-1}function v6(t,e=16,r=36,i=50){const n={"\\int":2,"\\pmatrix":5,"\\text":1,"\\sin":1,"\\tan":1,"\\left":.5,"\\right":.5,"\\cdot":.2,"\\,":0};let s=0;for(const[u,c]of Object.entries(n)){const d=(t.match(new RegExp(u,"g"))||[]).length;s+=d*c}const a=t.replace(/\\[a-zA-Z]+/g,"").length;s+=a/10;const o=Math.sqrt(i/Math.max(s,i)),l=e*o;return Math.max(l,r)}const Zse={class:"fixed top-0 left-0 h-full w-full bg-black z-[100]"},Jse={key:0,class:"flex items-center justify-center h-full w-full"},Qse={key:1,class:"w-full"},eae=["innerHTML"],tae={class:"w-full h-[10rem] flex justify-center items-center mt-[3rem]"},C9=60,rae=st({__name:"FullScreenIntegral",props:{integral:{type:String,required:!0},author:{type:String},totalTime:{type:Number}},emits:["close"],setup(t,{emit:e}){const r=e,i=t,n=Xe(`text-[${C9}px]`),s=sr(()=>{const g=y6(i.integral);return n.value=`text-[${v6(g,C9)}px]`,g6.renderToString(g,{throwOnError:!1,displayMode:!0})}),a=Xe(3),o=Xe(!1);let l=null,u=null;const c=Xe(i.totalTime),d=Xe(!1),h=()=>{u=setInterval(()=>{c.value?c.value--:(u&&clearInterval(u),d.value=!0)},1e3),d.value=!1},f=()=>{u&&clearInterval(u),d.value=!0};return qr(()=>{l=setInterval(()=>{a.value>1?a.value--:(l&&clearInterval(l),o.value=!0,h())},1e3)}),(g,y)=>(X(),ne("div",Zse,[m("button",{onClick:y[0]||(y[0]=C=>r("close")),class:"w-[5rem] aspect-square fixed right-[5rem] top-[5rem] fill-white"},y[2]||(y[2]=[sa('<svg width="134" height="134" viewBox="0 0 134 134" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full"><g clip-path="url(#clip0_286_9)"><rect x="-2.67847" y="6.51398" width="13" height="184.075" rx="6.5" transform="rotate(-45 -2.67847 6.51398)" fill="#F2F1F0"></rect><rect x="127.482" y="-2.67841" width="13" height="184.075" rx="6.5" transform="rotate(45 127.482 -2.67841)" fill="#F2F1F0"></rect></g><defs><clipPath id="clip0_286_9"><rect width="134" height="134" fill="white"></rect></clipPath></defs></svg>',1)])),ye(ua,{mode:"out-in","enter-active-class":"transition-opacity duration-500","leave-active-class":"transition-opacity duration-500","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:We(()=>[(X(),ne("div",{key:o.value?"content":"countdown"},[o.value?(X(),ne("div",Qse,[m("div",{class:Wt(["bg-white flex justify-center items-center text-black w-[70vw] h-[30rem] rounded-xl mx-auto mt-[10rem]",n.value])},[m("div",{innerHTML:s.value},null,8,eae)],2),m("div",tae,[m("div",{class:Wt(`h-full w-[30rem] flex justify-end items-center text-title font-heading ${c.value&&c.value>10?"text-white":"text-red"}`)},[m("p",null,ge(c.value&&Math.floor(c.value/60)+":"+(c.value%60<10?"0":"")+c.value%60),1),d.value?(X(),ne("button",{key:1,onClick:h,class:"h-[70%] aspect-square flex justify-center ml-[2rem]"},y[4]||(y[4]=[m("svg",{width:"32",height:"35",viewBox:"0 0 32 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full"},[m("path",{d:"M0.952706 1.36705C0.952706 0.597251 1.78604 0.116126 2.45271 0.501026L30.5477 16.7217C31.2144 17.1066 31.2144 18.0688 30.5477 18.4537L2.45271 34.6744C1.78604 35.0593 0.952707 34.5782 0.952707 33.8084L0.952706 1.36705Z",fill:"white"})],-1)]))):(X(),ne("button",{key:0,onClick:f,class:"h-[70%] aspect-square flex justify-center ml-[2rem]"},y[3]||(y[3]=[m("svg",{width:"28",height:"42",viewBox:"0 0 28 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full"},[m("rect",{x:"16.8864",y:"0.337891",width:"10.8162",height:"41.4622",rx:"2.35135",fill:"white"}),m("rect",{x:"0.662109",y:"0.337891",width:"10.8162",height:"41.4622",rx:"2.35135",fill:"white"})],-1)]))),m("button",{onClick:y[1]||(y[1]=()=>{f(),c.value=t.totalTime}),class:"h-[70%] aspect-square flex justify-center -ml-[1rem]"},y[5]||(y[5]=[m("svg",{width:"43",height:"44",viewBox:"0 0 43 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full"},[m("path",{d:"M40.0135 26.3365L35.8101 37.2872C35.5022 38.0894 34.7813 38.6598 33.9297 38.7748L16.4613 41.1346C15.6506 41.2441 14.8412 40.9243 14.3242 40.2903L3.25641 26.7162C2.72198 26.0607 2.58072 25.1687 2.88647 24.3802L9.29868 7.84342C9.59826 7.07082 10.2824 6.51295 11.0995 6.37497L28.659 3.40988C29.4542 3.27561 30.2627 3.55819 30.8011 4.15857L39.1584 13.478M39.1584 13.478L35.9826 2.51355M39.1584 13.478L29.2644 10.0007",stroke:"white","stroke-width":"4.7027","stroke-linecap":"round"})],-1)]))],2)])])):(X(),ne("div",Jse,[ye(ua,{mode:"out-in","enter-active-class":"transition-all duration-300","leave-active-class":"transition-all duration-300","enter-from-class":"opacity-0 scale-50","enter-to-class":"opacity-100 scale-100","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-50"},{default:We(()=>[(X(),ne("div",{key:a.value,class:"font-heading text-heading text-white text-center mt-[50vh] -translate-y-[50%]"},ge(a.value),1))]),_:1})]))]))]),_:1})]))}}),iae={class:"fixed top-0 left-0 h-full w-full bg-black z-[100]"},nae={class:"w-full"},sae=["innerHTML"],k9=60,aae=st({__name:"FullScreenSolution",props:{solution:{type:String,required:!0}},emits:["close"],setup(t,{emit:e}){const r=e,i=t,n=Xe(`text-[${k9}px]`),s=sr(()=>{const a=y6(i.solution);return n.value=`text-[${v6(a,k9)}px]`,g6.renderToString(a,{throwOnError:!1,displayMode:!0})});return(a,o)=>(X(),ne("div",iae,[m("button",{onClick:o[0]||(o[0]=l=>r("close")),class:"w-[5rem] aspect-square fixed right-[5rem] top-[5rem] fill-white"},o[1]||(o[1]=[sa('<svg width="134" height="134" viewBox="0 0 134 134" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full"><g clip-path="url(#clip0_286_9)"><rect x="-2.67847" y="6.51398" width="13" height="184.075" rx="6.5" transform="rotate(-45 -2.67847 6.51398)" fill="#F2F1F0"></rect><rect x="127.482" y="-2.67841" width="13" height="184.075" rx="6.5" transform="rotate(45 127.482 -2.67841)" fill="#F2F1F0"></rect></g><defs><clipPath id="clip0_286_9"><rect width="134" height="134" fill="white"></rect></clipPath></defs></svg>',1)])),m("div",null,[m("div",nae,[m("div",{class:Wt(["bg-white flex justify-center items-center text-black w-[70vw] h-[30rem] rounded-xl mx-auto mt-[10rem]",n.value])},[m("div",{innerHTML:s.value},null,8,sae)],2)])])]))}}),oae={class:"px-[2rem] xl:px-[12rem] 2xl:px-[calc(50vw-65rem)] bg-pearl-white h-screen flex flex-col text-screenBlack font-body text-body overflow-x-hidden"},lae={class:"fixed top-0 left-0 z-[20] py-[4rem] flex items-center justify-start px-[2rem] xl:px-[12rem] 2xl:px-[calc(50vw-65rem)]"},uae={class:"w-max flex justify-start items-center bg-white p-6 rounded-xl"},cae={class:"relative flex flex-col justify-center flex-1 w-full"},dae={class:"w-full h-[10rem] flex justify-center items-center"},hae={class:"flex gap-[2rem] items-center"},pae={class:"flex px-[16rem] mt-[5rem]"},fae={class:"flex flex-col w-max"},mae={class:"font-heading text-heading text-primary"},gae={class:"flex justify-start items-center gap-[2rem]"},yae={class:"font-heading text-heading text-nowrap"},vae={class:"flex-1 h-full flex flex-col justify-between pt-[1rem] pb-[2rem]"},bae={class:"w-full flex justify-center items-center mt-[5rem] gap-[2rem]"},xae=st({__name:"SeriesPresentation",setup(t){Fu();const e=zg(),r=xL(),{currentSeriesName:i,series:n,timePerIntegral:s,tieBreakers:a,currentIntegralIndex:o,currentTieBreakerIndex:l}=Ur(r);qr(async()=>{await r.fetchSeries(e.params.competition,e.params.series),await r.fetchTieBreakers(e.params.competition)}),oo(()=>{r.$reset()});const u=sr(()=>n.value[o.value]),c=sr({get:()=>s.value,set:T=>{r.timePerIntegral=Number(T)}}),d=sr({get:()=>l.value,set:T=>{(!Number(T)||Number(T)>=a.value.length)&&jt().addToast({type:"error",title:"Tie-breaker doesn't exist",message:`Tie breaker nr ${T} doesn't exist. the number should be between 0 and ${a.value.length-1}`}),r.currentTieBreakerIndex=Number(T)}}),h=["translate-x-[150%]","translate-x-0","translate-x-0","-translate-x-[150%]"],f=["-translate-x-[150%]","translate-x-0","translate-x-0","translate-x-[150%]"],g=Xe(h),y=Xe(!1),C=Xe(!1),S=()=>{g.value=h,r.currentIntegralIndex<r.series.length-1&&r.currentIntegralIndex++},A=()=>{g.value=f,r.currentIntegralIndex&&r.currentIntegralIndex--};return(T,M)=>{const D=yn("RouterLink");return X(),ne("div",oae,[m("header",lae,[m("div",uae,[ye(D,{to:"/presenting",class:"flex justify-center items-center h-full aspect-square stroke-screenBlack hover:stroke-primary"},{default:We(()=>M[7]||(M[7]=[m("svg",{width:"41",height:"41",viewBox:"0 0 41 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M8.54098 21.5V39H33.1311V21.5M2.5 18L20.5 2.5L39 18","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1})])]),m("main",cae,[m("div",dae,[m("div",hae,[M[8]||(M[8]=sa('<div class="h-full aspect-square flex justify-center items-center"><svg width="50" height="54" viewBox="0 0 50 54" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-full"><circle cx="24.9193" cy="28.9193" r="22.3826" stroke="#242424" stroke-width="5.0734"></circle><path d="M24.9189 15.3268V29.8253L31.7151 37.0746" stroke="#242424" stroke-width="6.37371"></path><rect x="2" y="9.36597" width="11" height="8" rx="3" transform="rotate(-35.3609 2 9.36597)" fill="#242424"></rect><rect width="11" height="9.81894" rx="3" transform="matrix(-0.815523 -0.578725 -0.578725 0.815523 46.6533 6.88257)" fill="#242424"></rect></svg></div>',1)),sl(m("input",{type:"text",class:"bg-white font-semibold text-subtitle w-[15rem] px-[2rem] py-[1rem] text-center rounded-xl outline-none","onUpdate:modelValue":M[0]||(M[0]=B=>c.value=B),placeholder:"sec."},null,512),[[vu,c.value]])])]),m("div",pae,[ye(ua,{"enter-from-class":g.value[0],"enter-active-class":"transition-transform duration-200","enter-to-class":g.value[1],"leave-from-class":g.value[2],"leave-active-class":"transition-transform duration-200","leave-to-class":g.value[3],mode:"out-in"},{default:We(()=>[(X(),ne("div",{key:u.value,class:"flex w-full gap-[4rem]"},[m("div",fae,[m("h1",mae,ge(u.value.isTieBreaker?"Tie-breaker":P(i)),1),m("div",gae,[m("h2",yae," Integral "+ge(P(o)+1)+". ",1),M[9]||(M[9]=m("div",{class:"aspect-square h-full flex justify-center items-start"},[m("svg",{width:"93",height:"86",viewBox:"0 0 93 86",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-[80%]"},[m("rect",{x:"7.50806",y:"42.3372",width:"61.3789",height:"42.746",rx:"5.48026",fill:"#242424"}),m("path",{d:"M75.4629 57.2213C75.4629 56.4827 75.8348 55.7938 76.4523 55.3886L89.6049 46.7571C91.0627 45.8005 92.9997 46.8462 92.9997 48.5898V81.1281C92.9997 82.8499 91.1058 83.8995 89.6458 82.987L76.4932 74.7666C75.8523 74.366 75.4629 73.6635 75.4629 72.9077V57.2213Z",fill:"#242424"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M53.9941 38.3618C64.5875 38.3618 73.175 29.7742 73.175 19.1809C73.175 8.58758 64.5875 0 53.9941 0C43.4008 0 34.8132 8.58758 34.8132 19.1809C34.8132 29.7742 43.4008 38.3618 53.9941 38.3618ZM58.2602 13.4779C57.3474 12.3784 55.9173 11.8494 54.5087 12.0901L51.5845 12.59C50.1759 12.8308 49.0027 13.8047 48.5069 15.145L47.4777 17.9274C46.9819 19.2677 47.2388 20.7707 48.1516 21.8702L50.0466 24.1527C50.9594 25.2522 52.3895 25.7812 53.7982 25.5404L56.7223 25.0406C58.131 24.7998 59.3041 23.8258 59.7999 22.4855L60.8292 19.7032C61.3249 18.3629 61.068 16.8599 60.1552 15.7604L58.2602 13.4779Z",fill:"#242424"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.7006 37.9004C21.2673 37.9004 27.4013 31.7665 27.4013 24.1998C27.4013 16.6331 21.2673 10.4991 13.7006 10.4991C6.13399 10.4991 0 16.6331 0 24.1998C0 31.7665 6.13399 37.9004 13.7006 37.9004ZM16.7093 20.2401C16.1099 19.5182 15.171 19.1709 14.2462 19.3291L11.7386 19.7578C10.8137 19.916 10.0435 20.5555 9.71806 21.4355L8.83558 23.8215C8.51011 24.7015 8.67884 25.6883 9.2782 26.4101L10.9033 28.3674C11.5027 29.0892 12.4416 29.4365 13.3664 29.2784L15.874 28.8496C16.7989 28.6915 17.5691 28.052 17.8945 27.172L18.777 24.7859C19.1025 23.906 18.9338 22.9192 18.3344 22.1973L16.7093 20.2401Z",fill:"#242424"})])],-1))])]),m("div",vae,[m("button",{onClick:M[1]||(M[1]=()=>{y.value=!0}),class:"font-heading text-title px-[4rem] pt-[0.6rem] pb-[0.4rem] bg-primary rounded-[20px]"}," Present "),m("button",{onClick:M[2]||(M[2]=()=>{C.value=!0}),class:"overflow-hidden rounded-[20px] font-heading text-title px-[4rem] pt-[0.6rem] pb-[0.4rem] relative bg-primary border-primary border-4 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:hidden lg:after:flex after:bg-pearl-white lg:hover:after:scale-y-0 after:transition-transform after:duration-200 after:will-change-transform after:origin-top"},M[10]||(M[10]=[m("span",{class:"relative z-[2]"},"Solution",-1)]))])]))]),_:1},8,["enter-from-class","enter-to-class","leave-from-class","leave-to-class"])]),m("div",bae,[m("button",{onClick:M[3]||(M[3]=()=>{P(r).addCurrentTieBreaker()}),class:"overflow-hidden rounded-[20px] font-heading text-title px-[4rem] pt-[0.6rem] pb-[0.4rem] relative bg-red border-red border-4 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:hidden lg:after:flex after:bg-pearl-white lg:hover:after:scale-y-0 after:transition-transform after:duration-200 after:will-change-transform after:origin-top"},M[11]||(M[11]=[m("span",{class:"relative z-[2]"},"Introduce a Tie Breaker",-1)])),M[12]||(M[12]=m("p",{class:"font-heading text-title ml-[4rem]"},"Nr.",-1)),sl(m("input",{type:"text",class:"bg-white font-semibold text-subtitle w-[10rem] px-[2rem] py-[1rem] text-center rounded-xl outline-none","onUpdate:modelValue":M[4]||(M[4]=B=>d.value=B),placeholder:"nr"},null,512),[[vu,d.value]])]),m("button",{onClick:A,class:"absolute left-0 top-[50%] -translate-y-[50%] cursor-pointer h-[8rem] transition-transform will-change-transform hover:scale-[1.1]"},M[13]||(M[13]=[m("svg",{width:"47",height:"83",viewBox:"0 0 47 83",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"-scale-x-[100%] h-full"},[m("path",{d:"M19.319 0H0L26.5276 40.7869L0 83H19.319L47 40.7869L19.319 0Z",fill:"#FBC151"})],-1)])),m("button",{onClick:S,class:"absolute right-0 top-[50%] -translate-y-[50%] cursor-pointer h-[8rem] transition-transform will-change-transform hover:scale-[1.1]"},M[14]||(M[14]=[m("svg",{width:"47",height:"83",viewBox:"0 0 47 83",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full"},[m("path",{d:"M19.319 0H0L26.5276 40.7869L0 83H19.319L47 40.7869L19.319 0Z",fill:"#FBC151"})],-1)]))]),y.value?(X(),Ot(rae,{key:0,onClose:M[5]||(M[5]=()=>{y.value=!1}),author:u.value.original_author,integral:u.value.integral,totalTime:P(s)},null,8,["author","integral","totalTime"])):je("",!0),C.value?(X(),Ot(aae,{key:1,onClose:M[6]||(M[6]=()=>{C.value=!1}),solution:u.value.integral_answer},null,8,["solution"])):je("",!0)])}}}),_ae={key:1},wae=st({__name:"Flag",props:{country:{}},setup(t){const e=t,r=Object.assign({"/src/assets/flags/SearchIcon.svg":()=>ze(()=>import("./SearchIcon-ChFdRqRu.js"),[]),"/src/assets/flags/armenia.svg":()=>ze(()=>import("./armenia-FQ2WnrNL.js"),[]),"/src/assets/flags/austria.svg":()=>ze(()=>import("./austria-9X4WiDZM.js"),[]),"/src/assets/flags/azerbaijan.svg":()=>ze(()=>import("./azerbaijan-DHgIYh9_.js"),[]),"/src/assets/flags/bahamas.svg":()=>ze(()=>import("./bahamas-BPRKPBFa.js"),[]),"/src/assets/flags/bashkortostan.svg":()=>ze(()=>import("./bashkortostan-6JjkyBcg.js"),[]),"/src/assets/flags/belarus.svg":()=>ze(()=>import("./belarus-BSP_pTV0.js"),[]),"/src/assets/flags/belgium.svg":()=>ze(()=>import("./belgium-Dk7iI74-.js"),[]),"/src/assets/flags/bosnia_and_herzegovina.svg":()=>ze(()=>import("./bosnia_and_herzegovina-CFWhkq9J.js"),[]),"/src/assets/flags/brazil.svg":()=>ze(()=>import("./brazil-Caclndyp.js"),[]),"/src/assets/flags/bulgaria.svg":()=>ze(()=>import("./bulgaria-DVjaq2-m.js"),[]),"/src/assets/flags/canada.svg":()=>ze(()=>import("./canada-CCSFyOMW.js"),[]),"/src/assets/flags/china.svg":()=>ze(()=>import("./china-BI-wTxsC.js"),[]),"/src/assets/flags/colombia.svg":()=>ze(()=>import("./colombia-CLlRokst.js"),[]),"/src/assets/flags/cuba.svg":()=>ze(()=>import("./cuba-DStqNGeR.js"),[]),"/src/assets/flags/czech_republic.svg":()=>ze(()=>import("./czech_republic-DcQFii9v.js"),[]),"/src/assets/flags/denmark.svg":()=>ze(()=>import("./denmark-Eyx2rnPg.js"),[]),"/src/assets/flags/england.svg":()=>ze(()=>import("./england-BKPCvne4.js"),[]),"/src/assets/flags/estonia.svg":()=>ze(()=>import("./estonia-D_C07-Vz.js"),[]),"/src/assets/flags/faroe_islands.svg":()=>ze(()=>import("./faroe_islands-B5_n-8UF.js"),[]),"/src/assets/flags/finland.svg":()=>ze(()=>import("./finland-D6uyDMhR.js"),[]),"/src/assets/flags/france.svg":()=>ze(()=>import("./france-CTwh_zv-.js"),[]),"/src/assets/flags/germany.svg":()=>ze(()=>import("./germany-Bu8R4iAX.js"),[]),"/src/assets/flags/greece.svg":()=>ze(()=>import("./greece-DT9c05d9.js"),[]),"/src/assets/flags/honduras.svg":()=>ze(()=>import("./honduras-DlbNySCg.js"),[]),"/src/assets/flags/hungary.svg":()=>ze(()=>import("./hungary-CN6EYioT.js"),[]),"/src/assets/flags/iceland.svg":()=>ze(()=>import("./iceland-CZJm0z6i.js"),[]),"/src/assets/flags/ireland.svg":()=>ze(()=>import("./ireland-BTO5yV7M.js"),[]),"/src/assets/flags/israel.svg":()=>ze(()=>import("./israel-B7GgHtt7.js"),[]),"/src/assets/flags/italy.svg":()=>ze(()=>import("./italy-C7ImpN3z.js"),[]),"/src/assets/flags/japan.svg":()=>ze(()=>import("./japan-DyOk_pz2.js"),[]),"/src/assets/flags/latvia.svg":()=>ze(()=>import("./latvia-Bq6iVNzU.js"),[]),"/src/assets/flags/lithuania.svg":()=>ze(()=>import("./lithuania-B3UYNIQk.js"),[]),"/src/assets/flags/luxemburg.svg":()=>ze(()=>import("./luxemburg-XFt_NF6C.js"),[]),"/src/assets/flags/malta.svg":()=>ze(()=>import("./malta-DiaeqCSe.js"),[]),"/src/assets/flags/mauritius.svg":()=>ze(()=>import("./mauritius-CEM_N1dn.js"),[]),"/src/assets/flags/moldova.svg":()=>ze(()=>import("./moldova-Bu4mq4Kp.js"),[]),"/src/assets/flags/monaco.svg":()=>ze(()=>import("./monaco-Cmr3invz.js"),[]),"/src/assets/flags/morocco.svg":()=>ze(()=>import("./morocco-DpEJ22yH.js"),[]),"/src/assets/flags/netherlands.svg":()=>ze(()=>import("./netherlands-DClOC_k9.js"),[]),"/src/assets/flags/nigeria.svg":()=>ze(()=>import("./nigeria-r9UMu8js.js"),[]),"/src/assets/flags/no_affiliation.svg":()=>ze(()=>import("./no_affiliation-qm0Yslf8.js"),[]),"/src/assets/flags/north_macedonia.svg":()=>ze(()=>import("./north_macedonia-DISe2lx6.js"),[]),"/src/assets/flags/northern_ireland.svg":()=>ze(()=>import("./northern_ireland-VEUpbqwT.js"),[]),"/src/assets/flags/norway.svg":()=>ze(()=>import("./norway-CXcbuwVR.js"),[]),"/src/assets/flags/palestine.svg":()=>ze(()=>import("./palestine-2z7QoqC0.js"),[]),"/src/assets/flags/panama.svg":()=>ze(()=>import("./panama-Cn_rZmBU.js"),[]),"/src/assets/flags/peru.svg":()=>ze(()=>import("./peru-CYypq2tt.js"),[]),"/src/assets/flags/philippines.svg":()=>ze(()=>import("./philippines-AsNu4Ys2.js"),[]),"/src/assets/flags/poland.svg":()=>ze(()=>import("./poland-D8OWy09r.js"),[]),"/src/assets/flags/portugal.svg":()=>ze(()=>import("./portugal-DggyJQy_.js"),[]),"/src/assets/flags/republic_of_tatarstan.svg":()=>ze(()=>import("./republic_of_tatarstan-0Nt1W-7h.js"),[]),"/src/assets/flags/romania.svg":()=>ze(()=>import("./romania-BJdpOR1d.js"),[]),"/src/assets/flags/russian_federation.svg":()=>ze(()=>import("./russian_federation-ChVRs_xN.js"),[]),"/src/assets/flags/san_marino.svg":()=>ze(()=>import("./san_marino-CZlc7GQ8.js"),[]),"/src/assets/flags/saudi_arabia.svg":()=>ze(()=>import("./saudi_arabia-DxFVo2BH.js"),[]),"/src/assets/flags/scotland.svg":()=>ze(()=>import("./scotland-BS7BYmLz.js"),[]),"/src/assets/flags/slovakia.svg":()=>ze(()=>import("./slovakia-mA9HScYO.js"),[]),"/src/assets/flags/slovenia.svg":()=>ze(()=>import("./slovenia-Bzxj65Id.js"),[]),"/src/assets/flags/south korea.svg":()=>ze(()=>import("./south korea-j3O2Qxfk.js"),[]),"/src/assets/flags/spain.svg":()=>ze(()=>import("./spain-BOyiu_a-.js"),[]),"/src/assets/flags/sweden.svg":()=>ze(()=>import("./sweden-_QECc1gH.js"),[]),"/src/assets/flags/switzerland.svg":()=>ze(()=>import("./switzerland-CLUZOruD.js"),[]),"/src/assets/flags/turkey.svg":()=>ze(()=>import("./turkey-CWr7D4Up.js"),[]),"/src/assets/flags/ukraine.svg":()=>ze(()=>import("./ukraine-BuQaxBEf.js"),[]),"/src/assets/flags/united_arab_emirates.svg":()=>ze(()=>import("./united_arab_emirates-G5rMn6sg.js"),[]),"/src/assets/flags/united_kingdom.svg":()=>ze(()=>import("./united_kingdom-D1Klrm1_.js"),[]),"/src/assets/flags/united_states.svg":()=>ze(()=>import("./united_states-pZ5vdYTJ.js"),[]),"/src/assets/flags/vatican.svg":()=>ze(()=>import("./vatican-DDephnss.js"),[]),"/src/assets/flags/vietnam.svg":()=>ze(()=>import("./vietnam-D9fjt1Ar.js"),[])}),i=e.country.toLowerCase().replace(/\s+/g,"_"),n=sr(()=>{const s=`${i}.svg`,a=Object.keys(r).find(o=>o.endsWith(s));return a?eF(r[a]):(console.error(`Flag for country "${e.country}" not found.`),null)});return(s,a)=>(X(),ne("div",null,[n.value?(X(),Ot(cF(n.value),{key:0,class:"block w-full h-full"})):(X(),ne("div",_ae,ge(P(i)),1))]))}}),Sae={class:"mr-2 w-min-0 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"},Cae={key:0,class:"absolute z-30 left-0 mt-2 max-h-[16rem] overflow-hidden overflow-y-auto w-max bg-white rounded-[inherit] shadow-lg ring-opacity-5 focus:outline-none"},kae=["onClick"],T9=st({__name:"Select",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(t,{emit:e}){const r=e,i=Xe(!1),n=Xe(null);function s(){i.value=!i.value}function a(l){r("update:modelValue",l),i.value=!1}function o(l){n.value&&!n.value.contains(l.target)&&(i.value=!1)}return qr(()=>{document.addEventListener("click",o)}),oo(()=>{document.removeEventListener("click",o)}),(l,u)=>(X(),ne("div",{ref_key:"dropdownRef",ref:n,class:"relative inline-block text-left"},[m("button",{onClick:s,class:"inline-flex items-center justify-between px-6 py-2 bg-white h-full w-full text-gray-700 rounded-[inherit] hover:bg-gray-50 focus:outline-none overflow-hidden"},[m("span",Sae,ge(l.modelValue),1),u[0]||(u[0]=m("svg",{class:"h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})],-1))]),i.value?(X(),ne("div",Cae,[m("ul",null,[(X(!0),ne(yt,null,Nr(l.options,c=>(X(),ne("li",{key:c,onClick:d=>a(c),class:"cursor-pointer px-6 py-3 text-gray-700 transition-colors duration-100 hover:bg-gray-100"},ge(c),9,kae))),128))])])):je("",!0)],512))}}),Tae=ki("rankingsStore",{state:()=>({eloRankings:[],gymRankings:[],currentPage:1,totalPages:1,totalPlayers:0,pageSize:20,searchQuery:"",selectedRegion:"All",selectedRankingType:"Integration Bee",availableRegions:["All"],loading:!1,error:null}),getters:{currentRankings:t=>t.selectedRankingType==="Integration Bee"?t.eloRankings:t.gymRankings,uniqueRegions:t=>{const r=(t.selectedRankingType==="Integration Bee"?t.eloRankings:t.gymRankings).map(i=>i.region).filter(Boolean);return["All",...Array.from(new Set(r))]},uniqueInstitutions:t=>{const r=(t.selectedRankingType==="Integration Bee"?t.eloRankings:t.gymRankings).map(i=>i.institution).filter(Boolean);return Array.from(new Set(r))},hasNextPage:t=>t.currentPage<t.totalPages,hasPreviousPage:t=>t.currentPage>1,rankingApiUrl:t=>t.selectedRankingType==="Integration Bee"?"/eloUserData/":"/gymUserData/"},actions:{async fetchRankings(t,e=1,r="",i="All"){this.loading=!0,this.error=null;try{const n=t==="Integration Bee"?"/eloUserData/":"/gymUserData/",s={page:e,page_size:this.pageSize};r&&(s.search=r),i&&i!=="All"&&(s.region=i);const a=await wi.get(n,{params:s});console.log(a.data);const o=(e-1)*this.pageSize+1,l=a.data.results.map((u,c)=>({id:u.id,first_name:u.first_name,last_name:u.last_name,username:u.username||"",institution:u.institution,region:u.region,elo_rating:u.elo_rating,ranking_gym:u.ranking_gym,rank:o+c}));t==="Integration Bee"?this.eloRankings=l:this.gymRankings=l,this.totalPlayers=a.data.count,this.totalPages=Math.ceil(a.data.count/this.pageSize),this.currentPage=e,this.searchQuery=r,this.selectedRegion=i,this.selectedRankingType=t,this.updateAvailableRegions()}catch(n){this.error="Failed to fetch rankings",jt().addToast({type:"error",title:"Error fetching rankings",message:"Could not load the rankings data. Please try again."}),console.error("Error fetching rankings:",n)}finally{this.loading=!1}},async fetchAllRegions(){try{const[t,e]=await Promise.all([wi.get("/eloUserData/",{params:{page_size:1e3}}),wi.get("/gymUserData/",{params:{page_size:1e3}})]),r=[...t.data.results,...e.data.results],i=new Set(["All"]);r.forEach(n=>{n.region&&i.add(n.region)}),this.availableRegions=Array.from(i).sort()}catch(t){console.error("Error fetching regions:",t),this.availableRegions=["All","Austria","Germany","Italy","Spain","France","United Kingdom"]}},updateAvailableRegions(){const t=this.selectedRankingType==="Integration Bee"?this.eloRankings:this.gymRankings,e=new Set(["All"]);t.forEach(r=>{r.region&&e.add(r.region)}),this.availableRegions=Array.from(e).sort()},async changePage(t){t>=1&&t<=this.totalPages&&await this.fetchRankings(this.selectedRankingType,t,this.searchQuery,this.selectedRegion)},async nextPage(){this.hasNextPage&&await this.changePage(this.currentPage+1)},async previousPage(){this.hasPreviousPage&&await this.changePage(this.currentPage-1)},async searchPlayers(t){this.currentPage=1,await this.fetchRankings(this.selectedRankingType,1,t,this.selectedRegion)},async filterByRegion(t){this.currentPage=1,await this.fetchRankings(this.selectedRankingType,1,this.searchQuery,t)},async switchRankingType(t){this.currentPage=1,this.searchQuery="",this.selectedRegion="All",await this.fetchRankings(t,1)},resetFilters(){this.searchQuery="",this.selectedRegion="All",this.currentPage=1}}}),Eae={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] flex flex-col bg-screenBlack font-body text-body text-screenBlack"},Aae={class:"flex flex-col lg:grid lg:grid-cols-[3fr_2fr_8fr] h-max lg:h-[5rem] gap-4"},Mae={class:"font-heading text-pearl-white flex items-center justify-start gap-4"},Dae={class:"font-heading text-pearl-white flex items-center justify-start gap-4"},Lae={class:"flex items-center relative justify-end h-[5rem]"},Bae=["disabled"],Pae=["disabled"],Iae={class:"z-20 top-0 grid grid-cols-[4rem_2fr_1fr_2fr_2fr] md:grid-cols-[8rem_2fr_1fr_2fr_1fr] text-text-xs md:text-text-sm xl:text-body overflow-y-auto text-pearl-white py-[2rem] gutterStable"},Rae=["title"],Oae={class:"w-full max-h-[70rem] overflow-x-auto overflow-y-auto bg-pearl-white rounded gutterStable"},Fae={key:0,class:"flex justify-center items-center py-12"},Nae={key:1,class:"flex justify-center items-center py-12"},$ae={class:"text-red font-heading text-body-lg"},zae={key:2,class:"flex justify-center items-center py-12"},Uae={key:3},qae={class:"flex justify-center items-center"},jae={class:"flex justify-center items-center text-center"},Vae={class:"flex justify-center items-center"},Hae=["title"],Kae={class:"block w-full overflow-hidden whitespace-nowrap text-ellipsis"},Wae={class:"flex justify-center items-center"},Gae={class:"w-full flex justify-center items-center py-[2rem]"},Xae={class:"flex gap-[2rem] items-center justify-center h-[4rem]"},Yae=["disabled"],Zae={class:"w-max px-[1rem] bg-pearl-white rounded-xl h-full flex justify-center items-center font-heading"},Jae=["disabled"],Qae={class:"w-full flex justify-center items-center pb-[2rem]"},eoe={class:"text-pearl-white font-body text-text-sm"},toe=st({__name:"Rankings",setup(t){const e=Tae(),{currentRankings:r,availableRegions:i,loading:n,error:s,currentPage:a,totalPages:o,totalPlayers:l,hasNextPage:u,hasPreviousPage:c,selectedRankingType:d,selectedRegion:h,searchQuery:f}=Ur(e),g=Xe(""),y=Xe("All"),C=Xe("Integration Bee"),S=sr(()=>r.value.map((D,B)=>{var F,V;return{nr:D.rank||(a.value-1)*20+B+1,name:`${D.first_name} ${D.last_name}`,result:d.value==="Integration Bee"?((F=D.elo_rating)==null?void 0:F.toString())||"0":((V=D.ranking_gym)==null?void 0:V.toString())||"0",school:D.institution||"No affiliation",region:D.region||"No affiliation",profilePicture:null}}));pi(C,async D=>{await e.switchRankingType(D)}),pi(y,async D=>{await e.filterByRegion(D)});const A=async()=>{await e.nextPage()},T=async()=>{await e.previousPage()},M=async()=>{n.value||await e.searchPlayers(g.value)};return qr(async()=>{await e.fetchAllRegions(),await e.fetchRankings("Integration Bee",1)}),(D,B)=>(X(),Ot(Fn,null,{default:We(()=>[B[15]||(B[15]=m("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] 2xl:px-[calc(50vw-70rem)] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},[m("h1",{class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"}," Rankings ")],-1)),m("div",Eae,[m("div",Aae,[m("div",Mae,[B[3]||(B[3]=tt(" Category: ")),ye(T9,{modelValue:C.value,"onUpdate:modelValue":B[0]||(B[0]=F=>C.value=F),options:["Integration Bee","Integration Gym"],class:"h-full text-body w-[18rem] rounded-[15px]"},null,8,["modelValue"])]),m("div",Dae,[B[4]||(B[4]=tt(" Region: ")),ye(T9,{modelValue:y.value,"onUpdate:modelValue":B[1]||(B[1]=F=>y.value=F),options:P(i),class:"h-full text-body w-[12rem] rounded-[15px]"},null,8,["modelValue","options"])]),m("div",Lae,[sl(m("input",{"onUpdate:modelValue":B[2]||(B[2]=F=>g.value=F),type:"text",class:"rounded-[15px] bg-pearl-white font-body text-body w-full h-full pl-[1rem] pr-[4rem] max-w-[60rem]",placeholder:"Find integrators...",disabled:P(n)},null,8,Bae),[[vu,g.value]]),m("button",{onClick:M,disabled:P(n),class:"absolute right-[1rem] top-[50%] -translate-y-[50%] h-[3.5rem] w-[3.5rem]",title:"Search"},B[5]||(B[5]=[m("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("circle",{cx:"17.2961",cy:"17.2961",r:"15.7961",stroke:"#242424","stroke-width":"3"}),m("path",{d:"M27.5068 30.4541L30.4539 27.5071L43.5978 40.651C43.9883 41.0415 43.9883 41.6747 43.5978 42.0652L42.065 43.598C41.6745 43.9886 41.0413 43.9886 40.6508 43.598L27.5068 30.4541Z",fill:"#242424"})],-1)]),8,Pae)])]),m("div",Iae,[B[7]||(B[7]=m("div",{class:"flex justify-center items-center"},"#",-1)),B[8]||(B[8]=m("div",{class:"flex justify-center items-center"},"name",-1)),m("div",{class:"flex justify-center items-center gap-2",title:P(d)==="Integration Bee"?"Modified ELO Rating":"Gym problems solved"},[tt(ge(P(d)==="Integration Bee"?"Rating":"Gym Rating")+" ",1),B[6]||(B[6]=m("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"hidden md:flex"},[m("path",{d:"M16.4692 3.77109L23.4637 11.1924L20.5339 20.9605L10.6096 23.3072L3.61513 15.8859L6.54491 6.11786L16.4692 3.77109Z",stroke:"#F2F1F0","stroke-width":"1.17031"}),m("path",{d:"M12.6043 15.7582C12.6043 15.3624 12.6631 14.9879 12.7808 14.6348C12.9092 14.271 13.1393 13.8538 13.4709 13.383C13.8561 12.8373 14.1182 12.3666 14.2573 11.9707C14.3964 11.5748 14.466 11.1575 14.466 10.7189C14.466 10.3337 14.3911 10.0555 14.2413 9.88432C14.0915 9.70244 13.8722 9.61149 13.5833 9.61149C13.2944 9.61149 13.0751 9.70244 12.9253 9.88432C12.7755 10.0555 12.7006 10.3337 12.7006 10.7189V11.9386H11.0315V10.8312C11.0315 9.92177 11.2508 9.22632 11.6895 8.74485C12.1282 8.25268 12.7701 8.00659 13.6154 8.00659C14.4713 8.00659 15.1186 8.25268 15.5573 8.74485C16.0067 9.22632 16.2314 9.92177 16.2314 10.8312C16.2314 11.3234 16.1404 11.7995 15.9585 12.2596C15.7873 12.7089 15.4878 13.2172 15.0598 13.7842C14.7174 14.2443 14.4767 14.6295 14.3376 14.9398C14.2092 15.2393 14.145 15.5336 14.145 15.8224V16.4323H12.6043V15.7582ZM12.524 17.7002H14.2252V19.4014H12.524V17.7002Z",fill:"white"})],-1))],8,Rae),B[9]||(B[9]=m("div",{class:"flex justify-center items-center"},"school",-1)),B[10]||(B[10]=m("div",{class:"flex justify-center items-center"},"region",-1))]),m("div",Oae,[P(n)?(X(),ne("div",Fae,B[11]||(B[11]=[m("div",{class:"text-screenBlack font-heading text-body-lg"},"Loading rankings...",-1)]))):P(s)?(X(),ne("div",Nae,[m("div",$ae,ge(P(s)),1)])):S.value.length===0?(X(),ne("div",zae,B[12]||(B[12]=[m("div",{class:"text-screenBlack font-heading text-body-lg"},"No players found",-1)]))):(X(),ne("div",Uae,[(X(!0),ne(yt,null,Nr(S.value,(F,V)=>(X(),ne("div",{key:`${F.nr}-${F.name}`,class:"grid grid-cols-[4rem_2fr_1fr_2fr_2fr] md:grid-cols-[8rem_2fr_1fr_2fr_1fr] text-text-xs md:text-text-sm xl:text-body text-screenBlack py-6 even:bg-pearl-white-300"},[m("div",qae,ge(F.nr),1),m("div",jae,ge(F.name),1),m("div",Vae,ge(F.result),1),m("div",{class:"flex justify-center items-center text-center min-w-0 w-full",title:F.school},[m("span",Kae,ge(F.school),1)],8,Hae),m("div",Wae,[ye(wae,{country:F.region,class:"w-[3rem] lg:w-[4rem] shadow-md overflow-hidden rounded-sm",title:F.region},null,8,["country","title"])])]))),128))]))]),m("div",Gae,[m("div",Xae,[m("button",{onClick:T,disabled:!P(c)||P(n),class:Wt(["h-[80%] transition-all duration-200",P(c)&&!P(n)?"lg:hover:scale-[110%] cursor-pointer":"opacity-50 cursor-not-allowed"]),title:"previous page"},B[13]||(B[13]=[m("svg",{width:"15",height:"30",viewBox:"0 0 15 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M15 0H10L0 15L10 30H15L5 15L15 0Z",fill:"#F2F1F0"}),m("path",{d:"M0 15L10 30H15L5 15H0Z",fill:"#D9D9D9"})],-1)]),10,Yae),m("div",Zae,[m("p",null,ge(P(a))+" / "+ge(P(o)||1),1)]),m("button",{onClick:A,disabled:!P(u)||P(n),class:Wt(["h-[80%] transition-all duration-200",P(u)&&!P(n)?"lg:hover:scale-[110%] cursor-pointer":"opacity-50 cursor-not-allowed"]),title:"next page"},B[14]||(B[14]=[m("svg",{width:"15",height:"30",viewBox:"0 0 15 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M0 0H5L15 15L5 30H0L10 15L0 0Z",fill:"#F2F1F0"}),m("path",{d:"M15 15L5 30H0L10 15H15Z",fill:"#D9D9D9"})],-1)]),10,Jae)])]),m("div",Qae,[m("div",eoe," Showing "+ge(S.value.length)+" of "+ge(P(l))+" players ",1)])])]),_:1}))}}),roe=uo(toe,[["__scopeId","data-v-76121dfe"]]),ioe={class:"fixed top-0 w-full px-[1rem] lg:px-[2rem] xl:px-[10vw] font-body z-30 h-[8rem] lg:h-[10rem] text-secondary py-4"},noe={class:"w-full h-full bg-screenBlack lg:bg-pearl-white lg:bg-opacity-90 lg:backdrop-blur-sm rounded-xl lg:rounded-3xl shadow-md px-8 lg:px-6"},soe={class:"relative h-full flex items-center justify-between font-heading text-subtitle"},aoe={class:"flex items-center gap-4"},ooe=st({__name:"GamingHeader",setup(t){const e=B0(),{isRulesVisible:r}=Ur(e),i=Si();Ur(i);const n=Fu(),s=Xe(!1),a=Xe(!1),o=Xe(""),l=h=>{o.value=h,a.value=!0,document.getElementsByTagName("body")[0].style.overflowY="hidden"},u=()=>{a.value=!1,o.value="",document.getElementsByTagName("body")[0].style.overflowY="unset"},c=()=>{console.log("Confirming quit with route:",o.value);const h=o.value;u(),console.log("About to navigate to:",h),n.push(h).then(()=>{console.log("Navigation successful")}).catch(f=>{console.error("Navigation failed:",f)})},d=h=>{l(h)};return document.addEventListener("click",()=>{s.value=!1}),(h,f)=>(X(),ne(yt,null,[m("div",ioe,[m("div",noe,[m("div",soe,[m("div",null,[m("a",{href:"#",draggable:"false",class:"flex items-center gap-3 lg:hover:bg-screenBlack-400 lg:hover:bg-opacity-15 lg:transition-all lg:duration-100 rounded-[10px] px-2 py-2",onClick:f[0]||(f[0]=Dc(g=>d("/"),["prevent"]))},f[5]||(f[5]=[m("span",{class:"h-[3rem] w-[3rem] lg:h-[4rem] lg:w-[4rem]"},[m("svg",{width:"41",height:"41",viewBox:"0 0 41 41",class:"w-full h-full stroke-pearl-white lg:stroke-screenBlack",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M8.04098 21V38.5H32.6311V21M2 17.5L20 2L38.5 17.5","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)]))]),m("div",aoe,[m("a",{href:"#",draggable:"false",class:"flex items-center gap-3 lg:hover:bg-screenBlack-400 lg:hover:bg-opacity-15 lg:transition-all lg:duration-100 rounded-[10px] px-4 py-2",onClick:f[1]||(f[1]=Dc(g=>d("/rankings"),["prevent"]))},f[6]||(f[6]=[sa('<span class="h-[3rem] w-[3rem] lg:h-[4rem] lg:w-[4rem] p-1"><svg width="37" height="36" viewBox="0 0 37 36" class="w-full h-full fill-pearl-white lg:fill-screenBlack" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="22" height="10" rx="2"></rect><rect y="13" width="32" height="10" rx="2"></rect><rect y="26" width="37" height="10" rx="2"></rect></svg></span><p class="hidden lg:flex">Leaderboards</p>',2)])),m("button",{title:"show rules","aria-label":"show rules",class:"flex items-center gap-3 lg:hover:bg-screenBlack-400 lg:hover:bg-opacity-15 lg:transition-all lg:duration-100 rounded-[5px] rounded-[10px] px-4 py-2",onClick:f[2]||(f[2]=g=>r.value=!P(r)),draggable:"false"},f[7]||(f[7]=[sa('<span class="h-[3rem] w-[3rem] lg:h-[4rem] lg:w-[4rem]"><svg width="58" height="53" viewBox="0 0 58 53" class="w-full h-full" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M55.5488 23.1529L45.1348 47.8804L18.5146 51.2232L2.30762 29.8423L12.7217 5.11478L39.3418 1.77103L55.5488 23.1529Z" class="stroke-pearl-white lg:stroke-screenBlack" stroke-width="2.89231"></path><path d="M26.6406 30.9964C26.6406 30.018 26.7861 29.0925 27.0769 28.2199C27.3943 27.3209 27.9628 26.2896 28.7825 25.1261C29.7344 23.7776 30.3822 22.6141 30.726 21.6357C31.0697 20.6574 31.2416 19.6261 31.2416 18.542C31.2416 17.5901 31.0565 16.9026 30.6863 16.4795C30.3161 16.03 29.7741 15.8052 29.0601 15.8052C28.3462 15.8052 27.8041 16.03 27.4339 16.4795C27.0637 16.9026 26.8786 17.5901 26.8786 18.542V21.5564H22.7536V18.8196C22.7536 16.572 23.2957 14.8533 24.3798 13.6634C25.464 12.447 27.0505 11.8388 29.1395 11.8388C31.2548 11.8388 32.8546 12.447 33.9387 13.6634C35.0493 14.8533 35.6046 16.572 35.6046 18.8196C35.6046 20.036 35.3799 21.2127 34.9303 22.3497C34.5073 23.4603 33.7669 24.7163 32.7092 26.1177C31.863 27.2548 31.2681 28.2067 30.9243 28.9735C30.607 29.7139 30.4484 30.4411 30.4484 31.155V32.6622H26.6406V30.9964ZM26.4423 35.7957H30.6467V40H26.4423V35.7957Z" class="fill-pearl-white lg:fill-screenBlack"></path></svg></span><p class="hidden lg:flex"> Rules </p>',2)])),m("a",{href:"#",draggable:"false",class:"flex items-center gap-3 lg:hover:bg-screenBlack-400 lg:hover:bg-opacity-15 lg:transition-all lg:duration-100 rounded-[5px] rounded-[10px] px-4 py-2",onClick:f[3]||(f[3]=Dc(g=>d("/myprofile"),["prevent"]))},f[8]||(f[8]=[m("span",{class:"h-[3rem] w-[3rem] lg:h-[4rem] lg:w-[4rem]"},[m("svg",{width:"45",height:"43",viewBox:"0 0 45 43",class:"w-full h-full fill-pearl-white lg:fill-screenBlack",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40254 24.0217L10.2674 5.35599L30.3648 2.83425L42.5974 18.9783L37.1086 32.005V31.958C37.1086 31.2435 36.7274 30.5833 36.1086 30.226L24.2332 23.3698C23.6144 23.0125 22.852 23.0125 22.2332 23.3698L10.3579 30.226C9.73907 30.5833 9.35787 31.2435 9.35787 31.958V33.201L2.40254 24.0217ZM9.75597 36.9234L0.539109 24.7595C0.323346 24.4747 0.275887 24.0965 0.414609 23.7673L8.69674 4.11108C8.83547 3.78185 9.1393 3.55163 9.49378 3.50715L30.6576 0.851605C31.0121 0.807124 31.3634 0.955141 31.5791 1.23989L44.4608 18.2405C44.6766 18.5253 44.724 18.9035 44.5853 19.2327L36.9516 37.3498L36.5273 38.3569L36.3032 38.8889C36.1645 39.2181 35.8606 39.4484 35.5061 39.4928L34.9398 39.5639C34.9376 39.5642 34.9354 39.5645 34.9332 39.5647L14.9151 42.0765C14.9127 42.0768 14.9102 42.0771 14.9077 42.0775L14.3423 42.1484C13.9878 42.1929 13.6366 42.0449 13.4208 41.7601L13.0799 41.3102C13.0773 41.3068 13.0747 41.3034 13.0721 41.2999L9.76379 36.9338C9.76117 36.9304 9.75856 36.9269 9.75597 36.9234ZM22.2333 9.90211C22.8521 9.54484 23.6145 9.54484 24.2333 9.90211L28.065 12.1143C28.6838 12.4716 29.065 13.1318 29.065 13.8464V18.2708C29.065 18.9853 28.6838 19.6456 28.065 20.0028L24.2333 22.2151C23.6145 22.5723 22.8521 22.5723 22.2333 22.2151L18.4016 20.0028C17.7828 19.6456 17.4016 18.9853 17.4016 18.2708V13.8464C17.4016 13.1318 17.7828 12.4716 18.4016 12.1143L22.2333 9.90211Z"})])],-1),m("p",{class:"hidden lg:flex"},"Profile",-1)]))])])])]),a.value?(X(),ne("div",{key:0,class:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex justify-center items-center z-[502]",onClick:u},[m("div",{class:"bg-white rounded-3xl p-8 max-w-[50rem] w-full mx-4 text-screenBlack font-body",onClick:f[4]||(f[4]=Dc(()=>{},["stop"]))},[m("div",{class:"flex flex-col gap-8 text-center"},[f[9]||(f[9]=sa('<div class="flex justify-center"><div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 9V13M12 17H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="#EF4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></div><div><h3 class="font-heading text-subtitle text-screenBlack mb-2">Quit Game?</h3><p class="text-body text-gray-600">Are you sure you want to quit the game? Your progress might be lost.</p></div>',2)),m("div",{class:"flex gap-4"},[m("button",{draggable:"false",onClick:u,class:"flex-1 bg-gray-200 text-screenBlack py-3 px-6 rounded-xl font-heading text-body lg:hover:bg-gray-300 transition-colors duration-100"}," Stay "),m("button",{draggable:"false",onClick:c,class:"flex-1 bg-red-500 text-white py-3 px-6 rounded-xl font-heading text-body lg:hover:bg-red-600 transition-colors duration-100"}," Quit Game ")])])])])):je("",!0)],64))}}),loe=st({__name:"GamingLayout",setup(t){const e=B0();return Ur(e),(r,i)=>(X(),ne("div",null,[(X(),Ot(lT,null,[ye(ooe)],1024)),m("main",null,[Bg(r.$slots,"default")]),ye(PE)]))}});var uoe=Object.defineProperty,coe=Object.defineProperties,doe=Object.getOwnPropertyDescriptors,ng=Object.getOwnPropertySymbols,gB=Object.prototype.hasOwnProperty,yB=Object.prototype.propertyIsEnumerable,E9=(t,e,r)=>e in t?uoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,q=(t,e)=>{for(var r in e||(e={}))gB.call(e,r)&&E9(t,r,e[r]);if(ng)for(var r of ng(e))yB.call(e,r)&&E9(t,r,e[r]);return t},Z=(t,e)=>coe(t,doe(e)),A9=t=>typeof t=="symbol"?t:t+"",sg=(t,e)=>{var r={};for(var i in t)gB.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&ng)for(var i of ng(t))e.indexOf(i)<0&&yB.call(t,i)&&(r[i]=t[i]);return r};function gi(t){return Array.isArray(t)}var hoe={en:{"keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.alphabetic":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.cut to clipboard":"Cut to Clipboard","tooltip.paste from clipboard":"Paste from Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.menu":"Menu","tooltip.undo":"Undo","menu.borders":"Borders","menu.insert matrix":"Insert Matrix","menu.array.add row above":"Add Row Before","menu.array.add row below":"Add Row After","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows","menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","menu.insert":"Insert","menu.insert.abs":"Absolute Value","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"n<sup>th</sup> Root","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Logarithm base a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Calculus","menu.insert.derivative":"Derivative","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"n<sup>th</sup> derivative","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Integral","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Sum","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Product","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Complex Numbers","menu.insert.modulus":"Modulus","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Argument","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Real Part","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Imaginary Part","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Conjugate","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Blackboard","tooltip.bold":"Bold","tooltip.italic":"Italic","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligraphic","tooltip.typewriter":"Typewriter","tooltip.roman-upright":"Roman Upright","tooltip.row-by-col":"%@ × %@","menu.font-style":"Font Style","menu.accent":"Accent","menu.decoration":"Decoration","menu.color":"Color","menu.background-color":"Background","menu.evaluate":"Evaluate","menu.simplify":"Simplify","menu.solve":"Solve","menu.solve-for":"Solve for %@","menu.cut":"Cut","menu.copy":"Copy","menu.copy-as-latex":"Copy as LaTeX","menu.copy-as-ascii-math":"Copy as ASCII Math","menu.copy-as-mathml":"Copy as MathML","menu.paste":"Paste","menu.select-all":"Select All","color.red":"Red","color.orange":"Orange","color.yellow":"Yellow","color.lime":"Lime","color.green":"Green","color.teal":"Teal","color.cyan":"Cyan","color.blue":"Blue","color.indigo":"Indigo","color.purple":"Purple","color.magenta":"Magenta","color.black":"Black","color.dark-grey":"Dark Grey","color.grey":"Grey","color.light-grey":"Light Grey","color.white":"White"},ar:{"keyboard.tooltip.symbols":"حرف او رمز","keyboard.tooltip.greek":"حروف يونانية","keyboard.tooltip.numeric":"الرقمية","keyboard.tooltip.alphabetic":"رموز الاحرف الرومانية","tooltip.copy to clipboard":"نسخ إلى الحافظة","tooltip.cut to clipboard":"قص إلى الحافظة","tooltip.paste from clipboard":"لصق من الحافظة","tooltip.redo":"الإعادة","tooltip.toggle virtual keyboard":"تبديل لوحة المفاتيح الإفتراضية","tooltip.undo":"إلغاء","menu.insert matrix":"أدخل المصفوفة","menu.borders":"محددات المصفوفة","menu.array.add row above":"أضف صفًا بعد ذلك","menu.array.add row below":"أضف الصف قبل","menu.array.add column after":"أضف العمود بعد ذلك","menu.array.add column before":"أضف العمود قبل","menu.array.delete row":"احذف صف","menu.array.delete rows":"حذف الصفوف المحددة","menu.array.delete column":"حذف العمود","menu.array.delete columns":"حذف الأعمدة المحددة","menu.mode":"وضع","menu.mode-math":"رياضيات","menu.mode-text":"نص","menu.mode-latex":"لاتكس","tooltip.blackboard":"سبورة","tooltip.bold":"عريض","tooltip.italic":"مائل","tooltip.fraktur":"فراكتور","tooltip.script":"سكريبت","tooltip.caligraphic":"كاليجرافيك","tooltip.typewriter":"آلة كاتبة","tooltip.roman-upright":"روماني مستقيم","tooltip.row-by-col":"%@ × %@","menu.font-style":"نمط الخط","menu.accent":"تشكيل","menu.decoration":"زخرفة","menu.color":"لون","menu.background-color":"الخلفية","menu.evaluate":"تقييم","menu.simplify":"تبسيط","menu.solve":"حل","menu.solve-for":"حل لـ %@","menu.cut":"قص","menu.copy":"نسخ","menu.copy-as-latex":"نسخ كـ LaTeX","menu.copy-as-ascii-math":"نسخ كـ ASCII Math","menu.copy-as-mathml":"نسخ كـ MathML","menu.paste":"لصق","menu.select-all":"تحديد الكل","color.red":"أحمر","color.orange":"برتقالي","color.yellow":"أصفر","color.lime":"ليموني","color.green":"أخضر","color.teal":"سماوي","color.cyan":"سماوي فاتح","color.blue":"أزرق","color.indigo":"نيلي","color.purple":"بنفسجي","color.magenta":"أرجواني","color.black":"أسود","color.dark-grey":"رمادي غامق","color.grey":"رمادي","color.light-grey":"رمادي فاتح","color.white":"أبيض"},de:{"keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.alphabetic":"Römische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einfügen","menu.borders":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzufügen nach","menu.array.add row below":"Zeile hinzufügen vor","menu.array.add column after":"Spalte hinzufügen nach","menu.array.add column before":"Spalte hinzufügen vor","menu.array.delete row":"Zeile löschen","menu.array.delete rows":"Ausgewählte Zeilen löschen","menu.array.delete column":"Spalte löschen","menu.array.delete columns":"Ausgewählte Spalten löschen","menu.mode":"Modus","menu.mode-math":"Mathematik","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tafel","tooltip.bold":"Fett","tooltip.italic":"Kursiv","tooltip.fraktur":"Fraktur","tooltip.script":"Skript","tooltip.caligraphic":"Kalligraphie","tooltip.typewriter":"Schreibmaschine","tooltip.roman-upright":"Römisch aufrecht","tooltip.row-by-col":"%@ × %@","menu.font-style":"Schriftstil","menu.accent":"Akzent","menu.decoration":"Dekoration","menu.color":"Farbe","menu.background-color":"Hintergrund","menu.evaluate":"Auswerten","menu.simplify":"Vereinfachen","menu.solve":"Lösen","menu.solve-for":"Lösen für %@","menu.cut":"Ausschneiden","menu.copy":"Kopieren","menu.copy-as-latex":"Als LaTeX kopieren","menu.copy-as-ascii-math":"Als ASCII Math kopieren","menu.copy-as-mathml":"Als MathML kopieren","menu.paste":"Einfügen","menu.select-all":"Alles auswählen","color.red":"Rot","color.orange":"Orange","color.yellow":"Gelb","color.lime":"Limette","color.green":"Grün","color.teal":"Blaugrün","color.cyan":"Cyan","color.blue":"Blau","color.indigo":"Indigo","color.purple":"Lila","color.magenta":"Magenta","color.black":"Schwarz","color.dark-grey":"Dunkelgrau","color.grey":"Grau","color.light-grey":"Hellgrau","color.white":"Weiß"},el:{"keyboard.tooltip.symbols":"σύμβολα","keyboard.tooltip.greek":"ελληνικά γράμματα","keyboard.tooltip.numeric":"Αριθμητικός","keyboard.tooltip.alphabetic":"Ρωμαϊκά γράμματα","tooltip.copy to clipboard":"Αντιγραφή στο πρόχειρο","tooltip.redo":"Ξανακάνω","tooltip.toggle virtual keyboard":"Εναλλαγή εικονικού πληκτρολογίου","tooltip.undo":"Ξεκάνω","menu.insert matrix":"Εισαγωγή μήτρα","menu.borders":"Οριοθέτες μήτρα","menu.array.add row above":"Προσθήκη σειράς μετά","menu.array.add row below":"Προσθήκη σειράς πριν","menu.array.add column after":"Προσθήκη στήλης μετά","menu.array.add column before":"Προσθήκη στήλης πριν","menu.array.delete row":"Διαγραφή σειράς","menu.array.delete rows":"Διαγραφή επιλεγμένων σειρών","menu.array.delete column":"Διαγραφή στήλης","menu.array.delete columns":"Διαγραφή επιλεγμένων στηλών","menu.mode":"Λειτουργία","menu.mode-math":"Μαθηματικά","menu.mode-text":"Κείμενο","menu.mode-latex":"LaTeX","tooltip.blackboard":"Πίνακας","tooltip.bold":"Έντονη","tooltip.italic":"Πλάγια","tooltip.fraktur":"Φράκτουρ","tooltip.script":"Σενάριο","tooltip.caligraphic":"Καλλιγραφική","tooltip.typewriter":"Μηχανή γραφής","tooltip.roman-upright":"Ρωμαϊκό Κατακόρυφο","tooltip.row-by-col":"%@ × %@","menu.font-style":"Στυλ γραμματοσειράς","menu.accent":"Τόνος","menu.decoration":"Διακόσμηση","menu.color":"Χρώμα","menu.background-color":"Χρώμα φόντου","menu.evaluate":"Αξιολόγηση","menu.simplify":"Απλοποίηση","menu.solve":"Λύση","menu.solve-for":"Λύση για %@","menu.cut":"Αποκοπή","menu.copy":"Αντιγραφή","menu.copy-as-latex":"Αντιγραφή ως LaTeX","menu.copy-as-ascii-math":"Αντιγραφή ως ASCII Math","menu.copy-as-mathml":"Αντιγραφή ως MathML","menu.paste":"Επικόλληση","menu.select-all":"Επιλογή όλων","color.red":"Κόκκινο","color.orange":"Πορτοκαλί","color.yellow":"Κίτρινο","color.lime":"Λαχανί","color.green":"Πράσινο","color.teal":"Κυανό","color.cyan":"Γαλάζιο","color.blue":"Μπλε","color.indigo":"Ινδικό","color.purple":"Μωβ","color.magenta":"Ματζέντα","color.black":"Μαύρο","color.dark-grey":"Σκούρο Γκρι","color.grey":"Γκρι","color.light-grey":"Ανοιχτό Γκρι","color.white":"Λευκό"},es:{"keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"Añadir Matriz","menu.borders":"Delimitadores de Matriz","menu.array.add row above":"Añadir Línea Antes","menu.array.add row below":"Añadir Línea Despues","menu.array.add column after":"Añadir Columna Despues","menu.array.add column before":"Añadir Columna Antes","menu.array.delete row":"Borrar Línea","menu.array.delete rows":"Borrar Líneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","menu.mode":"Modo","menu.mode-math":"Matemáticas","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Pizarra","tooltip.bold":"Negrita","tooltip.italic":"Cursiva","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligráfico","tooltip.typewriter":"Máquina de escribir","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@ × %@","menu.font-style":"Estilo de fuente","menu.accent":"Acento","menu.decoration":"Decoración","menu.color":"Color","menu.background-color":"Fondo","menu.evaluate":"Evaluar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Cortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Pegar","menu.select-all":"Seleccionar todo","color.red":"Rojo","color.orange":"Naranja","color.yellow":"Amarillo","color.lime":"Lima","color.green":"Verde","color.teal":"Verde azulado","color.cyan":"Cian","color.blue":"Azul","color.indigo":"Índigo","color.purple":"Morado","color.magenta":"Magenta","color.black":"Negro","color.dark-grey":"Gris oscuro","color.grey":"Gris","color.light-grey":"Gris claro","color.white":"Blanco"},fr:{"keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.numeric":"Numérique","keyboard.tooltip.alphabetic":"Lettres romaines","tooltip.menu":"Menu","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rétablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler","menu.insert matrix":"Insérer une Matrice","menu.borders":"Bords","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Après","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Après","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes Sélectionées","menu.array.delete column":"Enlever une Colone","menu.array.delete columns":"Enlever les Colonnes Sélectionées","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tableau noir","tooltip.bold":"Gras","tooltip.italic":"Italique","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Calligraphique","tooltip.typewriter":"Machine à écrire","tooltip.roman-upright":"Romain droit","tooltip.row-by-col":"%@ × %@","menu.font-style":"Style de police","menu.accent":"Accent","menu.decoration":"Décoration","menu.color":"Couleur","menu.background-color":"Arrière-plan","menu.evaluate":"Évaluer","menu.simplify":"Simplifier","menu.solve":"Résoudre","menu.solve-for":"Résoudre pour %@","menu.cut":"Couper","menu.copy":"Copier","menu.copy-as-latex":"Copier en LaTeX","menu.copy-as-ascii-math":"Copier en ASCII Math","menu.copy-as-mathml":"Copier en MathML","menu.paste":"Coller","menu.select-all":"Sélectionner tout","color.red":"Rouge","color.orange":"Orange","color.yellow":"Jaune","color.lime":"Citron vert","color.green":"Vert","color.teal":"Turquoise","color.cyan":"Cyan","color.blue":"Bleu","color.indigo":"Indigo","color.purple":"Violet","color.magenta":"Magenta","color.black":"Noir","color.dark-grey":"Gris foncé","color.grey":"Gris","color.light-grey":"Gris clair","color.white":"Blanc"},he:{"keyboard.tooltip.symbols":"סמלים","keyboard.tooltip.greek":"אותיות יווניות","keyboard.tooltip.numeric":"מספרי","keyboard.tooltip.alphabetic":"מכתבים רומיים","tooltip.copy to clipboard":"העתק ללוח","tooltip.redo":"לַעֲשׂוֹת שׁוּב","tooltip.toggle virtual keyboard":"החלף את המקלדת הווירטואלית","tooltip.undo":"לבטל","menu.insert matrix":"הכנס מטריקס","menu.borders":"מפרידי מטריקס","menu.array.add row above":"הוסף שורה אחרי","menu.array.add row below":"הוסף שורה לפני","menu.array.add column after":"הוסף עמודה אחרי","menu.array.add column before":"הוסף עמודה לפני","menu.array.delete row":"מחק שורה","menu.array.delete rows":"מחק שורות שנבחרו","menu.array.delete column":"מחק עמודה","menu.array.delete columns":"מחק עמודות שנבחרו","menu.mode":"מצב","menu.mode-math":"מתמטיקה","menu.mode-text":"טקסט","menu.mode-latex":"LaTeX","tooltip.blackboard":"לוח שחור","tooltip.bold":"מודגש","tooltip.italic":"נטוי","tooltip.fraktur":"פרקטור","tooltip.script":"כתב","tooltip.caligraphic":"קליגרפי","tooltip.typewriter":"מכונת כתיבה","tooltip.roman-upright":"רומי ישר","tooltip.row-by-col":"%@ × %@","menu.font-style":"סגנון גופן","menu.accent":"צליל","menu.decoration":"קישוט","menu.color":"צבע","menu.background-color":"רקע","menu.evaluate":"חשב","menu.simplify":"פשט","menu.solve":"פתור","menu.solve-for":"פתור עבור %@","menu.cut":"גזור","menu.copy":"העתק","menu.copy-as-latex":"העתק כ־LaTeX","menu.copy-as-ascii-math":"העתק כ־ASCII Math","menu.copy-as-mathml":"העתק כ־MathML","menu.paste":"הדבק","menu.select-all":"בחר הכל","color.red":"אדום","color.orange":"כתום","color.yellow":"צהוב","color.lime":"ירוק ליים","color.green":"ירוק","color.teal":"טיל","color.cyan":"ציאן","color.blue":"כחול","color.indigo":"אינדיגו","color.purple":"סגול","color.magenta":"מגנטה","color.black":"שחור","color.dark-grey":"אפור כהה","color.grey":"אפור","color.light-grey":"אפור בהיר","color.white":"לבן"},it:{"keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere Greche","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.alphabetic":"Lettere Romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.cut to clipboard":"Taglia negli appunti","tooltip.paste from clipboard":"Incolla dagli appunti","tooltip.redo":"Ripeti","tooltip.toggle virtual keyboard":"Attiva/Disattiva Tastiera Virtuale","tooltip.menu":"Menu","tooltip.undo":"Annulla","menu.borders":"Bordi","menu.insert matrix":"Inserisci Matrice","menu.array.add row above":"Aggiungi Riga Prima","menu.array.add row below":"Aggiungi Riga Dopo","menu.array.add column after":"Aggiungi Colonna Dopo","menu.array.add column before":"Aggiungi Colonna Prima","menu.array.delete row":"Elimina Riga","menu.array.delete rows":"Elimina Righe Selezionate","menu.array.delete column":"Elimina Colonna","menu.array.delete columns":"Elimina Colonne Selezionate","menu.mode":"Modalità","menu.mode-math":"Matematica","menu.mode-text":"Testo","menu.mode-latex":"LaTeX","menu.insert":"Inserisci","menu.insert.abs":"Valore Assoluto","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"Radice n-esima","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Logaritmo in base a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Calcolo","menu.insert.derivative":"Derivata","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"Derivata n-esima","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Integrale","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Somma","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Prodotto","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Numeri Complessi","menu.insert.modulus":"Modulo","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Argomento","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Parte Reale","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Parte Immaginaria","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Coniugato","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Lavagna","tooltip.bold":"Grassetto","tooltip.italic":"Corsivo","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Calligrafico","tooltip.typewriter":"Macchina da Scrivere","tooltip.roman-upright":"Romano Dritto","tooltip.row-by-col":"%@ × %@","menu.font-style":"Stile del Carattere","menu.accent":"Accento","menu.decoration":"Decorazione","menu.color":"Colore","menu.background-color":"Sfondo","menu.evaluate":"Valuta","menu.simplify":"Semplifica","menu.solve":"Risolvi","menu.solve-for":"Risolvi per %@","menu.cut":"Taglia","menu.copy":"Copia","menu.copy-as-latex":"Copia come LaTeX","menu.copy-as-ascii-math":"Copia come ASCII Math","menu.copy-as-mathml":"Copia come MathML","menu.paste":"Incolla","menu.select-all":"Seleziona Tutto","color.red":"Rosso","color.orange":"Arancione","color.yellow":"Giallo","color.lime":"Lime","color.green":"Verde","color.teal":"Verde Acqua","color.cyan":"Ciano","color.blue":"Blu","color.indigo":"Indaco","color.purple":"Viola","color.magenta":"Magenta","color.black":"Nero","color.dark-grey":"Grigio Scuro","color.grey":"Grigio","color.light-grey":"Grigio Chiaro","color.white":"Bianco"},ja:{"keyboard.tooltip.symbols":"シンボル","keyboard.tooltip.greek":"ギリシャ文字","keyboard.tooltip.numeric":"数値","keyboard.tooltip.alphabetic":"ローマ字","tooltip.menu":"メニュー","tooltip.copy to clipboard":"クリップボードにコピー","tooltip.redo":"やり直し","tooltip.toggle virtual keyboard":"仮想キーボードの切り替え","tooltip.undo":"元に戻す","menu.insert matrix":"マトリックスを挿入","menu.borders":"行列区切り文字","menu.array.add row above":"後に行を追加","menu.array.add row below":"前に行を追加","menu.array.add column after":"後に列を追加","menu.array.add column before":"前に列を追加","menu.array.delete row":"行を削除","menu.array.delete rows":"選択した行を削除する","menu.array.delete column":"列を削除","menu.array.delete columns":"選択した列を削除する","menu.mode":"モード","menu.mode-math":"数式","menu.mode-text":"テキスト","menu.mode-latex":"LaTeX","tooltip.blackboard":"黒板","tooltip.bold":"太字","tooltip.italic":"イタリック","tooltip.fraktur":"フラクトゥール","tooltip.script":"スクリプト","tooltip.caligraphic":"カリグラフィック","tooltip.typewriter":"タイプライター","tooltip.roman-upright":"ローマ直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"フォントスタイル","menu.accent":"アクセント","menu.decoration":"装飾","menu.color":"色","menu.background-color":"背景","menu.evaluate":"評価","menu.simplify":"簡略化","menu.solve":"解く","menu.solve-for":"%@ を解く","menu.cut":"切り取り","menu.copy":"コピー","menu.copy-as-latex":"LaTeXとしてコピー","menu.copy-as-ascii-math":"ASCII Mathとしてコピー","menu.copy-as-mathml":"MathMLとしてコピー","menu.paste":"貼り付け","menu.select-all":"すべて選択","color.red":"赤","color.orange":"オレンジ","color.yellow":"黄色","color.lime":"ライム","color.green":"緑","color.teal":"ティール","color.cyan":"シアン","color.blue":"青","color.indigo":"インディゴ","color.purple":"紫","color.magenta":"マゼンタ","color.black":"黒","color.dark-grey":"濃いグレー","color.grey":"グレー","color.light-grey":"薄いグレー","color.white":"白"},ko:{"keyboard.tooltip.symbols":"기호","keyboard.tooltip.greek":"그리스 문자","keyboard.tooltip.numeric":"숫자","keyboard.tooltip.alphabetic":"로마 문자","tooltip.copy to clipboard":"클립 보드에 복사","tooltip.redo":"다시 하다","tooltip.toggle virtual keyboard":"가상 키보드 전환","tooltip.undo":"실행 취소","menu.insert matrix":"매트릭스 삽입","menu.borders":"행렬 구분 기호","menu.array.add row above":"뒤에 행 추가","menu.array.add row below":"앞에 행 추가","menu.array.add column after":"뒤에 열 추가","menu.array.add column before":"앞에 열 추가","menu.array.delete row":"행 삭제","menu.array.delete rows":"선택한 행 삭제","menu.array.delete column":"열 삭제","menu.array.delete columns":"선택한 열 삭제","menu.mode":"モード","menu.mode-math":"数式","menu.mode-text":"テキスト","menu.mode-latex":"LaTeX","tooltip.blackboard":"칠판","tooltip.bold":"굵게","tooltip.italic":"이탤릭","tooltip.fraktur":"프랙투어","tooltip.script":"스크립트","tooltip.caligraphic":"캘리그래픽","tooltip.typewriter":"타자기","tooltip.roman-upright":"로마 직립","tooltip.row-by-col":"%@ × %@","menu.font-style":"글꼴 스타일","menu.accent":"악센트","menu.decoration":"장식","menu.color":"색상","menu.background-color":"배경","menu.evaluate":"평가","menu.simplify":"간소화","menu.solve":"해결","menu.solve-for":"%@에 대해 해결","menu.cut":"잘라내기","menu.copy":"복사","menu.copy-as-latex":"LaTeX로 복사","menu.copy-as-ascii-math":"ASCII Math로 복사","menu.copy-as-mathml":"MathML로 복사","menu.paste":"붙여넣기","menu.select-all":"모두 선택","color.red":"빨강","color.orange":"주황","color.yellow":"노랑","color.lime":"라임","color.green":"초록","color.teal":"청록","color.cyan":"청색","color.blue":"파랑","color.indigo":"남색","color.purple":"보라","color.magenta":"자홍","color.black":"검정","color.dark-grey":"진한 회색","color.grey":"회색","color.light-grey":"연한 회색","color.white":"흰색"},pl:{"keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.alphabetic":"Litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.cut to clipboard":"Wytnij ze Schowka","tooltip.paste from clipboard":"Wklej ze Schowka","tooltip.redo":"Przywróć","tooltip.toggle virtual keyboard":"Przełącz klawiaturę wirtualną","tooltip.menu":"Menu","tooltip.undo":"Cofnij","menu.borders":"Ograniczniki macierzy","menu.insert matrix":"Wstaw macierz","menu.array.add row above":"Dodaj wiersz przed","menu.array.add row below":"Dodaj wiersz po","menu.array.add column after":"Dodaj kolumnę po","menu.array.add column before":"Dodaj kolumnę przed","menu.array.delete row":"Usuń wiersz","menu.array.delete rows":"Usuń wybrane wiersze","menu.array.delete column":"Usuń kolumnę","menu.array.delete columns":"Usuń wybrane kolumny","menu.mode":"Tryb","menu.mode-math":"Formuła","menu.mode-text":"Tekst","menu.mode-latex":"LaTeX","menu.insert":"Wstaw","menu.insert.abs":"Wartość bezwzględna","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"Pierwiastek n-tego stopnia","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Logarytm o podstawie a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Rachunek różniczkowy i całkowy","menu.insert.derivative":"Pochodna","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"Pochodna n-tego rzędu","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Całka","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Suma","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Iloczyn","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Liczby zespolone","menu.insert.modulus":"Moduł","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Argument","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Część rzeczywista","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Część urojona","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Sprzężenie","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Tablica","tooltip.bold":"Pogrubienie","tooltip.italic":"Kursywa","tooltip.fraktur":"Fraktura","tooltip.script":"Skrypt","tooltip.caligraphic":"Kaligraficzny","tooltip.typewriter":"Maszynowy","tooltip.roman-upright":"Rzymski prosto","tooltip.row-by-col":"%@ × %@","menu.font-style":"Styl czcionki","menu.accent":"Akcent","menu.decoration":"Dekoracja","menu.color":"Kolor","menu.background-color":"Tło","menu.evaluate":"Oblicz","menu.simplify":"Uprość","menu.solve":"Rozwiąż","menu.solve-for":"Rozwiąż dla %@","menu.cut":"Wytnij","menu.copy":"Kopiuj","menu.copy-as-latex":"Kopiuj jako LaTeX","menu.copy-as-ascii-math":"Kopiuj jako ASCII Math","menu.copy-as-mathml":"Kopiuj jako MathML","menu.paste":"Wklej","menu.select-all":"Zaznacz wszystko","color.red":"Czerwony","color.orange":"Pomarańczowy","color.yellow":"Żółty","color.lime":"Limetkowy","color.green":"Zielony","color.teal":"Turkusowy","color.cyan":"Cyjan","color.blue":"Niebieski","color.indigo":"Indygo","color.purple":"Fioletowy","color.magenta":"Magenta","color.black":"Czarny","color.dark-grey":"Ciemnoszary","color.grey":"Szary","color.light-grey":"Jasnoszary","color.white":"Biały"},pt:{"keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar para área de transferência","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.borders":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes","menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","menu.mode":"Modo","menu.mode-math":"Fórmula","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Quadro Negro","tooltip.bold":"Negrito","tooltip.italic":"Itálico","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligráfico","tooltip.typewriter":"Máquina de Escrever","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@ × %@","menu.font-style":"Estilo da Fonte","menu.accent":"Acento","menu.decoration":"Decoração","menu.color":"Cor","menu.background-color":"Cor de Fundo","menu.evaluate":"Avaliar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Recortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Colar","menu.select-all":"Selecionar Tudo","color.red":"Vermelho","color.orange":"Laranja","color.yellow":"Amarelo","color.lime":"Verde Lima","color.green":"Verde","color.teal":"Verde-azulado","color.cyan":"Ciano","color.blue":"Azul","color.indigo":"Índigo","color.purple":"Roxo","color.magenta":"Magenta","color.black":"Preto","color.dark-grey":"Cinza Escuro","color.grey":"Cinza","color.light-grey":"Cinza Claro","color.white":"Branco"},uk:{"keyboard.tooltip.symbols":"Символи","keyboard.tooltip.greek":"Грецькі літери","keyboard.tooltip.numeric":"Числовий","keyboard.tooltip.alphabetic":"Римські літери","tooltip.copy to clipboard":"Копіювати в буфер обміну","tooltip.cut to clipboard":"Вирізати в буфер обміну","tooltip.paste from clipboard":"Вставити з буфера обміну","tooltip.redo":"Повторити","tooltip.toggle virtual keyboard":"Переключити віртуальну клавіатуру","tooltip.menu":"Меню","tooltip.undo":"Скасувати","menu.borders":"Межі","menu.insert matrix":"Вставити матрицю","menu.array.add row above":"Додати рядок перед","menu.array.add row below":"Додати рядок після","menu.array.add column after":"Додати стовпець після","menu.array.add column before":"Додати стовпець перед","menu.array.delete row":"Видалити рядок","menu.array.delete rows":"Видалити вибрані рядки","menu.array.delete column":"Видалити стовпець","menu.array.delete columns":"Видалити вибрані стовпці","menu.mode":"Режим","menu.mode-math":"Математика","menu.mode-text":"Текст","menu.mode-latex":"LaTeX","menu.insert":"Вставити","menu.insert.abs":"Абсолютне значення","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"Корінь n-го степеня","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Логарифм за основою a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Обчислення","menu.insert.derivative":"Похідна","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"Похідна n-го порядку","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Інтеграл","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Сума","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Добуток","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Комплексні числа","menu.insert.modulus":"Модуль","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Аргумент","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Дійсна частина","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Уявна частина","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Спряжене число","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Дошка","tooltip.bold":"Жирний","tooltip.italic":"Курсив","tooltip.fraktur":"Фрактурний","tooltip.script":"Рукописний","tooltip.caligraphic":"Каліграфічний","tooltip.typewriter":"Друкарський","tooltip.roman-upright":"Прямий римський","tooltip.row-by-col":"%@ × %@","menu.font-style":"Стиль шрифту","menu.accent":"Акцент","menu.decoration":"Оформлення","menu.color":"Колір","menu.background-color":"Фон","menu.evaluate":"Обчислити","menu.simplify":"Спростити","menu.solve":"Розв’язати","menu.solve-for":"Розв’язати для %@","menu.cut":"Вирізати","menu.copy":"Копіювати","menu.copy-as-latex":"Копіювати як LaTeX","menu.copy-as-ascii-math":"Копіювати як ASCII Math","menu.copy-as-mathml":"Копіювати як MathML","menu.paste":"Вставити","menu.select-all":"Вибрати все","color.red":"Червоний","color.orange":"Помаранчевий","color.yellow":"Жовтий","color.lime":"Лаймовий","color.green":"Зелений","color.teal":"Бірюзовий","color.cyan":"Синьо-зелений","color.blue":"Синій","color.indigo":"Індиго","color.purple":"Фіолетовий","color.magenta":"Пурпурний","color.black":"Чорний","color.dark-grey":"Темно-сірий","color.grey":"Сірий","color.light-grey":"Світло-сірий","color.white":"Білий"},"zh-cn":{"keyboard.tooltip.symbols":"符号","keyboard.tooltip.greek":"希腊字母","keyboard.tooltip.numeric":"数字","keyboard.tooltip.alphabetic":"罗马字母","tooltip.copy to clipboard":"复制到剪贴板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切换虚拟键盘","tooltip.undo":"撤消","menu.insert matrix":"插入矩阵","menu.borders":"矩阵分隔符","menu.array.add row above":"在后面添加行","menu.array.add row below":"在前面添加行","menu.array.add column after":"在后面添加列r","menu.array.add column before":"在前面添加列","menu.array.delete row":"删除行","menu.array.delete rows":"删除选定行","menu.array.delete column":"删除列","menu.array.delete columns":"删除选定的列","menu.mode":"模式","menu.mode-math":"数学","menu.mode-text":"文本","menu.mode-latex":"LaTeX","tooltip.blackboard":"黑板","tooltip.bold":"粗体","tooltip.italic":"斜体","tooltip.fraktur":"Fraktur","tooltip.script":"脚本","tooltip.caligraphic":"草书","tooltip.typewriter":"打字机","tooltip.roman-upright":"罗马直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"字体样式","menu.accent":"重音","menu.decoration":"装饰","menu.color":"颜色","menu.background-color":"背景","menu.evaluate":"计算","menu.simplify":"简化","menu.solve":"求解","menu.solve-for":"求解 %@","menu.cut":"剪切","menu.copy":"复制","menu.copy-as-latex":"复制为 LaTeX","menu.copy-as-ascii-math":"复制为 ASCII Math","menu.copy-as-mathml":"复制为 MathML","menu.paste":"粘贴","menu.select-all":"全选","color.red":"红色","color.orange":"橙色","color.yellow":"黄色","color.lime":"绿黄色","color.green":"绿色","color.teal":"青色","color.cyan":"蓝绿色","color.blue":"蓝色","color.indigo":"靛蓝色","color.purple":"紫色","color.magenta":"洋红色","color.black":"黑色","color.dark-grey":"深灰色","color.grey":"灰色","color.light-grey":"浅灰色","color.white":"白色"},"zh-tw":{"keyboard.tooltip.symbols":"符號","keyboard.tooltip.greek":"希臘字母","keyboard.tooltip.numeric":"數字","keyboard.tooltip.alphabetic":"羅馬字母","tooltip.copy to clipboard":"複製到剪貼板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切換虛擬鍵盤","tooltip.undo":"撤消","menu.insert matrix":"插入矩陣","menu.borders":"矩陣分隔符","menu.array.add row above":"在後面添加行","menu.array.add row below":"在前面添加行","menu.array.add column after":"在後面添加列","menu.array.add column before":"在前面添加列","menu.array.delete row":"刪除行","menu.array.delete rows":"刪除選定行","menu.array.delete column":"刪除列","menu.array.delete columns":"刪除選定的列","menu.mode":"模式","menu.mode-math":"數學","menu.mode-text":"文本","menu.mode-latex":"LaTeX","tooltip.blackboard":"黑板","tooltip.bold":"粗體","tooltip.italic":"斜體","tooltip.fraktur":"Fraktur","tooltip.script":"腳本","tooltip.caligraphic":"草書","tooltip.typewriter":"打字機","tooltip.roman-upright":"羅馬直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"字體樣式","menu.accent":"重音","menu.decoration":"裝飾","menu.color":"顏色","menu.background-color":"背景","menu.evaluate":"計算","menu.simplify":"簡化","menu.solve":"求解","menu.solve-for":"求解 %@","menu.cut":"剪下","menu.copy":"複製","menu.copy-as-latex":"複製為 LaTeX","menu.copy-as-ascii-math":"複製為 ASCII Math","menu.copy-as-mathml":"複製為 MathML","menu.paste":"貼上","menu.select-all":"全選","color.red":"紅色","color.orange":"橙色","color.yellow":"黃色","color.lime":"綠黃色","color.green":"綠色","color.teal":"青色","color.cyan":"藍綠色","color.blue":"藍色","color.indigo":"靛藍色","color.purple":"紫色","color.magenta":"洋紅色","color.black":"黑色","color.dark-grey":"深灰色","color.grey":"灰色","color.light-grey":"淺灰色","color.white":"白色"}};function os(){return"window"in globalThis&&"document"in globalThis}function vB(){return"matchMedia"in window?window.matchMedia("(pointer: coarse)").matches:"ontouchstart"in window||navigator.maxTouchPoints>0}function poe(){try{return window.self!==window.top}catch{return!0}}function bB(){return typeof navigator.vibrate=="function"}function X0(){var t,e;if(!os())return"other";let r=(e=(t=navigator.userAgentData)==null?void 0:t.platform)!=null?e:navigator.platform;return/^mac/i.test(r)?navigator.maxTouchPoints===5?"ios":"macos":/^win/i.test(r)?"windows":/android/i.test(navigator.userAgent)?"android":/iphone|ipod|ipad/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":"other"}function foe(){if(!os())return!0;if(/firefox/i.test(navigator.userAgent)){let t=navigator.userAgent.match(/firefox\/(\d+)/i);return t?parseInt(t[1])>=78:!1}if(/trident/i.test(navigator.userAgent))return!1;if(/edge/i.test(navigator.userAgent)){let t=navigator.userAgent.match(/edg\/(\d+)/i);return t?parseInt(t[1])>=79:!1}return!0}function M9(){return HTMLElement.prototype.hasOwnProperty("popover")}var Ct={strings:hoe,_locale:"",_dirty:!1,_subscribers:[],_numberFormatter:void 0,get locale(){return Ct._locale||(Ct._locale=os()?navigator.language.slice(0,5):"en-US"),Ct._locale},set locale(t){Ct._locale=t,Ct._numberFormatter=void 0,Ct.dirty=!0},get numberFormatter(){if(!Ct._numberFormatter)try{Ct._numberFormatter=new Intl.NumberFormat(Ct.locale)}catch{try{Ct._numberFormatter=new Intl.NumberFormat(Ct.locale.slice(0,2))}catch{Ct._numberFormatter=new Intl.NumberFormat("en-US")}}return Ct._numberFormatter},merge(t,e){if(typeof t=="string"&&e)Ct.strings[t]=q(q({},Ct.strings[t]),e),Ct.dirty=!0;else for(let r of Object.keys(t))Ct.merge(r,t[r])},get dirty(){return Ct._dirty},set dirty(t){Ct._dirty||Ct._dirty===t||(Ct._dirty=!0,setTimeout(()=>{Ct._dirty=!1,this._subscribers.forEach(e=>e==null?void 0:e())},0))},subscribe(t){return Ct._subscribers.push(t),Ct._subscribers.length-1},unsubscribe(t){t<0||t>=Ct._subscribers.length||(Ct._subscribers[t]=void 0)},update(t){let e=t.querySelectorAll("[data-l10n-tooltip]");for(let r of e){let i=r.getAttribute("data-l10n-tooltip");if(i){let n=ft(i);n&&r.setAttribute("data-tooltip",n)}}e=t.querySelectorAll("[data-l10n-arial-label]");for(let r of e){let i=r.getAttribute("data-l10n-arial-label");if(i){let n=ft(i);n&&r.setAttribute("aria-label",n)}}}};function ft(t,...e){if(t===void 0)return;let r="",i=Ct.locale;Ct.strings[i]&&(r=Ct.strings[i][t]);let n=i.slice(0,2);if(!r&&Ct.strings[n]&&(r=Ct.strings[n][t]),r||(r=Ct.strings.en[t]),!r)return;let s=/(%@|%([0-9]+)\$@)/g,a=s.exec(r),o=0;for(;a;){if(e[o++]){let l=a[2]?parseInt(a[2],10)-1:o-1,u=e[l];typeof u=="number"&&(u=Ct.numberFormatter.format(u)),r=r.replace(a[1],u)}a=s.exec(r)}return r=r.replace(/%%/g,"%"),r}var moe={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",m9:"#843D99"},goe={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},ku={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",cyan:"#b8e5c9",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},Tu={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",cyan:"#13a7ec",blue:"#0d80f2",indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},xB={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},yoe={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"};function T2(t){var e,r,i,n,s,a;let o=t.split("!"),l,u,c,d=255,h=255,f=255,g=-1,y=o.length>0&&o[0].startsWith("-");y&&(o[0]=o[0].slice(1));for(let C=0;C<o.length;C++){l=d,u=h,c=f;let S=(e=o[C].trim().match(/^([A-Za-z\d-]+)/))==null?void 0:e[1],A=S==null?void 0:S.toLowerCase(),T=S&&(a=(s=(n=(i=(r=Tu[A])!=null?r:Tu[xB[S]])!=null?i:goe[S])!=null?n:yoe[S])!=null?s:moe[S])!=null?a:o[C].trim(),M=T.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if(M!=null&&M[1]&&M[2]&&M[3])d=Math.max(0,Math.min(255,Number.parseInt(M[1],16))),h=Math.max(0,Math.min(255,Number.parseInt(M[2],16))),f=Math.max(0,Math.min(255,Number.parseInt(M[3],16)));else if(M=T.match(/^#([\da-f]{3})$/i),M!=null&&M[1]){let D=Number.parseInt(M[1][0],16),B=Number.parseInt(M[1][1],16),F=Number.parseInt(M[1][2],16);d=Math.max(0,Math.min(255,D*16+D)),h=Math.max(0,Math.min(255,B*16+B)),f=Math.max(0,Math.min(255,F*16+F))}else if(M=T.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),M!=null&&M[1]&&M[2]&&M[3])d=Math.max(0,Math.min(255,Number.parseInt(M[1]))),h=Math.max(0,Math.min(255,Number.parseInt(M[2]))),f=Math.max(0,Math.min(255,Number.parseInt(M[3])));else return;g>=0&&(d=(1-g)*d+g*l,h=(1-g)*h+g*u,f=(1-g)*f+g*c,g=-1),C+1<o.length&&(g=Math.max(0,Math.min(100,Number.parseInt(o[++C])))/100)}return g>=0&&(d=g*d+(1-g)*l,h=g*h+(1-g)*u,f=g*f+(1-g)*c),y&&(d=255-d,h=255-h,f=255-f),"#"+("00"+Math.round(d).toString(16)).slice(-2)+("00"+Math.round(h).toString(16)).slice(-2)+("00"+Math.round(f).toString(16)).slice(-2)}function b6(t){var e,r;return t=t.trim(),(r=(e=ku[t.toLowerCase()])!=null?e:ku[xB[t]])!=null?r:T2(t)}function voe(t){if(!t||t[0]!=="#")return;t=t.slice(1);let e;return t.length<=4?(e={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)},t.length===4&&(e.a=parseInt(t[3]+t[3],16)/255)):(e={r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)},t.length===8&&(e.a=parseInt(t[6]+t[7],16)/255)),e&&e.a===void 0&&(e.a=1),e}function g3(t,e,r){return r<0&&(r+=6),r>=6&&(r-=6),r<1?(e-t)*r+t:r<3?e:r<4?(e-t)*(4-r)+t:t}function boe(t){let[e,r,i]=[t.h,t.s,t.l];e=(e+360)%360/60,i=Math.max(0,Math.min(i,1)),r=Math.max(0,Math.min(r,1));let n=i<=.5?i*(r+1):i+r-i*r,s=i*2-n;return{r:Math.round(255*g3(s,n,e+2)),g:Math.round(255*g3(s,n,e)),b:Math.round(255*g3(s,n,e-2))}}function y3(t){return t<0?0:t>255?255:Math.round(t)}function xoe(t){let{r:e,g:r,b:i}=t,n=((1<<24)+(y3(e)<<16)+(y3(r)<<8)+y3(i)).toString(16).slice(1);return n[0]===n[1]&&n[2]===n[3]&&n[4]===n[5]&&n[6]===n[7]&&(n=n[0]+n[2]+n[4]),"#"+n}function _oe(t){let{r:e,g:r,b:i}=t;e=e/255,r=r/255,i=i/255;let n=Math.min(e,r,i),s=Math.max(e,r,i),a=s-n,o,l;s===n?o=0:e===s?o=(r-i)/a:r===s?o=2+(i-e)/a:i===s&&(o=4+(e-r)/a),o=Math.min(o*60,360),o<0&&(o+=360);let u=(n+s)/2;return s===n?l=0:u<=.5?l=a/(s+n):l=a/(2-s-n),{h:o,s:l,l:u}}function woe(t){let e=voe(t);if(!e)return t;let{h:r,s:i,l:n}=_oe(e);return i+=.1,n-=.1,xoe(boe({h:r,s:i,l:n}))}var _B={60:"\\lt",62:"\\gt",111:"o",38:"\\&",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",10178:"\\perp",10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},M5={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},wB=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120822,len:10,offset:48,variant:"monospace"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"}];function D5(t,e,r){if(!/[A-Za-z\d]/.test(t)||(r==="up"&&(r=void 0),!e&&!r))return;let i=t.codePointAt(0);if(i===void 0)return t;for(let n of wB)if((!e||n.variant===e)&&(!r||n.style===r)&&i>=n.offset&&i<n.offset+n.len){let s=n.start+i-n.offset;return String.fromCodePoint(M5[s]||s)}}function Soe(t){var e;if((t<119808||t>120831)&&(t<8448||t>8527))return{char:String.fromCodePoint(t)};for(let r in M5)if(M5[r]===t){t=(e=r.codePointAt(0))!=null?e:0;break}for(let r of wB)if(t>=r.start&&t<r.start+r.len)return{char:String.fromCodePoint(t-r.start+r.offset),variant:r.variant,style:r.style};return{char:String.fromCodePoint(t)}}function Coe(t){var e;if("{}<>[]$&*#^_%:'˜".includes(t)||t.length>1)return;let r=(e=t.codePointAt(0))!=null?e:0,i=_B[r];if(i)return i;let{char:n,variant:s,style:a}=Soe(r);if(!(!s&&!a)){switch(i=n,s){case"double-struck":i=`\\mathbb{${i}}`;break;case"fraktur":i=`\\mathfrak{${i}}`;break;case"script":i=`\\mathscr{${i}}`;break;case"sans-serif":i=`\\mathsf{${i}}`;break;case"monospace":i=`\\mathtt{${i}}`;break;case"calligraphic":i=`\\mathcal{${i}}`;break}switch(a){case"bold":i=`\\mathbf{${i}}`;break;case"italic":i=`\\mathit{${i}}`;break;case"bolditalic":i=`\\mathbfit{${i}}`;break}return i}}function Ne(t){return t?Array.isArray(t)?t:typeof t=="object"&&"group"in t?t.group:[]:[]}var Zh={},ag=q({},_B),r0={},x6={},koe={darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",Uarr:"\\Uparrow",C:"\\mathbb{C}",H:"\\mathbb{H}",N:"\\mathbb{N}",Q:"\\mathbb{Q}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",doublecap:"\\Cap",doublecup:"\\Cup",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",hAar:"\\Leftrightarrow",harr:"\\leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",Kappa:"\\mathrm{K}",larr:"\\leftarrow",Larr:"\\Leftarrow",lArr:"\\Leftarrow",lrarr:"\\leftrightarrow",Lrarr:"\\Leftrightarrow",lrArr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",part:"\\partial",plusmn:"\\pm",rarr:"\\rightarrow",Rarr:"\\Rightarrow",rArr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",restriction:"\\upharpoonright",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",varcoppa:"\\coppa",weierp:"\\wp",Zeta:"\\mathrm{Z}"},Toe={varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1,captureSelection:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},Eoe={bra:{def:"\\mathinner{\\langle{#1}|}",args:1,captureSelection:!1},ket:{def:"\\mathinner{|{#1}\\rangle}",args:1,captureSelection:!1},braket:{def:"\\mathinner{\\langle{#1}\\rangle}",args:1,captureSelection:!1},set:{def:"\\mathinner{\\lbrace #1 \\rbrace}",args:1,captureSelection:!1},Bra:{def:"\\left\\langle #1\\right|",args:1,captureSelection:!1},Ket:{def:"\\left|#1\\right\\rangle",args:1,captureSelection:!1},Braket:{def:"\\left\\langle{#1}\\right\\rangle",args:1,captureSelection:!1},Set:{def:"\\left\\lbrace #1 \\right\\rbrace",args:1,captureSelection:!1}},Aoe={strut:{primitive:!0,def:"\\phantom{\\rule[0.3\\baselineskip]{0}{0.7\\baselineskip}}",args:0,captureSelection:!0},iff:{primitive:!0,captureSelection:!0,def:"\\;\\Longleftrightarrow\\;}"},nicefrac:"^{#1}\\!\\!/\\!_{#2}",phase:{def:"\\enclose{phasorangle}{#1}",args:1,captureSelection:!1},rd:"\\mathrm{d}",rD:"\\mathrm{D}",odif:"\\mathrm{d}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",capitalDifferentialD:"\\mathrm{D}",mathstrut:{def:"\\vphantom{(}",primitive:!0},angl:"\\enclose{actuarial}{#1}",angln:"\\enclose{actuarial}{n}",anglr:"\\enclose{actuarial}{r}",anglk:"\\enclose{actuarial}{k}",mathtools:{primitive:!0,package:{ordinarycolon:":",vcentcolon:"\\mathrel{\\mathop\\ordinarycolon}",dblcolon:'{\\mathop{\\char"2237}}',coloneqq:'{\\mathop{\\char"2254}}',Coloneqq:'{\\mathop{\\char"2a74}}',coloneq:'{\\mathop{\\char"2254}}',Coloneq:'{\\mathop{\\char"2A74}}',eqqcolon:'{\\mathop{\\char"2255}}',Eqqcolon:'{\\mathop{\\char"3D\\char"2237}}',eqcolon:'{\\mathop{\\char"2255}}',Eqcolon:'{\\mathop{\\char"3D\\char"2237}}',colonapprox:'{\\mathop{\\char"003A\\char"2248}}',Colonapprox:'{\\mathop{\\char"2237\\char"2248}}',colonsim:'{\\mathop{\\char"3A\\char"223C}}',Colonsim:'{\\mathop{\\char"2237\\char"223C}}',colondash:"\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",Colondash:"\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}"}},ratio:"\\vcentcolon",coloncolon:"\\dblcolon",colonequals:"\\coloneq",coloncolonequals:"\\Coloneq",equalscolon:"\\eqcolon",equalscoloncolon:"\\Eqcolon",colonminus:"\\colondash",coloncolonminus:"\\Colondash",minuscolon:"\\dashcolon",minuscoloncolon:"\\Dashcolon",coloncolonapprox:"\\Colonapprox",coloncolonsim:"\\Colonsim",simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",simcoloncolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcoloncolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",notni:"\\mathrel{\\char`∌}",limsup:"\\operatorname*{lim\\,sup}",liminf:"\\operatorname*{lim\\,inf}",injlim:"\\operatorname*{inj\\,lim}",projlim:"\\operatorname*{proj\\,lim}",varlimsup:"\\operatorname*{\\overline{lim}}",varliminf:"\\operatorname*{\\underline{lim}}",varinjlim:"\\operatorname*{\\underrightarrow{lim}}",varprojlim:"\\operatorname*{\\underleftarrow{lim}}",argmin:"\\operatorname*{arg\\,min}",argmax:"\\operatorname*{arg\\,max}",plim:"\\mathop{\\operatorname{plim}}\\limits",tripledash:{def:"\\vphantom{-}\\raise{4mu}{\\mkern1.5mu\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2mu}}",expand:!0},"braket.sty":{package:Eoe},"amsmath.sty":{package:Toe,primitive:!0},"texvc.sty":{package:koe,primitive:!1}},Rc={" ":32,"\\!":33,"\\#":35,"\\$":36,"\\%":37,"\\&":38,"\\_":95,"-":45,"\\textunderscore":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\textbraceleft":123,"\\textbraceright":125,"\\lbrace":123,"\\rbrace":125,"\\lbrack":91,"\\rbrack":93,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,"\\textdaggerdbl":8225,"–":8211,"—":8212,"‘":8216,"’":8217,"“":8220,"”":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},Moe=/[\w!@*()-=+{}\[\]\\';:?/.,~<>`|$%#&^" ]/,L5,Jh;foe()?(L5=new RegExp("\\p{Letter}","u"),Jh=new RegExp("[0-9\\p{Letter}]","u")):(L5=/[a-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒößÖẞìíòúÌÍÒÚáñÁÑ]/,Jh=/[\da-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒößÖẞìíòúÌÍÒÚáñÁÑ]/);function B5(t,e,r="mord",i){e!==void 0&&(Zh[t]={definitionType:"symbol",type:r,variant:i,codepoint:e},ag[e]||(ag[e]=t))}function oi(t,e,r){if(typeof t=="string"){for(let i=0;i<t.length;i++){let n=t.charAt(i);B5(n,n.codePointAt(0))}return}for(let[i,n,s,a]of t)B5(i,n,s??e,a??r)}function SB(t,e){for(let r=t;r<=e;r++)B5(String.fromCodePoint(r),r)}function Doe(t){var e;return(e=x6[t])!=null?e:null}function Loe(t,e){var r,i;if(e.length===0||e==="\\"||!e.startsWith("\\"))return[];let n=[];for(let a in r0)a.startsWith(e)&&!r0[a].infix&&n.push({match:a,frequency:(r=r0[a].frequency)!=null?r:0});for(let a in Zh)a.startsWith(e)&&n.push({match:a,frequency:(i=Zh[a].frequency)!=null?i:0});let s=e.substring(1);for(let a of Object.keys(t.options.macros))a.startsWith(s)&&n.push({match:"\\"+a,frequency:0});return n.sort((a,o)=>{var l,u;return a.frequency===o.frequency?a.match.length===o.match.length?a.match<o.match?-1:1:a.match.length-o.match.length:((l=o.frequency)!=null?l:0)-((u=a.frequency)!=null?u:0)}),n.map(a=>a.match)}function D9(t){let e="auto",r=t.match(/:([^=]+)/);return r&&(e=r[1].trim()),e}function og(t){if(!t)return[];let e=[],r=t.split("]");if(r[0].startsWith("[")){e.push({isOptional:!0,type:D9(r[0].slice(1))});for(let i=1;i<=r.length;i++)e.push(...og(r[i]))}else if(r=t.split("}"),r[0].startsWith("{")){e.push({isOptional:!1,type:D9(r[0].slice(1))});for(let i=1;i<=r.length;i++)e.push(...og(r[i]))}return e}function CB(t){if(!t)return"";let e="",r=!0;for(let i of t)typeof i.value=="string"?e+=i.value:r=!1;return r?e:""}function po(t,e,r){typeof t=="string"&&(t=[t]);let i={tabular:!0,rootOnly:!1,params:og(e),createAtom:r};for(let n of t)x6[n]=i}function _6(t,e,r){var i;typeof t=="string"&&(t=[t]);let n={tabular:(i=r==null?void 0:r.tabular)!=null?i:!1,rootOnly:!0,params:[],createAtom:e};for(let s of t)x6[s]=n}function fe(t,e,r){var i,n;r||(r={});let s={definitionType:"function",params:og(e),ifMode:r.ifMode,isFunction:(i=r.isFunction)!=null?i:!1,applyMode:r.applyMode,infix:(n=r.infix)!=null?n:!1,parse:r.parse,createAtom:r.createAtom,applyStyle:r.applyStyle,serialize:r.serialize,render:r.render};if(typeof t=="string")r0["\\"+t]=s;else for(let a of t)r0["\\"+a]=s}var zf;function w6(t){return zf||(zf=P5(Aoe)),t?P5(q(q({},zf),t)):zf}function L9(t,e){var r,i,n,s;if(typeof t=="string"){let a=0,o=t;return/(^|[^\\])#1/.test(o)&&(a=1),/(^|[^\\])#2/.test(o)&&(a=2),/(^|[^\\])#3/.test(o)&&(a=3),/(^|[^\\])#4/.test(o)&&(a=4),/(^|[^\\])#5/.test(o)&&(a=5),/(^|[^\\])#6/.test(o)&&(a=6),/(^|[^\\])#7/.test(o)&&(a=7),/(^|[^\\])#8/.test(o)&&(a=8),/(^|[^\\])#9/.test(o)&&(a=9),{expand:(r=e==null?void 0:e.expand)!=null?r:!0,captureSelection:(i=e==null?void 0:e.captureSelection)!=null?i:!0,args:a,def:o}}return q({expand:(n=e==null?void 0:e.expand)!=null?n:!0,captureSelection:(s=e==null?void 0:e.captureSelection)!=null?s:!0,args:0},t)}function P5(t){if(!t)return{};let e={};for(let r of Object.keys(t)){let i=t[r];if(i==null)delete e[r];else if(typeof i=="object"&&"package"in i)for(let n of Object.keys(i.package))e[n]=L9(i.package[n],{expand:!i.primitive,captureSelection:i.captureSelection});else e[r]=L9(i)}return e}function xi(t,e="math"){if(!t||t.length===0)return null;let r=null;if(t.startsWith("\\")){if(r=r0[t],r)return!r.ifMode||r.ifMode===e?r:null;e==="math"?r=Zh[t]:Rc[t]&&(r={definitionType:"symbol",type:"mord",codepoint:Rc[t]})}else if(e==="math"){if(r=Zh[t],!r&&t.length===1){let i=TB("math",t.codePointAt(0));return i.startsWith("\\")?Z(q({},xi(i,"math")),{command:i}):null}}else Rc[t]?r={definitionType:"symbol",type:"mord",codepoint:Rc[t]}:e==="text"&&(r={definitionType:"symbol",type:"mord",codepoint:t.codePointAt(0)});return r??null}function kB(t,e){if(!t.startsWith("\\"))return null;let r=t.slice(1);return e[r]}function TB(t,e){return e===void 0?"":t==="math"&&ag[e]?ag[e]:t==="text"&&Object.keys(Rc).find(i=>Rc[i]===e)||String.fromCodePoint(e)}var jn=[0,.68889,0,0,.72222],zl=[0,.68889,0,0,.66667],v3=[0,.68889,0,0,.77778],Uf=[0,.68889,0,0,.61111],B9=[.16667,.68889,0,0,.77778],Ad=[0,.68889,0,0,.55556],qt=[0,0,0,0,.25],P9=[0,.825,0,0,2.33334],I9=[0,.9,0,0,2.33334],qf=[0,.68889,0,0,.54028],b3=[-.03598,.46402,0,0,.5],Ai=[-.13313,.36687,0,0,1],jf=[.01354,.52239,0,0,1],R9=[.01354,.52239,0,0,1.11111],O9=[0,.54986,0,0,1],Vf=[0,.69224,0,0,.5],x3=[0,.43056,0,0,1],Eo=[.08198,.58198,0,0,.77778],Hf=[.19444,.69224,0,0,.41667],Kf=[.1808,.675,0,0,1],F9=[.19444,.69224,0,0,.83334],N9=[.13667,.63667,0,0,1],$9=[-.064,.437,0,0,1.334],Ao=[.08167,.58167,0,0,.77778],Md=[0,.69224,0,0,.72222],_3=[0,.69224,0,0,.66667],Wf=[-.13313,.36687,0,0,.77778],z9=[.06062,.54986,0,0,.77778],Gf=[0,.69224,0,0,.77778],uc=[.25583,.75583,0,0,.77778],Os=[.25142,.75726,0,0,.77778],cc=[.20576,.70576,0,0,.77778],fs=[.30274,.79383,0,0,.77778],Dd=[.22958,.72958,0,0,.77778],U9=[.1808,.675,0,0,.77778],Fs=[.13667,.63667,0,0,.77778],an=[.13597,.63597,0,0,.77778],Mo=[.03517,.54986,0,0,.77778],dc=[0,.675,0,0,.77778],q9=[.19444,.69224,0,0,.61111],j9=[0,.54986,0,0,.76042],V9=[0,.54986,0,0,.66667],Do=[.0391,.5391,0,0,.77778],H9=[.03517,.54986,0,0,1.33334],K9=[.38569,.88569,0,0,.77778],Xf=[.23222,.74111,0,0,.77778],W9=[.19444,.69224,0,0,.77778],G9=[0,.37788,0,0,.5],Yf=[0,.54986,0,0,.72222],X9=[0,.69224,0,0,.83334],Y9=[.11111,.69224,0,0,.66667],hc=[.26167,.75726,0,0,.77778],Z9=[.48256,.98256,0,0,.77778],J9=[.28481,.79383,0,0,.77778],Q9=[.08167,.58167,0,0,.22222],ew=[.08167,.58167,0,0,.38889],tw=[0,.43056,.04028,0,.66667],rw=[.41951,.91951,0,0,.77778],iw=[.24982,.74947,0,0,.38865],nw=[.08319,.58283,0,0,.75623],sw=[0,.10803,0,0,.27764],w3=[0,.47534,0,0,.50181],Ld=[.18906,.47534,0,0,.50181],aw=[0,.69141,0,0,.50181],ow=[.24982,.74947,0,0,.27764],S3=[0,.69141,0,0,.21471],Zf=[.25,.75,0,0,.44722],Vn=[0,.64444,0,0,.575],pc=[.08556,.58556,0,0,.89444],Jf=[0,.69444,0,0,.89444],Qf=[0,.68611,0,0,.9],C3=[0,.68611,0,0,.86944],Lo=[.25,.75,0,0,.575],em=[.25,.75,0,0,.31944],Ul=[0,.69444,0,0,.63889],fc=[0,.69444,0,0,.31944],lw=[0,.44444,0,0,.63889],uw=[0,.44444,0,0,.51111],Bo=[0,.69444,0,0,.575],ms=[.13333,.63333,0,0,.89444],cw=[0,.44444,0,0,.31944],dw=[0,.69444,0,0,.86944],hw=[0,.68611,0,0,.69166],tm=[0,.68611,0,0,.83055],k3=[0,.68611,0,0,.89444],T3=[0,.69444,0,0,.60278],pw=[.19444,.69444,0,0,.51111],fw=[0,.69444,0,0,.83055],Ns=[-.10889,.39111,0,0,1.14999],mw=[.19444,.69444,0,0,.575],Bd=[.19444,.69444,0,0,1.14999],gw=[.19444,.69444,0,0,.70277],yw=[.05556,.75,0,0,.575],E3=[0,.68611,0,0,.95833],vw=[.08556,.58556,0,0,.76666],A3=[-.02639,.47361,0,0,.575],bw=[0,.44444,0,0,.89444],ql=[0,.55556,0,0,.76666],xw=[-.10889,.39111,0,0,.89444],M3=[.00222,.50222,0,0,.89444],Po=[.19667,.69667,0,0,.89444],_w=[.08556,.58556,0,0,1.14999],D3=[0,.69444,0,0,.70277],rm=[-.02778,.47222,0,0,.575],im=[.25,.75,0,0,.51111],ww=[-.13889,.36111,0,0,1.14999],Sw=[.19444,.69444,0,0,1.02222],nm=[.12963,.69444,0,0,.89444],Cw=[.19444,.69444,0,0,.44722],Io=[0,.64444,.13167,0,.59111],kw=[.19444,.64444,.13167,0,.59111],L3=[0,.68611,.17208,0,.8961],Tw=[.19444,.44444,.105,0,.53222],Ew=[0,.44444,.085,0,.82666],Aw=[0,.69444,.06709,0,.59111],sm=[0,.69444,.12945,0,.35555],Mw=[0,.69444,0,0,.94888],B3=[0,.69444,.11472,0,.59111],Dw=[0,.68611,.10778,0,.88555],Lw=[0,.69444,.07939,0,.62055],am=[0,.69444,.12417,0,.30667],Ro=[0,.64444,.13556,0,.51111],Bw=[.19444,.64444,.13556,0,.51111],om=[0,.68333,.16389,0,.74333],Pw=[.19444,.43056,.08847,0,.46],Iw=[0,.43056,.07514,0,.71555],Rw=[0,.69444,.06646,0,.51111],Ow=[0,.69444,0,0,.83129],Fw=[0,.69444,.1225,0,.51111],Nw=[0,.68333,.09403,0,.76666],$w=[0,.68333,.11111,0,.76666],zw=[0,.69444,.06961,0,.51444],ka=[0,.69444,0,0,.27778],mc=[.25,.75,0,0,.38889],Hn=[0,.64444,0,0,.5],jl=[0,.69444,0,0,.77778],Vl=[0,.68333,0,0,.75],Pd=[0,.68333,0,0,.77778],Uw=[0,.68333,0,0,.68056],Id=[0,.68333,0,0,.72222],Ta=[.25,.75,0,0,.5],lm=[.25,.75,0,0,.27778],Wr=[0,.69444,0,0,.5],gc=[0,.69444,0,0,.55556],P3=[0,.43056,0,0,.44445],Rd=[0,.43056,0,0,.5],qw=[.19444,.43056,0,0,.55556],jw=[0,.43056,0,0,.55556],Kn=[.08333,.58333,0,0,.77778],Vw=[0,.43056,0,0,.27778],Hw=[0,.66786,0,0,.27778],Kw=[0,.69444,0,0,.75],Ww=[0,.66786,0,0,.5],Gw=[0,.68333,0,0,.625],I3=[.19444,.69444,0,0,.44445],Od=[0,.69444,0,0,.72222],Xw=[.19444,.69444,0,0,.5],Fd=[.19444,.69444,0,0,1],Yw=[.011,.511,0,0,1.126],R3=[.19444,.69444,0,0,.61111],O3=[.05556,.75,0,0,.5],Zw=[0,.68333,0,0,.83334],Jw=[.0391,.5391,0,0,.66667],F3=[-.05555,.44445,0,0,.5],Qw=[0,.43056,0,0,.77778],Hl=[0,.55556,0,0,.66667],um=[-.03625,.46375,0,0,.77778],eS=[-.01688,.48312,0,0,.77778],tS=[.0391,.5391,0,0,1],Oo=[0,.69444,0,0,.61111],cm=[-.03472,.46528,0,0,.5],dm=[.25,.75,0,0,.44445],rS=[-.14236,.35764,0,0,1],hm=[.244,.744,0,0,.412],iS=[.19444,.69444,0,0,.88889],pm=[.12963,.69444,0,0,.77778],nS=[.19444,.69444,0,0,.38889],sS=[.011,.511,0,0,1.638],aS=[.19444,.69444,0,0,0],fm=[0,.44444,0,0,.575],Nd=[.19444,.44444,0,0,.575],oS=[0,.68611,0,0,.75555],lS=[0,.69444,0,0,.66759],uS=[0,.68611,0,0,.80555],cS=[0,.68611,.08229,0,.98229],dS=[0,.68611,0,0,.76666],hS=[0,.44444,0,0,.58472],pS=[.19444,.44444,0,0,.6118],$d=[.19444,.43056,0,0,.5],fS=[0,.68333,.02778,.08334,.76278],mS=[0,.68333,.08125,.05556,.83125],gS=[0,.43056,0,.05556,.48472],yS=[.19444,.43056,0,.08334,.51702],vS=[.25,.75,0,0,.42778],vi=[0,.69444,0,0,.55],Ea=[0,.69444,0,0,.73334],Fo=[0,.69444,0,0,.79445],bS=[0,.69444,0,0,.51945],N3=[0,.69444,0,0,.70278],xS=[0,.69444,0,0,.76389],_S=[.25,.75,0,0,.34306],$3=[0,.69444,0,0,.56111],wS=[0,.69444,0,0,.25556],SS=[.19444,.45833,0,0,.56111],CS=[0,.45833,0,0,.56111],mm=[0,.69444,0,0,.30556],kS=[0,.69444,0,0,.58056],TS=[0,.69444,0,0,.67223],z3=[0,.69444,0,0,.85556],U3=[0,.69444,0,0,.55834],$s=[0,.65556,.11156,0,.5],q3=[0,.69444,.08094,0,.70834],j3=[.17014,0,0,0,.44445],ES=[0,.69444,.0799,0,.5],AS=[0,.69444,0,0,.73752],MS=[0,.69444,.09205,0,.5],DS=[0,.69444,.09031,0,.77778],V3=[0,.69444,.07816,0,.27778],LS=[0,.69444,.00316,0,.5],BS=[.19444,.69444,0,0,.83334],PS=[.05556,.75,0,0,.83334],IS=[0,.75,0,0,.5],RS=[.125,.08333,0,0,.27778],OS=[0,.08333,0,0,.27778],zs=[0,.65556,0,0,.5],H3=[0,.69444,0,0,.47222],Aa=[0,.69444,0,0,.66667],FS=[0,.69444,0,0,.59722],K3=[0,.69444,0,0,.54167],W3=[0,.69444,0,0,.70834],NS=[.25,.75,0,0,.28889],G3=[0,.69444,0,0,.51667],$S=[0,.44444,0,0,.44445],zS=[.19444,.44444,0,0,.51667],US=[0,.44444,0,0,.38333],qS=[0,.44444,0,0,.51667],jS=[0,.69444,0,0,.83334],VS=[.35001,.85,0,0,.45834],HS=[.35001,.85,0,0,.57778],KS=[.35001,.85,0,0,.41667],WS=[.35001,.85,0,0,.58334],gm=[0,.72222,0,0,.55556],GS=[1e-5,.6,0,0,.66667],XS=[1e-5,.6,0,0,.77778],YS=[.25001,.75,0,0,.94445],ZS=[.306,.805,.19445,0,.47222],JS=[.30612,.805,.19445,0,.47222],yc=[.25001,.75,0,0,.83334],vc=[.35001,.85,0,0,.47222],X3=[.25001,.75,0,0,1.11111],QS=[.65002,1.15,0,0,.59722],eC=[.65002,1.15,0,0,.81111],tC=[.65002,1.15,0,0,.47222],rC=[.65002,1.15,0,0,.66667],ym=[0,.75,0,0,1],iC=[.55001,1.05,0,0,1.27778],nC=[.862,1.36,.44445,0,.55556],sC=[.86225,1.36,.44445,0,.55556],bc=[.55001,1.05,0,0,1.11111],vm=[.65002,1.15,0,0,.52778],aC=[.65002,1.15,0,0,.61111],Y3=[.55001,1.05,0,0,1.51112],oC=[.95003,1.45,0,0,.73611],lC=[.95003,1.45,0,0,1.04445],uC=[.95003,1.45,0,0,.52778],bm=[.95003,1.45,0,0,.75],xm=[0,.75,0,0,1.44445],_m=[.95003,1.45,0,0,.58334],cC=[1.25003,1.75,0,0,.79167],dC=[1.25003,1.75,0,0,1.27778],hC=[1.25003,1.75,0,0,.58334],wm=[1.25003,1.75,0,0,.80556],Sm=[0,.825,0,0,1.8889],Cm=[1.25003,1.75,0,0,.63889],km=[.64502,1.155,0,0,.875],pC=[1e-5,.6,0,0,.875],Z3=[-99e-5,.601,0,0,.66667],Tm=[.64502,1.155,0,0,.66667],fC=[1e-5,.9,0,0,.88889],mC=[.65002,1.15,0,0,.88889],gC=[.90001,0,0,0,.88889],yC=[-.00499,.605,0,0,1.05556],Em=[0,.12,0,0,.45],He=[0,.61111,0,0,.525],gs=[.08333,.69444,0,0,.525],vC=[-.08056,.53055,0,0,.525],bC=[-.05556,.55556,0,0,.525],ji=[0,.43056,0,0,.525],zd=[.22222,.43056,0,0,.525],xC=[0,0,0,0,.525],Boe={"AMS-Regular":{32:qt,65:jn,66:zl,67:jn,68:jn,69:zl,70:Uf,71:v3,72:v3,73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:v3,76:zl,77:[0,.68889,0,0,.94445],78:jn,79:B9,80:Uf,81:B9,82:jn,83:Ad,84:zl,85:jn,86:jn,87:[0,.68889,0,0,1],88:jn,89:jn,90:zl,107:Ad,160:qt,165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:Ad,295:qf,710:P9,732:I9,770:P9,771:I9,989:Ao,1008:tw,8245:[0,.54986,0,0,.275],8463:qf,8487:jn,8498:Ad,8502:zl,8503:[0,.68889,0,0,.44445],8504:zl,8513:[0,.68889,0,0,.63889],8592:b3,8594:b3,8602:Ai,8603:Ai,8606:jf,8608:jf,8610:R9,8611:R9,8619:O9,8620:O9,8621:[-.13313,.37788,0,0,1.38889],8622:Ai,8624:Vf,8625:Vf,8630:x3,8631:x3,8634:Eo,8635:Eo,8638:Hf,8639:Hf,8642:Hf,8643:Hf,8644:Kf,8646:Kf,8647:Kf,8648:F9,8649:Kf,8650:F9,8651:jf,8652:jf,8653:Ai,8654:Ai,8655:Ai,8666:N9,8667:N9,8669:[-.13313,.37788,0,0,1],8672:$9,8674:$9,8705:[0,.825,0,0,.5],8708:Ad,8709:Ao,8717:[0,.43056,0,0,.42917],8722:b3,8724:[.08198,.69224,0,0,.77778],8726:Ao,8733:Gf,8736:Md,8737:Md,8738:[.03517,.52239,0,0,.72222],8739:Q9,8740:[.25142,.74111,0,0,.27778],8741:ew,8742:[.25142,.74111,0,0,.5],8756:_3,8757:_3,8764:Wf,8765:[-.13313,.37788,0,0,.77778],8769:Wf,8770:um,8774:fs,8776:eS,8778:Ao,8782:z9,8783:z9,8785:Eo,8786:Eo,8787:Eo,8790:Gf,8791:Dd,8796:[.08198,.91667,0,0,.77778],8806:uc,8807:uc,8808:Os,8809:Os,8812:[.25583,.75583,0,0,.5],8814:cc,8815:cc,8816:fs,8817:fs,8818:Dd,8819:Dd,8822:U9,8823:U9,8828:Fs,8829:Fs,8830:Dd,8831:Dd,8832:cc,8833:cc,8840:fs,8841:fs,8842:an,8843:an,8847:Mo,8848:Mo,8858:Eo,8859:Eo,8861:Eo,8862:dc,8863:dc,8864:dc,8865:dc,8872:[0,.69224,0,0,.61111],8873:Md,8874:[0,.69224,0,0,.88889],8876:Uf,8877:Uf,8878:jn,8879:jn,8882:Mo,8883:Mo,8884:Fs,8885:Fs,8888:[0,.54986,0,0,1.11111],8890:qw,8891:q9,8892:q9,8901:[0,.54986,0,0,.27778],8903:Ao,8905:Ao,8906:Ao,8907:Gf,8908:Gf,8909:[-.03598,.46402,0,0,.77778],8910:j9,8911:j9,8912:Mo,8913:Mo,8914:V9,8915:V9,8916:_3,8918:Do,8919:Do,8920:H9,8921:H9,8922:K9,8923:K9,8926:Fs,8927:Fs,8928:fs,8929:fs,8934:Xf,8935:Xf,8936:Xf,8937:Xf,8938:cc,8939:cc,8940:fs,8941:fs,8994:W9,8995:W9,9416:[.15559,.69224,0,0,.90222],9484:Vf,9488:Vf,9492:G9,9496:G9,9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:dc,9633:dc,9650:Yf,9651:Yf,9654:Mo,9660:Yf,9661:Yf,9664:Mo,9674:Y9,9733:[.19444,.69224,0,0,.94445],10003:X9,10016:X9,10731:Y9,10846:[.19444,.75583,0,0,.61111],10877:Fs,10878:Fs,10885:uc,10886:uc,10887:an,10888:an,10889:hc,10890:hc,10891:Z9,10892:Z9,10901:Fs,10902:Fs,10933:Os,10934:Os,10935:hc,10936:hc,10937:hc,10938:hc,10949:uc,10950:uc,10955:J9,10956:J9,57350:Q9,57351:ew,57352:Ao,57353:tw,57356:Os,57357:Os,57358:rw,57359:fs,57360:fs,57361:rw,57366:Os,57367:Os,57368:Os,57369:Os,57370:an,57371:an},"Caligraphic-Regular":{32:qt,65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:qt},"Fraktur-Regular":{32:qt,33:[0,.69141,0,0,.29574],34:S3,38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:iw,41:iw,42:[0,.62119,0,0,.27764],43:nw,44:sw,45:nw,46:sw,47:[.24982,.74947,0,0,.50181],48:w3,49:w3,50:w3,51:Ld,52:Ld,53:Ld,54:aw,55:Ld,56:aw,57:Ld,58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:ow,93:ow,94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:qt,8216:S3,8217:S3,58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:qt,33:[0,.69444,0,0,.35],34:T3,35:[.19444,.69444,0,0,.95833],36:yw,37:[.05556,.75,0,0,.95833],38:Jf,39:fc,40:Zf,41:Zf,42:[0,.75,0,0,.575],43:ms,44:[.19444,.15556,0,0,.31944],45:US,46:[0,.15556,0,0,.31944],47:Lo,48:Vn,49:Vn,50:Vn,51:Vn,52:Vn,53:Vn,54:Vn,55:Vn,56:Vn,57:Vn,58:cw,59:[.19444,.44444,0,0,.31944],60:pc,61:xw,62:pc,63:[0,.69444,0,0,.54305],64:Jf,65:C3,66:[0,.68611,0,0,.81805],67:tm,68:[0,.68611,0,0,.88194],69:oS,70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:Qf,73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:hw,77:[0,.68611,0,0,1.09166],78:Qf,79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:C3,89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:em,92:Lo,93:em,94:Bo,95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:Ul,99:uw,100:Ul,101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:Ul,105:fc,106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:fc,109:[0,.44444,0,0,.95833],110:lw,111:fm,112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:lw,118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:uw,123:Lo,124:em,125:Lo,126:[.35,.34444,0,0,.575],160:qt,163:[0,.69444,0,0,.86853],168:Bo,172:[0,.44444,0,0,.76666],176:dw,177:ms,184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:ms,216:[.04861,.73472,0,0,.89444],223:FS,230:[0,.44444,0,0,.83055],247:ms,248:[.09722,.54167,0,0,.575],305:cw,338:[0,.68611,0,0,1.16944],339:bw,567:[.19444,.44444,0,0,.35139],710:Bo,711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:Bo,715:Bo,728:Bo,729:fc,730:dw,732:Bo,733:Bo,915:hw,916:E3,920:k3,923:uS,926:dS,928:Qf,931:tm,933:k3,934:tm,936:k3,937:tm,8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:fc,8217:fc,8220:T3,8221:T3,8224:pw,8225:pw,8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:lS,8465:fw,8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:fw,8501:D3,8592:Ns,8593:mw,8594:Ns,8595:mw,8596:Ns,8597:Lo,8598:Bd,8599:Bd,8600:Bd,8601:Bd,8636:Ns,8637:Ns,8640:Ns,8641:Ns,8656:Ns,8657:gw,8658:Ns,8659:gw,8660:Ns,8661:[.25,.75,0,0,.70277],8704:Ul,8706:[0,.69444,.06389,0,.62847],8707:Ul,8709:yw,8711:E3,8712:vw,8715:vw,8722:ms,8723:ms,8725:Lo,8726:Lo,8727:rm,8728:A3,8729:A3,8730:[.18,.82,0,0,.95833],8733:bw,8734:[0,.44444,0,0,1.14999],8736:Md,8739:em,8741:Lo,8743:ql,8744:ql,8745:ql,8746:ql,8747:[.19444,.69444,.12778,0,.56875],8764:xw,8768:[.19444,.69444,0,0,.31944],8771:M3,8776:[.02444,.52444,0,0,.89444],8781:M3,8801:M3,8804:Po,8805:Po,8810:_w,8811:_w,8826:pc,8827:pc,8834:pc,8835:pc,8838:Po,8839:Po,8846:ql,8849:Po,8850:Po,8851:ql,8852:ql,8853:ms,8854:ms,8855:ms,8856:ms,8857:ms,8866:D3,8867:D3,8868:Jf,8869:Jf,8900:A3,8901:[-.02639,.47361,0,0,.31944],8902:rm,8968:im,8969:im,8970:im,8971:im,8994:ww,8995:ww,9651:Sw,9657:rm,9661:Sw,9667:rm,9711:Bd,9824:nm,9825:nm,9826:nm,9827:nm,9837:[0,.75,0,0,.44722],9838:Cw,9839:Cw,10216:Zf,10217:Zf,10815:Qf,10927:Po,10928:Po,57376:aS},"Main-BoldItalic":{32:qt,33:[0,.69444,.11417,0,.38611],34:Lw,35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:sm,40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:Io,49:Io,50:Io,51:Io,52:kw,53:Io,54:Io,55:kw,56:Io,57:Io,58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:B3,64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:L3,73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:L3,79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:Aw,95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:Tw,104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:Tw,114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:qt,168:[0,.69444,.11473,0,.59111],176:Mw,184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:Ew,248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:Ew,567:[.19444,.44444,.04611,0,.385],710:Aw,711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:sm,730:Mw,732:B3,733:B3,915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:L3,931:[0,.68611,.11431,0,.82666],933:Dw,934:[0,.68611,.05632,0,.82666],936:Dw,937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:sm,8217:sm,8220:[0,.69444,.16772,0,.62055],8221:Lw},"Main-Italic":{32:qt,33:am,34:zw,35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:am,40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:Ro,49:Ro,50:Ro,51:Ro,52:Bw,53:Ro,54:Ro,55:Bw,56:Ro,57:Ro,58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:Fw,64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:om,73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:om,79:Nw,80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:om,86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:Rw,95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:Pw,104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:Pw,114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:qt,168:[0,.66786,.10474,0,.51111],176:Ow,184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:Iw,248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:Iw,710:Rw,711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:Ow,732:[0,.66786,.11585,0,.51111],733:Fw,915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:Nw,923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:om,931:[0,.68333,.12028,0,.71555],933:$w,934:[0,.68333,.05986,0,.71555],936:$w,937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:am,8217:am,8220:[0,.69444,.1685,0,.51444],8221:zw,8463:qf},"Main-Regular":{32:qt,33:ka,34:Wr,35:BS,36:O3,37:PS,38:jl,39:ka,40:mc,41:mc,42:IS,43:Kn,44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:Ta,48:Hn,49:Hn,50:Hn,51:Hn,52:Hn,53:Hn,54:Hn,55:Hn,56:Hn,57:Hn,58:Vw,59:[.19444,.43056,0,0,.27778],60:Do,61:Wf,62:Do,63:H3,64:jl,65:Vl,66:[0,.68333,0,0,.70834],67:Id,68:[0,.68333,0,0,.76389],69:Uw,70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:Vl,73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:Pd,76:Gw,77:[0,.68333,0,0,.91667],78:Vl,79:Pd,80:Uw,81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:Id,85:Vl,86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:Vl,89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:lm,92:Ta,93:lm,94:Wr,95:[.31,.12056,.02778,0,.5],97:Rd,98:gc,99:P3,100:gc,101:P3,102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:gc,105:Hw,106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:ka,109:[0,.43056,0,0,.83334],110:jw,111:Rd,112:qw,113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:jw,118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:P3,123:Ta,124:lm,125:Ta,126:[.35,.31786,0,0,.5],160:qt,163:[0,.69444,0,0,.76909],167:I3,168:Ww,172:[0,.43056,0,0,.66667],176:Kw,177:Kn,182:R3,184:j3,198:[0,.68333,0,0,.90278],215:Kn,216:[.04861,.73194,0,0,.77778],223:Wr,230:[0,.43056,0,0,.72222],247:Kn,248:[.09722,.52778,0,0,.5],305:Vw,338:[0,.68333,0,0,1.01389],339:Qw,567:[.19444,.43056,0,0,.30556],710:Wr,711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:Wr,715:Wr,728:Wr,729:Hw,730:Kw,732:Ww,733:Wr,915:Gw,916:Zw,920:Pd,923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:Vl,931:Id,933:Pd,934:Id,936:Pd,937:Id,8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:ka,8217:ka,8220:Wr,8221:Wr,8224:I3,8225:I3,8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:qf,8465:Od,8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:Od,8501:Oo,8592:Ai,8593:Xw,8594:Ai,8595:Xw,8596:Ai,8597:Ta,8598:Fd,8599:Fd,8600:Fd,8601:Fd,8614:[.011,.511,0,0,1],8617:Yw,8618:Yw,8636:Ai,8637:Ai,8640:Ai,8641:Ai,8652:[.011,.671,0,0,1],8656:Ai,8657:R3,8658:Ai,8659:R3,8660:Ai,8661:[.25,.75,0,0,.61111],8704:gc,8706:[0,.69444,.05556,.08334,.5309],8707:gc,8709:O3,8711:Zw,8712:Jw,8715:Jw,8722:Kn,8723:Kn,8725:Ta,8726:Ta,8727:cm,8728:F3,8729:F3,8730:[.2,.8,0,0,.83334],8733:Qw,8734:x3,8736:Md,8739:lm,8741:Ta,8743:Hl,8744:Hl,8745:Hl,8746:Hl,8747:[.19444,.69444,.11111,0,.41667],8764:Wf,8768:[.19444,.69444,0,0,.27778],8771:um,8773:[-.022,.589,0,0,1],8776:eS,8781:um,8784:[-.133,.67,0,0,.778],8801:um,8804:an,8805:an,8810:tS,8811:tS,8826:Do,8827:Do,8834:Do,8835:Do,8838:an,8839:an,8846:Hl,8849:an,8850:an,8851:Hl,8852:Hl,8853:Kn,8854:Kn,8855:Kn,8856:Kn,8857:Kn,8866:Oo,8867:Oo,8868:jl,8869:jl,8872:[.249,.75,0,0,.867],8900:F3,8901:[-.05555,.44445,0,0,.27778],8902:cm,8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:dm,8969:dm,8970:dm,8971:dm,8994:rS,8995:rS,9136:hm,9137:hm,9651:iS,9657:cm,9661:iS,9667:cm,9711:Fd,9824:pm,9825:pm,9826:pm,9827:pm,9837:[0,.75,0,0,.38889],9838:nS,9839:nS,10216:mc,10217:mc,10222:hm,10223:hm,10229:[.011,.511,0,0,1.609],10230:sS,10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:sS,10815:Vl,10927:an,10928:an,57376:aS},"Math-BoldItalic":{32:qt,48:fm,49:fm,50:fm,51:Nd,52:Nd,53:Nd,54:Vn,55:Nd,56:Vn,57:Nd,65:C3,66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:cS,73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:oS,77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:lS,105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:hS,112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:qt,915:[0,.68611,.15972,0,.65694],916:E3,920:[0,.68611,.03194,0,.86722],923:uS,926:[0,.68611,.07458,0,.84125],928:cS,931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:dS,936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:hS,960:[0,.44444,.03704,0,.68241],961:pS,962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:pS,1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:qt,48:Rd,49:Rd,50:Rd,51:$d,52:$d,53:$d,54:Hn,55:$d,56:Hn,57:$d,65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:mS,73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:fS,80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:gS,112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:qt,915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:fS,923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:mS,931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:gS,960:[0,.43056,.03588,0,.57003],961:yS,962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:yS,1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:qt,33:[0,.69444,0,0,.36667],34:U3,35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:mm,40:vS,41:vS,42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:vi,49:vi,50:vi,51:vi,52:vi,53:vi,54:vi,55:vi,56:vi,57:vi,58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:bS,64:Ea,65:Ea,66:Ea,67:N3,68:Fo,69:[0,.69444,0,0,.64167],70:Oo,71:Ea,72:Fo,73:[0,.69444,0,0,.33056],74:bS,75:xS,76:kS,77:[0,.69444,0,0,.97778],78:Fo,79:Fo,80:N3,81:[.10556,.69444,0,0,.79445],82:N3,83:Oo,84:Ea,85:xS,86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:Ea,89:[0,.69444,.0275,0,.73334],90:TS,91:_S,93:_S,94:vi,95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:$3,99:[0,.45833,0,0,.48889],100:$3,101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:$3,105:wS,106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:wS,109:[0,.45833,0,0,.86667],110:CS,111:[0,.45833,0,0,.55],112:SS,113:SS,114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:CS,118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:qt,168:vi,176:Ea,180:vi,184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:vi,711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:vi,729:mm,730:Ea,732:vi,733:vi,915:kS,916:[0,.69444,0,0,.91667],920:z3,923:TS,926:Ea,928:Fo,931:Fo,933:z3,934:Fo,936:z3,937:Fo,8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:mm,8217:mm,8220:U3,8221:U3},"SansSerif-Italic":{32:qt,33:[0,.69444,.05733,0,.31945],34:LS,35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:V3,40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:RS,45:[0,.44444,.01946,0,.33333],46:OS,47:[.25,.75,.13164,0,.5],48:$s,49:$s,50:$s,51:$s,52:$s,53:$s,54:$s,55:$s,56:$s,57:$s,58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:Aa,66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:q3,73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:K3,77:[0,.69444,.08094,0,.875],78:q3,79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:ES,95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:qt,168:[0,.67937,.06385,0,.5],176:AS,184:j3,305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:ES,711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:MS,715:Wr,728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:AS,732:[0,.67659,.08826,0,.5],733:MS,915:[0,.69444,.13372,0,.54167],916:jS,920:[0,.69444,.07555,0,.77778],923:Oo,926:[0,.69444,.12816,0,.66667],928:q3,931:[0,.69444,.11983,0,.72222],933:DS,934:[0,.69444,.04603,0,.72222],936:DS,937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:V3,8217:V3,8220:[0,.69444,.14205,0,.5],8221:LS},"SansSerif-Regular":{32:qt,33:[0,.69444,0,0,.31945],34:Wr,35:BS,36:O3,37:PS,38:[0,.69444,0,0,.75834],39:ka,40:mc,41:mc,42:IS,43:Kn,44:RS,45:[0,.44444,0,0,.33333],46:OS,47:Ta,48:zs,49:zs,50:zs,51:zs,52:zs,53:zs,54:zs,55:zs,56:zs,57:zs,58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:H3,64:Aa,65:Aa,66:Aa,67:Ul,68:[0,.69444,0,0,.72223],69:FS,70:[0,.69444,0,0,.56945],71:Aa,72:W3,73:ka,74:H3,75:[0,.69444,0,0,.69445],76:K3,77:[0,.69444,0,0,.875],78:W3,79:[0,.69444,0,0,.73611],80:Ul,81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:gc,84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:Aa,89:[0,.69444,.025,0,.66667],90:Oo,91:NS,93:NS,94:Wr,95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:G3,99:$S,100:G3,101:$S,102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:G3,105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:qS,111:[0,.44444,0,0,.5],112:zS,113:zS,114:[0,.44444,.01389,0,.34167],115:US,116:[0,.57143,0,0,.36111],117:qS,118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:qt,168:[0,.67937,0,0,.5],176:Aa,184:j3,305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:Wr,711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:Wr,715:Wr,728:Wr,729:[0,.67937,0,0,.27778],730:Aa,732:[0,.67659,0,0,.5],733:Wr,915:K3,916:jS,920:jl,923:Oo,926:Aa,928:W3,931:Od,933:jl,934:Od,936:jl,937:Od,8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:ka,8217:ka,8220:Wr,8221:Wr},"Script-Regular":{32:qt,65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:qt},"Size1-Regular":{32:qt,40:VS,41:VS,47:HS,91:KS,92:HS,93:KS,123:WS,125:WS,160:qt,710:gm,732:gm,770:gm,771:gm,8214:[-99e-5,.601,0,0,.77778],8593:GS,8595:GS,8657:XS,8659:XS,8719:YS,8720:YS,8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:JS,8748:ZS,8749:ZS,8750:JS,8896:yc,8897:yc,8898:yc,8899:yc,8968:vc,8969:vc,8970:vc,8971:vc,9168:Z3,10216:vc,10217:vc,10752:X3,10753:X3,10754:X3,10756:yc,10758:yc},"Size2-Regular":{32:qt,40:QS,41:QS,47:eC,91:tC,92:eC,93:tC,123:rC,125:rC,160:qt,710:ym,732:ym,770:ym,771:ym,8719:iC,8720:iC,8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:sC,8748:nC,8749:nC,8750:sC,8896:bc,8897:bc,8898:bc,8899:bc,8968:vm,8969:vm,8970:vm,8971:vm,10216:aC,10217:aC,10752:Y3,10753:Y3,10754:Y3,10756:bc,10758:bc},"Size3-Regular":{32:qt,40:oC,41:oC,47:lC,91:uC,92:lC,93:uC,123:bm,125:bm,160:qt,710:xm,732:xm,770:xm,771:xm,8730:[.95003,1.45,0,0,1],8968:_m,8969:_m,8970:_m,8971:_m,10216:bm,10217:bm},"Size4-Regular":{32:qt,40:cC,41:cC,47:dC,91:hC,92:dC,93:hC,123:wm,125:wm,160:qt,710:Sm,732:Sm,770:Sm,771:Sm,8730:[1.25003,1.75,0,0,1],8968:Cm,8969:Cm,8970:Cm,8971:Cm,9115:km,9116:pC,9117:km,9118:km,9119:pC,9120:km,9121:Tm,9122:Z3,9123:Tm,9124:Tm,9125:Z3,9126:Tm,9127:fC,9128:mC,9129:gC,9130:[0,.3,0,0,.88889],9131:fC,9132:mC,9133:gC,9143:[.88502,.915,0,0,1.05556],10216:wm,10217:wm,57344:yC,57345:yC,57680:Em,57681:Em,57682:Em,57683:Em},"Typewriter-Regular":{32:xC,33:He,34:He,35:He,36:gs,37:gs,38:He,39:He,40:gs,41:gs,42:[0,.52083,0,0,.525],43:vC,44:[.13889,.125,0,0,.525],45:vC,46:[0,.125,0,0,.525],47:gs,48:He,49:He,50:He,51:He,52:He,53:He,54:He,55:He,56:He,57:He,58:ji,59:[.13889,.43056,0,0,.525],60:bC,61:[-.19549,.41562,0,0,.525],62:bC,63:He,64:He,65:He,66:He,67:He,68:He,69:He,70:He,71:He,72:He,73:He,74:He,75:He,76:He,77:He,78:He,79:He,80:He,81:[.13889,.61111,0,0,.525],82:He,83:He,84:He,85:He,86:He,87:He,88:He,89:He,90:He,91:gs,92:gs,93:gs,94:He,95:[.09514,0,0,0,.525],96:He,97:ji,98:He,99:ji,100:He,101:ji,102:He,103:zd,104:He,105:He,106:[.22222,.61111,0,0,.525],107:He,108:He,109:ji,110:ji,111:ji,112:zd,113:zd,114:ji,115:ji,116:[0,.55358,0,0,.525],117:ji,118:ji,119:ji,120:ji,121:zd,122:ji,123:gs,124:gs,125:gs,126:He,127:He,160:xC,176:He,184:[.19445,0,0,0,.525],305:ji,567:zd,711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:He,715:He,728:He,730:He,770:He,771:He,776:He,915:He,916:He,920:He,923:He,926:He,928:He,931:He,933:He,934:He,936:He,937:He,8216:He,8217:He,8242:He,9251:[.11111,.21944,0,0,.525]}},Poe=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,k0=10,Ts=.25,Ioe=1.2,ol=.431,_C={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[ol,ol,ol],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.5,.732,.925],num2:[.394,.384,.5],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[Ts,Ts,Ts],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},I5=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],S6=5,wC={" ":" ","​":" ",Å:"A",Ç:"C",Ð:"D",Þ:"o",å:"a",ç:"c",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Oc(t,e){t===void 0&&(t=77);let r=Boe[e][t];if(r)return{defaultMetrics:!1,depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]};if(t===11034)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0,width:.8};let i=String.fromCodePoint(t);if(i in wC)t=wC[i].codePointAt(0);else if(Poe.test(i))return t=77,{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0,width:1};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0,width:.8}}var R5={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],longrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],longleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],longleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],longrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],longleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],longleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],longRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716],longLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},O5={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},SC={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:`m 529 160
  c -179 0 -524 -115 -524 -115
  c -5 -1 -9 -5 -9 -10
  c 0 -1 1 -2 1 -3
  l 4 -22
  c 1 -5 5 -9 11 -9
  h 2
  s 338 93 512 92
  c 174 0 513 -92 513 -92
  h 2
  c 5 0 9 4 11 9
  l 5 22
  c 1 6 -2 12 -8 13
  c 0 0 -342 115 -520 115
  z
  `,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,widetilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,widetilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,widetilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,widetilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};function Roe(t){if(O5[t]){let[u,c,d]=O5[t],h=`<span class="ML__stretchy" style="height:${d}em"><svg width="100%" height="${d}em" viewBox="0 0 ${u} ${c}" preserveAspectRatio="none" ><path fill="currentcolor" d="${SC[t]}"></path></svg></span>`;return`<span style="display:inline-block;height:${Math.floor(100*d/2)/100}em;min-width:0">${h}</span>`}let[e,r,i,n]=R5[t],s,a,o=i/1e3;e.length===3?(s=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],a=["xMinYMin","xMidYMin","xMaxYMin"]):e.length===2?(s=["slice-1-of-2","slice-2-of-2"],a=["xMinYMin","xMaxYMin"]):(s=["slice-1-of-1"],a=[n]);let l=e.map((u,c)=>`<span class="${s[c]}" style=height:${o}em><svg width=400em height=${o}em viewBox="0 0 400000 ${i}" preserveAspectRatio="${a[c]} slice"><path fill="currentcolor" d="${SC[u]}"></path></svg></span>`).join("");return`<span style="display:inline-block;height:${o}em;min-width:${r}em;">${l}</span>`}function Ooe(t){return R5[t]?R5[t][2]/1e3:O5[t][2]}function Foe(t){let e=[];for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i===13&&t.charCodeAt(r+1)===10&&(i=10,r++),(i===13||i===12)&&(i=10),i===0&&(i=65533),i>=55296&&i<=56319){let n=t.charCodeAt(r+1);if(n>=56320&&n<=57343){let s=i-55296,a=n-56320;i=2**16+s*2**10+a,r++}}e.push(i)}return e}var i1=8205,Noe=[[i1,1],[65038,2],[127995,5],[129456,4],[917536,96]],Am,CC=[127462,127487];function kC(t){var e;if(Am===void 0){Am={};for(let r of Noe)for(let i=r[0];i<=r[0]+r[1]-1;i++)Am[i]=!0}return(e=Am[t])!=null?e:!1}function $oe(t){return t>=CC[0]&&t<=CC[1]}function EB(t){if(/^[\u0020-\u00FF]*$/.test(t))return t;let e=[],r=Foe(t),i=0;for(;i<r.length;){let n=r[i++],s=r[i];if(s===i1){let a=i-1;for(i+=2;r[i]===i1;)i+=2;e.push(String.fromCodePoint(...r.slice(a,i-a+1)))}else if(kC(s)){let a=i-1;for(;kC(r[i]);)i+=r[i]===i1?2:1;e.push(String.fromCodePoint(...r.slice(a,2*i-a-1)))}else $oe(n)?(i+=1,e.push(String.fromCodePoint(...r.slice(i-2,2)))):e.push(String.fromCodePoint(n))}return e}var zoe=class{constructor(t){this.obeyspaces=!1,this.pos=0,this.s=EB(t)}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(t){let e=typeof this.s=="string"?t.exec(this.s.slice(this.pos)):t.exec(this.s.slice(this.pos).join(""));return e!=null&&e[0]?(this.pos+=e[0].length,e[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"<space>";let t=this.get();if(t==="\\"){if(!this.end()){let e=this.match(/^[a-zA-Z\*]+/);return e?this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/):e=this.get(),"\\"+e}}else{if(t==="{")return"<{>";if(t==="}")return"<}>";if(t==="^"){if(this.peek()==="^"){this.get();let e=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(e)return String.fromCodePoint(Number.parseInt(e.slice(e.lastIndexOf("^")+1),16))}return t}else if(t==="#"){if(!this.end()){let e=!1;if(/[\d?@]/.test(this.peek())&&(e=!0,this.pos+1<this.s.length)){let r=this.s[this.pos+1];e=/[^\dA-Za-z]/.test(r)}return e?"#"+this.get():"#"}}else if(t==="$")return this.peek()==="$"?(this.get(),"<$$>"):"<$>"}return t}};function Uoe(t,e){var r,i,n,s;let a=[],o=t.next();if(o&&o!=="\\relax"){if(o==="\\noexpand")o=t.next(),o&&a.push(o);else if(o==="\\obeyspaces")t.obeyspaces=!0;else if(o==="\\bgroup")a.push("<{>");else if(o==="\\egroup")a.push("<}>");else if(o==="\\string"){if(o=t.next(),o)if(o.startsWith("\\"))for(let l of o)a.push(l==="\\"?"\\backslash":l);else o==="<{>"?a.push("\\{"):o==="<space>"?a.push("~"):o==="<}>"&&a.push("\\}")}else if(o==="\\csname"){for(;t.peek()==="<space>";)t.next();let l="",u=!1,c=[];do{if(c.length===0)if(/^#[\d?@]$/.test(t.peek())){let d=t.get().slice(1);c=Qh((i=(r=e==null?void 0:e(d))!=null?r:e==null?void 0:e("?"))!=null?i:"\\placeholder{}",e),o=c[0]}else o=t.next(),c=o?[o]:[];u=c.length===0,!u&&o==="\\endcsname"&&(u=!0,c.shift()),u||(u=o==="<$>"||o==="<$$>"||o==="<{>"||o==="<}>"||typeof o=="string"&&o.length>1&&o.startsWith("\\")),u||(l+=c.shift())}while(!u);l&&a.push("\\"+l),a.push(...c)}else if(o!=="\\endcsname")if(o.length>1&&o.startsWith("#")){let l=o.slice(1);a.push(...Qh((s=(n=e==null?void 0:e(l))!=null?n:e==null?void 0:e("?"))!=null?s:"\\placeholder{}",e))}else a.push(o)}return a}function Qh(t,e=null){if(!t)return[];let r=[],i="";for(let a of t.toString().split(/\r?\n/)){i&&r.push(i),i=" ";let o=a.match(/((?:\\%)|[^%])*/);o!==null&&r.push(o[0])}let n=new zoe(r.join("")),s=[];do s.push(...Uoe(n,e));while(!n.end());return s}function kt(t){let e="",r=[];for(let i of t)i&&(e&&/^[a-zA-Z\*]/.test(i)&&r.push(e),r.push(i),/^\\[a-zA-Z]+\*?[\"\'][^\ ]+$/.test(i)&&r.push(" "),e=/\\[a-zA-Z]+\*?$/.test(i)?" ":"");return r.join("")}function tr(t,...e){return t.startsWith("\\"),e.length===0?t:kt([t,...e.map(r=>`{${r}}`)])}function Kl(t){return kt(t.map(e=>{var r;return(r={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[e])!=null?r:e}))}var AB=class sh{constructor(e){sh._registry[e]=this}static createAtom(e,r,i){return sh._registry[e].createAtom(r,xi(r,e),i)}static serialize(e,r){var i;if(!e||e.length===0)return"";if((i=r.skipStyles)!=null&&i){let n=[];for(let s of MB(e)){let a=sh._registry[s[0].mode];n.push(...a.serialize(s,r))}return kt(n)}return kt(joe(e,r))}static getFont(e,r,i){return sh._registry[e].getFont(r,i)}};AB._registry={};var Mn=AB;function MB(t){let e=[],r=[],i="NONE";for(let n of t)n.type!=="first"&&(n.mode!==i?(r.length>0&&e.push(r),r=[n],i=n.mode):r.push(n));return r.length>0&&e.push(r),e}function F5(t){if(!t||t.mode!=="math")return"";let{style:e}=t;return!e||!e.variantStyle?"":e.variantStyle==="bold"||e.variantStyle==="bolditalic"?"bold":""}function N5(t){if(!t)return"";let{style:e}=t;if(!e)return"";let r=e.variant;return r===void 0?"normal":(!["calligraphic","fraktur","double-struck","script","monospace","sans-serif"].includes(r)&&e.variantStyle&&e.variantStyle!=="up"&&(r+="-"+e.variantStyle),r)}function fo(t,e){let r=[],i=[],n;for(let s of t){if(s.type==="first")continue;let a;e==="variant"?a=N5(s):e==="bold"?a=F5(s):a=s.style[e],a===n?i.push(s):(i.length>0&&r.push(i),i=[s],n=a)}return i.length>0&&r.push(i),r}function TC(t,e){var r;let{parent:i}=t[0],n=i==null?void 0:i.style.color,s=[];for(let a of MB(t)){let o=e.defaultMode;for(let l of fo(a,"color")){let u=l[0].style,c=Mn._registry[l[0].mode].serialize(l,Z(q({},e),{defaultMode:o==="text"?"text":"math"}));!e.skipStyles&&u.color&&u.color!=="none"&&(!i||n!==u.color)?s.push(tr("\\textcolor",(r=u.verbatimColor)!=null?r:u.color,kt(c))):s.push(kt(c))}}return s}function qoe(t,e){let{parent:r}=t[0],i=r==null?void 0:r.style.backgroundColor;return fo(t,"backgroundColor").map(n=>{var s;if(n.length>0||n[0].type!=="box"){let a=n[0].style;if(a.backgroundColor&&a.backgroundColor!=="none"&&(!r||i!==a.backgroundColor))return tr("\\colorbox",(s=a.verbatimBackgroundColor)!=null?s:a.backgroundColor,kt(TC(n,Z(q({},e),{defaultMode:"text"}))))}return kt(TC(n,e))})}function joe(t,e){if(t.length===0)return[];let{parent:r}=t[0],i=r==null?void 0:r.style.fontSize,n=[];for(let s of fo(t,"fontSize")){let a=s[0].style.fontSize,o=qoe(s,e);o&&(a&&a!=="auto"&&(!r||i!==a)?n.push(["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][a],...o):n.push(...o))}return n}function $5(t){return t?{mord:"ord",mbin:"bin",mop:"op",mrel:"rel",mopen:"open",mclose:"close",mpunct:"punct",minner:"inner",spacing:"ignore",latex:"latex",composition:"inner",error:"inner",placeholder:"ord",supsub:"ignore"}[t]:void 0}function Ep(t){if(t.length===0)return"ord";let e=$5(t[0].type),r=$5(t[t.length-1].type);return e&&e===r?e:"ord"}function Ud(t,e){if(typeof t=="string")return t;if(typeof t=="number"){let r=Math.ceil(100*t)/100;return r===0?"0":r.toString()+(e??"")}return""}var Ae=class DB{constructor(e,r){var i,n,s,a,o;if(typeof e=="number"?this.value=String.fromCodePoint(e):typeof e=="string"?this.value=e:gi(e)?this.children=e.filter(u=>u!==null):e&&e instanceof DB&&(this.children=[e]),this.children)for(let u of this.children)u.parent=this;this.type=(i=r==null?void 0:r.type)!=null?i:"ignore",this.isSelected=(r==null?void 0:r.isSelected)===!0,r!=null&&r.caret&&(this.caret=r.caret),this.classes=(n=r==null?void 0:r.classes)!=null?n:"",this.isTight=(s=r==null?void 0:r.isTight)!=null?s:!1,r!=null&&r.attributes&&(this.attributes=r.attributes);let l=r==null?void 0:r.fontFamily;r!=null&&r.style&&this.value&&(l=(o=Mn.getFont((a=r.mode)!=null?a:"math",this,Z(q({variant:"normal"},r.style),{letterShapeStyle:r.letterShapeStyle})))!=null?o:void 0),l||(l="Main-Regular"),this._height=0,this._depth=0,this._width=0,this.hasExplicitWidth=!1,this.skew=0,this.italic=0,this.maxFontSize=0,this.scale=1,(r==null?void 0:r.maxFontSize)!==void 0&&(this.maxFontSize=r.maxFontSize),Voe(this,l)}set atomID(e){e===void 0||e.length===0||(this.id=e)}selected(e){if(this.isSelected!==e&&(this.isSelected=e,this.children))for(let r of this.children)r.selected(e)}setStyle(e,r,i){if(r===void 0)return;let n=Ud(r,i);n.length>0&&(this.cssProperties||(this.cssProperties={}),this.cssProperties[e]=n)}setTop(e){Number.isFinite(e)&&Math.abs(e)>.01&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=Ud(e,"em"),this.height-=e,this.depth+=e)}get left(){var e;return(e=this.cssProperties)!=null&&e["margin-left"]?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-left"]=Ud(e,"em")))}set right(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=Ud(e,"em")))}set bottom(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-bottom"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-bottom"]=Ud(e,"em")))}get width(){return this._width*this.scale}set width(e){this._width=e,this.hasExplicitWidth=!0}set softWidth(e){}get height(){return this._height*this.scale}set height(e){this._height=e}get depth(){return this._depth*this.scale}set depth(e){this._depth=e}wrap(e){let r=e.parent;if(!r)return this;e.isPhantom&&this.setStyle("opacity",0);let i=e.color;i&&i!==r.color&&this.setStyle("color",i);let n=e.backgroundColor;this.isSelected&&(n=woe(n)),n&&n!==r.backgroundColor&&(this.setStyle("background-color",n),this.setStyle("display","inline-block"));let s=e.scalingFactor;return this.scale=s,this.skew*=s,this.italic*=s,this}toMarkup(){var e,r,i,n;let s=(e=this.value)!=null?e:"";if(this.children)for(let f of this.children)s+=f.toMarkup();let a="";if(this.svgBody)a=Roe(this.svgBody);else if(this.svgOverlay){a='<span style="',a+="display: inline-block;",a+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`,a+=`vertical-align:${Math.floor(100*this.depth)/100}em;`,a+='">',a+=s,a+="</span>",a+='<svg style="position:absolute;overflow:visible;',a+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`;let f=(r=this.cssProperties)==null?void 0:r.padding;f?(a+=`top:${f};`,a+=`left:${f};`,a+=`width:calc(100% - 2 * ${f} );`):a+="top:0;left:0;width:100%;",a+="z-index:2;",a+='"',this.svgStyle&&(a+=this.svgStyle),a+=` viewBox="0 0 ${Math.floor(100*this.width)/100} ${Math.floor(100*(this.height+this.depth))/100}"`,a+=`>${this.svgOverlay}</svg>`}let o=[],l=this.classes.split(" ");l.push((i={latex:"ML__raw-latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])!=null?i:""),this.caret==="latex"&&l.push("ML__latex-caret"),this.isSelected&&l.push("ML__selected");let u=l.length===1?l[0]:l.filter((f,g,y)=>f.length>0&&y.indexOf(f)===g).join(" ");if(u.length>0&&o.push(`class=${xc(`"${u}"`)}`),this.id&&o.push(` data-atom-id=${xc(this.id)}`),this.cssId&&o.push(` id=${xc(`"${this.cssId.replace(/ /g,"-")}"`)}`),this.attributes&&o.concat(Object.keys(this.attributes).map(f=>`${J3(f)}=${xc(this.attributes[f])}`)),this.htmlData){let f=this.htmlData.split(",");for(let g of f){let y=g.match(/([^=]+)=(.+$)/);if(y){let C=J3(y[1]);if(C)if(C==="href"){let S=new URL(y[2]);if(S.protocol!=="http:"&&S.protocol!=="https:")throw new Error(`Invalid URL: ${y[2]}`);o.push(`href="${y[2].replace(/"/g,"&quot;")}"`)}else o.push(`data-${C}=${xc(y[2])}`)}else{let C=J3(g);C&&o.push(`data-${C} `)}}}let c=(n=this.cssProperties)!=null?n:{};this.hasExplicitWidth&&c.width===void 0&&(c.width=`${Math.ceil(this._width*100)/100}em`);let d=Object.keys(c).map(f=>`${f}:${c[f]}`);if(this.scale!==void 0&&this.scale!==1&&(s.length>0||a.length>0)&&d.push(`font-size: ${Math.ceil(this.scale*1e4)/100}%`),this.htmlStyle)for(let f of this.htmlStyle.split(";")){let g=f.match(/([^:]+):(.+$)/);if(g){let y=g[1].trim().replace(/ /g,"-");y&&d.push(`${y}:${g[2]}`)}}d.length>0&&o.push(`style=${xc(d.join(";"))}`);let h="";return o.length>0||a.length>0?h=`<span ${o.join(" ")}>${s}${a}</span>`:h=s,this.caret==="text"?h+='<span class="ML__text-caret"></span>':this.caret==="math"&&(h+='<span class="ML__caret"></span>'),h}tryCoalesceWith(e){if(this.svgBody||!this.value||e.svgBody||!e.value)return!1;let r=this.children&&this.children.length>0,i=e.children&&e.children.length>0;if(r||i)return!1;if(e.cssProperties||this.cssProperties){for(let l of["border","border-left","border-right","border-right-width","left","margin","margin-left","margin-right","padding","position","width"])if(e.cssProperties&&l in e.cssProperties||this.cssProperties&&l in this.cssProperties)return!1}let n=this.cssProperties?Object.keys(this.cssProperties).length:0,s=e.cssProperties?Object.keys(e.cssProperties).length:0;if(n!==s)return!1;if(n>0){for(let l of Object.keys(this.cssProperties))if(this.cssProperties[l]!==e.cssProperties[l])return!1}let a=this.classes.trim().replace(/\s+/g," ").split(" "),o=e.classes.trim().replace(/\s+/g," ").split(" ");if(a.length!==o.length)return!1;a.sort(),o.sort();for(let[l,u]of a.entries())if(u==="ML__vertical-separator"||u!==o[l])return!1;return this.value+=e.value,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this._width=this._width+e._width,this.maxFontSize=Math.max(this.maxFontSize,e.maxFontSize),this.italic=e.italic,!0}};function z5(t){if(!t||t.length===0)return[];t[0].children=z5(t[0].children);let e=[t[0]];for(let r=1;r<t.length;r++)e[e.length-1].tryCoalesceWith(t[r])||(t[r].children=z5(t[r].children),e.push(t[r]));return e}function E2(t){return t.children&&(t.children=z5(t.children)),t}function A2(t,e){if(!t)return new Ae(null,e);let r=new Ae(null,{classes:"ML__strut",type:"ignore"});r.setStyle("height",Math.max(0,t.height),"em");let i=[r];if(t.depth!==0){let n=new Ae(null,{classes:"ML__strut--bottom",type:"ignore"});n.setStyle("height",t.height+t.depth,"em"),n.setStyle("vertical-align",-t.depth,"em"),i.push(n)}return i.push(t),new Ae(i,Z(q({},e),{type:"lift"}))}function n1(t){let e=Ooe(t)/2,r=new Ae(null,{maxFontSize:0});return r.height=e+.166,r.depth=e-.166,r.svgBody=t,r}function Voe(t,e){var r;if(t.type==="latex"){t.height=.9,t.depth=.2,t._width=1;return}if(t.value){t.height=-1/0,t.depth=-1/0,t._width=0,t.skew=-1/0,t.italic=-1/0;for(let i=0;i<t.value.length;i++){let n=Oc(t.value.codePointAt(i),e);t.height=Math.max(t.height,n.height),t.depth=Math.max(t.depth,n.depth),t._width+=n.width,t.skew=n.skew,t.italic=n.italic}return}if(t.children&&t.children.length>0){let i=-1/0,n=-1/0,s=0;for(let a of t.children)a.height>i&&(i=a.height),a.depth>n&&(n=a.depth),s=Math.max(s,(r=a.maxFontSize)!=null?r:0);t.height=i,t.depth=n,t._width=t.children.reduce((a,o)=>a+o.width,0),t.maxFontSize=s}}function J3(t){if(t=t.trim().replace(/ /g,"-"),t.length===0)throw new Error("Invalid empty attribute name");if(/[\x20\x09\x0a\x0c\x0d"'>/=\x00-\x1f]/.test(t))throw new Error(`Invalid attribute name "${t}"`);return t}function xc(t){if(t=t.trim(),t.startsWith('"')&&t.endsWith('"')){if(/"/.test(t.slice(1,-1)))throw new Error(`Invalid attribute value: ${t}`);return t}if(t.startsWith("'")&&t.endsWith("'")){if(/'/.test(t.slice(1,-1)))throw new Error(`Invalid attribute value: ${t}`);return t}if(t.length===0)throw new Error("Invalid empty attribute value");return`"${t.replace(/"/g,"&quot;")}"`}function Hoe(t){if("individualShift"in t){let e=t.individualShift,r=e[0];if(r==null)return[null,0];let i=[r],n=-r.shift-r.box.depth,s=n;for(let a=1;a<e.length;a++){let o=e[a],l=-o.shift-s-o.box.depth,u=l-(r.box.height+r.box.depth);s=s+l,i.push(u),i.push(o),r=o}return[i,n]}if("top"in t){let e=t.top;for(let r of t.children)e-=typeof r=="number"?r:r.box.height+r.box.depth;return[t.children,e]}else{if("bottom"in t)return[t.children,-t.bottom];if("firstBaseline"in t){let e=t.firstBaseline[0];if(typeof e=="number")throw new Error("First child must be an element.");return[t.firstBaseline,-e.box.depth]}else if("shift"in t){let e=t.children[0];if(typeof e=="number")throw new Error("First child must be an element.");return[t.children,-e.box.depth-t.shift]}}return[null,0]}function Koe(t){var e;let[r,i]=Hoe(t);if(!r)return[[],0,0];let n=new Ae(null,{classes:"ML__pstrut"}),s=0;for(let g of r)if(typeof g!="number"){let y=g.box;s=Math.max(s,y.maxFontSize,y.height)}s+=2,n.height=s,n.setStyle("height",s,"em");let a=[],o=i,l=i,u=i,c=0;for(let g of r){if(typeof g=="number")u+=g;else{let y=g.box,C=(e=g.classes)!=null?e:[],S=new Ae([n,y],{classes:C.join(" "),style:g.style});y.setStyle("height",y.height+y.depth,"em"),y.setStyle("display","inline-block"),S.setStyle("top",-s-u-y.depth,"em"),g.marginLeft&&S.setStyle("margin-left",g.marginLeft,"em"),g.marginRight&&S.setStyle("margin-right",g.marginRight,"em"),a.push(S),u+=y.height+y.depth,c=Math.max(c,S.width)}o=Math.min(o,u),l=Math.max(l,u)}a.forEach(g=>{g.softWidth=c});let d=new Ae(a,{classes:"ML__vlist"});if(d.softWidth=c,d.height=l,d.setStyle("height",l,"em"),o>=0)return[[new Ae(d,{classes:"ML__vlist-r"})],l,-o];let h=new Ae(new Ae(null),{classes:"ML__vlist"});h.height=-o,h.setStyle("height",-o,"em");let f=new Ae(8203,{classes:"ML__vlist-s",maxFontSize:0});return f.softWidth=0,f.height=0,f.depth=0,[[new Ae([d,f],{classes:"ML__vlist-r"}),new Ae(h,{classes:"ML__vlist-r"})],l,-o]}var zr=class extends Ae{constructor(t,e){var r;let[i,n,s]=Koe(t);super(i.length===1?i[0]:i,{type:e==null?void 0:e.type,classes:((r=e==null?void 0:e.classes)!=null?r:"")+" ML__vlist-t"+(i.length===2?" ML__vlist-t2":"")}),this.height=n,this.depth=s,this.softWidth=i.reduce((a,o)=>Math.max(a,o.width),0)}};function Woe(t,e){var r,i,n,s,a;let o=t.metrics,l=new Ae(e.base),u=(r=e.baseShift)!=null?r:0,c=(i=e.slant)!=null?i:0,d=0,h=0;e.above&&(d=(n=e.aboveShift)!=null?n:Math.max(o.bigOpSpacing1,o.bigOpSpacing3-e.above.depth)),e.below&&(h=(s=e.belowShift)!=null?s:Math.max(o.bigOpSpacing2,o.bigOpSpacing4-e.below.height));let f=null;if(e.below&&e.above){let g=o.bigOpSpacing5+e.below.height+e.below.depth+h+l.depth+u;f=new zr({bottom:g,children:[o.bigOpSpacing5,{box:e.below,marginLeft:-c,classes:["ML__center"]},h,{box:l,classes:["ML__center"]},d,{box:e.above,marginLeft:c,classes:["ML__center"]},o.bigOpSpacing5]}).wrap(t)}else if(e.below&&!e.above)f=new zr({top:l.height-u,children:[o.bigOpSpacing5,{box:e.below,marginLeft:-c,classes:["ML__center"]},h,{box:l,classes:["ML__center"]}]}).wrap(t);else if(!e.below&&e.above){let g=l.depth+u;f=new zr({bottom:g,children:[{box:l,classes:["ML__center"]},d,{box:e.above,marginLeft:c,classes:["ML__center"]},o.bigOpSpacing5]}).wrap(t)}else{let g=l.depth+u;f=new zr({bottom:g,children:[{box:l},o.bigOpSpacing5]}).wrap(t)}return new Ae(f,{type:(a=e.type)!=null?a:"op"})}var C6=7,lg=6,M2=5,ou=4,i0=3,Tn=2,pu=1,Mi=0,No=class{constructor(t,e,r){this.id=t,this.sizeDelta=e,this.cramped=r;let i={"-4":2,"-3":1,0:0}[e];this.metrics=Object.keys(_C).reduce((n,s)=>Z(q({},n),{[s]:_C[s][i]}),{})}getFontSize(t){return Math.max(1,t+this.sizeDelta)}get sup(){return Gs[[Mi,pu,Mi,pu,Tn,i0,Tn,i0][this.id]]}get sub(){return Gs[[Mi,Mi,Mi,Mi,Tn,Tn,Tn,Tn][this.id]]}get fracNum(){return Gs[[Mi,pu,Mi,pu,Tn,i0,ou,M2][this.id]]}get fracDen(){return Gs[[Mi,Mi,Mi,Mi,Tn,Tn,ou,ou][this.id]]}get cramp(){return Gs[[Mi,Mi,Tn,Tn,ou,ou,lg,lg][this.id]]}get isTight(){return this.sizeDelta<0}},qd={7:new No(C6,0,!1),6:new No(lg,0,!0),5:new No(M2,0,!1),4:new No(ou,0,!0),3:new No(i0,-3,!1),2:new No(Tn,-3,!0),1:new No(pu,-4,!1),0:new No(Mi,-4,!0)},Gs=Z(q({},qd),{displaystyle:qd[C6],textstyle:qd[M2],scriptstyle:qd[i0],scriptscriptstyle:qd[pu]});function LB(t,e){var r;if(!t)return 0;let i={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:k0,bp:803/800,dd:1238/1157,pc:12,in:72.27,mu:10/18}[(r=t.unit)!=null?r:"pt"];if(Number.isFinite(e)){let n=10**e;return Math.round(t.dimension/k0*i*n)/n}return t.dimension*i}function BB(t,e){if(t===null)return 0;let r=LB(t)/k0;if(Number.isFinite(e)){let i=10**e;return Math.round(r*i)/i}return r}function Q3(t){var e;return`${t.dimension}${(e=t.unit)!=null?e:"pt"}`}function Goe(t){let e=Q3(t.glue);return t.grow&&t.grow.dimension!==0&&(e+=` plus ${Q3(t.grow)}`),t.shrink&&t.shrink.dimension!==0&&(e+=` minus ${Q3(t.shrink)}`),e}function fi(t){var e,r;if(t==null)return null;let i="";if("dimension"in t&&(i=`${t.dimension}${(e=t.unit)!=null?e:"pt"}`),"glue"in t&&(i=Goe(t)),"number"in t)if(!("base"in t)||t.base==="decimal")i=Number(t.number).toString();else if(t.base==="alpha")i=`\`${String.fromCodePoint(t.number)}`;else{let n=Math.round(t.number)>>>0;t.base==="hexadecimal"?(i=Number(n).toString(16).toUpperCase(),n<=255?i=i.padStart(2,"0"):n<=65535?i=i.padStart(4,"0"):n<=16777215?i=i.padStart(6,"0"):i=i.padStart(8,"0"),i=`"${i}`):t.base==="octal"&&(i=Number(n).toString(8),n<=63?i=i.padStart(2,"0"):n<=30583?i=i.padStart(4,"0"):i=i.padStart(8,"0"),i=`'${i}`)}return"register"in t&&("factor"in t&&(t.factor===-1?i="-":t.factor!==1&&(i=Number(t.factor).toString())),"global"in t&&t.global&&(i+="\\global"),i+=`\\${t.register}`),"string"in t&&(i=t.string),(r=t.relax)!=null&&r&&(i+="\\relax"),i}function js(t,e){return t==null?null:"number"in t?Z(q({},t),{number:t.number*e}):"register"in t?"factor"in t&&t.factor?Z(q({},t),{factor:t.factor*e}):Z(q({},t),{factor:e}):"dimension"in t?Z(q({},t),{dimension:t.dimension*e}):"glue"in t?t.shrink&&t.grow?{glue:js(t.glue,e),shrink:js(t.shrink,e),grow:js(t.grow,e)}:t.shrink?{glue:js(t.glue,e),shrink:js(t.shrink,e)}:t.grow?{glue:js(t.glue,e),grow:js(t.grow,e)}:{glue:js(t.glue,e)}:null}var Xoe={"p@":{dimension:1},"z@":{dimension:0},maxdimen:{dimension:16383.99999},hfuzz:{dimension:.1},vfuzz:{dimension:.1},overfullrule:{dimension:5},hsize:{dimension:6.5,unit:"in"},vsize:{dimension:8.9,unit:"in"},parindent:{dimension:20},maxdepth:{dimension:4},splitmaxdepth:{register:"maxdimen"},boxmaxdepth:{register:"maxdimen"},delimitershortfall:{dimension:5},nulldelimiterspace:{dimension:1.2,unit:"pt"},scriptspace:{dimension:.5},topskip:{dimension:10},splittopskip:{dimension:10},normalbaselineskip:{dimension:12},normallineskip:{dimension:1},normallineskiplimit:{dimension:0},jot:{dimension:3},doublerulesep:{dimension:2},arrayrulewidth:{dimension:.4},arraycolsep:{dimension:5},fboxsep:{dimension:3},fboxrule:{dimension:.4},"z@skip":{glue:{dimension:0},shrink:{dimension:0},grow:{dimension:0}},hideskip:{glue:{dimension:-1e3},grow:{dimension:1,unit:"fill"}},"@flushglue":{glue:{dimension:0},grow:{dimension:1,unit:"fill"}},parskip:{glue:{dimension:0},grow:{dimension:1}},abovedisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},abovedisplayshortskip:{glue:{dimension:0},grow:{dimension:3}},belowdisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},belowdisplayshortskip:{glue:{dimension:7},grow:{dimension:3},shrink:{dimension:4}},parfillskip:{glue:{dimension:0},grow:{dimension:1,unit:"fil"}},thinmuskip:{glue:{dimension:3,unit:"mu"}},medmuskip:{glue:{dimension:4,unit:"mu"},grow:{dimension:2,unit:"mu"},shrink:{dimension:4,unit:"mu"}},thickmuskip:{glue:{dimension:5,unit:"mu"},grow:{dimension:5,unit:"mu"}},smallskipamount:{glue:{dimension:3},grow:{dimension:1},shrink:{dimension:1}},medskipamount:{glue:{dimension:6},grow:{dimension:2},shrink:{dimension:3}},bigskipamount:{glue:{dimension:12},grow:{dimension:2},shrink:{dimension:4}},pretolerance:100,tolerance:200,hbadness:1e3,vbadness:1e3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1e4,doublehyphendemerits:1e4,finalhyphendemerits:5e3,adjdemerits:1e4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,baselineSkip:1.2,arraystretch:1,month:new Date().getMonth()+1,day:new Date().getDate(),year:new Date().getFullYear()};function PB(){return q({},Xoe)}function IB(){return{registers:PB(),smartFence:!1,renderPlaceholder:void 0,placeholderSymbol:"▢",letterShapeStyle:Ct.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,colorMap:T2,backgroundColorMap:b6,getMacro:t=>kB(t,w6())}}var Pt=class RB{constructor(e,r){var i,n,s,a,o,l,u,c,d,h,f,g,y,C,S;let A;e!=null&&e.parent?(this.parent=e.parent,A=e.parent,this.registers={}):(A=q(q({},IB()),(i=e==null?void 0:e.from)!=null?i:{}),this.registers=A.registers),A.atomIdsSettings&&(this.atomIdsSettings=q({},A.atomIdsSettings)),this.renderPlaceholder=A.renderPlaceholder,this.isPhantom=(a=(s=e==null?void 0:e.isPhantom)!=null?s:(n=this.parent)==null?void 0:n.isPhantom)!=null?a:!1,this.letterShapeStyle=A.letterShapeStyle,this.minFontScale=A.minFontScale,this.maxMatrixCols=A.maxMatrixCols,r!=null&&r.color&&r.color!=="none"?this.color=r.color:this.color=(l=(o=this.parent)==null?void 0:o.color)!=null?l:"",r!=null&&r.backgroundColor&&r.backgroundColor!=="none"?this.backgroundColor=r.backgroundColor:this.backgroundColor=(c=(u=this.parent)==null?void 0:u.backgroundColor)!=null?c:"",r!=null&&r.fontSize&&r.fontSize!=="auto"&&r.fontSize!==((d=this.parent)==null?void 0:d.size)?this.size=r.fontSize:this.size=(f=(h=this.parent)==null?void 0:h.size)!=null?f:S6;let T=(y=(g=this.parent)==null?void 0:g.mathstyle)!=null?y:Gs.displaystyle;if(typeof(e==null?void 0:e.mathstyle)=="string"){if(A instanceof RB)switch(e.mathstyle){case"cramp":T=T.cramp;break;case"superscript":T=T.sup;break;case"subscript":T=T.sub;break;case"numerator":T=T.fracNum;break;case"denominator":T=T.fracDen;break}switch(e.mathstyle){case"textstyle":T=Gs.textstyle;break;case"displaystyle":T=Gs.displaystyle;break;case"scriptstyle":T=Gs.scriptstyle;break;case"scriptscriptstyle":T=Gs.scriptscriptstyle;break}}this.mathstyle=T,this.smartFence=A.smartFence,this.placeholderSymbol=A.placeholderSymbol,this.colorMap=(C=A.colorMap)!=null?C:M=>M,this.backgroundColorMap=(S=A.backgroundColorMap)!=null?S:M=>M,this.getMacro=A.getMacro,this.parent!==void 0||this.registers}makeID(){if(!this.atomIdsSettings)return;if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;if(typeof this.atomIdsSettings.seed!="number")return`${Date.now().toString(36).slice(-2)}${Math.floor(Math.random()*1e5).toString(36)}`;let e=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,e}scale(e){return e*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return this.mathstyle.id===C6||this.mathstyle.id===lg}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get metrics(){return this.mathstyle.metrics}get effectiveFontSize(){return Math.max(I5[Math.max(1,this.size+this.mathstyle.sizeDelta)],this.minFontScale)}getRegister(e){var r;if((r=this.registers)!=null&&r[e])return this.registers[e];if(this.parent)return this.parent.getRegister(e)}getRegisterAsNumber(e){let r=this.getRegister(e);if(typeof r=="number")return r;if(typeof r=="string")return Number(r)}getRegisterAsGlue(e){var r;if((r=this.registers)!=null&&r[e]){let i=this.registers[e];return typeof i=="object"&&"glue"in i?i:typeof i=="object"&&"dimension"in i?{glue:{dimension:i.dimension}}:typeof i=="number"?{glue:{dimension:i}}:void 0}if(this.parent)return this.parent.getRegisterAsGlue(e)}getRegisterAsEm(e,r){return BB(this.getRegisterAsDimension(e),r)}getRegisterAsDimension(e){var r;if((r=this.registers)!=null&&r[e]){let i=this.registers[e];return typeof i=="object"&&"glue"in i?i.glue:typeof i=="object"&&"dimension"in i?i:typeof i=="number"?{dimension:i}:void 0}if(this.parent)return this.parent.getRegisterAsDimension(e)}setRegister(e,r){if(r===void 0){delete this.registers[e];return}this.registers[e]=r}evaluate(e){if(!e||!("register"in e))return e;let r=this;if("global"in e&&e.global)for(;r.parent;)r=r.parent;let i=1;"factor"in e&&e.factor!==1&&e.factor!==void 0&&(i=e.factor);let n=r.getRegister(e.register);if(n===void 0)return;if(typeof n=="string")return{string:Number(n).toString()+n};if(typeof n=="number")return{number:i*n};let s=r.evaluate(n);if(s!==void 0)return"string"in s?{string:Number(n).toString()+s.string}:"number"in s?{number:i*s.number}:"dimension"in s?Z(q({},s),{dimension:i*s.dimension}):"glue"in s?Z(q({},s),{glue:Z(q({},s.glue),{dimension:i*s.glue.dimension}),shrink:s.shrink?Z(q({},s.shrink),{dimension:i*s.shrink.dimension}):void 0,grow:s.grow?Z(q({},s.grow),{dimension:i*s.grow.dimension}):void 0}):e}toDimension(e){let r=this.evaluate(e);if(r===void 0)return null;if("dimension"in r)return r;if("glue"in r)return r.glue;if("number"in r)return{dimension:r.number};if("string"in r){let i=parseFloat(r.string),n=r.string.match(/(mm|cm|ex|px|em|bp|dd|pc|in|mu)$/);return n?{dimension:i,unit:n[0]}:{dimension:i}}return null}toEm(e,r){if(e===null)return 0;let i=this.toDimension(e);return i===null?0:LB(i,r)/k0}toNumber(e){if(e===null)return null;let r=this.evaluate(e);return r===void 0?null:"number"in r?r.number:"dimension"in r?r.dimension:"glue"in r?r.glue.dimension:"string"in r?Number(r.string):null}toColor(e){var r,i;if(e===null)return null;let n=this.evaluate(e);return n===void 0?null:"string"in n?(i=(r=this.colorMap)==null?void 0:r.call(this,n.string))!=null?i:n.string:null}toBackgroundColor(e){var r,i;if(e===null)return null;let n=this.evaluate(e);return n===void 0?null:"string"in n?(i=(r=this.backgroundColorMap)==null?void 0:r.call(this,n.string))!=null?i:n.string:null}},T0=["body","above","below","superscript","subscript"];function ru(t){return typeof t=="string"&&T0.includes(t)}function no(t){return t!==void 0&&Array.isArray(t)&&t.length===2}var ue=class Da{constructor(e){this.isRoot=!1;var r,i,n,s,a,o,l;this.type=e.type,typeof e.value=="string"&&(this.value=e.value),this.command=(i=(r=e.command)!=null?r:this.value)!=null?i:"",this.mode=(n=e.mode)!=null?n:"math",e.isFunction&&(this.isFunction=!0),(e.isRoot||this.type==="root")&&(this.isRoot=!0),e.limits&&(this.subsupPlacement=e.limits),this.style=q({},(s=e.style)!=null?s:{}),this.displayContainsHighlight=(a=e.displayContainsHighlight)!=null?a:!1,this.captureSelection=(o=e.captureSelection)!=null?o:!1,this.skipBoundary=(l=e.skipBoundary)!=null?l:!1,e.verbatimLatex!==void 0&&e.verbatimLatex!==null&&(this.verbatimLatex=e.verbatimLatex),e.args&&(this.args=e.args),e.body&&(this.body=e.body),this._changeCounter=0}static createBox(e,r,i){var n;if(!r)return null;let s=Yoe(r),a=[];for(let l of s){let u=l[0].style,c=Zoe(e,l,{style:{color:u.color,backgroundColor:u.backgroundColor,fontSize:u.fontSize}});c&&a.push(c)}if(a.length===0)return null;let o=((n=i==null?void 0:i.classes)!=null?n:"").trim();return a.length===1&&!o&&!(i!=null&&i.type)?a[0].wrap(e):new Ae(a,{classes:o,type:i==null?void 0:i.type}).wrap(e)}static serialize(e,r){return Mn.serialize(e,r)}static commonAncestor(e,r){if(e===r||e.parent===r.parent)return e.parent;let i=new WeakSet,{parent:n}=e;for(;n;)i.add(n),n=n.parent;for(n=r.parent;n;){if(i.has(n))return n;n=n.parent}}static fromJson(e){return typeof e=="string"?new Da({type:"mord",value:e,mode:"math"}):new Da(e)}toJson(){if(this._json)return this._json;let e={};if(this.type&&(e.type=this.type),this.mode!=="math"&&(e.mode=this.mode),this.command&&this.command!==this.value&&(e.command=this.command),this.value!==void 0&&(e.value=this.value),this.style&&Object.keys(this.style).length>0&&(e.style=q({},this.style)),this.verbatimLatex!==void 0&&(e.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(e.explicitSubsupPlacement=!0),this.isFunction&&(e.isFunction=!0),this.displayContainsHighlight&&(e.displayContainsHighlight=!0),this.skipBoundary&&(e.skipBoundary=!0),this.captureSelection&&(e.captureSelection=!0),this.args&&(e.args=Joe(this.args)),this._branches)for(let r of Object.keys(this._branches))this._branches[r]&&(e[r]=this._branches[r].filter(i=>i.type!=="first").map(i=>i.toJson()));return e.type==="mord"&&Object.keys(e).length===2&&"value"in e?e.value:(this._json=e,e)}get changeCounter(){return this.parent?this.parent.changeCounter:this._changeCounter}set isDirty(e){e&&(this._json=void 0,this.parent||this._changeCounter++,"verbatimLatex"in this&&(this.verbatimLatex=void 0),this._children=void 0,this.parent&&(this.parent.isDirty=!0))}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=xi(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):this.body&&this.command?kt([tr(this.command,this.bodyToLatex(e)),this.supsubToLatex(e)]):this.body?kt([this.bodyToLatex(e),this.supsubToLatex(e)]):!this.value||this.value==="​"?"":this.command}bodyToLatex(e){var r;let i=(r=e.defaultMode)!=null?r:this.mode==="math"?"math":"text";return Mn.serialize(this.body,Z(q({},e),{defaultMode:i}))}aboveToLatex(e){return Mn.serialize(this.above,e)}belowToLatex(e){return Mn.serialize(this.below,e)}supsubToLatex(e){let r="";if(e=Z(q({},e),{defaultMode:"math"}),this.branch("subscript")!==void 0){let i=Mn.serialize(this.subscript,e);i.length===0?r+="_{}":i.length===1?/^[0-9]$/.test(i)?r+=`_${i}`:r+=`_{${i}}`:r+=`_{${i}}`}if(this.branch("superscript")!==void 0){let i=Mn.serialize(this.superscript,e);i.length===0?r+="^{}":i.length===1?i==="′"?r+="^\\prime ":i==="″"?r+="^\\doubleprime ":/^[0-9]$/.test(i)?r+=`^${i}`:r+=`^{${i}}`:r+=`^{${i}}`}return r}get treeDepth(){let e=1,r=this.parent;for(;r;)r=r.parent,e+=1;return e}get inCaptureSelection(){let e=this;for(;e;){if(e.captureSelection)return!0;e=e.parent}return!1}get parentPrompt(){let e=this.parent;for(;e;){if(e.type==="prompt"&&!e.captureSelection)return e;e=e.parent}return null}branch(e){if(ru(e)&&this._branches)return this._branches[e]}get branches(){if(!this._branches)return[];let e=[];for(let r of T0)this._branches[r]&&e.push(r);return e}createBranch(e){return ru(e),ru(e)?(this._branches?this._branches[e]||(this._branches[e]=[this.makeFirstAtom(e)]):this._branches={[e]:[this.makeFirstAtom(e)]},this.isDirty=!0,this._branches[e]):[]}get row(){return no(this.parentBranch)?this.parentBranch[0]:-1}get col(){return no(this.parentBranch)?this.parentBranch[1]:-1}get body(){var e;return(e=this._branches)==null?void 0:e.body}set body(e){this.setChildren(e,"body")}get superscript(){var e;return(e=this._branches)==null?void 0:e.superscript}set superscript(e){this.setChildren(e,"superscript")}get subscript(){var e;return(e=this._branches)==null?void 0:e.subscript}set subscript(e){this.setChildren(e,"subscript")}get above(){var e;return(e=this._branches)==null?void 0:e.above}set above(e){this.setChildren(e,"above")}get below(){var e;return(e=this._branches)==null?void 0:e.below}set below(e){this.setChildren(e,"below")}applyStyle(e,r){this.isDirty=!0,r!=null&&r.unstyledOnly?(e.color&&!this.style.color&&(this.style.color=e.color),e.backgroundColor&&!this.style.backgroundColor&&(this.style.backgroundColor=e.backgroundColor),e.fontFamily&&!this.style.fontFamily&&(this.style.fontFamily=e.fontFamily),e.fontShape&&!this.style.fontShape&&(this.style.fontShape=e.fontShape),e.fontSeries&&!this.style.fontSeries&&(this.style.fontSeries=e.fontSeries),e.fontSize&&!this.style.fontSize&&(this.style.fontSize=e.fontSize),e.variant&&!this.style.variant&&(this.style.variant=e.variant),e.variantStyle&&!this.style.variantStyle&&(this.style.variantStyle=e.variantStyle)):this.style=q(q({},this.style),e),this.style.fontFamily==="none"&&delete this.style.fontFamily,this.style.fontShape==="auto"&&delete this.style.fontShape,this.style.fontSeries==="auto"&&delete this.style.fontSeries,this.style.color==="none"&&(delete this.style.color,delete this.style.verbatimColor),this.style.backgroundColor==="none"&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor),this.style.fontSize==="auto"&&delete this.style.fontSize;for(let i of this.children)i.applyStyle(e,r)}getInitialBaseElement(){var e,r,i;return this.hasEmptyBranch("body")?this:((e=this.body)==null||e[0].type,(i=(r=this.body[1])==null?void 0:r.getInitialBaseElement())!=null?i:this)}getFinalBaseElement(){return this.hasEmptyBranch("body")?this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){return this.type==="leftright"||this.type==="genfrac"||this.type==="subsup"||this.type==="delim"||this.type==="array"||this.type==="surd"?!1:this.getFinalBaseElement().type==="mord"}hasEmptyBranch(e){let r=this.branch(e);return r?(r.length>0,r[0].type,r.length===1):!0}setChildren(e,r){var i;if(!e||(ru(r),!ru(r)))return;let n=((i=e[0])==null?void 0:i.type)==="first"?[...e]:[this.makeFirstAtom(r),...e];this._branches?this._branches[r]=n:this._branches={[r]:n};for(let s of e)s.parent=this,s.parentBranch=r;this.isDirty=!0}makeFirstAtom(e){let r=new Da({type:"first",mode:this.mode});return r.parent=this,r.parentBranch=e,r}addChild(e,r){e.type,this.createBranch(r).push(e),this.isDirty=!0,e.parent=this,e.parentBranch=r}addChildBefore(e,r){r.parentBranch;let i=this.createBranch(r.parentBranch);i.splice(i.indexOf(r),0,e),this.isDirty=!0,e.parent=this,e.parentBranch=r.parentBranch}addChildAfter(e,r){r.parentBranch;let i=this.createBranch(r.parentBranch);i.splice(i.indexOf(r)+1,0,e),this.isDirty=!0,e.parent=this,e.parentBranch=r.parentBranch}addChildren(e,r){let i=this.createBranch(r);for(let n of e)n.parent=this,n.parentBranch=r,i.push(n);this.isDirty=!0}addChildrenAfter(e,r){e.length===0||e[0].type,r.parentBranch;let i=this.createBranch(r.parentBranch);i.splice(i.indexOf(r)+1,0,...e),this.isDirty=!0;for(let n of e)n.parent=this,n.parentBranch=r.parentBranch;return e[e.length-1]}removeBranch(e){let r=this.branch(e);if(ru(e)&&(this._branches[e]=void 0),!r)return[];for(let s of r)s.parent=void 0,s.parentBranch=void 0;r[0].type;let[i,...n]=r;return this.isDirty=!0,n}removeChild(e){if(e.parent,e.type==="first")return;let r=this.branch(e.parentBranch),i=r.indexOf(e);r.splice(i,1),this.isDirty=!0,e.parent=void 0,e.parentBranch=void 0}get siblings(){return this.parent?this.parent.branch(this.parentBranch):[]}get firstSibling(){return this.siblings[0]}get lastSibling(){let{siblings:e}=this;return e[e.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return this.siblings.length===1}get leftSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)-1]}get rightSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)+1]}get hasChildren(){return!!(this._branches&&this.children.length>0)}get firstChild(){return this.hasChildren,this.children[0]}get lastChild(){this.hasChildren;let{children:e}=this;return e[e.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];let e=[];for(let r of T0)if(this._branches[r])for(let i of this._branches[r])e.push(...i.children),e.push(i);return this._children=e,e}render(e){if(this.type==="first"&&!e.atomIdsSettings)return null;let r=xi(this.command,this.mode);if(r!=null&&r.render)return r.render(this,e);let i=new Pt({parent:e},this.style),n=this.createBox(i,{classes:this.parent?"":"ML__base"});return n?(!this.subsupPlacement&&(this.superscript||this.subscript)&&(n=this.attachSupsub(i,{base:n})),n.wrap(i)):null}attachSupsub(e,r){var i;let n=r.base,s=this.superscript,a=this.subscript;if(!s&&!a)return n;let o=null,l=null,u=(i=r.isCharacterBox)!=null?i:this.isCharacterBox(),c=0;if(s){let y=new Pt({parent:e,mathstyle:"superscript"});o=Da.createBox(y,s),u||(c=n.height-e.metrics.supDrop*y.scalingFactor)}let d=0;if(a){let y=new Pt({parent:e,mathstyle:"subscript"});l=Da.createBox(y,a),u||(d=n.depth+e.metrics.subDrop*y.scalingFactor)}let h;e.isDisplayStyle?h=e.metrics.sup1:e.isCramped?h=e.metrics.sup3:h=e.metrics.sup2;let f=.5/k0/e.scalingFactor,g=null;if(l&&o){c=Math.max(c,h,o.depth+.25*e.metrics.xHeight),d=Math.max(d,e.metrics.sub2);let y=e.metrics.defaultRuleThickness;if(c-o.depth-(l.height-d)<4*y){d=4*y-(c-o.depth)+l.height;let S=.8*e.metrics.xHeight-(c-o.depth);S>0&&(c+=S,d-=S)}let C=this.type==="extensible-symbol"&&n.italic?-n.italic:0;g=new zr({individualShift:[{box:l,shift:d,marginLeft:C},{box:o,shift:-c}]}).wrap(e)}else l&&!o?(d=Math.max(d,e.metrics.sub1,l.height-.8*ol),g=new zr({shift:d,children:[{box:l,marginRight:f,marginLeft:this.isCharacterBox()?-n.italic:0}]})):!l&&o&&(c=Math.max(c,h,o.depth+.25*ol),g=new zr({shift:-c,children:[{box:o,marginRight:f}]}));return new Ae([n,new Ae(g,{caret:this.caret,isSelected:this.isSelected,classes:"ML__msubsup"})],{type:r.type})}attachLimits(e,r){let i=this.superscript?Da.createBox(new Pt({parent:e,mathstyle:"superscript"},this.style),this.superscript):null,n=this.subscript?Da.createBox(new Pt({parent:e,mathstyle:"subscript"},this.style),this.subscript):null;return!i&&!n?r.base.wrap(e):Woe(e,Z(q({},r),{above:i,below:n}))}bind(e,r){if(!r||e.isPhantom||this.value==="​")return r;let i=this.parent;for(;i&&!i.captureSelection;)i=i.parent;return i!=null&&i.captureSelection||(this.id||(this.id=e.makeID()),r.atomID=this.id),r}createBox(e,r){var i,n,s,a;let o=(i=this.value)!=null?i:this.body,l=(n=r==null?void 0:r.boxType)!=null?n:$5(this.type),u=(s=r==null?void 0:r.classes)!=null?s:"";this.mode==="text"&&(u+=" ML__text");let c=typeof o=="string"||o===void 0?new Ae(o??null,{type:l,isSelected:this.isSelected,mode:this.mode,maxFontSize:e.scalingFactor,style:Z(q({variant:"normal"},this.style),{fontSize:Math.max(1,e.size+e.mathstyle.sizeDelta)}),letterShapeStyle:e.letterShapeStyle,classes:u}):(a=Da.createBox(e,o,{type:l,classes:u}))!=null?a:new Ae(null);return e.isTight&&(c.isTight=!0),(this.mode!=="math"||this.style.variant==="main")&&(c.italic=0),c.right=c.italic,this.bind(e,c),this.caret&&!this.superscript&&!this.subscript&&(c.caret=this.caret),c}isDigit(){var e;return this.type==="mord"&&this.value?/^[\d,\.]$/.test(this.value):this.type==="group"&&((e=this.body)==null?void 0:e.length)===2?this.body[0].type==="first"&&this.body[1].value===",":!1}asDigit(){var e;return this.type==="mord"&&this.value&&/^[\d,\.]$/.test(this.value)?this.value:this.type==="group"&&((e=this.body)==null?void 0:e.length)===2&&this.body[0].type==="first"&&this.body[1].value===","?".":""}};function Yoe(t){let e,r=[],i=[];for(let n of t)if(n.type==="first"&&i.push(n),!e&&!n.style)i.push(n);else{let s=n.style;e&&s.color===e.color&&s.backgroundColor===e.backgroundColor&&s.fontSize===e.fontSize?i.push(n):(i.length>0&&r.push(i),i=[n],e=s)}return i.length>0&&r.push(i),r}function Zoe(t,e,r){var i,n,s,a,o;if(!e||e.length===0)return null;let l=new Pt({parent:t},r.style),u=!((i=l.atomIdsSettings)!=null&&i.groupNumbers),c=[];if(e.length===1){let h=e[0],f=h.render(l);f&&(u&&h.isSelected&&f.selected(!0),c=[f])}else{let h="",f=!0;for(let g of e){(n=l.atomIdsSettings)!=null&&n.groupNumbers&&h&&(f&&g.isDigit()||!f&&ey(g))&&(l.atomIdsSettings.overrideID=h);let y=g.render(l);l.atomIdsSettings&&(l.atomIdsSettings.overrideID=void 0),y&&((s=l.atomIdsSettings)!=null&&s.groupNumbers&&((g.isDigit()||ey(g))&&(!h||f!==g.isDigit())&&(f=g.isDigit(),h=(a=g.id)!=null?a:""),h&&(!(g.isDigit()||ey(g))||!g.hasEmptyBranch("superscript")||!g.hasEmptyBranch("subscript"))&&(h="")),u&&g.isSelected&&y.selected(!0),c.push(y))}}if(c.length===0)return null;let d=new Ae(c,Z(q({isTight:l.isTight},r),{type:(o=r.type)!=null?o:"lift"}));return d.isSelected=c.every(h=>h.isSelected),d.wrap(l)}function ey(t){return t.mode==="text"}function Joe(t){return t.map(e=>e===null?"<null>":Array.isArray(e)&&e[0]instanceof ue?{atoms:e.map(r=>r.toJson())}:typeof e=="object"&&"group"in e?{group:e.group.map(r=>r.toJson())}:e)}var Y0=class OB extends ue{constructor(e,r,i){super({type:"text",command:e,mode:"text",displayContainsHighlight:!0}),this.value=r,this.verbatimLatex=r,this.applyStyle(i)}static fromJson(e){return new OB(e.command,e.value,e.style)}render(e){let r=this.createBox(e);return this.caret&&(r.caret=this.caret),r}_serialize(e){var r;return(r=this.verbatimLatex)!=null?r:TB("text",this.value.codePointAt(0))}};function Qoe(t,e){if(t.direction===e.direction){let r=t.ranges.length;if(e.ranges.length===r){let i=0;for(;i<r&&ele(t.ranges[i],e.ranges[i])==="equal";)i++;return i===r?"equal":"different"}}return"different"}function ele(t,e){return t[0]===e[0]&&t[1]===e[1]?"equal":"different"}function Ci(t){let e=1/0,r=-1/0;for(let i of t.ranges)e=Math.min(e,i[0],i[1]),r=Math.max(r,i[0],i[1]);return[e,r]}function el(t){return typeof t=="number"&&!Number.isNaN(t)}function ug(t){return Array.isArray(t)&&t.length===2}function s1(t){return t!=null&&typeof t=="object"&&"ranges"in t&&Array.isArray(t.ranges)}function tle(t,e){let r=t.at(e),i;if(r){i=r.mode;let n=r.parent;for(;!i&&n;)n&&(i=n.mode),n=n.parent}return i}function rle(t,e){if(!e)return"";if(typeof e=="string")return e;if(!t||e.after===void 0)return e.value;let r=!1,i=!1,n=!1,s=!1,a=!1,o=!1,l=!1,u=!1,c=!1,d=!1,h=!1,f=!1,g=!1,y=!1,C=!1,S=t[0],A=0;for(;S!=null&&S.type&&/^(subsup|placeholder)$/.test(S.type);)A+=1,S=t[A];return r=!S||S.type==="first",S&&(y=S.mode==="text",i=!y&&S.type==="mord"&&L5.test(S.value),n=!y&&S.type==="mord"&&/\d+$/.test(S.value),s=!y&&S.isFunction,a=S.type==="genfrac",o=S.type==="surd",l=S.type==="mbin",u=S.type==="mrel",c=S.type==="mop"||S.type==="operator"||S.type==="extensible-symbol",d=S.type==="mpunct"||S.type==="minner",h=S.type==="array",f=S.type==="mopen",g=S.type==="mclose"||S.type==="leftright",C=S.type==="space"),e.after.includes("nothing")&&r||e.after.includes("letter")&&i||e.after.includes("digit")&&n||e.after.includes("function")&&s||e.after.includes("frac")&&a||e.after.includes("surd")&&o||e.after.includes("binop")&&l||e.after.includes("relop")&&u||e.after.includes("operator")&&c||e.after.includes("punct")&&d||e.after.includes("array")&&h||e.after.includes("openfence")&&f||e.after.includes("closefence")&&g||e.after.includes("text")&&y||e.after.includes("space")&&C?e.value:""}function k6(t,e,r){return r?rle(t,r[e]):""}var FB={"&":"\\&","%":"\\%",$:"\\$","''":"^{\\doubleprime}","'''":"^{\\prime\\prime\\prime}","''''":"^{\\prime\\prime\\prime\\prime}",alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:"\\nabla",grad:"\\nabla",del:"\\partial",deg:{after:"digit+space",value:"\\degree"},infty:"\\infty","∞":"\\infty",oo:{after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"∑":"\\sum",sum:"\\sum_{#?}^{#?}",int:"\\int_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt{#?}","∆":"\\differentialD","∂":"\\differentialD",sin:"\\sin",cos:"\\cos",tan:"\\tan",arccos:"\\arccos",arcsin:"\\arcsin",arctan:"\\arctan",arctg:"\\operatorname{arctg}",arcsec:"\\operatorname{arcsec}",arccsc:"\\operatorname{arccsc}",arsinh:"\\operatorname{arsinh}",arccosh:"\\operatorname{arccosh}",arcosh:"\\operatorname{arcosh}",artanh:"\\operatorname{artanh}",arctanh:"\\operatorname{arctanh}",arcsech:"\\operatorname{arcsech}",arccsch:"\\operatorname{arccsch}",ch:"\\operatorname{ch}",cosec:"\\operatorname{cosec}",cosh:"\\cosh",cot:"\\cot",cotg:"\\operatorname{cotg}",coth:"\\coth",csc:"\\csc",ctg:"\\operatorname{ctg}",cth:"\\operatorname{cth}",sec:"\\sec",sech:"\\operatorname{sech}",sinh:"\\sinh",sh:"\\operatorname{sh}",tanh:"\\tanh",tg:"\\operatorname{tg}",th:"\\operatorname{th}",arg:"\\arg",lg:"\\lg",lb:"\\operatorname{lb}",log:"\\log_{#?}",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?\\to#?}",dx:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},AA:"\\forall",EE:"\\exists","!EE":"\\nexists","&&":"\\land",xin:{after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},sint:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\sin t"},in:{after:"nothing+letter+closefence",value:"\\in"},"!in":"\\notin",NN:"\\mathbb{N}",ZZ:"\\mathbb{Z}",QQ:"\\mathbb{Q}",RR:"\\mathbb{R}",CC:"\\mathbb{C}",xx:"\\times","+-":"\\pm","≠":"\\ne","!=":"\\ne","≥":"\\ge",">=":"\\ge","≤":"\\le","<=":"\\le","<<":"\\ll",">>":"\\gg","~~":"\\approx","≈":"\\approx","?=":"\\questeq","÷":"\\div","¬":"\\neg",":=":"\\coloneq","::":"\\Colon","(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},nu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},µ:"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega",Ω:"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\liminf_{#?}",limsup:"\\limsup_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:"\\bmod{#?}","(mod":"\\pmod{#?}",max:"\\max",min:"\\min",erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:"\\operatorname{bessel}",mean:"\\operatorname{mean}",median:"\\operatorname{median}",fft:"\\operatorname{fft}",lcm:"\\operatorname{lcm}",gcd:"\\gcd",randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:"\\operatorname{Re}",Im:"\\operatorname{Im}",mm:{after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{after:"nothing+digit+operator",value:"\\operatorname{kg}"},ft:{after:"nothing+digit+operator",value:"\\operatorname{ft}"},inch:{after:"nothing+digit+operator",value:"\\operatorname{inch}"},mi:{after:"nothing+digit+operator",value:"\\operatorname{mi}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","-->...":"\\longrightarrow\\cdots","->":"\\to","|->":"\\mapsto","-->":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\iff","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","*":"\\cdot","**":"\\star","***":"\\ast","//":"\\slash","\\\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceil","~|":"\\rceil",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail",times:"\\times",of:"\\circ",infinity:"\\infty",defint:"\\int_{#?}^{#?}",approaches:"\\to",ceil:"\\left\\lceil#?\\right\\rceil",floor:"\\left\\lfloor#?\\right\\rfloor",union:"\\cup",asterisk:"\\ast",frac:"\\frac{#?}{#?}",cbrt:"\\sqrt[3]{#?}",nthroot:"\\sqrt[#?]{#?}"};function U5(t,e){var r;let i=(r=e==null?void 0:e.format)!=null?r:"auto";return i==="auto"&&([i,t]=ile(t)),i==="ascii-math"?(t=t.replace(/\u2061/gu,""),t=t.replace(/\u3016/gu,"{"),t=t.replace(/\u3017/gu,"}"),t=t.replace(/([^\\])sinx/g,"$1\\sin x"),t=t.replace(/([^\\])cosx/g,"$1\\cos x "),t=t.replace(/\u2013/g,"-"),["ascii-math",on(t,{inlineShortcuts:e==null?void 0:e.inlineShortcuts})]):["latex",t]}function on(t,e){var r;if(t=t.trim(),!t)return"";let i=(r=e.inlineShortcuts)!=null?r:FB;if(t.startsWith("^")||t.startsWith("_")){let{match:o,rest:l}=Wl(t.slice(1),{inlineShortcuts:i,noWrap:!0});return`${t[0]}{${o}}${on(l,e)}`}let n=t.match(/^(sqrt|\u221A)(.*)/);if(n){let{match:o,rest:l}=Wl(n[2],{inlineShortcuts:i,noWrap:!0});return`\\sqrt{${o??"\\placeholder{}"}}${on(l,e)}`}if(n=t.match(/^(\\cbrt|\u221B)(.*)/),n){let{match:o,rest:l}=Wl(n[2],{inlineShortcuts:i,noWrap:!0});return`\\sqrt[3]{${o??"\\placeholder{}"}}${on(l,e)}`}if(n=t.match(/^abs(.*)/),n){let{match:o,rest:l}=Wl(n[1],{inlineShortcuts:i,noWrap:!0});return`\\left|${o??"\\placeholder{}"}\\right|${on(l,e)}`}if(n=t.match(/^["”“](.*?)["”“](.*)/),n)return`\\text{${n[1]}}${on(n[2],e)}`;if(n=t.match(/^([^a-zA-Z0-9\(\{\[\_\^\\\s"]+)(.*)/),n)return`${AC(n[1],i)}${on(n[2],e)}`;if(/^([fgh])[^a-zA-Z]/.test(t)){let{rest:o,match:l}=Wl(t.slice(1),{inlineShortcuts:i,noWrap:!0}),u="";return t[1]==="("?u=`${t[0]}\\left(${l}\\right)`:u=t[0]+l,u+on(o,e)}if(n=t.match(/^([a-zA-Z]+)(.*)/),n)return AC(n[1],i)+on(n[2],e);let{match:s,rest:a}=Wl(t,{inlineShortcuts:i,noWrap:!0});if(s&&a[0]==="/"){let o=Wl(a.slice(1),{inlineShortcuts:i,noWrap:!0});if(o.match)return`\\frac{${s}}{${o.match}}${on(o.rest,e)}`}else return t.startsWith("(")?"\\left("+s+"\\right)"+on(a,e):s+on(a,e);return n=t.match(/^(\s+)(.*)$/),n?" "+on(n[2],e):t}var EC={"[":"\\lbrack","]":"\\rbrack","{":"\\lbrace","}":"\\rbrace"};function Wl(t,e){var r,i;let n="";t=t.trim();let s=t,a=t.charAt(0),o={"(":")","{":"}","[":"]"}[a];if(o){let l=1,u=1;for(;u<t.length&&l>0;)t[u]===a&&l++,t[u]===o&&l--,u++;if(l===0){let c=on(t.substring(1,u-1),e);e.noWrap&&a==="("?n=c:n=`\\left${(r=EC[a])!=null?r:a}${c}\\right${(i=EC[o])!=null?i:o}`,s=t.slice(Math.max(0,u))}else n=t.substring(1,u),s=""}else{let l=t.match(/^([a-zA-Z]+)/);if(l){let u=k6(null,t,e.inlineShortcuts);if(u)return u=u.replace("_{#?}",""),u=u.replace("^{#?}",""),{match:u,rest:t.slice(u.length)}}if(l=t.match(/^([a-zA-Z])/),l)return{match:l[1],rest:t.slice(1)};if(l=t.match(/^(-)?\d+(\.\d*)?/),l)return{match:l[0],rest:t.slice(l[0].length)};/^\\(left|right)/.test(t)||(l=t.match(/^(\\[a-zA-Z]+)/),l&&(s=t.slice(l[1].length),n=l[1]))}return{match:n,rest:s}}function AC(t,e){let r=k6(null,t,e);return r?(r=r.replace("_{#?}",""),r=r.replace("^{#?}",""),r+=" "):r=t,r}var NB=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],["\\begin{equation*}","\\end{equation*}"]];function T6(t){let e=t.trim();for(let r of NB)if(e.startsWith(r[0])&&e.endsWith(r[1]))return[!0,e.substring(r[0].length,e.length-r[1].length)];return[!1,t]}function ile(t){if(t=t.trim(),t.length<=1)return["latex",t];let e;return[e,t]=T6(t),e?["latex",t]:t.startsWith("`")&&t.endsWith("`")?(t=t.substring(1,t.length-1),["ascii-math",t]):t.includes("\\")?["latex",t]:/\$.+\$/.test(t)?["latex",`\\text{${t}}`]:[void 0,t]}var nle="$$",sle="$$",ale=(t,e,r)=>(NB.some(i=>e.startsWith(i[0])&&e.endsWith(i[1]))||(e=`${nle} ${e} ${sle}`),e),$B=class a1{constructor(e){a1._modes[e]=this}static onPaste(e,r,i){var n;if(!r.contentEditable&&r.userSelect==="none")return r.model.announce("plonk"),!1;if(typeof i=="string"){let a=new DataTransfer;a.setData("text/plain",i),i=a}let s=new ClipboardEvent("paste",{clipboardData:i,cancelable:!0});return(n=r.host)!=null&&n.dispatchEvent(s)?a1._modes[e].onPaste(r,i):!1}static copyToClipboard(e,r){if(!e.contentEditable&&e.userSelect==="none"){e.model.announce("plonk");return}let i=e.model,n=i.selectionIsCollapsed?[0,i.lastOffset]:Ci(i.selection),s=i.getValue(n,r);navigator.clipboard.writeText(s).then(()=>{},()=>e.model.announce("plonk"))}static onCopy(e,r){var i;if(!r.clipboardData)return;if(!e.contentEditable&&e.userSelect==="none"){e.model.announce("plonk");return}let n=e.model,s=n.selectionIsCollapsed?[0,n.lastOffset]:Ci(n.selection),a=n.getAtoms(s);if(a.every(o=>o.mode==="text"||!o.mode))r.clipboardData.setData("text/plain",a.filter(o=>o instanceof Y0).map(o=>o.value).join(""));else if(a.every(o=>o.mode==="latex"))r.clipboardData.setData("text/plain",n.getAtoms(s,{includeChildren:!0}).map(o=>{var l;return(l=o.value)!=null?l:""}).join(""));else{let o;a.length===1&&a[0].verbatimLatex!==void 0?o=a[0].verbatimLatex:o=n.getValue(s,"latex-expanded"),r.clipboardData.setData("application/x-latex",o);try{r.clipboardData.setData("text/plain",e.options.onExport(e,o,s))}catch{}if(a.length===1){let l=a[0];(l.type==="root"||l.type==="group")&&(a=l.body.filter(u=>u.type!=="first"))}try{r.clipboardData.setData("application/json+mathlive",JSON.stringify(a.map(l=>l.toJson())))}catch{}if((i=window[Symbol.for("io.cortexjs.compute-engine")])!=null&&i.ComputeEngine){let l=globalThis.MathfieldElement.computeEngine;if(l)try{let u=l.jsonSerializationOptions;l.jsonSerializationOptions={metadata:["latex"]};let c=l.parse(n.getValue(s,"latex-unstyled"));l.jsonSerializationOptions=u;let d=JSON.stringify(c.json);d&&r.clipboardData.setData("application/json",d)}catch{}}}r.preventDefault()}static insert(e,r,i={}){var n;let s=i.mode==="auto"?e.mode:(n=i.mode)!=null?n:e.mode;return a1._modes[s].insert(e,r,i)}onPaste(e,r){return!1}insert(e,r,i){return!1}};$B._modes={};var Qt=$B,ole=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Home]",command:"moveToMathfieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathfieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathfieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathfieldEnd"},{key:"shift+[End]",command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",command:"moveToNextGroup"},{key:"shift+[Tab]",command:"moveToPreviousGroup"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"\\",ifMode:"math",command:["switchMode","latex","","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","","\\"]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:["complete","accept-all"]},{key:"[Enter]",ifMode:"latex",command:["complete","accept-all"]},{key:"shift+[Escape]",ifMode:"latex",command:["complete","reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"[Undo]",command:"undo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"cmd+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"ctrl+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"cmd+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"ctrl+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"cmd+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"ctrl+y",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathfieldStart"},{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathfieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","\\pi"]},{key:"alt+v",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"alt+o",ifMode:"math",command:["insert","\\emptyset"]},{key:"alt+d",ifMode:"math",command:["insert","\\differentialD"]},{key:"shift+alt+o",ifMode:"math",command:["insert","\\varnothing"]},{key:"shift+alt+d",ifMode:"math",command:["insert","\\partial"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","\\backslash"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},{key:"alt+[Space]",command:"toggleContextMenu"},{key:"alt+shift+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","",""]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","",""]},{key:"shift+alt+[KeyT]",ifMode:"math",command:["switchMode","text"]},{key:"shift+alt+[KeyT]",ifMode:"text",command:["switchMode","math"]},{key:"/",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+shift+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrack #0 \\right\\rbrack"]},{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrace #0 \\right\\rbrace"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Backspace]",ifMode:"math",command:"removeRow"},{key:"cmd+[Backspace]",ifMode:"math",command:"removeRow"},{key:"alt+[Tab]",ifMode:"math",command:"addColumnAfter"},{key:"shift+alt+[Tab]",ifMode:"math",command:"addColumnBefore"},{key:"alt+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Enter]",ifMode:"math",command:"addRowBefore"},{key:"alt+[Return]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Return]",ifMode:"math",command:"addRowBefore"},{key:"shift+[Backspace]",ifMode:"math",command:"removeColumn"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\~"]},{key:"[Backquote]",ifLayout:["windows.french","linux.french"],ifMode:"math",command:["insert","^2"]},{key:"[Backquote]",ifLayout:["windows.german","linux.german"],ifMode:"math",command:["insert","^"]},{key:"[IntlBackslash]",ifLayout:["apple.german"],ifMode:"math",command:["insert","^"]}],lle={"\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\infty":"alt+[Digit5]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};function Oa(t){var e;return((e=t.element)==null?void 0:e.mathfield)===t}function ule(t){var e,r;return(r=(e=t.querySelector(".ML__caret"))!=null?e:t.querySelector(".ML__text-caret"))!=null?r:t.querySelector(".ML__latex-caret")}function o1(t){let e=ule(t);if(!e)return null;let r=e.getBoundingClientRect();return{x:r.right,y:r.bottom,height:r.height}}function cle(t){var e;if(!t.parent)return"root";let r=(e=t.parent.id)!=null?e:"";return r+=typeof t.parentBranch=="string"?"-"+t.parentBranch:`-${t.parentBranch[0]}/${t.parentBranch[0]}`,r}function zB(t,e,r){if(!e)return null;let i=t.field.getBoundingClientRect(),n=e.right-e.left,s=e.bottom-e.top,a=Math.ceil(e.left-i.left+t.field.scrollLeft*r),o=Math.ceil(e.top-i.top);return{left:a,right:a+n,top:o,bottom:o+s}}function UB(t){let e=t.getBoundingClientRect(),r=parseInt(getComputedStyle(t).marginRight),i={top:e.top-1,bottom:e.bottom,left:e.left,right:e.right-1+r};if(t.children.length===0||t.tagName.toUpperCase()==="SVG")return i;for(let n of t.children)if(n.nodeType===1&&"atomId"in n.dataset&&!n.classList.contains("ML__pstrut")){let s=UB(n);i.left=Math.min(i.left,s.left),i.right=Math.max(i.right,s.right),i.top=Math.min(i.top,s.top),i.bottom=Math.max(i.bottom,s.bottom)}return i}function Z0(t,e){var r,i;if(!e.id)return null;let n=(i=(r=t.atomBoundsCache)==null?void 0:r.get(e.id))!=null?i:null;if(n!==null)return n;let s=t.field.querySelector(`[data-atom-id="${e.id}"]`);return n=s?UB(s):null,t.atomBoundsCache&&(n?t.atomBoundsCache.set(e.id,n):t.atomBoundsCache.delete(e.id)),n??null}function dle(t,e){let[r,i]=e,n=null;for(let s=r;s<=i;s++){let a=Z0(t,t.model.at(s));a&&(n?(n.top=Math.min(n.top,a.top),n.bottom=Math.max(n.bottom,a.bottom),n.left=Math.min(n.left,a.left),n.right=Math.max(n.right,a.right)):n=a)}return n??{top:0,bottom:0,left:0,right:0}}function hle(t,e,r){let i=new Map,n=t.field,s=n.offsetWidth,a=Math.floor(n.getBoundingClientRect().width)/s;a=isNaN(a)?1:a;for(let o of t.model.getAtoms(e,{includeChildren:!0})){if(r!=null&&r.excludeAtomsWithBackground&&o.style.backgroundColor)continue;let l=zB(t,Z0(t,o),a);if(l){let u=cle(o);if(i.has(u)){let c=i.get(u);i.set(u,{left:Math.min(c.left,l.left),right:Math.max(c.right,l.right),top:Math.min(c.top,l.top),bottom:Math.max(c.bottom,l.bottom)})}else i.set(u,l)}}return[...i.values()]}function qB(t,e){return t.model.selection.ranges.reduce((r,i)=>r.concat(...hle(t,i,e)),[])}function E6(t,e){return t==="*"||e==="none"?!0:e==="same-origin"?!window.origin||t===window.origin:typeof e=="function"?e(t):!1}function jB(t){let e=0,r=0,i=t.offsetWidth,n=t.offsetHeight;for(;t instanceof HTMLElement;)e+=t.offsetTop,r+=t.offsetLeft,t=t.offsetParent;return new DOMRect(r,e,i,n)}function VB(t,e){if(!t)return;let r=t.model.at(e);if(!r)return;let i={},n=Z0(t,r);n&&(i.bounds=new DOMRect(n.left,n.top,n.right-n.left,n.bottom-n.top)),i.depth=r.treeDepth-2,i.style=r.style;let s=r;for(;s;){if(s.command==="\\htmlData"&&s.args&&typeof s.args[0]=="string"){let a=s.args[0].split(",");for(let o of a){let l=o.match(/([^=]+)=(.+$)/);if(l){let u=l[1].trim().replace(/ /g,"-");u&&(i.data||(i.data={}),i.data[u]=l[2])}else{let u=o.trim().replace(/ /g,"-");u&&(i.data||(i.data={}),i.data[u]=void 0)}}}(s.command==="\\htmlId"||s.command==="\\cssId")&&!i.id&&s.args&&typeof s.args[0]=="string"&&(i.id=s.args[0]),s=s.parent}return(r.mode==="math"||r.mode==="text")&&(i.latex=ue.serialize([r],{defaultMode:"math"})),i}function ple(t,e){let r=t.model.at(e);for(;r;){if(r.command==="\\href"){let i=r.args[0];if(typeof i=="string")return i}r=r.parent}return""}var fle=`@keyframes ML__caret-blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}
.ML__container {
  display: inline-flex;
  flex-flow: row;
  justify-content: space-between;
  align-items: flex-end;
  min-height: 39px;
  /* Need some room for the virtual keyboard toggle */
  width: 100%;
  padding: 4px;
  box-sizing: border-box;
  /* This attribute is necessary to work around a Firefox issue where 
  where clicking multiple times on the border leads to a focused mathfield that cannot be edited until focus is lost and regained (also fixes the multiple cursor issue on firefox that can occur with the same sequence of events).
  */
  pointer-events: auto;
  /* Prevent the browser from trying to interpret touch gestures in the field */
  /* "Disabling double-tap to zoom removes the need for browsers to
        delay the generation of click events when the user taps the screen." */
  touch-action: none;
  --_caret-color: var(--caret-color, hsl(var(--_hue), 40%, 49%));
  --_selection-color: var(--selection-color, #000);
  --_selection-background-color: var(--selection-background-color, hsl(var(--_hue), 70%, 85%));
  --_text-highlight-background-color: var(--highlight-text, hsla(var(--_hue), 40%, 50%, 0.1));
  --_contains-highlight-background-color: var(--contains-highlight-background-color, hsl(var(--_hue), 40%, 95%));
  --_smart-fence-color: var(--smart-fence-color, currentColor);
  --_smart-fence-opacity: var(--smart-fence-opacity, 0.5);
  --_latex-color: var(--latex-color, hsl(var(--_hue), 80%, 40%));
  --_correct-color: var(--correct-color, #10a000);
  --_incorrect-color: var(--incorrect-color, #a01b00);
  --_composition-background-color: var(--composition-background-color, #fff1c2);
  --_composition-text-color: var(--composition-text-color, black);
  --_composition-underline-color: var(--composition-underline-color, transparent);
  --_tooltip-border: var(--tooltip-border, 1px solid transparent);
  --_tooltip-border-radius: var(--tooltip-border-radius, 8px);
  --_tooltip-background-color: var(--tooltip-background-color, #616161);
  --_tooltip-color: var(--tooltip-color, #fff);
  --_tooltip-box-shadow: var(--tooltip-box-shadow, 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2));
}
@media (forced-colors: active) {
  .ML__container {
    --_caret-color: white;
    --_selection-color: white;
    --_smart-fence-color: white;
    --_latex-color: white;
    --_correct-color: white;
    --_incorrect-color: white;
    --_composition-text-color: white;
  }
}
@media (hover: none) and (pointer: coarse) {
  :host(:not(:focus)) .ML__container {
    pointer-events: none;
  }
}
/* This is the actual field content (formula) */
.ML__content {
  display: flex;
  align-items: center;
  align-self: center;
  position: relative;
  overflow: hidden;
  padding: 2px 3px 2px 1px;
  width: 100%;
  /* Encourage the browser to use the GPU to render the field.
     Weirdly, this is required for prompts to be rendered correctly. 
   */
  isolation: isolate;
  text-shadow: var(--text-shadow);
}
.ML__content .ML__latex {
  text-shadow: var(--text-shadow);
}
.ML__content .ML__sqrt-line {
  box-shadow: var(--text-shadow);
}
.ML__content .ML__frac-line {
  box-shadow: var(--text-shadow);
}
.ML__virtual-keyboard-toggle,
.ML__menu-toggle {
  box-sizing: border-box;
  display: flex;
  align-self: center;
  align-items: center;
  flex-shrink: 0;
  flex-direction: column;
  justify-content: center;
  width: 34px;
  height: 34px;
  padding: 0;
  margin-right: 4px;
  cursor: pointer;
  /* Avoid some weird blinking with :hover */
  border-radius: 8px;
  border: 1px solid transparent;
  transition: background 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  color: hsl(var(--_hue), 40%, 50%);
  fill: currentColor;
  background: transparent;
}
.ML__virtual-keyboard-toggle:hover,
.ML__menu-toggle:hover {
  background: hsla(0, 0%, 70%, 0.3);
  color: #333;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle > span,
.ML__menu-toggle > span {
  display: flex;
  align-self: center;
  align-items: center;
}
@media (pointer: coarse) {
  .ML__virtual-keyboard-toggle,
  .ML__menu-toggle {
    min-width: 60px;
    min-height: 60px;
  }
}
/* The invisible element used to capture keyboard events. We're just trying
 really hard to make sure it doesn't show. */
.ML__keyboard-sink {
  display: inline-block;
  resize: none;
  outline: none;
  border: none;
  /* Need these for Microsoft Edge */
  position: fixed;
  clip: rect(0 0 0 0);
  /* Need this to prevent iOS Safari from auto-zooming */
  font-size: 1em;
  font-family: KaTeX_Main;
  line-height: 0.5;
  /* On Chromium, if this is 0, no keyboard events are received */
  /* Preferred over clip */
  clip-path: inset(50%);
}
[part='placeholder'] {
  color: var(--neutral-400);
}
.ML__composition {
  background: var(--_composition-background-color);
  color: var(--_composition-text-color);
  text-decoration: underline var(--_composition-underline-color);
}
.ML__caret {
  display: inline-block;
}
.ML__caret::after {
  content: '';
  visibility: hidden;
  width: 0;
  display: inline-block;
  height: 0.76em;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_caret-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.045em;
  bottom: -0.05em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__text-caret::after {
  content: '';
  visibility: hidden;
  width: 0;
  display: inline-block;
  height: 0.76em;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_caret-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.045em;
  bottom: -0.05em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__latex-caret::after {
  content: '';
  visibility: hidden;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_latex-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.019em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__focused .ML__latex-caret::after,
.ML__focused .ML__text-caret::after,
.ML__focused .ML__caret::after {
  visibility: visible;
}
.ML__focused .ML__text {
  background: var(--_text-highlight-background-color);
}
/* When using smartFence, the anticipated closing fence is displayed
with this style */
.ML__smart-fence__close {
  opacity: var(--_smart-fence-opacity);
  color: var(--_smart-fence-color);
}
.ML__focused .ML__selected,
.ML__focused .ML__selected .ML__contains-caret,
.ML__focused .ML__selected .ML__smart-fence__close,
.ML__focused .ML__selected .ML__placeholder {
  color: var(--_selection-color);
  opacity: 1;
}
.ML__selection {
  box-sizing: border-box;
  background: transparent;
}
:host(:focus) .ML__selection {
  background: var(--_selection-background-color) !important;
}
.ML__contains-caret.ML__close,
.ML__contains-caret.ML__open,
.ML__contains-caret > .ML__close,
.ML__contains-caret > .ML__open,
.ML__contains-caret .ML__sqrt-sign,
.ML__contains-caret .ML__sqrt-line {
  color: var(--_caret-color);
}
.ML__contains-highlight {
  box-sizing: border-box;
  background: transparent;
}
.ML__focused .ML__contains-highlight {
  background: var(--_contains-highlight-background-color);
}
.ML__raw-latex {
  font-family: 'Berkeley Mono', 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  font-weight: 400;
  font-size: 0.8em;
  letter-spacing: -0.05em;
  color: var(--_latex-color);
}
.ML__suggestion {
  color: var(--neutral-500);
}
.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle.is-pressed,
.ML__virtual-keyboard-toggle.is-active:hover,
.ML__virtual-keyboard-toggle.is-active {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
/* Add an attribute 'data-tooltip' to automatically show a
   tooltip over a element on hover.
*/
[data-tooltip] {
  position: relative;
}
[data-tooltip]::after {
  content: attr(data-tooltip);
  position: absolute;
  display: block;
  z-index: 2;
  pointer-events: none;
  right: auto;
  top: calc(-100% - 4px);
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  border-radius: 4px;
  background: #616161;
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  text-align: center;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-style: normal;
  font-weight: 400;
  font-size: 13px;
  /* Phone */
  opacity: 0;
  transform: scale(0.5);
}
@media only screen and (max-width: 767px) {
  [data-tooltip]::after {
    padding: 8px 16px;
    font-size: 16px;
  }
}
menu [data-tooltip]::after {
  left: 100%;
  top: 0%;
}
menu .ML__base {
  cursor: default;
}
/** Don't display if we're tracking, i.e. have the pointer down */
.tracking [data-tooltip]:hover::after {
  /* Use visibility, not display. Display will remove the after from the DOM, and the override below will not work */
  visibility: hidden;
}
/** But do display if tracking and inside a menu */
.tracking menu li[data-tooltip]:hover::after,
[data-tooltip]:hover::after {
  visibility: visible;
  opacity: 1;
  transform: scale(1);
  transition-property: opacity, scale;
  transition-duration: 0.15s;
  transition-delay: 1s;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__prompt {
  border-radius: 2px;
}
.ML__editablePromptBox {
  outline: 1px solid #acacac;
  border-radius: 2px;
  z-index: -1;
}
.ML__focused .ML__focusedPromptBox {
  outline: highlight auto 1px;
}
.ML__lockedPromptBox {
  background-color: rgba(142, 142, 141, 0.4);
  z-index: -1;
}
.ML__correctPromptBox {
  outline: 1px solid var(--_correct-color);
  box-shadow: 0 0 5px var(--_correct-color);
}
.ML__incorrectPromptBox {
  outline: 1px solid var(--_incorrect-color);
  box-shadow: 0 0 5px var(--_incorrect-color);
}
.variant-submenu {
  display: flex;
  flex-direction: column;
  padding: 8px;
}
.variant-submenu [part='menu-item'].ML__xl {
  font-size: 2rem;
  text-align: center;
  margin: 0;
}
.ML__center-menu .label {
  text-align: center;
}
.insert-matrix-submenu {
  /* Grid doesn't work on Safari */
  --_menu-item-size: 25px;
  width: calc(5 * var(--_menu-item-size));
  display: flex;
  flex-wrap: wrap;
  padding: 8px;
  align-content: center;
  justify-content: center;
}
.insert-matrix-submenu [part='menu-item'] {
  width: var(--_menu-item-size);
  height: var(--_menu-item-size);
  font-size: 21px;
  border: none;
  border-radius: 0;
  line-height: 21px;
  text-align: center;
  padding: 0;
  margin: 0;
}
.border-submenu [part='menu-item'] {
  font-size: 2rem;
  line-height: 1.2;
  text-align: center;
}
.swatches-submenu {
  --_swatch-size: 2rem;
  --_columns: 4;
  display: flex;
  flex-flow: wrap;
  padding: 8px;
  max-width: calc(var(--_columns) * (var(--_swatch-size) + 18px) + 16px);
  box-sizing: border-box;
}
.menu-swatch {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: fit-content;
  height: fit-content;
  margin: 2px;
  padding: 0;
  background: var(--neutral-200);
}
.menu-swatch > .label {
  padding: 0;
  margin: 0;
  line-height: 0;
}
.menu-swatch > .label > span {
  display: inline-block;
  margin: 6px;
  min-width: var(--_swatch-size);
  min-height: var(--_swatch-size);
  border-radius: 50%;
}
.menu-swatch.active {
  background: var(--neutral-100);
  scale: 1.4;
}
.menu-swatch.active > .label > span {
  border-radius: 2px;
}
.menu-swatch .ui-checkmark,
.menu-swatch .ui-mixedmark {
  position: absolute;
  margin: 0;
  padding: 0;
  color: white;
}
.menu-swatch.dark-contrast .ui-checkmark,
.menu-swatch.dark-contrast .ui-mixedmark {
  color: #000;
}
.ML__insert-template {
  font-size: 1em;
}
.ML__insert-label {
  opacity: 0.5;
  margin-left: 2ex;
}
`,mle=`.ML__container {
  min-height: auto !important;
  --_hue: var(--hue, 212);
  --_placeholder-color: var(--placeholder-color, hsl(var(--_hue), 40%, 49%));
  --_placeholder-opacity: var(--placeholder-opacity, 0.4);
  --_text-font-family: var(--text-font-family, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif);
}
.ML__sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  clip-path: inset(50%);
  white-space: nowrap;
  border: 0;
}
.ML__is-inline {
  display: inline-block;
}
.ML__base {
  visibility: inherit;
  display: inline-block;
  position: relative;
  cursor: text;
  padding: 0;
  margin: 0;
  box-sizing: content-box;
  border: 0;
  outline: 0;
  vertical-align: baseline;
  font-weight: inherit;
  font-family: inherit;
  font-style: inherit;
  text-decoration: none;
  width: min-content;
}
.ML__strut,
.ML__strut--bottom {
  display: inline-block;
  min-height: 0.5em;
}
.ML__small-delim {
  font-family: KaTeX_Main;
}
/* Text mode */
.ML__text {
  font-family: var(--_text-font-family);
  white-space: pre;
}
/* Use cmr for 'math upright' */
.ML__cmr {
  font-family: KaTeX_Main;
  font-style: normal;
}
.ML__mathit {
  font-family: KaTeX_Math;
  /* The KaTeX_Math font is italic by default, so the font-style below is only 
     useful when a fallback font is used
  */
  font-style: italic;
}
.ML__mathbf {
  font-family: KaTeX_Main;
  font-weight: bold;
}
/* Lowercase greek symbols should stick to math font when \\mathbf is applied 
   to match TeX idiosyncratic behavior */
.lcGreek.ML__mathbf {
  font-family: KaTeX_Math;
}
.ML__mathbfit {
  font-family: KaTeX_Math;
  font-weight: bold;
  font-style: italic;
}
.ML__ams {
  font-family: KaTeX_AMS;
}
/* Blackboard */
.ML__bb {
  font-family: KaTeX_AMS;
}
.ML__cal {
  font-family: KaTeX_Caligraphic;
}
.ML__frak {
  font-family: KaTeX_Fraktur;
}
.ML__tt {
  font-family: KaTeX_Typewriter;
}
.ML__script {
  font-family: KaTeX_Script;
}
.ML__sans {
  font-family: KaTeX_SansSerif;
}
.ML__series_ul {
  font-weight: 100;
}
.ML__series_el {
  font-weight: 100;
}
.ML__series_l {
  font-weight: 200;
}
.ML__series_sl {
  font-weight: 300;
}
.ML__series_sb {
  font-weight: 500;
}
.ML__bold {
  font-weight: 700;
}
.ML__series_eb {
  font-weight: 800;
}
.ML__series_ub {
  font-weight: 900;
}
.ML__series_uc {
  font-stretch: ultra-condensed;
}
.ML__series_ec {
  font-stretch: extra-condensed;
}
.ML__series_c {
  font-stretch: condensed;
}
.ML__series_sc {
  font-stretch: semi-condensed;
}
.ML__series_sx {
  font-stretch: semi-expanded;
}
.ML__series_x {
  font-stretch: expanded;
}
.ML__series_ex {
  font-stretch: extra-expanded;
}
.ML__series_ux {
  font-stretch: ultra-expanded;
}
.ML__it {
  font-style: italic;
}
.ML__shape_ol {
  -webkit-text-stroke: 1px black;
  text-stroke: 1px black;
  color: transparent;
}
.ML__shape_sc {
  font-variant: small-caps;
}
.ML__shape_sl {
  font-style: oblique;
}
/* First level emphasis */
.ML__emph {
  color: #bc2612;
}
/* Second level emphasis */
.ML__emph .ML__emph {
  color: #0c7f99;
}
.ML__highlight {
  color: #007cb2;
  background: #edd1b0;
}
.ML__center {
  text-align: center;
}
.ML__left {
  text-align: left;
}
.ML__right {
  text-align: right;
}
.ML__label_padding {
  padding: 0 0.5em;
}
.ML__frac-line {
  width: 100%;
  min-height: 1px;
}
.ML__frac-line:after {
  content: '';
  display: block;
  margin-top: max(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  /* There's a bug since Chrome 62 where 
      sub-pixel border lines don't draw at some zoom 
      levels (110%, 90%). 
      Setting the min-height used to work around it, but that workaround
      broke in Chrome 84 or so.
      Setting the background (and the min-height) seems to work for now.
      */
  background: currentColor;
  box-sizing: content-box;
  /* Vuetify sets the box-sizing to inherit 
            causes the fraction line to not draw at all sizes (see #26) */
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
  forced-color-adjust: preserve-parent-color;
}
@media (forced-colors: active) {
  .ML__frac-line {
    min-height: 0px;
  }
}
.ML__sqrt {
  display: inline-block;
}
.ML__sqrt-sign {
  display: inline-block;
  position: relative;
}
.ML__sqrt-line {
  display: inline-block;
  height: max(1px, 0.04em);
  width: 100%;
}
.ML__sqrt-line:before {
  content: '';
  display: block;
  margin-top: min(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  background: currentColor;
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
  forced-color-adjust: preserve-parent-color;
}
@media (forced-colors: active) {
  .ML__sqrt-line:after {
    background: white !important;
  }
}
.ML__sqrt-line:after {
  border-bottom-width: 1px;
  content: ' ';
  display: block;
  margin-top: -0.1em;
}
.ML__sqrt-index {
  margin-left: 0.27777778em;
  margin-right: -0.55555556em;
}
.ML__delim-size1 {
  font-family: KaTeX_Size1;
}
.ML__delim-size2 {
  font-family: KaTeX_Size2;
}
.ML__delim-size3 {
  font-family: KaTeX_Size3;
}
.ML__delim-size4 {
  font-family: KaTeX_Size4;
}
.ML__delim-mult .delim-size1 > span {
  font-family: KaTeX_Size1;
}
.ML__delim-mult .delim-size4 > span {
  font-family: KaTeX_Size4;
}
.ML__accent-body {
  font-family: KaTeX_Main;
}
.ML__accent-combining-char {
  position: relative;
  left: 0.24em;
}
/** The markup for a LaTeX formula, either in an editable mathfield or 
    in a static display.
*/
.ML__latex {
  display: inline-block;
  direction: ltr;
  text-align: left;
  text-indent: 0;
  text-rendering: auto;
  font-family: inherit;
  font-style: normal;
  font-size-adjust: none;
  font-stretch: normal;
  font-variant-caps: normal;
  letter-spacing: normal;
  line-height: 1.2;
  word-wrap: normal;
  word-spacing: normal;
  white-space: nowrap;
  text-shadow: none;
  -webkit-user-select: none;
  user-select: none;
  width: min-content;
  forced-color-adjust: preserve-parent-color;
}
.ML__latex .style-wrap {
  position: relative;
}
.ML__latex .ML__mfrac {
  display: inline-block;
}
.ML__latex .ML__left-right {
  display: inline-block;
}
.ML__latex .ML__vlist-t {
  display: inline-table;
  table-layout: fixed;
  border-collapse: collapse;
}
.ML__latex .ML__vlist-r {
  display: table-row;
}
.ML__latex .ML__vlist {
  display: table-cell;
  vertical-align: bottom;
  position: relative;
}
.ML__latex .ML__vlist > span {
  display: block;
  height: 0;
  position: relative;
}
.ML__latex .ML__vlist > span > span {
  display: inline-block;
}
.ML__latex .ML__vlist > span > .ML__pstrut {
  overflow: hidden;
  width: 0;
}
.ML__latex .ML__vlist-t2 {
  margin-right: -2px;
}
.ML__latex .ML__vlist-s {
  display: table-cell;
  vertical-align: bottom;
  font-size: 1px;
  width: 2px;
  min-width: 2px;
}
.ML__latex .ML__msubsup {
  text-align: left;
}
.ML__latex .ML__negativethinspace {
  display: inline-block;
  margin-left: -0.16667em;
  height: 0.71em;
}
.ML__latex .ML__thinspace {
  display: inline-block;
  width: 0.16667em;
  height: 0.71em;
}
.ML__latex .ML__mediumspace {
  display: inline-block;
  width: 0.22222em;
  height: 0.71em;
}
.ML__latex .ML__thickspace {
  display: inline-block;
  width: 0.27778em;
  height: 0.71em;
}
.ML__latex .ML__enspace {
  display: inline-block;
  width: 0.5em;
  height: 0.71em;
}
.ML__latex .ML__quad {
  display: inline-block;
  width: 1em;
  height: 0.71em;
}
.ML__latex .ML__qquad {
  display: inline-block;
  width: 2em;
  height: 0.71em;
}
.ML__latex .ML__llap,
.ML__latex .ML__rlap {
  width: 0;
  position: relative;
  display: inline-block;
}
.ML__latex .ML__llap > .ML__inner,
.ML__latex .ML__rlap > .ML__inner {
  position: absolute;
}
.ML__latex .ML__llap > .ML__fix,
.ML__latex .ML__rlap > .ML__fix {
  display: inline-block;
}
.ML__latex .ML__llap > .ML__inner {
  right: 0;
}
.ML__latex .ML__rlap > .ML__inner {
  left: 0;
}
.ML__latex .ML__rule {
  display: inline-block;
  border: solid 0;
  position: relative;
  box-sizing: border-box;
}
.ML__latex .overline .overline-line,
.ML__latex .underline .underline-line {
  width: 100%;
}
.ML__latex .overline .overline-line:before,
.ML__latex .underline .underline-line:before {
  content: '';
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  display: block;
}
.ML__latex .overline .overline-line:after,
.ML__latex .underline .underline-line:after {
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  content: '';
  display: block;
  margin-top: -1px;
}
.ML__latex .ML__stretchy {
  display: block;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__latex .ML__stretchy:before,
.ML__latex .ML__stretchy:after {
  content: '';
}
.ML__latex .ML__stretchy svg {
  display: block;
  position: absolute;
  width: 100%;
  height: inherit;
  fill: currentColor;
  stroke: currentColor;
  fill-rule: nonzero;
  fill-opacity: 1;
  stroke-width: 1;
  stroke-linecap: butt;
  stroke-linejoin: miter;
  stroke-miterlimit: 4;
  stroke-dasharray: none;
  stroke-dashoffset: 0;
  stroke-opacity: 1;
}
.ML__latex .slice-1-of-2 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__latex .slice-2-of-2 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__latex .slice-1-of-3 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__latex .slice-2-of-3 {
  display: inline-flex;
  position: absolute;
  left: 25%;
  width: 50%;
  overflow: hidden;
}
.ML__latex .slice-3-of-3 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__latex .slice-1-of-1 {
  display: inline-flex;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__latex .ML__nulldelimiter {
  display: inline-block;
}
.ML__latex .ML__op-group {
  display: inline-block;
}
.ML__latex .ML__op-symbol {
  position: relative;
}
.ML__latex .ML__op-symbol.ML__small-op {
  font-family: KaTeX_Size1;
}
.ML__latex .ML__op-symbol.ML__large-op {
  font-family: KaTeX_Size2;
}
.ML__latex:has(.ML__center_environment),
.ML__latex:has(.ML__multiline_environment),
.ML__latex:has(.ML__align_environment),
.ML__latex:has(.ML__eqnarray_environment),
.ML__latex:has(.ML__gather_environment) {
  width: 100%;
}
.ML__latex .ML__multiline_environment {
  display: inline-flex;
  width: 100%;
}
.ML__latex .ML__center_environment {
  display: inline-flex;
  width: 100%;
  justify-content: center;
}
.ML__latex .ML__align_environment,
.ML__latex .ML__eqnarray_environment,
.ML__latex .ML__gather_environment {
  display: inline-block;
}
.ML__latex .ML__mtable .ML__vertical-separator {
  display: inline-block;
  min-width: 1px;
  box-sizing: border-box;
}
.ML__latex .ML__mtable .ML__arraycolsep {
  display: inline-block;
}
.ML__latex .ML__mtable .col-align-m > .ML__vlist-t {
  text-align: center;
}
.ML__latex .ML__mtable .col-align-c > .ML__vlist-t {
  text-align: center;
}
.ML__latex .ML__mtable .col-align-l > .ML__vlist-t {
  text-align: left;
}
.ML__latex .ML__mtable .col-align-r > .ML__vlist-t {
  text-align: right;
}
[data-href] {
  cursor: pointer;
}
.ML__error {
  display: inline-block;
  background-image: radial-gradient(ellipse at center, hsl(341, 100%, 40%), rgba(0, 0, 0, 0) 70%);
  background-color: hsla(341, 100%, 40%, 0.1);
  background-repeat: repeat-x;
  background-size: 3px 3px;
  padding-bottom: 3px;
  background-position: 0 100%;
}
.ML__error > .ML__error {
  background: transparent;
  padding: 0;
}
.ML__placeholder {
  color: var(--_placeholder-color);
  opacity: var(--_placeholder-opacity);
  padding-left: 0.4ex;
  padding-right: 0.4ex;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
}
.ML__notation {
  position: absolute;
  box-sizing: border-box;
  line-height: 0;
}
/* This class is used to implement the \`\\mathtip\` and \`\\texttip\` commands
   For UI elements, see \`[data-ML__tooltip]\`
*/
.ML__tooltip-container {
  position: relative;
  transform: scale(0);
}
.ML__tooltip-container .ML__tooltip-content {
  position: fixed;
  display: inline-table;
  visibility: hidden;
  z-index: 2;
  width: max-content;
  max-width: 400px;
  padding: 12px 12px;
  border: var(--tooltip-border);
  border-radius: var(--tooltip-border-radius);
  background: var(--tooltip-background-color);
  --_selection-color: var(--tooltip-color);
  color: var(--tooltip-color);
  box-shadow: var(--tooltip-box-shadow);
  opacity: 0;
  transition: opacity 0.15s cubic-bezier(0.4, 0, 1, 1);
}
.ML__tooltip-container .ML__tooltip-content .ML__text {
  white-space: normal;
}
.ML__tooltip-container .ML__tooltip-content .ML__base {
  display: contents;
}
.ML__tooltip-container:hover .ML__tooltip-content {
  visibility: visible;
  opacity: 1;
  font-size: 0.75em;
  transform: scale(1) translate(0, 3em);
}
`,gle=`#mathlive-environment-popover.is-visible {
  visibility: visible;
}
#mathlive-environment-popover {
  --_environment-panel-height: var(--environment-panel-height, 70px);
  --_accent-color: var(--accent-color, #aaa);
  --_background: var(--environment-panel-background, #fff);
  --_button-background: var(--environment-panel-button-background, white);
  --_button-background-hover: var(--environment-panel-button-background-hover, #f5f5f7);
  --_button-background-active: var(--environment-panel-button-background-active, #f5f5f7);
  --_button-text: var(--environment-panel-button-text, #e3e4e8);
  position: absolute;
  width: calc(var(--_environment-panel-height) * 2);
  height: var(--_environment-panel-height);
  border-radius: 4px;
  border: 1.5px solid var(--_accent-color);
  background-color: var(--_background);
  box-shadow: 0 0 30px 0 var(--environment-shadow, rgba(0, 0, 0, 0.4));
  pointer-events: all;
  visibility: hidden;
}
#mathlive-environment-popover .MLEP__array-buttons {
  height: calc(var(--_environment-panel-height) * 5/4);
  width: calc(var(--_environment-panel-height) * 5/4);
  margin-left: calc(0px - var(--_environment-panel-height) * 0.16);
  margin-top: calc(0px - var(--_environment-panel-height) * 0.19);
}
#mathlive-environment-popover .MLEP__array-buttons .font {
  fill: white;
}
#mathlive-environment-popover .MLEP__array-buttons circle {
  fill: #7f7f7f;
  transition: fill 300ms;
}
#mathlive-environment-popover .MLEP__array-buttons .MLEP__array-insert-background {
  fill-opacity: 1;
  fill: var(--_background);
  stroke: var(--_accent-color);
  stroke-width: 3px;
}
#mathlive-environment-popover .MLEP__array-buttons line {
  stroke: var(--_accent-color);
  stroke-opacity: 0;
  stroke-width: 40;
  pointer-events: none;
  transition: stroke-opacity 300ms;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover circle {
  fill: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover line {
  stroke-opacity: 1;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls {
  height: 100%;
  width: 50%;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options {
  width: var(--_environment-panel-height);
  height: var(--_environment-panel-height);
  display: flex;
  flex-wrap: wrap;
  flex-direction: row;
  justify-content: space-around;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg {
  pointer-events: all;
  margin-top: 2px;
  width: calc(var(--_environment-panel-height) / 3 * 28 / 24);
  height: calc(var(--_environment-panel-height) / 3 - 2px);
  border-radius: calc(var(--_environment-panel-height) / 25);
  background-color: var(--_button-background);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg:hover {
  background-color: var(--_button-background-hover);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg line {
  stroke: var(--_button-text);
  stroke-width: 2;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg rect,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path {
  fill-opacity: 0;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active {
  pointer-events: none;
  background-color: var(--_button-background-active);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active line {
  stroke: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active circle {
  fill: var(--_accent-color);
}
`,yle=`/* The element that display info while in latex mode */
#mathlive-suggestion-popover {
  --_suggestion-zindex: var(--suggestion-zindex, 100);
  background-color: rgba(97, 97, 97);
  color: #fff;
  text-align: center;
  border-radius: 8px;
  position: fixed;
  z-index: var(--_suggestion-zindex);
  display: none;
  flex-direction: column;
  justify-content: center;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
}
#mathlive-suggestion-popover.top-tip::after {
  content: '';
  position: absolute;
  top: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-bottom: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.bottom-tip::after {
  content: '';
  position: absolute;
  bottom: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-top: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.is-animated {
  transition: all 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  animation: ML__fade-in cubic-bezier(0, 0, 0.2, 1) 0.15s;
}
#mathlive-suggestion-popover.is-visible {
  display: flex;
}
@keyframes ML__fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
/* The wrapper class for the entire content of the popover panel */
#mathlive-suggestion-popover ul {
  display: flex;
  flex-flow: column;
  list-style: none;
  margin: 0;
  padding: 0;
  align-items: flex-start;
  max-height: 400px;
  overflow-y: auto;
}
#mathlive-suggestion-popover li {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  margin: 8px;
  padding: 8px;
  width: calc(100% - 16px - 16px);
  column-gap: 1em;
  border-radius: 8px;
  cursor: pointer;
  /* Since the content can be clicked on, provide feedback on hover */
}
#mathlive-suggestion-popover li a {
  color: #5ea6fd;
  padding-top: 0.3em;
  margin-top: 0.4em;
  display: block;
}
#mathlive-suggestion-popover li a:hover {
  color: #5ea6fd;
  text-decoration: underline;
}
#mathlive-suggestion-popover li:hover,
#mathlive-suggestion-popover li.is-pressed,
#mathlive-suggestion-popover li.is-active {
  background: rgba(255, 255, 255, 0.1);
}
/* The command inside a popover (inside a #mathlive-suggestion-popover) */
.ML__popover__command {
  font-size: 1.6rem;
  font-family: KaTeX_Main;
}
.ML__popover__current {
  background: #5ea6fd;
  color: #fff;
}
.ML__popover__latex {
  font-family: 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  align-self: center;
}
/* The keyboard shortcuts for a symbol as displayed in the popover */
.ML__popover__keybinding {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 0.8em;
  opacity: 0.7;
}
/* Style for the character that joins the modifiers of a keyboard shortcut 
(usually a "+" sign)*/
.ML__shortcut-join {
  opacity: 0.5;
}
`,vle=`/* The element that displays the keys as the user type them */
#mathlive-keystroke-caption-panel {
  visibility: hidden;
  /*min-width: 160px;*/
  /*background-color: rgba(97, 97, 200, .95);*/
  background: var(--secondary, hsl(var(--_hue), 19%, 26%));
  border-color: var(--secondary-border, hsl(0, 0%, 91%));
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
  text-align: center;
  border-radius: 6px;
  padding: 16px;
  position: absolute;
  z-index: 1;
  display: flex;
  flex-direction: row-reverse;
  justify-content: center;
  --keystroke: white;
  --on-keystroke: #555;
  --keystroke-border: #f7f7f7;
}
@media (prefers-color-scheme: dark) {
  body:not([theme='light']) #mathlive-keystroke-caption-panel {
    --keystroke: hsl(var(--_hue), 50%, 30%);
    --on-keystroke: hsl(0, 0%, 98%);
    --keystroke-border: hsl(var(--_hue), 50%, 25%);
  }
}
body[theme='dark'] #mathlive-keystroke-caption-panel {
  --keystroke: hsl(var(--_hue), 50%, 30%);
  --on-keystroke: hsl(0, 0%, 98%);
  --keystroke-border: hsl(var(--_hue), 50%, 25%);
}
#mathlive-keystroke-caption-panel > span {
  min-width: 14px;
  /*height: 8px;*/
  margin: 0 8px 0 0;
  padding: 4px;
  background-color: var(--keystroke);
  color: var(--on-keystroke);
  fill: currentColor;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 1em;
  border-radius: 6px;
  border: 2px solid var(--keystroke-border);
  /*box-shadow: 0 7px 14px rgba(0,0,0,0.25), 0 5px 5px rgba(0,0,0,0.22);*/
}
`,ble=`.ML__keyboard {
  --_keyboard-height: 0;
  --_keyboard-zindex: var(--keyboard-zindex, 105);
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_padding-horizontal: var(--keyboard-padding-horizontal, 0px);
  --_padding-top: var(--keyboard-padding-top, 5px);
  --_padding-bottom: var(--keyboard-padding-bottom, 0px);
  --_row-padding-left: var(--keyboard-row-padding-left, 0px);
  --_row-padding-right: var(--keyboard-row-padding-right, 0px);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-text-active: var(--keyboard-toolbar-text-active, var(--_accent-color));
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_toolbar-font-size: var(--keyboard-toolbar-font-size, '135%');
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, #f0f0f0);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-primary-background: var(--keycap-primary-background, var(--_accent-color));
  --_keycap-primary-text: var(--keycap-primary-text, #ddd);
  --_keycap-primary-background-hover: var(--keycap-primary-background-hover, #0d80f2);
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_keycap-height: var(--keycap-height, 60px);
  /* Keycap width (incl. margin) */
  --_keycap-max-width: var(--keycap-max-width, 100px);
  --_keycap-gap: var(--keycap-gap, 8px);
  --_keycap-font-size: var(--keycap-font-size, clamp(16px, 4cqw, 24px));
  --_keycap-small-font-size: var(--keycap-small-font-size, calc(var(--keycap-font-size) * 0.8));
  --_keycap-extra-small-font-size: var(--keycap-extra-small-font-size, calc(var(--keycap-font-size) / 1.42));
  --_variant-panel-background: var(--variant-panel-background, #f0f0f0);
  --_variant-keycap-text: var(--variant-keycap-text, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
  --_variant-keycap-length: var(--variant-keycap-length, 70px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 30px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 12px);
  --_keycap-shift-font-size: var(--keycap-shift-font-size, 16px);
  --_keycap-shift-color: var(--keycap-shift-color, var(--_accent-color));
  --_box-placeholder-color: var(--box-placeholder-color, var(--_accent-color));
  --_box-placeholder-pressed-color: var(--box-placeholder-pressed-color, var(--keycap-text-pressed));
  --_keycap-glyph-size: var(--keycap-glyph-size, 20px);
  --_keycap-glyph-size-lg: var(--keycap-glyph-size-lg, 24px);
  --_keycap-glyph-size-xl: var(--keycap-glyph-size-xl, 50px);
}
.is-math-mode .MLK__rows .if-text-mode,
.is-text-mode .MLK__rows .if-math-mode {
  display: none;
}
.if-can-undo,
.if-can-redo,
.if-can-copy,
.if-can-cut,
.if-can-paste {
  opacity: 0.4;
  pointer-events: none;
}
.can-undo .if-can-undo,
.can-redo .if-can-redo,
.can-copy .if-can-copy,
.can-cut .if-can-cut,
.can-paste .if-can-paste {
  opacity: 1;
  pointer-events: all;
}
body > .ML__keyboard {
  position: fixed;
  --_padding-bottom: calc(var(--keyboard-padding-bottom, 0px) + env(safe-area-inset-bottom, 0));
}
body > .ML__keyboard.is-visible > .MLK__backdrop {
  box-shadow: 0 -5px 6px rgba(0, 0, 0, 0.08);
  border-top: 1px solid var(--_border);
}
body > .ML__keyboard.backdrop-is-transparent.is-visible > .MLK__backdrop {
  box-shadow: none;
  border: none;
}
body > .ML__keyboard.is-visible.animate > .MLK__backdrop {
  transition: 0.28s cubic-bezier(0, 0, 0.2, 1);
  transition-property: transform, opacity;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__keyboard {
  position: relative;
  overflow: hidden;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  z-index: var(--_keyboard-zindex);
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  opacity: 1;
  transform: none;
  pointer-events: none;
}
.ML__keyboard :where(div) {
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  transform: none;
}
.MLK__backdrop {
  position: absolute;
  bottom: calc(-1 * var(--_keyboard-height));
  width: 100%;
  height: var(--_keyboard-height);
  box-sizing: border-box;
  padding-top: var(--_padding-top);
  padding-bottom: var(--_padding-bottom);
  padding-left: var(--_padding-horizontal);
  padding-right: var(--_padding-horizontal);
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0);
  background: var(--_background);
}
.backdrop-is-transparent .MLK__backdrop {
  background: transparent;
}
/* If a custom layout has a custom container/backdrop
  (backdrop-is-transparent), make sure to let pointer event go through. */
.backdrop-is-transparent .MLK__plate {
  background: transparent;
  pointer-events: none;
}
/* If a custom layout has a custom container/backdrop, make sure to 
   allow pointer events on it. */
.backdrop-is-transparent .MLK__layer > div > div {
  pointer-events: all;
}
.ML__keyboard.is-visible > .MLK__backdrop {
  transform: translate(0, calc(-1 * var(--_keyboard-height)));
  opacity: 1;
  visibility: visible;
}
.caps-lock-indicator {
  display: none;
  width: 8px;
  height: 8px;
  background: #0cbc0c;
  box-shadow: inset 0 0 4px 0 #13ca13, 0 0 4px 0 #a9ef48;
  border-radius: 8px;
  right: 8px;
  top: 8px;
  position: absolute;
}
.ML__keyboard.is-caps-lock .caps-lock-indicator {
  display: block;
}
.ML__keyboard.is-caps-lock .shift {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
}
.MLK__plate {
  position: absolute;
  top: var(--_padding-top);
  left: var(--_padding-horizontal);
  width: calc(100% - 2 * var(--_padding-horizontal));
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  container-type: inline-size;
  touch-action: none;
  -webkit-user-select: none;
  user-select: none;
  pointer-events: all;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 16px;
  /* Size of toolbar labels */
  font-weight: 400;
  text-shadow: none;
}
.ML__box-placeholder {
  color: var(--_box-placeholder-color);
}
.MLK__tex {
  font-family: KaTeX_Main, KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__tex-math {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
  font-style: italic;
}
.MLK__layer {
  display: none;
  outline: none;
}
.MLK__layer.is-visible {
  display: flex;
  flex-flow: column;
}
/* Keyboard layouts are made or rows of keys... */
.MLK__rows {
  --_keycap-width: var(--keycap-width, min(var(--_keycap-max-width), 10cqw));
  display: flex;
  flex-flow: column;
  align-items: center;
  border-collapse: separate;
  clear: both;
  border: 0;
  margin: 0;
  margin-bottom: var(--_keycap-gap);
  gap: var(--_keycap-gap);
  /* If the styling include, e.g., some shadows, they will be
  cut off by the overflow. In that case, set the padding to 
  compensate. */
  padding-left: var(--_row-padding-left);
  padding-right: var(--_row-padding-right);
  overflow: visible;
  touch-action: none;
}
.MLK__rows > .MLK__row {
  display: flex;
  flex-flow: row;
  justify-content: center;
  width: 100%;
  gap: var(--_keycap-gap);
  margin: 0;
  padding: 0;
  /* For the alignment of the text on some modifiers (e.g. shift) */
  /* Extra spacing between two adjacent keys */
}
.MLK__rows > .MLK__row .tex {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .MLK__row .tex-math {
  font-family: KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .MLK__row .big-op {
  font-size: calc(1.25 * var(--_keycap-font-size));
}
.MLK__rows > .MLK__row .small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__rows > .MLK__row .bottom {
  justify-content: flex-end;
}
.MLK__rows > .MLK__row .left {
  align-items: flex-start;
  padding-left: 12px;
}
.MLK__rows > .MLK__row .right {
  align-items: flex-end;
  padding-right: 12px;
}
.MLK__rows > .MLK__row .w0 {
  width: 0;
}
.MLK__rows > .MLK__row .w5 {
  width: calc(0.5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w15 {
  width: calc(1.5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w20 {
  width: calc(2 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w40 {
  width: calc(4 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w50 {
  width: calc(5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .MLK__keycap.w50 {
  font-size: 80%;
  padding-top: 10px;
  font-weight: 100;
}
.MLK__rows > .MLK__row .separator {
  background: transparent;
  border: none;
  pointer-events: none;
}
.MLK__rows > .MLK__row .horizontal-rule {
  height: 6px;
  margin-top: 3px;
  margin-bottom: 0;
  width: 100%;
  border-radius: 0;
  border-top: var(--_horizontal-rule);
}
.MLK__rows > .MLK__row .ghost {
  background: var(--_toolbar-background);
  border: none;
  color: var(--_toolbar-text);
}
.MLK__rows > .MLK__row .ghost:hover {
  background: var(--_toolbar-background-hover);
}
.MLK__rows > .MLK__row .bigfnbutton {
  font-size: var(--_keycap-extra-small-font-size);
}
.MLK__rows > .MLK__row .shift,
.MLK__rows > .MLK__row .action {
  color: var(--_keycap-secondary-text);
  background: var(--_keycap-secondary-background);
  border-color: var(--_keycap-secondary-border);
  border-bottom-color: var(--_keycap-secondary-border-bottom);
  line-height: 0.8;
  font-size: min(1rem, var(--_keycap-small-font-size));
  font-weight: 600;
  padding: 8px 12px 8px 12px;
}
.MLK__rows > .MLK__row .shift:hover,
.MLK__rows > .MLK__row .action:hover {
  background: var(--_keycap-secondary-background-hover);
}
.MLK__rows > .MLK__row .action.primary {
  background: var(--_keycap-primary-background);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .MLK__row .action.primary:hover {
  background: var(--_keycap-primary-background-hover);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .MLK__row .shift.selected,
.MLK__rows > .MLK__row .action.selected {
  color: var(--_toolbar-text-active);
}
.MLK__rows > .MLK__row .shift.selected.is-pressed,
.MLK__rows > .MLK__row .action.selected.is-pressed,
.MLK__rows > .MLK__row .shift.selected.is-active,
.MLK__rows > .MLK__row .action.selected.is-active {
  color: white;
}
.MLK__rows > .MLK__row .warning {
  background: #cd0030;
  color: white;
}
.MLK__rows > .MLK__row .warning svg.svg-glyph {
  width: var(--_keycap-glyph-size-lg);
  height: var(--_keycap-glyph-size-lg);
  min-height: var(--_keycap-glyph-size-lg);
}
/** A regular keycap
 * Use the :where() pseudo-class to give it a very low specifity, 
 * so that it can be overriden by custom style.
 */
:where(.MLK__rows > .MLK__row div) {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: space-evenly;
  width: calc(var(--_keycap-width) - var(--_keycap-gap));
  height: var(--_keycap-height);
  box-sizing: border-box;
  padding: 0;
  vertical-align: top;
  text-align: center;
  float: left;
  color: var(--_keycap-text);
  fill: currentColor;
  font-size: var(--_keycap-font-size);
  background: var(--_keycap-background);
  border: 1px solid var(--_keycap-border);
  border-bottom-color: var(--_keycap-border-bottom);
  border-radius: 6px;
  cursor: pointer;
  touch-action: none;
  /* Keys with a variants panel */
  position: relative;
  overflow: hidden;
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
:where(.MLK__rows > .MLK__row div):hover {
  overflow: visible;
  background: var(--_keycap-background-hover);
  color: var(--_keycap-text-hover);
}
:where(.MLK__rows > .MLK__row div) .ML__latex {
  pointer-events: none;
  touch-action: none;
}
:where(.MLK__rows > .MLK__row div) svg.svg-glyph {
  margin: 8px 0;
  width: var(--_keycap-glyph-size);
  height: var(--_keycap-glyph-size);
  min-height: var(--_keycap-glyph-size);
}
:where(.MLK__rows > .MLK__row div) svg.svg-glyph-lg {
  margin: 8px 0;
  width: var(--_keycap-glyph-size-lg);
  height: var(--_keycap-glyph-size-lg);
  min-height: var(--_keycap-glyph-size-lg);
}
:where(.MLK__rows > .MLK__row div).MLK__tex-math {
  font-size: 25px;
}
:where(.MLK__rows > .MLK__row div).is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active,
:where(.MLK__rows > .MLK__row div).action.is-active,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed,
:where(.MLK__rows > .MLK__row div).action.is-pressed {
  z-index: calc(var(--_keyboard-zindex) - 5);
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active aside,
:where(.MLK__rows > .MLK__row div).action.is-active aside,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed aside,
:where(.MLK__rows > .MLK__row div).action.is-pressed aside {
  display: none;
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active .MLK__shift,
:where(.MLK__rows > .MLK__row div).action.is-active .MLK__shift,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed .MLK__shift,
:where(.MLK__rows > .MLK__row div).action.is-pressed .MLK__shift {
  display: none;
}
:where(.MLK__rows > .MLK__row div).shift.is-pressed,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed,
:where(.MLK__rows > .MLK__row div).action.is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
}
:where(.MLK__rows > .MLK__row div).shift.is-active,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active,
:where(.MLK__rows > .MLK__row div).action.is-active {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
:where(.MLK__rows > .MLK__row div) small {
  color: var(--_keycap-secondary-text);
}
:where(.MLK__rows > .MLK__row div) aside {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 10px;
  line-height: 10px;
  color: var(--_keycap-secondary-text);
}
/* Add an attribute 'data-tooltip' to display a tooltip on hover.
Note there are a different set of tooltip rules for the keyboard toggle
(it's in a different CSS tree) */
.ML__keyboard [data-tooltip] {
  position: relative;
}
.ML__keyboard [data-tooltip]::after {
  position: absolute;
  display: inline-table;
  content: attr(data-tooltip);
  top: inherit;
  bottom: 100%;
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  background: #616161;
  color: #fff;
  text-align: center;
  z-index: 2;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  border-radius: 2px;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-weight: 400;
  font-size: 12px;
  transition: all 0.15s cubic-bezier(0.4, 0, 1, 1) 1s;
  opacity: 0;
  transform: scale(0.5);
}
.ML__keyboard [data-tooltip]:hover {
  position: relative;
}
.ML__keyboard [data-tooltip]:hover::after {
  opacity: 1;
  transform: scale(1);
}
.MLK__toolbar {
  align-self: center;
  display: flex;
  flex-flow: row;
  justify-content: space-between;
  width: 100%;
  max-width: 996px;
  min-height: 32px;
  /* Icons for undo/redo, etc. */
}
.MLK__toolbar svg {
  height: 20px;
  width: 20px;
}
.MLK__toolbar > .left {
  position: relative;
  display: flex;
  justify-content: flex-start;
  flex-flow: row;
}
.MLK__toolbar > .right {
  display: flex;
  justify-content: flex-end;
  flex-flow: row;
}
.MLK__toolbar > div > div {
  /* "button" in the toolbar */
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--_toolbar-text);
  fill: currentColor;
  background: var(--_toolbar-background);
  font-size: var(--_toolbar-font-size);
  padding: 4px 15px;
  cursor: pointer;
  width: max-content;
  min-width: 42px;
  min-height: 34px;
  border: none;
  padding-left: 10px;
  padding-right: 10px;
  padding-bottom: 8px;
  padding-top: 8px;
  margin-top: 0;
  margin-bottom: 4px;
  margin-left: 4px;
  margin-right: 4px;
  border-radius: 8px;
  box-shadow: none;
  border-bottom: 2px solid transparent;
}
.MLK__toolbar > div > div:not(.disabled):not(.selected):hover {
  background: var(--_toolbar-background-hover);
}
.MLK__toolbar > div > div.disabled svg,
.MLK__toolbar > div > div.disabled:hover svg,
.MLK__toolbar > div > div.disabled.is-pressed svg {
  color: var(--_toolbar-text);
  opacity: 0.2;
}
.MLK__toolbar > div > div:hover,
.MLK__toolbar > div > div:active,
.MLK__toolbar > div > div.is-pressed,
.MLK__toolbar > div > div.is-active {
  color: var(--_toolbar-text-active);
}
.MLK__toolbar > div > div.selected {
  color: var(--_toolbar-text-active);
  background: var(--_toolbar-background-selected);
  border-radius: 0;
  border-bottom-color: var(--_toolbar-text-active);
  padding-bottom: 4px;
  margin-bottom: 8px;
}
/* This is the element that displays variants on press+hold */
.MLK__variant-panel {
  visibility: hidden;
  position: fixed;
  display: flex;
  flex-flow: row wrap-reverse;
  justify-content: center;
  align-content: center;
  margin: 0;
  padding: 0;
  bottom: auto;
  top: 0;
  box-sizing: content-box;
  transform: none;
  z-index: calc(var(--_keyboard-zindex) + 1);
  touch-action: none;
  max-width: 350px;
  background: var(--_variant-panel-background);
  text-align: center;
  border-radius: 6px;
  padding: 6px;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
  transition: none;
}
.MLK__variant-panel.is-visible {
  visibility: visible;
}
.MLK__variant-panel.compact {
  --_variant-keycap-length: var(--variant-keycap-length, 50px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 10px);
}
.MLK__variant-panel .item {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: center;
  font-size: var(--_variant-keycap-font-size);
  height: var(--_variant-keycap-length);
  width: var(--_variant-keycap-length);
  margin: 0;
  box-sizing: border-box;
  border-radius: 5px;
  border: 1px solid transparent;
  background: transparent;
  pointer-events: all;
  cursor: pointer;
  color: var(--_variant-keycap-text);
  fill: currentColor;
}
@media (max-height: 412px) {
  .MLK__variant-panel .item {
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
.MLK__variant-panel .item .ML__latex {
  pointer-events: none;
}
.MLK__variant-panel .item:hover {
  color: var(--_keycap-text-hover);
}
.MLK__variant-panel .item.is-active {
  background: var(--_variant-keycap-background-active);
  color: var(--_variant-keycap-text-active);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
.MLK__variant-panel .item.is-pressed {
  background: var(--_variant-keycap-background-pressed);
  color: var(--_variant-keycap-text-pressed);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
.MLK__variant-panel .item.small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__variant-panel .item.swatch-button {
  box-sizing: border-box;
  background: #fbfbfb;
}
.MLK__variant-panel .item.swatch-button > span {
  display: inline-block;
  margin: 6px;
  width: calc(100% - 12px);
  height: calc(100% - 12px);
  border-radius: 50%;
}
.MLK__variant-panel .item.swatch-button:hover {
  background: #f0f0f0;
}
.MLK__variant-panel .item.swatch-button:hover > span {
  border-radius: 2px;
}
.MLK__variant-panel .item.box > div,
.MLK__variant-panel .item.box > span {
  border: 1px dashed rgba(0, 0, 0, 0.24);
}
.MLK__variant-panel .item .warning {
  min-height: 60px;
  min-width: 60px;
  background: #cd0030;
  color: white;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 5px;
}
.MLK__variant-panel .item .warning.is-pressed,
.MLK__variant-panel .item .warning.is-active {
  background: red;
}
.MLK__variant-panel .item .warning svg.svg-glyph {
  width: var(--_keycap-glyph-size-xl);
  height: var(--_keycap-glyph-size-xl);
}
.MLK__variant-panel .item aside {
  font-size: var(--_variant-keycap-aside-font-size);
  line-height: 12px;
  opacity: 0.78;
  padding-top: 2px;
  width: 100%;
  text-align: center;
  text-wrap: wrap;
}
.MLK__keycap {
  position: relative;
}
.MLK__shift {
  display: block;
  position: absolute;
  right: 4px;
  top: 4px;
  font-size: var(--_keycap-shift-font-size);
  color: var(--_keycap-shift-color);
}
.hide-shift .MLK__shift {
  display: none;
}
@media (max-width: 414px) {
  .MLK__variant-panel {
    max-width: 350px;
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
/* @xs breakpoint: iPhone 5 */
@container (max-width: 414px) {
  .MLK__rows {
    --_keycap-gap: max(var(--_keycap-gap, 2px), 2px);
    --_keycap-height: max(var(--_keycap-height), 42px);
    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width)), 10cqw), 62px));
  }
  .MLK__toolbar > div > div {
    font-size: 100%;
    margin-left: 2px;
    margin-right: 2px;
  }
  .MLK__rows .shift,
  .MLK__rows .action {
    font-size: 65%;
  }
  .MLK__rows .warning svg.svg-glyph {
    width: 14px;
    height: 14px;
    min-height: 14px;
  }
}
@container (max-width: 744px) {
  .MLK__rows {
    --_keycap-gap: max(var(--keycap-gap, 2px), 2px);
    --_keycap-height: max(var(--keycap-height, 52px), 52px);
    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width), 10cqw), 62px));
  }
  .MLK__toolbar > div > div {
    padding-left: 0;
    padding-right: 0;
  }
  .MLK__tooltip::after {
    padding: 8px 16px;
    font-size: 16px;
  }
  .MLK__rows > .MLK__row > div.fnbutton {
    font-size: 16px;
  }
  .MLK__rows > .MLK__row > div.bigfnbutton {
    font-size: calc(var(--_keycap-extra-small-font-size) / 1.55);
  }
  .MLK__rows > .MLK__row > div.small {
    font-size: 13px;
  }
  .MLK__rows > .MLK__row > div > aside {
    display: none;
  }
  .MLK__shift {
    display: none;
  }
}
/* Medium breakpoint: larger phones */
@container (max-width: 768px) {
  .MLK__rows {
    --_keycap-height: max(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .MLK__row > div > small {
    font-size: 14px;
  }
}
@media (max-height: 768px) {
  .MLK__rows {
    --_keycap-height: max(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .MLK__row > div > small {
    font-size: 14px;
  }
}
@container (max-width: 1444px) {
  .MLK__rows .if-wide {
    display: none;
  }
}
@media (prefers-color-scheme: dark) {
  .ML__keyboard {
    --_accent-color: var(--keyboard-accent-color, #0b5c9c);
    --_background: var(--keyboard-background, #151515);
    --_border: var(--keyboard-border, transparent);
    --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
    --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
    --keyboard-toolbar-background-hover: #303030;
    --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
    --_keycap-background: var(--keycap-background, #1f2022);
    --_keycap-background-hover: var(--keycap-background-hover, #2f3032);
    --_keycap-border: var(--_keycap-border, transparent);
    --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
    --_keycap-text: var(--keycap-text, #e3e4e8);
    --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
    --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
    --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
    --keycap-secondary-border: transparent;
    --keycap-secondary-border-bottom: transparent;
    --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
    --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
    --_variant-panel-background: var(--variant-panel-background, #303030);
    --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
  }
}
/* Same as the media query, but with a class */
[theme='dark'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0b5c9c);
  --_background: var(--keyboard-background, #151515);
  --_border: var(--keyboard-border, transparent);
  --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
  --keyboard-toolbar-background-hover: #303030;
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
  --_keycap-background: var(--keycap-background, #1f2022);
  --_keycap-background-hover: var(--keycap-background-hover, #2f3032);
  --_keycap-border: var(--_keycap-border, transparent);
  --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
  --_keycap-text: var(--keycap-text, #e3e4e8);
  --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
  --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
  --keycap-secondary-border: transparent;
  --keycap-secondary-border-bottom: transparent;
  --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
  --_variant-panel-background: var(--variant-panel-background, #303030);
  --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
}
[theme='light'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, white);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--_keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--_keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_variant-panel-background: var(--variant-panel-background, #f0f0f0);
  --_variant-keycap-text: var(--variant-keycap-textvar, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
}
`,xle=`:host {
  --primary-color: #5898ff;
  --primary-color-dimmed: #c0c0f0;
  --primary-color-dark: var(--blue-500);
  --primary-color-light: var(--blue-100);
  --primary-color-reverse: #ffffff;
  --secondary-color: #ff8a65;
  --secondary-color-dimmed: #f0d5c5;
  --secondary-color-dark: var(--orange-500);
  --secondary-color-light: var(--orange-100);
  --secondary-color-reverse: #ffffff;
  --link-color: #5898ff;
  --link-color-dimmed: #c5c5c5;
  --link-color-dark: #121212;
  --link-color-light: #e2e2e2;
  --link-color-reverse: #ffffff;
  --semantic-blue: var(--blue-700);
  --semantic-red: var(--red-400);
  --semantic-orange: var(--orange-400);
  --semantic-green: var(--green-700);
  --neutral-100: #f5f5f5;
  --neutral-200: #eeeeee;
  --neutral-300: #e0e0e0;
  --neutral-400: #bdbdbd;
  --neutral-500: #9e9e9e;
  --neutral-600: #757575;
  --neutral-700: #616161;
  --neutral-800: #424242;
  --neutral-900: #212121;
  --red-25: #fff8f7;
  --red-50: #fff1ef;
  --red-100: #ffeae6;
  --red-200: #ffcac1;
  --red-300: #ffa495;
  --red-400: #ff7865;
  --red-500: #f21c0d;
  --red-600: #e50018;
  --red-700: #d30024;
  --red-800: #bd002c;
  --red-900: #a1002f;
  --orange-25: #fffbf8;
  --orange-50: #fff7f1;
  --orange-100: #fff3ea;
  --orange-200: #ffe1c9;
  --orange-300: #ffcca2;
  --orange-400: #ffb677;
  --orange-500: #fe9310;
  --orange-600: #f58700;
  --orange-700: #ea7c00;
  --orange-800: #dc6d00;
  --orange-900: #ca5b00;
  --brown-25: #fff8ef;
  --brown-50: #fff1df;
  --brown-100: #ffe9ce;
  --brown-200: #ebcca6;
  --brown-300: #cdaf8a;
  --brown-400: #af936f;
  --brown-500: #856a47;
  --brown-600: #7f5e34;
  --brown-700: #78511f;
  --brown-800: #6e4200;
  --brown-900: #593200;
  --yellow-25: #fffdf9;
  --yellow-50: #fffcf2;
  --yellow-100: #fffaec;
  --yellow-200: #fff2ce;
  --yellow-300: #ffe8ab;
  --yellow-400: #ffdf85;
  --yellow-500: #ffcf33;
  --yellow-600: #f1c000;
  --yellow-700: #dfb200;
  --yellow-800: #c9a000;
  --yellow-900: #ad8a00;
  --lime-25: #f4ffee;
  --lime-50: #e9ffdd;
  --lime-100: #ddffca;
  --lime-200: #a8fb6f;
  --lime-300: #94e659;
  --lime-400: #80d142;
  --lime-500: #63b215;
  --lime-600: #45a000;
  --lime-700: #268e00;
  --lime-800: #007417;
  --lime-900: #005321;
  --green-25: #f5fff5;
  --green-50: #ebffea;
  --green-100: #e0ffdf;
  --green-200: #a7ffa7;
  --green-300: #5afa65;
  --green-400: #45e953;
  --green-500: #17cf36;
  --green-600: #00b944;
  --green-700: #00a34a;
  --green-800: #008749;
  --green-900: #00653e;
  --teal-25: #f3ffff;
  --teal-50: #e6fffe;
  --teal-100: #d9fffe;
  --teal-200: #8dfffe;
  --teal-300: #57f4f4;
  --teal-400: #43e5e5;
  --teal-500: #17cfcf;
  --teal-600: #00c2c0;
  --teal-700: #00b5b1;
  --teal-800: #00a49e;
  --teal-900: #009087;
  --cyan-25: #f7fcff;
  --cyan-50: #eff8ff;
  --cyan-100: #e7f5ff;
  --cyan-200: #c2e6ff;
  --cyan-300: #95d5ff;
  --cyan-400: #61c4ff;
  --cyan-500: #13a7ec;
  --cyan-600: #069eda;
  --cyan-700: #0095c9;
  --cyan-800: #0088b2;
  --cyan-900: #0a7897;
  --blue-25: #f7faff;
  --blue-50: #eef5ff;
  --blue-100: #e5f1ff;
  --blue-200: #bfdbff;
  --blue-300: #92c2ff;
  --blue-400: #63a8ff;
  --blue-500: #0d80f2;
  --blue-600: #0077db;
  --blue-700: #006dc4;
  --blue-800: #0060a7;
  --blue-900: #005086;
  --indigo-25: #f8f7ff;
  --indigo-50: #f1efff;
  --indigo-100: #eae7ff;
  --indigo-200: #ccc3ff;
  --indigo-300: #ac99ff;
  --indigo-400: #916aff;
  --indigo-500: #63c;
  --indigo-600: #5a21b2;
  --indigo-700: #4e0b99;
  --indigo-800: #3b0071;
  --indigo-900: #220040;
  --purple-25: #fbf7ff;
  --purple-50: #f8f0ff;
  --purple-100: #f4e8ff;
  --purple-200: #e4c4ff;
  --purple-300: #d49aff;
  --purple-400: #c36aff;
  --purple-500: #a219e6;
  --purple-600: #9000c4;
  --purple-700: #7c009f;
  --purple-800: #600073;
  --purple-900: #3d0043;
  --magenta-25: #fff8fb;
  --magenta-50: #fff2f6;
  --magenta-100: #ffebf2;
  --magenta-200: #ffcddf;
  --magenta-300: #ffa8cb;
  --magenta-400: #ff7fb7;
  --magenta-500: #eb4799;
  --magenta-600: #da3689;
  --magenta-700: #c82179;
  --magenta-800: #b00065;
  --magenta-900: #8a004c;
}
@media (prefers-color-scheme: dark) {
  :host {
    --semantic-blue: var(--blue-700);
    --semantic-red: var(--red-400);
    --semantic-orange: var(--orange-400);
    --semantic-green: var(--green-700);
    --semantic-bg-blue: var(--blue-25);
    --semantic-bg-red: var(--red-25);
    --semantic-bg-orange: var(--orange-25);
    --semantic-bg-green: var(--green-25);
    --neutral-100: #121212;
    --neutral-200: #424242;
    --neutral-300: #616161;
    --neutral-400: #757575;
    --neutral-500: #9e9e9e;
    --neutral-600: #bdbdbd;
    --neutral-700: #e0e0e0;
    --neutral-800: #eeeeee;
    --neutral-900: #f5f5f5;
  }
}
:host([theme='dark']) {
  --semantic-blue: var(--blue-700);
  --semantic-red: var(--red-400);
  --semantic-orange: var(--orange-400);
  --semantic-green: var(--green-700);
  --semantic-bg-blue: var(--blue-25);
  --semantic-bg-red: var(--red-25);
  --semantic-bg-orange: var(--orange-25);
  --semantic-bg-green: var(--green-25);
  --neutral-100: #121212;
  --neutral-200: #424242;
  --neutral-300: #616161;
  --neutral-400: #757575;
  --neutral-500: #9e9e9e;
  --neutral-600: #bdbdbd;
  --neutral-700: #e0e0e0;
  --neutral-800: #eeeeee;
  --neutral-900: #f5f5f5;
}
/* @media (prefers-color-scheme: dark) {
  :host {
      --label-color: #fff;
      --active-label-color: #000;
      --menu-bg: #525252;
      --active-bg: #5898ff;
      --active-bg-dimmed: #5c5c5c;
  }
} */
:host {
  --ui-font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
  --ui-font-size: 14px;
  --ui-line-height: 1.5;
  --ui-letter-spacing: 0.007em;
  --mono-font-family: 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono', 'Source Code Pro', Menlo, Monaco, 'Courier New', monospace;
  --ui-layer-1: var(--neutral-100);
  --ui-layer-2: var(--neutral-200);
  --ui-layer-3: var(--neutral-300);
  --ui-layer-4: var(--neutral-400);
  --ui-layer-5: var(--neutral-500);
  --ui-layer-6: var(--neutral-600);
  --ui-border-color: var(--primary-color);
  --ui-border-radius: 4px;
  --ui-text: var(--neutral-900);
  --ui-text-secondary: var(--neutral-700);
  --ui-text-placeholder: var(--neutral-500);
  --ui-text-muted: var(--neutral-300);
  /** A field is a UI element in which a user can type data, for
  * example an input or textarea element.
  */
  --ui-field-bg: var(--neutral-100);
  --ui-field-bg-hover: var(--neutral-100);
  --ui-field-bg-disabled: var(--neutral-300);
  --ui-field-bg-invalid: var(--red-100);
  --ui-field-bg-focus: var(--neutral-100);
  --ui-field-border: 0.5px solid var(--border-color);
  --ui-field-border-hover: 0.5px solid var(--border-color);
  --ui-field-border-disabled: 0.5px solid var(--border-color);
  --ui-field-border-invalid: 0.5px solid var(--border-color);
  --ui-field-border-focus: 0.5px solid var(--border-color);
  --ui-menu-bg: var(--neutral-100);
  --ui-menu-text: var(--neutral-900);
  --ui-menu-bg-hover: var(--neutral-200);
  --ui-menu-text-hover: var(--neutral-900);
  /** The \`active\` state is used for the state of menu items
  * when they are selected.
  */
  --ui-menu-bg-active: var(--primary-color);
  --ui-menu-text-active: var(--primary-color-reverse);
  /** The \`active-muted\` set is used for the state of
  * submenus when they are open.
  */
  --ui-menu-bg-active-muted: var(--neutral-300);
  --ui-menu-text-active-muted: var(--neutral-900);
  /* --ui-menu-shadow: 0 1px 2px 0 rgba(60, 64, 67, 0.302),
0 2px 6px 2px rgba(60, 64, 67, 0.149); */
  --ui-menu-shadow: 0 0 2px rgba(0, 0, 0, 0.5), 0 0 20px rgba(0, 0, 0, 0.2);
  --ui-menu-divider: 0.5px solid #c7c7c7;
  /* var(--neutral-300); */
  --ui-menu-z-index: 10000;
  --page-bg: var(--neutral-100);
  --content-bg: var(--neutral-200);
}
@media (prefers-color-scheme: dark) {
  :host {
    --ui-menu-bg: var(--neutral-200);
  }
}
:host([theme='dark']) {
  --ui-menu-bg: var(--neutral-200);
}
/* PingFang SC is a macOS font. Microsoft Yahei is a Windows font. 
  Noto  is a Linux/Android font.
*/
:lang(zh-cn),
:lang(zh-sg),
:lang(zh-my),
:lang(zh) {
  --ui-font-family: -apple-system, system-ui, 'PingFang SC', 'Hiragino Sans GB', 'Noto Sans CJK SC', 'Noto Sans SC', 'Noto Sans', 'Microsoft Yahei UI', 'Microsoft YaHei New', 'Microsoft Yahei', '微软雅黑', SimSun, '宋体', STXihei, '华文细黑', sans-serif;
}
:lang(zh-tw),
:lang(zh-hk),
:lang(zh-mo) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans', 'Microsoft JhengHei UI', 'Microsoft JhengHei', '微軟正黑體', '新細明體', 'PMingLiU', '細明體', 'MingLiU', sans-serif;
}
:lang(ja),
:lang(ja-jp),
:lang(ja-jp-mac) {
  --ui-font-family: -apple-system, system-ui, 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Noto Sans CJK JP', 'Noto Sans JP', 'Noto Sans', '游ゴシック', '游ゴシック体', YuGothic, 'Yu Gothic', 'メイリオ', Meiryo, 'ＭＳ Ｐゴシック', 'MS PGothic', sans-serif;
}
:lang(ko),
:lang(ko-kr),
:lang(ko-kr-std) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR', 'Noto Sans', 'Malgun Gothic', '맑은 고딕', 'Apple SD Gothic Neo', '애플 SD 산돌고딕 Neo', 'Apple SD 산돌고딕 Neo', '돋움', Dotum, sans-serif;
}
:lang(ko-kr-apple) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR', 'Noto Sans', 'Apple SD Gothic Neo', '애플 SD 산돌고딕 Neo', 'Apple SD 산돌고딕 Neo', '돋움', Dotum, sans-serif;
}
:lang(zh-cn),
:lang(zh-sg),
:lang(zh-my),
:lang(zh),
:lang(zh-tw),
:lang(zh-hk),
:lang(zh-mo),
:lang(ja),
:lang(ja-jp),
:lang(ja-jp-mac),
:lang(ko),
:lang(ko-kr),
:lang(ko-kr-std),
:lang(ko-kr-apple) {
  --ui-font-size: 1rem;
  --ui-line-height: 1.7;
  --ui-letter-spacing: 0;
}
:dir(rtl) {
  --ui-line-height: auto;
  --ui-letter-spacing: 0;
}
`,_le=`.ui-menu *,
.ui-menu ::before,
.ui-menu ::after {
  box-sizing: border-box;
}
.ui-menu {
  display: none;
  color-scheme: light dark;
  -webkit-user-select: none;
  /* Important: Safari iOS doesn't respect user-select */
  user-select: none;
  cursor: default;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: rgba(0 0 0 0);
  --active-label-color: #fff;
  /* ui-menu-text-active */
  --label-color: #121212;
  /* ui-menu-text */
  --menu-bg: #e2e2e2;
  /* ui-menu-background */
  --active-bg: #5898ff;
  /* ui-menu-background-active */
  --active-bg-dimmed: #c5c5c5;
  /* ui-menu-background-active-muted */
}
/** Use the :where pseudo selector to make the specificity of the
 * selector 0, so that it can be overridden by the user.
 */
:where(.ui-menu-container) {
  position: absolute;
  overflow: visible;
  width: auto;
  height: auto;
  z-index: 10000;
  border-radius: 8px;
  background: var(--ui-menu-bg);
  box-shadow: var(--ui-menu-shadow);
  list-style: none;
  padding: 6px 0 6px 0;
  margin: 0;
  user-select: none;
  cursor: default;
  color: var(--ui-menu-text);
  font-weight: normal;
  font-style: normal;
  text-shadow: none;
  text-transform: none;
  letter-spacing: 0;
  outline: none;
  opacity: 1;
  /* The [popover] elements have a 1px solid black border. Ugh. */
  border: none;
  width: fit-content;
  height: fit-content;
}
:where(.ui-menu-container > li) {
  display: flex;
  flex-flow: row;
  align-items: center;
  padding: 1px 7px 1px 7px;
  margin-top: 0;
  margin-left: 6px;
  margin-right: 6px;
  border-radius: 4px;
  white-space: nowrap;
  position: relative;
  outline: none;
  fill: currentColor;
  user-select: none;
  cursor: default;
  text-align: left;
  color: inherit;
  font-family: var(--ui-font-family);
  font-size: var(--ui-font-size);
  line-height: var(--ui-line-height);
  letter-spacing: var(--ui-letter-spacing);
}
:where(.ui-menu-container > li > .label) {
  display: flex;
  align-items: center;
  justify-content: space-between;
  appearance: none;
  background: none;
  outline: none;
  width: 100%;
  margin: 0;
  padding: 1px 2px 1px 1px;
  overflow: visible;
  border: 1px solid transparent;
  white-space: nowrap;
  text-align: start;
  align-content: center;
}
:where(.ui-menu-container > li:has(.heading)) {
  margin-top: 0.5em;
}
:where(.ui-menu-container > li > .label.heading) {
  font-weight: bold;
  opacity: 0.4;
}
:where(.ui-menu-container > li.indent > .label) {
  margin-inline-start: 12px;
}
:where(.ui-menu-container > li > .label.indent) {
  margin-inline-start: 12px;
}
:where(.ui-menu-container > li[role='divider']) {
  border-bottom: 1px solid var(--ui-menu-divider);
  border-radius: 0;
  padding: 0;
  margin-left: 15px;
  margin-right: 15px;
  padding-top: 5px;
  margin-bottom: 5px;
  width: calc(100% - 30px);
  /** 100% - (margin-left + margin-right) */
}
:where(.ui-menu-container > li[aria-disabled='true']) {
  opacity: 0.5;
}
:where(.ui-menu-container > li.active) {
  background: var(--ui-menu-bg-active);
  background: -apple-system-control-accent;
  color: var(--ui-menu-text-active);
}
:where(.ui-menu-container > li.active.is-submenu-open) {
  background: var(--ui-menu-bg-active-muted);
  color: inherit;
}
:where(.ui-menu-container > li[aria-haspopup='true'] > .label) {
  padding-inline-end: 0;
}
:where(.ui-menu-container > li[aria-haspopup='true'].active::after) {
  color: var(--ui-menu-text-active);
}
/** Keyboard shortcut */
:where(.ui-menu-container > li > kbd) {
  font-family: var(--ui-font-family);
  margin-inline-start: 12px;
  opacity: 0.4;
}
:where(.ui-menu-container > li.active > kbd) {
  opacity: 0.85;
}
.ui-trailing-chevron {
  display: flex;
  margin-inline-start: 24px;
  width: 10px;
  height: 10px;
  margin-bottom: 4px;
}
.ui-trailing-chevron:dir(rtl) {
  transform: scaleX(-1);
}
.ui-checkmark {
  display: flex;
  margin-inline-end: -11px;
  margin-inline-start: -4px;
  margin-top: 2px;
  width: 16px;
  height: 16px;
}
.ui-mixedmark {
  display: flex;
  margin-inline-end: -11px;
  margin-inline-start: -4px;
  margin-top: 2px;
  width: 16px;
  height: 16px;
}
`,iu;function lu(t){let e="";switch(t){case"mathfield-element":e=`
    :host { display: inline-block; background-color: field; color: fieldtext; border-width: 1px; border-style: solid; border-color: #acacac; border-radius: 2px;}
    :host([hidden]) { display: none; }
    :host([disabled]), :host([disabled]:focus), :host([disabled]:focus-within) { outline: none; opacity:  .5; }
    :host(:focus), :host(:focus-within) {
      outline: Highlight auto 1px;    /* For Firefox */
      outline: -webkit-focus-ring-color auto 1px;
    }
    :host([readonly]:focus), :host([readonly]:focus-within),
    :host([read-only]:focus), :host([read-only]:focus-within) {
      outline: none;
    }`;break;case"core":e=mle;break;case"mathfield":e=fle;break;case"environment-popover":e=gle;break;case"suggestion-popover":e=yle;break;case"keystroke-caption":e=vle;break;case"virtual-keyboard":e=ble;break;case"ui":e=xle;break;case"menu":e=_le;break}return e}function Ac(t){return iu||(iu={}),iu[t]||(iu[t]=new CSSStyleSheet,iu[t].replaceSync(lu(t))),iu[t]}var Ua;function gl(t){var e;try{if(!("adoptedStyleSheets"in document)){if(window.document.getElementById(`mathlive-style-${t}`))return;let r=window.document.createElement("style");r.id=`mathlive-style-${t}`,r.append(window.document.createTextNode(lu(t))),window.document.head.appendChild(r);return}if(Ua||(Ua={}),((e=Ua[t])!=null?e:0)!==0)Ua[t]+=1;else{let r=Ac(t);document.adoptedStyleSheets=[...document.adoptedStyleSheets,r],Ua[t]=1}}catch(r){console.error("Error injecting stylesheet",t,r)}}function yl(t){if("adoptedStyleSheets"in document&&Ua!=null&&Ua[t]&&(Ua[t]-=1,Ua[t]<=0)){let e=iu[t];document.adoptedStyleSheets=document.adoptedStyleSheets.filter(r=>r!==e)}}var D2=class HB extends ue{constructor(e){var r;super(Z(q({},e),{type:"accent",body:(r=e.body)!=null?r:void 0})),e.accentChar?this.accent=e.accentChar:this.svgAccent=e==null?void 0:e.svgAccent,this.skipBoundary=!0,this.captureSelection=!0}static fromJson(e){return new HB(e)}toJson(){return Z(q({},super.toJson()),{accentChar:this.accent,svgAccent:this.svgAccent})}render(e){var r;let i=new Pt({parent:e,mathstyle:"cramp"},this.style),n=(r=ue.createBox(i,this.body))!=null?r:new Ae("▢",{style:this.style}),s=0;!this.hasEmptyBranch("body")&&this.body.length===2&&this.body[1].isCharacterBox()&&(s=n.skew);let a=Math.min(n.height,ol),o;if(this.svgAccent)o=n1(this.svgAccent),a=i.metrics.bigOpSpacing1-a;else if(this.accent){let u=new Ae(this.accent,{fontFamily:"Main-Regular"});u.italic=0;let c=this.accent===8407||this.accent===8411||this.accent===8412?" ML__accent-combining-char":"";o=new Ae(u,{classes:"ML__accent-body"+c})}o=new zr({shift:0,children:[{box:new Ae(n)},-a,{box:o,marginLeft:n.left+2*s,classes:["ML__center"]}]});let l=new Ae(o,{type:"lift"});return this.caret&&(l.caret=this.caret),this.bind(i,l.wrap(i)),this.attachSupsub(i,{base:l})}},L2={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},cg=Object.fromEntries(Object.entries(L2).map(([t,e])=>[e,t]));function B2(t){var e;return(e={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"∣":8739,"∥":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[t])!=null?e:t.codePointAt(0)}function wle(t,e,r,i){var n;let s=new Ae(B2(t),{fontFamily:"Main-Regular",isSelected:i.isSelected,classes:"ML__small-delim "+((n=i.classes)!=null?n:"")}).wrap(e);return r&&s.setTop((1-e.scalingFactor)*Ts),s}function KB(t,e,r,i,n){var s,a;let o=new Pt({parent:i,mathstyle:"textstyle"},n==null?void 0:n.style),l=new Ae(B2(t),{fontFamily:`Size${e}-Regular`,isSelected:n.isSelected,classes:((s=n.classes)!=null?s:"")+` ML__delim-size${e}`,type:(a=n.type)!=null?a:"ignore"}).wrap(o);return r&&l.setTop((1-o.scalingFactor)*Ts),l}function WB(t,e,r,i,n){var s;let a,o,l,u;a=l=u=B2(t),o=null;let c="Size1-Regular";t==="\\vert"||t==="\\lvert"||t==="\\rvert"||t==="\\mvert"||t==="\\mid"?l=a=u=8739:t==="\\Vert"||t==="\\lVert"||t==="\\rVert"||t==="\\mVert"||t==="\\|"?l=a=u=8741:t==="\\uparrow"?l=u=9168:t==="\\Uparrow"?l=u=8214:t==="\\downarrow"?a=l=9168:t==="\\Downarrow"?a=l=8214:t==="\\updownarrow"?(a=8593,l=9168,u=8595):t==="\\Updownarrow"?(a=8657,l=8214,u=8659):t==="["||t==="\\lbrack"?(a=9121,l=9122,u=9123,c="Size4-Regular"):t==="]"||t==="\\rbrack"?(a=9124,l=9125,u=9126,c="Size4-Regular"):t==="\\lfloor"||t==="⌊"?(l=a=9122,u=9123,c="Size4-Regular"):t==="\\lceil"||t==="⌈"?(a=9121,l=u=9122,c="Size4-Regular"):t==="\\rfloor"||t==="⌋"?(l=a=9125,u=9126,c="Size4-Regular"):t==="\\rceil"||t==="⌉"?(a=9124,l=u=9125,c="Size4-Regular"):t==="("||t==="\\lparen"?(a=9115,l=9116,u=9117,c="Size4-Regular"):t===")"||t==="\\rparen"?(a=9118,l=9119,u=9120,c="Size4-Regular"):t==="\\{"||t==="\\lbrace"?(a=9127,o=9128,u=9129,l=9130,c="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(a=9131,o=9132,u=9133,l=9130,c="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(a=9127,u=9129,l=9130,c="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(a=9131,u=9133,l=9130,c="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(a=9127,u=9133,l=9130,c="Size4-Regular"):t==="\\rmoustache"||t==="⎱"?(a=9131,u=9129,l=9130,c="Size4-Regular"):t==="\\surd"?(a=57345,u=9143,l=57344,c="Size4-Regular"):t==="\\ulcorner"?(a=9484,l=u=32):t==="\\urcorner"?(a=9488,l=u=32):t==="\\llcorner"?(u=9492,l=a=32):t==="\\lrcorner"&&(a=9496,l=a=32);let d=Oc(a,c),h=d.height+d.depth,f=Oc(l,c),g=f.height+f.depth,y=Oc(u,c),C=y.height+y.depth,S=0,A=1;if(o!==null){let re=Oc(o,c);S=re.height+re.depth,A=2}let T=h+C+S,M=Math.max(0,Math.ceil((e-T)/(A*g))),D=T+M*A*g,B=Ts;r&&(B=B*i.scalingFactor);let F=D/2-B,V=.008,O=[];O.push({box:new Ae(u,{fontFamily:c})}),O.push(-V);let U=new Ae(l,{fontFamily:c});if(o===null)for(let re=0;re<M;re++)O.push({box:U});else{for(let re=0;re<M;re++)O.push({box:U});O.push(-V),O.push({box:new Ae(o,{fontFamily:c})}),O.push(-V);for(let re=0;re<M;re++)O.push({box:U})}O.push(-V),O.push({box:new Ae(a,{fontFamily:c})});let J="";c==="Size1-Regular"?J=" delim-size1":c==="Size4-Regular"&&(J=" delim-size4");let Y=new zr({bottom:F,children:O},{classes:J});return new Ae(Y,Z(q({},n??{}),{classes:((s=n==null?void 0:n.classes)!=null?s:"")+" ML__delim-mult"}))}var GB=new Set(["(",")","\\lparen","\\rparen","[","]","\\lbrack","\\rbrack","\\{","\\}","\\lbrace","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd","⌊","⌋","⌈","⌉"]),Sle=new Set(["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","⟮","⟯","⎰","⎱"]),XB=new Set(["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"]),Cle=[0,1.2,1.8,2.4,3];function kle(t,e,r,i){return t===void 0||t==="."?Pu(r,i.classes):(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),GB.has(t)||XB.has(t)?KB(t,e,!1,r,i):Sle.has(t)?WB(t,Cle[e],!1,r,i):null)}var Tle=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Ele=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],Ale=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function Mle(t){return t.type==="small"?"Main-Regular":t.type==="large"?"Size"+t.size+"-Regular":(t.type,"Size4-Regular")}function Dle(t,e,r,i){let n={"-4":0,"-3":1,0:2}[i.mathstyle.sizeDelta];for(let s=n;s<r.length&&r[s].type!=="stack";s++){let a=Oc(t,Mle(r[s]));if(a.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};let o=a.height+a.depth;if(r[s].type==="small"&&(r[s].mathstyle==="scriptscriptstyle"?o*=Math.max(I5[Math.max(1,i.size-2)],i.minFontScale):r[s].mathstyle==="scriptstyle"&&(o*=Math.max(I5[Math.max(1,i.size-1)],i.minFontScale))),o>e)return r[s]}return r[r.length-1]}function dg(t,e,r,i,n,s){if(!e||e.length===0||e===".")return Pu(n);e==="<"||e==="\\lt"?e="\\langle":(e===">"||e==="\\gt")&&(e="\\rangle");let a;XB.has(e)?a=Tle:GB.has(e)?a=Ale:a=Ele;let o=Dle(B2(e),r,a,n),l=new Pt({parent:n,mathstyle:o.mathstyle},s==null?void 0:s.style);return o.type==="small"?wle(e,l,i,Z(q({},s),{type:t})):o.type==="large"?KB(e,o.size,i,l,Z(q({},s),{type:t})):(o.type,WB(e,r,i,l,Z(q({},s),{type:t})))}function ep(t,e,r,i,n,s){if(e===".")return Pu(n,s==null?void 0:s.classes);let a=Ts*n.scalingFactor,o=901,l=5/k0,u=Math.max(r-a,i+a),c=Math.max(u/500*o,2*u-l);return dg(t,e,c,!0,n,s)}function Pu(t,e){let r=new Ae(null,{classes:" ML__nulldelimiter "+(e??""),type:"ignore"});return r.width=t.getRegisterAsEm("nulldelimiterspace"),r.wrap(new Pt({parent:t,mathstyle:"textstyle"}))}var fa=class YB extends ue{constructor(e){var r;super({type:"placeholder",command:"\\placeholder",mode:(r=e==null?void 0:e.mode)!=null?r:"math",style:e==null?void 0:e.style}),this.captureSelection=!0}static fromJson(e){return new YB(e)}toJson(){return super.toJson()}render(e){let r;return this.value=e.placeholderSymbol,typeof e.renderPlaceholder=="function"?r=e.renderPlaceholder(e):r=this.createBox(e),this.caret&&(r.classes+=" ML__placeholder-selected"),r}_serialize(e){return e.skipPlaceholders?"":"\\placeholder{}"}},ZB=["matrix","matrix*","pmatrix","pmatrix*","bmatrix","bmatrix*","Bmatrix","Bmatrix*","vmatrix","vmatrix*","Vmatrix","Vmatrix*"],q5=["cases","dcases","rcases"],JB=["align","align*","aligned","gather","gather*","gathered","split"],Lle=["array","subequations","eqnarray"];function Ble(t){return JB.includes(t)||q5.includes(t)||q5.includes(t)||ZB.includes(t)||Lle.includes(t)}function QB(t){return ZB.includes(t)}function Ple(t){return q5.includes(t)}function Ile(t){return JB.includes(t)}function Rle(t,e,r){let i=0;for(let u of r.columns)"align"in u&&(i+=1);i=Math.max(i,r.minColumns);let n=0,s=[];for(let u of e){n=Math.max(n,Math.min(u.length,i));let c=0;for(;c<u.length;){let d=[],h=Math.min(u.length,c+i);for(;c<h;)d.push(Ole(u[c],t.mode)),c+=1;if(d.length<r.minColumns)for(;d.length<r.minColumns;)d.push([new ue({type:"first",mode:t.mode})]);s.push(d)}}!t.isMultiline&&s.length>0&&s[s.length-1].length===1&&Fle(s[s.length-1][0])&&s.pop();let a=[];for(let u of s){if(u.length!==n)for(let c=u.length;c<n;c++)t.isMultiline?u.push([new ue({type:"first",mode:t.mode})]):u.push([new ue({type:"first",mode:t.mode}),new fa]);a.push(u)}let o=0,l=0;for(let u of a){l=0;for(let c of u){for(let d of c)d.parent=t,d.parentBranch=[o,l];l+=1}o+=1}return t.isDirty=!0,a}function Ole(t,e){return t.length===0?[new ue({type:"first",mode:e})]:t[0].type!=="first"?[new ue({type:"first",mode:e}),...t]:(t.slice(1).some(r=>r.type==="first"),t)}function Fle(t){return t.length===1&&t[0].type==="first"}var Tt=class eP extends ue{get isMultiline(){let e=this.environmentName;return["lines","multline","multline*","align","split","gather","gathered"].includes(e)}constructor(e,r,i,n={}){var s,a,o,l;if(super({type:"array",isRoot:n.isRoot}),this.environmentName=e,n.columns)n.columns.length===0?this.colFormat=[{align:"l"}]:this.colFormat=[...n.columns];else if(n.minColumns){let u=[];for(let c=0;c<n.minColumns;c++)u.push({align:"l"});this.colFormat=u}else this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}];this.minColumns=(s=n.minColumns)!=null?s:1,this.minRows=(a=n.minRows)!=null?a:1,this.maxRows=(o=n.maxRows)!=null?o:1/0,this._rows=Rle(this,r,{columns:this.colFormat,minColumns:this.minColumns,minRows:this.minRows,maxRows:this.maxRows}),this.rowGaps=i,n.arraycolsep!==void 0&&(this.arraycolsep=n.arraycolsep),this.colSeparationType=n.colSeparationType,n.arraystretch!==void 0&&(this.arraystretch=n.arraystretch),n.mathstyleName&&(this.mathstyleName=n.mathstyleName),n.leftDelim&&(this.leftDelim=n.leftDelim),n.rightDelim&&(this.rightDelim=n.rightDelim),this.classes=(l=n.classes)!=null?l:[]}static fromJson(e){return new eP(e.environmentName,e.array,e.rowGaps,e)}toJson(){let e=Z(q({},super.toJson()),{environmentName:this.environmentName,array:this._rows.map(r=>r.map(i=>i.map(n=>n.toJson()))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType,minColumns:this.minColumns,minRows:this.minRows,maxRows:this.maxRows});return this.arraystretch!==void 0&&(e.arraystretch=this.arraystretch),this.arraycolsep!==void 0&&(e.arraycolsep=this.arraycolsep),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.isRoot&&(e.isRoot=!0),e.minColumns=this.minColumns,e.minRows=this.minRows,e.maxRows=this.maxRows,this.mathstyleName&&(e.mathstyleName=this.mathstyleName),this.classes.length>0&&(e.classes=this.classes),e}branch(e){var r;if(no(e))return(r=this._rows[e[0]][e[1]])!=null?r:void 0}createBranch(e){var r;return no(e)?(this.isDirty=!0,(r=this.branch(e))!=null?r:[]):[]}get rowCount(){return this._rows.length}get colCount(){return this._rows[0].length}get maxColumns(){return this.colFormat.filter(e=>!!e.align).length}removeBranch(e){if(ru(e))return super.removeBranch(e);let[r,...i]=this.branch(e);return r.type,this._rows[e[0]][e[1]]=void 0,i.forEach(n=>{n.parent=void 0,n.parentBranch=void 0}),this.isDirty=!0,i}get hasChildren(){return this.children.length>0}get children(){let e=[];for(let r of this._rows)for(let i of r)if(i)for(let n of i)e.push(...n.children),e.push(n);return[...e,...super.children]}render(e){var r,i,n,s,a,o;let l=new Pt({parent:e,mathstyle:this.mathstyleName},this.style),u=l.getRegisterAsEm("arrayrulewidth"),c=l.getRegisterAsEm("arraycolsep"),d=l.getRegisterAsEm("doublerulesep"),h=(i=(r=this.arraystretch)!=null?r:l.getRegisterAsNumber("arraystretch"))!=null?i:1,f=typeof this.arraycolsep=="number"?this.arraycolsep:c;this.colSeparationType==="small"&&(f=.2778*(new Pt({parent:e,mathstyle:"scriptstyle"}).scalingFactor/e.scalingFactor));let g=h*Ioe,y=.7*g,C=.3*g,S=0,A=[],T=0,M=this._rows.length;for(let me=0;me<M;++me){let be=this._rows[me];T=Math.max(T,be.length);let ot=new Pt({parent:l,mathstyle:this.mathstyleName},this.style),vt=y/ot.scalingFactor,$e=C/ot.scalingFactor,Je={cells:[],height:0,depth:0,pos:0};for(let Ft of be){let it=(n=ue.createBox(ot,Ft,{type:"ignore"}))!=null?n:new Ae(null,{type:"ignore"});$e=Math.max($e,it.depth),vt=Math.max(vt,it.height),Je.cells.push(it)}let rt=(s=BB(this.rowGaps[me]))!=null?s:0;rt>0&&(rt+=C,$e=Math.max($e,rt),rt=0),me<M-1&&!QB(this.environmentName)&&this.environmentName!=="cases"&&this.environmentName!=="array"&&($e+=l.getRegisterAsEm("jot")),Je.height=vt,Je.depth=$e,S+=vt,Je.pos=S,S+=$e+rt,A.push(Je)}let D=S/2+Ts,B=[];for(let me=0;me<T;me++){let be=[];for(let ot of A){let vt=ot.cells[me];vt&&(vt.depth=ot.depth,vt.height=ot.height,be.push({box:vt,shift:ot.pos-D}))}be.length>0&&B.push(new zr({individualShift:be}))}let F=[],V=!1,O=!1,U=0,J=!this.leftDelim,{colFormat:Y}=this;for(let me of Y){if("align"in me&&U>=B.length)break;if("align"in me)V?F.push(Dm(2*f)):(O||J)&&F.push(Dm(f)),F.push(new Ae(B[U],{classes:"col-align-"+me.align})),U++,V=!0,O=!1,J=!1;else if("gap"in me){if(typeof me.gap=="number")F.push(Dm(me.gap));else{let be=Nle(e,A,D,me.gap);be&&F.push(be)}V=!1,O=!1,J=!1}else if("separator"in me){let be=new Ae(null,{classes:"ML__vertical-separator"});be.height=S,be.setStyle("height",S,"em"),be.setStyle("border-right",`${u}em ${me.separator} currentColor`),be.setStyle("vertical-align",-(S-D),"em");let ot=0;O?ot=d-u:V&&(ot=f-u),be.left=ot,F.push(be),V=!1,O=!0,J=!1}}V&&!this.rightDelim&&F.push(Dm(f));let re=new Ae(F,{classes:["ML__mtable",...this.classes].join(" ")});if((!this.leftDelim||this.leftDelim===".")&&(!this.rightDelim||this.rightDelim==="."))return this.caret&&(re.caret=this.caret),this.bind(e,re);let ce=re.height,qe=re.depth,Me=this.bind(e,new Ae([this.bind(e,ep("open",(a=this.leftDelim)!=null?a:".",ce,qe,l,{isSelected:this.isSelected})),re,this.bind(e,ep("close",(o=this.rightDelim)!=null?o:".",ce,qe,l,{isSelected:this.isSelected}))],{type:"ord"}));return Me?(Me.setStyle("display","inline-block"),this.caret&&(Me.caret=this.caret),this.bind(e,this.attachSupsub(e,{base:Me}))):null}_serialize(e){var r;let i=[];if(this.environmentName==="lines"?i.push("\\displaylines{"):i.push(`\\begin{${this.environmentName}}`),this.environmentName==="array"){if(i.push("{"),this.colFormat!==void 0)for(let n of this.colFormat)"align"in n&&typeof n.align=="string"?i.push(n.align):"separator"in n&&n.separator==="solid"?i.push("|"):"separator"in n&&n.separator==="dashed"&&i.push(":");i.push("}")}for(let n=0;n<this._rows.length;n++){for(let s=0;s<this._rows[n].length;s++)s>0&&i.push(" & "),i.push(ue.serialize(this._rows[n][s],e));if(n<this._rows.length-1){let s=this.rowGaps[n];s!=null&&s.dimension?i.push(`\\\\[${s.dimension} ${(r=s.unit)!=null?r:"pt"}] `):i.push("\\\\ ")}}return this.environmentName==="lines"?i.push("}"):i.push(`\\end{${this.environmentName}}`),kt(i)}forEachCell(e){for(let r=0;r<this.rowCount;r++)for(let i=0;i<this.colCount;i++)e(this._rows[r][i],r,i)}getCell(e,r){var i;return(i=this._rows[e])==null?void 0:i[r]}setCell(e,r,i){this.type==="array"&&Array.isArray(this._rows)&&this._rows[e][r];for(let s of this._rows[e][r])s.parent=void 0,s.parentBranch=void 0;let n=[new ue({type:"first",mode:this.mode}),...i.filter(s=>s.type!=="first")];this._rows[e][r]=n,Gl(this),this.isDirty=!0}addRowBefore(e){this.type==="array"&&Array.isArray(this._rows),this._rows.splice(e,0,new Array(this.colCount).fill(Mm(this,!this.isMultiline))),Gl(this),this.isDirty=!0}addRowAfter(e){this.type==="array"&&Array.isArray(this._rows),this._rows.splice(e+1,0,new Array(this.colCount).fill(Mm(this,!this.isMultiline))),Gl(this),this.isDirty=!0}removeRow(e){this.type==="array"&&Array.isArray(this._rows)&&this.rowCount>e;let r=this._rows.splice(e,1);for(let i of r)for(let n of i)if(n)for(let s of n)s.parent=void 0,s.parentBranch=void 0;Gl(this),this.isDirty=!0}addColumnBefore(e){this.type==="array"&&Array.isArray(this._rows);for(let r of this._rows)r.splice(e,0,Mm(this));Gl(this),this.isDirty=!0}addColumnAfter(e){this.type==="array"&&Array.isArray(this._rows);for(let r of this._rows)r.splice(e+1,0,Mm(this));Gl(this),this.isDirty=!0}addColumn(){this.addColumnAfter(this.colCount-1)}removeColumn(e){this.type==="array"&&Array.isArray(this._rows)&&this.colCount>e;for(let r of this._rows){let i=r.splice(e,1);for(let n of i)if(n)for(let s of n)s.parent=void 0,s.parentBranch=void 0}Gl(this),this.isDirty=!0}get cells(){let e=[];for(let r of this._rows)for(let i of r)i&&e.push(i.filter(n=>n.type!=="first"));return e}get rows(){return this._rows}};function Mm(t,e=!1){let r=new ue({type:"first",mode:t.mode});r.parent=t;let i=[r];if(e){let n=new fa;n.parent=t,i.push(n)}return i}function Gl(t){for(let e=0;e<t.rowCount;e++)for(let r=0;r<t.colCount;r++){let i=t.getCell(e,r);if(i)for(let n of i)n&&(n.parent=t,n.parentBranch=[e,r])}}function Dm(t){let e=new Ae(null,{classes:"ML__arraycolsep"});return e.width=t,e}function Nle(t,e,r,i){if(!i)return null;let n=[];for(let s of e){let a=ue.createBox(t,i,{type:"ignore"});a&&(a.depth=s.depth,a.height=s.height,n.push({box:a,shift:s.pos-r}))}return new zr({individualShift:n}).wrap(t)}var vl=class tP extends ue{constructor(e){super({mode:e.mode,command:e.command,style:e.style,body:e.body,type:"box"}),this.framecolor=e.framecolor,this.backgroundcolor=e.backgroundcolor,this.padding=e.padding,this.offset=e.offset,this.border=e.border}static fromJson(e){return new tP(e)}toJson(){return Z(q({},super.toJson()),{framecolor:this.framecolor,backgroundcolor:this.backgroundcolor,padding:this.padding,offset:this.offset,border:this.border})}render(e){var r,i,n,s;let a=ue.createBox(e,this.body,{type:"lift"});if(!a)return null;let o=e.toEm((r=this.offset)!=null?r:{dimension:0});a.depth+=o,a.setStyle("display","inline-block"),a.setStyle("position","relative"),a.setStyle("height",Math.floor(100*a.height+a.depth)/100,"em"),a.setStyle("vertical-align",-Math.floor(100*a.height)/100,"em");let l=new Pt({parent:e},this.style),u=l.toEm((i=this.padding)!=null?i:{register:"fboxsep"}),c=new Ae(null,{classes:"ML__box"});c.height=a.height+u,c.depth=a.depth+u,c.setStyle("box-sizing","border-box"),c.setStyle("position","absolute"),c.setStyle("top",-u+.3,"em"),c.setStyle("left",0),c.setStyle("height",c.height+c.depth,"em"),c.setStyle("width","100%"),this.backgroundcolor&&c.setStyle("background-color",(n=l.toColor(this.backgroundcolor))!=null?n:"transparent"),this.framecolor&&c.setStyle("border",`${l.getRegisterAsEm("fboxrule",2)}em solid ${(s=l.toColor(this.framecolor))!=null?s:"black"}`),this.border&&c.setStyle("border",this.border);let d=new Ae([c,a],{type:"lift"});return d.setStyle("display","inline-block"),d.setStyle("position","relative"),d.setStyle("line-height",0),d.height=a.height+u+(o>0?o:0),d.depth=a.depth+u+(o<0?-o:0),d.setStyle("padding-left",u,"em"),d.setStyle("padding-right",u,"em"),d.setStyle("height",Math.floor(100*(a.height+a.depth+2*u+Math.abs(o)))/100,"em"),d.setStyle("margin-top",-u,"em"),d.setStyle("top",Math.floor(100*(a.depth-a.height+2*u-o))/100,"em"),d.setStyle("vertical-align",Math.floor(100*(a.depth+2*u))/100,"em"),this.caret&&(d.caret=this.caret),this.attachSupsub(e,{base:d})}_serialize(e){return e.skipStyles?kt([this.bodyToLatex(e),this.supsubToLatex(e)]):super._serialize(e)}},rP=class iP extends ue{constructor(e,r){var i;super({type:"composition",mode:(i=r==null?void 0:r.mode)!=null?i:"math",value:e})}static fromJson(e){return new iP(e.value,e)}toJson(){return super.toJson()}render(e){let r=new Ae(this.value,{classes:"ML__composition",type:"composition"});return this.bind(e,r),this.caret&&(r.caret=this.caret),r}_serialize(e){return""}},nu=class nP extends ue{constructor(e){super({type:"error",value:e,command:e,mode:"math"}),this.verbatimLatex=e}static fromJson(e){return new nP(e.command)}toJson(){return super.toJson()}render(e){let r=this.createBox(e,{classes:"ML__error"});return this.caret&&(r.caret=this.caret),r}},sP=class aP extends ue{constructor(e,r){super({type:"group",mode:r}),this.body=e,this.boxType=e.length>1?"ord":"ignore",this.skipBoundary=!0,this.displayContainsHighlight=!1,e&&e.length===1&&e[0].command===","&&(this.captureSelection=!0)}static fromJson(e){return new aP(e.body,e.mode)}render(e){let r=ue.createBox(e,this.body,{type:this.boxType});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=xi(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):`{${this.bodyToLatex(e)}}`}},br=class oP extends ue{constructor(e,r,i){super({type:"leftright",style:i.style,displayContainsHighlight:!0}),this.variant=e,this.body=r,this.leftDelim=i.leftDelim,this.rightDelim=i.rightDelim}static fromJson(e){var r;return new oP((r=e.variant)!=null?r:"",e.body,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),e}_serialize(e){var r,i;let n=this.matchingRightDelim();return this.variant==="left...right"?kt(["\\left",(r=this.leftDelim)!=null?r:".",this.bodyToLatex(e),"\\right",n]):this.variant==="mleft...mright"?kt(["\\mleft",(i=this.leftDelim)!=null?i:".",this.bodyToLatex(e),"\\mright",n]):kt([!this.leftDelim||this.leftDelim==="."?"":this.leftDelim,this.bodyToLatex(e),n])}matchingRightDelim(){var e,r;if(this.rightDelim&&this.rightDelim!=="?")return this.rightDelim;let i=(e=this.leftDelim)!=null?e:".";return(r=L2[i])!=null?r:i}render(e){var r,i;let n=new Pt({parent:e},this.style);this.body;let s=new Pt({parent:e,mathstyle:"textstyle"},this.style),a=(r=ue.createBox(n,this.body,{type:"inner"}))!=null?r:new Ae(null,{type:"inner"}),o=a.height/s.scalingFactor,l=a.depth/s.scalingFactor,u=[];if(this.leftDelim&&u.push(this.bind(s,ep("open",this.leftDelim,o,l,s,{isSelected:this.isSelected,classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),a&&(lP(a.children,this,n,o,l),u.push(a)),this.rightDelim){let f=this.containsCaret?" ML__contains-caret":"",g=this.rightDelim;g==="?"&&(n.smartFence?(g=this.matchingRightDelim(),f+=" ML__smart-fence__close"):g="."),u.push(this.bind(s,ep("close",g,o,l,s,{isSelected:this.isSelected,classes:f+" ML__close",mode:this.mode,style:this.style})))}let c=this.variant==="mleft...mright",d=this.leftSibling;d&&(!c&&d.isFunction&&(c=!0),!c&&d.type==="subsup"&&(i=d.leftSibling)!=null&&i.isFunction&&(c=!0));let h=new Ae(u,{type:c?"close":"inner",classes:"ML__left-right"});return h.setStyle("margin-top",`${-a.depth}em`),h.setStyle("height",`${a.height+a.depth}em`),this.caret&&(h.caret=this.caret),this.bind(n,h.wrap(n))}};function lP(t,e,r,i,n){if(t)for(let s=0;s<t.length;s++){let a=t[s];a.type==="middle"?(t[s]=e.bind(r,ep("inner",a.value,i,n,r,{isSelected:e.isSelected})),t[s].caret=a.caret,t[s].isSelected=a.isSelected,t[s].cssId=a.cssId,t[s].htmlData=a.htmlData,t[s].htmlStyle=a.htmlStyle,t[s].attributes=a.attributes,t[s].cssProperties=a.cssProperties):a.children&&lP(a.children,e,r,i,n)}}var uP=class cP extends ue{constructor(e,r){var i;super({type:"macro",command:e,style:r.style}),this.body=r.body,r.captureSelection===void 0?r.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=r.captureSelection,this.macroArgs=r.args,this.expand=(i=r.expand)!=null?i:!1}static fromJson(e){return new cP(e.command,e)}toJson(){let e=super.toJson();return this.expand&&(e.expand=!0),this.captureSelection!==void 0&&(e.captureSelection=this.captureSelection),this.macroArgs&&(e.args=this.macroArgs),e}_serialize(e){var r;return e.expandMacro&&this.expand?this.bodyToLatex(e):this.command+((r=this.macroArgs)!=null?r:"")}applyStyle(e,r){let i={};e.color&&(i.color=e.color),e.backgroundColor&&(i.backgroundColor=e.backgroundColor),super.applyStyle(i,r)}render(e){let r=ue.createBox(e,this.body,{type:"lift"});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}},$le=class dP extends ue{constructor(){super({type:"macro-argument"})}static fromJson(e){return new dP}toJson(){return super.toJson()}_serialize(e){return""}render(e){return null}},hP=class pP extends ue{constructor(e,r,i=!1,n,s){var a;super({type:"prompt",mode:(a=s==null?void 0:s.mode)!=null?a:"math",style:s==null?void 0:s.style,command:"\\placeholder"}),this.body=n,this.correctness=r,this.placeholderId=e,this.locked=i,this.captureSelection=this.locked}static fromJson(e){return new pP(e.placeholderId,e.correctness,e.locked,e.body,e)}toJson(){let e=super.toJson();return this.placeholderId&&(e.placeholderId=this.placeholderId),this.body||delete e.body,this.body&&(e.body=this.body.filter(r=>r.type!=="first").map(r=>r.toJson())),this.correctness&&(e.correctness=this.correctness),e.locked=this.locked,e}render(e){let r=new Pt({parent:e}),i=r.getRegisterAsEm("fboxsep"),n=i,s=i,a=ue.createBox(e,this.body);if(!a)return null;a.height||(a.height=r.metrics.xHeight),a.setStyle("vertical-align",-a.height,"em"),this.correctness==="correct"?a.setStyle("color","var(--correct-color, var(--ML__correct-color))"):this.correctness==="incorrect"&&a.setStyle("color","var(--incorrect-color, var(--ML__incorrect-color))");let o=new Ae(a,{type:"ord"});o.setStyle("display","inline-block"),o.setStyle("height",a.height+a.depth,"em"),o.setStyle("vertical-align",-s,"em");let l="ML__prompt ";this.locked?l+=" ML__lockedPromptBox ":l+=" ML__editablePromptBox ",this.correctness==="correct"?l+=" ML__correctPromptBox ":this.correctness==="incorrect"&&(l+=" ML__incorrectPromptBox "),this.containsCaret&&(l+=" ML__focusedPromptBox ");let u=new Ae(null,{classes:l,attributes:{part:"prompt"}});u.height=o.height+s,u.depth=o.depth+s,u.width=o.width+2*n,u.setStyle("position","absolute"),u.setStyle("height",`calc(${o.height+o.depth+2*s}em - 2px)`),n===0&&u.setStyle("width","100%"),n!==0&&(u.setStyle("width",`calc(100% + ${2*n}em)`),u.setStyle("top",i,"em"),u.setStyle("left",-n,"em")),(!this.body||this.body.length===1)&&(u.width=3*n,u.setStyle("width",`calc(100% + ${3*n}em)`),u.setStyle("left",-1.5*n,"em"));let c="";this.correctness==="incorrect"&&(c+='<line x1="3%"  y1="97%" x2="97%" y2="3%" stroke-width="0.5" stroke="var(--incorrect-color, var(--ML__incorrect-color))" stroke-linecap="round" />'),c&&(u.svgOverlay=c);let d=new Ae([u,o],{classes:"ML__prompt-atom"});return o.setStyle("line-height",1),d.setStyle("position","relative"),d.setStyle("display","inline-block"),d.setStyle("line-height",0),d.height=o.height+s+.2,d.depth=o.depth+s,d.left=n,d.right=n,d.setStyle("height",o.height+s,"em"),d.setStyle("top",o.depth-o.height,"em"),d.setStyle("vertical-align",o.depth+s,"em"),d.setStyle("margin-left",.5,"em"),d.setStyle("margin-right",.5,"em"),this.caret&&(d.caret=this.caret),this.bind(r,this.attachSupsub(e,{base:d}))}_serialize(e){var r;let i=(r=this.bodyToLatex(e))!=null?r:"";if(e.skipPlaceholders)return i;let n="\\placeholder";return this.placeholderId&&(n+=`[${this.placeholderId}]`),this.correctness==="correct"?n+="[correct]":this.correctness==="incorrect"&&(n+="[incorrect]"),this.locked&&(n+="[locked]"),tr(n,i)}},P2=class fP extends ue{constructor(e){super({type:"subsup",style:e==null?void 0:e.style}),this.subsupPlacement="auto"}get children(){if(!this._children){let e=[],r=this.branch("subscript");if(r)for(let n of r)e.push(...n.children),e.push(n);let i=this.branch("superscript");if(i)for(let n of i)e.push(...n.children),e.push(n);this._children=e}return this._children}static fromJson(e){let r=new fP(e);for(let i of T0)e[i]&&r.setChildren(e[i],i);return r}render(e){var r;let i=new Pt({parent:e,isPhantom:!0}),n=this.leftSibling,s=(r=n.render(i))!=null?r:new Ae(null),a=new Ae(null);return a.height=s.height,a.depth=s.depth,this.attachSupsub(e,{base:a,isCharacterBox:n.isCharacterBox(),type:"ignore"})}_serialize(e){return this.supsubToLatex(e)}};function _c(t){return t?!/^(<$$>|<$>|<space>|<{>|<}>|#[0-9\?]|\\.+)$/.test(t):!1}var mP=class{constructor(t,e,r){this.errors=[],this.index=0,this.endCount=0;var i,n,s,a;r!=null||(r={}),this.tokens=t,this.context=e instanceof Pt&&!(r!=null&&r.parseMode)&&!r.mathstyle?e:new Pt({from:e,mathstyle:r.mathstyle},r.style),this.args=(i=r.args)!=null?i:void 0,this.smartFence=this.context.smartFence,this.parsingContext={parent:void 0,mathlist:[],style:(n=r.style)!=null?n:{},parseMode:(s=r.parseMode)!=null?s:"math",mathstyle:(a=r.mathstyle)!=null?a:"displaystyle",tabular:!1}}beginContext(t){var e,r,i,n,s,a;if(t!=null&&t.root){this.parsingContext={parent:this.parsingContext.parent,mathlist:[],style:{},parseMode:(e=t==null?void 0:t.mode)!=null?e:"math",mathstyle:(r=t==null?void 0:t.mathstyle)!=null?r:"displaystyle",tabular:(i=t==null?void 0:t.tabular)!=null?i:!1};return}let o=this.parsingContext,l={parent:o,mathlist:[],style:q({},o.style),parseMode:(n=t==null?void 0:t.mode)!=null?n:o.parseMode,mathstyle:(s=t==null?void 0:t.mathstyle)!=null?s:o.mathstyle,tabular:(a=t==null?void 0:t.tabular)!=null?a:!1};this.parsingContext=l}endContext(){this.parsingContext=this.parsingContext.parent}onError(t){this.errors.push(q({before:Kl(this.tokens.slice(this.index,this.index+10)),after:Kl(this.tokens.slice(Math.max(0,this.index-10),this.index))},t))}get mathlist(){return this.parsingContext.mathlist}set mathlist(t){this.parsingContext.mathlist=t}get parseMode(){return this.parsingContext.parseMode}set parseMode(t){this.parsingContext.parseMode=t}get tabularMode(){return this.parsingContext.tabular}get style(){let t=this.parsingContext;for(;t;){if(t.style)return q({},t.style);t=t.parent}return{}}set style(t){this.parsingContext.style=t}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}next(){this.index+=1}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}expandUnicode(){if(!this.peek()||this.parseMode!=="math")return;let t=Coe(this.peek());t&&this.tokens.splice(this.index,1,...Qh(t))}match(t){return this.tokens[this.index]===t?(this.index++,!0):!1}lastSubsupAtom(){let t;return this.mathlist.length>0&&(t=this.mathlist[this.mathlist.length-1],t.type==="subsup"||t.subsupPlacement!==void 0)||(t=new P2({style:this.style}),this.mathlist.push(t)),t}hasPattern(t){return t.test(this.tokens[this.index])}hasInfixCommand(){var t;let{index:e}=this;if(e<this.tokens.length&&this.tokens[e].startsWith("\\")){let r=xi(this.tokens[e],this.parseMode);return!r||r.definitionType==="symbol"||r.ifMode&&!r.ifMode.includes(this.parseMode)?!1:(t=r.infix)!=null?t:!1}return!1}matchColumnSeparator(){return!this.tabularMode||this.peek()!=="&"?!1:(this.index++,!0)}matchRowSeparator(){if(!this.tabularMode)return!1;let t=this.peek();return t!=="\\\\"&&t!=="\\cr"&&t!=="\\tabularnewline"?!1:(this.index++,!0)}placeholder(){var t;let e=(t=this.args)==null?void 0:t.call(this,"?");return e?ts(e,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new fa({mode:this.parseMode,style:this.style})]}skipWhitespace(){for(;this.match("<space>"););}skipUntilToken(t){let e=this.tokens[this.index];for(;e&&e!==t;)e=this.tokens[++this.index];e===t&&this.index++}skipFiller(){for(;this.match("\\relax")||this.match("<space>"););}matchKeyword(t){let e=this.index,r=this.end(),i="";for(;!r;){let s=this.get();_c(s)?(i+=s,r=this.end()||i.length>=t.length):r=!0}let n=t.toUpperCase()===i.toUpperCase();return n||(this.index=e),n}scanString(){let t="";for(;!this.end();){let e=this.peek();if(e==="]")return t;if(e==="<space>")t+=" ";else if(e.startsWith("\\"))this.onError({code:"unexpected-command-in-string"}),t+=e.substring(1);else if(_c(e))t+=e;else return t;this.next()}return t}scanBalancedString(){let t="",e=this.end(),r=1;for(;!e;){let i=this.get();i==="<space>"?t+=" ":i==="<{>"?(t+="{",r+=1):i==="<}>"?(r-=1,r>0?t+="}":this.index-=1):i==="<$>"?t+="$":i==="<$$>"?t+="$$":t+=i,e=r===0||this.end()}return t}scanLiteralGroup(){var t;if(!this.match("<{>"))return"";let e="",r=1;for(;r>0&&!this.end();){let i=this.get();i==="<}>"?(r-=1,r>0&&(e+="}")):i==="<{>"?(r+=1,e+="{"):(/\\[a-zA-Z]+$/.test(e)&&/^[a-zA-Z]/.test(i)&&(e+=" "),e+=(t={"<space>":" ","<$$>":"$$","<$>":"$"}[i])!=null?t:i)}return e}scanNumber(t=!0){var e,r;let i=!1,n=this.peek();for(;n==="<space>"||n==="+"||n==="-";)this.get(),n==="-"&&(i=!i),n=this.peek();t=!!t;let s=10,a=/\d/;if(this.match("'"))s=8,a=/[0-7]/,t=!0;else if(this.match('"'))s=16,a=/[\dA-F]/,t=!0;else if(this.match("x"))s=16,a=/[\dA-Fa-f]/,t=!0;else if(this.match("`"))return n=this.get(),n?n.length===2&&n.startsWith("\\")?{number:(i?-1:1)*((e=n.codePointAt(1))!=null?e:0),base:"alpha"}:{number:(i?-1:1)*((r=n.codePointAt(0))!=null?r:0),base:"alpha"}:null;let o="";for(;this.hasPattern(a);)o+=this.get();if(!t&&(this.match(".")||this.match(",")))for(o+=".";this.hasPattern(a);)o+=this.get();let l=t?Number.parseInt(o,s):Number.parseFloat(o);return Number.isNaN(l)?null:{number:i?-l:l,base:s===16?"hexadecimal":s===8?"octal":"decimal"}}scanRegister(){var t;let e=this.index,r=this.scanNumber(!1);if(this.skipWhitespace(),this.match("\\relax"))return r;let i=!1;if(r===null)for(;;){let s=this.peek();if(s==="-")i=!i;else if(s!=="+")break;this.next(),this.skipWhitespace()}if(this.match("\\global")){this.skipWhitespace();let s=this.get();return s.startsWith("\\")?r?{register:s,global:!0,factor:(i?-1:1)*r.number}:i?{register:s,global:!0,factor:-1}:{register:s,global:!0}:(this.index=e,null)}let n=this.get();return n!=null&&n.startsWith("\\")?(n=n.substring(1),this.context.registers[n]?!i||r!==null?{register:n,factor:(i?-1:1)*((t=r==null?void 0:r.number)!=null?t:1)}:{register:n}:(this.index=e,null)):(this.index=e,null)}scanValue(){let t=this.scanRegister();if(t)return t;let e=this.index,r=this.scanGlueOrDimen();if(r&&("unit"in r||"glue"in r&&"unit"in r.glue))return r;this.index=e;let i=this.scanNumber();if(i)return i;if(this.end()||!_c(this.peek()))return null;let n=this.scanString();return n.length>0?{string:n}:null}scanDimen(){let t=this.scanNumber(!1);if(t===null)return null;let e=t.number;this.skipWhitespace(),this.matchKeyword("true"),this.skipWhitespace();let r;return this.matchKeyword("pt")?r="pt":this.matchKeyword("mm")?r="mm":this.matchKeyword("cm")?r="cm":this.matchKeyword("ex")?r="ex":this.matchKeyword("px")?r="px":this.matchKeyword("em")?r="em":this.matchKeyword("bp")?r="bp":this.matchKeyword("dd")?r="dd":this.matchKeyword("pc")?r="pc":this.matchKeyword("in")?r="in":this.matchKeyword("mu")&&(r="mu"),r?{dimension:e,unit:r}:{dimension:e}}scanGlueOrDimen(){let t=this.scanDimen();if(t===null)return null;if(this.skipWhitespace(),this.match("\\relax"))return t;let e={glue:t};if(this.matchKeyword("plus")){let r=this.scanDimen();if(r)e.grow=r;else return e}if(this.skipWhitespace(),this.match("\\relax"))return e;if(this.skipWhitespace(),this.matchKeyword("minus")){let r=this.scanDimen();if(r)e.shrink=r;else return e}return!e.grow&&!e.shrink?t:e}scanColspec(){this.skipWhitespace();let t=[];for(;!this.end()&&!(this.peek()==="<}>"||this.peek()==="]");){let e=this.get();e==="c"||e==="r"||e==="l"?t.push({align:e}):e==="|"?t.push({separator:"solid"}):e===":"?t.push({separator:"dashed"}):e==="@"&&(this.match("<{>")&&(this.beginContext({mode:"math"}),t.push({gap:this.scan(r=>r==="<}>")}),this.endContext()),this.match("<}>")||this.onError({code:"unbalanced-braces"}))}return t}scanModeSet(){let t;if(this.match("\\(")&&(t="textstyle"),!t&&this.match("\\[")&&(t="displaystyle"),!t)return null;this.beginContext({mode:"math",mathstyle:t});let e=this.scan(r=>r===(t==="displaystyle"?"\\]":"\\)"));return this.match(t==="displaystyle"?"\\]":"\\)")||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),e}scanModeShift(){let t="";if(this.match("<$>")&&(t="<$>"),!t&&this.match("<$$>")&&(t="<$$>"),!t)return null;this.beginContext({mode:"math",mathstyle:t==="<$>"?"textstyle":"displaystyle"});let e=this.scan(r=>r===t);return this.match(t)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),e}scanEnvironment(){if(!this.match("\\begin"))return null;let t=this.scanArgument("string");if(!t)return null;let e=Doe(t);if(!e)return this.onError({code:"unknown-environment",arg:t}),null;let r=[];if(e.params)for(let o of e.params)if(o.isOptional)r.push(this.scanOptionalArgument(o.type));else{let l=this.scanArgument(o.type);l||this.onError({code:"missing-argument",arg:t}),r.push(l)}this.beginContext({tabular:e.tabular,root:e.rootOnly});let i=[],n=[],s=[],a=!1;do if(this.end()&&(this.onError({code:"unbalanced-environment",arg:t}),a=!0),!a&&this.match("\\end")&&(this.scanArgument("string")!==t&&this.onError({code:"unbalanced-environment",arg:t}),a=!0),!a)if(this.matchColumnSeparator())s.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){s.push(this.mathlist),this.mathlist=[];let o=null;this.skipWhitespace(),this.match("[")&&(o=this.scanDimen(),this.skipWhitespace(),this.match("]")),n.push(o??{dimension:0}),i.push(s),s=[]}else this.mathlist.push(...this.scan(o=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline"].includes(o)));while(!a);return s.push(this.mathlist),s.length>0&&i.push(s),this.endContext(),e.rootOnly&&(this.index=this.tokens.length),e.createAtom(t,i,n,r,this.context.maxMatrixCols)}scanExpression(){let t=this.mathlist;if(this.mathlist=[],this.parseExpression()){let e=this.mathlist;return this.mathlist=t,e}return this.mathlist=t,null}scan(t){this.beginContext(),t||(t=a=>a==="<}>");let e="",r=null,i=[],n=null;for(;!this.end()&&!t(this.peek());)this.hasInfixCommand()&&!e?(e=this.get(),r=xi(e,"math"),r&&(i=this.scanArguments(r)[1]),n=this.mathlist,this.mathlist=[]):this.parseExpression();let s;return e?(i.unshift(this.mathlist),n&&i.unshift(n),s=[r.createAtom({command:e,args:i,style:this.style,mode:this.parseMode})]):s=this.mathlist,this.endContext(),s}scanGroup(){let t=this.index;if(!this.match("<{>"))return null;let e=this.scan(i=>i==="<}>");if(this.match("<}>")||this.onError({code:"unbalanced-braces"}),e.length===1&&e[0].type==="placeholder")return e[0];let r=new sP(e,this.parseMode);return r.verbatimLatex=Kl(this.tokens.slice(t,this.index)),r}scanSmartFence(){if(this.skipWhitespace(),!this.match("("))return null;this.beginContext();let t=1;for(;!this.end()&&t!==0;)this.match("(")&&(t+=1),this.match(")")&&(t-=1),t!==0&&this.parseExpression();let e=new br("",this.mathlist,{leftDelim:"(",rightDelim:t===0?")":"?"});return this.endContext(),e}scanDelim(){this.skipWhitespace();let t=this.peek();if(!t)return this.onError({code:"unexpected-end-of-string"}),null;if(!_c(t)&&!t.startsWith("\\"))return null;this.next();let e=xi(t,"math");return e?e.definitionType==="function"&&e.ifMode&&!e.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:t}),null):e.definitionType==="symbol"&&(e.type==="mopen"||e.type==="mclose")||/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(t)?t:(this.onError({code:"unexpected-delimiter",arg:t}),null):(this.onError({code:"unknown-command",arg:t}),null)}scanLeftRight(){var t;if(this.match("\\right"))return this.onError({code:"unbalanced-braces"}),new nu("\\right");if(this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),new nu("\\mright");let e="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;e="\\mright"}let r=this.scanDelim();if(!r)return this.onError({code:"unexpected-delimiter"}),new nu(e==="\\right"?"\\left":"\\mleft");for(this.beginContext();!this.end()&&!this.match(e);)this.parseExpression();let i=this.mathlist;this.endContext();let n=(t=this.scanDelim())!=null?t:".";return new br(e==="\\right"?"left...right":"mleft...mright",i,{leftDelim:r,rightDelim:n,style:this.style})}parseSupSub(){if(this.parseMode!=="math")return!1;let t=this.peek();if(t!=="^"&&t!=="_"&&t!=="'")return!1;let e=this.lastSubsupAtom();for(;t==="^"||t==="_"||t==="'";)this.match("'")?this.match("'")?e.addChild(new ue({type:"mord",command:"\\doubleprime",mode:"math",value:"′′"}),"superscript"):e.addChild(new ue({type:"mord",command:"\\prime",mode:"math",value:"′"}),"superscript"):(this.match("^")||this.match("_"))&&e.addChildren(Ne(this.scanArgument("expression")),t==="_"?"subscript":"superscript"),t=this.peek();return!0}parseLimits(){if(this.parseMode!=="math")return!1;let t=this.match("\\limits"),e=!t&&this.match("\\nolimits"),r=!e&&!t&&this.match("\\displaylimits");if(!t&&!e&&!r)return!1;let i=this.mathlist.length>0?this.mathlist[this.mathlist.length-1]:null;return i===null?!1:(i.explicitSubsupPlacement=!0,t&&(i.subsupPlacement="over-under"),e&&(i.subsupPlacement="adjacent"),r&&(i.subsupPlacement="auto"),!0)}scanArguments(t){if(!(t!=null&&t.params))return[void 0,[]];let e,r=[],i=t.infix?2:0;for(;i<t.params.length;){let n=t.params[i];n.type==="rest"?r.push(this.scan(s=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(s))):n.isOptional?r.push(this.scanOptionalArgument(n.type)):n.type.endsWith("*")?e=n.type.slice(0,-1):r.push(this.scanArgument(n.type)),i+=1}return[e,r]}scanSymbolOrLiteral(){let t=this.peek();if(!t)return null;this.next();let e;if(_c(t)){let r=Mn.createAtom(this.parseMode,t,q({},this.style));return r?[r]:null}if(e=this.scanMacro(t),e)return[e];if(t.startsWith("\\")){let r=xi(t,this.parseMode);if(!r)return this.onError({code:"unknown-command",arg:t}),[new nu(t)];if(r.definitionType==="symbol"){let i=q({},this.style);r.variant&&(i.variant=r.variant),e=new ue({type:r.type,command:t,style:i,value:String.fromCodePoint(r.codepoint),mode:this.parseMode,verbatimLatex:t})}else{if(r.applyMode||r.applyStyle||r.infix)return this.onError({code:"invalid-command",arg:t}),[new nu(t)];r.createAtom&&(e=r.createAtom({command:t,args:[],style:this.style,mode:this.parseMode}))}}return e?[e]:null}scanArgument(t){var e;this.skipFiller();let r=this.parseMode;if(t==="auto"&&(t=r),!this.match("<{>")){if(t==="string")return this.scanString();if(t==="value")return this.scanValue();if(t==="delim")return(e=this.scanDelim())!=null?e:".";if(t==="expression")return this.scanExpression();if(t==="math"){t!==r&&this.beginContext({mode:"math"});let n=this.scanSymbolOrLiteral();return t!==r&&this.endContext(),n}if(t==="text"){t!==r&&this.beginContext({mode:"text"});let n=this.scanSymbolOrLiteral();return t!==r&&this.endContext(),n}return t==="balanced-string"?null:t==="rest"?this.scan(n=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(n)):null}if(t==="text"){this.beginContext({mode:"text"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let n=this.mathlist;return this.endContext(),{group:n}}if(t==="math"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let n=this.mathlist;return this.endContext(),{group:n}}let i=null;if(t==="expression"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let n=this.mathlist;return this.endContext(),{group:n}}return t==="string"?i=this.scanString():t==="balanced-string"?i=this.scanBalancedString():t==="colspec"?i=this.scanColspec():t==="value"&&(i=this.scanValue()),this.skipUntilToken("<}>"),i}scanOptionalArgument(t){if(t=t==="auto"?this.parseMode:t,this.skipFiller(),!this.match("["))return null;let e=null;for(;!this.end()&&!this.match("]");)if(t==="string")e=this.scanString();else if(t==="value")e=this.scanValue();else if(t==="colspec")e=this.scanColspec();else if(t==="bbox"){let r={},i=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let n of i){let s=n.match(/^\s*([\d.]+)\s*([a-z]{2})/);if(s)r.padding={dimension:parseInt(s[1]),unit:s[2]};else{let a=n.match(/^\s*border\s*:\s*(.*)/);a?r.border=a[1]:r.backgroundcolor={string:n}}}e=r}else t==="math"&&(this.beginContext({mode:"math"}),e=this.mathlist.concat(this.scan(r=>r==="]")),this.endContext());return e}scanSymbolOrCommand(t){var e,r,i;if(t==="\\placeholder"){let o=this.scanOptionalArgument("string"),l=this.scanOptionalArgument("math"),u=ue.serialize(l,{defaultMode:"math"}),c=[],d;!d&&u==="correct"?d="correct":!d&&u==="incorrect"?d="incorrect":u!==""&&(c=l);let h=this.scanOptionalArgument("string")==="locked",f=this.scanArgument("auto"),g;return f&&Array.isArray(f)&&f.length>0?g=f:f&&typeof f=="object"&&"group"in f?g=f.group:g=c,o?[new hP(o,d,h,g??c,{mode:this.parseMode,style:this.style})]:[new fa({mode:this.parseMode,style:this.style})]}if(t==="\\renewcommand"||t==="\\newcommand"||t==="\\providecommand"||t==="\\def"){let o=this.index,l=this.scanLiteralGroup()||this.next();if(!l)return null;if(this.context.registers[l.substring(1)]){let u=this.scanArgument("string");u!==null&&(this.context.registers[l.substring(1)]=u);let c=kt([t,Kl(this.tokens.slice(o,this.index))]);return[new ue({type:"text",value:"",verbatimLatex:c})]}}let n=this.scanMacro(t);if(n)return[n];let s=xi(t,this.parseMode);if(!s)return this.parseMode==="text"?(/[a-zA-Z]/.test((e=this.peek())!=null?e:"")&&(t+=" "),[...t].map(o=>new ue({type:"text",value:o,mode:"text",style:this.style}))):(this.onError({code:"unknown-command",arg:t}),[new nu(t)]);let a=this.index;if(s.definitionType==="symbol"){let o=q({},this.style);s.variant&&(o.variant=s.variant),n=new ue({type:s.type,command:t,style:o,value:String.fromCodePoint(s.codepoint),mode:this.parseMode})}else{if(s.ifMode&&!s.ifMode.includes(this.parseMode))return[];let o=this.parseMode;s.applyMode&&(this.parseMode=s.applyMode);let l,u=[];if(s.parse?u=s.parse(this):[l,u]=this.scanArguments(s),this.parseMode=o,s.applyMode&&!s.applyStyle&&!s.createAtom)return Ne(u[0]);if(s.infix)return this.onError({code:"too-many-infix-commands",arg:t}),null;if(typeof s.createAtom=="function")n=s.createAtom({command:t,args:u,style:this.style,mode:this.parseMode}),l&&(n.body=Ne(this.scanArgument(l)));else if(typeof s.applyStyle=="function"){let c=s.applyStyle(this.style,t,u,this.context),d=this.parseMode;if(s.applyMode&&(this.parseMode=s.applyMode),l){let h=this.style;this.style=c;let f=this.scanArgument(l);return this.style=h,this.parseMode=d,Ne(f)}this.style=c}else n=new ue({type:"mord",command:(r=s.command)!=null?r:t,style:q({},this.style),value:t,mode:(i=s.applyMode)!=null?i:this.parseMode})}if(!n)return null;if(n instanceof ue&&n.verbatimLatex===void 0&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(t)){let o=kt([t,Kl(this.tokens.slice(a,this.index))]);o&&(n.verbatimLatex=o)}if(n.verbatimLatex===null&&(n.verbatimLatex=void 0),n.isFunction&&this.smartFence){let o=this.scanSmartFence();if(o)return[n,o]}return[n]}scanSymbolCommandOrLiteral(){this.expandUnicode();let t=this.get();if(!t)return null;if(_c(t)){let e=Mn.createAtom(this.parseMode,t,q({},this.style));if(!e)return null;if(e.isFunction&&this.smartFence){let r=this.scanSmartFence();if(r)return[e,r]}return[e]}return t.startsWith("\\")?this.scanSymbolOrCommand(t):t==="<space>"?this.parseMode==="text"?[new Y0(" "," ",this.style)]:null:(t==="<}>"?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:t}),null)}scanMacro(t){var e;let r=this.context.getMacro(t);if(!r)return null;let i=this.index,n=r.args,s={"?":(e=this.args)==null?void 0:e.call(this,"?")};for(let a=1;a<=n;a++){let o=this.scanLiteralGroup();if(!o){let l=this.index;this.scanExpression(),o=Kl(this.tokens.slice(l,this.index))}s[a]=o}return new uP(t,{expand:r.expand,captureSelection:r.captureSelection,args:i===this.index?null:Kl(this.tokens.slice(i,this.index)),style:this.parsingContext.style,body:ts(r.def,{context:this.context,parseMode:this.parseMode,args:a=>s[a],mathstyle:this.parsingContext.mathstyle,style:this.parsingContext.style})})}parseExpression(){var t,e,r,i;let n=(i=(r=(e=(t=this.scanEnvironment())!=null?t:this.scanModeShift())!=null?e:this.scanModeSet())!=null?r:this.scanGroup())!=null?i:this.scanLeftRight();if(n===null){if(this.parseSupSub()||this.parseLimits())return!0;n=this.scanSymbolCommandOrLiteral()}return n?(gi(n)?this.mathlist.push(...n):this.mathlist.push(n),!0):!1}};function ts(t,e){var r,i,n,s;let a=(r=e==null?void 0:e.args)!=null?r:void 0,o=new mP(Qh(t,a),e==null?void 0:e.context,{args:a,mathstyle:(i=e==null?void 0:e.mathstyle)!=null?i:"displaystyle",parseMode:(n=e==null?void 0:e.parseMode)!=null?n:"math",style:(s=e==null?void 0:e.style)!=null?s:{}}),l=[];for(;!o.end();)l.push(...o.scan(()=>!1));return l}function zle(t,e){var r;let i=new mP(Qh(t,null),e==null?void 0:e.context,{mathstyle:"displaystyle",parseMode:(r=e==null?void 0:e.parseMode)!=null?r:"math"});for(;!i.end();)i.scan();return i.errors}var gP=class yP extends ue{constructor(e,r){super({type:"chem"},{command:e,mode:"math"});let i=ur.go(we.go(r,e==="\\pu"?"pu":"ce"),!1);this.body=ts(i),this._verbatimLatex=e+"{"+r+"}",this.arg=r,this.captureSelection=!0}static fromJson(e){return new yP(e.command,e.arg)}set verbatimLatex(e){}get verbatimLatex(){return this._verbatimLatex}toJson(){return Z(q({},super.toJson()),{arg:this.arg})}render(e){let r=ue.createBox(e,this.body,{type:"inner"});return this.caret&&(r.caret=this.caret),this.bind(e,r)}_serialize(e){return this.verbatimLatex,this.verbatimLatex}};fe(["ce","pu"],"{chemformula:balanced-string}",{createAtom:t=>{var e;return new gP(t.command,(e=t.args[0])!=null?e:"")}});var we={go:function(t,e){if(!t)return[];e===void 0&&(e="ce");var r="0",i={};i.parenthesisLevel=0,t=t.replace(/\n/g," "),t=t.replace(/[\u2212\u2013\u2014\u2010]/g,"-"),t=t.replace(/[\u2026]/g,"...");for(var n,s=10,a=[];;){n!==t?(s=10,n=t):s--;var o=we.stateMachines[e],l=o.transitions[r]||o.transitions["*"];e:for(var u=0;u<l.length;u++){var c=we.patterns.match_(l[u].pattern,t);if(c){for(var d=l[u].task,h=0;h<d.action_.length;h++){var f;if(o.actions[d.action_[h].type_])f=o.actions[d.action_[h].type_](i,c.match_,d.action_[h].option);else if(we.actions[d.action_[h].type_])f=we.actions[d.action_[h].type_](i,c.match_,d.action_[h].option);else throw["MhchemBugA","mhchem bug A. Please report. ("+d.action_[h].type_+")"];we.concatArray(a,f)}if(r=d.nextState||r,t.length>0){if(d.revisit||(t=c.remainder),!d.toContinue)break e}else return a}}if(s<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(t,e){if(e)if(Object.prototype.toString.call(e)==="[object Array]")for(var r=0;r<e.length;r++)t.push(e[r]);else t.push(e)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:(?:([eE])|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"(-)(9)^(-9)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"state of aggregation $":function(t){var e=we.patterns.findObserveGroups(t,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(e&&e.remainder.match(/^($|[\s,;\)\]\}])/))return e;var r=t.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return r?{match_:r[0],remainder:t.substr(r[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(t){return we.patterns.findObserveGroups(t,"^{","","","}")},"^($...$)":function(t){return we.patterns.findObserveGroups(t,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(t){return we.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(t){return we.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(t){return we.patterns.findObserveGroups(t,"_{","","","}")},"_($...$)":function(t){return we.patterns.findObserveGroups(t,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(t){return we.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(t){return we.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(t){return we.patterns.findObserveGroups(t,"","{","}","")},"{(...)}":function(t){return we.patterns.findObserveGroups(t,"{","","","}")},"$...$":function(t){return we.patterns.findObserveGroups(t,"","$","$","")},"${(...)}$":function(t){return we.patterns.findObserveGroups(t,"${","","","}$")},"$(...)$":function(t){return we.patterns.findObserveGroups(t,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(t){return we.patterns.findObserveGroups(t,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(t){return we.patterns.findObserveGroups(t,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(t){return we.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(t){return we.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(t){return we.patterns.findObserveGroups(t,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(t){return we.patterns.findObserveGroups(t,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(t){return we.patterns.findObserveGroups(t,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(t){return we.patterns.findObserveGroups(t,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(t){return we.patterns.findObserveGroups(t,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(t){return we.patterns.findObserveGroups(t,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(t){return we.patterns.findObserveGroups(t,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(t){return we.patterns.findObserveGroups(t,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(t){var e;if(e=t.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/),e)return{match_:e[0],remainder:t.substr(e[0].length)};var r=we.patterns.findObserveGroups(t,"","$","$","");return r&&(e=r.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/),e)?{match_:e[0],remainder:t.substr(e[0].length)}:null},amount2:function(t){return this.amount(t)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(t){if(t.match(/^\([a-z]+\)$/))return null;var e=t.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return e?{match_:e[0],remainder:t.substr(e[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(t,e,r,i,n,s,a,o,l,u){var c=function(S,A){if(typeof A=="string")return S.indexOf(A)!==0?null:A;var T=S.match(A);return T?T[0]:null},d=function(S,A,T){for(var M=0;A<S.length;){var D=S.charAt(A),B=c(S.substr(A),T);if(B!==null&&M===0)return{endMatchBegin:A,endMatchEnd:A+B.length};if(D==="{")M++;else if(D==="}"){if(M===0)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];M--}A++}return null},h=c(t,e);if(h===null||(t=t.substr(h.length),h=c(t,r),h===null))return null;var f=d(t,h.length,i||n);if(f===null)return null;var g=t.substring(0,i?f.endMatchEnd:f.endMatchBegin);if(s||a){var y=this.findObserveGroups(t.substr(f.endMatchEnd),s,a,o,l);if(y===null)return null;var C=[g,y.match_];return{match_:u?C.join(""):C,remainder:y.remainder}}else return{match_:g,remainder:t.substr(f.endMatchEnd)}},match_:function(t,e){var r=we.patterns.patterns[t];if(r===void 0)throw["MhchemBugP","mhchem bug P. Please report. ("+t+")"];if(typeof r=="function")return we.patterns.patterns[t](e);var i=e.match(r);if(i){var n;return i[2]?n=[i[1],i[2]]:i[1]?n=i[1]:n=i[0],{match_:n,remainder:e.substr(i[0].length)}}return null}},actions:{"a=":function(t,e){t.a=(t.a||"")+e},"b=":function(t,e){t.b=(t.b||"")+e},"p=":function(t,e){t.p=(t.p||"")+e},"o=":function(t,e){t.o=(t.o||"")+e},"q=":function(t,e){t.q=(t.q||"")+e},"d=":function(t,e){t.d=(t.d||"")+e},"rm=":function(t,e){t.rm=(t.rm||"")+e},"text=":function(t,e){t.text_=(t.text_||"")+e},insert:function(t,e,r){return{type_:r}},"insert+p1":function(t,e,r){return{type_:r,p1:e}},"insert+p1+p2":function(t,e,r){return{type_:r,p1:e[0],p2:e[1]}},copy:function(t,e){return e},rm:function(t,e){return{type_:"rm",p1:e||""}},text:function(t,e){return we.go(e,"text")},"{text}":function(t,e){var r=["{"];return we.concatArray(r,we.go(e,"text")),r.push("}"),r},"tex-math":function(t,e){return we.go(e,"tex-math")},"tex-math tight":function(t,e){return we.go(e,"tex-math tight")},bond:function(t,e,r){return{type_:"bond",kind_:r||e}},"color0-output":function(t,e){return{type_:"color0",color:e[0]}},ce:function(t,e){return we.go(e)},"1/2":function(t,e){var r=[];e.match(/^[+\-]/)&&(r.push(e.substr(0,1)),e=e.substr(1));var i=e.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return i[1]=i[1].replace(/\$/g,""),r.push({type_:"frac",p1:i[1],p2:i[2]}),i[3]&&(i[3]=i[3].replace(/\$/g,""),r.push({type_:"tex-math",p1:i[3]})),r},"9,9":function(t,e){return we.go(e,"9,9")}},createTransitions:function(t){var e,r,i,n,s={};for(e in t)for(r in t[e])for(i=r.split("|"),t[e][r].stateArray=i,n=0;n<i.length;n++)s[i[n]]=[];for(e in t)for(r in t[e])for(i=t[e][r].stateArray||[],n=0;n<i.length;n++){var a=t[e][r];if(a.action_){a.action_=[].concat(a.action_);for(var o=0;o<a.action_.length;o++)typeof a.action_[o]=="string"&&(a.action_[o]={type_:a.action_[o]})}else a.action_=[];for(var l=e.split("|"),u=0;u<l.length;u++)if(i[n]==="*")for(var c in s)s[c].push({pattern:l[u],task:a});else s[i[n]].push({pattern:l[u],task:a})}return s},stateMachines:{}};we.stateMachines={ce:{transitions:we.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(t,e){var r;if((t.d||"").match(/^[0-9]+$/)){var i=t.d;t.d=void 0,r=this.output(t),t.b=i}else r=this.output(t);return we.actions["o="](t,e),r},"d= kv":function(t,e){t.d=e,t.dType="kv"},"charge or bond":function(t,e){if(t.beginsWithBond){var r=[];return we.concatArray(r,this.output(t)),we.concatArray(r,we.actions.bond(t,e,"-")),r}else t.d=e},"- after o/d":function(t,e,r){var i=we.patterns.match_("orbital",t.o||""),n=we.patterns.match_("one lowercase greek letter $",t.o||""),s=we.patterns.match_("one lowercase latin letter $",t.o||""),a=we.patterns.match_("$one lowercase latin letter$ $",t.o||""),o=e==="-"&&(i&&i.remainder===""||n||s||a);o&&!t.a&&!t.b&&!t.p&&!t.d&&!t.q&&!i&&s&&(t.o="$"+t.o+"$");var l=[];return o?(we.concatArray(l,this.output(t)),l.push({type_:"hyphen"})):(i=we.patterns.match_("digits",t.d||""),r&&i&&i.remainder===""?(we.concatArray(l,we.actions["d="](t,e)),we.concatArray(l,this.output(t))):(we.concatArray(l,this.output(t)),we.concatArray(l,we.actions.bond(t,e,"-")))),l},"a to o":function(t){t.o=t.a,t.a=void 0},"sb=true":function(t){t.sb=!0},"sb=false":function(t){t.sb=!1},"beginsWithBond=true":function(t){t.beginsWithBond=!0},"beginsWithBond=false":function(t){t.beginsWithBond=!1},"parenthesisLevel++":function(t){t.parenthesisLevel++},"parenthesisLevel--":function(t){t.parenthesisLevel--},"state of aggregation":function(t,e){return{type_:"state of aggregation",p1:we.go(e,"o")}},comma:function(t,e){var r=e.replace(/\s*$/,""),i=r!==e;return i&&t.parenthesisLevel===0?{type_:"comma enumeration L",p1:r}:{type_:"comma enumeration M",p1:r}},output:function(t,e,r){var i;if(!t.r)i=[],!t.a&&!t.b&&!t.p&&!t.o&&!t.q&&!t.d&&!r||(t.sb&&i.push({type_:"entitySkip"}),!t.o&&!t.q&&!t.d&&!t.b&&!t.p&&r!==2?(t.o=t.a,t.a=void 0):!t.o&&!t.q&&!t.d&&(t.b||t.p)?(t.o=t.a,t.d=t.b,t.q=t.p,t.a=t.b=t.p=void 0):t.o&&t.dType==="kv"&&we.patterns.match_("d-oxidation$",t.d||"")?t.dType="oxidation":t.o&&t.dType==="kv"&&!t.q&&(t.dType=void 0),i.push({type_:"chemfive",a:we.go(t.a,"a"),b:we.go(t.b,"bd"),p:we.go(t.p,"pq"),o:we.go(t.o,"o"),q:we.go(t.q,"pq"),d:we.go(t.d,t.dType==="oxidation"?"oxidation":"bd"),dType:t.dType}));else{var n;t.rdt==="M"?n=we.go(t.rd,"tex-math"):t.rdt==="T"?n=[{type_:"text",p1:t.rd||""}]:n=we.go(t.rd);var s;t.rqt==="M"?s=we.go(t.rq,"tex-math"):t.rqt==="T"?s=[{type_:"text",p1:t.rq||""}]:s=we.go(t.rq),i={type_:"arrow",r:t.r,rd:n,rq:s}}for(var a in t)a!=="parenthesisLevel"&&a!=="beginsWithBond"&&delete t[a];return i},"oxidation-output":function(t,e){var r=["{"];return we.concatArray(r,we.go(e,"oxidation")),r.push("}"),r},"frac-output":function(t,e){return{type_:"frac-ce",p1:we.go(e[0]),p2:we.go(e[1])}},"overset-output":function(t,e){return{type_:"overset",p1:we.go(e[0]),p2:we.go(e[1])}},"underset-output":function(t,e){return{type_:"underset",p1:we.go(e[0]),p2:we.go(e[1])}},"underbrace-output":function(t,e){return{type_:"underbrace",p1:we.go(e[0]),p2:we.go(e[1])}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:we.go(e[1])}},"r=":function(t,e){t.r=e},"rdt=":function(t,e){t.rdt=e},"rd=":function(t,e){t.rd=e},"rqt=":function(t,e){t.rqt=e},"rq=":function(t,e){t.rq=e},operator:function(t,e,r){return{type_:"operator",kind_:r||e}}}},a:{transitions:we.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:we.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:we.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(t){if(t.text_){var e={type_:"text",p1:t.text_};for(var r in t)delete t[r];return e}}}},pq:{transitions:we.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(t,e){return{type_:"state of aggregation subscript",p1:we.go(e,"o")}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:we.go(e[1],"pq")}}}},bd:{transitions:we.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(t,e){return{type_:"color",color1:e[0],color2:we.go(e[1],"bd")}}}},oxidation:{transitions:we.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(t,e){return{type_:"roman numeral",p1:e||""}}}},"tex-math":{transitions:we.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var r in t)delete t[r];return e}}}},"tex-math tight":{transitions:we.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(t,e){t.o=(t.o||"")+"{"+e+"}"},output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var r in t)delete t[r];return e}}}},"9,9":{transitions:we.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:we.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(t,e){var r=[];return e[0]==="+-"||e[0]==="+/-"?r.push("\\pm "):e[0]&&r.push(e[0]),e[1]&&(we.concatArray(r,we.go(e[1],"pu-9,9")),e[2]&&(e[2].match(/[,.]/)?we.concatArray(r,we.go(e[2],"pu-9,9")):r.push(e[2])),(e[3]||e[4])&&(e[3]==="e"||e[4]==="*"?r.push({type_:"cdot"}):r.push({type_:"times"}))),e[5]&&r.push("10^{"+e[5]+"}"),r},"number^":function(t,e){var r=[];return e[0]==="+-"||e[0]==="+/-"?r.push("\\pm "):e[0]&&r.push(e[0]),we.concatArray(r,we.go(e[1],"pu-9,9")),r.push("^{"+e[2]+"}"),r},operator:function(t,e,r){return{type_:"operator",kind_:r||e}},space:function(){return{type_:"pu-space-1"}},output:function(t){var e,r=we.patterns.match_("{(...)}",t.d||"");r&&r.remainder===""&&(t.d=r.match_);var i=we.patterns.match_("{(...)}",t.q||"");if(i&&i.remainder===""&&(t.q=i.match_),t.d&&(t.d=t.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.d=t.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),t.q){t.q=t.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.q=t.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var n={d:we.go(t.d,"pu"),q:we.go(t.q,"pu")};t.o==="//"?e={type_:"pu-frac",p1:n.d,p2:n.q}:(e=n.d,n.d.length>1||n.q.length>1?e.push({type_:" / "}):e.push({type_:"/"}),we.concatArray(e,n.q))}else e=we.go(t.d,"pu-2");for(var s in t)delete t[s];return e}}},"pu-2":{transitions:we.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(t,e){t.rm+="^{"+e+"}"},space:function(){return{type_:"pu-space-2"}},output:function(t){var e=[];if(t.rm){var r=we.patterns.match_("{(...)}",t.rm||"");r&&r.remainder===""?e=we.go(r.match_,"pu"):e={type_:"rm",p1:t.rm}}for(var i in t)delete t[i];return e}}},"pu-9,9":{transitions:we.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){var r=t.text_.length%3;r===0&&(r=3);for(var i=t.text_.length-3;i>0;i-=3)e.push(t.text_.substr(i,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(0,r)),e.reverse()}else e.push(t.text_);for(var n in t)delete t[n];return e},"output-o":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){for(var r=t.text_.length-3,i=0;i<r;i+=3)e.push(t.text_.substr(i,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(i))}else e.push(t.text_);for(var n in t)delete t[n];return e}}}};var ur={go:function(t,e){if(!t)return"";for(var r="",i=!1,n=0;n<t.length;n++){var s=t[n];typeof s=="string"?r+=s:(r+=ur._go2(s),s.type_==="1st-level escape"&&(i=!0))}return!e&&!i&&r&&(r="{"+r+"}"),r},_goInner:function(t){return t&&ur.go(t,!0)},_go2:function(t){var e;switch(t.type_){case"chemfive":e="";var r={a:ur._goInner(t.a),b:ur._goInner(t.b),p:ur._goInner(t.p),o:ur._goInner(t.o),q:ur._goInner(t.q),d:ur._goInner(t.d)};r.a&&(r.a.match(/^[+\-]/)&&(r.a="{"+r.a+"}"),e+=r.a+"\\,"),(r.b||r.p)&&(e+="{\\vphantom{X}}",e+="^{\\hphantom{"+(r.b||"")+"}}_{\\hphantom{"+(r.p||"")+"}}",e+="{\\vphantom{X}}",e+="^{\\smash[t]{\\vphantom{2}}\\llap{"+(r.b||"")+"}}",e+="_{\\vphantom{2}\\llap{\\smash[t]{"+(r.p||"")+"}}}"),r.o&&(r.o.match(/^[+\-]/)&&(r.o="{"+r.o+"}"),e+=r.o),t.dType==="kv"?((r.d||r.q)&&(e+="{\\vphantom{X}}"),r.d&&(e+="^{"+r.d+"}"),r.q&&(e+="_{\\smash[t]{"+r.q+"}}")):t.dType==="oxidation"?(r.d&&(e+="{\\vphantom{X}}",e+="^{"+r.d+"}"),r.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+r.q+"}}")):(r.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+r.q+"}}"),r.d&&(e+="{\\vphantom{X}}",e+="^{"+r.d+"}"));break;case"rm":e="\\mathrm{"+t.p1+"}";break;case"text":t.p1.match(/[\^_]/)?(t.p1=t.p1.replace(" ","~").replace("-","\\text{-}"),e="\\mathrm{"+t.p1+"}"):e="\\text{"+t.p1+"}";break;case"roman numeral":e="\\mathrm{"+t.p1+"}";break;case"state of aggregation":e="\\mskip2mu "+ur._goInner(t.p1);break;case"state of aggregation subscript":e="\\mskip1mu "+ur._goInner(t.p1);break;case"bond":if(e=ur._getBond(t.kind_),!e)throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+t.kind_+")"];break;case"frac":var i="\\frac{"+t.p1+"}{"+t.p2+"}";e="\\mathchoice{\\textstyle"+i+"}{"+i+"}{"+i+"}{"+i+"}";break;case"pu-frac":var n="\\frac{"+ur._goInner(t.p1)+"}{"+ur._goInner(t.p2)+"}";e="\\mathchoice{\\textstyle"+n+"}{"+n+"}{"+n+"}{"+n+"}";break;case"tex-math":e=t.p1+" ";break;case"frac-ce":e="\\frac{"+ur._goInner(t.p1)+"}{"+ur._goInner(t.p2)+"}";break;case"overset":e="\\overset{"+ur._goInner(t.p1)+"}{"+ur._goInner(t.p2)+"}";break;case"underset":e="\\underset{"+ur._goInner(t.p1)+"}{"+ur._goInner(t.p2)+"}";break;case"underbrace":e="\\underbrace{"+ur._goInner(t.p1)+"}_{"+ur._goInner(t.p2)+"}";break;case"color":e="{\\color{"+t.color1+"}{"+ur._goInner(t.color2)+"}}";break;case"color0":e="\\color{"+t.color+"}";break;case"arrow":var s={rd:ur._goInner(t.rd),rq:ur._goInner(t.rq)},a=ur._getArrow(t.r);s.rd||s.rq?t.r==="<=>"||t.r==="<=>>"||t.r==="<<=>"||t.r==="<-->"?(a="\\long"+a,s.rd&&(a="\\overset{"+s.rd+"}{"+a+"}"),s.rq&&(t.r==="<-->"?a="\\underset{\\lower2mu{"+s.rq+"}}{"+a+"}":a="\\underset{\\lower6mu{"+s.rq+"}}{"+a+"}"),a=" {}\\mathrel{"+a+"}{} "):(s.rq&&(a+="[{"+s.rq+"}]"),a+="{"+s.rd+"}",a=" {}\\mathrel{\\x"+a+"}{} "):a=" {}\\mathrel{\\long"+a+"}{} ",e=a;break;case"operator":e=ur._getOperator(t.kind_);break;case"1st-level escape":e=t.p1+" ";break;case"space":e=" ";break;case"entitySkip":e="~";break;case"pu-space-1":e="~";break;case"pu-space-2":e="\\mkern3mu ";break;case"1000 separator":e="\\mkern2mu ";break;case"commaDecimal":e="{,}";break;case"comma enumeration L":e="{"+t.p1+"}\\mkern6mu ";break;case"comma enumeration M":e="{"+t.p1+"}\\mkern3mu ";break;case"comma enumeration S":e="{"+t.p1+"}\\mkern1mu ";break;case"hyphen":e="\\text{-}";break;case"addition compound":e="\\,{\\cdot}\\,";break;case"electron dot":e="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":e="{\\times}";break;case"prime":e="\\prime ";break;case"cdot":e="\\cdot ";break;case"tight cdot":e="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":e="\\times ";break;case"circa":e="{\\sim}";break;case"^":e="uparrow";break;case"v":e="downarrow";break;case"ellipsis":e="\\ldots ";break;case"/":e="/";break;case" / ":e="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return e},_getArrow:function(t){switch(t){case"->":return"rightarrow";case"→":return"rightarrow";case"⟶":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<-->":return"leftrightarrows";case"<=>":return"rightleftharpoons";case"⇌":return"rightleftharpoons";case"<=>>":return"Rightleftharpoons";case"<<=>":return"Leftrightharpoons";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(t){switch(t){case"-":return"{-}";case"1":return"{-}";case"=":return"{=}";case"2":return"{=}";case"#":return"{\\equiv}";case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\rlap{\\lower.1em{-}}\\raise.1em{\\tripledash}}";case"~=":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"~--":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"-~-":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{-}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(t){switch(t){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":return" {}\\approx{} ";case"$\\approx$":return" {}\\approx{} ";case"v":return" \\downarrow{} ";case"(v)":return" \\downarrow{} ";case"^":return" \\uparrow{} ";case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}},vP=class bP extends ue{constructor(e){super(Z(q({},e),{type:"delim"})),this.value=e.delim,this.size=e.size}static fromJson(e){return new bP(e)}toJson(){return Z(q({},super.toJson()),{delim:this.value,size:this.size})}render(e){return new Ae(this.value,{type:"middle"})}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=xi(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):tr(this.command,this.value)}},xP=class _P extends ue{constructor(e){super(Z(q({},e),{type:"sizeddelim",value:e.delim})),this.delimType=e.delimType,this.size=e.size}static fromJson(e){return new _P(e)}toJson(){return Z(q({},super.toJson()),{delim:this.value,size:this.size,delimType:this.delimType})}render(e){let r=kle(this.value,this.size,e,{classes:{open:"ML__open",close:"ML__close"}[this.delimType],type:this.delimType,isSelected:this.isSelected});return r?(r=this.bind(e,r),this.caret&&(r.caret=this.caret),r):null}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=xi(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,e):tr(this.command,this.value)}},Ap=class wP extends ue{constructor(e,r,i,n){var s,a;super({type:"enclose",command:e,style:n.style}),this.body=r,this.backgroundcolor=n.backgroundcolor,i.updiagonalarrow&&(i.updiagonalstrike=!1),i.box&&(i.left=!1,i.right=!1,i.bottom=!1,i.top=!1),this.notation=i,this.shadow=(s=n.shadow)!=null?s:"none",this.strokeWidth=(a=n.strokeWidth)!=null?a:"0.06em",this.strokeWidth||(this.strokeWidth="0.06em"),this.strokeStyle=n.strokeStyle,this.svgStrokeStyle=n.svgStrokeStyle,this.strokeColor=n.strokeColor,this.borderStyle=n.borderStyle,this.padding=n.padding,this.captureSelection=!1}static fromJson(e){return new wP(e.command,e.body,e.notation,e)}toJson(){return Z(q({},super.toJson()),{notation:this.notation,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding})}_serialize(e){var r;if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let i=xi(this.command,this.mode);if(i!=null&&i.serialize)return i.serialize(this,e);let n=(r=this.command)!=null?r:"";if(this.command==="\\enclose"){n+="{"+Object.keys(this.notation).join(" ")+"}";let s="",a="";this.backgroundcolor&&this.backgroundcolor!=="transparent"&&(s+=a+'mathbackground="'+this.backgroundcolor+'"',a=","),this.shadow&&this.shadow!=="auto"&&(s+=a+'shadow="'+this.shadow+'"',a=","),this.strokeWidth||this.strokeStyle!=="solid"?(s+=a+this.borderStyle,a=","):this.strokeColor&&this.strokeColor!=="currentColor"&&(s+=a+'mathcolor="'+this.strokeColor+'"',a=","),s&&(n+=`[${s}]`)}return tr(n,this.bodyToLatex(e))}render(e){let r=new Pt({parent:e},this.style),i=ue.createBox(r,this.body);if(!i)return null;let n=Ule(this.borderStyle),s=r.toEm(!this.padding||this.padding==="auto"?{register:"fboxsep"}:{string:this.padding});i.setStyle("position","relative"),i.setStyle("display","inline-block"),i.setStyle("top",s-i.depth,"em"),i.setStyle("height",i.height+i.depth,"em"),i.setStyle("width",i.width,"em");let a=new Ae(null,{classes:"ML__notation"}),o=i.height+i.depth+2*s,l=i.width+2*s,u="";if(this.notation.horizontalstrike&&(u+=this.line(3,50,97,50)),this.notation.verticalstrike&&(u+=this.line(50,3,50,97)),this.notation.updiagonalstrike&&(u+=this.line(3,97,97,3)),this.notation.downdiagonalstrike&&(u+=this.line(3,3,97,97)),this.notation.updiagonalarrow){u+=this.line(s.toString(),(s+i.depth+i.height).toString(),(s+i.width).toString(),s.toString());let h=.03*Math.sqrt(l*l+o*o)*1,f=i.width*h,g=(i.depth+i.height)*h,y=s+i.width,C=s;C+g-.4*f<0&&(C=.4*f-g),u+='<polygon points="',u+=`${y},${C} ${y-f-.4*g},${C+g-.4*f} `,u+=`${y-.7*f},${C+.7*g} ${y-f+.4*g},${C+g+.4*f} `,u+=`${y},${C}`,u+=`" stroke='none' fill="${this.strokeColor}"`,u+="/>"}let c=0;if(this.notation.phasorangle){let h=MC(r),f=(i.height+i.depth+2*h+s).toString(),g=(i.height+i.depth)/2;u+=this.line(s.toString(),f,(s+g+i.width).toString(),f),u+=this.line(s.toString(),f,(s+g).toString(),(s-h).toString()),o+=h,c=g,i.left+=o/2-s}if(this.notation.longdiv){let h=MC(r);o+=h,u+=this.line(s.toString(),s.toString(),(s+i.width).toString(),s.toString());let f=.3;c=f+h,i.left+=f+h,i.setTop(s+h),u+='<path d="',u+=`M ${s} ${s}  a${f} ${(i.depth+i.height+2*h)/2}, 0, 1, 1, 0 ${i.depth+i.height+2*h} "`,u+=` stroke-width="${qle(r)}" stroke="${this.strokeColor}" fill="none"`,u+="/>"}if(a.width=i.width+2*s+c,a.height=i.height+s,a.depth=i.depth+s,a.setStyle("box-sizing","border-box"),a.setStyle("left",`calc(-${n} / 2 - ${(i.width+s)/2}em)`),a.setStyle("height",`${Math.floor(100*o)/100}em`),a.setStyle("top",`calc(${n} / 2 + ${s/2-i.height}em)`),this.backgroundcolor&&a.setStyle("background-color",this.backgroundcolor),this.notation.box&&a.setStyle("border","1px solid red"),this.notation.actuarial&&(a.setStyle("border-top",this.borderStyle),a.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(a.setStyle("border-bottom",this.borderStyle),a.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(a.setStyle("border-radius","8px"),a.setStyle("border",this.borderStyle)),this.notation.circle&&(a.setStyle("border-radius","50%"),a.setStyle("border",this.borderStyle)),this.notation.top&&a.setStyle("border-top",this.borderStyle),this.notation.left&&a.setStyle("border-left",this.borderStyle),this.notation.right&&a.setStyle("border-right",this.borderStyle),this.notation.bottom&&a.setStyle("border-bottom",this.borderStyle),u){let h="";this.shadow==="auto"&&(h+="filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)"),this.shadow!=="none"&&(h+=`filter: drop-shadow(${this.shadow})`),h+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,h+=' stroke-linecap="round"',this.svgStrokeStyle&&(h+=` stroke-dasharray="${this.svgStrokeStyle}"`),a.svgStyle=h,a.svgOverlay=u}let d=new Ae([a,i]);return d.setStyle("position","relative"),d.setStyle("vertical-align",s,"em"),d.setStyle("height",`${Math.floor(100*(i.height+i.depth+2*s))/100}em`),d.setStyle("display","inline-block"),d.height=a.height,d.depth=a.depth,d.width=a.width-2*s,d.left=s,d.right=s,this.caret&&(d.caret=this.caret),d.wrap(r)}line(e,r,i,n){return`<line x1="${Lm(e)}"  y1="${Lm(r)}" x2="${Lm(i)}" y2="${Lm(n)}" vector-effect="non-scaling-stroke"></line>`}};function Lm(t){return typeof t=="number"?`${Math.floor(100*t)/100}%`:t}function Ule(t){if(!t)return"1px";let e=t.match(/([0-9][a-zA-Z\%]+)/);return e===null?"1px":e[1]}function qle(t){return(Math.floor(100*t.metrics.sqrtRuleThickness/t.scalingFactor)/100/10).toString()+"em"}function MC(t){let e=t.isDisplayStyle?ol:t.metrics.defaultRuleThickness;return t.metrics.defaultRuleThickness+t.scalingFactor*e/4}var l1={fractionNavigationOrder:"numerator-denominator"},qu=class SP extends ue{constructor(e,r,i){var n,s,a;super(Z(q({},i),{type:"genfrac",displayContainsHighlight:!0})),this.above=e,this.below=r,this.hasBarLine=(n=i==null?void 0:i.hasBarLine)!=null?n:!0,this.continuousFraction=(s=i==null?void 0:i.continuousFraction)!=null?s:!1,this.align=(a=i==null?void 0:i.align)!=null?a:"center",this.numerPrefix=i==null?void 0:i.numerPrefix,this.denomPrefix=i==null?void 0:i.denomPrefix,this.mathstyleName=i==null?void 0:i.mathstyleName,this.leftDelim=i==null?void 0:i.leftDelim,this.rightDelim=i==null?void 0:i.rightDelim}static fromJson(e){return new SP(e.above,e.below,e)}toJson(){let e={};return this.continuousFraction&&(e.continuousFraction=!0),this.align!=="center"&&(e.align=this.align),this.numerPrefix&&(e.numerPrefix=this.numerPrefix),this.denomPrefix&&(e.denomPrefix=this.denomPrefix),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.hasBarLine||(e.hasBarLine=!1),this.mathstyleName&&(e.mathstyleName=this.mathstyleName),q(q({},super.toJson()),e)}get children(){if(this._children)return this._children;let e=[];if(l1.fractionNavigationOrder==="denominator-numerator"){for(let r of this.below)e.push(...r.children),e.push(r);for(let r of this.above)e.push(...r.children),e.push(r)}else{for(let r of this.above)e.push(...r.children),e.push(r);for(let r of this.below)e.push(...r.children),e.push(r)}return this._children=e,e}render(e){var r,i;let n=new Pt({parent:e,mathstyle:this.mathstyleName},this.style),s=n.metrics,a=new Pt({parent:n,mathstyle:this.continuousFraction?"":"numerator"},this.style),o=this.numerPrefix?new Ae([new Ae(this.numerPrefix),ue.createBox(a,this.above)],{isTight:a.isTight,type:"ignore"}):(r=ue.createBox(a,this.above,{type:"ignore"}))!=null?r:new Ae(null,{type:"ignore"}),l=new Pt({parent:n,mathstyle:this.continuousFraction?"":"denominator"},this.style),u=this.denomPrefix?new Ae([new Ae(this.denomPrefix),ue.createBox(l,this.below,{type:"ignore"})]):(i=ue.createBox(l,this.below,{type:"ignore"}))!=null?i:new Ae(null,{type:"ignore"}),c=this.hasBarLine?s.defaultRuleThickness:0,d,h=0,f;n.isDisplayStyle?(d=a.metrics.num1,h=c>0?3*c:7*c,f=l.metrics.denom1):(c>0?(d=a.metrics.num2,h=c):(d=a.metrics.num3,h=3*s.defaultRuleThickness),f=l.metrics.denom2);let g=[];this.isSelected&&g.push("ML__selected");let y=o.depth,C=u.height,S;if(c<=0){let F=d-y-(C-f);F<h&&(d+=(h-F)/2,f+=(h-F)/2),S=new zr({individualShift:[{box:o,shift:-d,classes:[...g,Bm(this.align)]},{box:u,shift:f,classes:[...g,Bm(this.align)]}]}).wrap(n)}else{let F=new Ae(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});F.softWidth=Math.max(o.width,u.width),F.height=c/2,F.depth=c/2;let V=Ts+c/2;d<h+y+V&&(d=h+y+V);let O=Ts-c/2;f<h+C-O&&(f=h+C-O),S=new zr({individualShift:[{box:u,shift:f,classes:[...g,Bm(this.align)]},{box:F,shift:-O,classes:g},{box:o,shift:-d,classes:[...g,Bm(this.align)]}]}).wrap(n)}let A=n.isDisplayStyle?s.delim1:s.delim2,T=this.leftDelim?this.bind(e,dg("open",this.leftDelim,A,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})):Pu(n,"ML__open"),M=null;this.continuousFraction?M=new Ae(null,{type:"close"}):this.rightDelim?M=this.bind(e,dg("close",this.rightDelim,A,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})):M=Pu(n,"ML__close");let D=new Ae([T,S,M],{isTight:n.isTight,type:"inner",classes:"ML__mfrac"}),B=this.bind(e,D);return this.caret&&(B.caret=this.caret),this.attachSupsub(e,{base:B})}};function Bm(t){var e;return(e={left:"ML__left",right:"ML__right",center:"ML__center"}[t])!=null?e:"ML__center"}var ii=class CP extends ue{constructor(e,r){var i;super({type:"latex",value:e,mode:"latex"}),this.isSuggestion=(i=r==null?void 0:r.isSuggestion)!=null?i:!1,this.isError=!1}static fromJson(e){let r=new CP(e.value);return e.isSuggestion&&(r.isSuggestion=!0),e.isError&&(r.isError=!0),r}toJson(){let e={};return this.isSuggestion&&(e.isSuggestion=!0),this.isError&&(e.isError=!0),q({type:"latex",value:this.value},e)}render(e){let r=new Ae(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}},Ch=class kP extends ue{constructor(e=""){super({type:"latexgroup",mode:"latex"}),this.body=[...e].map(r=>new ii(r)),this.skipBoundary=!0}static fromJson(e){return new kP}toJson(){return super.toJson()}render(e){let r=ue.createBox(e,this.body);return r?(this.caret&&(r.caret=this.caret),this.bind(e,r)):null}_serialize(e){var r,i;return(i=(r=this.body)==null?void 0:r.map(n=>n.value).join(""))!=null?i:""}},A6=class TP extends ue{constructor(e,r){super(Z(q({},r),{type:"extensible-symbol",isFunction:r==null?void 0:r.isFunction})),this.value=e,this.variant=r==null?void 0:r.variant,this.subsupPlacement=r==null?void 0:r.limits}static fromJson(e){return new TP(e.symbol,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.value&&(e.symbol=this.value),e}render(e){var r;let i=e.isDisplayStyle&&this.value!=="\\smallint",n=new Ae(this.value,{fontFamily:i?"Size2-Regular":"Size1-Regular",classes:"ML__op-symbol "+(i?"ML__large-op":"ML__small-op"),type:"op",maxFontSize:e.scalingFactor,isSelected:this.isSelected});if(!n)return null;n.right=n.italic;let s=(n.height-n.depth)/2-Ts*e.scalingFactor,a=n.italic;n.setTop(s);let o=n;if(this.superscript||this.subscript){let l=(r=this.subsupPlacement)!=null?r:"auto";l==="auto"&&e.isDisplayStyle&&(l="over-under"),o=l==="over-under"?this.attachLimits(e,{base:n,baseShift:s,slant:a}):this.attachSupsub(e,{base:n})}return new Ae(this.bind(e,o),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(e)}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=xi(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let i=[];return i.push(this.command),this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&i.push("\\limits"),this.subsupPlacement==="adjacent"&&i.push("\\nolimits"),this.subsupPlacement==="auto"&&i.push("\\displaylimits")),i.push(this.supsubToLatex(e)),kt(i)}},ju=class EP extends ue{constructor(e){let r=e.body;super(Z(q({},e),{type:"overlap",body:typeof r=="string"?[new ue({value:r})]:r,style:e==null?void 0:e.style})),this.skipBoundary=!0,this.align=e==null?void 0:e.align,this.boxType=e==null?void 0:e.boxType}static fromJson(e){return new EP(e)}toJson(){let e={};return this.align&&(e.align=this.align),this.boxType&&(e.boxType=this.boxType),q(q({},super.toJson()),e)}render(e){let r=ue.createBox(e,this.body,{classes:"ML__inner"});return r?(this.caret&&(r.caret=this.caret),this.bind(e,new Ae([r,new Ae(null,{classes:"ML__fix"})],{classes:this.align==="right"?"ML__rlap":"ML__llap",type:this.boxType}))):null}},us=class AP extends ue{constructor(e){var r,i,n,s;super({type:"overunder",command:e.command,style:e.style,mode:e.mode,body:e.body,skipBoundary:(r=e.skipBoundary)!=null?r:!0}),this.subsupPlacement=e.supsubPlacement,this.svgAbove=e.svgAbove,this.svgBelow=e.svgBelow,this.svgBody=e.svgBody,this.above=e.above,this.below=e.below,this.boxType=(i=e.boxType)!=null?i:"ord",this.paddedBody=(n=e.paddedBody)!=null?n:!1,this.paddedLabels=(s=e.paddedLabels)!=null?s:!1}static fromJson(e){return new AP(e)}toJson(){let e=super.toJson();return this.skipBoundary||(e.skipBoundary=!1),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.svgAbove&&(e.svgAbove=this.svgAbove),this.svgBelow&&(e.svgBelow=this.svgBelow),this.svgBody&&(e.svgBody=this.svgBody),this.boxType!=="ord"&&(e.boxType=this.boxType),this.paddedBody&&(e.paddedBody=!0),this.paddedLabels&&(e.paddedLabels=!0),e}render(e){let r=this.svgBody?n1(this.svgBody):ue.createBox(e,this.body,{type:"ignore"}),i=new Pt({parent:e,mathstyle:"scriptstyle"},this.style),n=null;this.svgAbove?n=n1(this.svgAbove):this.above&&(n=ue.createBox(i,this.above,{type:"ignore"}));let s=null;this.svgBelow?s=n1(this.svgBelow):this.below&&(s=ue.createBox(i,this.below,{type:"ignore"})),this.paddedBody&&(r=new Ae([Pu(e,"ML__open"),r,Pu(e,"ML__close")],{type:"ignore"}));let a=jle(e,{base:r,above:n,below:s,type:this.boxType==="bin"||this.boxType==="rel"?this.boxType:"ord",paddedAboveBelow:this.paddedLabels});return a?(this.subsupPlacement==="over-under"?a=this.attachLimits(e,{base:a,type:a.type}):a=this.attachSupsub(e,{base:a}),this.caret&&(a.caret=this.caret),this.bind(e,a)):null}};function jle(t,e){if(!e.base)return null;if(!e.above&&!e.below){let o=new Ae(e.base,{type:e.type});return o.setStyle("position","relative"),o}let r=0;e.above&&(r=t.metrics.bigOpSpacing5);let i=null,n=e.base,s=0,a=["ML__center"];if(e.paddedAboveBelow&&a.push("ML__label_padding"),e.below&&e.above){let o=t.metrics.bigOpSpacing5+e.below.height+e.below.depth+n.depth+s;i=new zr({bottom:o,children:[t.metrics.bigOpSpacing5,{box:e.below,classes:a},{box:n,classes:["ML__center"]},r,{box:e.above,classes:a},t.metrics.bigOpSpacing5]})}else e.below?i=new zr({top:n.height-s,children:[t.metrics.bigOpSpacing5,{box:e.below,classes:a},{box:n,classes:["ML__center"]}]}):e.above&&(i=new zr({bottom:n.depth+s,children:[{box:n,classes:["ML__center"]},r,{box:e.above,classes:a},t.metrics.bigOpSpacing5]}));return new Ae(i,{type:e.type})}var J0=class MP extends ue{constructor(e){var r,i,n,s;super(Z(q({},e),{type:"phantom"})),this.captureSelection=!0,this.isInvisible=(r=e.isInvisible)!=null?r:!1,this.smashDepth=(i=e.smashDepth)!=null?i:!1,this.smashHeight=(n=e.smashHeight)!=null?n:!1,this.smashWidth=(s=e.smashWidth)!=null?s:!1}static fromJson(e){return new MP(e)}toJson(){let e={};return this.isInvisible&&(e.isInvisible=!0),this.smashDepth&&(e.smashDepth=!0),this.smashHeight&&(e.smashHeight=!0),this.smashWidth&&(e.smashWidth=!0),q(q({},super.toJson()),e)}render(e){let r=new Pt({parent:e,isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return this.isInvisible,ue.createBox(r,this.body,{classes:"ML__inner"});let i=ue.createBox(this.isInvisible?r:e,this.body);if(!i)return null;if(this.smashWidth){let n=new Ae(null,{classes:"ML__fix"});return new Ae([i,n],{classes:"ML__rlap"}).wrap(e)}if(!this.smashHeight&&!this.smashDepth)return i;if(this.smashHeight&&(i.height=0),this.smashDepth&&(i.depth=0),i.children)for(let n of i.children)this.smashHeight&&(n.height=0),this.smashDepth&&(n.depth=0);return new zr({firstBaseline:[{box:i}]},{type:i.type}).wrap(e)}},Mp=class DP extends ue{constructor(e){var r;super(q({type:"spacing"},e)),this.width=e==null?void 0:e.width,this._braced=(r=e==null?void 0:e.braced)!=null?r:!1}static fromJson(e){return new DP(e)}toJson(){let e=super.toJson();return this.width!==void 0&&(e.width=this.width),this._braced&&(e.braced=!0),e}render(e){var r;if(this.command==="space")return new Ae(this.mode==="math"?null:" ");let i;if(this.width!==void 0)i=new Ae(null,{classes:"ML__mspace"}),i.left=e.toEm(this.width);else{let n=(r={"\\qquad":"ML__qquad","\\quad":"ML__quad","\\enspace":"ML__enspace","\\;":"ML__thickspace","\\:":"ML__mediumspace","\\>":"ML__mediumspace","\\,":"ML__thinspace","\\!":"ML__negativethinspace"}[this.command])!=null?r:"ML__mediumspace";i=new Ae(null,{classes:n})}return i=this.bind(e,i),this.caret&&(i.caret=this.caret),i}_serialize(e){var r;if(!e.expandMacro&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let i=xi(this.command,this.mode);if(i!=null&&i.serialize)return i.serialize(this,e);let n=(r=this.command)!=null?r:"";return this.width===void 0?n:this._braced&&!("register"in this.width)?`${n}{${fi(this.width)}}`:`${n}${fi(this.width)}`}},LP=class BP extends ue{constructor(e){var r;super(Z(q({},e),{type:"surd",mode:(r=e.mode)!=null?r:"math",style:e.style,displayContainsHighlight:!0,body:e.body})),this.above=e.index}static fromJson(e){return new BP(Z(q({},e),{index:e.above}))}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=xi(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let i=this.command,n=this.bodyToLatex(e);return this.above&&!this.hasEmptyBranch("above")?tr(`${i}[${this.aboveToLatex(e)}]`,n):/^[0-9]$/.test(n)?`${i}${n}`:tr(i,n)}get children(){if(this._children)return this._children;let e=[];if(this.above)for(let r of this.above)e.push(...r.children),e.push(r);if(this.body)for(let r of this.body)e.push(...r.children),e.push(r);return this._children=e,e}render(e){var r;let i=new Pt({parent:e,mathstyle:"cramp"},this.style),n=(r=ue.createBox(i,this.body,{type:"inner"}))!=null?r:new Ae(null),s=i.scalingFactor,a=i.metrics.defaultRuleThickness/s,o=e.isDisplayStyle?ol:a,l=new Ae(null,{classes:"ML__sqrt-line",style:this.style});l.height=a,l.softWidth=n.width;let u=s*(a+o/4),c=Math.max(s*2*o,n.height+n.depth)+u+a,d=new Pt({parent:e},this.style),h=this.bind(d,new Ae(dg("inner","\\surd",c,!1,d,{isSelected:this.isSelected}),{isSelected:this.isSelected,classes:"ML__sqrt-sign",style:this.style}));if(!h)return null;let f=h.height+h.depth-a;f>n.height+n.depth+u&&(u=(u+f-(n.height+n.depth))/2),h.setTop(h.height-n.height-u);let g=this.bind(e,new zr({firstBaseline:[{box:new Ae(n)},u-2*a,{box:l},a]})),y=ue.createBox(new Pt({parent:e,mathstyle:"scriptscriptstyle"}),this.above,{type:"ignore"});if(!y){let A=new Ae([h,g],{classes:this.containsCaret?"ML__contains-caret":"",type:"inner"});return A.setStyle("display","inline-block"),A.setStyle("height",A.height+A.depth,"em"),this.caret&&(A.caret=this.caret),this.bind(e,A)}let C=new zr({shift:-.6*(Math.max(h.height,g.height)-Math.max(h.depth,g.depth)),children:[{box:y}]}),S=new Ae([new Ae(C,{classes:"ML__sqrt-index",type:"ignore"}),h,g],{type:"inner",classes:this.containsCaret?"ML__contains-caret":""});return S.height=h.height,S.depth=h.depth,this.caret&&(S.caret=this.caret),this.bind(e,S)}},Vle=class extends Ae{constructor(t){super(null,{type:"skip"}),this._width=t}toMarkup(){return`<span style="display:inline-block;width:${Math.ceil(this.width*100)/100}em"></span>`}};function u1(t,e){if(!t.parent)return;let r=t.parent.children,i=r.indexOf(t),n=i-1;for(;n>=0&&r[n].type==="ignore";)n-=1;if(n<0&&t.parent.parent&&t.parent.type==="lift"){u1(t.parent,e);return}i>0&&r[i-1].type==="skip"?r[i-1].width+=e:r.splice(i,0,new Vle(e))}var Hle={ord:{op:3,bin:4,rel:5,inner:3},op:{ord:3,op:3,rel:5,inner:3},bin:{ord:4,op:4,open:4,inner:4},rel:{ord:5,op:5,open:5,inner:5},close:{op:3,bin:4,rel:5,inner:3},punct:{ord:3,op:3,rel:3,open:3,punct:3,inner:3},inner:{ord:3,op:3,bin:4,rel:5,open:3,punct:3,inner:3}},Kle={ord:{op:3},op:{ord:3,op:3},close:{op:3},inner:{op:3}};function Wle(t){kh(t,(e,r)=>{r.type==="bin"&&(!e||/^(middle|bin|op|rel|open|punct)$/.test(e.type))&&(r.type="ord"),(e==null?void 0:e.type)==="bin"&&/^(rel|close|punct)$/.test(r.type)&&(e.type="ord"),r.type!=="ignore"&&(e=r)})}function Dp(t,e){if(!t.children)return t;let r=t.children;Wle(r);let i=e.getRegisterAsEm("thinmuskip"),n=e.getRegisterAsEm("medmuskip"),s=e.getRegisterAsEm("thickmuskip");return kh(r,(a,o)=>{var l,u,c;if(!a)return;let d=a.type,h=o.isTight?(l=Kle[d])!=null?l:null:(u=Hle[d])!=null?u:null,f=(c=h==null?void 0:h[o.type])!=null?c:null;f===3&&u1(o,i),f===4&&u1(o,n),f===5&&u1(o,s)}),t}function kh(t,e,r=void 0){if(!t)return r;t=[...t];for(let i of t)i.type==="lift"?r=kh(i.children,e,r):i.type==="ignore"?kh(i.children,e):(e(r,i),kh(i.children,e),r=i);return r}var M6=class PP extends ue{constructor(e){super({type:"tooltip",command:e.command,mode:e.mode,style:e.style,body:e.body,displayContainsHighlight:!0}),this.tooltip=new ue({type:"root",mode:e.content,body:e.tooltip,style:{}}),this.skipBoundary=!0,this.captureSelection=!1}static fromJson(e){return new PP(Z(q({},e),{tooltip:ll(e.tooltip)}))}toJson(){var e;let r=(e=this.tooltip.body)==null?void 0:e.filter(i=>i.type!=="first").map(i=>i.toJson());return Z(q({},super.toJson()),{tooltip:r})}render(e){let r=ue.createBox(new Pt,this.body);if(!r)return null;let i=new Pt({parent:e,mathstyle:"displaystyle"},{fontSize:S6}),n=E2(Dp(new Ae(this.tooltip.render(i),{classes:"ML__tooltip-content"}),i)),s=new Ae([n,r],{classes:"ML__tooltip-container"});return this.caret&&(s.caret=this.caret),this.bind(e,s)}},Vu=class IP extends ue{constructor(e,r){super(Z(q({},r),{type:"operator",isFunction:r==null?void 0:r.isFunction})),this.value=e,this.variant=r==null?void 0:r.variant,this.variantStyle=r==null?void 0:r.variantStyle,this.subsupPlacement=r==null?void 0:r.limits}static fromJson(e){return new IP(e.symbol,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.variantStyle&&(e.variantStyle=this.variantStyle),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.value&&(e.symbol=this.value),e}render(e){var r;let i=new Ae(this.value,{type:"op",mode:"math",maxFontSize:e.scalingFactor,style:{variant:this.variant,variantStyle:this.variantStyle},isSelected:this.isSelected,letterShapeStyle:e.letterShapeStyle}),n=i;if(this.superscript||this.subscript){let s=(r=this.subsupPlacement)!=null?r:"auto";n=s==="over-under"||s==="auto"&&e.isDisplayStyle?this.attachLimits(e,{base:i}):this.attachSupsub(e,{base:i})}return new Ae(this.bind(e,n),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(e)}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=xi(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let i=[this.command];return this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&i.push("\\limits"),this.subsupPlacement==="adjacent"&&i.push("\\nolimits"),this.subsupPlacement==="auto"&&i.push("\\displaylimits")),i.push(this.supsubToLatex(e)),kt(i)}};function ll(t){if(gi(t))return t.map(i=>ll(i));if(typeof t=="string")return ue.fromJson(t);t=q({},t);for(let i of T0)t[i]&&(t[i]=ll(t[i]));t.args&&(t.args=Gle(t.args)),t.array&&(t.array=ll(t.array));let e=t.type,r;e==="accent"&&(r=D2.fromJson(t)),e==="array"&&(r=Tt.fromJson(t)),e==="box"&&(r=vl.fromJson(t)),e==="chem"&&(r=gP.fromJson(t)),e==="composition"&&(r=rP.fromJson(t)),e==="delim"&&(r=vP.fromJson(t)),e==="enclose"&&(r=Ap.fromJson(t)),e==="error"&&(r=nu.fromJson(t)),e==="extensible-symbol"&&(r=A6.fromJson(t)),e==="genfrac"&&(r=qu.fromJson(t)),e==="group"&&(r=sP.fromJson(t)),e==="latex"&&(r=ii.fromJson(t)),e==="latexgroup"&&(r=Ch.fromJson(t)),e==="leftright"&&(r=br.fromJson(t)),e==="macro"&&(r=uP.fromJson(t)),e==="macro-argument"&&(r=$le.fromJson(t)),e==="operator"&&(r=Vu.fromJson(t)),e==="overlap"&&(r=ju.fromJson(t)),e==="overunder"&&(r=us.fromJson(t)),e==="placeholder"&&(r=fa.fromJson(t)),e==="prompt"&&(r=hP.fromJson(t)),e==="phantom"&&(r=J0.fromJson(t)),e==="sizeddelim"&&(r=xP.fromJson(t)),e==="spacing"&&(r=Mp.fromJson(t)),e==="subsup"&&(r=P2.fromJson(t)),e==="surd"&&(r=LP.fromJson(t)),e==="text"&&(r=Y0.fromJson(t)),e==="tooltip"&&(r=M6.fromJson(t)),r||(r=ue.fromJson(t));for(let i of T0)t[i]&&r.setChildren(t[i],i);return t.verbatimLatex!==void 0&&(r.verbatimLatex=t.verbatimLatex),t.subsupPlacement&&(r.subsupPlacement=t.subsupPlacement),t.explicitSubsupPlacement&&(r.explicitSubsupPlacement=!0),t.isFunction&&(r.isFunction=!0),t.skipBoundary&&(r.skipBoundary=!0),t.captureSelection&&(r.captureSelection=!0),r}function Gle(t){if(t){if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e=>e==="<null>"?null:typeof e=="object"&&"group"in e?{group:e.group.map(r=>ll(r))}:typeof e=="object"&&"atoms"in e?e.atoms.map(r=>ll(r)):e)}}function D6(t,e){!t||!e||(gi(t)?t.forEach(r=>D6(r,e)):typeof t=="object"&&t.applyStyle(e,{unstyledOnly:!0}))}function j5(t,e,r,i){function n(a,o){for(let l of s)if(l.style[a]!==o)return!1;return!0}if(e=t.normalizeRange(e),e[0]===e[1])return!1;let s=t.getAtoms(e,{includeChildren:!0});i.operation==="toggle"&&(r.color&&n("color",r.color)&&(r.color="none",delete r.verbatimColor),r.backgroundColor&&n("backgroundColor",r.backgroundColor)&&(r.backgroundColor="none",delete r.verbatimBackgroundColor),r.fontFamily&&n("fontFamily",r.fontFamily)&&(r.fontFamily="none"),r.fontSeries&&n("fontSeries",r.fontSeries)&&(r.fontSeries="auto"),r.fontShape&&n("fontShape",r.fontShape)&&(r.fontShape="auto"),r.fontSize&&n("fontSize",r.fontSize)&&(r.fontSize=S6),r.variant&&n("variant",r.variant)&&(r.variant="normal"),r.variantStyle&&n("variantStyle",r.variantStyle)&&(r.variantStyle=""));for(let a of s)a.applyStyle(r);return!0}function Xle(t){return{up:"italic",bold:"bolditalic",italic:"italic",bolditalic:"bolditalic","":"italic"}[t??""]}function I2(t){return{up:"up",bold:"bold",italic:void 0,bolditalic:"bold","":void 0}[t??""]}var DC={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic","ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams ML__bold"],"ams-italic":["AMS-Regular","ML__ams ML__it"],"ams-bolditalic":["AMS-Regular","ML__ams ML__bold ML__it"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans ML__it"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans ML__bold ML__it"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular","ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak ML__bold"],"fraktur-italic":["Fraktur-Regular","ML__frak ML__it"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak ML__bold ML__it"],monospace:["Typewriter-Regular","ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb ML__bold"],"double-struck-italic":["AMS-Regular","ML__bb ML_italic"],"double-struck-bolditalic":["AMS-Regular","ML__bb ML_bolditalic"]},V5={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^’‘]$/,monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},RP=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,Yle=/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/,Zle=[/^[a-z]$/,/^[A-Z]$/,RP,Yle],Jle={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],upright:["up","up","up","up"]},Qle=class extends Mn{constructor(){super("math")}createAtom(t,e,r){var i,n,s,a,o,l;if(e===null)return new ue({type:"mord",mode:"math",command:t,value:t,style:r});let u;try{u=(s=(n=globalThis.MathfieldElement)==null?void 0:n.isFunction((i=e.command)!=null?i:t))!=null?s:!1}catch{u=!1}if(e.definitionType==="symbol"){let d=new ue({type:(a=e.type)!=null?a:"mord",mode:"math",command:(o=e.command)!=null?o:t,value:String.fromCodePoint(e.codepoint),isFunction:u,style:r});return t.startsWith("\\")&&(d.verbatimLatex=t),d}let c=new ue({type:"mord",mode:"math",command:(l=e.command)!=null?l:t,value:t,isFunction:u,style:r});return t.startsWith("\\")&&(c.verbatimLatex=t),c}serialize(t,e){let r=eue(t,Z(q({},e),{defaultMode:"math"}));return r.length===0||e.defaultMode!=="text"?r:["$ ",...r," $"]}getFont(t,e){var r,i;if(e.variant,e.fontFamily){let[u,c]=DC[e.fontFamily];return c&&(t.classes+=" "+c),u}let{variant:n}=e,{variantStyle:s}=e;if(n==="normal"&&!s&&/[\u00A3\u0131\u0237]/.test(t.value)&&(n="main",s="italic"),n==="normal"&&!s&&t.value.length===1){let u=!1;Zle.forEach((c,d)=>{var h;c.test(t.value)&&Jle[(h=e.letterShapeStyle)!=null?h:"tex"][d]==="it"&&(u=!0)}),u&&(s=Xle(s))}s==="up"&&(s=void 0);let a=s?n+"-"+s:n,[o,l]=DC[a];if(V5[n]&&!V5[n].test(t.value)){let u=D5(t.value,n,s);return u||(u=(r=D5(t.value,n))!=null?r:t.value,t.classes+=(i={bold:" ML__bold",italic:" ML__it","bold-italic":" ML__bold ML__it"}[s??""])!=null?i:""),t.value=u,null}return RP.test(t.value)&&(t.classes+=" lcGreek"),l&&(t.classes+=" "+l),o}};function eue(t,e){return fo(t,"bold").map(r=>{if(F5(r[0])!=="bold"||F5(r[0].parent)==="bold")return kt(Pm(r,e));let i=kt(r.map(n=>{var s;return(s=n.value)!=null?s:""}));return/^[a-zA-Z0-9]+$/.test(i)?tr("\\mathbf",kt(Pm(r,e))):tr("\\bm",kt(Pm(r,e)))})}function Pm(t,e){let{parent:r}=t[0],i=N5(r);return fo(t,"variant").map(n=>{let s=N5(n[0]),a="";s&&s!==i&&(a={calligraphic:"\\mathcal","calligraphic-uo":"\\mathcal",fraktur:"\\mathfrak","fraktur-uo":"\\mathfrak","double-struck":"\\mathbb","double-struck-uo":"\\mathbb",script:"\\mathscr","script-uo":"\\mathscr",monospace:"\\mathtt","monospace-uo":"\\mathtt","sans-serif":"\\mathsf","sans-serif-uo":"\\mathsf",normal:"","normal-up":"\\mathrm","normal-italic":"\\mathnormal","normal-bold":"","normal-bolditalic":"\\mathbfit",ams:"","ams-up":"\\mathrm","ams-italic":"\\mathit","ams-bold":"","ams-bolditalic":"\\mathbfit",main:"","main-up":"\\mathrm","main-italic":"\\mathit","main-bold":"","main-bolditalic":"\\mathbfit"}[s]);let o=kt(n.map(l=>l._serialize(e)));return a?tr(a,o):o})}new Qle;function tue(t,e){return t.map(r=>r._serialize(e))}function rue(t,e){return fo(t,"fontShape").map(r=>{let i=tue(r,e),{fontShape:n}=r[0].style,s="";return n==="it"&&(s="\\textit"),n==="sl"&&(s="\\textsl"),n==="sc"&&(s="\\textsc"),n==="n"&&(s="\\textup"),!s&&n?`{${tr("\\fontshape",n)}${kt(i)}}`:s?tr(s,kt(i)):kt(i)})}function iue(t,e){return fo(t,"fontSeries").map(r=>{let i=rue(r,e),{fontSeries:n}=r[0].style,s="";return n==="b"&&(s="\\textbf"),n==="l"&&(s="\\textlf"),n==="m"&&(s="\\textmd"),n&&!s?`{${tr("\\fontseries",n)}${kt(i)}}`:s?tr(s,kt(i)):kt(i)})}function nue(t,e){return fo(t,"fontSize").map(r=>{var i,n;let s=iue(r,e),a=(n=["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][(i=r[0].style.fontSize)!=null?i:""])!=null?n:"";return a?`${a} ${kt(s)}`:kt(s)})}function sue(t,e,r){return fo(t,"fontFamily").map(i=>{var n;r=r&&!i.every(l=>l.style.fontFamily||l.style.fontShape||l.style.fontSeries||l.style.fontSize);let s=nue(i,e),{fontFamily:a}=i[0].style,o=(n={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[a??""])!=null?n:"";return o?`\\${o}{${kt(s)}}`:a?`{\\fontfamily{${i[0].style.fontFamily}} ${kt(s)}}`:r?`\\text{${kt(s)}}`:kt(s)})}var LC={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"},aue=class extends Mn{constructor(){super("text")}createAtom(t,e,r){return e&&e.definitionType==="symbol"?new Y0(t,String.fromCodePoint(e.codepoint),r??{}):null}serialize(t,e){return sue(t,Z(q({},e),{defaultMode:"text"}),e.defaultMode!=="text")}getFont(t,e){var r,i,n,s,a;let{fontFamily:o}=e;if(LC[o]?t.classes+=" "+LC[o]:o&&t.setStyle("font-family",o),e.fontShape&&(t.classes+=" ",t.classes+=(r={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[e.fontShape])!=null?r:""),e.fontSeries){let l=e.fontSeries.match(/(.?[lbm])?(.?[cx])?/);l&&(t.classes+=" ",t.classes+=(n={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[(i=l[1])!=null?i:""])!=null?n:"",t.classes+=" ",t.classes+=(a={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[(s=l[2])!=null?s:""])!=null?a:"")}return"Main-Regular"}};new aue;var oue=class extends Mn{constructor(){super("latex")}createAtom(t){return new ii(t)}serialize(t,e){return t.filter(r=>r instanceof ii&&!r.isSuggestion).map(r=>r.value)}getFont(){return null}};new oue;var lue={id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["x","X","≈","˛"],KeyC:["j","J","∆","Ô"],KeyD:["e","E","´","´"],KeyE:[".",">","≥","˘"],KeyF:["u","U","¨","¨"],KeyG:["i","I","ˆ","ˆ"],KeyH:["d","D","∂","Î"],KeyI:["c","C","ç","Ç"],KeyJ:["h","H","˙","Ó"],KeyK:["t","T","†","ˇ"],KeyL:["n","N","˜","˜"],KeyM:["m","M","µ","Â"],KeyN:["b","B","∫","ı"],KeyO:["r","R","®","‰"],KeyP:["l","L","¬","Ò"],KeyQ:["'",'"',"æ","Æ"],KeyR:["p","P","π","∏"],KeyS:["o","O","ø","Ø"],KeyT:["y","Y","¥","Á"],KeyU:["g","G","©","˝"],KeyV:["k","K","˚",""],KeyW:[",","<","≤","¯"],KeyX:["q","Q","œ","Œ"],KeyY:["f","F","ƒ","Ï"],KeyZ:[";",":","…","Ú"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","&","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["[","{","“","”"],Equal:["]","}","‘","’"],BracketLeft:["/","?","÷","¿"],BracketRight:["=","+","≠","±"],Backslash:["\\","|","«","»"],Semicolon:["s","S","ß","Í"],Quote:["-","_","–","—"],Backquote:["`","~","`","`"],Comma:["w","W","∑","„"],Period:["v","V","√","◊"],Slash:["z","Z","Ω","¸"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},H5={id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","ı"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","Î"],KeyE:["e","E","´","´"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","˝"],KeyH:["h","H","˙","Ó"],KeyI:["i","I","ˆ","ˆ"],KeyJ:["j","J","∆","Ô"],KeyK:["k","K","˚",""],KeyL:["l","L","¬","Ò"],KeyM:["m","M","µ","Â"],KeyN:["n","N","˜","˜"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®","‰"],KeyS:["s","S","ß","Í"],KeyT:["t","T","†","ˇ"],KeyU:["u","U","¨","¨"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","˛"],KeyY:["y","Y","¥","Á"],KeyZ:["z","Z","Ω","¸"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","&","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["-","_","–","—"],Equal:["=","+","≠","±"],BracketLeft:["[","{","“","”"],BracketRight:["]","}","‘","’"],Backslash:["\\","|","«","»"],Semicolon:[";",":","…","Ú"],Quote:["'",'"',"æ","Æ"],Backquote:["`","˜","`","`"],Comma:[",","<","≤","¯"],Period:[".",">","≥","˘"],Slash:["/","?","÷","¿"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},OP={id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","á","Á"],KeyB:["b","B","",""],KeyC:["c","C","©","¢"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","é","É"],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","í","Í"],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","ø","Ø"],KeyM:["m","M","µ",""],KeyN:["n","N","ñ","Ñ"],KeyO:["o","O","ó","Ó"],KeyP:["p","P","ö","Ö"],KeyQ:["q","Q","ä","Ä"],KeyR:["r","R","®",""],KeyS:["s","S","ß","§"],KeyT:["t","T","þ","Þ"],KeyU:["u","U","ú","Ú"],KeyV:["v","V","",""],KeyW:["w","W","å","Å"],KeyX:["x","X","",""],KeyY:["y","Y","ü","Ü"],KeyZ:["z","Z","æ","Æ"],Digit1:["1","!","¡","¹"],Digit2:["2","@","²",""],Digit3:["3","#","³",""],Digit4:["4","$","¤","£"],Digit5:["5","%","€",""],Digit6:["6","^","¼",""],Digit7:["7","&","½",""],Digit8:["8","*","¾",""],Digit9:["9","(","‘",""],Digit0:["0",")","’",""],Space:[" "," ","",""],Minus:["-","_","¥",""],Equal:["=","+","×","÷"],BracketLeft:["[","{","«",""],BracketRight:["]","}","»",""],Backslash:["\\","|","¬","¦"],Semicolon:[";",":","¶","°"],Quote:["'",'"',"´","¨"],Backquote:["`","~","",""],Comma:[",","<","ç","Ç"],Period:[".",">","",""],Slash:["/","?","¿",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}},FP={id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f","F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2","@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","&","7","&"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["=","+","=","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","<",",","<"],Period:[".",">",".",">"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},uue={id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","‡","Ω"],KeyB:["b","B","ß","∫"],KeyC:["c","C","©","¢"],KeyD:["d","D","∂","∆"],KeyE:["e","E","ê","Ê"],KeyF:["f","F","ƒ","·"],KeyG:["g","G","ﬁ","ﬂ"],KeyH:["h","H","Ì","Î"],KeyI:["i","I","î","ï"],KeyJ:["j","J","Ï","Í"],KeyK:["k","K","È","Ë"],KeyL:["l","L","¬","|"],KeyM:[",","?","∞","¿"],KeyN:["n","N","~","ı"],KeyO:["o","O","œ","Œ"],KeyP:["p","P","π","∏"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","®","‚"],KeyS:["s","S","Ò","∑"],KeyT:["t","T","†","™"],KeyU:["u","U","º","ª"],KeyV:["v","V","◊","√"],KeyW:["z","Z","Â","Å"],KeyX:["x","X","≈","⁄"],KeyY:["y","Y","Ú","Ÿ"],KeyZ:["w","W","‹","›"],Digit1:["&","1","","´"],Digit2:["é","2","ë","„"],Digit3:['"',"3","“","”"],Digit4:["'","4","‘","’"],Digit5:["(","5","{","["],Digit6:["§","6","¶","å"],Digit7:["è","7","«","»"],Digit8:["!","8","¡","Û"],Digit9:["ç","9","Ç","Á"],Digit0:["à","0","ø","Ø"],Space:[" "," "," "," "],Minus:[")","°","}","]"],Equal:["-","_","—","–"],BracketLeft:["^","¨","ô","Ô"],BracketRight:["$","*","€","¥"],Backslash:["`","£","@","#"],Semicolon:["m","M","µ","Ó"],Quote:["ù","%","Ù","‰"],Backquote:["<",">","≤","≥"],Comma:[";",".","…","•"],Period:[":","/","÷","\\"],Slash:["=","+","≠","±"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","•","Ÿ"],NumpadEqual:["=","=","=","="]}},cue={id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["é","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["è","7","`",""],Digit8:["_","8","\\",""],Digit9:["ç","9","^",""],Digit0:["à","0","@",""],Space:[" "," ","",""],Minus:[")","°","]",""],Equal:["=","+","}",""],BracketLeft:["^","¨","",""],BracketRight:["$","£","¤",""],Backslash:["*","µ","",""],Semicolon:["m","M","",""],Quote:["ù","%","",""],Backquote:["²","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","§","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}},due={id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@","Ω"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:[",","?","́","̋"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["z","Z","«","<"],KeyX:["x","X","»",">"],KeyY:["y","Y","←","¥"],KeyZ:["w","W","ł","Ł"],Digit1:["&","1","¹","¡"],Digit2:["é","2","~","⅛"],Digit3:['"',"3","#","£"],Digit4:["'","4","{","$"],Digit5:["(","5","[","⅜"],Digit6:["-","6","|","⅝"],Digit7:["è","7","`","⅞"],Digit8:["_","8","\\","™"],Digit9:["ç","9","^","±"],Digit0:["à","0","@","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:[")","°","]","¿"],Equal:["=","+","}","̨"],BracketLeft:["̂","̈","̈","̊"],BracketRight:["$","£","¤","̄"],Backslash:["*","µ","̀","̆"],Semicolon:["m","M","µ","º"],Quote:["ù","%","̂","̌"],Backquote:["²","~","¬","¬"],Comma:[";",".","─","×"],Period:[":","/","·","÷"],Slash:["!","§","̣","̇"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"]}},hue={id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","‹"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","™"],KeyE:["e","E","€","‰"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","Ì"],KeyH:["h","H","ª","Ó"],KeyI:["i","I","⁄","Û"],KeyJ:["j","J","º","ı"],KeyK:["k","K","∆","ˆ"],KeyL:["l","L","@","ﬂ"],KeyM:["m","M","µ","˘"],KeyN:["n","N","~","›"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","«","»"],KeyR:["r","R","®","¸"],KeyS:["s","S","‚","Í"],KeyT:["t","T","†","˝"],KeyU:["u","U","¨","Á"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","Ù"],KeyY:["z","Z","Ω","ˇ"],KeyZ:["y","Y","¥","‡"],Digit1:["1","!","¡","¬"],Digit2:["2",'"',"“","”"],Digit3:["3","§","¶","#"],Digit4:["4","$","¢","£"],Digit5:["5","%","[","ﬁ"],Digit6:["6","&","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{","˜"],Digit9:["9",")","}","·"],Digit0:["0","=","≠","¯"],Space:[" "," "," "," "],Minus:["ß","?","¿","˙"],Equal:["´","`","'","˚"],BracketLeft:["ü","Ü","•","°"],BracketRight:["+","*","±",""],Backslash:["#","'","‘","’"],Semicolon:["ö","Ö","œ","Œ"],Quote:["ä","Ä","æ","Æ"],Backquote:["<",">","≤","≥"],Comma:[",",";","∞","˛"],Period:[".",":","…","÷"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","°","„","“"],NumpadEqual:["=","=","=","="]}},pue={id:"windows.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","µ",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"²",""],Digit3:["3","§","³",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Space:[" "," ","",""],Minus:["ß","?","\\","ẞ"],Equal:["´","`","",""],BracketLeft:["ü","Ü","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["ö","Ö","",""],Quote:["ä","Ä","",""],Backquote:["^","°","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","|",""]}},fue={id:"linux.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","æ","Æ"],KeyB:["b","B","“","‘"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","€"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̣","̇"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:["m","M","µ","º"],KeyN:["n","N","”","’"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["q","Q","@","Ω"],KeyR:["r","R","¶","®"],KeyS:["s","S","ſ","ẞ"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","„","‚"],KeyW:["w","W","ł","Ł"],KeyX:["x","X","«","‹"],KeyY:["z","Z","←","¥"],KeyZ:["y","Y","»","›"],Digit1:["1","!","¹","¡"],Digit2:["2",'"',"²","⅛"],Digit3:["3","§","³","£"],Digit4:["4","$","¼","¤"],Digit5:["5","%","½","⅜"],Digit6:["6","&","¬","⅝"],Digit7:["7","/","{","⅞"],Digit8:["8","(","[","™"],Digit9:["9",")","]","±"],Digit0:["0","=","}","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["ß","?","\\","¿"],Equal:["́","̀","̧","̨"],BracketLeft:["ü","Ü","̈","̊"],BracketRight:["+","*","~","¯"],Backslash:["#","'","’","̆"],Semicolon:["ö","Ö","̋","̣"],Quote:["ä","Ä","̂","̌"],Backquote:["̂","°","′","″"],Comma:[",",";","·","×"],Period:[".",":","…","÷"],Slash:["-","_","–","—"],PrintScreen:["","","",""],PageUp:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",",","",","],IntlBackslash:["<",">","|","̱"],AltRight:["\r","\r","\r","\r"],MetaRight:[".",".",".","."]}},mue={id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","ß",""],KeyC:["c","C","©"," "],KeyD:["d","D","∂","∆"],KeyE:["e","E","€","€"],KeyF:["f","F","ƒ","ﬁ"],KeyG:["g","G","","ﬂ"],KeyH:["h","H","™"," "],KeyI:["i","I"," "," "],KeyJ:["j","J","¶","¯"],KeyK:["k","K","§","ˇ"],KeyL:["l","L"," ","˘"],KeyM:["m","M","µ","˚"],KeyN:["n","N"," ","˙"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®"," "],KeyS:["s","S","∫"," "],KeyT:["t","T","†","‡"],KeyU:["u","U"," "," "],KeyV:["v","V","√","◊"],KeyW:["w","W","æ","Æ"],KeyX:["x","X","∑","›"],KeyY:["y","Y","¥"," "],KeyZ:["z","Z","Ω","‹"],Digit1:["1","!","|","ı"],Digit2:["2",'"',"@","˝"],Digit3:["3","·","#","•"],Digit4:["4","$","¢","£"],Digit5:["5","%","∞","‰"],Digit6:["6","&","¬"," "],Digit7:["7","/","÷","⁄"],Digit8:["8","(","“","‘"],Digit9:["9",")","”","’"],Digit0:["0","=","≠","≈"],Space:[" "," "," "," "],Minus:["'","?","´","¸"],Equal:["¡","¿","‚","˛"],BracketLeft:["`","^","[","ˆ"],BracketRight:["+","*","]","±"],Backslash:["ç","Ç","}","»"],Semicolon:["ñ","Ñ","~","˜"],Quote:["´","¨","{","«"],Backquote:["<",">","≤","≥"],Comma:[",",";","„",""],Period:[".",":","…","…"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["º","ª","\\","°"]}},gue={id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","·","#",""],Digit4:["4","$","~",""],Digit5:["5","%","€",""],Digit6:["6","&","¬",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["¡","¿","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["ç","Ç","}",""],Semicolon:["ñ","Ñ","",""],Quote:["´","¨","{",""],Backquote:["º","ª","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}},yue={id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","æ","Æ"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:["m","M","µ","º"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["q","Q","@","Ω"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["w","W","ł","Ł"],KeyX:["x","X","»",">"],KeyY:["y","Y","←","¥"],KeyZ:["z","Z","«","<"],Digit1:["1","!","|","¡"],Digit2:["2",'"',"@","⅛"],Digit3:["3","·","#","£"],Digit4:["4","$","~","$"],Digit5:["5","%","½","⅜"],Digit6:["6","&","¬","⅝"],Digit7:["7","/","{","⅞"],Digit8:["8","(","[","™"],Digit9:["9",")","]","±"],Digit0:["0","=","}","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["'","?","\\","¿"],Equal:["¡","¿","̃","~"],BracketLeft:["̀","̂","[","̊"],BracketRight:["+","*","]","̄"],Backslash:["ç","Ç","}","̆"],Semicolon:["ñ","Ñ","~","̋"],Quote:["́","̈","{","{"],Backquote:["º","ª","\\","\\"],Comma:[",",";","─","×"],Period:[".",":","·","÷"],Slash:["-","_","̣","̇"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}};function NP(t){let e=t.split("+"),r={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:e.pop()};return e.includes("shift")&&(r.shift=!0),e.includes("alt")&&(r.alt=!0),e.includes("ctrl")&&(r.ctrl=!0),e.includes("cmd")&&(r.cmd=!0),e.includes("win")&&(r.win=!0),e.includes("meta")&&(r.meta=!0),r}function Fc(t){let e="";return t.shift&&(e+="shift+"),t.alt&&(e+="alt+"),t.ctrl&&(e+="ctrl+"),t.cmd&&(e+="cmd+"),t.win&&(e+="win+"),t.meta&&(e+="meta+"),e+t.key}var vue={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",f19:"[F19]"},hg=[];function L6(){switch(X0()){case"macos":case"ios":return"apple";case"windows":return"windows"}return"linux"}function kn(t){(!t.platform||t.platform===L6())&&hg.push(t)}function bue(t,e){var r;let i={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!t)return i;for(let[n,s]of Object.entries(e.mapping)){if(s[0]===t)return i.key=`[${n}]`,i;if(s[1]===t)return i.shift=!0,i.key=`[${n}]`,i;if(s[2]===t)return i.alt=!0,i.key=`[${n}]`,i;if(s[3]===t)return i.shift=!0,i.alt=!0,i.key=`[${n}]`,i}return i.key=(r=vue[t])!=null?r:"",i}function xue(t){if(t.code)return t;let e=Object.entries(tp().mapping),r=!1,i=!1,n="";for(let s=0;s<4;s++){for(let[a,o]of e)if(o[s]===t.key){n=a,s===3?(r=!0,i=!0):s===2?r=!0:s===1&&(i=!0);break}if(n)break}return new KeyboardEvent(t.type,Z(q({},t),{altKey:r,shiftKey:i,code:n}))}function _ue(t){var e,r;if(!t||t.key==="Unidentified"||t.key==="Dead")return;let i=t.shiftKey&&t.altKey?3:t.altKey?2:t.shiftKey?1:0;for(let n of hg)((e=n.mapping[t.code])==null?void 0:e[i])===t.key?n.score+=1:(r=n.mapping[t.code])!=null&&r[i]&&(n.score=0);hg.sort((n,s)=>s.score-n.score)}function tp(){return hg[0]}function wue(){switch(L6()){case"apple":return H5;case"windows":return OP;case"linux":return FP}return H5}switch(L6()){case"apple":kn(H5),kn(uue),kn(mue),kn(hue);break;case"windows":kn(OP),kn(cue),kn(gue),kn(pue);break;case"linux":kn(FP),kn(due),kn(yue),kn(fue);break}kn(lue);function B6(t){var e;let r=/macos|ios/.test(X0()),i=t.split("+"),n="";for(let s of i)n&&(n+=r?" ":'<span class="ML__shortcut-join">+</span>'),s.startsWith("[Key")?n+=s.slice(4,5):s.startsWith("Key")?n+=s.slice(3,4):s.startsWith("[Digit")?n+=s.slice(6,7):s.startsWith("Digit")?n+=s.slice(5,6):n+=(e={cmd:"⌘",meta:r?"⌘":"Ctrl",shift:r?"⇧":"Shift",alt:r?"⌥":"Alt",ctrl:r?"⌃":"Ctrl","\n":r?"⏎":"Return","[return]":r?"⏎":"Return","[enter]":r?"⌤":"Enter","[tab]":r?"⇥":"Tab","[escape]":"Esc","[backspace]":r?"⌫":"Backspace","[delete]":r?"⌦":"Del","[pageup]":r?"⇞":"Page Up","[pagedown]":r?"⇟":"Page Down","[home]":r?"⤒":"Home","[end]":r?"⤓":"End","[space]":"Space","[equal]":"=","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"=",quote:"'",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* &#128290;",numpaddivide:"/ &#128290;",numpadsubtract:"- &#128290;",numpadadd:"+ &#128290;",numpaddecimal:". &#128290;",numpadcomma:", &#128290;",help:"help",left:"⇠",up:"⇡",right:"⇢",down:"⇣","[arrowleft]":"⇠","[arrowup]":"⇡","[arrowright]":"⇢","[arrowdown]":"⇣"}[s.toLowerCase()])!=null?e:s.toUpperCase();return n}function pg(t){if(t instanceof MouseEvent||t instanceof PointerEvent)return{x:t.clientX,y:t.clientY};if(typeof TouchEvent<"u"&&t instanceof TouchEvent){let e=[...t.touches].reduce((i,n)=>({x:i.x+n.clientX,y:i.y+n.clientY}),{x:0,y:0}),r=t.touches.length;return{x:e.x/r,y:e.y/r}}}function fu(t){let e={alt:!1,control:!1,shift:!1,meta:!1};return(t instanceof MouseEvent||t instanceof PointerEvent||typeof TouchEvent<"u"&&t instanceof TouchEvent||t instanceof KeyboardEvent)&&(t.altKey&&(e.alt=!0),t.ctrlKey&&(e.control=!0),t.metaKey&&(e.meta=!0),t.shiftKey&&(e.shift=!0)),e}function Sue(t,e){return!t&&e||t&&!e?!1:!t||!e?!0:t.alt===e.alt&&t.control===e.control&&t.shift===e.shift&&t.meta===e.meta}var Cue=new Set(["Backquote","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Minus","Equal","IntlYen","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","IntlRo","Space","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadComma","NumpadDecimal","NumpadDivide","NumpadEqual","NumpadHash","NumpadMultiply","NumpadParenLeft","NumpadParenRight","NumpadStar","NumpadSubstract"]);function R2(t){return t.ctrlKey||t.metaKey||["Dead","Process"].includes(t.key)?!1:t.code===""?!0:Cue.has(t.code)}function fg(){var t;let e=document.activeElement;for(;(t=e==null?void 0:e.shadowRoot)!=null&&t.activeElement;)e=e.shadowRoot.activeElement;return e}var ws=class La{static get scrim(){return La._scrim||(La._scrim=new La),La._scrim}static open(e){La.scrim.open(e)}static close(){La.scrim.close()}static get state(){return La.scrim.state}static get element(){return La.scrim.element}constructor(e){var r,i;this.lightDismiss=(r=e==null?void 0:e.lightDismiss)!=null?r:!0,this.translucent=(i=e==null?void 0:e.translucent)!=null?i:!1,this.state="closed"}get element(){if(this._element)return this._element;let e=document.createElement("div");return e.setAttribute("role","presentation"),e.style.position="fixed",e.style.contain="content",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.zIndex="var(--scrim-zindex, 10099)",e.style.outline="none",this.translucent?(e.style.background="rgba(255, 255, 255, .2)",e.style.backdropFilter="contrast(40%)"):e.style.background="transparent",this._element=e,e}open(e){var r;if(this.state!=="closed")return;this.state="opening",this.onDismiss=e==null?void 0:e.onDismiss,this.savedActiveElement=fg();let{element:i}=this;((r=e==null?void 0:e.root)!=null?r:document.body).appendChild(i),i.addEventListener("click",this),document.addEventListener("touchmove",this,!1),document.addEventListener("scroll",this,!1);let n=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight,this.savedOverflow=document.body.style.overflow,document.body.style.overflow="hidden";let s=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=`${s+n}px`;let a=document.querySelector(".MLK__plate");if(a instanceof HTMLElement){this.savedMlkPaddingRight=a.style.paddingRight;let o=Number.parseFloat(getComputedStyle(a).paddingRight);a.style.paddingRight=`${o+n}px`}e!=null&&e.child&&i.append(e.child),this.state="open"}close(){var e,r,i,n,s;if(this.state!=="open"){this.element.parentElement;return}this.state="closing",typeof this.onDismiss=="function"&&this.onDismiss(),this.onDismiss=void 0;let{element:a}=this;a.removeEventListener("click",this),document.removeEventListener("touchmove",this,!1),document.removeEventListener("scroll",this,!1),a.remove(),document.body.style.overflow=(e=this.savedOverflow)!=null?e:"",document.body.style.marginRight=(r=this.savedMarginRight)!=null?r:"";let o=document.querySelector(".MLK__plate");o instanceof HTMLElement&&(o.style.paddingRight=(i=this.savedMlkPaddingRight)!=null?i:""),fg()!==this.savedActiveElement&&((s=(n=this.savedActiveElement)==null?void 0:n.focus)==null||s.call(n)),a.innerHTML="",this.state="closed"}handleEvent(e){this.lightDismiss&&(e.target===this._element&&e.type==="click"?(this.close(),e.preventDefault(),e.stopPropagation()):e.target===document&&(e.type==="touchmove"||e.type==="scroll")&&(this.close(),e.preventDefault(),e.stopPropagation()))}};function kue(t,e,r){let i=null,n=null,s=!1,a=!1,o=!1,l=new AbortController,u=l.signal;return t.addEventListener("keydown",c=>{if(s||c.key==="Process"||c.code==="CapsLock"||/(Control|Meta|Alt|Shift)(Left|Right)/.test(c.code)){i=null;return}i=c,n=null,r.onKeystroke(c)?t.textContent="":i=null},{capture:!0,signal:u}),t.addEventListener("keypress",c=>{s||(i&&n&&r.onKeystroke(i),n=c)},{capture:!0,signal:u}),t.addEventListener("compositionstart",c=>{t.textContent="",s=!0,r.onCompositionStart(c.data)},{capture:!0,signal:u}),t.addEventListener("compositionupdate",c=>{s&&r.onCompositionUpdate(c.data)},{capture:!0,signal:u}),t.addEventListener("compositionend",c=>{t.textContent="",s&&(s=!1,r.onCompositionEnd(c.data))},{capture:!0,signal:u}),t.addEventListener("beforeinput",c=>c.stopImmediatePropagation(),{signal:u}),t.addEventListener("input",c=>{var d;if(!s&&(t.textContent="",c.inputType!=="insertCompositionText")){if(c.inputType==="insertFromPaste"){c.preventDefault(),c.stopPropagation();return}r.onInput((d=c.data)!=null?d:""),c.preventDefault(),c.stopPropagation()}},{signal:u}),t.addEventListener("paste",c=>{t.focus({preventScroll:!0}),t.textContent="",r.onPaste(c)||c.preventDefault(),c.stopImmediatePropagation()},{signal:u}),t.addEventListener("cut",c=>r.onCut(c),{capture:!0,signal:u}),t.addEventListener("copy",c=>r.onCopy(c),{capture:!0,signal:u}),t.addEventListener("blur",c=>{var d,h;if(((h=(d=c.relatedTarget)==null?void 0:d._mathfield)==null?void 0:h.element)===e){t.focus({preventScroll:!0}),c.preventDefault(),c.stopPropagation();return}let f=!1,g=c.relatedTarget;for(;g;){if(g.classList.contains("ML__keyboard")){f=!0;break}g=g.parentElement}if(f){t.focus({preventScroll:!0}),c.preventDefault(),c.stopPropagation();return}let y=ws.state;if(y==="open"||y==="opening"){c.preventDefault(),c.stopPropagation();return}if(c.relatedTarget===c.target.getRootNode().host){c.preventDefault(),c.stopPropagation();return}o||a||(o=!0,i=null,n=null,r.onBlur(),o=!1)},{capture:!0,signal:u}),t.addEventListener("focus",c=>{o||a||(a=!0,r.onFocus(),a=!1)},{capture:!0,signal:u}),{dispose:()=>l.abort(),cancelComposition:()=>{s&&(typeof t.blur=="function"&&t.blur(),requestAnimationFrame(()=>t.focus({preventScroll:!0})))},blur:()=>{typeof t.blur=="function"&&(o=!0,t.blur(),o=!1)},focus:()=>{!a&&typeof t.focus=="function"&&(a=!0,t.focus({preventScroll:!0}),a=!1)},hasFocus:()=>fg()===t,setAriaLabel:c=>t.setAttribute("aria-label",c),setValue:c=>{var d;t.textContent!==c&&(t.textContent=c,t.style.left="-1000px",(d=window.getSelection())==null||d.selectAllChildren(t))},moveTo:(c,d)=>{t.style.top=`${d}px`,t.style.left=`${c}px`}}}function Mc(t){var e;if(!t||!R2(t))return"";let r;return t.key==="Unidentified"&&t.target&&(r=t.target.value),r=(e=r??t.key)!=null?e:t.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(r)&&(r=""),r}function $P(t){t=xue(t);let e=[];return t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),e.length===0?`[${t.code}]`:(e.push(`[${t.code}]`),e.join("+"))}function Tue(t){if(os()){let e=X0(),r=t.startsWith("!"),i=t.endsWith(e);if(r&&!i||!r&&i)return!0}return t==="!other"?!1:t==="other"}function Eue(t,e,r){if(t.length===0)return"";let i=Fc(NP($P(r))),n=Fc({key:r.key,shift:r.shiftKey,alt:r.altKey,ctrl:r.ctrlKey,meta:r.metaKey||r.ctrlKey&&/macos|ios/.test(X0()),cmd:!1,win:!1});for(let s=t.length-1;s>=0;s--)if((t[s].key===i||t[s].key===n)&&(!t[s].ifMode||t[s].ifMode===e))return t[s].command;return""}function BC(t){let e=t;return gi(e)&&(e=e.length>0?e[0]+"("+e.slice(1).join("")+")":""),e}function Aue(t,e){let r=[];if(typeof e=="string"){let s=lle[e];gi(s)?r=s.slice():s&&r.push(s)}let i=BC(e),n=new RegExp("^"+i.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(let s of t)n.test(BC(s.command))&&r.push(s.key);return r.map(B6)}function Mue(t,e){if(t.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(t.ifPlatform))throw new Error(`Unexpected platform "${t.ifPlatform}" for keybinding ${t.key}`);if(t.ifLayout!==void 0&&(e.score===0||!t.ifLayout.includes(e.id)))return;let r=NP(t.key),i=t.ifPlatform;if(r.cmd){if(i&&i!=="macos"&&i!=="ios")throw new Error('Unexpected "cmd" modifier with platform "'+i+`"
"cmd" modifier can only be used with macOS or iOS platform.`);i||(i=X0()==="ios"?"ios":"macos"),r.win=!1,r.cmd=!1,r.meta=!0}if(r.win){if(i&&i!=="windows")throw new Error('Unexpected "win" modifier with platform "'+i+`"
"win" modifier can only be used with Windows platform.`);i="windows",r.win=!1,r.cmd=!1,r.meta=!0}if(i&&!Tue(i))return;if(/^\[.+\]$/.test(r.key))return Z(q({},t),{key:Fc(r)});let n=bue(r.key,e);if(!n)return Z(q({},t),{key:Fc(r)});if(n.shift&&r.shift||n.alt&&r.alt)throw new Error(`The keybinding ${t.key} (${K5(t.command)}) is conflicting with the key combination ${Fc(n)} using the ${e.displayName} keyboard layout`);return n.shift=n.shift||r.shift,n.alt=n.alt||r.alt,n.meta=r.meta,n.ctrl=r.ctrl,Z(q({},t),{key:Fc(n)})}function K5(t){if(Array.isArray(t)){let e=[...t];return e.shift()+"("+e.map(r=>typeof r=="string"?`"${r}"`:r.toString()).join(", ")+")"}return t}function Due(t,e){let r=[],i=[];for(let n of t)try{let s=Mue(n,e);if(!s)continue;let a=i.find(o=>o.key===s.key&&o.ifMode===s.ifMode);if(a)throw new Error(`Ambiguous key binding ${n.key} (${K5(n.command)}) matches ${a.key} (${K5(a.command)}) with the ${e.displayName} keyboard layout`);i.push(s)}catch(s){s instanceof Error&&r.push(s.message)}return[i,r]}var Lue=class extends Qt{constructor(){super("latex")}createAtom(t){return new ii(t)}onPaste(t,e){if(!e)return!1;let r=typeof e=="string"?e:e.getData("application/x-latex")||e.getData("text/plain");return r&&t.model.contentWillChange({inputType:"insertFromPaste",data:r})?(t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,r)&&(t.startRecording(),t.snapshot("paste"),t.model.contentDidChange({inputType:"insertFromPaste"}),fr(t)),t.startRecording(),!0):!1}insert(t,e,r){if(!t.contentWillChange({data:e,inputType:"insertText"}))return!1;r||(r={}),r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder");let{silenceNotifications:i}=t;r.silenceNotifications&&(t.silenceNotifications=!0);let n=t.silenceNotifications;t.silenceNotifications=!0,r.insertionMode==="replaceSelection"&&!t.selectionIsCollapsed?t.deleteAtoms(Ci(t.selection)):r.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward");let s=[];for(let l of e)Moe.test(l)&&s.push(new ii(l));let a=t.at(t.position);if(a instanceof Ch&&(a=a.lastChild),!(a.parent instanceof Ch)){let l=new Ch;a.parent.addChildAfter(l,a),a=l.firstChild}let o=a.parent.addChildrenAfter(s,a);return t.silenceNotifications=n,r.selectionMode==="before"||(r.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(o)):o&&(t.position=t.offsetOf(o))),t.contentDidChange({data:e,inputType:"insertText"}),t.silenceNotifications=i,!0}};function P6(t){return t.atoms.find(e=>e.type==="latexgroup")}function mg(t){var e,r;let i=P6(t);return(r=(e=i==null?void 0:i.body)==null?void 0:e.filter(n=>n.type==="latex"))!=null?r:[]}function zP(t,e){var r;let i=0,n=!1,s=Number.isFinite(e==null?void 0:e.before)?(r=e==null?void 0:e.before)!=null?r:0:t.lastOffset;for(;i<=s&&!n;){let l=t.at(i);n=l instanceof ii&&l.isSuggestion,n||i++}if(!n)return[void 0,void 0];let a=i,o=!1;for(;a<=s&&!o;){let l=t.at(a);o=!(l instanceof ii&&l.isSuggestion),o||a++}return[i-1,a-1]}new Lue;function Bue(t,e){t.flushInlineShortcutBuffer(),t.stopCoalescingUndo();let r=W5(t,e),{model:i}=t;return i.selectionIsCollapsed?(t.defaultStyle.fontSeries&&r.fontSeries===t.defaultStyle.fontSeries&&(r.fontSeries="auto"),r.fontShape&&r.fontShape===t.defaultStyle.fontShape&&(r.fontShape="auto"),r.color&&r.color===t.defaultStyle.color&&(r.color="none"),r.backgroundColor&&r.backgroundColor===t.defaultStyle.backgroundColor&&(r.backgroundColor="none"),r.fontSize&&r.fontSize===t.defaultStyle.fontSize&&(r.fontSize="auto"),t.defaultStyle=q(q({},t.defaultStyle),r)):t.model.deferNotifications({content:!0,type:"insertText"},()=>{i.selection.ranges.forEach(n=>j5(i,n,r,{operation:"toggle"})),t.snapshot("style-change")}),!0}nn({applyStyle:Bue},{target:"mathfield",canUndo:!0,changeContent:!0});function W5(t,e){var r,i,n,s,a,o,l,u,c,d;let h={};if(typeof e.color=="string"){let g=(i=t.colorMap((r=e.color)!=null?r:e.verbatimColor))!=null?i:"none";g!==e.color&&(h.verbatimColor=(n=e.verbatimColor)!=null?n:e.color),h.color=g}if(typeof e.backgroundColor=="string"){let g=(a=t.backgroundColorMap((s=e.backgroundColor)!=null?s:e.verbatimBackgroundColor))!=null?a:"none";g!==e.backgroundColor&&(h.verbatimBackgroundColor=(o=e.verbatimBackgroundColor)!=null?o:e.backgroundColor),h.backgroundColor=g}typeof e.fontFamily=="string"&&(h.fontFamily=e.fontFamily),typeof e.series=="string"&&(h.fontSeries=e.series),typeof e.fontSeries=="string"&&(h.fontSeries=e.fontSeries.toLowerCase()),h.fontSeries&&(h.fontSeries=(l={bold:"b",medium:"m",normal:"m"}[h.fontSeries])!=null?l:h.fontSeries),typeof e.shape=="string"&&(h.fontShape=e.shape),typeof e.fontShape=="string"&&(h.fontShape=e.fontShape.toLowerCase()),h.fontShape&&(h.fontShape=(u={italic:"it",up:"n",upright:"n",normal:"n"}[h.fontShape])!=null?u:h.fontShape),e.variant&&(h.variant=e.variant.toLowerCase()),e.variantStyle&&(h.variantStyle=e.variantStyle.toLowerCase());let f=(c=e.size)!=null?c:e.fontSize;return typeof f=="number"?h.fontSize=Math.max(1,Math.min(10,f)):typeof f=="string"&&(h.fontSize=(d={size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10}[f.toLowerCase()])!=null?d:{tiny:1,scriptsize:2,footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10}[f]),h}function I6(t,e,r){var i,n;let s=t.model;if(s.mode==="latex")return{};let a=t.styleBias;if(a==="none")return t.defaultStyle;if(s.mode==="text")return(n=(i=s.at(a==="right"?r.after:r.before))==null?void 0:i.style)!=null?n:t.defaultStyle;if(s.mode==="math"){let o=s.at(a==="right"?r.after:r.before);return o?Z(q({},o.style),{variant:"normal"}):t.defaultStyle}return{}}function E0(t){let e=t.options.onInsertStyle;if(e===null)return{};e===void 0&&(e=I6);let r=t.model,i=t.styleBias,n=r.at(r.position),s=PC(r,n,i),a=PC(r,n.rightSibling,i);return e(t,r.position,{before:s,after:a})}function PC(t,e,r){var i;return!e||e.type==="first"&&r!=="right"?-1:e.type!=="group"?t.offsetOf(e):!e.body||e.body.length<2?-1:((i=e.body)==null?void 0:i.length)===1||r!=="right"?t.offsetOf(e.body[0]):t.offsetOf(e.body[e.body.length-1])}function O2(t){let e=mg(t.model).filter(r=>r.isSuggestion);if(e.length!==0){t.model.position=t.model.offsetOf(e[0].leftSibling);for(let r of e)r.parent.removeChild(r)}}function Lp(t,e){var r;let{model:i}=t;O2(t);for(let c of mg(i))c.isError=!1;if(!i.selectionIsCollapsed||t.options.popoverPolicy==="off"){M0(t);return}let n=[],s=i.at(i.position);for(;s&&s instanceof ii&&/^[a-zA-Z\*]$/.test(s.value);)s=s.leftSibling;if(s&&s instanceof ii&&s.value==="\\")for(n.push(s),s=s.rightSibling;s&&s instanceof ii&&/^[a-zA-Z\*]$/.test(s.value);)n.push(s),s=s.rightSibling;let a=n.map(c=>c.value).join(""),o=Loe(t,a);if(o.length===0){if(/^\\[a-zA-Z\*]+$/.test(a))for(let c of n)c.isError=!0;M0(t);return}let l=(r=e==null?void 0:e.atIndex)!=null?r:0;t.suggestionIndex=l<0?o.length-1:l%o.length;let u=o[t.suggestionIndex];if(u!==a){let c=n[n.length-1];c.parent.addChildrenAfter([...u.slice(a.length-u.length)].map(d=>new ii(d,{isSuggestion:!0})),c),Eu(t,{interactive:!0})}Iue(t,o)}function IC(t){let[e,r]=zP(t,{before:t.position});if(e===void 0||r===void 0)return!1;let i=!1;return t.getAtoms([e,r]).forEach(n=>{n.isSuggestion&&(n.isSuggestion=!1,i=!0)}),i}function A0(t,e="accept",r){var i,n;M0(t);let s=P6(t.model);if(!s)return!1;if(e==="accept-suggestion"||e==="accept-all"){let u=mg(t.model).filter(c=>c.isSuggestion);if(u.length!==0){for(let c of u)c.isSuggestion=!1;t.model.position=t.model.offsetOf(u[u.length-1])}if(e==="accept-suggestion")return u.length!==0}let a=mg(t.model).filter(u=>!u.isSuggestion).map(u=>u.value).join(""),o=s.leftSibling;if(s.parent.removeChild(s),t.model.position=t.model.offsetOf(o),t.switchMode((i=r==null?void 0:r.mode)!=null?i:"math"),e==="reject")return!0;let l=q({},E0(t));return!/^[a-zA-Z0-9]$/.test(a)&&t.styleBias!=="none"&&(l.variant="normal",l.variantStyle=void 0),Qt.insert(t.model,a,{selectionMode:(n=r==null?void 0:r.selectItem)!=null&&n?"item":"placeholder",format:"latex",mode:"math",style:l}),t.snapshot(),t.model.announce("replacement"),t.switchMode("math"),!0}function F2(t){var e;let r=document.getElementById(t);return r?r.dataset.refcount=Number(Number.parseInt((e=r.dataset.refcount)!=null?e:"0")+1).toString():(r=document.createElement("div"),r.setAttribute("aria-hidden","true"),r.dataset.refcount="1",r.id=t,document.body.append(r)),r}function Bp(t){var e;let r=document.getElementById(t);if(!r)return;let i=Number.parseInt((e=r.getAttribute("data-refcount"))!=null?e:"0");i<=1?r.remove():r.dataset.refcount=Number(i-1).toString()}function Pue(t,e){let r=new Pt({from:t.context}),i=new ue({mode:"math",type:"root",body:ts(e,{context:r})}),n=E2(Dp(new Ae(i.render(r),{classes:"ML__base"}),r));return A2(n,{classes:"ML__latex"}).toMarkup()}function Iue(t,e){var r;if(e.length===0){M0(t);return}let i="";for(let[s,a]of e.entries()){let o=a,l=Pue(t,a),u=Aue(t.keybindings,o).join("<br>");i+=`<li role="button" data-command="${o}" ${s===t.suggestionIndex?"class=ML__popover__current":""}><span class="ML__popover__latex">${o}</span><span class="ML__popover__command">${l}</span>`,u&&(i+=`<span class="ML__popover__keybinding">${u}</span>`),i+="</li>"}let n=Rue(t,`<ul>${i}</ul>`);G5()&&((r=n.querySelector(".ML__popover__current"))==null||r.scrollIntoView({block:"nearest",inline:"nearest"})),setTimeout(()=>{var s;n&&!G5()&&(n.classList.add("is-visible"),N2(t),(s=n.querySelector(".ML__popover__current"))==null||s.scrollIntoView({block:"nearest",inline:"nearest"}))},32)}function G5(){let t=document.getElementById("mathlive-suggestion-popover");return t?t.classList.contains("is-visible"):!1}function N2(t,e){var r,i,n;if(!t.element||t.element.mathfield!==t||!G5())return;if(((r=t.model.at(t.model.position))==null?void 0:r.type)!=="latex"){M0(t);return}if(e!=null&&e.deferred){setTimeout(()=>N2(t),32);return}let s=o1(t.field);if(!s)return;let a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=window.innerWidth-document.documentElement.clientWidth,u=window.innerHeight-document.documentElement.clientHeight,c=(n=(i=window.mathVirtualKeyboard)==null?void 0:i.boundingRect.height)!=null?n:0,d=document.getElementById("mathlive-suggestion-popover");s.x+d.offsetWidth/2>o-l?d.style.left=`${o-d.offsetWidth-l}px`:s.x-d.offsetWidth/2<0?d.style.left="0":d.style.left=`${s.x-d.offsetWidth/2}px`;let h=s.y-s.height;a-u-c-s.y<h?(d.classList.add("ML__popover--reverse-direction"),d.classList.remove("top-tip"),d.classList.add("bottom-tip"),d.style.top=`${s.y-s.height-d.offsetHeight-15}px`):(d.classList.remove("ML__popover--reverse-direction"),d.classList.add("top-tip"),d.classList.remove("bottom-tip"),d.style.top=`${s.y+15}px`)}function M0(t){t.suggestionIndex=0,document.getElementById("mathlive-suggestion-popover")&&Bp("mathlive-suggestion-popover")}function Rue(t,e){let r=document.getElementById("mathlive-suggestion-popover");return r?Bp("mathlive-suggestion-popover"):(gl("suggestion-popover"),gl("core")),r=F2("mathlive-suggestion-popover"),r.addEventListener("pointerdown",i=>i.preventDefault()),r.addEventListener("click",i=>{let n=i.target;for(;n&&!n.dataset.command;)n=n.parentElement;n&&(A0(t,"reject"),Qt.insert(t.model,n.dataset.command,{selectionMode:"placeholder",format:"latex",mode:"math"}),t.dirty=!0,t.focus())}),r.innerHTML=globalThis.MathfieldElement.createHTML(e),r}function Oue(){document.getElementById("mathlive-suggestion-popover")&&(Bp("mathlive-suggestion-popover"),yl("suggestion-popover"),yl("core"))}function Fue(){let t=String(new Error().stack).replace(/^Error.*\n/,"").split(`
`);if(t.length===0)return console.error(`Can't use relative paths to specify assets location because the sourcefile location could not be determined (unexpected stack trace format "${new Error().stack}").`),"";let e=t[1],r=e.match(/http.*\.ts[\?:]/);return r&&(e=t[2]),r=e.match(/(https?:.*):[0-9]+:[0-9]+/),r||(r=e.match(/at (.*(\.ts))[\?:]/),r||(r=e.match(/at (.*(\.mjs|\.js))[\?:]/))),r?r[1]:(console.error(t),console.error(`Can't use relative paths to specify assets location because the source file location could not be determined (unexpected location "${e}").`),"")}var $o=null,RC,OC,ty=((OC=(RC=globalThis==null?void 0:globalThis.document)==null?void 0:RC.currentScript)==null?void 0:OC.src)||Fue();async function UP(t){if(/^(?:[a-z+]+:)?\/\//i.test(t)){try{return new URL(t).href}catch{}if(t.startsWith("//"))try{return new URL(`${window.location.protocol}${t}`).href}catch{}return t}if($o===null)try{let e=await fetch(ty,{method:"HEAD"});e.status===200&&($o=e.url,$o=$o.replace(/\/\+esm$/,"/"),$o.includes("jsdelivr.net/")&&($o+="/"))}catch{console.error(`Invalid URL "${t}" (relative to "${ty}")`)}return new URL(t,$o??ty).href}function Nue(t,e,r={}){return new FontFace(t,`url(${e}.woff2) format('woff2')`,r)}var En="not-loaded";async function $ue(){return En="not-loaded",R6()}async function R6(){var t;if(En==="not-loaded"){if(En="loading",(t=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))!=null?t:!1){En="ready";return}if(document.body.classList.remove("ML__fonts-did-not-load"),"fonts"in document){let e=["KaTeX_Main","KaTeX_Math","KaTeX_AMS","KaTeX_Caligraphic","KaTeX_Fraktur","KaTeX_SansSerif","KaTeX_Script","KaTeX_Typewriter","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4"],r=Array.from(document.fonts).map(s=>s.family);if(e.every(s=>r.includes(s))){En="ready";return}if(!globalThis.MathfieldElement.fontsDirectory){En="not-loaded";return}let i=await UP(globalThis.MathfieldElement.fontsDirectory);if(!i){document.body.classList.add("ML__fonts-did-not-load"),En="error";return}i.endsWith("/")&&(i=i.slice(0,-1));let n=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],["KaTeX_SansSerif-Regular"],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(s=>Nue(s[0].replace(/-[a-zA-Z]+$/,""),`${i}/${s[0]}`,s[1]));try{(await Promise.all(n.map(s=>{try{return s.load()}catch{}}))).forEach(s=>document.fonts.add(s)),En="ready";return}catch(s){console.error(`MathLive 0.105.3: The math fonts could not be loaded from "${i}"`,{cause:s}),document.body.classList.add("ML__fonts-did-not-load")}En="error"}}}function zue(t,e=0){let r=3735928559^e,i=1103547991^e;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);r=Math.imul(r^s,2654435761),i=Math.imul(i^s,1597334677)}return r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507),i^=Math.imul(r^r>>>13,3266489909),4294967296*(2097151&i)+(r>>>0)}function fr(t,e){!t||t.dirty||(t.resizeObserver.unobserve(t.field),t.dirty=!0,requestAnimationFrame(()=>{Oa(t)&&t.dirty&&(t.atomBoundsCache=new Map,Eu(t,e),t.atomBoundsCache=void 0,t.resizeObserver.observe(t.field),t.resizeObserverStarted=!0)}))}function Uue(t,e){var r;e=e??{};let i=new Pt({from:Z(q({},t.context),{atomIdsSettings:{seed:e.forHighlighting?zue(ue.serialize([t.model.root],{expandMacro:!1,defaultMode:t.options.defaultMode})):"random",groupNumbers:(r=e.forHighlighting)!=null?r:!1},letterShapeStyle:t.options.letterShapeStyle}),mathstyle:t.options.defaultMode==="inline-math"?"textstyle":"displaystyle"}),n=t.model.root.render(i);return A2(Dp(n,i),{classes:t.hasEditablePrompts?"ML__latex ML__prompting":"ML__latex",attributes:{translate:"no","aria-hidden":"true"}})}function qP(t,e){try{let{model:r}=t;r.root.caret=void 0,r.root.isSelected=!1,r.root.containsCaret=!0;for(let i of r.atoms)i.caret=void 0,i.isSelected=!1,i.containsCaret=!1;if(r.selectionIsCollapsed){let i=r.at(r.position);i.caret=t.model.mode;let n=i.parent;for(;n;)n.containsCaret=!0,n=n.parent}else{let i=r.getAtoms(r.selection,{includeChildren:!0});for(let n of i)n.isSelected=!0}return Uue(t,e).toMarkup()}catch(r){return console.error(r),'<span class="ML__latex" translate="no" aria-hidden="true">🚫</span>'}}function Eu(t,e){if(!Oa(t))return;e!=null||(e={});let r=t.element.querySelector("[part=virtual-keyboard-toggle]");r&&(r.style.display=t.hasEditableContent?"":"none");let i=t.field;if(!i)return;let n=t.isSelectionEditable&&t.hasFocus(),s=i.classList.contains("ML__focused");s&&!n?i.classList.remove("ML__focused"):!s&&n&&i.classList.add("ML__focused");let a=qP(t,e),o=t.element.querySelector("[part=menu-toggle]");if(o){let l=!1;(t.disabled||t.readOnly&&!t.hasEditableContent||t.userSelect==="none")&&(l=!0),!l&&i.offsetWidth<50&&(l=!0),o.style.display=l?"none":""}if(t.model.atoms.length<=1){let l=t.options.contentPlaceholder;l&&(a+=`<span part=placeholder class="ML__content-placeholder">${Gr(l)}</span>`)}i.innerHTML=globalThis.MathfieldElement.createHTML(a),gg(t,e.interactive),t.dirty=!1}function gg(t,e){let r=t.field;if(!r)return;for(let a of r.querySelectorAll(".ML__selection, .ML__contains-highlight"))a.remove();if(!(e!=null&&e)&&En!=="error"&&En!=="ready"){setTimeout(()=>{En==="ready"?gg(t):setTimeout(()=>gg(t),128)},32);return}let i=t.model,n,s=()=>{if(n!==void 0)return n;let a=r.offsetWidth,o=r.getBoundingClientRect().width;return n=Math.floor(o)/a,isNaN(n)&&(n=1),n};if(i.selectionIsCollapsed){N2(t,{deferred:!0});let a=i.at(i.position);for(;a&&a.type!=="prompt"&&!(a.containsCaret&&a.displayContainsHighlight);)a=a.parent;if(a!=null&&a.containsCaret&&a.displayContainsHighlight){let o=s(),l=zB(t,Z0(t,a),o);if(l){l.left/=o,l.right/=o,l.top/=o,l.bottom/=o;let u=document.createElement("div");u.classList.add("ML__contains-highlight"),u.style.position="absolute",u.style.left=`${l.left+1}px`,u.style.top=`${Math.ceil(l.top)}px`,u.style.width=`${Math.ceil(l.right-l.left)}px`,u.style.height=`${Math.ceil(l.bottom-l.top)}px`,r.insertBefore(u,r.childNodes[0])}}return}for(let a of que(qB(t,{excludeAtomsWithBackground:!0}))){let o=s();a.left/=o,a.right/=o,a.top/=o,a.bottom/=o;let l=document.createElement("div");l.classList.add("ML__selection"),l.style.position="absolute",l.style.left=`${a.left}px`,l.style.top=`${a.top}px`,l.style.width=`${Math.ceil(a.right-a.left)}px`,l.style.height=`${Math.ceil(a.bottom-a.top-1)}px`,r.insertBefore(l,r.childNodes[0])}}function que(t){let e=[];for(let r of t){let i=!1;for(let n of e)if(r.left===n.left&&r.right===n.right&&r.top===n.top&&r.bottom===n.bottom){i=!0;break}i||e.push(r)}t=e,e=[];for(let r of t){let i=0;for(let n of t)if(r.left>=n.left&&r.right<=n.right&&r.top>=n.top&&r.bottom<=n.bottom&&(i+=1,i>1))break;i===1&&e.push(r)}return e}function jP(t){if(!t)return;let e=t.model,r=e.selection,i=ue.serialize([e.root],{expandMacro:!1,defaultMode:t.options.defaultMode});Qt.insert(e,i,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",silenceNotifications:!0,mode:"math"});let n=e.silenceNotifications;e.silenceNotifications=!0,e.selection=r,e.silenceNotifications=n,fr(t)}function FC(){for(let t of document.querySelectorAll(".ML__mathfield"))"_mathfield"in t&&jP(t._mathfield)}var VP=3,ta;function nn(t,e){e=q({target:"mathfield",canUndo:!1,audioFeedback:void 0,changeContent:!1,changeSelection:!1},e??{}),ta||(ta={});for(let r of Object.keys(t))ta[r],ta[r]=Z(q({},e),{fn:t[r]})}function O6(t){let e;if(Array.isArray(t)){if(t[0]==="performWithFeedback")return O6(t[1]);e=t[0]}else e=t;return ta[e]}function n0(t){var e;return(e=O6(t))==null?void 0:e.target}function jue(t,e){var r,i;if(e=rp(e),!e)return!1;let n,s=[],a=!1,o=!1;gi(e)?(n=e[0],s=e.slice(1)):n=e;let l=ta[n],u=l==null?void 0:l.target;if(u==="model"){if(!t.isSelectionEditable&&l!=null&&l.changeContent)return t.model.announce("plonk"),!1;/^(delete|add)/.test(n)&&(n!=="deleteBackward"&&t.flushInlineShortcutBuffer(),t.snapshot(n)),/^complete/.test(n)||O2(t),ta[n].fn(t.model,...s),Lp(t),o=!0,a=!0}else if(u==="virtual-keyboard")o=(i=(r=window.mathVirtualKeyboard)==null?void 0:r.executeCommand(e))!=null?i:!1,a=!0;else if(ta[n]){if(!t.isSelectionEditable&&l!=null&&l.changeContent)return t.model.announce("plonk"),!1;/^(undo|redo)/.test(n)&&t.flushInlineShortcutBuffer(),o=ta[n].fn(t,...s),a=!0}else throw new Error(`Unknown command "${n}"`);return u!=="virtual-keyboard"&&(!t.model.selectionIsCollapsed||l!=null&&l.changeSelection&&n!=="deleteBackward")&&(t.flushInlineShortcutBuffer(),l!=null&&l.changeContent||t.stopCoalescingUndo(),t.defaultStyle={}),o&&fr(t),a}function Vue(t,e){var r;if(!t)return!1;t.focus(),z6.keypressVibration&&bB()&&navigator.vibrate(VP);let i=O6(e);globalThis.MathfieldElement.playSound((r=i==null?void 0:i.audioFeedback)!=null?r:"keypress");let n=t.executeCommand(e);return t.scrollIntoView(),n}nn({performWithFeedback:(t,e)=>Vue(t,e)});function Hue(t){return Lp(t,{atIndex:t.suggestionIndex+1}),!1}function Kue(t){return Lp(t,{atIndex:t.suggestionIndex-1}),!1}nn({complete:A0},{target:"mathfield",audioFeedback:"return",canUndo:!0,changeContent:!0,changeSelection:!0});nn({dispatchEvent:(t,e,r)=>{var i,n;return(n=(i=t.host)==null?void 0:i.dispatchEvent(new CustomEvent(e,{detail:r})))!=null?n:!1}},{target:"mathfield"});nn({nextSuggestion:Hue,previousSuggestion:Kue},{target:"mathfield",audioFeedback:"keypress",changeSelection:!0});function rp(t){if(!t)return;if(gi(t)&&t.length>0){let r=t[0];return r=r.replace(/-\w/g,i=>i[1].toUpperCase()),r==="performWithFeedback"&&t.length===2?[r,rp(t[1])]:[r,...t.slice(1)]}if(typeof t!="string")return;let e=t.trim().match(/^([a-zA-Z0-9-]+)\((.*)\)$/);if(e){let r=e[1].replace(/-\w/g,n=>n[1].toUpperCase()),i=e[2].split(",").map(n=>n.trim());return[r,...i.map(n=>{if(/"[^"]*"/.test(n)||/'[^']*'/.test(n))return n.slice(1,-1);if(/^true$/.test(n))return!0;if(/^false$/.test(n))return!1;if(/^[-]?\d+$/.test(n))return parseInt(n,10);if(/^\{.*\}$/.test(n))try{return JSON.parse(n)}catch{return console.error("Invalid argument:",n),n}return rp(n)})]}return t.replace(/-\w/g,r=>r[1].toUpperCase())}var yg="mathlive#virtual-keyboard-message";function F6(t){var e;return t.type!=="message"?!1:((e=t.data)==null?void 0:e.type)===yg}var Wue=class HP{constructor(){this.targetOrigin=window.origin,this.originValidator="none",this._boundingRect=new DOMRect(0,0,0,0),this._isShifted=!1,window.addEventListener("message",this),this.sendMessage("proxy-created"),this.listeners={}}static get singleton(){return this._singleton||(this._singleton=new HP),this._singleton}getKeycap(e){}setKeycap(e,r){this.sendMessage("update-setting",{setKeycap:{keycap:e,value:r}})}set alphabeticLayout(e){this.sendMessage("update-setting",{alphabeticLayout:e})}set layouts(e){this.sendMessage("update-setting",{layouts:e})}get normalizedLayouts(){return[]}set editToolbar(e){this.sendMessage("update-setting",{editToolbar:e})}set container(e){throw new Error("Container inside an iframe cannot be changed")}show(e){this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:!0},bubbles:!0,cancelable:!0,composed:!0}))&&(this.sendMessage("show",e),this.dispatchEvent(new Event("virtual-keyboard-toggle")))}hide(e){this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:!1},bubbles:!0,cancelable:!0,composed:!0}))&&(this.sendMessage("hide",e),this.dispatchEvent(new Event("virtual-keyboard-toggle")))}get isShifted(){return this._isShifted}get visible(){return this._boundingRect.height>0}set visible(e){e?this.show():this.hide()}get boundingRect(){return this._boundingRect}executeCommand(e){return this.sendMessage("execute-command",{command:e}),!0}updateToolbar(e){this.sendMessage("update-toolbar",e)}update(e){this.sendMessage("update-setting",e)}connect(){this.sendMessage("connect")}disconnect(){this.sendMessage("disconnect")}addEventListener(e,r,i){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(r)||this.listeners[e].add(r)}dispatchEvent(e){return!this.listeners[e.type]||this.listeners[e.type].size===0?!0:(this.listeners[e.type].forEach(r=>{typeof r=="function"?r(e):r==null||r.handleEvent(e)}),!e.defaultPrevented)}removeEventListener(e,r,i){this.listeners[e]&&this.listeners[e].delete(r)}handleEvent(e){if(F6(e)){if(!E6(e.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");this.handleMessage(e.data)}}handleMessage(e){let{action:r}=e;if(r==="execute-command"){let{command:i}=e;n0(i)==="virtual-keyboard"&&this.executeCommand(i);return}if(r==="synchronize-proxy"){this._boundingRect=e.boundingRect,this._isShifted=e.isShifted;return}if(r==="geometry-changed"){this._boundingRect=e.boundingRect,this.dispatchEvent(new Event("geometrychange"));return}}sendMessage(e,r={}){if(!window.top)throw new DOMException("A frame does not have access to the top window and can‘t communicate with the keyboard. Review virtualKeyboardTargetOrigin and originValidator on mathfields embedded in an iframe","SecurityError");window.top.postMessage(q({type:yg,action:e},r),this.targetOrigin)}},NC={numeric:{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",rows:[[{latex:"x",shift:"y",variants:["y","z","t","r","x^2","x^n","x^{#?}","x_n","x_i","x_{#?}",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"}]},{latex:"n",shift:"a",variants:["i","j","p","k","a","u"]},"[separator-5]","[7]","[8]","[9]","[/]","[separator-5]",{latex:"\\exponentialE",shift:"\\ln",variants:["\\exp","\\times 10^{#?}","\\ln","\\log_{10}","\\log","\\lg","\\operatorname{lb}"]},{latex:"\\imaginaryI",variants:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"]},{latex:"\\pi",shift:"\\sin",variants:["\\prod",{latex:"\\theta",aside:"theta"},{latex:"\\rho",aside:"rho"},{latex:"\\tau",aside:"tau"},"\\sin","\\cos","\\tan"]}],[{label:"<",latex:"<",class:"hide-shift",shift:{latex:"\\le",label:"≤"}},{label:">",latex:">",class:"hide-shift",shift:{latex:"\\ge",label:"≥"}},"[separator-5]","[4]","[5]","[6]","[*]","[separator-5]",{class:"hide-shift",latex:"#@^2}",shift:"#@^{\\prime}}"},{latex:"#@^{#0}}",class:"hide-shift",shift:"#@_{#?}"},{class:"hide-shift",latex:"\\sqrt{#0}",shift:{latex:"\\sqrt[#0]{#?}}"}}],["[(]","[)]","[separator-5]","[1]","[2]","[3]","[-]","[separator-5]",{latex:"\\int^{\\infty}_{0}\\!#?\\,\\mathrm{d}x",class:"small hide-shift",shift:"\\int",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{class:"hide-shift",latex:"\\forall",shift:"\\exists"},{label:"[backspace]",width:1}],[{label:"[shift]",width:2},"[separator-5]","[0]","[.]","[=]","[+]","[separator-5]","[left]","[right]",{label:"[action]",width:1}]]},greek:{label:"&alpha;&beta;&gamma;",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.greek",rows:[[{label:"<i>&#x03c6;</i>",class:"MLK__tex hide-shift",insert:"\\varphi",aside:"phi var.",shift:"\\Phi"},{label:"<i>&#x03c2;</i>",class:"MLK__tex hide-shift",insert:"\\varsigma",aside:"sigma var.",shift:"\\Sigma"},{label:"<i>&#x03f5;</i>",class:"MLK__tex hide-shift",insert:"\\epsilon",aside:"epsilon",shift:'\\char"0190'},{label:"<i>&rho;</i>",class:"MLK__tex hide-shift",insert:"\\rho",aside:"rho",shift:'\\char"3A1'},{label:"<i>&tau;</i>",class:"MLK__tex hide-shift",insert:"\\tau",aside:"tau",shift:'\\char"3A4'},{label:"<i>&upsilon;</i>",class:"MLK__tex hide-shift",insert:"\\upsilon",aside:"upsilon",shift:"\\Upsilon"},{label:"<i>&theta;</i>",class:"MLK__tex hide-shift",insert:"\\theta",aside:"theta",shift:"\\Theta"},{label:"<i>&iota;</i>",class:"MLK__tex hide-shift",insert:"\\iota",aside:"iota",shift:'\\char"399'},{label:"<i>&omicron;</i>",class:"MLK__tex hide-shift",insert:"\\omicron",aside:"omicron",shift:'\\char"39F'},{label:"<i>&pi;</i>",class:"MLK__tex hide-shift",insert:"\\pi",aside:"pi",shift:"\\Pi"}],["[separator-5]",{label:"<i>&alpha;</i>",class:"MLK__tex hide-shift",insert:"\\alpha",aside:"alpha",shift:'\\char"391'},{label:"<i>&sigma;</i>",class:"MLK__tex hide-shift",insert:"\\sigma",aside:"sigma",shift:"\\Sigma"},{label:"<i>&delta;</i>",class:"MLK__tex hide-shift",insert:"\\delta",aside:"delta",shift:"\\Delta"},{latex:"\\phi",class:"MLK__tex hide-shift",insert:"\\phi",aside:"phi",shift:"\\Phi"},{label:"<i>&gamma;</i>",class:"MLK__tex hide-shift",insert:"\\gamma",aside:"gamma",shift:"\\Gamma"},{label:"<i>&eta;</i>",class:"MLK__tex hide-shift",insert:"\\eta",aside:"eta",shift:'\\char"397'},{label:"<i>&xi;</i>",class:"MLK__tex hide-shift",insert:"\\xi",aside:"xi",shift:"\\Xi"},{label:"<i>&kappa;</i>",class:"MLK__tex hide-shift",insert:"\\kappa",aside:"kappa",shift:"\\Kappa"},{label:"<i>&lambda;</i>",class:"MLK__tex hide-shift",insert:"\\lambda",aside:"lambda",shift:"\\Lambda"},"[separator-5]"],["[shift]",{label:"<i>&zeta;</i>",class:"MLK__tex hide-shift",insert:"\\zeta",aside:"zeta",shift:'\\char"396'},{label:"<i>&chi;</i>",class:"MLK__tex hide-shift",insert:"\\chi",aside:"chi",shift:'\\char"3A7'},{label:"<i>&psi;</i>",class:"MLK__tex hide-shift",insert:"\\psi",aside:"psi",shift:"\\Psi"},{label:"<i>&omega;</i>",class:"MLK__tex hide-shift",insert:"\\omega",aside:"omega",shift:"\\Omega"},{label:"<i>&beta;</i>",class:"MLK__tex hide-shift",insert:"\\beta",aside:"beta",shift:'\\char"392'},{label:"<i>&nu;</i>",class:"MLK__tex hide-shift",insert:"\\nu",aside:"nu",shift:'\\char"39D'},{label:"<i>&mu;</i>",class:"MLK__tex hide-shift",insert:"\\mu",aside:"mu",shift:'\\char"39C'},"[backspace]"],["[separator]",{label:"<i>&#x03b5;</i>",class:"MLK__tex",insert:"\\varepsilon",aside:"epsilon var."},{label:"<i>&#x03d1;</i>",class:"MLK__tex",insert:"\\vartheta",aside:"theta var."},{label:"<i>&#x3f0;</i>",class:"MLK__tex",insert:"\\varkappa",aside:"kappa var."},{label:"<i>&#x03d6;</i>",class:"MLK__tex",insert:"\\varpi",aside:"pi var."},{label:"<i>&#x03f1;</i>",class:"MLK__tex",insert:"\\varrho",aside:"rho var."},"[left]","[right]","[action]"]]},symbols:{label:"&infin;≠∈",labelClass:"MLK__tex",tooltip:"keyboard.tooltip.symbols",rows:[[{latex:"\\sin",shift:"\\sin^{-1}",variants:[{class:"small",latex:"\\sinh"},{class:"small",latex:"\\sin^{-1}"},{class:"small",latex:"\\operatorname{arsinh}"}]},"\\ln",{latex:"\\mathrm{abs}",insert:"\\mathrm{abs}\\left(#0\\right)"},{latex:"\\rightarrow",shift:"\\Rightarrow",variants:[{latex:"\\implies",aside:"implies"},{latex:"\\to",aside:"to"},"\\dashv",{latex:"\\roundimplies",aside:"round implies"}]},{latex:"\\exists",variants:["\\nexists"],shift:"\\nexists"},{latex:"\\in",shift:"\\notin",variants:["\\notin","\\owns"]},"\\cup",{latex:"\\overrightarrow{#@}",shift:"\\overleftarrow{#@}",variants:["\\overleftarrow{#@}","\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"]},{class:"small hide-shift",latex:"\\lim_{#?}",shift:"\\lim_{x\\to\\infty}",variants:[{class:"small",latex:"\\liminf_{#?}"},{class:"small",latex:"\\limsup_{#?}"}]},"\\exponentialE"],[{latex:"\\cos",shift:"\\cos^{-1}",variants:[{class:"small",latex:"\\cosh"},{class:"small",latex:"\\cos^{-1}"},{class:"small",latex:"\\operatorname{arcosh}"}]},{latex:"\\log",shift:"\\log_{10}",variants:["\\log_{#0}","\\log_{10}"]},"\\left\\vert#0\\right\\vert",{latex:"\\larr",shift:"\\lArr",variants:[{latex:"\\impliedby",aside:"implied by"},{latex:"\\gets",aside:"gets"},"\\lArr","\\vdash",{latex:"\\models",aside:"models"}]},{latex:"\\forall",shift:"\\lnot",variants:[{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"}]},{latex:"\\ni",shift:"\\not\\owns"},"\\cap",{latex:"\\overline{#@}",shift:"\\underline{#@}",variants:["\\overbrace{#@}","\\overlinesegment{#@}","\\overleftrightarrow{#@}","\\overrightarrow{#@}","\\overleftarrow{#@}","\\overgroup{#@}","\\underbrace{#@}","\\underlinesegment{#@}","\\underleftrightarrow{#@}","\\underrightarrow{#@}","\\underleftarrow{#@}","\\undergroup{#@}"]},{class:"hide-shift small",latex:"\\int",shift:"\\iint",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\intop","\\iiint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"]},{latex:"\\pi",shift:"\\tau",variants:["\\tau"]}],[{latex:"\\tan",shift:"\\tan^{-1}",variants:[{class:"small",latex:"\\tanh"},{class:"small",latex:"\\tan^{-1}"},{class:"small",latex:"\\operatorname{artanh}"},{class:"small",latex:"\\arctan"},{class:"small",latex:"\\operatorname{arctg}"},{class:"small",latex:"\\operatorname{tg}"}]},{latex:"\\exp",insert:"\\exp\\left(#0\\right)",variants:["\\exponentialE^{#0}"]},"\\left\\Vert#0\\right\\Vert",{latex:"\\lrArr",shift:"\\leftrightarrow",variants:[{latex:"\\iff",aside:"if and only if"},"\\leftrightarrow","\\leftrightarrows","\\Leftrightarrow",{latex:"^\\biconditional",aside:"biconditional"}]},{latex:"\\vert",shift:"!"},{latex:"#@^{\\complement}",aside:"complement",variants:[{latex:"\\setminus",aside:"set minus"},{latex:"\\smallsetminus",aside:"small set minus"}]},{latex:"\\subset",shift:"\\subseteq",variants:["\\subset","\\subseteq","\\subsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsubseteq","\\supset","\\supseteq","\\supsetneq","\\supsetneqq","\\nsupset","\\nsupseteq"]},{latex:"#@^{\\prime}",shift:"#@^{\\doubleprime}",variants:["#@^{\\doubleprime}","#@\\degree"]},{latex:"\\mathrm{d}",shift:"\\partial",variants:["\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{latex:"\\infty",variants:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"]}],[{label:"[shift]",width:2},{class:"box",latex:",",shift:";",variants:[";","?"]},{class:"box",latex:"\\colon",shift:"\\Colon",variants:[{latex:"\\Colon",aside:"such that",class:"box"},{latex:":",aside:"ratio",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",aside:"",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\therefore",aside:"therefore",class:"box"},{latex:"\\because",aside:"because",class:"box"}]},{class:"box",latex:"\\cdot",aside:"centered dot",shift:"\\ast",variants:["\\circ","\\bigcirc","\\bullet","\\odot","\\oslash","\\circledcirc","\\ast","\\star","\\times","\\doteq","\\doteqdot"]},"[separator]","[left]","[right]",{label:"[backspace]",width:1,class:"action hide-shift"},{label:"[action]",width:1}]]},compact:{label:"compact",rows:[["[+]","[-]","[*]","[/]","[=]","[.]","[(]","[)]","\\sqrt{#0}","#@^{#?}"],["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[0]"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]},minimalist:{label:"minimalist",layers:[{style:`
          div.minimalist-backdrop {
            display: flex;
            justify-content: center;
          }          
          div.minimalist-container {
            --keycap-height: 40px;
            --keycap-max-width: 53px;
            --keycap-small-font-size: 12px;
            background: var(--keyboard-background);
            padding: 20px 20px 0px 20px;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            border: 1px solid var(--keyboard-border);
            box-shadow: 0 0 32px rgb(0 0 0 / 30%);
          }        
        `,backdrop:"minimalist-backdrop",container:"minimalist-container",rows:[["+","-","\\times",{latex:"\\frac{#@}{#0}",class:"small"},"=","[.]","(",")",{latex:"\\sqrt{#0}",class:"small"},{latex:"#@^{#?}",class:"small"}],["1","2","3","4","5","6","7","8","9","0"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]}]},"numeric-only":{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",id:"numeric-only",rows:[["7","8","9","[separator]",{label:"[backspace]",width:2}],["4","5","6","[separator]","[separator]","[separator]"],["1","2","3","[separator]","[separator]","[separator]"],["0",{label:"[.]",variants:[]},"-","[separator]","[left]","[right]"]]}},c1={0:["\\varnothing","\\infty"],1:["\\frac{1}{#@}","#@^{-1}","\\times 10^{#?}","\\phi","\\imaginaryI"],2:["\\frac{1}{2}","#@^2","\\sqrt2","\\exponentialE"],3:["\\frac{1}{3}","#@^3","\\sqrt3","\\pi"],4:["\\frac{1}{4}","#@^4"],5:["\\frac{1}{5}","#@^5","\\sqrt5"],6:["\\frac{1}{6}","#@^6"],7:["\\frac{1}{7}","#@^7"],8:["\\frac{1}{8}","#@^8"],9:["\\frac{1}{9}","#@^9"],".":[".",",",";","\\colon"],",":["{,}",".",";","\\colon"],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"å","à","á","â","ä","æ"],A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"Å","À","Á","Â","Ä","Æ"],b:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"},"ç"],d:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"},"è","é","ê","ë"],E:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"},"È","É","Ê","Ë"],g:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"},"ì","í","î","ï"],I:[{latex:"\\imaginaryI",aside:"imaginary i"},"Ì","Í","Î","Ï"],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\mathbb{N}",aside:"set of natural numbers"},"ñ"],o:["ø","œ","ò","ó","ô","ö"],O:["ø","Œ","Ò","Ó","Ô","Ö"],p:[{latex:"\\mathbb{P}",aside:"set of primes"}],q:[{latex:"\\mathbb{Q}",aside:"set of rational numbers"}],r:[{latex:"\\mathbb{R}",aside:"set of real numbers"}],u:["ù","ú","û","ü"],U:["Ù","Ú","Û","Ü"],z:[{latex:"\\mathbb{Z}",aside:"set of integers"}],y:["ý","ÿ"],Y:["Ÿ"],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br>⁻³⧸₁₈ em"},{latex:'\\char"203A\\,\\char"2039',insert:"\\,",aside:"thin space<br>³⧸₁₈ em"},{latex:'\\char"203A\\:\\char"2039',insert:"\\:",aside:"medium space<br>⁴⧸₁₈ em"},{latex:'\\char"203A\\;\\char"2039',insert:"\\;",aside:"thick space<br>⁵⧸₁₈ em"},{latex:'\\char"203A\\ \\char"2039',insert:"\\ ",aside:"⅓ em"},{latex:'\\char"203A\\enspace\\char"2039',insert:"\\enspace",aside:"½ em"},{latex:'\\char"203A\\quad\\char"2039',insert:"\\quad",aside:"1 em"},{latex:'\\char"203A\\qquad\\char"2039',insert:"\\qquad",aside:"2 em"}]},Th;function KP(t,e){var r,i,n,s,a;let o=kl.singleton;if(!o)return;let l=$c(t),u="";if(window.mathVirtualKeyboard.isShifted){let S=(r=o.getKeycap(l==null?void 0:l.id))==null?void 0:r.shift;typeof S=="object"&&"variants"in S&&(u=(i=S.variants)!=null?i:"")}else u=(s=(n=o.getKeycap(l==null?void 0:l.id))==null?void 0:n.variants)!=null?s:"";if(typeof u=="string"&&!X5(u)||Array.isArray(u)&&u.length===0){e==null||e();return}let c={},d="";for(let S of Xue(u)){let A=N6(S),T=Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);c[T]=A;let[M,D]=$2(A);d+=`<div id=${T} class="item ${D}">${M}</div>`}let h=document.createElement("div");h.setAttribute("aria-hidden","true"),h.className="MLK__variant-panel",h.style.height="auto";let f=Object.keys(c).length,g=5;f===1?g=1:f===2||f===4?g=2:f===3||f===5||f===6?g=3:f>=7&&f<14&&(g=4),h.style.width=`calc(var(--variant-keycap-length) * ${g} + 12px)`,h.innerHTML=z6.createHTML(d),ws.open({root:(a=o==null?void 0:o.container)==null?void 0:a.querySelector(".ML__keyboard"),child:h}),Th=new AbortController;let{signal:y}=Th,C=t==null?void 0:t.getBoundingClientRect();if(C){C.top-h.clientHeight<0&&(h.style.width="auto",f<=6?h.style.height="56px":f<=12?h.style.height="108px":f<=18?h.style.height="205px":h.classList.add("compact"));let S=Math.max(0,Math.min(window.innerWidth-h.offsetWidth,(C.left+C.right-h.offsetWidth)/2)),A=C.top-h.clientHeight+5;h.style.left=`${S}px`,h.style.top=`${A}px`,h.classList.add("is-visible"),requestAnimationFrame(()=>{var T;h.addEventListener("pointerup",M=>{let D=$c(M.target);!(D!=null&&D.id)||!c[D.id]||(Y5(c[D.id]),Nc(),e==null||e(),M.preventDefault())},{capture:!0,passive:!1,signal:y}),h.addEventListener("pointerenter",M=>{let D=$c(M.target);!(D!=null&&D.id)||!c[D.id]||D.classList.add("is-active")},{capture:!0,signal:y}),h.addEventListener("pointerleave",M=>{let D=$c(M.target);M.target&&"tagName"in M.target&&typeof M.target.tagName=="string"&&M.target.tagName.toUpperCase()==="ASIDE"||!(D!=null&&D.id)||!c[D.id]||D.classList.remove("is-active")},{capture:!0,signal:y}),(T=o.getKeycap(l==null?void 0:l.id))!=null&&T.stickyVariantPanel?window.addEventListener("pointerdown",M=>{if(!(M.target instanceof Node))return;let D=h.contains(M.target);M.target===h||D||(Nc(),e==null||e())},{signal:y}):(window.addEventListener("pointercancel",()=>{Nc(),e==null||e()},{signal:y}),window.addEventListener("pointerup",()=>{Nc(),e==null||e()},{signal:y}))})}}function Nc(){Th==null||Th.abort(),Th=null,ws.state==="open"&&ws.close()}function Gue(t){if(t==="foreground-color"){let e=[];for(let r of Object.keys(Tu))e.push({class:"swatch-button",label:'<span style="border: 3px solid '+Tu[r]+'"></span>',command:["applyStyle",{color:r}]});return e}if(t==="background-color"){let e=[];for(let r of Object.keys(ku))e.push({class:"swatch-button",label:'<span style="background:'+ku[r]+'"></span>',command:["applyStyle",{backgroundColor:r}]});return e}}function X5(t){return c1[t]!==void 0}function Xue(t){var e;return typeof t!="string"?t:(c1[t]||(c1[t]=(e=Gue(t))!=null?e:[]),c1[t])}function Yue(t){return typeof t=="string"?t:Object.entries(t).map(([e,r])=>`${e}:${r} !important`).join(";")}function Zue(t){return Object.keys(t).map(e=>`${e} {${Yue(t[e])}}`).join("")}function jd(t){if(!t)return"";let e=new Pt,r=new ue({mode:"math",type:"root",body:ts(t,{context:e,args:n=>n==="@"?"{\\class{ML__box-placeholder}{\\blacksquare}}":"\\placeholder{}"})}),i=E2(Dp(new Ae(r.render(e),{classes:"ML__base"}),e));return A2(i,{classes:"ML__latex"}).toMarkup()}function Eh(t){if(Array.isArray(t))return t.map(r=>Eh(r)).flat();let e=typeof t=="string"?{markup:t}:t;return"rows"in e&&Array.isArray(e.rows)&&(e.rows=e.rows.map(r=>r.map(i=>N6(i)))),e.id!=null||(e.id="ML__layer_"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36)),[e]}function Jue(){var t,e;let r=window.mathVirtualKeyboard.alphabeticLayout;if(r==="auto"){let a=tp();a&&(r=a.virtualLayout),(!r||r==="auto")&&(r=(t={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[Ct.locale.slice(0,2)])!=null?t:"qwerty")}let i={qwerty:["qwertyuiop"," asdfghjkl ","^zxcvbnm~"],azerty:["azertyuiop","qsdfghjklm","^ wxcvbn ~"],qwertz:["qwertzuiop"," asdfghjkl ","^yxcvbnm~"],dvorak:["^  pyfgcrl ","aoeuidhtns","qjkxbmwvz~"],colemak:[" qwfpgjluy ","arstdhneio","^zxcvbkm~"]},n=(e=i[r])!=null?e:i.qwerty,s=r==="azerty"?[[{label:"1",variants:"1"},{label:"2",shift:{latex:"é"},variants:"2"},{label:"3",shift:{latex:"ù"},variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{label:"(",latex:"("},variants:"5"},{label:"6",shift:{label:")",latex:")"},variants:"6"},{label:"7",shift:{latex:"è"},variants:"7"},{label:"8",shift:{latex:"ê"},variants:"8"},{label:"9",shift:{latex:"ç"},variants:"9"},{label:"0",shift:{latex:"à"},variants:"0"}]]:[[{label:"1",variants:"1"},{label:"2",variants:"2"},{label:"3",variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{latex:"\\frac{#@}{#?}"},variants:"5"},{label:"6",shift:{latex:"#@^#?"},variants:"6"},{label:"7",variants:"7"},{label:"8",shift:{latex:"\\times"},variants:"8"},{label:"9",shift:{label:"(",latex:"("},variants:"9"},{label:"0",shift:{label:")",latex:")"},variants:"0"}]];for(let a of n){let o=[];for(let l of a)/[a-z]/.test(l)?o.push({label:l,class:"hide-shift",shift:{label:l.toUpperCase(),variants:X5(l.toUpperCase())?l.toUpperCase():void 0},variants:X5(l)?l:void 0}):l==="~"?r!=="dvorak"?o.push("[backspace]"):o.push({label:"[backspace]",width:1}):l==="^"?o.push("[shift]"):l===" "&&o.push("[separator-5]");s.push(o)}return s.push(["[-]","[+]","[=]",{label:" ",width:1.5},{label:",",shift:";",variants:".",class:"hide-shift"},"[.]","[left]","[right]",{label:"[action]",width:1.5}]),{label:"abc",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.alphabetic",layers:Eh({rows:s})}}function WP(t){if(t==="alphabetic")return Jue();if(typeof t=="string")return NC[t],WP(NC[t]);let e;if("rows"in t&&Array.isArray(t.rows)){let n=t,s=sg(n,["rows"]);e=Z(q({},s),{layers:Eh({rows:t.rows})})}else if("markup"in t&&typeof t.markup=="string"){let n=t,s=sg(n,["markup"]);e=Z(q({},s),{layers:Eh(t.markup)})}else e=q({},t),"layers"in t?e.layers=Eh(t.layers):console.error('MathLive 0.105.3: provide either a "rows", "markup" or "layers" property');let r=!1,i=!1;for(let n of e.layers)if(n.rows)for(let s of n.rows.flat()){s0(s)&&(r=!0);let a=s.command;typeof a=="string"&&["undo","redo","cut","copy","paste"].includes(a)&&(i=!0)}return(!("displayShiftedKeycaps"in t)||t.displayShiftedKeycaps===void 0)&&(e.displayShiftedKeycaps=r),(!("displayEditToolbar"in t)||t.displayEditToolbar===void 0)&&(e.displayEditToolbar=!i),e}function Que(t,e){var r,i;let n='<div class="left">';if(t.normalizedLayouts.length>1)for(let[s,a]of t.normalizedLayouts.entries()){let o=a,l=[s===e?"selected":"layer-switch"];o.tooltip&&l.push("MLK__tooltip"),o.labelClass&&l.push(...o.labelClass.split(" ")),n+=`<div class="${l.join(" ")}"`,o.tooltip&&(n+=" data-tooltip='"+((r=ft(o.tooltip))!=null?r:o.tooltip)+"' "),s!==e&&(n+=`data-layer="${o.layers[0].id}"`),n+=`>${(i=o.label)!=null?i:"untitled"}</div>`}return n+="</div>",n}function ece(t,e){let r="";if(t.editToolbar==="none")return"";let i=[];e.selectionIsCollapsed?i.push("undo","redo","pasteFromClipboard"):i.push("cutToClipboard","copyToClipboard","pasteFromClipboard");let n={undo:`<div class='action ${e.canUndo===!1?"disabled":""}'
          data-command='"undo"'
          data-tooltip='${ft("tooltip.undo")}'>
          <svg><use xlink:href='#svg-undo' /></svg>
      </div>`,redo:`<div class='action ${e.canRedo===!1?"disabled":""}'
          data-command='"redo"'
          data-tooltip='${ft("tooltip.redo")}'>
          <svg><use xlink:href='#svg-redo' /></svg>
      </div>`,cutToClipboard:`
        <div class='action'
            data-command='"cutToClipboard"'
            data-tooltip='${ft("tooltip.cut to clipboard")}'>
            <svg><use xlink:href='#svg-cut' /></svg>
        </div>
    `,copyToClipboard:`
        <div class='action'
            data-command='"copyToClipboard"'
            data-tooltip='${ft("tooltip.copy to clipboard")}'>
            <svg><use xlink:href='#svg-copy' /></svg>
        </div>
    `,pasteFromClipboard:`
        <div class='action'
            data-command='"pasteFromClipboard"'
            data-tooltip='${ft("tooltip.paste from clipboard")}'>
            <svg><use xlink:href='#svg-paste' /></svg>
        </div>
    `};return r+=i.map(s=>n[s]).join(""),r}function tce(t){for(let e of t)rce(e)}function rce(t){let e=kl.singleton;if(!e)return;let r={};if(!t.id){if(t.hasAttribute("data-label")&&(r.label=t.dataset.label),t.hasAttribute("data-latex")&&(r.latex=t.dataset.latex),t.hasAttribute("data-key")&&(r.key=t.dataset.key),t.hasAttribute("data-insert")&&(r.insert=t.dataset.insert),t.hasAttribute("data-variants")&&(r.variants=t.dataset.variants),t.hasAttribute("data-aside")&&(r.aside=t.dataset.aside),t.className&&(r.class=t.className),!r.label&&!r.latex&&!r.key&&!r.insert&&(r.latex=t.innerText,r.label=t.innerHTML),t.hasAttribute("data-command"))try{r.command=JSON.parse(t.dataset.command)}catch{}t.id=e.registerKeycap(r)}if(!t.innerHTML){let[i,n]=$2(r);t.innerHTML=globalThis.MathfieldElement.createHTML(i)}}function ice(){gl("virtual-keyboard"),gl("core"),R6()}function nce(){yl("core"),yl("virtual-keyboard")}var sce=`<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">

<symbol id="svg-delete-backward" viewBox="0 0 576 512">
  <path d="M432.1 208.1L385.9 256L432.1 303C442.3 312.4 442.3 327.6 432.1 336.1C423.6 346.3 408.4 346.3 399 336.1L352 289.9L304.1 336.1C295.6 346.3 280.4 346.3 271 336.1C261.7 327.6 261.7 312.4 271 303L318.1 256L271 208.1C261.7 199.6 261.7 184.4 271 175C280.4 165.7 295.6 165.7 304.1 175L352 222.1L399 175C408.4 165.7 423.6 165.7 432.1 175C442.3 184.4 442.3 199.6 432.1 208.1V208.1zM512 64C547.3 64 576 92.65 576 128V384C576 419.3 547.3 448 512 448H205.3C188.3 448 172 441.3 160 429.3L9.372 278.6C3.371 272.6 0 264.5 0 256C0 247.5 3.372 239.4 9.372 233.4L160 82.75C172 70.74 188.3 64 205.3 64L512 64zM528 128C528 119.2 520.8 112 512 112H205.3C201 112 196.9 113.7 193.9 116.7L54.63 256L193.9 395.3C196.9 398.3 201 400 205.3 400H512C520.8 400 528 392.8 528 384V128z"/>
</symbol>

<symbol id="svg-shift" viewBox="0 0 384 512">
  <path d="M2.438 252.3C7.391 264.2 19.06 272 32 272h80v160c0 26.51 21.49 48 48 48h64C250.5 480 272 458.5 272 432v-160H352c12.94 0 24.61-7.797 29.56-19.75c4.953-11.97 2.219-25.72-6.938-34.88l-160-176C208.4 35.13 200.2 32 192 32S175.6 35.13 169.4 41.38l-160 176C.2188 226.5-2.516 240.3 2.438 252.3zM192 86.63L313.4 224H224v208H160V224H70.63L192 86.63z"/>
</symbol>

<symbol id="svg-commit" viewBox="0 0 512 512">
  <path d="M135 432.1l-128-128C2.344 300.3 0 294.2 0 288s2.344-12.28 7.031-16.97l128-128c9.375-9.375 24.56-9.375 33.94 0s9.375 24.56 0 33.94L81.94 264H464v-208C464 42.75 474.8 32 488 32S512 42.75 512 56V288c0 13.25-10.75 24-24 24H81.94l87.03 87.03c9.375 9.375 9.375 24.56 0 33.94S144.4 442.3 135 432.1z"/>
</symbol>


<symbol id="circle-plus" viewBox="0 0 512 512"><path d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344c0 13.3 10.7 24 24 24s24-10.7 24-24V280h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V168c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"/></symbol>

<symbol id="svg-command" viewBox="0 0 640 512">
  <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>
</symbol>

<symbol id="svg-undo" viewBox="0 0 512 512">
  <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>
</symbol>
<symbol id="svg-redo" viewBox="0 0 512 512">
  <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>
</symbol>
<symbol id="svg-arrow-left" viewBox="0 0 320 512">
  <path d="M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/>
</symbol>
<symbol id="svg-arrow-right" viewBox="0 0 320 512">
  <path d="M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/>
</symbol>
<symbol id="svg-tab" viewBox="0 0 448 512">
  <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>
</symbol>
<symbol id="svg-paste" viewBox="0 0 512 512"><path d="M160 32c11.6 0 21.3 8.2 23.5 19.2C185 58.6 191.6 64 199.2 64H208c8.8 0 16 7.2 16 16V96H96V80c0-8.8 7.2-16 16-16h8.8c7.6 0 14.2-5.4 15.7-12.8C138.7 40.2 148.4 32 160 32zM64 64h2.7C65 69 64 74.4 64 80V96c0 17.7 14.3 32 32 32H224c17.7 0 32-14.3 32-32V80c0-5.6-1-11-2.7-16H256c17.7 0 32 14.3 32 32h32c0-35.3-28.7-64-64-64H210.6c-9-18.9-28.3-32-50.6-32s-41.6 13.1-50.6 32H64C28.7 32 0 60.7 0 96V384c0 35.3 28.7 64 64 64H192V416H64c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zM288 480c-17.7 0-32-14.3-32-32V192c0-17.7 14.3-32 32-32h96v56c0 22.1 17.9 40 40 40h56V448c0 17.7-14.3 32-32 32H288zM416 165.3L474.7 224H424c-4.4 0-8-3.6-8-8V165.3zM448 512c35.3 0 64-28.7 64-64V235.9c0-12.7-5.1-24.9-14.1-33.9l-59.9-59.9c-9-9-21.2-14.1-33.9-14.1H288c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H448z"/></symbol>
<symbol id="svg-cut" viewBox="0 0 512 512"><path d="M485.6 444.2L333.6 314.9C326.9 309.2 326.1 299.1 331.8 292.4C337.5 285.6 347.6 284.8 354.4 290.5L506.4 419.8C513.1 425.5 513.9 435.6 508.2 442.4C502.5 449.1 492.4 449.9 485.6 444.2zM485.7 67.76C492.5 62.07 502.5 62.94 508.2 69.69C513.9 76.45 513.1 86.55 506.3 92.24L208.5 343.1C218.3 359.7 224 379.2 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 288 112 288C141.5 288 168.4 299.4 188.4 318.1L262.2 256L188.4 193.9C168.4 212.6 141.5 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 132.8 218.3 152.3 208.5 168.9L287 235.1L485.7 67.76zM32 112C32 156.2 67.82 192 112 192C156.2 192 192 156.2 192 112C192 67.82 156.2 32 112 32C67.82 32 32 67.82 32 112zM112 480C156.2 480 192 444.2 192 400C192 355.8 156.2 320 112 320C67.82 320 32 355.8 32 400C32 444.2 67.82 480 112 480z"/></symbol>
<symbol id="svg-copy" viewBox="0 0 512 512"><path d="M272 416C263.2 416 256 423.2 256 432V448c0 17.67-14.33 32-32 32H64c-17.67 0-32-14.33-32-32V192c0-17.67 14.33-32 32-32h112C184.8 160 192 152.8 192 144C192 135.2 184.8 128 176 128H63.99c-35.35 0-64 28.65-64 64l.0098 256C0 483.3 28.65 512 64 512h160c35.35 0 64-28.65 64-64v-16C288 423.2 280.8 416 272 416zM502.6 86.63l-77.25-77.25C419.4 3.371 411.2 0 402.7 0H288C252.7 0 224 28.65 224 64v256c0 35.35 28.65 64 64 64h160c35.35 0 64-28.65 64-64V109.3C512 100.8 508.6 92.63 502.6 86.63zM416 45.25L466.7 96H416V45.25zM480 320c0 17.67-14.33 32-32 32h-160c-17.67 0-32-14.33-32-32V64c0-17.67 14.33-32 32-32h96l.0026 64c0 17.67 14.33 32 32 32H480V320z"/>
</symbol>
<symbol id="svg-angle-double-right" viewBox="0 0 512 512"><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/>
</symbol>
<symbol id="svg-angle-double-left" viewBox="0 0 512 512"><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"/>
</symbol>
<symbol id="svg-trash" viewBox="0 0 448 512">
  <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>
</symbol>
<symbol id="svg-keyboard-down" viewBox="0 0 576 512"><path d="M64 48c-8.8 0-16 7.2-16 16V240c0 8.8 7.2 16 16 16H512c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64zM0 64C0 28.7 28.7 0 64 0H512c35.3 0 64 28.7 64 64V240c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM159 359c9.4-9.4 24.6-9.4 33.9 0l95 95 95-95c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L305 505c-4.5 4.5-10.6 7-17 7s-12.5-2.5-17-7L159 393c-9.4-9.4-9.4-24.6 0-33.9zm1-167c0-8.8 7.2-16 16-16H400c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V192zM120 88h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H120c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H200c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H280c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H360c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H440c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16z"/></symbol>
</svg>`;function ace(t){t.resetKeycapRegistry(),ice();let e=document.createElement("div");e.className="ML__keyboard";let r=document.createElement("div");r.className="MLK__plate",r.innerHTML=globalThis.MathfieldElement.createHTML(sce+t.normalizedLayouts.map((a,o)=>oce(t,a,o)).join(""));let i=document.createElement("div");i.className="MLK__backdrop",i.appendChild(r),e.appendChild(i),e.addEventListener("pointerdown",uce,{passive:!1});let n=e.querySelectorAll(".ML__edit-toolbar");if(n)for(let a of n)a.addEventListener("click",o=>{var l,u;let c=o.target,d="";for(;c&&!d;)d=(l=c==null?void 0:c.getAttribute("data-command"))!=null?l:"",c=(u=c==null?void 0:c.parentElement)!=null?u:null;d&&t.executeCommand(JSON.parse(d))});tce(e.querySelectorAll(".MLK__keycap, .action, .fnbutton, .bigfnbutton"));let s=e.querySelectorAll(".MLK__layer");s.length>0;for(let a of s)a.addEventListener("pointerdown",o=>o.preventDefault());return t.currentLayer=t.latentLayer,e}function oce(t,e,r){var i;let n=[];if(!("layers"in e))return"";for(let s of e.layers)n.push(`<div tabindex="-1" class="MLK__layer" id="${s.id}">`),(t.normalizedLayouts.length>1||e.displayEditToolbar)&&(n.push("<div class='MLK__toolbar' role='toolbar'>"),n.push(Que(t,r)),((i=e.displayEditToolbar)==null||i)&&n.push('<div class="ML__edit-toolbar right"></div>'),n.push("</div>")),n.push(lce(t,s)),n.push("</div>");return n.join("")}function lce(t,e){if(typeof e=="string")return e;let r="";if(typeof e.style=="string"?r+=`<style>${e.style}</style>`:typeof e.style=="object"&&(r+=`<style>${Zue(e.style)}</style>`),e.backdrop&&(r+=`<div class='${e.backdrop}'>`),e.container&&(r+=`<div class='${e.container}'>`),e.rows){r+="<div class=MLK__rows>";for(let i of e.rows){r+='<div dir="ltr" class=MLK__row>';for(let n of i)if(n){let s=t.registerKeycap(n),[a,o]=$2(n);/(^|\s)separator/.test(o)?r+=`<div class="${o}"`:r+=`<div tabindex="-1" id="${s}" class="${o}"`,n.tooltip&&(r+=` data-tooltip="${n.tooltip}"`),r+=`>${a}</div>`}r+="</div>"}r+="</div>"}else e.markup&&(r+=e.markup);return e.container&&(r+="</div>"),e.backdrop&&(r+="</div>"),r}function $2(t,e={shifted:!1}){var r,i,n,s,a,o,l;let u="",c=(r=t.class)!=null?r:"";if(e.shifted&&s0(t)&&(c+=" is-active"),e.shifted&&"shift"in t)typeof t.shift=="string"?u=jd(t.shift):typeof t.shift=="object"&&(u=t.shift.label?t.shift.label:(i=jd(t.shift.latex||t.shift.insert||"")||t.shift.key)!=null?i:""),typeof t.shift=="object"&&(c=(s=(n=t.shift.class)!=null?n:t.class)!=null?s:"");else{if(u=t.label?t.label:(a=jd(t.latex||t.insert||"")||t.key)!=null?a:"",t.shift){let d;typeof t.shift=="string"?d=jd(t.shift):t.shift.label?d=t.shift.label:d=(o=jd(t.shift.latex||t.shift.insert||"")||t.shift.key)!=null?o:"",u+=`<span class="MLK__shift">${d}</span>`}t.aside&&(u+=`<aside>${t.aside}</aside>`)}return t.layer&&!/layer-switch/.test(c)&&(c+=" layer-switch"),/(^|\s)(separator|action|shift|fnbutton|bigfnbutton)($|\s)/.test(c)||(c+=" MLK__keycap"),!/\bw[0-9]+\b/.test(c)&&t.width&&(c+=(l={0:" w0",.5:" w5",1.5:" w15",2:" w20",5:" w50"}[t.width])!=null?l:""),[u,c||"MLK__keycap"]}var Pa={"[left]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-left /></svg>",command:"performWithFeedback(moveToPreviousChar)",shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-left /></svg>",command:"performWithFeedback(extendSelectionBackward)"}},"[right]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-right /></svg>",command:"performWithFeedback(moveToNextChar)",shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-right /></svg>",command:"performWithFeedback(extendSelectionForward)"}},"[up]":{class:"action hide-shift",label:"↑",command:"performWithFeedback(moveUp)",shift:{label:"↟",command:"performWithFeedback(extendSelectionUpward)"}},"[down]":{class:"action hide-shift",label:"↓",command:"performWithFeedback(moveDown)",shift:{label:"↡",command:"performWithFeedback(extendSelectionDownward)"}},"[return]":{class:"action hide-shift",command:"performWithFeedback(commit)",shift:{command:"performWithFeedback(addRowAfter)"},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[action]":{class:"action hide-shift",command:"performWithFeedback(commit)",shift:{label:"<svg class=svg-glyph><use xlink:href=#circle-plus /></svg>",command:"performWithFeedback(addRowAfter)"},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[hr]":{class:"separator horizontal-rule"},"[hide-keyboard]":{class:"action",command:["hideVirtualKeyboard"],width:1.5,label:"<svg class=svg-glyph-lg><use xlink:href=#svg-keyboard-down /></svg>"},"[.]":{variants:".",command:"performWithFeedback(insertDecimalSeparator)",shift:",",class:"big-op hide-shift",label:"."},"[,]":{variants:",",command:"performWithFeedback(insertDecimalSeparator)",shift:".",class:"big-op hide-shift",label:","},"[+]":{variants:[{latex:"\\sum_{#0}^{#0}",class:"small"},"\\oplus"],latex:"+",label:"+",class:"big-op hide-shift",shift:{latex:"\\sum",insert:"\\sum",class:"small"}},"[-]":{variants:["\\pm","\\ominus"],latex:"-",label:"&#x2212;",shift:"\\pm",class:"big-op hide-shift"},"[/]":{class:"big-op hide-shift",shift:{class:"",latex:"\\frac{1}{#@}"},variants:["/","\\div","\\%","\\oslash"],latex:"\\frac{#@}{#?}",label:"&divide;"},"[*]":{variants:[{latex:"\\prod_{#0}^{#0}",class:"small"},"\\otimes","\\cdot"],latex:"\\cdot",label:"&times;",shift:{latex:"\\times"},class:"big-op hide-shift"},"[=]":{variants:["\\neq","\\equiv","\\varpropto","\\thickapprox","\\lt","\\gt","\\le","\\ge"],latex:"=",label:"=",shift:{label:"≠",latex:"\\ne"},class:"big-op hide-shift"},"[backspace]":{class:"action bottom right hide-shift",width:1.5,command:"performWithFeedback(deleteBackward)",label:"<svg class=svg-glyph><use xlink:href=#svg-delete-backward /></svg>",shift:{class:"action warning",label:"<svg class=svg-glyph><use xlink:href=#svg-trash /></svg>",command:"deleteAll"}},"[undo]":{class:"ghost if-can-undo",command:"undo",label:"<svg class=svg-glyph><use xlink:href=#svg-undo /></svg>",tooltip:"tooltip.undo"},"[redo]":{class:"ghost  if-can-redo",command:"redo",label:"<svg class=svg-glyph><use xlink:href=#svg-redo /></svg>",tooltip:"tooltip.redo"},"[(]":{variants:[{latex:"\\lbrack",key:"["},"\\langle","\\lfloor","\\lceil",{latex:"\\lbrace",key:"{"}],key:"(",label:"(",shift:{label:"[",key:"["},class:"hide-shift"},"[)]":{variants:[{latex:"\\rbrack",key:"]"},"\\rangle","\\rfloor","\\rceil",{latex:"\\rbrace",key:"}"}],key:")",label:")",shift:{label:"]",latex:"\\rbrack"},class:"hide-shift"},"[0]":{variants:"0",latex:"0",label:"0",shift:"\\infty",class:"hide-shift"},"[1]":{variants:"1",latex:"1",label:"1",shift:"#@^{-1}",class:"hide-shift"},"[2]":{variants:"2",latex:"2",label:"2",shift:"#@^2",class:"hide-shift"},"[3]":{variants:"3",latex:"3",label:"3",shift:"#@^3",class:"hide-shift"},"[4]":{variants:"4",latex:"4",label:"4",shift:"#@^4",class:"hide-shift"},"[5]":{variants:"5",latex:"5",label:"5",shift:"#@^5",class:"hide-shift"},"[6]":{variants:"6",latex:"6",label:"6",shift:"#@^6",class:"hide-shift"},"[7]":{variants:"7",latex:"7",label:"7",shift:"#@^7",class:"hide-shift"},"[8]":{variants:"8",latex:"8",label:"8",shift:"#@^8",class:"hide-shift"},"[9]":{variants:"9",latex:"9",label:"9",shift:"#@^9",class:"hide-shift"},"[separator-5]":{class:"separator",width:.5},"[separator]":{class:"separator"},"[separator-10]":{class:"separator"},"[separator-15]":{class:"separator",width:1.5},"[separator-20]":{class:"separator",width:2},"[separator-50]":{class:"separator",width:5},"[shift]":{class:"shift bottom left",width:1.5,label:"<span class=caps-lock-indicator></span><svg class=svg-glyph><use xlink:href=#svg-shift /></svg>"},"[foreground-color]":{variants:"foreground-color",command:["applyStyle",{color:"red"}],label:"<span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'>"},"[background-color]":{variants:"background-color",command:["applyStyle",{backgroundColor:"yellow"}],label:"<span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span>"}};function N6(t){var e;if(typeof t=="string"){if(t==="[.]"&&globalThis.MathfieldElement.decimalSeparator===","&&(t="[,]"),!Pa[t])return{latex:t};t={label:t}}let r;return"label"in t&&t.label&&Pa[t.label]&&(r=Z(q(q({},Pa[t.label]),t),{label:Pa[t.label].label})),"key"in t&&t.key&&Pa[t.key]&&(r=Z(q(q({},Pa[t.key]),t),{key:Pa[t.key].key})),r?(r.command==="insertDecimalSeparator"&&(r.label=(e=globalThis.MathfieldElement.decimalSeparator)!=null?e:"."),(r.tooltip===void 0||r.tooltip===null||r.tooltip===!1)&&delete r.tooltip,(r.tooltip===void 0||r.tooltip===null||r.tooltip===!1)&&delete r.tooltip,(r.aside===void 0||r.aside===null||r.aside===!1)&&delete r.aside,(r.variants===void 0||r.variants===null||r.variants===!1)&&delete r.variants,(r.shift===void 0||r.shift===null||r.shift===!1)&&delete r.shift,r):t}var Ah;function uce(t){var e;if(t.button!==0)return;let r=kl.singleton;if(!r)return;let i=t.target;for(;i&&!i.getAttribute("data-layer");)i=i.parentElement;if(i){r.currentLayer=(e=i.getAttribute("data-layer"))!=null?e:"",t.preventDefault();return}let n=$c(t.target);if(!(n!=null&&n.id))return;let s=r.getKeycap(n.id);if(!s)return;t.type;let a=new AbortController,o=a.signal;n.classList.add("is-pressed"),n.addEventListener("pointerenter",Im(a),{capture:!0,signal:o}),n.addEventListener("pointerleave",Im(a),{capture:!0,signal:o}),n.addEventListener("pointercancel",Im(a),{signal:o}),n.addEventListener("pointerup",Im(a),{signal:o}),s0(s)&&(n.classList.add("is-active"),r.shiftPressCount++),s.variants&&(Ah&&clearTimeout(Ah),Ah=setTimeout(()=>{n.classList.contains("is-pressed")&&(n.classList.remove("is-pressed"),n.classList.add("is-active"),t.target&&"releasePointerCapture"in t.target&&t.target.releasePointerCapture(t.pointerId),KP(n,()=>{a.abort(),n==null||n.classList.remove("is-active")}))},s.stickyVariantPanel?0:300)),t.preventDefault()}function Im(t){return e=>{let r=$c(e.target);if(!(r!=null&&r.id))return;let i=kl.singleton;if(!i)return;let n=i.getKeycap(r.id);if(n){if(e.type==="pointerenter"&&e.target===r&&e.isPrimary&&r.classList.add("is-pressed"),e.type==="pointercancel"){r.classList.remove("is-pressed"),s0(n)&&(i.shiftPressCount--,r.classList.toggle("is-active",i.isShifted)),t.abort();return}if(e.type==="pointerleave"&&e.target===r){r.classList.remove("is-pressed"),s0(n)&&(i.shiftPressCount--,r.classList.toggle("is-active",i.isShifted));return}if(e.type==="pointerup"){Ah&&clearTimeout(Ah),s0(n)?r.classList.toggle("is-active",i.isShifted):r.classList.contains("is-pressed")&&(r.classList.remove("is-pressed"),i.isShifted&&n.shift?typeof n.shift=="string"?i.executeCommand(["insert",n.shift,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]):Y5(n.shift):Y5(n),i.shiftPressCount===1&&!e.shiftKey&&(i.shiftPressCount=0)),t.abort(),e.preventDefault();return}}}}function Y5(t){var e;let r=t.command;!r&&t.insert&&(r=["insert",t.insert,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),!r&&t.key&&(r=["typedText",t.key,{focus:!0,feedback:!0,simulateKeystroke:!0}]),!r&&t.latex&&(r=["insert",t.latex,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),r||(r=["typedText",t.label,{focus:!0,feedback:!0,simulateKeystroke:!0}]),(e=kl.singleton)==null||e.executeCommand(r)}function cce(t){if(t.nodeType!==1)return!1;let e=t.classList;return e.contains("MLK__keycap")||e.contains("shift")||e.contains("action")||e.contains("fnbutton")||e.contains("bigfnbutton")}function $c(t){if(!t)return;let e=t;for(;e&&!cce(e);)e=e.parentElement;return e??void 0}function s0(t){return!!t.class&&/(^|\s)shift($|\s)/.test(t.class)}var kl=class GP{constructor(){this.originalContainerBottomPadding=null,this.keycapRegistry={},this._shiftPressCount=0;var e;this.targetOrigin=window.origin,this.originValidator="none",this._alphabeticLayout="auto",this._layouts=Object.freeze(["default"]),this._editToolbar="default",this._container=void 0,this._visible=!1,this._rebuilding=!1,this.observer=new ResizeObserver(r=>{this.adjustBoundingRect(),this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect})}),this.listeners={};try{(e=window.top)==null||e.addEventListener("message",this)}catch{window.addEventListener("message",this)}document.addEventListener("focusin",r=>{let i=r.target;i!=null&&i.isConnected&&setTimeout(()=>{let n=$C();n&&!n.readOnly&&n.mathVirtualKeyboardPolicy==="auto"&&vB()&&this.show({animate:!0})},300)}),document.addEventListener("focusout",r=>{r.target instanceof Iu&&r.target.mathVirtualKeyboardPolicy!=="manual"&&setTimeout(()=>{$C()||this.hide()},300)})}get currentLayer(){var e,r,i;return(i=(r=(e=this._element)==null?void 0:e.querySelector(".MLK__layer.is-visible"))==null?void 0:r.id)!=null?i:""}set currentLayer(e){var r;if(!this._element){this.latentLayer=e;return}let i=e?this._element.querySelector(`#${e}.MLK__layer`):null;i||(i=this._element.querySelector(".MLK__layer")),i&&((r=this._element.querySelector(".MLK__layer.is-visible"))==null||r.classList.remove("is-visible"),i.classList.add("is-visible")),this.render()}get shiftPressCount(){return this._shiftPressCount}set shiftPressCount(e){var r;this._shiftPressCount=e>2||e<0?0:e,(r=this._element)==null||r.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.render()}get isShifted(){return this._shiftPressCount>0}resetKeycapRegistry(){this.keycapRegistry={}}registerKeycap(e){let r="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);return this.keycapRegistry[r]=e,r}setKeycap(e,r){Pa[e]=N6(r),this.rebuild()}getKeycap(e){var r;return e?(r=Pa[e])!=null?r:this.keycapRegistry[e]:void 0}getLayer(e){let r=this.normalizedLayouts;for(let i of r)for(let n of i.layers)if(n.id===e)return n}get alphabeticLayout(){return this._alphabeticLayout}set alphabeticLayout(e){this._alphabeticLayout=e,this._normalizedLayouts=void 0,this.rebuild()}get layouts(){return this._layouts}set layouts(e){this.updateNormalizedLayouts(e),this.rebuild()}updateNormalizedLayouts(e){let r=Array.isArray(e)?[...e]:[e],i=r.findIndex(n=>n==="default");i>=0&&r.splice(i,1,"numeric","symbols","alphabetic","greek"),this._layouts=Object.freeze(r),this._normalizedLayouts=r.map(n=>WP(n))}get normalizedLayouts(){return this._normalizedLayouts||this.updateNormalizedLayouts(this._layouts),this._normalizedLayouts}get editToolbar(){return this._editToolbar}set editToolbar(e){this._editToolbar=e,this.rebuild()}get container(){return this._container===void 0?window.document.body:this._container}set container(e){this._container=e,this.rebuild()}static get singleton(){if(this._singleton===void 0)try{this._singleton=new GP}catch{this._singleton=null}return this._singleton}get style(){return this._style}addEventListener(e,r,i){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(r)||this.listeners[e].add(r)}dispatchEvent(e){return!this.listeners[e.type]||this.listeners[e.type].size===0?!0:(this.listeners[e.type].forEach(r=>{typeof r=="function"?r(e):r==null||r.handleEvent(e)}),!e.defaultPrevented)}removeEventListener(e,r,i){this.listeners[e]&&this.listeners[e].delete(r)}get element(){return this._element}set element(e){var r;this._element!==e&&((r=this._element)==null||r.remove(),this._element=e)}get visible(){return this._visible}set visible(e){e?this.show():this.hide()}get boundingRect(){var e;if(!this._visible)return new DOMRect;let r=(e=this._element)==null?void 0:e.getElementsByClassName("MLK__plate")[0];return r?r.getBoundingClientRect():new DOMRect}adjustBoundingRect(){if(!this._element)return;let e=this.boundingRect.height;if(this.container===document.body){this._element.style.setProperty("--_keyboard-height",`calc(${e}px + var(--_padding-top) + var(--_padding-bottom) + env(safe-area-inset-bottom, 0))`);let r=e-1;this.container.style.paddingBottom=this.originalContainerBottomPadding?`calc(${this.originalContainerBottomPadding} + ${r}px)`:`${r}px`}else this._element.style.setProperty("--_keyboard-height",`${e}px`)}rebuild(){if(this._rebuilding||!this._element)return;this._rebuilding=!0;let e=this.currentLayer;requestAnimationFrame(()=>{this._rebuilding=!1,this._element&&(this._element.remove(),this._element=void 0),this.visible&&(this.buildAndAttachElement(),this.currentLayer=e,this.render(),this.adjustBoundingRect(),this._element.classList.add("is-visible"))})}render(){var e;if(!this._element)return;let r=this.getLayer(this.currentLayer);this._element.classList.toggle("backdrop-is-transparent",!!(r&&(r.backdrop||r.container)));let i=this._element.querySelectorAll(".MLK__layer.is-visible .MLK__keycap, .MLK__layer.is-visible .action, .fnbutton, .MLK__layer.is-visible .bigfnbutton, .MLK__layer.is-visible .shift");if(!i)return;let n=this.isShifted;for(let s of i){let a=this.getKeycap(s.id);if(a){let[o,l]=$2(a,{shifted:n});s.innerHTML=globalThis.MathfieldElement.createHTML(o),s.className=l,n&&typeof a.shift=="object"&&(e=a.shift)!=null&&e.tooltip?s.dataset.tooltip=a.shift.tooltip:!n&&a.tooltip&&(s.dataset.tooltip=a.tooltip)}}}show(e){var r;if(this._visible)return;let i=this.container;if(i&&window.mathVirtualKeyboard&&this.stateWillChange(!0)){if(this._element||(this.buildAndAttachElement(),this.adjustBoundingRect()),!this._visible){let n=this._element.getElementsByClassName("MLK__plate")[0];if(n&&this.observer.observe(n),i===window.document.body){let s=i.style.paddingBottom;this.originalContainerBottomPadding=s;let a=n.offsetHeight-1;i.style.paddingBottom=s?`calc(${s} + ${a}px)`:`${a}px`}window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("keydown",this,{capture:!0}),window.addEventListener("keyup",this,{capture:!0}),(r=this._element)==null||r.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.currentLayer=this.latentLayer}this._visible=!0,e!=null&&e.animate?requestAnimationFrame(()=>{this._element&&(this._element.classList.add("animate"),this._element.addEventListener("transitionend",()=>{var n;return(n=this._element)==null?void 0:n.classList.remove("animate")},{once:!0}),this._element.classList.add("is-visible"),this.stateChanged())}):(this._element.classList.add("is-visible"),this.stateChanged())}}hide(e){var r;let i=this.container;if(i&&this._visible&&this.stateWillChange(!1)){if(this._visible=!1,this._element){this.latentLayer=this.currentLayer;let n=this._element.getElementsByClassName("MLK__plate")[0];n&&this.observer.unobserve(n),window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("keydown",this,{capture:!0}),window.removeEventListener("keyup",this,{capture:!0}),window.removeEventListener("contextmenu",this,{capture:!0}),Nc(),nce(),(r=this._element)==null||r.remove(),this._element=void 0,this.originalContainerBottomPadding!==null&&(i.style.paddingBottom=this.originalContainerBottomPadding)}this.stateChanged()}}get height(){var e,r;return(r=(e=this.element)==null?void 0:e.offsetHeight)!=null?r:0}buildAndAttachElement(){var e;this.element,this.element=ace(this),window.addEventListener("contextmenu",this,{capture:!0}),this.element.addEventListener("contextmenu",r=>{r.shiftKey||((r.ctrlKey||r.button===2)&&KP(r.target),r.preventDefault(),r.stopPropagation())},{capture:!0}),(e=this.container)==null||e.appendChild(this.element)}handleEvent(e){if(F6(e)){if(!E6(e.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");e.data.action==="disconnect"?this.connectedMathfieldWindow=void 0:e.data.action!=="update-setting"&&e.data.action!=="proxy-created"&&e.data.action!=="execute-command"&&(e.source,this.connectedMathfieldWindow=e.source),this.handleMessage(e.data,e.source)}if(this._element)switch(e.type){case"mouseup":case"blur":document.body.style.userSelect="",this.shiftPressCount=0;break;case"contextmenu":e.button!==2&&e.preventDefault();break;case"keydown":{e.key==="Shift"&&!e.repeat&&(this.shiftPressCount=1);break}case"keyup":{(e.key==="Shift"||!e.getModifierState("Shift")&&this.shiftPressCount!==2)&&(this.shiftPressCount=0);break}}}handleMessage(e,r){let{action:i}=e;if(i==="execute-command"){let{command:n}=e,s=n0(n);if(window.top!==void 0&&s!=="virtual-keyboard")return;this.executeCommand(n);return}if((i==="connect"||i==="show")&&this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},r),i!=="disconnect"&&window===window.top){if(i==="show"){typeof e.animate<"u"?this.show({animate:e.animate}):this.show();return}if(i==="hide"){typeof e.animate<"u"?this.hide({animate:e.animate}):this.hide();return}if(i==="update-setting"){if(e.alphabeticLayout&&(this.alphabeticLayout=e.alphabeticLayout),e.layouts&&(this.layouts=e.layouts),e.editToolbar&&(this.editToolbar=e.editToolbar),e.setKeycap){let{keycap:n,value:s}=e.setKeycap;this.setKeycap(n,s),this.render()}return}if(i==="proxy-created"){this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},r);return}}}sendMessage(e,r,i){if(r.command&&this.dispatchEvent(new CustomEvent("math-virtual-keyboard-command",{detail:r.command})),i||(i=this.connectedMathfieldWindow),this.targetOrigin===null||this.targetOrigin==="null"||i===window){window.dispatchEvent(new MessageEvent("message",{source:window,data:q({type:yg,action:e},r)}));return}if(i)i.postMessage(q({type:yg,action:e},r),{targetOrigin:this.targetOrigin});else if(e==="execute-command"&&Array.isArray(r.command)&&r.command[0]==="insert"){let n=r.command[1].split("");for(let s of n)this.dispatchEvent(new KeyboardEvent("keydown",{key:s,bubbles:!0})),this.dispatchEvent(new KeyboardEvent("keyup",{key:s,bubbles:!0}))}}stateWillChange(e){return this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:e},bubbles:!0,cancelable:!0,composed:!0}))}stateChanged(){this.dispatchEvent(new Event("virtual-keyboard-toggle")),this._visible||(this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect}))}focus(){this.sendMessage("focus",{})}blur(){this.sendMessage("blur",{})}updateToolbar(e){let r=this._element;if(!r)return;r.classList.toggle("is-math-mode",e.mode==="math"),r.classList.toggle("is-text-mode",e.mode==="text"),r.classList.toggle("can-undo",e.canUndo),r.classList.toggle("can-redo",e.canRedo),r.classList.toggle("can-copy",!e.selectionIsCollapsed),r.classList.toggle("can-copy",!e.selectionIsCollapsed),r.classList.toggle("can-paste",!0);let i=r.querySelectorAll(".ML__edit-toolbar");if(i)for(let n of i)n.innerHTML=ece(this,e)}update(e){this._style=e.style,this.updateToolbar(e)}connect(){this.connectedMathfieldWindow=window}disconnect(){this.connectedMathfieldWindow=void 0}executeCommand(e){if(e=rp(e),!e)return!1;let r,i=[],n=n0(e);return gi(e)?(r=e[0],r==="performWithFeedback"&&(n=n0(e.slice(1))),i=e.slice(1)):r=e,n==="virtual-keyboard"?ta[r].fn(void 0,...i):(this.sendMessage("execute-command",{command:e}),!1)}dispose(){window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("message",this)}};function $C(){let t=fg(),e=null;for(;t;){if("host"in t&&t.host instanceof Iu){e=t.host;break}t=t.parentNode}return e}if(os()&&!("mathVirtualKeyboard"in window))if(window===window.top){let t=kl.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>t})}else Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>Wue.singleton,configurable:!0});function vg(t){let e={};for(let r of Object.keys(t))switch(r){case"scriptDepth":let i=t.scriptDepth;if(gi(i))e.scriptDepth=[i[0],i[1]];else if(typeof i=="number")e.scriptDepth=[i,i];else if(typeof i=="string"){let[s,a]=i.split(",").map(o=>parseInt(o.trim()));e.scriptDepth=[s,a]}else throw new TypeError("Unexpected value for scriptDepth");break;case"mathVirtualKeyboardPolicy":let n=t.mathVirtualKeyboardPolicy.toLowerCase();if(n==="sandboxed"){if(window!==window.top){let s=kl.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>s})}n="manual"}e.mathVirtualKeyboardPolicy=n;break;case"letterShapeStyle":t.letterShapeStyle==="auto"?Ct.locale.startsWith("fr")?e.letterShapeStyle="french":e.letterShapeStyle="tex":e.letterShapeStyle=t.letterShapeStyle;break;case"defaultMode":["text","math","inline-math"].includes(t.defaultMode)?e.defaultMode=t.defaultMode:(console.error('MathLive 0.105.3:  valid values for defaultMode are "text", "math" or "inline-math"'),e.defaultMode="math");break;case"macros":e.macros=P5(t.macros);break;default:gi(t[r])?e[r]=[...t[r]]:typeof t[r]=="object"&&!(t[r]instanceof Element)&&r!=="computeEngine"?e[r]=q({},t[r]):e[r]=t[r]}return e}function uu(t,e){let r;typeof e=="string"?r=[e]:e===void 0?r=Object.keys(t):r=e;let i={};for(let n of r)t[n]===null?i[n]=null:gi(t[n])?i[n]=[...t[n]]:typeof t[n]=="object"&&!(t[n]instanceof Element)&&n!=="computeEngine"?i[n]=q({},t[n]):i[n]=t[n];return typeof e=="string"?i[e]:i}function d1(){return{readOnly:!1,defaultMode:"math",macros:{},registers:{},colorMap:T2,backgroundColorMap:b6,letterShapeStyle:Ct.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,isImplicitFunction:t=>["\\sin","\\cos","\\tan","\\arcsin","\\arccos","\\arctan","\\arcsec","\\arccsc","\\arsinh","\\arcosh","\\artanh","\\arcsech","\\arccsch","\\arg","\\ch","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\sec","\\sinh","\\sh","\\tanh","\\tg","\\th","\\lg","\\lb","\\log","\\ln"].includes(t),mathModeSpace:"",placeholderSymbol:"▢",contentPlaceholder:"",popoverPolicy:"auto",environmentPopoverPolicy:"off",keybindings:ole,inlineShortcuts:FB,inlineShortcutTimeout:0,mathVirtualKeyboardPolicy:"auto",virtualKeyboardTargetOrigin:window==null?void 0:window.origin,originValidator:"none",onInsertStyle:I6,onInlineShortcut:()=>"",onScrollIntoView:null,onExport:ale,value:""}}function zC(t){return t.defaultMode==="inline-math"?"math":t.defaultMode}function dce(t,e){let r=t.at(t.position);if(r.type==="composition")r.value=e;else{let{caret:i}=r;r.caret=void 0;let n=new rP(e,{mode:r.mode});n.caret=i,r.parent.addChildAfter(n,r),t.position+=1}}function hce(t){let e=t.at(t.position);e.type==="composition"&&(e.parent.removeChild(e),t.position-=1)}_6(["math","displaymath"],gn);_6("center",gn);po(["multline","multline*"],"",gn);fe("displaylines","",{parse:t=>{if(t.skipWhitespace(),!t.match("<{>"))return[];let e=[],r=[];t.mathlist.length>0&&e.push([t.mathlist]),t.beginContext({tabular:!0,root:!0});do{if(t.end()||t.match("<}>"))break;t.matchColumnSeparator()||t.matchRowSeparator()?(e.push([r]),r=[]):r.push(...t.scan(n=>["<}>","&","\\cr","\\\\","\\tabularnewline"].includes(n)))}while(!0);t.endContext(),e.push([r]);let i=t.scan();return i.length>0&&e.push([i]),e},createAtom:t=>new Tt("lines",t.args,[],{leftDelim:".",rightDelim:".",columns:[{align:"l"}],classes:["ML__multiline_environment"],isRoot:!0,minColumns:1,maxColumns:1,minRows:1})});po("split","",gn);po(["gather","gather*","gathered"],"",gn);po(["equation","equation*","subequations"],"",gn);_6(["align","align*","eqnarray"],gn,{tabular:!0});po(["aligned"],"",gn);po("array","{columns:colspec}",(t,e,r,i)=>new Tt(t,e,r,{columns:i[0],mathstyleName:"textstyle"}));po(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],"[columns:colspec]",gn);po(["smallmatrix","smallmatrix*"],"[columns:colspec]",gn);po(["cases","dcases","rcases"],"",gn);function gn(t,e=[[[]]],r=[],i=[],n){switch(t){case"math":return new Tt(t,e,r,{mathstyleName:"textstyle",isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"displaymath":return new Tt(t,e,r,{mathstyleName:"textstyle",isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"center":return new Tt(t,e,r,{columns:[{align:"c"}],classes:["ML__center_environment"],isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"multline":case"multline*":return new Tt(t,e,r,{columns:[{align:"m"}],leftDelim:".",rightDelim:".",isRoot:!0,minColumns:1,maxColumns:1,minRows:1});case"split":return new Tt(t,e,r,{columns:[{align:"r"},{align:"l"}],minColumns:2,minRows:1,isRoot:!1});case"gather":case"gather*":return new Tt(t,e,r,{columns:[{gap:.25},{align:"c"},{gap:0}],minColumns:1,maxColumns:1,minRows:1,isRoot:!0,classes:["ML__gather_environment"]});case"gathered":return new Tt(t,e,r,{columns:[{gap:.25},{align:"c"},{gap:0}],minColumns:1,maxColumns:1,minRows:1});case"equation":case"equation*":case"subequations":return new Tt(t,e,r,{columns:[{align:"c"}],isRoot:!0,minColumns:1,maxColumns:1,minRows:1});case"aligned":{let s=0;for(let l of e)s=Math.max(s,l.length);let a=[{gap:0},{align:"r"},{gap:.25},{align:"l"}],o=2;for(;o<s;)a.push({gap:1},{align:"r"},{gap:.25},{align:"l"}),o+=2;return a.push({gap:0}),new Tt(t,e,r,{arraycolsep:0,columns:a,minColumns:2,minRows:1,isRoot:t!=="aligned"})}case"eqnarray":return new Tt(t,e,r,{arraycolsep:0,columns:[{gap:0},{align:"r"},{align:"c"},{align:"l"}],minColumns:3,maxColumns:3,minRows:1,isRoot:!0,classes:["ML__eqnarray_environment"]});case"align":case"align*":return new Tt(t,e,r,{arraycolsep:0,columns:[{gap:0},{align:"r"},{gap:.25},{align:"l"}],minColumns:2,maxColumns:2,minRows:1,isRoot:!0,classes:["ML__align_environment"]});case"pmatrix":case"pmatrix*":return new Tt(t,e,r,{mathstyleName:"textstyle",leftDelim:"(",rightDelim:")",columns:Xl(i[0],n)});case"bmatrix":case"bmatrix*":return new Tt(t,e,r,{mathstyleName:"textstyle",leftDelim:"[",rightDelim:"]",columns:Xl(i[0],n)});case"Bmatrix":case"Bmatrix*":return new Tt(t,e,r,{mathstyleName:"textstyle",leftDelim:"\\lbrace",rightDelim:"\\rbrace",columns:Xl(i[0],n)});case"vmatrix":case"vmatrix*":return new Tt(t,e,r,{mathstyleName:"textstyle",leftDelim:"\\vert",rightDelim:"\\vert",columns:Xl(i[0],n)});case"Vmatrix":case"Vmatrix*":return new Tt(t,e,r,{mathstyleName:"textstyle",leftDelim:"\\Vert",rightDelim:"\\Vert",columns:Xl(i[0],n)});case"matrix":case"matrix*":return new Tt(t,e,r,{mathstyleName:"textstyle",leftDelim:".",rightDelim:".",columns:Xl(i==null?void 0:i[0],n)});case"smallmatrix":case"smallmatrix*":return new Tt(t,e,r,{mathstyleName:"scriptstyle",columns:Xl(i==null?void 0:i[0],n),colSeparationType:"small",arraystretch:.5});case"cases":case"dcases":return new Tt(t,e,r,{mathstyleName:t==="dcases"?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]});case"rcases":return new Tt(t,e,r,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]});case"lines":return new Tt(t,e,r,{leftDelim:".",rightDelim:".",columns:[{align:"l"}],isRoot:!0,minColumns:1,maxColumns:1,minRows:1})}return new Tt(t,e,r,{mathstyleName:"textstyle"})}function Xl(t,e=10){return t??Array(e).fill({align:"c"})}function pce(t){let e=t.at(t.position);for(;e&&!no(e.parentBranch);)e=e.parent;return[e.firstSibling,e.lastSibling]}function fce(t,e){let r=t.at(t.position);for(;r&&!(r.parent instanceof Tt);)r=r.parent;if(r&&r.type==="array"&&r.environmentName,!r||!(r.parent instanceof Tt)){let i=t.at(t.position);if(r=i,!r.parent.parent){let n=t.extractAtoms([t.position,t.lastOffset]),s=t.extractAtoms([0,t.position]),a;return e.endsWith("column")?(s.length===0&&(s=Om()),n.length===0&&(n=Om()),a=gn("split",[[s,n]]),t.root=a,Vd(a,0,0)?wc(t,a,0,0):Vd(a,0,1)?wc(t,a,0,1):t.position=t.offsetOf(i)):(a=gn("lines",[[s],[n]]),t.root=a,wc(t,a,1,0)),[void 0,[0,0]]}if(r.parent instanceof br){let n=r.parent,s=t.extractAtoms([t.position,t.offsetOf(n.lastChild)]),a=t.extractAtoms([t.offsetOf(n.firstChild),t.position]);a.length===0&&(a=Om()),s.length===0&&(s=Om());let o="pmatrix",l=n.leftDelim,u=n.rightDelim;l==="("&&(u===")"||u==="?")?o="pmatrix":(l==="["||l==="\\lbrack")&&(u==="]"||u==="\\rbrack"||u==="?")?o="bmatrix":l==="\\vert"&&u==="\\vert"?o="vmatrix":l==="\\Vert"&&u==="\\Vert"?o="Vmatrix":(l==="{"||l==="\\lbrace")&&(u==="."||u==="?")&&(o="cases");let c=gn(o,e.endsWith("column")?[[a,s]]:[[a],[s]]);return n.parent.addChildBefore(c,n),n.parent.removeChild(n),Vd(c,0,0)?wc(t,c,0,0):e.endsWith("column")?Vd(c,0,1)?wc(t,c,0,1):t.position=t.offsetOf(r):Vd(c,1,0)?wc(t,c,1,0):t.position=t.offsetOf(r),[void 0,[0,0]]}}return r&&r.parent instanceof Tt?[r.parent,r.parentBranch]:[void 0,[0,0]]}function Vd(t,e,r){let i=t.getCell(e,r);return!i||i.length!==2?!1:i[1].type==="placeholder"}function mce(t,e,r,i){let n=e.getCell(r,i);return n?[t.offsetOf(n[0]),t.offsetOf(n[n.length-1])]:-1}function wc(t,e,r,i){let n=mce(t,e,r,i);typeof n!="number"&&t.setSelection(n)}function Rm(t,e,r,i,n){let s=e.getCell(r,i);s&&t.setPositionHandlingPlaceholder(t.offsetOf(s[n==="start"?0:s.length-1]))}function ip(t,e){let[r,[i,n]]=fce(t,e);if(r)switch(e){case"after row":r.addRowAfter(i),Rm(t,r,i+1,0,"end");break;case"after column":if(r.maxColumns<=r.colCount){t.announce("plonk");return}r.addColumnAfter(n),Rm(t,r,i,n+1,"end");break;case"before row":r.addRowBefore(i),Rm(t,r,i,0,"start");break;case"before column":if(r.maxColumns<=r.colCount){t.announce("plonk");return}r.addColumnBefore(n),Rm(t,r,i,n,"start");break}}function XP(t){var e;let r=t.at(t.position);if(!no(r.parentBranch)&&r.parent!==t.root&&t.root.type!=="root")return t.announce("plonk"),!1;if(!t.contentWillChange({inputType:"insertText"}))return!1;if((e=t.parentEnvironment)!=null&&e.isMultiline){t.selectionIsCollapsed||t.deleteAtoms(Ci(t.selection));let[i,n]=pce(t),s=t.extractAtoms([t.position,t.offsetOf(n)]),a=t.extractAtoms([t.offsetOf(i),t.position]),o=i.parent,[l,u]=i.parentBranch;return o.setCell(l,u,a),ip(t,"after row"),o.setCell(l+1,u,s),t.position=t.offsetOf(o.getCell(l+1,u)[0]),t.contentDidChange({inputType:"insertText"}),!0}return ip(t,"after row"),t.contentDidChange({inputType:"insertText"}),!0}function gce(t){return t.contentWillChange({inputType:"insertText"})?(ip(t,"before row"),t.contentDidChange({inputType:"insertText"}),!0):!1}function YP(t){return t.contentWillChange({inputType:"insertText"})?(ip(t,"after column"),t.contentDidChange({inputType:"insertText"}),!0):!1}function yce(t){return t.contentWillChange({inputType:"insertText"})?(ip(t,"before column"),t.contentDidChange({inputType:"insertText"}),!0):!1}function ZP(t,e){if(!t.contentWillChange({}))return!1;t.mathfield.snapshot();let r=".",i=".";switch(e){case"pmatrix":case"pmatrix*":r="(",i=")";break;case"bmatrix":case"bmatrix*":r="[",i="]";break;case"Bmatrix":case"Bmatrix*":r="\\lbrace",i="\\rbrace";break;case"vmatrix":case"vmatrix*":r="\\vert",i="\\vert";break;case"Vmatrix":case"Vmatrix*":r="\\Vert",i="\\Vert";break;case"matrix":case"matrix*":r=".",i=".";break;case"cases":case"dcases":r="\\lbrace";break;case"rcases":i="\\rbrace";break}let n=t.at(t.position),s=n.type==="array"?n:t.parentEnvironment;return s.environmentName=e,s.leftDelim=r,s.rightDelim=i,t.contentDidChange({}),!0}function JP(t,e){let r=t.at(t.position);for(;r&&!(Array.isArray(r.parentBranch)&&r.parent instanceof Tt);)r=r.parent;if(Array.isArray(r==null?void 0:r.parentBranch)&&(r==null?void 0:r.parent)instanceof Tt){let i=r.parent,n=r.parentBranch,s;switch(e){case"row":if(i.rowCount>1){i.removeRow(n[0]);let a=i.getCell(Math.max(0,n[0]-1),n[1]);s=t.offsetOf(a[a.length-1])}break;case"column":if(i.colCount>i.minColumns){i.removeColumn(n[1]);let a=i.getCell(n[0],Math.max(0,n[1]-1));s=t.offsetOf(a[a.length-1])}break}s!==void 0&&t.setPositionHandlingPlaceholder(s)}}function vce(t){return t.contentWillChange({inputType:"deleteContent"})?(JP(t,"row"),t.contentDidChange({inputType:"deleteContent"}),!0):!1}function bce(t){return t.contentWillChange({inputType:"deleteContent"})?(JP(t,"column"),t.contentDidChange({inputType:"deleteContent"}),!0):!1}nn({addRowAfter:XP,addColumnAfter:YP,addRowBefore:gce,addColumnBefore:yce,removeRow:vce,removeColumn:bce,setEnvironment:ZP},{target:"model",canUndo:!0,changeContent:!0,changeSelection:!0});function Om(){return[new fa]}var QP=class eI{constructor(e){this.recording=!1,this.model=e,this.reset()}reset(){this.stack=[],this.index=-1,this.lastOp=""}startRecording(){this.recording=!0}stopRecording(){this.recording=!1}canUndo(){return this.index-1>=0}canRedo(){return this.stack.length-1>this.index}stopCoalescing(e){e&&this.index>=0&&(this.stack[this.index].selection=e),this.lastOp=""}undo(){if(!this.canUndo())return!1;let e=this.stack[this.index-1];return this.index-=1,this.lastOp="",this.model.setState(e,{silenceNotifications:!1,type:"undo"}),!0}redo(){if(!this.canRedo())return!1;let e=this.stack[this.index+1];return this.index+=1,this.lastOp="",this.model.setState(e,{silenceNotifications:!1,type:"redo"}),!0}pop(){this.canUndo()&&(this.stack.splice(this.index,this.stack.length-this.index),this.index-=1)}snapshot(e){return this.recording?(e&&e===this.lastOp&&this.pop(),this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push(this.model.getState()),this.index+=1,this.stack.length>eI.maximumDepth&&(this.stack.shift(),this.index-=1),this.lastOp=e??"",!0):!1}};QP.maximumDepth=1e3;var xce=QP;function Z5(t,e,r){if(t.at(e).mode!=="text")return e;let i=r==="backward"?-1:1,n;if(Jh.test(t.at(e).value)){let s=e,a;do a=t.at(s).mode==="text"&&Jh.test(t.at(s).value),s+=i;while(t.at(s)&&a);n=t.at(s)?s-2*i:s-i}else if(/\s/.test(t.at(e).value)){let s=e;for(;t.at(s)&&t.at(s).mode==="text"&&/\s/.test(t.at(s).value);)s+=i;if(!t.at(s))n=s-i;else{let a=!0;do a=t.at(s).mode==="text"&&!/\s/.test(t.at(s).value),s+=i;while(t.at(s)&&a);n=t.at(s)?s-2*i:s-i}}else{let s=e;for(;t.at(s)&&t.at(s).mode==="text"&&!/\s/.test(t.at(s).value);)s+=i;n=t.at(s)?s:s-i;let a=!0;for(;t.at(s)&&a;)a=t.at(s).mode==="text"&&/\s/.test(t.at(s).value),a&&(n=s),s+=i;n=t.at(s)?s-2*i:s-i}return n-(i>0?0:1)}function zc(t,e,r){var i,n,s,a,o,l,u;let c=t.position;(i=r==null?void 0:r.extend)!=null&&i||t.collapseSelection(e);let d=t.at(t.position);if(e==="forward"&&(d.type==="subsup"?(d=d.rightSibling,d||(d=t.at(t.position+1))):d=t.at(t.position+1)),!d)return t.announce("plonk"),!1;let h=t.offsetOf(d);if(d instanceof Y0)h=Z5(t,h,e);else if(d instanceof ii)if(d.isSuggestion)for(;d&&d instanceof ii;)d.isSuggestion=!1,h=t.offsetOf(d),d=d.rightSibling;else if(e==="forward"){if(d=d.rightSibling,!d||!(d instanceof ii))return t.announce("plonk"),!1;for(;d&&d instanceof ii&&/[a-zA-Z\*]/.test(d.value);)h=t.offsetOf(d),d=d.rightSibling}else{if(d=d.leftSibling,!d||!(d instanceof ii))return t.announce("plonk"),!1;for(;d&&d instanceof ii&&/[a-zA-Z\*]/.test(d.value);)h=t.offsetOf(d),d=d.leftSibling}else if(e==="forward"&&d.type==="mopen"){let f=0;do d.type==="mopen"?f+=1:d.type==="mclose"&&(f-=1),d=d.rightSibling;while(!d.isLastSibling&&f!==0);h=t.offsetOf(d.leftSibling)}else if(e==="backward"&&d.type==="mclose"){let f=0;do d.type==="mopen"?f+=1:d.type==="mclose"&&(f-=1),d=d.leftSibling;while(!d.isFirstSibling&&f!==0);h=t.offsetOf(d)}else if(e==="backward")if(d.type==="first")for(;h>0&&d.type==="first";)h-=1,d=t.at(h);else{let f=d.type;d.type==="subsup"&&(h=t.offsetOf(t.at(h).leftSibling)),h-=1;let g=(n=t.at(h))==null?void 0:n.type;for(;h>=0&&g===f;)((s=t.at(h))==null?void 0:s.type)==="subsup"?h=t.offsetOf(t.at(h).leftSibling):h-=1,g=t.at(h).type}else{let{type:f}=d,g=(a=t.at(h))==null?void 0:a.type,{lastOffset:y}=t;for(;h<=y&&(g===f||g==="subsup");){for(;((o=t.at(h).rightSibling)==null?void 0:o.type)==="subsup";)h=t.offsetOf(t.at(h).rightSibling);h+=1,g=(l=t.at(h))==null?void 0:l.type}h-=1}if((u=r==null?void 0:r.extend)!=null&&u){if(!t.setSelection(t.anchor,h))return t.announce("plonk"),!1}else{if(h===t.position)return t.announce("plonk"),!1;t.position=h}return t.announce("move",c),t.mathfield.stopCoalescingUndo(),!0}function ra(t,e,r){var i,n;if(r=r??{extend:!1},t.mathfield.styleBias=e==="backward"?"right":"left",e!=="forward"){let[o,l]=zP(t);o!==void 0&&l!==void 0&&t.deleteAtoms([o,l])}if(e==="upward")return wce(t,r);if(e==="downward")return Sce(t,r);if(r.extend){let o=h1(t,t.position,e);o<0&&(o=0),o>t.lastOffset&&(o=t.lastOffset);let l=t.setSelection(t.anchor,o);return t.mathfield.stopCoalescingUndo(),l}if(t.selectionIsPlaceholder){t.collapseSelection(e);let o=ra(t,e);return t.mathfield.stopCoalescingUndo(),o}let s=t.position,a=s;if(t.collapseSelection(e)?(s=t.position,tI(t,s)||(s=h1(t,s,e))):s=h1(t,s,e),s<0||s>t.lastOffset){let o=!0;return t.silenceNotifications||(o=(n=(i=t.mathfield.host)==null?void 0:i.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))!=null?n:!0),o&&t.announce("plonk"),o}return t.setPositionHandlingPlaceholder(s),t.mathfield.stopCoalescingUndo(),t.announce("move",a),!0}function h1(t,e,r){return e=e+(r==="forward"?1:-1),e<0||e>t.lastOffset||tI(t,e)?e:h1(t,e,r)}function tI(t,e){var r;let i=t.at(e),n=i.parent;for(;n&&!n.inCaptureSelection;)n=n.parent;return!(n!=null&&n.inCaptureSelection||(r=i.parent)!=null&&r.skipBoundary&&(!i.isFirstSibling&&i.isLastSibling||i.type==="first")||t.mathfield.hasEditablePrompts&&!i.parentPrompt)}function _ce(t,e,r){let i=1/0,n=0;for(;n<e.length;n++){let s=e[n],a=t.getHTMLElement(s);if(!a)continue;let o=jB(a).right,l=Math.abs(r-o);if(l<=i)i=l;else break}return e[n-1]}function bg(t,e,r,i,n){let s=t.mathfield.hasEditablePrompts,a=s?r.filter(u=>u.type==="prompt"&&!u.captureSelection):r,o=jB(t.mathfield.getHTMLElement(e)).right,l=t.offsetOf(_ce(t.mathfield,a,o))-(s?1:0);if(i){let[u,c]=t.selection.ranges[0],d;l<(n==="up"?u:c)?d={ranges:[[l,c]],direction:"backward"}:d={ranges:[[u,l]],direction:"forward"},t.setSelection(d)}else t.setPositionHandlingPlaceholder(l);t.announce(`move ${n}`)}function wce(t,e){var r,i;let n=(r=e==null?void 0:e.extend)!=null?r:!1;n||t.collapseSelection("backward");let s=()=>{var l,u;let c=!0;return t.silenceNotifications||(c=(u=(l=t.mathfield.host)==null?void 0:l.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"upward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?u:!0),t.announce(c?"line":"plonk"),c},a=t.at(t.position),o=a;for(;o&&o.parentBranch!=="below"&&!(Array.isArray(o.parentBranch)&&o.parent instanceof Tt);)o=o.parent;if(Array.isArray(o==null?void 0:o.parentBranch)&&o.parent instanceof Tt){let l=o.parent;if(o.parentBranch[0]<1)return s();let u=o.parentBranch[0]-1,c=l.getCell(u,o.parentBranch[1]);if(!c.some(d=>d.type==="prompt"&&!d.captureSelection)&&t.mathfield.hasEditablePrompts)return s();bg(t,a,c,n,"up")}else if(o){let l=(i=o.parent.branch("above"))!=null?i:o.parent.createBranch("above");if(!l.some(u=>u.type==="prompt"&&u.placeholderId)&&t.mathfield.hasEditablePrompts)return s();bg(t,a,l,n,"up")}else return s();return t.mathfield.stopCoalescingUndo(),!0}function Sce(t,e){var r,i;let n=(r=e==null?void 0:e.extend)!=null?r:!1;n||t.collapseSelection("forward");let s=()=>{var l,u;let c=!0;return t.silenceNotifications||(c=(u=(l=t.mathfield.host)==null?void 0:l.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"downward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?u:!0),t.announce(c?"line":"plonk"),c},a=t.at(t.position),o=a;for(;o&&o.parentBranch!=="above"&&!(no(o.parentBranch)&&o.parent instanceof Tt);)o=o.parent;if(no(o==null?void 0:o.parentBranch)&&o.parent instanceof Tt){let l=o.parent;if(o.parentBranch[0]+1>l.rows.length-1)return s();let u=o.parentBranch[0]+1,c=l.getCell(u,o.parentBranch[1]);if(!c.some(d=>d.type==="prompt"&&!d.captureSelection)&&t.mathfield.hasEditablePrompts)return s();bg(t,a,c,n,"down")}else if(o){let l=(i=o.parent.branch("below"))!=null?i:o.parent.createBranch("below");if(!l.some(u=>u.type==="prompt")&&t.mathfield.hasEditablePrompts)return s();bg(t,a,l,n,"down")}else return s();return!0}function rI(t){let e=t.position,r=t.at(e).parent;return r!=null&&r.parent?(t.position=t.offsetOf(r),t.mathfield.stopCoalescingUndo(),t.announce("move",e),!0):(t.announce("plonk"),!1)}function Cce(t){let e=0,r=t.at(t.position),i=!1;for(;r;)(!r.hasEmptyBranch("superscript")||!r.hasEmptyBranch("subscript"))&&(e+=1),r.hasEmptyBranch("superscript")?r.hasEmptyBranch("subscript")||(i=!1):i=!0,r=r.parent;return i?e:0}function kce(t){let e=0,r=t.at(t.position),i=!1;for(;r;)(!r.hasEmptyBranch("superscript")||!r.hasEmptyBranch("subscript"))&&(e+=1),r.hasEmptyBranch("superscript")?r.hasEmptyBranch("subscript")||(i=!0):i=!1,r=r.parent;return i?e:0}function UC(t){var e;if(t.collapseSelection(),Cce(t)>=t.mathfield.options.scriptDepth[1])return t.announce("plonk"),!1;let r=t.at(t.position);return r.subsupPlacement===void 0&&(((e=r.rightSibling)==null?void 0:e.type)!=="subsup"&&r.parent.addChildAfter(new P2({style:r.style}),r),r=r.rightSibling),r.createBranch("superscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(r.superscript[0]))),!0}function qC(t){var e;if(t.collapseSelection(),kce(t)>=t.mathfield.options.scriptDepth[0])return t.announce("plonk"),!1;let r=t.at(t.position);return r.subsupPlacement===void 0&&(((e=t.at(t.position+1))==null?void 0:e.type)!=="subsup"&&r.parent.addChildAfter(new P2({style:t.at(t.position).style}),r),r=t.at(t.position+1)),r.createBranch("subscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(r.subscript[0]))),!0}function Tce(){function t(l){let u=[],c=[];return[...l.querySelectorAll(`input, select, textarea, a[href], button,
        [tabindex], audio[controls], video[controls],
        [contenteditable]:not([contenteditable="false"]), details>summary`)].filter(e).forEach((d,h)=>{let f=i(d);f===0?u.push(d):c.push({documentOrder:h,tabIndex:f,node:d})}),c.sort((d,h)=>d.tabIndex===h.tabIndex?d.documentOrder-h.documentOrder:d.tabIndex-h.tabIndex).map(d=>d.node).concat(u)}function e(l){return!(!r(l)||n(l)||i(l)<0)}function r(l){return!(l.disabled||l.type==="hidden"&&l.tagName.toUpperCase()==="INPUT"||o(l))}function i(l){var u;let c=Number.parseInt((u=l.getAttribute("tabindex"))!=null?u:"NaN",10);return Number.isNaN(c)?l.contentEditable==="true"||(l.nodeName==="AUDIO"||l.nodeName==="VIDEO")&&l.getAttribute("tabindex")===null?0:l.tabIndex:c}function n(l){return l.tagName.toUpperCase()==="INPUT"&&l.type==="radio"&&!a(l)}function s(l,u){for(let c of l)if(c.checked&&c.form===u)return c;return null}function a(l){var u;if(!l.name)return!0;let c=((u=l.form)!=null?u:l.ownerDocument).querySelectorAll('input[type="radio"][name="'+l.name+'"]'),d=s(c,l.form);return!d||d===l}function o(l){if(!os()||l===document.activeElement||l.contains(document.activeElement))return!1;if(getComputedStyle(l).visibility==="hidden")return!0;let u=l.getBoundingClientRect();if(u.width===0||u.height===0)return!0;for(;l;){if(getComputedStyle(l).display==="none")return!0;l=l.parentElement}return!1}return os()?t(document.body):[]}function Di(t,e,r="forward"){let i=t.position;if(gi(e)){let n=t.offsetOf(e[0]),s=t.offsetOf(e[e.length-1]);return r==="forward"?t.setSelection(n,s):t.setSelection(s,n),t.announce("move",i),t.mathfield.stopCoalescingUndo(),!0}return r==="forward"?Di(t,[e.leftSibling,e]):Di(t,[e,e.leftSibling])}function ys(t,e){let r=t.position;if(typeof e=="number"&&(e=t.at(e)),e.type==="prompt")t.setSelection(t.offsetOf(e.firstChild),t.offsetOf(e.lastChild));else{let i=t.offsetOf(e);e.type==="placeholder"?t.setSelection(i-1,i):t.position=i}return t.announce("move",r),t.mathfield.stopCoalescingUndo(),!0}function Uc(t,e){var r,i;let n=e==="forward"?1:-1;t.at(t.anchor).type==="placeholder"&&ra(t,e);let s,a=t.at(t.anchor).parentPrompt;a?e==="forward"?s=t.offsetOf(a)+1:s=t.offsetOf(a.leftSibling):s=Math.max(t.position+n,0);let o=J5(t,s,e);if(!o||e==="forward"&&t.offsetOf(o)<s||e==="backward"&&t.offsetOf(o)>s){if(!((i=(r=t.mathfield.host)==null?void 0:r.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))==null||i))return t.announce("plonk"),!1;let l=Tce();if(!document.activeElement||l.length<=1)return t.announce("plonk"),!1;let u=l.indexOf(document.activeElement)+n;return u<0&&(u=l.length-1),u>=l.length&&(u=0),l[u].focus(),t.mathfield.stopCoalescingUndo(),!0}return ys(t,o),!0}function J5(t,e=0,r="forward"){return t.findAtom(i=>i.type==="placeholder"||i.type==="prompt"||!t.mathfield.readOnly&&i.treeDepth>2&&i.isFirstSibling&&i.isLastSibling,e,r)}nn({moveToOpposite:t=>{let e={superscript:"subscript",subscript:"superscript",above:"below",below:"above"},r=t.at(t.position),{parent:i}=r;if(!i)return t.announce("plonk"),!1;let n=r.parentBranch,s;if(typeof n=="string"&&(s=e[n]),!s){let o=r.subsupPlacement?qC(t):UC(t);return t.mathfield.stopCoalescingUndo(),o}i.branch(s)||i.createBranch(s);let a=t.setSelection(t.getBranchRange(t.offsetOf(i),s));return t.mathfield.stopCoalescingUndo(),a},moveBeforeParent:t=>{let{parent:e}=t.at(t.position);return e?(t.position=t.offsetOf(e),t.mathfield.stopCoalescingUndo(),!0):(t.announce("plonk"),!1)},moveAfterParent:t=>rI(t),moveToNextChar:t=>ra(t,"forward"),moveToPreviousChar:t=>ra(t,"backward"),moveUp:t=>ra(t,"upward"),moveDown:t=>ra(t,"downward"),moveToNextWord:t=>zc(t,"forward"),moveToPreviousWord:t=>zc(t,"backward"),moveToGroupStart:t=>{let e=t.offsetOf(t.at(t.position).firstSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,t.mathfield.stopCoalescingUndo(),!0)},moveToGroupEnd:t=>{let e=t.offsetOf(t.at(t.position).lastSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,t.mathfield.stopCoalescingUndo(),!0)},moveToNextGroup:t=>{var e,r,i,n;if(t.position===t.lastOffset&&t.anchor===t.lastOffset)return Uc(t,"forward");let s=t.at(t.position);if(s.mode==="text"){if(t.selectionIsCollapsed){let d=s;for(;d&&d.mode==="text";)d=d.leftSibling;let h=s;for(;((e=h.rightSibling)==null?void 0:e.mode)==="text";)h=h.rightSibling;if(d&&h)return Di(t,[d,h])}if(s.rightSibling.mode==="text"){let d=s;for(;d&&d.mode==="text";)d=d.rightSibling;return d?(ys(t,(r=d.leftSibling)!=null?r:d),t.mathfield.switchMode("math"),!0):ys(t,t.lastOffset)}}let a=t.at(t.anchor).parentPrompt,o=a?t.offsetOf(a)+1:Math.max(t.position+1,0),l=J5(t,o,"forward");if(l&&t.offsetOf(l)<o)return Uc(t,"forward");if(l)return ys(t,l);let u=jC(t,s,d=>d.type==="leftright"||d.type==="text","forward");if(u){if(u.mode==="text"){let d=u;for(;d&&d.mode==="text";)d=d.rightSibling;return Di(t,[(i=u.leftSibling)!=null?i:u,(n=d.leftSibling)!=null?n:d])}return Di(t,u)}let c=s.parent;if(c){if(c.type==="leftright"||c.type==="surd")return Di(t,c);if(s.parentBranch==="superscript"&&c.subscript)return Di(t,c.subscript);if(s.parentBranch==="above"&&c.below)return Di(t,c.below);if(s.parentBranch==="superscript"||s.parentBranch==="subscript")return ys(t,c);if(s.parentBranch==="above"||s.parentBranch==="below")return Di(t,c)}return ys(t,t.lastOffset)},moveToPreviousGroup:t=>{var e;if(t.position===0&&t.anchor===0)return Uc(t,"backward");let r=t.at(t.position),i=r.mode;if(i==="text"){if(t.selectionIsCollapsed){let o=r;for(;o&&o.mode==="text";)o=o.leftSibling;let l=r;for(;((e=l.rightSibling)==null?void 0:e.mode)==="text";)l=l.rightSibling;if(o&&l)return Di(t,[o,l])}for(;r&&r.mode==="text";)r=r.leftSibling;return r?ys(t,r):ys(t,0)}let n=t.at(t.anchor).parentPrompt,s=n?t.offsetOf(n.leftSibling):Math.max(t.position-1,0),a=J5(t,s,"backward");if(a&&t.offsetOf(a)>s)return Uc(t,"backward");if(a)return ys(t,a);if(i==="math"){let o=jC(t,r,u=>u.type==="leftright"||u.type==="text","backward");if(o){if(o.mode==="text"){let u=o;for(;u&&u.mode==="text";)u=u.leftSibling;return Di(t,[o,u])}return Di(t,o)}let l=r.parent;if(l){if(l.type==="leftright"||l.type==="surd")return Di(t,l);if(r.parentBranch==="subscript"&&l.superscript)return Di(t,l.superscript);if(r.parentBranch==="below"&&l.above)return Di(t,l.above);if(r.parentBranch==="superscript"||r.parentBranch==="subscript")return ys(t,l);if(r.parentBranch==="above"||r.parentBranch==="below")return Di(t,l)}return ys(t,0)}return!1},moveToMathfieldStart:t=>t.selectionIsCollapsed&&t.position===0?(t.announce("plonk"),!1):(t.position=0,t.mathfield.stopCoalescingUndo(),!0),moveToMathfieldEnd:t=>t.selectionIsCollapsed&&t.position===t.lastOffset?(t.announce("plonk"),!1):(t.position=t.lastOffset,t.mathfield.stopCoalescingUndo(),!0),moveToSuperscript:UC,moveToSubscript:qC},{target:"model",changeSelection:!0});nn({moveToNextPlaceholder:t=>Uc(t,"forward"),moveToPreviousPlaceholder:t=>Uc(t,"backward")},{target:"model",changeSelection:!0,audioFeedback:"return"});function jC(t,e,r,i){if(i==="forward"){let s=e.rightSibling;for(;s&&!r(s);)s=s.rightSibling;return s}let n=e.leftSibling;for(;n&&!r(n);)n=n.leftSibling;return n}function Fm(t,e,r){typeof e=="function"&&(r=e,e=1/0),e===void 0&&(e=1/0);let i=t.position,n=!1,s="";for(;!n;){let a=t.at(i);n=e===0||a===void 0||a.type==="first"||a.mode!=="math"||!(a.type&&/mord|mpunct|operator/.test(a.type)||a.type==="mop"&&/[a-zA-Z ]+/.test(a.value))||!a.hasEmptyBranch("superscript")||!a.hasEmptyBranch("subscript")||typeof r=="function"&&!r(a),n||(a.mode="text",a.command=a.value,a.verbatimLatex=void 0,s+=a.value),i-=1,e-=1}t.contentDidChange({data:s,inputType:"insertText"})}function Hd(t,e,r){typeof e=="function"&&(r=e,e=1/0),e===void 0&&(e=1/0);let i=t.position,n=!1,s=[];for(;!n;){let a=t.at(i);n=e===0||!a||a.type==="first"||a.isFirstSibling||a.mode!=="text"||a.value===" "||typeof r=="function"&&!r(a),n||(s.push(ue.serialize([a],{defaultMode:"math"})),a.mode="math"),i-=1,e-=1}$6(t),t.contentDidChange({data:kt(s),inputType:"insertText"})}function $6(t){var e;let r=t.position-1;for(;r>=0&&((e=t.at(r))==null?void 0:e.mode)==="math";)r-=1;if(!(r<0)&&t.at(r).mode==="text"&&t.at(r).value===" "&&t.at(r-1).mode==="math"){t.at(r-1).parent.removeChild(t.at(r-1));let i=t.silenceNotifications;t.silenceNotifications=!0,t.position-=1,t.silenceNotifications=i,t.contentDidChange({inputType:"deleteContent"})}}function Ece(t){let e="",r=t.position,i=!1;for(;!i;){let n=t.at(r);i=!(n&&(n.mode==="text"||n.mode==="math"&&n.type&&/mord|mpunct/.test(n.type))),i||(e=n.value+e),r-=1}return e}function Ace(t,e,r){let{model:i}=t;if(i.mode==="latex"||!i.at(i.position).isLastSibling||!r||!R2(r))return!1;let n=Mc(r);if(!i.selectionIsCollapsed)return!!(t.model.mode==="text"&&/[/_^]/.test(n));let s=Ece(i)+n;if(t.model.mode==="text"){if(e==="Esc"||/[/\\]/.test(n))return!0;if(/[\^_]/.test(n))return/(^|\s)[a-zA-Z][^_]$/.test(s)&&Hd(i,1),!0;let a={")":"(","}":"{","]":"["}[n],{parent:o}=i.at(i.position);if(a&&o instanceof br&&o.leftDelim===a)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(s))return!1;if(/[$€£₤₺¥¤฿¢₡₧₨₹₩₱]/u.test(n))return!0;if(/(^|[^a-zA-Z'’])[a-zA-Z] $/.test(s))return Hd(i,1),!1;if(/\D\.[^\d\s]$/.test(s)){Hd(i,1);let l=i.at(i.position);return l.value="⋅",l.style.variant="normal",l.command="\\cdot",l.verbatimLatex=void 0,i.contentDidChange({data:"\\cdot",inputType:"insertText"}),!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(s)||/\.\d$/.test(s)||/\([\d+\-.]$/.test(s))return Hd(i,1),!0;if(/\([a-z][,;]$/.test(s))return Hd(i,2),!0;if(/[\d+\-=><*|]$/.test(n))return $6(i),!0}else{if(e==="[Space]")return Fm(i,void 0,a=>/[a-z][:,;.]$/.test(a.value)),!0;if(/[a-zA-Z]{3,}$/.test(s)&&!/(dxd|abc|xyz|uvw)$/.test(s))return Fm(i,void 0,a=>/[a-zA-Z]/.test(a.value)),!0;if(/(^|\W)(if)$/i.test(s))return Fm(i,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(s)&&!/(αβγ)$/.test(s))return Fm(i,void 0,a=>/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(a.value)),!0;if(n==="?"||n==="."&&!/[\d-+]\.$/.test(s))return!0}return!1}function Mce(t,e){if(!t.isSelectionEditable||!t.keystrokeCaptionVisible)return;let r=iI(),i=t.element.getBoundingClientRect();r.style.left=`${i.left}px`,r.style.top=`${i.top-64}px`,r.innerHTML=globalThis.MathfieldElement.createHTML("<span>"+(B6(e)||e)+"</span>"+r.innerHTML),r.style.visibility="visible",setTimeout(()=>{r.childNodes.length>0&&r.childNodes[r.childNodes.length-1].remove(),r.childNodes.length===0&&(r.style.visibility="hidden")},3e3)}function Dce(t){if(t.keystrokeCaptionVisible=!t.keystrokeCaptionVisible,t.keystrokeCaptionVisible){let e=iI();e.innerHTML=""}else{let e=F2("mathlive-keystroke-caption-panel");e.style.visibility="hidden"}return!1}function iI(){return document.getElementById("mathlive-keystroke-caption-panel")||(gl("keystroke-caption"),gl("core"),F2("mathlive-keystroke-caption-panel"))}function Lce(){document.getElementById("mathlive-keystroke-caption-panel")&&(Bp("mathlive-keystroke-caption-panel"),yl("core"),yl("keystroke-caption"))}function nI(t,e){var r,i,n,s;let{model:a}=t,o=$P(e);if(e.isTrusted){_ue(e);let y=tp();t.keyboardLayout!==y.id&&(t.keyboardLayout=y.id,t._keybindings=void 0)}if(clearTimeout(t.inlineShortcutBufferFlushTimer),t.inlineShortcutBufferFlushTimer=0,Mce(t,o),e.isTrusted&&e.defaultPrevented)return t.flushInlineShortcutBuffer(),!1;let l,u=0,c="",d=0,h=t.inlineShortcutBuffer;if(t.isSelectionEditable){if(a.mode==="math")if(o==="[Backspace]")t.undoManager.lastOp==="insert-shortcut"?c="undo":h.pop();else if(!R2(e))t.flushInlineShortcutBuffer();else{let y=Mc(e),C=[...(i=(r=h[h.length-1])==null?void 0:r.keystrokes)!=null?i:[],y];h.push({state:a.getState(),keystrokes:C,leftSiblings:Bce(t)}),u=0;let S="";for(;!l&&u<C.length;)d=h.length-(C.length-u),S=C.slice(u).join(""),l=k6(h[d].leftSiblings,S,t.options.inlineShortcuts),!l&&/^[a-zA-Z][a-zA-Z0-9]+?([_\^][a-zA-Z0-9\*\+\-]+?)?$/.test(S)&&(l=t.options.onInlineShortcut(t,S)),u+=1;t.flushInlineShortcutBuffer({defer:!0})}t.options.smartMode&&(l?t.switchMode("math"):Ace(t,o,e)&&(t.switchMode({math:"text",text:"math"}[a.mode]),c=""))}if(!l){if(c||(c=Eue(t.keybindings,a.mode,e)),!c&&(o==="[Enter]"||o==="[Return]")){let y=!0;return a.contentWillChange({inputType:"insertLineBreak"})&&(t.host&&(y=t.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),!y&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):((n=a.parentEnvironment)!=null&&n.isMultiline&&t.executeCommand("addRowAfter"),a.contentDidChange({inputType:"insertLineBreak"}))),y}if((!c||o==="[Space]")&&a.mode==="math"){if(o==="[Space]"){if(t.styleBias="none",t.flushInlineShortcutBuffer(),t.options.mathModeSpace)return Qt.insert(a,t.options.mathModeSpace,{format:"latex",mode:"math"}),t.snapshot("insert-space"),c="",t.dirty=!0,t.scrollIntoView(),e.preventDefault&&(e.preventDefault(),e.stopPropagation()),!1;let y=a.at(a.position+1),C=a.at(a.position-1);if((y==null?void 0:y.mode)==="text"||(C==null?void 0:C.mode)==="text")return Qt.insert(a," ",{mode:"text"}),t.snapshot("insert-space"),t.dirty=!0,t.scrollIntoView(),!1}(s=a.at(a.position))!=null&&s.isDigit()&&globalThis.MathfieldElement.decimalSeparator===","&&Mc(e)===","&&(c="insertDecimalSeparator")}}if(!l&&!c){if(a.mathfield.smartFence){if(ev(a,Mc(e),E0(t)))return t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}else{let{parent:y}=a.at(a.position);if(y instanceof br&&y.rightDelim==="?"&&a.at(a.position).isLastSibling&&/^[)}\]|]$/.test(o))return t.snapshot(),y.isDirty=!0,y.rightDelim=o,a.position+=1,a.selectionDidChange(),a.contentDidChange({data:Mc(e),inputType:"insertText"}),t.snapshot("insert-fence"),t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1;if(!a.selectionIsCollapsed){let C=Mc(e);if(C==="("||C==="{"||C==="["){let S={"(":"(","{":"\\lbrace","[":"\\lbrack"}[C],A={"(":")","{":"\\rbrace","[":"\\rbrack"}[C],[T,M]=Ci(a.selection);return t.snapshot(),a.position=M,Qt.insert(a,A,{format:"latex"}),a.position=T,Qt.insert(a,S,{format:"latex"}),a.setSelection(T+1,M+1),a.contentDidChange({data:C,inputType:"insertText"}),t.snapshot("insert-fence"),t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}}}return!0}let f=a.at(Math.max(a.position,a.anchor)),{parent:g}=f;if(c==="moveAfterParent"&&(g==null?void 0:g.type)==="leftright"&&f.isLastSibling&&t.options.smartFence&&ev(a,".",t.defaultStyle)&&(c="",fr(t)),t.keyboardDelegate.cancelComposition(),c)t.executeCommand(c);else if(l){let y=E0(t);a.setState(h[d].state);let C=h[h.length-1].keystrokes;C=C.slice(u-1);for(let S of C)Qt.insert(a,S,{silenceNotifications:!0,style:y});t.snapshot("insert-shortcut"),a.setState(h[d].state),a.deferNotifications({content:!0,selection:!0,data:l,type:"insertText"},()=>(Qt.insert(a,l,{format:"latex",style:y}),$6(t.model),l.endsWith(" ")&&(t.switchMode("text"),Qt.insert(a," ",{style:y,mode:"text"})),t.snapshot(),a.selectionIsCollapsed||t.flushInlineShortcutBuffer(),!0)),t.dirty=!0,a.announce("replacement")}return t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}function Q5(t,e,r){let{model:i}=t;if(!t.isSelectionEditable){i.announce("plonk");return}r!=null||(r={}),r.focus&&t.focus(),r.feedback&&globalThis.MathfieldElement.playSound("keypress"),typeof r.mode=="string"&&(t.switchMode(r.mode),t.snapshot());let n=EB(e),s=window.mathVirtualKeyboard;if(s!=null&&s.isShifted&&(n=typeof n=="string"?n.toUpperCase():n.map(a=>a.toUpperCase())),r.simulateKeystroke){let a=!0;for(let o of n)nI(t,new KeyboardEvent("keypress",{key:o}))&&(a=!1);if(a)return}if(i.mode==="latex")i.deferNotifications({content:!0,selection:!0,data:e,type:"insertText"},()=>{O2(t);for(let a of n)Qt.insert(i,a,{insertionMode:"replaceSelection"});t.snapshot("insert-latex"),Lp(t)});else if(i.mode==="text"){let a=q(q({},Ice(i)),t.defaultStyle);for(let o of n)Qt.insert(i,o,{style:a,insertionMode:"replaceSelection"});t.snapshot("insert-text")}else if(i.mode==="math")for(let a of n)Pce(t,a);t.dirty=!0,t.scrollIntoView()}function Bce(t){let e=t.model,r=[],i=e.at(Math.min(e.position,e.anchor));for(;i.type!=="first";)r.push(i),i=i.leftSibling;return r}function Pce(t,e){let r=t.model,i={"^":"moveToSuperscript",_:"moveToSubscript"," ":t.options.mathModeSpace?["insert",t.options.mathModeSpace]:"moveAfterParent"}[e];if(i){t.executeCommand(i);return}let n=q({},E0(t));!/[a-zA-Z0-9]/.test(e)&&t.styleBias!=="none"&&(n.variant="normal",n.variantStyle=void 0);let s=r.at(r.position);if(/\d/.test(e)&&t.options.smartSuperscript&&s.parentBranch==="superscript"&&s.parent.type!=="mop"&&s.parent.type!=="operator"&&s.parent.type!=="extensible-symbol"&&s.hasNoSiblings){if(!Qt.insert(r,e,{style:n,insertionMode:"replaceSelection"})){t.undoManager.pop();return}t.snapshot("insert-mord"),rI(r);return}let a=e;a==="{"?a="\\lbrace":a==="}"?a="\\rbrace":a==="&"?a="\\&":a==="#"?a="\\#":a==="$"?a="\\$":a==="%"?a="\\%":a==="~"?a="\\~":a==="\\"&&(a="\\backslash"),Qt.insert(r,a,{style:n,insertionMode:"replaceSelection"})&&t.snapshot(`insert-${r.at(r.position).type}`)}function Ice(t){var e,r,i,n;if(t.selectionIsCollapsed)return(r=(e=t.at(t.position))==null?void 0:e.style)!=null?r:{};let s=Ci(t.selection)[0];return(n=(i=t.at(s+1))==null?void 0:i.style)!=null?n:{}}function ev(t,e,r){var i;if(!e||t.mode!=="math")return!1;let n=t.at(t.position),{parent:s}=n,a={"(":"(",")":")","{":"\\lbrace","}":"\\rbrace","[":"\\lbrack","]":"\\rbrack","|":"|"}[e];if(!a)return!1;let o=cg[a],l=L2[a];if(!t.selectionIsCollapsed){t.mathfield.snapshot();let[u,c]=Ci(t.selection),d=t.extractAtoms([u,c]),h=s.addChildrenAfter([new br("left...right",d,{leftDelim:a,rightDelim:l})],t.at(u));return t.setSelection(t.offsetOf(h.firstChild),t.offsetOf(h.lastChild)),t.mathfield.snapshot("insert-fence"),t.contentDidChange({data:a,inputType:"insertText"}),!0}if(a==="|"){let u=s instanceof br?s.leftDelim+s.rightDelim:"";if(u==="\\lbrace\\rbrace"||u==="\\{\\}"||u==="\\lbrace?")return t.mathfield.snapshot(),Qt.insert(t,"\\,\\middle\\vert\\,",{format:"latex",style:r}),t.mathfield.snapshot("insert-fence"),t.contentDidChange({data:a,inputType:"insertText"}),!0}if(l){if(s instanceof br&&s.firstChild===n&&(s.leftDelim==="?"||s.leftDelim==="."))return s.leftDelim=a,s.isDirty=!0,t.mathfield.snapshot(),t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;if(!(s instanceof br)){let h=n;for(;h&&!(h.type==="mclose"&&h.value===l);)h=h.rightSibling;if(h){t.mathfield.snapshot();let f=t.extractAtoms([t.offsetOf(n),t.offsetOf(h)]);return f.pop(),s.addChildrenAfter([new br("left...right",f,{leftDelim:a,rightDelim:l})],n),t.position=t.offsetOf(s.firstChild)+1,t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}}let u=t.offsetOf(n.lastSibling),c;for(c=t.position;c<=u;c++){let h=t.at(c);if(h instanceof br&&(h.leftDelim==="?"||h.leftDelim===".")&&VC(a,h.rightDelim))break}let d=t.at(c);if(c<=u&&d instanceof br){d.leftDelim=a,t.mathfield.snapshot();let h=t.extractAtoms([t.position,c-1]);return h=h.filter(f=>f.type!=="first"),d.addChildren(h,d.parentBranch),t.position+=1,t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}if(s instanceof br&&(s.leftDelim==="?"||s.leftDelim===".")&&VC(a,s.rightDelim)){s.isDirty=!0,s.leftDelim=a,t.mathfield.snapshot();let h=t.extractAtoms([t.offsetOf(n.firstSibling),t.position]);for(let f of h)s.parent.addChildBefore(f,s);return t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}if(!(s instanceof br&&s.leftDelim==="|")){if(a==="("){let h=t.position-1,f=!1;for(;h>=0;){let g=t.at(h);if(g.type==="first")break;if(g.type==="mord"&&g.value&&/^[\d]$/.test(g.value)){h-=1;continue}if(g.type==="group"&&((i=g.body)==null?void 0:i.length)===2&&g.body[0].type==="first"&&g.body[1].value===","){f=!0;break}if(g.type==="mord"&&(g.value===","||g.value===".")){f=!0;break}break}if(f)return!1}if(t.mathfield.snapshot(),Qt.insert(t,`\\left${a}\\right?`,{format:"latex",style:r}),n.lastSibling.type!=="first"){let h=t.offsetOf(n.lastSibling),f=t.extractAtoms([t.position,h]);t.at(t.position).body=f,t.position-=1}return t.mathfield.snapshot("insert-fence"),!0}}if(o){if(a===")"){let g=t.position-1,y=!1;for(;g>=0;){let C=t.at(g);if(C.type==="first")break;if(C.type==="mord"&&C.value&&/^[\d]$/.test(C.value)){y=!0,g-=1;continue}break}if(y&&t.at(g).type==="mopen"&&t.at(g).value==="(")return!1}let u=n;for(;u;){if(u.type==="mopen"&&u.value===o){t.mathfield.snapshot();let g=u.leftSibling,y=t.extractAtoms([t.offsetOf(u.leftSibling),t.offsetOf(n)]);[,...y]=y;let C=new br("left...right",y,{leftDelim:o,rightDelim:a});return s.addChildrenAfter([C],g),t.position=t.offsetOf(C),t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}u=u.leftSibling}if(s instanceof br&&n.isLastSibling&&ry(s.leftDelim,a))return t.mathfield.snapshot(),s.isDirty=!0,s.rightDelim=a,t.position+=1,t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;let c=t.offsetOf(n.firstSibling),d;for(d=t.position;d>=c;d--){let g=t.at(d);if(g instanceof br&&(g.rightDelim==="?"||g.rightDelim===".")&&ry(g.leftDelim,a))break}let h=t.at(d);if(d>=c&&h instanceof br)return t.mathfield.snapshot(),h.rightDelim=a,h.addChildren(t.extractAtoms([d,t.position]),h.parentBranch),t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;if(s instanceof br&&(s.rightDelim==="?"||s.rightDelim===".")&&ry(s.leftDelim,a))return t.mathfield.snapshot(),s.isDirty=!0,s.rightDelim=a,s.parent.addChildren(t.extractAtoms([t.position,t.offsetOf(n.lastSibling)]),s.parentBranch),t.position=t.offsetOf(s),t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;let f=s.parent;return f instanceof br&&(f.rightDelim==="?"||f.rightDelim===".")&&t.at(t.position).isLastSibling?(t.position=t.offsetOf(f),ev(t,a,r)):!1}return!1}function ry(t,e){return t?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(t)?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(e):L2[t]===e:!0}function VC(t,e){return e?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(e)?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(t):cg[e]===t:!0}nn({undo:t=>(t.undo(),!0),redo:t=>(t.redo(),!0),scrollIntoView:t=>(t.scrollIntoView(),!0),scrollToStart:t=>(t.field.scroll(0,0),!0),scrollToEnd:t=>{let e=t.field.getBoundingClientRect();return t.field.scroll(e.left-window.scrollX,0),!0},toggleKeystrokeCaption:Dce,toggleContextMenu:t=>{let e=t.toggleContextMenu();return e||t.model.announce("plonk"),e},plonk:t=>(t.model.announce("plonk"),!0),switchMode:(t,e,r,i)=>(t.switchMode(e,r,i),!0),insert:(t,e,r)=>t.insert(e,r),typedText:(t,e,r)=>(Q5(t,e,r),!0),insertDecimalSeparator:t=>{let e=t.model;return e.mode==="math"&&globalThis.MathfieldElement.decimalSeparator===","&&e.at(Math.max(e.position,e.anchor)).isDigit()?(t.insert("{,}",{format:"latex"}),t.snapshot("insert-mord"),!0):(t.insert("."),!0)},commit:t=>{var e,r;let i=t.model;return i.contentWillChange({inputType:"insertLineBreak"})&&((e=t.host)==null||e.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),(r=i.parentEnvironment)!=null&&r.isMultiline&&t.executeCommand("addRowAfter"),i.contentDidChange({inputType:"insertLineBreak"})),!0},insertPrompt:(t,e,r)=>{let i=t.getPrompts(),n="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),s=0;for(;i.includes(n)&&s<100;){if(s===99)return console.error("could not find a unique ID after 100 tries"),!1;n="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),s++}return t.insert(`\\placeholder[${e??n}]{}`,r),!0}});nn({copyToClipboard:t=>(t.focus(),t.model.selectionIsCollapsed&&t.select(),"queryCommandSupported"in document&&document.queryCommandSupported("copy")&&document.execCommand("copy")||t.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("copy",{bubbles:!0,composed:!0})),!1)},{target:"mathfield"});nn({cutToClipboard:t=>(t.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("cut")&&document.execCommand("cut")||t.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("cut",{bubbles:!0,composed:!0})),!0),pasteFromClipboard:t=>(t.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("paste")?(document.execCommand("paste"),!0):(navigator.clipboard.readText().then(e=>{e&&t.model.contentWillChange({inputType:"insertFromPaste",data:e})?(t.stopCoalescingUndo(),t.stopRecording(),t.insert(e,{mode:t.model.mode})&&(Lp(t),t.startRecording(),t.snapshot("paste"),t.model.contentDidChange({inputType:"insertFromPaste"}),fr(t))):t.model.announce("plonk"),t.startRecording()}),!0))},{target:"mathfield",canUndo:!0,changeContent:!0,changeSelection:!0});function tv(t){let[e,r]=Ci(t.selection);if(e=HC(t,e,"backward"),r=HC(t,r,"forward"),e===r){let i=t.at(e);if(i.type==="leftright")return t.setSelection(t.offsetOf(i.firstChild)-1,r);if(i.type==="first"&&(i.parent.type==="leftright"||i.parent.type==="surd"))return t.setSelection(e-1,t.offsetOf(i.parent.lastChild)+1);t.setSelection(e-1,r)}else t.setSelection(e,r);return!0}function HC(t,e,r){var i,n,s;let a=t.at(e);if(!a)return e;let o=r==="forward"?1:-1;if(a.mode==="text"){for(;a&&!(a.mode!=="text"||!Jh.test(a.value));)e+=o,a=t.at(e);return r==="backward"?e-1:e}if(a.mode==="latex"){if(/[a-zA-Z\*]/.test(a.value))if(r==="backward")for(;a&&a.mode==="latex"&&a.value!=="\\"&&/[a-zA-Z]/.test(a.value);)e+=o,a=t.at(e);else for(;a&&a.mode==="latex"&&/[a-zA-Z\*]/.test(a.value);)e+=o,a=t.at(e);else if(a.value==="{"){if(r==="forward"){for(;a&&a.mode==="latex"&&a.value!=="}";)e+=o,a=t.at(e);return e}return e-1}else if(a.value==="}"){if(r==="backward"){for(;a&&a.mode==="latex"&&a.value!=="{";)e+=o,a=t.at(e);return e-1}return e}return e-1}if(a.mode==="math"){if(a.isDigit()){for(;(i=t.at(e+o))!=null&&i.isDigit();)e+=o;return r==="backward"?e-1:e}if(a.style.variant||a.style.variantStyle){let l=(n=t.at(e))==null?void 0:n.style;for(;l&&l.variant===a.style.variant&&l.variantStyle===a.style.variantStyle;)l=(s=t.at(e+o))==null?void 0:s.style,e+=o;return r==="backward"?e-1:e}return e}return e}nn({selectGroup:t=>{let e=tv(t);return e||t.announce("plonk"),e},selectAll:t=>t.setSelection(0,t.lastOffset),extendSelectionForward:t=>ra(t,"forward",{extend:!0}),extendSelectionBackward:t=>ra(t,"backward",{extend:!0}),extendToNextWord:t=>zc(t,"forward",{extend:!0}),extendToPreviousWord:t=>zc(t,"backward",{extend:!0}),extendSelectionUpward:t=>ra(t,"upward",{extend:!0}),extendSelectionDownward:t=>ra(t,"downward",{extend:!0}),extendToNextBoundary:t=>zc(t,"forward",{extend:!0}),extendToPreviousBoundary:t=>zc(t,"backward",{extend:!0}),extendToGroupStart:t=>{let e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).firstSibling));return e||t.announce("plonk"),e},extendToGroupEnd:t=>{let e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).lastSibling));return e||t.announce("plonk"),e},extendToMathFieldStart:t=>{let e=t.setSelection(t.anchor,0);return e||t.announce("plonk"),e},extendToMathFieldEnd:t=>{let e=t.setSelection(t.anchor,t.lastOffset);return e||t.announce("plonk"),e}},{target:"model",changeSelection:!0});var Yl=null,Kd=0,xg=class Wn{static start(e,r,i,n){var s;Wn.element=e,(s=Wn.controller)==null||s.abort(),Wn.controller=new AbortController;let a={signal:Wn.controller.signal};"PointerEvent"in window?(e.addEventListener("pointermove",i,a),e.addEventListener("pointerup",n,a),e.addEventListener("pointercancel",n,a),rv(r)&&(Wn.pointerId=r.pointerId,e.setPointerCapture(r.pointerId))):(window.addEventListener("mousemove",i,a),window.addEventListener("blur",n,a),window.addEventListener("mouseup",n,a))}static stop(){var e;(e=Wn.controller)==null||e.abort(),Wn.controller=void 0,typeof Wn.pointerId=="number"&&(Wn.element.releasePointerCapture(Wn.pointerId),Wn.pointerId=void 0)}};function rv(t){return t!==null&&globalThis.PointerEvent!==void 0&&t instanceof PointerEvent}function KC(t,e){var r;if(e.buttons>1)return;t.atomBoundsCache=new Map;let i=t,n,s=!1,a=!1,o="none",l=!1,u=!1,c=e.clientX,d=e.clientY,h=Date.now(),f=i.field,g=setInterval(()=>{l?f.scroll({top:0,left:f.scrollLeft-16}):u&&f.scroll({top:0,left:f.scrollLeft+16})},32);function y(){xg.stop(),s=!1,clearInterval(g),t.element.classList.remove("tracking"),e&&e.preventDefault()}function C(A){if(!i.hasFocus()){y();return}let T=A.clientX,M=A.clientY,D=rv(A)&&A.pointerType==="touch"?20:5;if(Date.now()<h+500&&Math.abs(c-T)<D&&Math.abs(d-M)<D){A.preventDefault(),A.stopPropagation();return}let B=f.getBoundingClientRect();u=T>B.right,l=T<B.left;let F=n;rv(A)&&(A.isPrimary||(F=p1(i,A.clientX,A.clientY,{bias:0})));let V=p1(i,T,M,{bias:T<=c?T===c?0:-1:1});F>=0&&V>=0&&(i.model.extendSelectionTo(F,V),fr(t)),a&&tv(i.model)}Yl&&Math.abs(Yl.x-c)<5&&Math.abs(Yl.y-d)<5&&Date.now()<Yl.time+500?(Kd+=1,Yl.time=h):(Yl={x:c,y:d,time:h},Kd=1);let S=f.getBoundingClientRect();if(c>=S.left&&c<=S.right&&d>=S.top&&d<=S.bottom){if(t.flushInlineShortcutBuffer(),n=p1(t,c,d,{bias:0}),n!==t.model.anchor&&(t.defaultStyle={},t.styleBias="left"),n>=0){if(t.element.classList.add("tracking"),e.shiftKey){let A=t.model.selectionIsCollapsed;t.model.extendSelectionTo(t.model.anchor,n),IC(t.model)||A?o="all":o="selection"}else t.model.at(n).type==="placeholder"?(t.model.setSelection(n-1,n),o="selection"):((r=t.model.at(n).rightSibling)==null?void 0:r.type)==="placeholder"?(t.model.setSelection(n,n+1),o="selection"):(t.model.position=n,IC(t.model)?o="all":o="selection");e.detail===3||Kd>2?(y(),(e.detail===3||Kd===3)&&(t.model.selection={ranges:[[0,t.model.lastOffset]]},o="all")):s||(s=!0,xg.start(f,e,C,y),(e.detail===2||Kd===2)&&(a=!0,tv(t.model),o="all"))}t.hasFocus()||(o="none",t.focus({preventScroll:!0}))}else Yl=null;t.stopCoalescingUndo(),o!=="none"&&(t.model.selectionIsCollapsed&&(o="all"),fr(t)),e.preventDefault()}function Rce(t,e,r){if(t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom)return 0;let i=t-(r.left+r.right)/2,n=e-(r.top+r.bottom)/2;return i*i+n*n}function iv(t,e,r,i,n){if(!r.id)return[1/0,null];if(e.has(r.id))return e.get(r.id);let s=Z0(t,r);if(!s)return[1/0,null];let a=[1/0,null],o=t.model;if(r instanceof Tt)for(let l of r.rows)for(let u of l){let c=[o.offsetOf(u[0]),o.offsetOf(u[u.length-1])],d=dle(t,c);if(n>=d.top&&n<=d.bottom)for(let h of u){let f=iv(t,e,h,i,n);f[0]<=a[0]&&(a=f)}}else if(r.hasChildren&&!r.captureSelection&&i>=s.left&&i<=s.right){let l=r.children;for(let u of l){let c=iv(t,e,u,i,n);c[0]<=a[0]&&(a=c)}}return a[1]||(a=[Rce(i,n,s),r]),e.set(r.id,a),a}function Oce(t,e,r){let[,i]=iv(t,new Map,t.model.root,e,r);return i}function p1(t,e,r,i){var n;let s=t.field.querySelector(".ML__latex").getBoundingClientRect();if(!s)return 0;if(e>s.right||r>s.bottom+8)return t.model.lastOffset;if(e<s.left||r<s.top-8)return 0;i=i??{},i.bias=(n=i.bias)!=null?n:0;let a=Oce(t,e,r),o=[],l=a;for(;l;)o.unshift(l),l=l.parent;for(let c of o)if(c.captureSelection){a=c;break}let u=t.model.offsetOf(a);if(u<0)return-1;if(a.leftSibling)if(i.bias===0&&a.type!=="placeholder"){let c=Z0(t,a);c&&e<(c.left+c.right)/2&&(u=t.model.offsetOf(a.leftSibling))}else i.bias<0&&(u=t.model.offsetOf(a.leftSibling));return u}var Fce=class extends Qt{constructor(){super("math")}onPaste(t,e){if(!e||!t.model.contentWillChange({data:typeof e=="string"?e:null,dataTransfer:typeof e=="string"?null:e,inputType:"insertFromPaste"}))return!1;let r="",i="auto",n=typeof e!="string"?e.getData("application/json+mathlive"):"";if(n)try{let s=JSON.parse(n);if(s&&Array.isArray(s)){t.snapshot();let a=ll(s),{model:o}=t;o.selectionIsCollapsed||o.deleteAtoms(Ci(o.selection));let l=o.at(o.position);if(l.parent instanceof Tt){l.parentBranch;let u=[],c=[];a[0].type==="first"&&a.shift(),a[a.length-1].type==="first"&&a.pop();for(let g of a)g.type==="first"&&c.length>0?(u.push(c),c=[g]):c.push(g);c.length>0&&u.push(c);let d=Number(l.parentBranch[0]),h=Number(l.parentBranch[1]),f=l.parent.maxColumns;for(;l.parent.colCount-h<u.length&&l.parent.colCount<f;)l.parent.addColumn();l.parent.addChildrenAfter(u[0],l);for(let g=1;g<u.length;g++)h++,h>=f&&(h=0,l.parent.addRowAfter(d),d++),l.parent.setCell(d,h,u[g])}else l.parent.addChildrenAfter(a.filter(u=>u.type!=="first"),l);return o.position=o.offsetOf(a[a.length-1]),o.contentDidChange({inputType:"insertFromPaste"}),fr(t),!0}}catch{}if(n=typeof e!="string"?e.getData("application/json"):"",n&&globalThis.MathfieldElement.computeEngine)try{let s=JSON.parse(n);if(typeof s=="object"&&"latex"in s&&s.latex&&(r=s.latex),!r){let a=globalThis.MathfieldElement.computeEngine.box(s);a&&!a.has("Error")&&(r=a.latex)}r||(i="latex")}catch{}if(!r&&typeof e!="string"&&(r=e.getData("application/x-latex"),r&&(i="latex")),r||(r=typeof e=="string"?e:e.getData("text/plain")),r){let s;return[s,r]=T6(r),i==="auto"&&s&&(i="latex"),t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,r,{format:i})&&(t.startRecording(),t.snapshot("paste"),fr(t)),t.startRecording(),!0}return!1}insert(t,e,r){var i,n;let s=typeof e=="string"?e:(n=(i=globalThis.MathfieldElement.computeEngine)==null?void 0:i.box(e).latex)!=null?n:"";if(!r.silenceNotifications&&!t.contentWillChange({data:s,inputType:"insertText"}))return!1;r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder"),r.format||(r.format="auto");let{silenceNotifications:a}=t;r.silenceNotifications&&(t.silenceNotifications=!0);let o=t.silenceNotifications;t.silenceNotifications=!0;let l={"?":"\\placeholder{}","@":"\\placeholder{}"};l[0]=r.insertionMode==="replaceAll"?"":t.getValue(t.selection,"latex-unstyled"),r.insertionMode==="replaceSelection"?t.deleteAtoms(Ci(t.selection)):r.insertionMode==="replaceAll"?t.deleteAtoms():r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward"),!t.at(t.position).isLastSibling&&t.at(t.position+1).type==="placeholder"?t.deleteAtoms([t.position,t.position+1]):t.at(t.position).type==="placeholder"&&t.deleteAtoms([t.position-1,t.position]);let u=-1;l[0]?l["@"]=l[0]:typeof e=="string"&&/(^|[^\\])#@/.test(e)&&(u=Nce(t),u>=0&&(l["@"]=t.getValue(u,t.position,"latex"))),l[0]||(l[0]=l["?"]);let c=!1,d=C=>(c=!0,l[C]),[h,f]=WC(t,e,d,r);if(!f)return!1;let g=f.length===1&&f[0].type==="genfrac";if(g&&u>=0&&typeof t.mathfield.options.isImplicitFunction=="function"&&t.mathfield.options.isImplicitFunction(t.at(t.position).command)?(l["@"]=l["?"],c=!1,[h,f]=WC(t,e,d,r)):u>=0&&t.deleteAtoms([u,t.position]),f.length===1&&f[0].isRoot)t.root=f[0];else{let{parent:C}=t.at(t.position),S=C.hasEmptyBranch("body");if(g&&h!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&C instanceof br&&C.leftDelim==="("&&S){let T=C.parent,M=C.parentBranch;T.removeChild(C),T.setChildren(f,M)}let A=t.at(t.position);A.parent.addChildrenAfter(f,A),h==="latex"&&typeof e=="string"&&(C==null?void 0:C.type)==="root"&&S&&!c&&(C.verbatimLatex=e)}t.silenceNotifications=o;let y=f[f.length-1];if(r.selectionMode==="placeholder"){let C=f.flatMap(S=>[S,...S.children]).find(S=>S.type==="placeholder");if(C){let S=t.offsetOf(C);t.setSelection(S-1,S),t.announce("move")}else if(y){let S=y.body,A=y.hasEmptyBranch("body");S&&A?t.setSelection(t.offsetOf(S[0]),t.offsetOf(S[S.length-1])+1):t.position=t.offsetOf(y)}}else r.selectionMode==="before"||(r.selectionMode==="after"?y&&(t.position=t.offsetOf(y)):r.selectionMode==="item"&&t.setSelection(t.anchor,t.offsetOf(y)));return t.contentDidChange({data:s,inputType:"insertText"}),t.silenceNotifications=a,!0}};function WC(t,e,r,i){var n;let s,a=[];if(typeof e!="string"||i.format==="math-json"){let o=globalThis.MathfieldElement.computeEngine;if(!o)return["math-json",[]];[s,e]=["latex",o.box(e).latex],a=ts(e,{context:t.mathfield.context})}else typeof e=="string"&&i.format==="ascii-math"?([s,e]=U5(e,{format:"ascii-math",inlineShortcuts:t.mathfield.options.inlineShortcuts}),a=ts(e,{context:t.mathfield.context}),s!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&(a=a.map(o=>_g(o)))):(i.format==="auto"||(n=i.format)!=null&&n.startsWith("latex"))&&(i.format==="auto"&&([s,e]=U5(e,{format:"auto",inlineShortcuts:t.mathfield.options.inlineShortcuts})),i.format==="latex"&&([,e]=T6(e)),a=ts(e,{context:t.mathfield.context,args:r}),i.format!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&(a=a.map(o=>_g(o))));return D6(a,i.style),[s??"latex",a]}function _g(t){var e;if(t instanceof br&&t.leftDelim!=="("&&t.rightDelim===")"){let r=(e=t.body)==null?void 0:e.filter(i=>i.type!=="first");if((r==null?void 0:r.length)===1&&r[0].type==="genfrac")return r[0]}for(let r of t.branches)t.hasEmptyBranch(r)||t.setChildren(t.branch(r).map(i=>_g(i)),r);return t instanceof Tt&&t.forEachCell((r,i,n)=>{t.setCell(i,n,r.map(s=>_g(s)))}),t}function Nce(t){let e=t.at(t.position);if(e.mode==="text"){for(;!e.isFirstSibling&&e.mode==="text";)e=e.leftSibling;return t.offsetOf(e)}let r=e,i=!1;if(e.type==="mclose"){let n=cg[e.value];for(;!e.isFirstSibling&&!(e.type==="mopen"&&e.value===n);)e=e.leftSibling;e.isFirstSibling||(e=e.leftSibling),i=!0}else e.type==="leftright"&&(e=e.leftSibling,i=!0);if(i)for(;!e.isFirstSibling&&(e.isFunction||GC(e));)e=e.leftSibling;else{let n=[];for(;!e.isFirstSibling&&(GC(e)||n.length>0);)e.type==="mclose"&&n.unshift(e.value),e.type==="mopen"&&n.length>0&&e.value===cg[n[0]]&&n.shift(),e=e.leftSibling}return r===e?-1:t.offsetOf(e)}function GC(t){return t.isDigit()?!0:t.type&&/^(mord|surd|subsup|leftright|mop|mclose)$/.test(t.type)?t.type!=="extensible-symbol":!1}new Fce;var $ce=class extends Qt{constructor(){super("text")}onPaste(t,e){if(!e)return!1;let r=typeof e=="string"?e:e.getData("text/plain");return r&&t.model.contentWillChange({inputType:"insertFromPaste",data:r})?(t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,r)&&(t.model.contentDidChange({inputType:"insertFromPaste"}),t.startRecording(),t.snapshot("paste"),fr(t)),t.startRecording(),!0):!1}insert(t,e,r={}){if(!t.contentWillChange({data:e,inputType:"insertText"}))return!1;r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder"),r.format||(r.format="auto");let{silenceNotifications:i}=t;r.silenceNotifications&&(t.silenceNotifications=!0);let n=t.silenceNotifications;t.silenceNotifications=!0,r.insertionMode==="replaceSelection"&&!t.selectionIsCollapsed?t.deleteAtoms(Ci(t.selection)):r.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):r.insertionMode==="insertBefore"?t.collapseSelection("backward"):r.insertionMode==="insertAfter"&&t.collapseSelection("forward");let s=zce(e,t.mathfield.context);if(D6(s,r.style),!s)return!1;let a=t.at(t.position),o=a.parent.addChildrenAfter(s,a);return t.silenceNotifications=n,r.selectionMode==="before"||(r.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(o)):o&&(t.position=t.offsetOf(o))),t.contentDidChange({data:e,inputType:"insertText"}),t.silenceNotifications=i,!0}};function zce(t,e){return t=t.replace(/\\/g,"\\textbackslash "),t=t.replace(/#/g,"\\#"),t=t.replace(/\$/g,"\\$"),t=t.replace(/%/g,"\\%"),t=t.replace(/&/g,"\\&"),t=t.replace(/_/g,"\\_"),t=t.replace(/{/g,"\\textbraceleft "),t=t.replace(/}/g,"\\textbraceright "),t=t.replace(/lbrace/g,"\\textbraceleft "),t=t.replace(/rbrace/g,"\\textbraceright "),t=t.replace(/\^/g,"\\textasciicircum "),t=t.replace(/~/g,"\\textasciitilde "),t=t.replace(/£/g,"\\textsterling "),ts(t,{context:e,parseMode:"text"})}new $ce;function Vo(t){return{value:t.model.getValue(),selectionIsCollapsed:t.model.selectionIsCollapsed,canUndo:t.canUndo(),canRedo:t.canRedo(),style:Uce(t.model),mode:t.model.mode}}function Uce(t){var e;if(t.selectionIsCollapsed)return(e=t.at(t.position))==null?void 0:e.style;let r=t.getAtoms(t.selection);if(r.length===0)return{};let i=q({},r[0].style);for(let n of r)for(let[s,a]of Object.entries(n.style))i[s]!==a&&delete i[s];return i}var ir=4,Gi=20,Dr=2*(Gi+ir),Nm=(t,e)=>`
  <line x1="${t+Gi}" y1="${e+Gi}" 
    x2="${t>e?t+Gi:7*Gi+10*ir}" 
    y2="${t<e?e+Gi:7*Gi+10*ir}"/>
  <svg id="plus" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.34-3.33,3.34h-6.67v6.66c0,1.84-1.49,3.34-3.33,3.34s-3.34-1.5-3.34-3.34v-6.66h-6.66c-1.84,0-3.34-1.5-3.34-3.34s1.5-3.33,3.34-3.33h6.66v-6.67c0-1.84,1.5-3.33,3.34-3.33s3.33,1.49,3.33,3.33v6.67h6.67c1.84,0,3.33,1.49,3.33,3.33Z"/>
  </svg>`,XC=(t,e)=>`
  <line x1="${t+Gi}" y1="${e+Gi}" 
    x2="${t>e?t+Gi:7*Gi+10*ir}" 
    y2="${t<e?e+Gi:7*Gi+10*ir}"/>
  <svg id="minus" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.33-3.33,3.33H10c-1.84,0-3.34-1.49-3.34-3.33s1.5-3.34,3.34-3.34h20c1.84,0,3.33,1.5,3.33,3.34Z"/>
  </svg>`,$m=(t,e,r)=>`
  <svg id="arrow" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <g transform="rotate(${r})" transform-origin="20 20">
      <path class="font" d="m17.7,7.23h4.6c.52,0,.94.42.94.94v13.82c0,.52.42.94.94.94h3.39c.83,0,1.25,1.01.66,1.6l-7.56,7.56c-.37.37-.96.37-1.32,0l-7.56-7.56c-.59-.59-.17-1.6.66-1.6h3.39c.52,0,.94-.42.94-.94v-13.82c0-.52.42-.94.94-.94Z"/>
    </g>  
  </svg>`,qce=`
<svg class="MLEP__array-buttons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
viewBox=
"-2 -2 ${8*Gi+10*ir+5} ${8*Gi+10*ir+5}">
  <rect 
      class="MLEP__array-insert-background rows"
      x="0" 
      y="${Dr+ir}" 
      height="${3*Dr}" 
      width="${Dr}" 
      rx="${Dr/2}"/>
      <rect 
      class="MLEP__array-insert-background columns"
      x="${Dr+ir}" 
      y="0" 
      height="${Dr}" 
      width="${3*Dr}" 
      rx="${Dr/2}"/>
  <g data-command='"moveDown"'>
  ${$m(2*(ir+Dr),2*ir+3*Dr,0)}
  </g>
  <g data-command='"moveUp"'>
  ${$m(2*(ir+Dr),2*ir+Dr,180)}
  </g>
  <g data-command='"moveToNextWord"'>
  ${$m(2*ir+3*Dr,2*(ir+Dr),-90)}
  </g>
  <g data-command='"moveToPreviousWord"'>
  ${$m(2*ir+Dr,2*(ir+Dr),90)}
  </g>
  <g>

  <g data-command='"addColumnBefore"'>
  ${Nm(2*ir+Dr,ir)}
  </g>
  <g data-command='"removeColumn"'>
  ${XC(2*ir+2*Dr,ir)}
  </g>
  <g data-command='"addColumnAfter"'>
  ${Nm(2*ir+3*Dr,ir)}
  </g>
  <g data-command='"addRowBefore"'>
  ${Nm(ir,2*ir+Dr)}
  </g>
  <g data-command='"removeRow"'>
  ${XC(ir,2*ir+2*Dr)}
  </g>
  <g data-command='"addRowAfter"'>
    ${Nm(ir,2*ir+3*Dr)}
  </g>
</svg>`,jce=t=>`
<svg id="matrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","matrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,Vce=t=>`
<svg id="pmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
data-command='["setEnvironment","pmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-3.96,4.6-3.96,11.4,0,16"/>
  <path class="cls-2" d="m22,4c3.96,4.6,3.96,11.4,0,16"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,sI=t=>`
<svg id="Bmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","Bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <path class="cls-2" d="m22,4c1.1,0,2,.9,2,2v3c0,1.66.9,3,2,3-1.1,0-2,1.34-2,3v3c0,1.1-.9,2-2,2"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,Hce=t=>`
<svg id="bmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4h-3v16h3"/>
  <path class="cls-2" d="m22,4h3v16h-3"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,Kce=t=>`
<svg id="vmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="4" y1="4" x2="4" y2="20"/>
  <line class="cls-2" x1="24" y1="4" x2="24" y2="20"/>
</svg>`,Wce=t=>`
<svg id="Vmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="-3.5 -3 35 30" 
  data-command='["setEnvironment","Vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="6" y1="4" x2="6" y2="20"/>
  <line class="cls-2" x1="22" y1="4" x2="22" y2="20"/>
  <line class="cls-2" x1="2" y1="4" x2="2" y2="20"/>
  <line class="cls-2" x1="26" y1="4" x2="26" y2="20"/>
</svg>`,Gce=t=>`
<svg id="cases" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","cases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m10,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <circle cx="13" cy="8" r="1"/>
  <circle cx="13" cy="16" r="1"/>
  <circle cx="21" cy="8" r="1"/>
  <circle cx="21" cy="16" r="1"/>
</svg>`,Xce=t=>`
<svg id="rcases" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","rcases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m18,20c1.1,0,2-.9,2-2v-3c0-1.66.9-3,2-3-1.1,0-2-1.34-2-3v-3c0-1.1-.9-2-2-2"/>
  <circle cx="15" cy="8" r="1"/>
  <circle cx="15" cy="16" r="1"/>
  <circle cx="7" cy="8" r="1"/>
  <circle cx="7" cy="16" r="1"/>
</svg>`,iy={matrix:jce,pmatrix:Vce,bmatrix:Hce,Bmatrix:sI,vmatrix:Kce,Vmatrix:Wce},ny={cases:Gce,rcases:Xce,Bmatrix:sI};function Yce(t){var e,r;let i=(e=t.model.parentEnvironment)==null?void 0:e.rows;if(!i)return;let n=0;i.forEach(f=>{(!n||f.length>n)&&(n=f.length)});let s=document.getElementById("mathlive-environment-popover");s||(s=F2("mathlive-environment-popover"),gl("environment-popover"),gl("core"),s.setAttribute("aria-hidden","true"));let a,o=s.querySelector(".MLEP__environment-controls");o?a=o:(a=document.createElement("div"),s.innerHTML="",s.appendChild(a)),a.className="MLEP__environment-controls",a.style.display="flex",a.style.width="100%",a.style.height="100%",a.style.boxSizing="border-box",a.innerHTML=qce;let l=[],u="",c=t.model.parentEnvironment.environmentName;if(QB(c)){let f=Jce(c);u=iy[f]("active");let g=iy,y=sg(g,[A9(f)]);l=Object.values(y).map(C=>C("inactive"))}else if(Ple(c)){let f=Qce(c);u=ny[f]("active");let g=ny,y=sg(g,[A9(f)]);l=Object.values(y).map(C=>C("inactive"))}else Ile(c)&&(u=iy.matrix("active"),l=Object.values(ny).map(f=>f("inactive")));let d=document.createElement("div");d.className="MLEP__environment-delimiter-controls",d.style.display="flex",d.style.flexDirection="column",d.innerHTML=`
  <div class='MLEP__array-delimiter-options'>
  ${u}
  ${l.join("")}
  </div>`,u&&a.appendChild(d),a.querySelectorAll("[data-command]").forEach(f=>{let g=f.dataset.command,y=g;try{y=JSON.parse(g)}catch{}f.addEventListener("mousedown",C=>C.preventDefault()),y&&f.addEventListener("click",()=>t.executeCommand(y))});let h=(r=t.field)==null?void 0:r.getBoundingClientRect();h&&(s.style.top=`${window.scrollY+(h.top-s.clientHeight-15)}px`,s.style.left=`${h.left+20}px`,s.classList.add("is-visible"))}function nv(){let t=document.getElementById("mathlive-environment-popover");t==null||t.classList.remove("is-visible")}function Zce(){document.getElementById("mathlive-environment-popover")&&(Bp("mathlive-environment-popover"),yl("environment-popover"),yl("core"))}function zm(t){if(!t.hasFocus())return;let e=!1;if(t.model.mode==="math"){let r=t.model.parentEnvironment;if(r!=null&&r.rows&&Ble(r.environmentName)){let i=t.options.environmentPopoverPolicy;e=i==="auto"||i==="on"}}e?Yce(t):nv()}function Jce(t){return t.replace("*","")}function Qce(t){return t==="dcases"?"cases":t}function aI(t){let e=getComputedStyle(t).direction;return e==="ltr"||e==="rtl"?e:"ltr"}function YC(t,e,r){return e==="left"||e==="leading"&&r==="ltr"||e==="trailing"&&r==="rtl"?t.left:t.right}function sy(t,e,r,i){return r==="middle"?t-e/2:r==="start"&&i==="rtl"||r==="end"&&i==="ltr"||r==="top"||r==="right"?Math.max(0,t-e):t}function e0e(t,e,r,i){return r==="middle"?t-e/2:r==="start"&&i==="ltr"||r==="end"&&i==="rtl"||r==="top"||r==="right"?t:t-e}function t0e(t,e){var r,i,n;let s=(r=aI(t))!=null?r:"ltr";t.style.position="fixed",t.style.left="",t.style.top="",t.style.right="",t.style.bottom="",t.style.height="",t.style.width="";let a=t.getBoundingClientRect(),o=Number.isFinite(e.maxHeight)?Math.min(e.maxHeight,window.innerHeight):window.innerHeight,l=Math.min(o,(i=e.height)!=null?i:a.height),u=sy(e.location.y,l,e.verticalPos,s);u+l>window.innerHeight-8&&(e.alternateLocation?(u=sy(e.alternateLocation.y,l,e.verticalPos,s),u+l>window.innerHeight-8&&(u=void 0)):u=void 0),Number.isFinite(u)||(u=Math.max(8,window.innerHeight-8-l),8+l>window.innerHeight-8&&(t.style.bottom="8px")),l=Math.min(u+l,window.innerHeight-8)-u;let c=Number.isFinite(e.maxWidth)?Math.min(e.maxWidth,window.innerWidth):window.innerWidth,d=Math.min(c,(n=e.width)!=null?n:a.width),h=sy(e.location.x,d,e.horizontalPos,s);h+d>window.innerWidth-8&&(e.alternateLocation?(h=e0e(e.alternateLocation.x,d,e.verticalPos,s),h+d>window.innerWidth-8&&(h=void 0)):h=void 0),Number.isFinite(h)||(h=Math.max(8,window.innerWidth-8-d),8+d>window.innerWidth-8&&(t.style.right="8px")),d=Math.min(h+d,window.innerWidth-8)-h,s==="rtl"?t.style.right=`${Math.ceil(window.innerWidth-h-d).toString()}px`:t.style.left=`${Math.ceil(h).toString()}px`,t.style.top=`${Math.ceil(u).toString()}px`,l!==a.height&&(t.style.height=`${Math.ceil(l).toString()}px`),d!==a.width&&(t.style.width=`${Math.ceil(d).toString()}px`)}function r0e(t,e){return Math.hypot(e.x-t.x,e.y-t.y)}function qc(t){return"submenu"in t}function Ia(t){return"type"in t&&t.type==="command"||"onMenuSelect"in t||"id"in t}function sv(t){return"type"in t&&t.type==="divider"}function ay(t){return"type"in t&&t.type==="heading"}var ZC={};function oy(t){let e=ZC[t];if(!e){let r;switch(t){case"checkmark":r=`<span aria-hidden="true" class="ui-checkmark"><svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"></path></svg>
      </span>`;break;case"trailing-chevron":r='<span aria-hidden="true" class="ui-trailing-chevron"><svg focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path></svg></span>';break;case"mixedmark":r='<span aria-hidden="true" class="ui-mixedmark"><svg xmlns="http://www.w3.org/2000/svg" width="16" viewBox="0 0 512 512"><path fill="currentColor" d="M0 256c0-13.3 10.7-24 24-24H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24z"/></svg></span>'}if(r){let i=document.createElement("template");i.innerHTML=r,ZC[t]=i,e=i}}if(e){if("content"in e)return e.content.cloneNode(!0);let r=document.createElement("svg");return r.innerHTML=e.innerHTML,r}}var JC=80,oI=class{constructor(t,e){this._className="",this._element=null;var r;this.parentMenu=e,this._declaration=t,Object.freeze(this._declaration),qc(t)?(this.type="submenu",this.submenu=new lI(t.submenu,{parentMenu:e,submenuClass:t.submenuClass,columnCount:t.columnCount})):this.type=(r=t.type)!=null?r:"command",this.hasCheck=Ia(t)&&t.checked!==void 0}get rootMenu(){return this.parentMenu.rootMenu}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}dispose(){var t,e;(t=this._abortController)==null||t.abort(),this._abortController=void 0,(e=this._element)==null||e.remove(),this._element=null,this.submenu&&this.submenu.dispose(),this.submenu=void 0}get menuItem(){return this._declaration}get label(){var t;return(t=this._label)!=null?t:""}set label(t){t===void 0&&(t=""),t!==this._label&&(this._label=t,this.dirty=!0)}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.dirty=!0)}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.element&&(t?this.element.removeAttribute("aria-disabled"):this.element.setAttribute("aria-disabled","true")),this.dirty=!0}get checked(){return this._checked}set checked(t){this._checked=t,this.dirty=!0}get tooltip(){return this._tooltip}set tooltip(t){t!==this._tooltip&&(this._tooltip=t,this.dirty=!0)}get ariaLabel(){return this._ariaLabel}set ariaLabel(t){t!==this._ariaLabel&&(this._ariaLabel=t,this.dirty=!0)}get active(){var t,e;return(e=(t=this.element)==null?void 0:t.classList.contains("active"))!=null?e:!1}set active(t){this.element&&this.element.classList.toggle("active",t)}updateState(t){var e,r,i;let n=this._declaration;if(sv(n)){this.enabled=!1,this.checked=!1;return}ay(n)&&(this.enabled=!1,this.checked=!1,this.visible=!0),Ia(n)&&(this.checked=(e=Zl(n.checked,t))!=null?e:!1),(Ia(n)||qc(n))&&(this.enabled=(r=Zl(n.enabled,t))!=null?r:!0,this.visible=(i=Zl(n.visible,t))!=null?i:!0,this.visible&&this.enabled&&this.submenu&&(this.submenu.updateState(t),this.submenu.visible||(this.visible=!1))),(Ia(n)||ay(n)||qc(n))&&(this.label=Zl(n.label,t),this._className=Zl(n.class,t),this.tooltip=Zl(n.tooltip,t),this.ariaLabel=Zl(n.ariaLabel,t)),this._element&&this.updateElement()}set dirty(t){t&&this.parentMenu&&(this.parentMenu.dirty=!0)}updateElement(){var t;if(!this.visible||!this.element)return;let e=this.element;e.textContent="",e.className="",e.className=(t=this._className)!=null?t:"",this.enabled?e.removeAttribute("aria-disabled"):e.setAttribute("aria-disabled","true"),this.checked===!0?(e.setAttribute("aria-checked","true"),e.append(oy("checkmark"))):this.checked==="mixed"?(e.setAttribute("aria-checked","mixed"),e.append(oy("mixedmark"))):e.removeAttribute("aria-checked"),this.ariaLabel&&e.setAttribute("aria-label",this.ariaLabel);let r=document.createElement("span");if(r.className=this.parentMenu.hasCheck?"label indent":"label",this.type==="heading"&&r.classList.add("heading"),r.innerHTML=this.label,e.append(r),this._tooltip&&e.setAttribute("data-tooltip",this._tooltip),Ia(this._declaration)&&this._declaration.keyboardShortcut){let i=document.createElement("kbd");i.innerHTML=B6(this._declaration.keyboardShortcut),e.append(i)}this.type==="submenu"&&e.append(oy("trailing-chevron"))}get element(){if(this._element)return this._element;if(sv(this._declaration)){let r=document.createElement("li");return r.setAttribute("part","menu-divider"),r.setAttribute("role","divider"),this._element=r,r}let t=document.createElement("li");this._element=t,(Ia(this._declaration)||ay(this._declaration)||qc(this._declaration))&&t.setAttribute("part","menu-item"),t.setAttribute("tabindex","-1"),this.hasCheck?t.setAttribute("role","menuitemcheckbox"):t.setAttribute("role","menuitem"),this.type==="submenu"&&(t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded","false"));let e=this.abortController.signal;return t.addEventListener("pointerenter",this,{signal:e}),t.addEventListener("pointerleave",this,{signal:e}),t.addEventListener("pointerup",this,{signal:e}),t.addEventListener("click",this,{signal:e}),this._element}dispatchSelect(){var t;if(!Ia(this._declaration))return;let e=new CustomEvent("menu-select",{cancelable:!0,bubbles:!0,detail:{modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data}});this.parentMenu.dispatchEvent(e)&&typeof this._declaration.onMenuSelect=="function"&&this._declaration.onMenuSelect({target:(t=this.parentMenu.host)!=null?t:void 0,modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data})}handleEvent(t){var e;if(!(!this.visible||!this.enabled)){if(t.type==="click"){this.rootMenu.state==="modal"&&this.select(),t.stopPropagation(),t.preventDefault();return}if(t.type==="pointerenter"){let r=t;this.rootMenu.cancelDelayedOperation(),this.parentMenu.isSubmenuOpen&&(e=this.parentMenu.activeMenuItem)!=null&&e.movingTowardSubmenu(r)?this.rootMenu.scheduleOperation(()=>{this.parentMenu.activeMenuItem=this,this.openSubmenu()}):(this.parentMenu.activeMenuItem=this,this.openSubmenu({withDelay:!0}));return}if(t.type==="pointerleave"){this.rootMenu.activeSubmenu===this.parentMenu&&(this.parentMenu.activeMenuItem=null);return}if(t.type==="pointerup"){this.rootMenu.state!=="modal"&&this.select(),t.stopPropagation(),t.preventDefault();return}}}select(){if(this.rootMenu.cancelDelayedOperation(),this.type==="submenu"){this.openSubmenu();return}this.active=!1,setTimeout(()=>{this.active=!0,setTimeout(()=>{this.active=!1,this.rootMenu.hide(),this.dispatchSelect()},JC)},JC)}openSubmenu(t){var e;if(this.type!=="submenu"||!this.element)return;if((e=t==null?void 0:t.withDelay)!=null&&e){this.rootMenu.scheduleOperation(()=>this.openSubmenu());return}let r=this.element.getBoundingClientRect(),i=aI(this.element);this.submenu.show({container:this.rootMenu.element.parentNode,location:{x:YC(r,"trailing",i),y:r.top-4},alternateLocation:{x:YC(r,"leading",i),y:r.top-4}})}movingTowardSubmenu(t){if(!this.element||this.type!=="submenu")return!1;let e=this.rootMenu.lastMoveEvent;if(!e)return!1;let r=t.timeStamp-e.timeStamp;if(r>500)return!1;let i=t.clientX-e.clientX;if(i0e(i,e.clientY-t.clientY,r)<=.2)return!1;let n="right";if(this.submenu.element){let s=this.submenu.element.getBoundingClientRect(),a=this.element.getBoundingClientRect();s.left<a.left+a.width/2&&(n="left")}return n==="right"?i>0:i<0}};function i0e(t,e,r){return Math.hypot(t,e)/r}function Zl(t,e){return t===void 0||typeof t!="function"?t:(e!=null||(e={alt:!1,control:!1,shift:!1,meta:!1}),t(e))}var lI=class ah{constructor(e,r){this._element=null,this._activeMenuItem=null,this._dirty=!0;var i,n;this.parentMenu=(i=r==null?void 0:r.parentMenu)!=null?i:null,this._submenuClass=r==null?void 0:r.submenuClass,this.columnCount=(n=r==null?void 0:r.columnCount)!=null?n:1,this.isSubmenuOpen=!1,this.menuItems=e}get children(){return Object.freeze([...this._menuItems])}set menuItems(e){let r=this.parentMenu;this.dispose(),this.parentMenu=r,e=[...e],this._menuItems=e.map(i=>i.onCreate?i.onCreate(i,this):new oI(i,this)),this.hasCheck=void 0,this.dirty=!0}dispose(){var e;this.hide(),this._element&&this._element.remove(),this._abortController&&this._abortController.abort(),(e=this._menuItems)==null||e.forEach(r=>r.dispose()),this._menuItems=[],this._activeMenuItem=null,this.parentMenu=null}handleEvent(e){if(e.type==="wheel"&&this._element){let r=e;this._element.scrollBy(0,r.deltaY),e.stopPropagation()}}dispatchEvent(e){return this.rootMenu.dispatchEvent(e)}get host(){return this.rootMenu.host}get rootMenu(){return this.parentMenu.rootMenu}updateState(e){var r,i,n;this._menuItems.forEach(u=>u.updateState(e));let s=this.hasCheck;this.hasCheck=this._menuItems.some(u=>u.visible&&u.hasCheck),this.hasCheck!==s&&this._menuItems.forEach(u=>u.updateState(e));let a,o=0;for(let u of this._menuItems)u.type==="heading"?(a&&o===0&&(a.visible=!1),a=u,o=0):u.type==="divider"&&a?(a.visible=o>0,a=void 0,o=0):a&&u.visible&&(o+=1);a&&(a.visible=o>0);let l=!0;for(let u of this._menuItems)u.type==="divider"?(u.visible=!l,l=!0):u.visible&&(l=!1);(r=this.activeMenuItem)!=null&&r.visible||(this.activeMenuItem=null),!((i=this.activeMenuItem)!=null&&i.enabled)&&((n=this.activeMenuItem)==null?void 0:n.type)==="submenu"&&this._activeMenuItem.submenu.hide(),this._dirty=!1}get enabled(){return this.updateIfDirty(),this._menuItems.some(e=>e.type!=="divider"&&e.visible&&e.enabled)}get visible(){return this.updateIfDirty(),this._menuItems.some(e=>e.type!=="divider"&&e.visible)}set dirty(e){this._dirty!==e&&e&&this.parentMenu&&(this._dirty=!0,this.parentMenu.dirty=!0)}updateIfDirty(){this._dirty&&this.updateState(this.rootMenu.modifiers)}updateElement(){var e;if(this._element){this._element.textContent="";for(let{element:r,visible:i}of this._menuItems)r&&i&&this._element.append(r);(e=this._element.querySelector("li:first-of-type"))==null||e.setAttribute("tabindex","0")}}get element(){if(this._element)return this._element;let e=document.createElement("menu");e.setAttribute("role","menu"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-orientation","vertical"),e.setAttribute("part","ui-menu-container"),this._submenuClass&&e.classList.add(this._submenuClass),e.classList.add("ui-menu-container"),this._abortController||(this._abortController=new AbortController);let r=this._abortController.signal;return e.addEventListener("focus",this,{signal:r}),e.addEventListener("wheel",this,{passive:!0,signal:r}),this._element=e,this.updateElement(),e}get activeMenuItem(){return this._activeMenuItem}set activeMenuItem(e){var r,i,n,s;if(this.rootMenu.cancelDelayedOperation(),e!==this._activeMenuItem){if(this.activeMenuItem){let a=this.activeMenuItem;a.active=!1,(r=a.submenu)==null||r.hide()}if(!((i=e==null?void 0:e.visible)==null||i)){this._activeMenuItem=null;return}this._activeMenuItem=e,e&&(e.active=!0)}e?(n=e.element)==null||n.focus({preventScroll:!0}):(s=this._element)==null||s.focus({preventScroll:!0})}get firstMenuItem(){this.updateIfDirty();let e=0,r=!1,i=this._menuItems;for(;!r&&e<=i.length-1;){let n=i[e];r=n.type!=="divider"&&n.visible&&n.enabled,e+=1}return r?i[e-1]:null}get lastMenuItem(){this.updateIfDirty();let e=this._menuItems,r=e.length-1,i=!1;for(;!i&&r>=0;){let n=e[r];i=n.type!=="divider"&&n.visible&&n.enabled,r-=1}return i?e[r+1]:null}nextMenuItem(e){if(e===0)return this._activeMenuItem;if(!this._activeMenuItem)return e>0?this.firstMenuItem:this.lastMenuItem;if(!this.firstMenuItem||!this.lastMenuItem||!this._activeMenuItem)return null;this.updateIfDirty();let r=this._menuItems.indexOf(this.firstMenuItem),i=this._menuItems.indexOf(this.lastMenuItem),n=this._menuItems.indexOf(this._activeMenuItem),s=1;for(;n>=r&&n<=i;){n+=e>0?1:-1;let a=this._menuItems[n];if(!a)break;if(a.visible&&a.enabled){if(s===Math.abs(e))return this._menuItems[n];s+=1}}return e>0?this.lastMenuItem:this.firstMenuItem}getMenuItemColumn(e){this.updateIfDirty();let r=this._menuItems.filter(i=>i.visible&&i.enabled).indexOf(e);return r<0?-1:r%this.columnCount}static get collator(){return ah._collator||(ah._collator=new Intl.Collator(void 0,{usage:"search",sensitivity:"base"})),ah._collator}findMenuItem(e){var r;this.updateIfDirty();let i=this._menuItems.filter(o=>o.type!=="divider"&&o.visible&&o.enabled);if(i.length===0)return null;let n=Math.max(...i.map(o=>o.label.length))-e.length;if(n<0)return null;let s=null,a=0;for(;a<n&&!s;)s=(r=i.find(o=>ah.collator.compare(e,o.label.substring(a,e.length))===0))!=null?r:null,a++;return s}show(e){return!this.visible||!e.container?!1:(this.updateElement(),e.container.appendChild(this.element),M9()&&(this.element.popover="manual",this.element.showPopover()),e.location&&t0e(this.element,{location:e.location,alternateLocation:e.alternateLocation,verticalPos:"bottom",horizontalPos:"start"}),QC(),this.element.focus({preventScroll:!0}),ek(),this.parentMenu&&(this.parentMenu.openSubmenu=this),!0)}hide(){var e,r,i,n,s,a;this.openSubmenu=null,this.activeMenuItem=null,this.parentMenu&&(this.parentMenu.openSubmenu=null),!(!((e=this._element)!=null&&e.isConnected)||!this._element.parentElement)&&(M9()&&(r=this._element)!=null&&r.popover&&this._element.hidePopover(),QC(),(n=(i=this.parentMenu)==null?void 0:i.element)==null||n.focus(),(a=(s=this._element)==null?void 0:s.parentNode)==null||a.removeChild(this._element),ek())}set openSubmenu(e){var r,i,n,s;let a=e!==null;((r=this.activeMenuItem)==null?void 0:r.type)==="submenu"&&((i=this.activeMenuItem.element)==null||i.setAttribute("aria-expanded",a.toString())),(s=(n=this.activeMenuItem)==null?void 0:n.element)==null||s.classList.toggle("is-submenu-open",a),this.isSubmenuOpen=a}};function QC(){document.addEventListener("focusin",il,!0),document.addEventListener("focusout",il,!0),document.addEventListener("focus",il,!0),document.addEventListener("blur",il,!0)}function il(t){t.stopImmediatePropagation(),t.preventDefault()}function ek(){document.removeEventListener("focusin",il,!0),document.removeEventListener("focusout",il,!0),document.removeEventListener("focus",il,!0),document.removeEventListener("blur",il,!0)}var uI=class cI extends lI{constructor(e,r){var i;super(e),this.state="closed",this.typingBufferResetTimer=0,this.hysteresisTimer=0,this._updating=!1,this._host=(i=r==null?void 0:r.host)!=null?i:null,this.isDynamic=e.some(dI),this._modifiers={shift:!1,control:!1,alt:!1,meta:!1},this.typingBuffer="",this.state="closed"}get modifiers(){return this._modifiers}set modifiers(e){Sue(this._modifiers,e)||(this._modifiers=e,this.dirty=!0)}get activeSubmenu(){let e=this;for(;e.isSubmenuOpen;)e=e.activeMenuItem.submenu;return e}set dirty(e){this._updating||this._dirty!==e&&(this._dirty=!0,e&&setTimeout(()=>{this.updateState(this.modifiers),this.updateElement()}))}updateState(e){this._updating=!0,this.modifiers=e??this.modifiers,super.updateState(this.modifiers),this._updating=!1}handleKeyupEvent(e){this.isDynamic&&(this.modifiers=fu(e)),e.stopImmediatePropagation()}handleKeydownEvent(e){var r,i,n;if(e.key==="Tab"||e.key==="Escape"){this.hide();return}this.isDynamic&&(this.modifiers=fu(e));let s=!0,a=this.activeSubmenu,o=a.activeMenuItem;switch(e.key){case" ":case"Space":case"Return":case"Enter":o==null||o.select(fu(e));break;case"ArrowRight":if((o==null?void 0:o.type)==="submenu")o.select(fu(e)),this.activeSubmenu.activeMenuItem=this.activeSubmenu.firstMenuItem;else if(!o)a.activeMenuItem=a.firstMenuItem;else{let l=(r=a.getMenuItemColumn(o))!=null?r:-1;if(l>=0&&l<((i=a.columnCount)!=null?i:1)-1){let u=a.nextMenuItem(1);u&&(a.activeMenuItem=u)}}break;case"ArrowLeft":if(a===this.rootMenu)o||(a.activeMenuItem=a.firstMenuItem);else if((o&&(n=a.getMenuItemColumn(o))!=null?n:-1)<=0||!o){a.hide();let l=a.parentMenu.activeMenuItem;if(l){let{element:u}=l;u==null||u.focus(),u==null||u.classList.remove("is-submenu-open")}}else{let l=a.nextMenuItem(-1);l&&(a.activeMenuItem=l)}break;case"ArrowDown":a.activeMenuItem=a.nextMenuItem(a.columnCount);break;case"ArrowUp":a.activeMenuItem=a.nextMenuItem(-a.columnCount);break;case"Home":case"PageUp":a.activeMenuItem=a.firstMenuItem;break;case"End":case"PageDown":a.activeMenuItem=a.lastMenuItem;break;case"Backspace":if(this.typingBuffer&&(this.typingBuffer=this.typingBuffer.slice(0,-1),this.typingBuffer)){clearTimeout(this.typingBufferResetTimer);let l=a.findMenuItem(this.typingBuffer);l&&(a.activeMenuItem=l),this.typingBufferResetTimer=setTimeout(()=>{this.typingBuffer=""},500)}break;default:if(R2(e)){isFinite(this.typingBufferResetTimer)&&clearTimeout(this.typingBufferResetTimer),this.typingBuffer+=e.key;let l=a.findMenuItem(this.typingBuffer);l&&(a.activeMenuItem=l),this.typingBufferResetTimer=setTimeout(()=>{this.typingBuffer=""},500)}else s=!1}s&&(e.preventDefault(),e.stopPropagation())}handleEvent(e){if(e.type==="keydown")this.handleKeydownEvent(e);else if(e.type==="keyup")this.handleKeyupEvent(e);else if(e.type==="pointermove")this.lastMoveEvent=e;else if(e.type==="pointerup")Number.isFinite(this.rootMenu._openTimestamp)&&Date.now()-this.rootMenu._openTimestamp<120?this.state="modal":this.state==="modal"&&e.target===this.scrim&&this.hide();else if(e.type==="contextmenu"){e.preventDefault(),e.stopPropagation();return}super.handleEvent(e)}dispatchEvent(e){return this._host?this._host.dispatchEvent(e):!0}get host(){return this._host}get scrim(){return ws.element}connectScrim(e){let r=this.scrim;r.addEventListener("pointerup",this,!0),r.addEventListener("contextmenu",this),r.addEventListener("keydown",this),r.addEventListener("keyup",this),r.addEventListener("pointermove",this),ws.open({root:e,onDismiss:()=>this.hide()})}disconnectScrim(){let e=this.scrim;e.removeEventListener("pointerup",this,!0),e.removeEventListener("contextmenu",this),e.removeEventListener("keydown",this),e.removeEventListener("keyup",this),e.removeEventListener("pointermove",this),ws.state==="open"&&ws.scrim.close()}get rootMenu(){return this}show(e){return this._onDismiss=e==null?void 0:e.onDismiss,e!=null&&e.modifiers&&(this.modifiers=e.modifiers),this.updateState(),this.connectScrim(e==null?void 0:e.target),super.show(Z(q({},e),{container:this.scrim}))?(this._openTimestamp=Date.now(),this.state="open",!0):(this.disconnectScrim(),!1)}hide(){this.cancelDelayedOperation(),this.state!==void 0&&(this.state!=="closed"&&(this.activeMenuItem=null,ws.element.parentElement.focus(),super.hide(),this.state="closed",this.disconnectScrim()),this._onDismiss&&(this._onDismiss(),this._onDismiss=void 0))}scheduleOperation(e){this.cancelDelayedOperation();let r=cI.SUBMENU_DELAY;if(r<=0){e();return}this.hysteresisTimer=setTimeout(()=>{this.hysteresisTimer=0,e()},r)}cancelDelayedOperation(){this.hysteresisTimer&&(clearTimeout(this.hysteresisTimer),this.hysteresisTimer=0)}};uI.SUBMENU_DELAY=120;var tk=uI;function dI(t){return sv(t)?!1:typeof t.label=="function"||typeof t.ariaLabel=="function"||typeof t.tooltip=="function"||(Ia(t)||qc(t))&&(typeof t.enabled=="function"||typeof t.visible=="function")||Ia(t)&&typeof t.checked=="function"?!0:qc(t)?t.submenu.some(dI):!1}var wg=class{};wg.DELAY=300,wg.MAX_DISTANCE=10;function n0e(t){return new Promise((e,r)=>{let i=pg(t);i||e(!1);let n=i,s=setTimeout(()=>{a.abort(),e(r0e(n,i)<wg.MAX_DISTANCE)},wg.DELAY),a=new AbortController,o=a.signal;for(let l of["pointermove","pointerup","pointercancel"])window.addEventListener(l,u=>{if(u.type==="pointerup"||u.type==="pointercancel")clearTimeout(s),a.abort(),e(!1);else if(u.type==="pointermove"){let c=pg(u);c&&(n=c)}},{passive:!0,signal:o})})}async function rk(t,e,r){if(t.defaultPrevented)return!1;if(t.type==="contextmenu"){let i=t;if(r.show({target:e,location:pg(i),modifiers:fu(i)}))return t.preventDefault(),t.stopPropagation(),!0}if(t.type==="keydown"){let i=t;if(i.code==="ContextMenu"||i.code==="F10"&&i.shiftKey){let n=e==null?void 0:e.getBoundingClientRect();if(ik(e)&&n&&r.show({target:e,location:{x:Math.ceil(n.left+n.width/2),y:Math.ceil(n.top+n.height/2)},modifiers:fu(i)}))return t.preventDefault(),t.stopPropagation(),!0}}if(t.type==="pointerdown"&&t.pointerType!=="mouse"&&t.button===0){let i=t.target;for(;i&&e!==i;)i=i.parentNode;if(!i||!r.visible)return!1;let n=pg(t);if(await n0e(t))return r.state!=="closed"||!ik(e)?!1:(r.show({target:e,location:n}),!0)}return!1}function ik(t){return t.dispatchEvent(new Event("contextmenu",{cancelable:!0}))}var nk={acute:714,grave:715,dot:729,ddot:168,dddot:8411,ddddot:8412,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};fe(Object.keys(nk),"{body:auto}",{createAtom:t=>new D2(Z(q({},t),{body:Ne(t.args[0]),accentChar:nk[t.command.slice(1)]}))});fe(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:t=>{let e=CB(Ne(t.args[0]));return new D2(Z(q({},t),{body:Ne(t.args[0]),svgAccent:t.command.slice(1)+(e.length>5?"4":["1","1","2","2","3","3"][e.length])}))}});fe(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:t=>new D2(Z(q({},t),{body:Ne(t.args[0]),svgAccent:"overarc"}))});fe(["underarc","underparen"],"{body:auto}",{createAtom:t=>new us(Z(q({},t),{body:Ne(t.args[0]),svgBelow:"underarc"}))});fe("utilde","{body:auto}",{createAtom:t=>{let e=Ne(t.args[0]),r=CB(e),i="widetilde"+(r.length>5?"4":["1","1","2","2","3","3"][r.length]);return new us(Z(q({},t),{body:e,svgBelow:i,boxType:Ep(e)}))}});fe("^","{:string}",{createAtom:t=>{var e;return new ue(Z(q({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"â",e:"ê",i:"î",o:"ô",u:"û",A:"Â",E:"Ê",I:"Î",O:"Ô",U:"Û"}[t.args[0]])!=null?e:"^"}))}});fe("`","{:string}",{createAtom:t=>{var e;return new ue(Z(q({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"à",e:"è",i:"ì",o:"ò",u:"ù",A:"À",E:"È",I:"Ì",O:"Ò",U:"Ù"}[t.args[0]])!=null?e:"`"}))}});fe("'","{:string}",{createAtom:t=>{var e;return new ue(Z(q({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"á",e:"é",i:"í",o:"ó",u:"ú",A:"Á",E:"É",I:"Í",O:"Ó",U:"Ú"}[t.args[0]])!=null?e:"'"}))}});fe('"',"{:string}",{createAtom:t=>{var e,r;return new ue(Z(q({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(r={a:"ä",e:"ë",i:"ï",o:"ö",u:"ü",A:"Ä",E:"Ë",I:"Ë",O:"Ö",U:"Ü"}[t.args[0]])!=null?r:'"'+t.args[0]:'"'}))}});fe(".","{:string}",{createAtom:t=>{var e,r;return new ue(Z(q({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(r={a:"ȧ",e:"ė",i:"̇i",o:"ȯ",u:"̇u",A:"Ȧ",E:"Ė",I:"İ",O:"Ȯ",U:"̇U"}[t.args[0]])!=null?r:"."+t.args[0]:"."}))}});fe("=","{:string}",{createAtom:t=>{var e,r;return new ue(Z(q({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(r={a:"ā",e:"ē",i:"ī",o:"ō",u:"ū",A:"Ā",E:"Ē",I:"Ī",O:"Ō",U:"Ū"}[t.args[0]])!=null?r:"="+t.args[0]:"="}))}});fe("~","{:string}",{createAtom:t=>{var e;return new ue(Z(q({type:"mord"},t),{isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={n:"ñ",N:"Ñ",a:"ã",o:"õ",A:"Ã",O:"Õ"}[t.args[0]])!=null?e:"´"}))}});fe("c","{:string}",{createAtom:t=>{var e;return new ue(Z(q({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={c:"ç",C:"Ç"}[t.args[0]])!=null?e:""}))}});fe("enclose","{notation:string}[style:string]{body:auto}",{createAtom:t=>{var e,r;let i=t.args,n={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"none",svgStrokeStyle:void 0,borderStyle:void 0,style:(e=t.style)!=null?e:{}};if(i[1]){let a=i[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let o of a){let l=o.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(l)n.strokeWidth=l[1],n.strokeStyle=l[2],n.strokeColor=l[3];else{let u=o.match(/\s*([a-z]*)\s*=\s*"(.*)"/);u&&(u[1]==="mathbackground"?n.backgroundcolor=u[2]:u[1]==="mathcolor"?n.strokeColor=u[2]:u[1]==="padding"?n.padding=u[2]:u[1]==="shadow"&&(n.shadow=u[2]))}}n.strokeStyle==="dashed"?n.svgStrokeStyle="5,5":n.strokeStyle==="dotted"&&(n.svgStrokeStyle="1,5")}n.borderStyle=`${n.strokeWidth} ${n.strokeStyle} ${n.strokeColor}`;let s={};return((r=i[0])!=null?r:"").split(/[, ]/).filter(a=>a.length>0).forEach(a=>{s[a.toLowerCase()]=!0}),new Ap(t.command,Ne(i[2]),s,n)}});fe("cancel","{body:auto}",{createAtom:t=>{var e;return new Ap(t.command,Ne(t.args[0]),{updiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});fe("bcancel","{body:auto}",{createAtom:t=>{var e;return new Ap(t.command,Ne(t.args[0]),{downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});fe("xcancel","{body:auto}",{createAtom:t=>{var e;return new Ap(t.command,Ne(t.args[0]),{updiagonalstrike:!0,downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});fe(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overlinesegment","overgroup"],"{:auto}",{createAtom:t=>{var e;return new us(Z(q({},t),{body:Ne((e=t.args)==null?void 0:e[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgAbove:t.command.slice(1)}))}});fe("overbrace","{:auto}",{createAtom:t=>new us(Z(q({},t),{body:Ne(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgAbove:t.command.slice(1)}))});fe(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:t=>new us(Z(q({},t),{body:Ne(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgBelow:t.command.slice(1)}))});fe(["underbrace"],"{:auto}",{createAtom:t=>new us(Z(q({},t),{body:Ne(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgBelow:t.command.slice(1)}))});fe(["xrightarrow","longrightarrow","xleftarrow","longleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","longleftrightarrow","xLeftrightarrow","xrightleftharpoons","longrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xleftrightarrows","longleftrightarrows","xRightleftharpoons","longRightleftharpoons","xLeftrightharpoons","longLeftrightharpoons"],"[:auto]{:auto}",{createAtom:t=>{var e,r,i,n,s;return new us(Z(q({},t),{svgBody:t.command.slice(1),above:((r=Ne((e=t.args)==null?void 0:e[1]))==null?void 0:r.length)===0?void 0:Ne((i=t.args)==null?void 0:i[1]),below:(s=Ne((n=t.args)==null?void 0:n[0]))!=null?s:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"rel"}))},serialize:(t,e)=>t.command+(t.hasEmptyBranch("below")?"":`[${t.belowToLatex(e)}]`)+`{${t.aboveToLatex(e)}}${t.supsubToLatex(e)}`});fe(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","cotg","coth","ctg","cth","csc","cosec","deg","dim","exp","gcd","hom","inf","ker","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th","arcsec","arccsc","arsinh","arcosh","artanh","arcsech","arccsch"],"",{isFunction:!0,ifMode:"math",createAtom:t=>new Vu(t.command.slice(1),Z(q({},t),{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up"}))});fe(["liminf","limsup"],"",{ifMode:"math",createAtom:t=>new Vu({"\\liminf":"lim inf","\\limsup":"lim sup"}[t.command],Z(q({},t),{limits:"over-under",variant:"main"}))});fe(["lim","mod"],"",{ifMode:"math",createAtom:t=>new Vu(t.command.slice(1),Z(q({},t),{limits:"over-under",variant:"main"}))});fe(["det","max","min"],"",{ifMode:"math",isFunction:!0,createAtom:t=>new Vu(t.command.slice(1),Z(q({},t),{limits:"over-under",isFunction:!0,variant:"main"}))});fe("ang","{:math}",{ifMode:"math",createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[0])})),serialize:(t,e)=>`\\ang{${t.bodyToLatex(e)}}`,render:(t,e)=>{let r=t.createBox(e),i=r.caret;r.caret=void 0;let n=new Ae("°",{style:Z(q({},t.style),{variant:"normal",variantStyle:"up"})});return new Ae([r,n],{type:"inner",isSelected:t.isSelected,caret:i})}});fe("sqrt","[index:auto]{radicand:expression}",{ifMode:"math",createAtom:t=>new LP(Z(q({},t),{body:Ne(t.args[1]),index:t.args[0]?Ne(t.args[0]):void 0}))});fe(["frac","dfrac","tfrac","binom","dbinom","tbinom"],"{:expression}{:expression}",{ifMode:"math",createAtom:t=>{let e=q({},t),r=t.command,i=t.args;switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":e.hasBarLine=!0;break;case"\\atopfrac":e.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":e.hasBarLine=!1,e.leftDelim="(",e.rightDelim=")";break;case"\\cfrac":e.hasBarLine=!0,e.continuousFraction=!0;break}switch(r){case"\\dfrac":case"\\dbinom":e.mathstyleName="displaystyle";break;case"\\tfrac":case"\\tbinom":e.mathstyleName="textstyle";break}return new qu(i[0]?Ne(i[0]):[new fa],i[1]?Ne(i[1]):[new fa],e)},serialize:(t,e)=>{let r=t.aboveToLatex(e),i=t.belowToLatex(e);return/^[0-9]$/.test(r)&&/^[0-9]$/.test(i)?`${t.command}${r}${i}`:tr(t.command,r,i)}});fe(["cfrac"],"[:string]{:expression}{:expression}",{ifMode:"math",createAtom:t=>{let e=q({},t),r=t.args;return e.hasBarLine=!0,e.continuousFraction=!0,r[0]==="r"&&(e.align="right"),r[0]==="l"&&(e.align="left"),new qu(r[1]?Ne(r[1]):[new fa],r[2]?Ne(r[2]):[new fa],e)},serialize:(t,e)=>{let r=t.aboveToLatex(e),i=t.belowToLatex(e);return tr(t.command,r,i)}});fe(["brace","brack"],"",{infix:!0,createAtom:t=>new qu(Ne(t.args[0]),Ne(t.args[1]),Z(q({},t),{hasBarLine:!1,leftDelim:t.command==="\\brace"?"\\lbrace":"\\lbrack",rightDelim:t.command==="\\brace"?"\\rbrace":"\\rbrack"})),serialize:(t,e)=>kt([t.aboveToLatex(e),t.command,t.belowToLatex(e)])});fe(["over","atop","choose"],"",{infix:!0,createAtom:t=>{let e,r,i=t.args;return t.command==="\\choose"&&(e="(",r=")"),new qu(Ne(i[0]),Ne(i[1]),Z(q({},t),{hasBarLine:t.command==="\\over",leftDelim:e,rightDelim:r}))},serialize:(t,e)=>kt([t.aboveToLatex(e),t.command,t.belowToLatex(e)])});fe(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0,createAtom:t=>{var e,r;let i=t.args;return new qu(Ne(i[0]),Ne(i[1]),Z(q({},t),{leftDelim:(e=i[2])!=null?e:".",rightDelim:(r=i[3])!=null?r:".",hasBarLine:!1}))},serialize:(t,e)=>`${t.aboveToLatex(e)} ${t.command}${t.leftDelim}${t.rightDelim}${t.belowToLatex(e)}`});fe("pdiff","{numerator}{denominator}",{ifMode:"math",createAtom:t=>new qu(Ne(t.args[0]),Ne(t.args[1]),Z(q({},t),{hasBarLine:!0,numerPrefix:"∂",denomPrefix:"∂"})),serialize:(t,e)=>kt([t.aboveToLatex(e),t.command,t.belowToLatex(e)])});fe(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","intop"],"",{ifMode:"math",createAtom:t=>new A6({coprod:"∐",bigvee:"⋁",bigwedge:"⋀",biguplus:"⨄",bigcap:"⋂",bigcup:"⋃",intop:"∫",prod:"∏",sum:"∑",bigotimes:"⨂",bigoplus:"⨁",bigodot:"⨀",bigsqcup:"⨆",smallint:"∫"}[t.command.slice(1)],Z(q({},t),{limits:"auto",variant:"main"}))});fe("smallint","",{ifMode:"math",createAtom:t=>new Vu("∫",Z(q({},t),{limits:"adjacent",variant:"main"}))});var sk={int:"∫",iint:"∬",iiint:"∭",oint:"∮",oiint:"∯",oiiint:"∰",intclockwise:"∱",varointclockwise:"∲",ointctrclockwise:"∳",intctrclockwise:"⨑",sqcup:"⊔",sqcap:"⊓",uplus:"⊎",wr:"≀",amalg:"⨿",Cap:"⋒",Cup:"⋓",doublecap:"⋒",doublecup:"⋓"};fe(Object.keys(sk),"",{ifMode:"math",createAtom:t=>{let e=t.command,r=sk[e.slice(1)];return new A6(r,Z(q({},t),{limits:"adjacent",variant:{"⋒":"ams","⋓":"ams"}[r]}))}});fe(["Re","Im"],"",{ifMode:"math",createAtom:t=>new Vu({"\\Re":"ℜ","\\Im":"ℑ"}[t.command],Z(q({},t),{limits:"adjacent",isFunction:!0,variant:"fraktur"}))});fe("middle","{:delim}",{ifMode:"math",createAtom:t=>{var e;return new vP(Z(q({},t),{delim:(e=t.args[0])!=null?e:"|",size:1}))}});fe("the","{:value}",{createAtom:t=>new ue(Z(q({},t),{captureSelection:!0,verbatimLatex:null})),render:(t,e)=>{var r;let i=new Pt({parent:e},t.style),n="";t.isSelected&&(n+=" ML__selected");let s=i.evaluate(t.args[0]);return new Ae(((r=fi(s))!=null?r:"").split("").map(a=>new Ae(a,{type:"ord",classes:n,mode:t.mode,isSelected:t.isSelected,style:q({variant:"main"},t.style)})),{type:"lift",style:t.style,caret:t.caret,isSelected:t.isSelected,classes:n}).wrap(i)},serialize:t=>{var e;return`\\the${(e=fi(t.args[0]))!=null?e:"\\relax"}`}});fe("mathtip","{:auto}{:math}",{createAtom:t=>new M6(Z(q({},t),{body:Ne(t.args[0]),tooltip:Ne(t.args[1]),content:"math"})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\mathtip{${t.bodyToLatex(e)}}{${ue.serialize([t.tooltip],Z(q({},e),{defaultMode:"math"}))}}`});fe("texttip","{:auto}{:text}",{createAtom:t=>new M6(Z(q({},t),{body:Ne(t.args[0]),tooltip:Ne(t.args[1]),content:"text"})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\texttip{${t.bodyToLatex(e)}}{${ue.serialize([t.tooltip],Z(q({},e),{defaultMode:"text"}))}}`});fe("error","{:math}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[0])})),serialize:(t,e)=>`\\error{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__error"})});fe("ensuremath","{:math}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[0])})),serialize:(t,e)=>`${t.command}{${t.bodyToLatex(Z(q({},e),{defaultMode:"math"}))}}`});fe("color","{:value}",{applyStyle:(t,e,r,i)=>{var n,s;return Z(q({},t),{verbatimColor:(n=fi(r[0]))!=null?n:void 0,color:i.toColor((s=r[0])!=null?s:{string:"red"})})}});fe("textcolor","{:value}{content:auto*}",{applyStyle:(t,e,r,i)=>{var n,s;return Z(q({},t),{verbatimColor:(n=fi(r[0]))!=null?n:void 0,color:i.toColor((s=r[0])!=null?s:{string:"red"})})}});fe("boxed","{content:math}",{createAtom:t=>new vl(Z(q({},t),{body:Ne(t.args[0]),framecolor:{string:"black"}}))});fe("colorbox","{:value}{:text*}",{applyStyle:(t,e,r,i)=>{var n,s;return Z(q({},t),{verbatimBackgroundColor:(n=fi(r[0]))!=null?n:void 0,backgroundColor:i.toBackgroundColor((s=r[0])!=null?s:{string:"yellow"})})}});fe("fcolorbox","{frame-color:value}{background-color:value}{content:text}",{applyMode:"text",createAtom:t=>{var e,r;return new vl(Z(q({},t),{body:Ne(t.args[2]),framecolor:(e=t.args[0])!=null?e:{string:"blue"},backgroundcolor:(r=t.args[1])!=null?r:{string:"yellow"}}))},serialize:(t,e)=>{var r,i;return e.skipStyles?t.bodyToLatex(Z(q({},e),{defaultMode:"text"})):tr(t.command,(r=fi(t.framecolor))!=null?r:"",(i=fi(t.backgroundcolor))!=null?i:"",t.bodyToLatex(Z(q({},e),{defaultMode:"text"})))}});fe("bbox","[:bbox]{body:auto}",{createAtom:t=>{var e;let r=t.args[0],i=Ne(t.args[1]);return r?new vl(Z(q({},t),{body:i,padding:r.padding,border:r.border,backgroundcolor:(e=r.backgroundcolor)!=null?e:void 0})):new vl(Z(q({},t),{body:i}))},serialize:(t,e)=>{var r,i;if(e.skipStyles)return t.bodyToLatex(e);let n=t.command;if(Number.isFinite(t.padding)||t.border!==void 0||t.backgroundcolor!==void 0){let s=[];t.padding&&s.push((r=fi(t.padding))!=null?r:""),t.border&&s.push(`border: ${t.border}`),t.backgroundcolor&&s.push((i=fi(t.backgroundcolor))!=null?i:""),n+=`[${s.join(",")}]`}return tr(n,t.bodyToLatex(e))}});fe(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[0])})),render:(t,e)=>{let r=new Pt({parent:e,mathstyle:t.command.slice(1)},t.style),i=ue.createBox(r,t.body,{type:"lift"});return t.caret&&(i.caret=t.caret),t.bind(e,i)},serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`{${kt([t.command,t.bodyToLatex(e)])}}`});fe(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{applyStyle:(t,e)=>Z(q({},t),{fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[e]})});fe("fontseries","{:string}",{ifMode:"text",applyStyle:(t,e,r)=>{var i;return Z(q({},t),{fontSeries:(i=r[0])!=null?i:"auto"})}});fe("fontshape","{:string}",{ifMode:"text",applyStyle:(t,e,r)=>{var i;return Z(q({},t),{fontShape:(i=r[0])!=null?i:"auto"})}});fe("fontfamily","{:string}",{ifMode:"text",applyStyle:(t,e,r)=>{var i;return Z(q({},t),{fontFamily:(i=r[0])!=null?i:"roman"})}});fe("selectfont","",{ifMode:"text",applyStyle:t=>t});fe("bf","{:rest*}",{applyStyle:t=>Z(q({},t),{fontSeries:"b",fontShape:"n",fontFamily:"roman"})});fe(["boldsymbol","bm","bold"],"{:math*}",{applyMode:"math",applyStyle:t=>Z(q({},t),{variantStyle:"bold"})});fe("bfseries","{:rest*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontSeries:"b"})});fe("mdseries","{:rest*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontSeries:"m"})});fe("upshape","{:rest*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontShape:"n"})});fe("slshape","{:rest*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontShape:"sl"})});fe("scshape","{:rest*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontShape:"sc"})});fe("textbf","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontSeries:"b"})});fe("textmd","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontSeries:"m"})});fe("textup","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontShape:"n"})});fe("textnormal","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontShape:"n",fontSeries:"m"})});fe("textsl","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontShape:"sl"})});fe("textit","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontShape:"it"})});fe("textsc","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontShape:"sc"})});fe("textrm","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontFamily:"roman"})});fe("textsf","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontFamily:"sans-serif"})});fe("texttt","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontFamily:"monospace"})});fe("mathbf","{:math*}",{applyMode:"math",applyStyle:t=>Z(q({},t),{variant:"normal",variantStyle:"bold"})});fe("mathit","{:math*}",{applyMode:"math",applyStyle:t=>Z(q({},t),{variant:"main",variantStyle:"italic"})});fe("mathnormal","{:math*}",{applyMode:"math",applyStyle:t=>Z(q({},t),{variant:"normal",variantStyle:"italic"})});fe("mathbfit","{:math*}",{applyMode:"math",applyStyle:t=>Z(q({},t),{variant:"main",variantStyle:"bolditalic"})});fe("mathrm","{:math*}",{applyMode:"math",applyStyle:t=>Z(q({},t),{variant:"normal",variantStyle:"up"})});fe("mathsf","{:math*}",{applyMode:"math",applyStyle:t=>Z(q({},t),{variant:"sans-serif",variantStyle:"up"})});fe("mathtt","{:math*}",{applyMode:"math",applyStyle:t=>Z(q({},t),{variant:"monospace",variantStyle:"up"})});fe("it","{:rest*}",{applyStyle:t=>Z(q({},t),{fontSeries:"m",fontShape:"it",fontFamily:"roman",variantStyle:"italic"})});fe("rmfamily","{:rest*}",{applyStyle:t=>Z(q({},t),{fontFamily:"roman"})});fe("sffamily","{:rest*}",{applyStyle:t=>Z(q({},t),{fontFamily:"sans-serif"})});fe("ttfamily","{:rest*}",{applyStyle:t=>Z(q({},t),{fontFamily:"monospace"})});fe(["Bbb","mathbb"],"{:math*}",{applyStyle:t=>Z(q({},t),{variant:"double-struck",variantStyle:I2(t.variantStyle)})});fe(["frak","mathfrak"],"{:math*}",{applyStyle:t=>Z(q({},t),{variant:"fraktur",variantStyle:I2(t.variantStyle)})});fe("mathcal","{:math*}",{applyStyle:t=>Z(q({},t),{variant:"calligraphic",variantStyle:I2(t.variantStyle)})});fe("mathscr","{:math*}",{applyStyle:t=>Z(q({},t),{variant:"script",variantStyle:I2(t.variantStyle)})});fe("mbox","{:text}",{ifMode:"math",createAtom:t=>new ue(Z(q({},t),{type:"mord",body:Ne(t.args[0]),mode:"math"})),serialize:(t,e)=>tr("\\mbox",t.bodyToLatex(Z(q({},e),{defaultMode:"text"})))});fe("text","{:text}",{ifMode:"math",applyMode:"text"});fe(["class","htmlClass"],"{name:string}{content:auto}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[1])})),serialize:(t,e)=>!t.args[0]||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`,render:(t,e)=>{var r;return t.createBox(e,{classes:(r=t.args[0])!=null?r:""})}});fe(["cssId","htmlId"],"{id:string}{content:auto}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[1])})),serialize:(t,e)=>{var r;return!((r=t.args)!=null&&r[0])||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var r;let i=t.createBox(e);return i.cssId=(r=t.args[0])!=null?r:"",i}});fe("htmlData","{data:string}{content:auto}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[1])})),serialize:(t,e)=>{var r;return!((r=t.args)!=null&&r[0])||e.skipStyles?t.bodyToLatex(e):`\\htmlData{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var r;let i=t.createBox(e);return i.htmlData=(r=t.args[0])!=null?r:"",i}});fe(["style","htmlStyle"],"{data:string}{content:auto}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[1])})),serialize:(t,e)=>{var r;return!((r=t.args)!=null&&r[0])||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var r;let i=t.createBox(e);return i.htmlStyle=(r=t.args[0])!=null?r:"",i}});fe("href","{url:string}{content:auto}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[1])})),render:(t,e)=>{var r;let i=t.createBox(e),n=(r=t.args[0])!=null?r:"";return n&&(i.htmlData=`href=${n}`),i}});fe("em","{:rest}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[0])})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`{\\em ${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__emph",boxType:"lift"})});fe("emph","{:auto}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[1])})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\emph{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__emph",boxType:"lift"})});var ak={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};fe(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",{createAtom:t=>{var e;return new xP(Z(q({},t),{delim:(e=t.args[0])!=null?e:".",size:ak[t.command].size,delimType:ak[t.command].mclass}))}});fe(["hspace","hspace*"],"{width:value}",{createAtom:t=>{var e;return new Mp(Z(q({},t),{width:(e=t.args[0])!=null?e:{dimension:0}}))}});fe(["mkern","kern","mskip","hskip","mspace"],"{width:value}",{createAtom:t=>{var e;return new Mp(Z(q({},t),{width:(e=t.args[0])!=null?e:{dimension:0}}))}});fe("mathchoice","{:math}{:math}{:math}{:math}",{createAtom:t=>new ue(t),render:(t,e)=>{let r=0,i=e.mathstyle.id;(i===M2||i===ou)&&(r=1),(i===i0||i===Tn)&&(r=2),(i===pu||i===Mi)&&(r=3);let n=Ne(t.args[r]);return ue.createBox(e,n)},serialize:(t,e)=>`\\mathchoice{${ue.serialize(t.args[0],e)}}{${ue.serialize(t.args[1],e)}}{${ue.serialize(t.args[2],e)}}{${ue.serialize(t.args[3],e)}}`});fe("mathop","{:auto}",{createAtom:t=>new ue(Z(q({},t),{type:"mop",body:Ne(t.args[0]),limits:"over-under",isFunction:!0,captureSelection:!0})),render:(t,e)=>{var r;let i=ue.createBox(e,t.body);if(t.superscript||t.subscript){let n=(r=t.subsupPlacement)!=null?r:"auto";i=n==="over-under"||n==="auto"&&e.isDisplayStyle?t.attachLimits(e,{base:i}):t.attachSupsub(e,{base:i})}return t.caret&&(i.caret=t.caret),new Ae(t.bind(e,i),{type:"op",isSelected:t.isSelected,classes:"ML__op-group"})},serialize:(t,e)=>{let r=[tr(t.command,t.bodyToLatex(e))];return t.explicitSubsupPlacement&&(t.subsupPlacement==="over-under"&&r.push("\\limits"),t.subsupPlacement==="adjacent"&&r.push("\\nolimits"),t.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(t.supsubToLatex(e)),kt(r)}});fe(["mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",{createAtom:t=>new ue(Z(q({},t),{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[t.command],body:Ne(t.args[0])}))});fe(["operatorname","operatorname*"],"{operator:math}",{createAtom:t=>{let e=Ne(t.args[0]).map(r=>{var i;return r.type!=="first"&&(r.type="mord",r.value=(i={"∗":"*","−":"-"}[r.value])!=null?i:r.value,r.isFunction=!1,!r.style.variant&&!r.style.variantStyle&&(r.style.variant="main",r.style.variantStyle="up")),r});return new ue(Z(q({},t),{type:"mop",body:e,isFunction:!0,limits:t.command==="\\operatorname"?"adjacent":"over-under"}))},render:(t,e)=>{var r;let i=ue.createBox(e,t.body);if(t.superscript||t.subscript){let n=(r=t.subsupPlacement)!=null?r:"auto";i=n==="over-under"||n==="auto"&&e.isDisplayStyle?t.attachLimits(e,{base:i}):t.attachSupsub(e,{base:i})}return t.caret&&(i.caret=t.caret),new Ae(t.bind(e,i),{type:"op",isSelected:t.isSelected,classes:"ML__op-group"})},serialize:(t,e)=>{let r=[tr(t.command,t.bodyToLatex(e))];return t.explicitSubsupPlacement&&(t.subsupPlacement==="over-under"&&r.push("\\limits"),t.subsupPlacement==="adjacent"&&r.push("\\nolimits"),t.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(t.supsubToLatex(e)),kt(r)}});fe(["char","unicode"],"{charcode:value}",{createAtom:t=>new ue(Z(q({},t),{type:t.mode==="text"?"text":"mord"})),serialize:t=>{var e;return`${t.command}${fi((e=t.args[0])!=null?e:{number:10067,base:"hexadecimal"})}`},render:(t,e)=>{let r=e.evaluate(t.args[0]);return(!r||!("number"in r))&&(r={number:10067,base:"hexadecimal"}),t.value=String.fromCodePoint(r.number),t.createBox(e)}});fe("rule","[raise:value]{width:value}{thickness:value}",{createAtom:t=>new ue(t),render:(t,e)=>{var r,i,n;let s=new Pt({parent:e,mathstyle:"textstyle"},t.style),a=s.toEm((r=t.args[0])!=null?r:{dimension:0}),o=s.toEm((i=t.args[1])!=null?i:{dimension:10}),l=s.toEm((n=t.args[2])!=null?n:{dimension:10}),u=new Ae(null,{classes:"ML__rule",type:"ord"});return u.width=o,u.height=l+a,u.depth=-a,u.setStyle("border-right-width",o,"em"),u.setStyle("border-top-width",l,"em"),u.setStyle("border-color",t.style.color),u.setStyle("vertical-align",a,"em"),t.isSelected&&u.setStyle("opacity","50%"),t.bind(s,u),t.caret&&(u.caret=t.caret),u.wrap(e)},serialize:t=>`\\rule${t.args[0]?`[${fi(t.args[0])}]`:""}{${fi(t.args[1])}}{${fi(t.args[2])}}`});fe(["overline","underline"],"{:auto}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[0])})),render:(t,e)=>{let r=t.command.substring(1),i=new Pt({parent:e,mathstyle:"cramp"},t.style),n=ue.createBox(i,t.body);if(!n)return null;let s=i.metrics.defaultRuleThickness/i.scalingFactor,a=new Ae(null,{classes:r+"-line"});a.height=s,a.maxFontSize=s*1.125*i.scalingFactor;let o;return r==="overline"?o=new zr({shift:0,children:[{box:n},3*s,{box:a},s]}):o=new zr({top:n.height,children:[s,{box:a},3*s,{box:n}]}),t.caret&&(o.caret=t.caret),new Ae(o,{classes:r,type:"ignore"})}});fe("overset","{:auto}{base:auto}",{createAtom:t=>{let e=Ne(t.args[1]);return new us(Z(q({},t),{above:Ne(t.args[0]),body:e,skipBoundary:!1,boxType:Ep(e)}))},serialize:(t,e)=>tr(t.command,t.aboveToLatex(e),t.bodyToLatex(e))});fe("underset","{:auto}{base:auto}",{createAtom:t=>{let e=Ne(t.args[1]);return new us(Z(q({},t),{below:Ne(t.args[0]),body:e,skipBoundary:!1,boxType:Ep(e)}))},serialize:(t,e)=>tr(t.command,t.belowToLatex(e),t.bodyToLatex(e))});fe("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:t=>{let e=Ne(t.args[2]);return new us(Z(q({},t),{above:Ne(t.args[0]),below:Ne(t.args[1]),body:e,skipBoundary:!1,boxType:Ep(e)}))},serialize:(t,e)=>tr(t.command,t.belowToLatex(e),t.bodyToLatex(e))});fe(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:t=>new us(Z(q({},t),{body:Ne(t.args[2]),above:Ne(t.args[1]),below:Ne(t.args[0]),skipBoundary:!1,boxType:t.command==="\\stackrel"?"rel":"bin"})),serialize:(t,e)=>tr(t.command,t.aboveToLatex(e),t.bodyToLatex(e))});fe("smash","[:string]{:auto}",{createAtom:t=>{var e,r,i,n;return new J0(Z(q({},t),{body:Ne(t.args[1]),smashHeight:(r=(e=t.args[0])==null?void 0:e.includes("t"))!=null?r:!0,smashDepth:(n=(i=t.args[0])==null?void 0:i.includes("b"))!=null?n:!0}))}});fe("vphantom","{:auto}",{createAtom:t=>new J0(Z(q({},t),{body:Ne(t.args[0]),isInvisible:!0,smashWidth:!0}))});fe("hphantom","{:auto}",{createAtom:t=>new J0(Z(q({},t),{body:Ne(t.args[0]),isInvisible:!0,smashHeight:!0,smashDepth:!0}))});fe("phantom","{:auto}",{createAtom:t=>new J0(Z(q({},t),{body:Ne(t.args[0]),isInvisible:!0}))});fe("mathstrut","",{createAtom:t=>new J0(Z(q({},t),{body:[new ue({value:"("})],isInvisible:!0}))});fe("not","{:math}",{createAtom:t=>{let e=Ne(t.args[0]);return e.length===0?new ue(Z(q({},t),{type:"mrel",value:""})):new ue(Z(q({},t),{body:[new ju(Z(q({},t),{body:"",align:"right"})),...e],captureSelection:!0}))},serialize:(t,e)=>{let r=t.args[0],i=r&&typeof r=="object"&&"group"in r;return t.value!==""?i?`\\not{${ue.serialize(r.group,e)}}`:`\\not${ue.serialize(r,e)}`:i?"\\not{}":"\\not"},render:(t,e)=>{if(t.value)return t.createBox(e);let r=t.args[0]&&typeof t.args[0]=="object"&&"group"in t.args[0]?"ord":Ep(Ne(t.args[0])),i=ue.createBox(e,t.body,{type:r});return t.caret&&(i.caret=t.caret),t.bind(e,i)}});fe(["ne","neq"],"",{createAtom:t=>new ue(Z(q({},t),{type:"mrel",body:[new ju(Z(q({},t),{body:"",align:"right",boxType:"rel"})),new ue(Z(q({},t),{value:"="}))],captureSelection:!0})),serialize:t=>t.command});fe("rlap","{:auto}",{createAtom:t=>new ju(Z(q({},t),{body:Ne(t.args[0]),align:"right"}))});fe("llap","{:auto}",{createAtom:t=>new ju(Z(q({},t),{body:Ne(t.args[0]),align:"left"}))});fe("mathrlap","{:math}",{createAtom:t=>new ju(Z(q({},t),{body:Ne(t.args[0]),align:"right"}))});fe("mathllap","{:math}",{createAtom:t=>new ju(Z(q({},t),{body:Ne(t.args[0]),align:"left"}))});fe("raisebox","{:value}{:text}",{createAtom:t=>{var e;return new vl(Z(q({},t),{body:Ne(t.args[1]),padding:{dimension:0},offset:(e=t.args[0])!=null?e:{dimension:0}}))},serialize:(t,e)=>{var r;return tr("\\raisebox",(r=fi(t.offset))!=null?r:"0pt",t.bodyToLatex(e))}});fe("raise","{:value}{:auto}",{createAtom:t=>{var e;return new vl(Z(q({},t),{body:Ne(t.args[1]),padding:{dimension:0},offset:(e=t.args[0])!=null?e:{dimension:0}}))},serialize:(t,e)=>{var r;return tr("\\raise",(r=fi(t.offset))!=null?r:"0pt",t.bodyToLatex(e))}});fe("lower","{:value}{:auto}",{createAtom:t=>{var e;return new vl(Z(q({},t),{body:Ne(t.args[1]),padding:{dimension:0},offset:(e=js(t.args[0],-1))!=null?e:{dimension:0}}))},serialize:(t,e)=>{var r,i;return tr("\\lower",(i=fi(js((r=t.offset)!=null?r:{dimension:0},-1)))!=null?i:"0pt",t.bodyToLatex(e))}});oi("0123456789/@.?!");SB(65,90);SB(97,122);oi([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],["\\top",8868],["\\bot",8869]]);oi([["\\#",35],["\\&",38],["\\parallelogram",9649],["\\spadesuit",9824],["\\heartsuit",9825],["\\diamondsuit",9826],["\\clubsuit",9827],["\\flat",9837],["\\natural",9838],["\\sharp",9839]]);oi([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\pounds",163],["\\euro",8364]]);oi([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel");oi([["\\mapsfrom",8612,"mrel"],["\\Mapsfrom",10502,"mrel"],["\\MapsTo",10503,"mrel"],["\\Yup",8516,"mord"],["\\lightning",8623,"mrel"],["\\leftarrowtriangle",8701,"mrel"],["\\rightarrowtriangle",8702,"mrel"],["\\leftrightarrowtriangle",8703,"mrel"],["\\boxdot",8865,"mbin"],["\\bigtriangleup",9651,"mbin"],["\\bigtriangledown",9661,"mbin"],["\\boxbar",9707,"mbin"],["\\Lbag",10181,"mopen"],["\\Rbag",10182,"mclose"],["\\llbracket",10214,"mopen"],["\\rrbracket",10215,"mclose"],["\\longmapsfrom",10235,"mrel"],["\\Longmapsfrom",10237,"mrel"],["\\Longmapsto",10238,"mrel"],["\\boxslash",10692,"mbin"],["\\boxbslash",10693,"mbin"],["\\boxast",10694,"mbin"],["\\boxcircle",10695,"mbin"],["\\boxbox",10696,"mbin"],["\\fatsemi",10783,"mop"],["\\leftslice",10918,"mrel"],["\\rightslice",10919,"mrel"],["\\interleave",10996,"mbin"],["\\biginterleave",11004,"mop"],["\\sslash",11005,"mbin"],["\\talloblong",11006,"mbin"]]);oi([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]);oi([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\twoheadrightarrowtail",10518],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nleftarrow",8602],["\\nrightarrow",8603],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\nvrightarrow",8696],["\\nvtwoheadrightarrow",10496],["\\nvrightarrowtail",10516],["\\nvtwoheadrightarrowtail",10519],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams");oi([["+",43],["-",8722],["−",8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin");oi([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams");oi([["\\surd",8730],["\\S",167],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",937],["\\digamma",989,"mord","ams"],["\\varkappa",1008,"mord","ams"],["\\coppa",985,"mord","ams"],["\\koppa",985,"mord","ams"],["\\Coppa",984,"mord","ams"],["\\Koppa",984,"mord","ams"],["\\sampi",993,"mord","ams"],["\\Sampi",992,"mord","ams"],["\\emptyset",8709]]);oi([["=",61],["<",60],["\\lt",60],[">",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\coloneqq",8788],["\\colonequals",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",10178],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel");oi([["\\lnot",172],["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams");oi([["\\wp",8472],["\\aleph",8501]]);oi([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams");oi([["\\ ",160],["~",160]],"space");fe(["!",",",":",";",">","enskip","enspace","quad","qquad"],"",{createAtom:t=>new Mp(t)});fe("space","",{createAtom:t=>new Mp(t)});oi([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct");oi([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner");oi([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);var hI="<mo>&#x2061;</mo>",Sg="<mo>&#8290;</mo>";function f1(t){return t.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Xt(t,e){return!t||!e.generateID?"":` extid="${t}"`}function s0e(t,e,r){var i,n,s,a,o,l,u,c;let d=!1;e=e??t.atoms.length;let h="",f="",g=t.atoms[t.index],y=(i=g.style)==null?void 0:i.variant,C=(n=g.style)==null?void 0:n.variantStyle,S="";if(g.value&&(y||C)){let T=(s=D5(g.value,y,C))!=null?s:g.value;if(T!==g.value)return t.index+=1,h=`<mi${Xt(g.id,r)}>${T}</mi>`,ia(h,t,r)||(t.mathML+=h,t.lastType="mi"),!0;S=(a={upnormal:"normal",boldnormal:"bold",italicmain:"italic",bolditalicmain:"bold-italic","updouble-struck":"double-struck","double-struck":"double-struck",boldfraktur:"bold-fraktur",calligraphic:"script",upcalligraphic:"script",script:"script",boldscript:"bold-script",boldcalligraphic:"bold-script",fraktur:"fraktur","upsans-serif":"sans-serif","boldsans-serif":"bold-sans-serif","italicsans-serif":"sans-serif-italic","bolditalicsans-serif":"sans-serif-bold-italic",monospace:"monospace"}[(C??"")+(y??"")])!=null?a:"",S&&(S=` mathvariant="${S}"`)}let A={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"ℏ","\\cdotp":"⋅","\\ldots":"…","\\cdots":"⋯","\\ddots":"⋱","\\vdots":"⋮","\\ldotp":"."};if(g.command==="!")return t.index+=1,h="<mo>!</mo>",ia(h,t,r)||(t.mathML+=h,t.lastType="mo"),!0;if(A[g.command]){t.index+=1;let T=`<mi${Xt(g.id,r)}${S}>${A[g.command]}</mi>`;return(t.lastType==="mi"||t.lastType==="mn"||t.lastType==="mtext"||t.lastType==="fence")&&(T=Sg+T),ia(T,t,r)||(t.mathML+=T,t.lastType="mi"),!0}if(g.command==="\\operatorname")f=a0(g.body),t.index+=1;else if(y||C)for(;t.index<e&&(g.type==="mord"||g.type==="macro")&&!g.isDigit()&&y===((l=(o=g.style)==null?void 0:o.variant)!=null?l:"")&&C===((c=(u=g.style)==null?void 0:u.variantStyle)!=null?c:"");)f+=a0([g]),t.index+=1,g=t.atoms[t.index];else(g.type==="mord"||g.type==="macro")&&!g.isDigit()&&(f+=a0([g]),t.index+=1);if(f.length>0){d=!0,h=`<mi${S}>${f}</mi>`;let T=t.lastType;h.endsWith(">f</mi>")||h.endsWith(">g</mi>")?(h+=hI,t.lastType="applyfunction"):t.lastType=/^<mo>(.*)<\/mo>$/.test(h)?"mo":"mi",ia(h,t,r)||((T==="mi"||T==="mn"||T==="mtext"||T==="fence")&&(h=Sg+h),t.mathML+=h)}return d}function pI(t){return t.index<t.atoms.length&&t.atoms[t.index].superscript&&t.atoms[t.index].type==="subsup"}function fI(t){let e=-1,r=t.index,i=!1,n=!1;for(;r<t.atoms.length&&!i&&!n;){let s=t.atoms[r];i=!s.isDigit(),n=!i&&s.superscript!==void 0,r++}return n&&(e=r-1),e}function ia(t,e,r){var i;let n=e.atoms[e.index-1];if(!n)return!1;if(!n.superscript&&!n.subscript)if(((i=e.atoms[e.index])==null?void 0:i.type)==="subsup")n=e.atoms[e.index],e.index+=1;else return!1;let s=e.lastType;e.lastType="";let a=zt(n.superscript,r);e.lastType="";let o=zt(n.subscript,r);if(e.lastType=s,!a&&!o)return!1;let l="";return a&&o?l=`<msubsup>${t}${o}${a}</msubsup>`:a?l=`<msup>${t}${a}</msup>`:o&&(l=`<msub>${t}${o}</msub>`),e.mathML+=l,e.lastType="",!0}function a0e(t,e,r){e=e??t.atoms.length;let i=t.index,n="",s=fI(t);for(s>=0&&s<e&&(e=s);t.index<e&&t.atoms[t.index].mode==="text";)n+=t.atoms[t.index].value?t.atoms[t.index].value:" ",t.index+=1;return n.length>0?(n=`<mtext ${Xt(t.atoms[i].id,r)}>${n}</mtext>`,s<0&&pI(t)&&(s=t.index,t.index+=1),ia(n,t,r)||(t.mathML+=n,t.lastType="mtext"),!0):!1}function o0e(t,e,r){e=e??t.atoms.length;let i=t.index,n="",s=fI(t);for(s>=0&&s<e&&(e=s);t.index<e&&t.atoms[t.index].isDigit();)n+=t.atoms[t.index].asDigit(),t.index+=1;return n.length<=0?!1:(n="<mn"+Xt(t.atoms[i].id,r)+">"+n+"</mn>",s<0&&pI(t)&&(s=t.index,t.index+=1),ia(n,t,r)||(t.mathML+=n,t.lastType="mn"),!0)}function l0e(t,e,r){let i=!1;e=e??t.atoms.length;let n="",s="";if(t.index<e&&t.atoms[t.index].type==="mopen"){let a=!1,o=0,l=t.index,u=-1,c=l+1;for(;c<e&&!a;)t.atoms[c].type==="mopen"?o+=1:t.atoms[c].type==="mclose"&&(o-=1),o===-1&&(a=!0,u=c),c+=1;a&&(n="<mrow>",n+=Au(t.atoms[l],r),n+=zt(t.atoms,r,l+1,u),n+=Au(t.atoms[u],r),n+="</mrow>",t.index=u+1,(t.lastType==="mi"||t.lastType==="mn"||t.lastType==="mfrac"||t.lastType==="fence")&&(t.mathML+=Sg),ia(n,t,r)&&(i=!0,t.lastType="",n=""),s="fence")}return n.length>0&&(i=!0,t.mathML+=n,t.lastType=s),i}function u0e(t,e,r){let i=!1;e=e??t.atoms.length;let n="",s="",a=t.atoms[t.index];if(!a)return!1;let o={"\\ne":"&ne;","\\neq":"&ne;","\\pm":"&#177;","\\times":"&#215;","\\colon":":","\\vert":"|","\\Vert":"∥","\\mid":"∣","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lbrack":"[","\\rbrack":"]","\\lparen":"(","\\rparen":")","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉"};if(o[a.command]){t.index+=1;let l=`<mo${Xt(a.id,r)}>${o[a.command]}</mo>`;return ia(l,t,r)||(t.mathML+=l,t.lastType="mo"),!0}if(t.index<e&&(a.type==="mbin"||a.type==="mrel"))n+=av(t.atoms[t.index],r),t.index+=1,s="mo";else if(t.index<e&&(a.type==="mop"||a.type==="operator"||a.type==="extensible-symbol")){if(a.subsupPlacement==="over-under"&&(a.superscript||a.subscript)){let l=Au(a,r);return a.superscript&&a.subscript?(n+="<munderover>"+l,n+=zt(a.subscript,r),n+=zt(a.superscript,r),n+="</munderover>"):a.superscript?(n+="<mover>"+l,n+=zt(a.superscript,r),n+="</mover>"):a.subscript&&(n+="<munder>"+l,n+=zt(a.subscript,r),n+="</munder>"),t.mathML+=n,t.lastType="mo",t.index+=1,!0}{let l=t.atoms[t.index],u=l.value==="\\operatorname",c=u?'<mi class="MathML-Unit"'+Xt(l.id,r)+">"+a0(l.value)+"</mi>":Au(l,r);n+=c,!u&&!/^<mo>(.*)<\/mo>$/.test(c)?(n+=hI,s="applyfunction"):s=u?"mi":"mo"}(t.lastType==="mi"||t.lastType==="mn")&&!/^<mo>(.*)<\/mo>$/.test(n)&&(n=Sg+n),t.index+=1}return n.length>0&&(i=!0,ia(n,t,r)||(t.mathML+=n,t.lastType=s)),i}function zt(t,e,r,i){e!=null||(e={});let n={atoms:[],index:r??0,mathML:"",lastType:""};if(typeof t=="number"||typeof t=="boolean")n.mathML=t.toString();else if(typeof t=="string")n.mathML=t;else if(t instanceof ue)n.mathML=av(t,e);else if(Array.isArray(t)){n.atoms=t;let s=0;for(i=i||(t?t.length:0);n.index<i;)if(a0e(n,i,e)||o0e(n,i,e)||s0e(n,i,e)||u0e(n,i,e)||l0e(n,i,e))s+=1;else if(n.index<i){let a=av(n.atoms[n.index],e);n.lastType==="mn"&&a.length>0&&n.atoms[n.index].type==="genfrac"&&(a="<mo>&#x2064;</mo>"+a),n.atoms[n.index].type==="genfrac"?n.lastType="mfrac":n.lastType="",n.index+=1,ia(a,n,e)?s+=1:a.length>0&&(n.mathML+=a,s+=1)}s>1&&(n.mathML="<mrow>"+n.mathML+"</mrow>")}return n.mathML}function Au(t,e){let r="",i=a0(t.value);return i&&(r="<mo"+Xt(t.id,e)+">"+i+"</mo>"),r}function a0(t){if(!t)return"";if(typeof t=="string")return f1(t);if(!Array.isArray(t)&&typeof t.body=="string")return f1(t.body);let e="";for(let r of t)typeof r.value=="string"&&(e+=r.value);return f1(e)}function av(t,e){var r,i,n,s,a,o,l,u,c,d,h,f,g,y,C,S,A,T,M,D,B,F;if(t.mode==="text")return`<mi${Xt(t.id,e)}>${t.value}</mi>`;let V={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",longleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",longrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",longrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xleftrightarrows:"⇄",xRightleftharpoons:"⇌",longRightleftharpoons:"⇌",xLeftrightharpoons:"⇋",longLeftrightharpoons:"⇋"},O={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\>":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5},U="",J="",Y,re,ce,qe,Me,me,{command:be}=t;if(t.command==="\\error")return`<merror${Xt(t.id,e)}>${zt(t.body,e)}</merror>`;let ot={"\\vert":"|","\\Vert":"∥","\\mid":"∣","\\lbrack":"[","\\rbrack":"]","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉"},vt={"\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};switch(t.type){case"first":break;case"group":case"root":U=zt(t.body,e);break;case"array":let $e=t;if(($e.leftDelim&&$e.leftDelim!=="."||$e.rightDelim&&$e.rightDelim!==".")&&(U+="<mrow>",$e.leftDelim&&$e.leftDelim!=="."&&(U+="<mo>"+(ot[$e.leftDelim]||$e.leftDelim)+"</mo>")),U+="<mtable",$e.colFormat){for(U+=' columnalign="',ce=0;ce<$e.colFormat.length;ce++){let Ie=$e.colFormat[ce];"align"in Ie&&(U+={l:"left",c:"center",r:"right"}[Ie.align]+" ")}U+='"'}for(U+=">",re=0;re<$e.rows.length;re++){for(U+="<mtr>",Y=0;Y<$e.rows[re].length;Y++)U+="<mtd>"+zt($e.rows[re][Y],e)+"</mtd>";U+="</mtr>"}U+="</mtable>",($e.leftDelim&&$e.leftDelim!=="."||$e.rightDelim&&$e.rightDelim!==".")&&($e.rightDelim&&$e.rightDelim!=="."&&(U+="<mo>"+(ot[$e.leftDelim]||$e.rightDelim)+"</mo>"),U+="</mrow>");break;case"genfrac":let Je=t;(Je.leftDelim||Je.rightDelim)&&(U+="<mrow>"),Je.leftDelim&&Je.leftDelim!=="."&&(U+="<mo"+Xt(t.id,e)+">"+(ot[Je.leftDelim]||Je.leftDelim)+"</mo>"),Je.hasBarLine?(U+="<mfrac>",U+=zt(t.above,e)||"<mi>&nbsp;</mi>",U+=zt(t.below,e)||"<mi>&nbsp;</mi>",U+="</mfrac>"):(U+="<mtable"+Xt(t.id,e)+">",U+="<mtr>"+zt(t.above,e)+"</mtr>",U+="<mtr>"+zt(t.below,e)+"</mtr>",U+="</mtable>"),Je.rightDelim&&Je.rightDelim!=="."&&(U+="<mo"+Xt(t.id,e)+">"+(ot[Je.rightDelim]||Je.rightDelim)+"</mo>"),(Je.leftDelim||Je.rightDelim)&&(U+="</mrow>");break;case"surd":t.hasEmptyBranch("above")?(U+="<msqrt"+Xt(t.id,e)+">",U+=zt(t.body,e),U+="</msqrt>"):(U+="<mroot"+Xt(t.id,e)+">",U+=zt(t.body,e),U+=zt(t.above,e),U+="</mroot>");break;case"leftright":let rt=t,Ft=rt.leftDelim;U="<mrow>",Ft&&Ft!=="."&&(U+=`<mo${Xt(t.id,e)}>${(r=ot[Ft])!=null?r:Ft}</mo>`),t.body&&(U+=zt(t.body,e));let it=rt.matchingRightDelim();it&&it!=="."&&(U+=`<mo${Xt(t.id,e)}>${(i=ot[it])!=null?i:it}</mo>`),U+="</mrow>";break;case"sizeddelim":case"delim":U+=`<mo${Xt(t.id,e)}>${ot[t.value]||t.value}</mo>`;break;case"accent":let It=t;U+='<mover accent="true"'+Xt(t.id,e)+">",U+=zt(t.body,e),U+="<mo>"+(vt[be]||It.accent)+"</mo>",U+="</mover>";break;case"line":case"overlap":break;case"overunder":let oe=t;Me=t.above,qe=t.below,(oe.svgAbove||Me)&&(oe.svgBelow||qe)?me=t.body:Me&&Me.length>0?(me=t.body,(s=(n=t.body)==null?void 0:n[0])!=null&&s.below?(qe=t.body[0].below,me=t.body[0].body):((o=(a=t.body)==null?void 0:a[0])==null?void 0:o.type)==="first"&&(u=(l=t.body)==null?void 0:l[1])!=null&&u.below&&(qe=t.body[1].below,me=t.body[1].body)):qe&&qe.length>0&&(me=t.body,(d=(c=t.body)==null?void 0:c[0])!=null&&d.above?(Me=t.body[0].above,me=t.body[0].body):((f=(h=t.body)==null?void 0:h[0])==null?void 0:f.type)==="first"&&(y=(g=t.body)==null?void 0:g[1])!=null&&y.above&&(Me=t.body[1].above,me=t.body[1].body)),(oe.svgAbove||Me)&&(oe.svgBelow||qe)?(U+=`<munderover ${Xt(t.id,e)}>`,U+=(C=V[oe.svgBody])!=null?C:zt(me,e),U+=(S=V[oe.svgBelow])!=null?S:zt(qe,e),U+=(A=V[oe.svgAbove])!=null?A:zt(Me,e),U+="</munderover>"):oe.svgAbove||Me?(U+=`<mover ${Xt(t.id,e)}>`+((T=V[oe.svgBody])!=null?T:zt(me,e)),U+=(M=V[oe.svgAbove])!=null?M:zt(Me,e),U+="</mover>"):(oe.svgBelow||qe)&&(U+=`<munder ${Xt(t.id,e)}>`+((D=V[oe.svgBody])!=null?D:zt(me,e)),U+=(B=V[oe.svgBelow])!=null?B:zt(qe,e),U+="</munder>");break;case"placeholder":U+="?";break;case"mord":{U=typeof t.value=="string"?t.value:be,U.length>0&&U.startsWith("\\")&&(typeof t.value=="string"&&t.value.charCodeAt(0)>255?U="&#x"+("000000"+t.value.charCodeAt(0).toString(16)).slice(-4)+";":typeof t.value=="string"?U=t.value.charAt(0):(console.error("Did not expect this"),U=""));let Ie=/\d/.test(U)?"mn":"mi";U=`<${Ie}${Xt(t.id,e)}>${f1(U)}</${Ie}>`;break}case"mbin":case"mrel":case"minner":U=Au(t,e);break;case"mpunct":U='<mo separator="true"'+Xt(t.id,e)+">"+be+"</mo>";break;case"mop":case"operator":case"extensible-symbol":t.value!=="​"&&(U="<mo"+Xt(t.id,e)+">",U+=be==="\\operatorname"?t.body:be||t.body,U+="</mo>");break;case"box":let Te=t;U='<menclose notation="box"',Te.backgroundcolor&&(U+=' mathbackground="'+Te.backgroundcolor+'"'),U+=Xt(t.id,e)+">"+zt(t.body,e)+"</menclose>";break;case"spacing":U+='<mspace width="'+((F=O[be])!=null?F:0)+'em"/>';break;case"enclose":let Ee=t;U='<menclose notation="';for(let Ie in Ee.notation)Object.prototype.hasOwnProperty.call(Ee.notation,Ie)&&Ee.notation[Ie]&&(U+=J+Ie,J=" ");U+=Xt(t.id,e)+'">'+zt(t.body,e)+"</menclose>";break;case"prompt":U='<menclose notation="roundexbox""">'+zt(t.body,e)+"</menclose>";break;case"space":U+="&nbsp;";break;case"subsup":break;case"phantom":break;case"composition":break;case"rule":break;case"chem":break;case"mopen":U+=Au(t,e);break;case"mclose":U+=Au(t,e);break;case"macro":{let Ie=t.command+a0(t.macroArgs);Ie&&(U+=`<mo ${Xt(t.id,e)}>${Ie}</mo>`)}break;case"latexgroup":U+=zt(t.body,e);break;case"latex":U+="<mtext"+Xt(t.id,e)+">"+t.value+"</mtext>";break;case"tooltip":U+=zt(t.body,e);break;case"text":U+=`<mtext ${Xt(t.id,e)}x>${t.value}</mtext>`;break;default:if(t.command==="\\displaystyle")return`<mrow ${Xt(t.id,e)} displaystyle="true">${zt(t.body,e)}</mrow>`;if(t.command==="\\textstyle")return`<mrow ${Xt(t.id,e)} displaystyle="false">${zt(t.body,e)}</mrow>`;console.info("Unexpected element in conversion to MathML:",t)}return U}var Sc={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"imaginary eye ","\\imaginaryJ":"imaginary jay ","\\sum":"Summation ","\\prod":"Product ","+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\pm":"plus or minus","\\mp":"minus or plus","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","\\ne":"is not equal to ","\\neq":"is not equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","​":"","−":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'<break time="150ms"/>open paren<break time="150ms"/>',"\\rparen":'<break time="150ms"/>close paren<break time="150ms"/>',"\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"},ly={array:"array",matrix:"matrix",pmatrix:"parenthesis matrix",bmatrix:"square brackets matrix",Bmatrix:"braces matrix",vmatrix:"bars matrix",Vmatrix:"double bars matrix","matrix*":"matrix",smallmatrix:"small matrix"};function c0e(t){let e="";return t.startsWith("\\")&&(e=" "+t.replace("\\","")+" "),e}function Wd(t){let e=0;if(gi(t))for(let r of t)r.type!=="first"&&(e+=1);return e===1}function d0e(t){if(gi(t)){for(let e of t)if(e.type!=="first"&&e.id)return e.id.toString()}return""}function ok(t){let e="";if(gi(t))for(let r of t)r.type!=="first"&&typeof r.value=="string"&&(e+=r.value);return e}function h0e(t){return t?t.map(e=>e.value).join(""):""}function Um(t){if(t&&!t.some(e=>e.type!=="first"&&e.value===void 0))return t.map(e=>e.value).join("")}function ov(t){return`<emphasis>${t}</emphasis>`}function p0e(t,e){var r;let i="",n=!1,s=!1;for(let a=0;a<e.length;a++)e[a].type!=="first"&&(e[a].mode!=="text"&&(s=!1),a<e.length-2&&e[a].type==="mopen"&&e[a+2].type==="mclose"&&e[a+1].type==="mord"?(i+=" of ",i+=ov(xt(t,e[a+1])),a+=2):e[a].mode==="text"?s?i+=(r=e[a].value)!=null?r:" ":(s=!0,i+=xt("text",e[a])):e[a].isDigit()?n?i+=e[a].asDigit():(n=!0,i+=xt(t,e[a])):(n=!1,i+=xt(t,e[a])));return i}function xt(t,e){var r,i,n,s,a,o,l,u;function c(S){return globalThis.MathfieldElement.textToSpeechMarkup?/[a-z]/.test(S)?` <say-as interpret-as="character">${S}</say-as>`:/[A-Z]/.test(S)?`capital <say-as interpret-as="character">${S.toLowerCase()}</say-as>`:S:/[a-z]/.test(S)?" '"+S.toUpperCase()+"'":/[A-Z]/.test(S)?" 'capital "+S.toUpperCase()+"'":S}if(!e)return"";if(gi(e))return p0e(t,e);let d="";if(e.id&&t==="math"&&(d+='<mark name="'+e.id.toString()+'"/>'),e.mode==="text")return d+e.value;let h="",f="",g="",y=!1,{command:C}=e;switch(C){case"\\vec":return"vector "+xt(t,e.body);case"\\acute":return xt(t,e.body)+" acute";case"\\grave":return xt(t,e.body)+" grave";case"\\dot":return"dot over"+xt(t,e.body);case"\\ddot":return"double dot over"+xt(t,e.body);case"\\mathring":return"ring over"+xt(t,e.body);case"\\tilde":case"\\widetilde":return"tilde over"+xt(t,e.body);case"\\bar":return xt(t,e.body)+" bar";case"\\breve":return xt(t,e.body)+" breve";case"\\check":case"\\widecheck":return"check over "+xt(t,e.body);case"\\hat":case"\\widehat":return"hat over"+xt(t,e.body);case"\\overarc":case"\\overparen":case"\\wideparen":return"arc over "+xt(t,e.body);case"\\underarc":case"\\underparen":return"arc under "+xt(t,e.body);case"\\mathop":return(r=Um(e.body))!=null?r:xt(t,e.body);case"\\mathit":return(i=Um(e.body))!=null?i:xt(t,e.body);case"\\mathrm":return(n=Um(e.body))!=null?n:xt(t,e.body);case"\\mathbb":return"blackboard"+((s=Um(e.body))!=null?s:xt(t,e.body))}switch(e.type){case"prompt":let S=e.body.length>1?'start input . <break time="500ms"/> '+xt(t,e.body)+'. <break time="500ms"/> end input':"blank";d+=' <break time="300ms"/> '+S+'. <break time="700ms"/>'+((a=e.correctness)!=null?a:"")+' . <break time="700ms"/> ';break;case"array":let A=e.rows,T=e.environmentName;if(Object.keys(ly).includes(T)){d+=` begin ${ly[T]} `;for(let B=0;B<A.length;B++){B>0&&(d+=","),d+=` row ${B+1} `;for(let F=0;F<A[B].length;F++)F>0&&(d+=","),d+=` column ${F+1}: `,d+=xt("math",A[B][F])}d+=` end ${ly[T]} `}break;case"group":C==="\\ne"?d+=" not equal ":(C==="\\not"&&(d+=" not "),d+=xt("math",e.body));break;case"root":d+=xt("math",e.body);break;case"genfrac":if(h=xt("math",e.above),f=xt("math",e.below),Wd(e.above)&&Wd(e.below)){let B={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[ok(e.above)+"/"+ok(e.below)];B?d=B:d+=h+" over "+f}else d+=' the fraction <break time="150ms"/>'+h+' over <break time="150ms"/>'+f+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(g=xt("math",e.body),e.hasEmptyBranch("above"))d+=Wd(e.body)?" the square root of "+g+" , ":' the square root of <break time="200ms"/>'+g+'. <break time="200ms"/> End square root';else{let B=xt("math",e.above);B=B.trim();let F=B.replace(/<mark([^/]*)\/>/g,"");F==="3"?d+=' the cube root of <break time="200ms"/>'+g+'. <break time="200ms"/> End cube root':F==="n"?d+=' the nth root of <break time="200ms"/>'+g+'. <break time="200ms"/> End root':d+=' the root with index: <break time="200ms"/>'+B+', of <break time="200ms"/>'+g+'. <break time="200ms"/> End root'}break;case"leftright":{let B=e;d+=(o=B.leftDelim?Sc[B.leftDelim]:void 0)!=null?o:B.leftDelim,d+=xt("math",e.body),d+=(l=B.rightDelim?Sc[B.rightDelim]:void 0)!=null?l:B.rightDelim}break;case"rule":break;case"overunder":break;case"overlap":break;case"macro":let M=C.replace(/^\\/g,""),D=w6()[M];D&&(D!=null&&D.expand?d+=xt("math",e.body):d+=`${M} `);break;case"placeholder":d+="placeholder ";break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":{if(C==="\\mathbin"||C==="\\mathrel"||C==="\\mathopen"||C==="\\mathclose"||C==="\\mathpunct"||C==="\\mathord"||C==="\\mathinner"){d=xt(t,e.body);break}let B=e.isDigit()?e.asDigit():e.value,F=e.command;if((e.type==="delim"||e.type==="sizeddelim")&&(F=e.value,B=F),t==="text")d+=B;else{if(e.type==="mbin"&&(d+='<break time="150ms"/>'),B){let V=Sc[B]||(F?Sc[F.trim()]:"");if(V)d+=" "+V;else{let O=F?c0e(F.trim()):"";d+=O||c(B)}}else d+=xt("math",e.body);e.type==="mbin"&&(d+='<break time="150ms"/>')}break}case"mop":case"operator":case"extensible-symbol":if(e.value!=="​"){let B=e.command;if(B==="\\sum")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let F=xt("math",e.superscript);F=F.trim();let V=xt("math",e.subscript);V=V.trim(),d+=' the summation from <break time="200ms"/>'+V+'<break time="200ms"/> to  <break time="200ms"/>'+F+'<break time="200ms"/> of <break time="150ms"/>',y=!0}else if(e.hasEmptyBranch("subscript"))d+=" the summation of";else{let F=xt("math",e.subscript);F=F.trim(),d+=' the summation from <break time="200ms"/>'+F+'<break time="200ms"/> of <break time="150ms"/>',y=!0}else if(B==="\\prod")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let F=xt("math",e.superscript);F=F.trim();let V=xt("math",e.subscript);V=V.trim(),d+=' the product from <break time="200ms"/>'+V+'<break time="200ms"/> to <break time="200ms"/>'+F+'<break time="200ms"/> of <break time="150ms"/>',y=!0}else if(e.hasEmptyBranch("subscript"))d+=" the product  of ";else{let F=xt("math",e.subscript);F=F.trim(),d+=' the product from <break time="200ms"/>'+F+'<break time="200ms"/> of <break time="150ms"/>',y=!0}else if(B==="\\int")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let F=xt("math",e.superscript);F=F.trim();let V=xt("math",e.subscript);V=V.trim(),d+=' the integral from <break time="200ms"/>'+ov(V)+'<break time="200ms"/> to <break time="200ms"/>'+ov(F)+' <break time="200ms"/> of ',y=!0}else d+=' the integral of <break time="200ms"/> ';else if(B==="\\operatorname"||B==="\\operatorname*")d+=h0e(e.body)+" ";else if(typeof e.value=="string"){let F=(u=Sc[e.value])!=null?u:e.command?Sc[e.command]:void 0;d+=F||" "+e.value}else e.command&&(e.command==="\\mathop"?d+=xt("math",e.body):d+=e.command.startsWith("\\")?" "+e.command.slice(1):" "+e.command)}break;case"enclose":g=xt("math",e.body),d+=" crossed out "+g+". End crossed out.";break}if(!y&&!e.hasEmptyBranch("superscript")){let S=xt(t,e.superscript);S=S.trim();let A=S.replace(/<[^>]*>/g,"");if(Wd(e.superscript)){if(t==="math"){let T=d0e(e.superscript);T&&(d+='<mark name="'+T+'"/>')}A==="′"?d+=" prime ":A==="2"?d+=" squared ":A==="3"?d+=" cubed ":Number.isNaN(Number.parseInt(A))?d+=" to the "+S+"; ":d+=' to the <say-as interpret-as="ordinal">'+A+"</say-as> power; "}else Number.isNaN(Number.parseInt(A))?d+=" raised to the "+S+"; ":d+=' raised to the <say-as interpret-as="ordinal">'+A+"</say-as> power; "}if(!y&&!e.hasEmptyBranch("subscript")){let S=xt("math",e.subscript);S=S.trim(),d+=Wd(e.subscript)?" sub "+S:" subscript "+S+". End subscript. "}return d}function o0(t){var e,r;let i=globalThis.MathfieldElement;if(i.textToSpeechRules==="sre"&&("sre"in window||"SRE"in window)){let s=zt(t);if(s){i.textToSpeechMarkup&&(i.textToSpeechRulesOptions=(e=i.textToSpeechRulesOptions)!=null?e:{},i.textToSpeechRulesOptions=Z(q({},i.textToSpeechRulesOptions),{markup:i.textToSpeechMarkup}),i.textToSpeechRulesOptions.markup==="ssml"&&(i.textToSpeechRulesOptions=Z(q({},i.textToSpeechRulesOptions),{markup:"ssml_step"})),i.textToSpeechRulesOptions=Z(q({},i.textToSpeechRulesOptions),{rate:i.speechEngineRate}));let a=(r=window.SRE)!=null?r:globalThis.sre.System.getInstance();i.textToSpeechRulesOptions&&a.setupEngine(i.textToSpeechRulesOptions);let o="";try{o=a.toSpeech(s)}catch(l){console.error("MathLive 0.105.3: `SRE.toSpeech()` runtime error",l)}return o}return""}let n=xt("math",t);if(i.textToSpeechMarkup==="ssml"){let s="";i.speechEngineRate&&(s='<prosody rate="'+i.speechEngineRate+'">'),n='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+s+"<p><s>"+n+"</s></p>"+(s?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else i.textToSpeechMarkup==="mac"&&X0()==="macos"?n=n.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):n=n.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return n}var Us={"\\ne":"≠","\\neq":"≠","−":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e","\\imaginaryI":"i","\\imaginaryJ":"j","\\!":" ","\\,":" ","\\:":" ","\\>":" ","\\;":" ","\\enskip":" ","\\enspace":" ","\\qquad":" ","\\quad":" ","\\infty":"oo","\\R":"RR","\\mathbb{R}":"RR","\\N":"NN","\\mathbb{N}":"NN","\\Z":"ZZ","\\mathbb{Z}":"ZZ","\\Q":"QQ","\\mathbb{Q}":"QQ","\\C":"CC","\\mathbb{C}":"CC","\\emptyset":"O/","\\varnothing":"O/","\\varDelta":"Delta","\\varTheta":"Theta","\\varLambda":"Lambda","\\varXi":"Xi","\\varPi":"Pi","\\varSigma":"Sigma","\\varUpsilon":"Upsilon","\\varPhi":"Phi","\\varPsi":"Psi","\\varOmega":"Omega"},Gd={"\\pm":"+-","\\colon":" : ","\\sum":" sum ","\\prod":" prod ","\\bigcap":" nnn ","\\bigcup":" uuu ","\\int":" int ","\\oint":" oint ","\\ge":">=","\\le":"<=","\\ne":"!=","\\neq":"!=","\\lt":"<","\\gt":">","\\gets":"<-","\\to":"->","\\land":" and ","\\lor":" or ","\\lnot":" not ","\\forall":" AA ","\\exists":" EE ","\\in":" in ","\\notin":" !in ","\\mapsto":"|->","\\implies":"=>","\\iff":"<=>","\\cdot":" * ","\\ast":" ** ","\\star":" *** ","\\times":" * ","\\div":" -: ","\\ltimes":" |>< ","\\rtimes":" ><| ","\\bowtie":" |><| ","\\circ":"@"},qm={"\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrack":"[","\\rbrack":"]","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)"};function f0e(t){let e="";for(let r of t){let i=e[e.length-1];i!==void 0&&(/\d$/.test(i)&&/^\d/.test(r)||/[a-zA-Z]$/.test(i)&&/^[a-zA-Z]/.test(r))&&(e+=" "),e+=r}return e}function pr(t,e){var r,i,n,s,a,o,l,u,c,d,h,f,g,y,C,S,A;if(!t)return"";if(gi(t)){if(t.length===0)return"";if(t[0].mode==="latex")return t.map(O=>pr(O)).join("");if(t[0].mode==="text"){let O=0,U="";for(;((r=t[O])==null?void 0:r.mode)==="text";)U+=t[O].body?pr(t[O].body,e):t[O].value,O++;return e!=null&&e.plain?U+pr(t.slice(O),e):`"${U}" ${pr(t.slice(O))}`}let F=0,V=[];for(;t[F]&&t[F].mode==="math";){let O="";for(;t[F]&&t[F].type==="mord"&&/\d/.test(t[F].value);)O+=t[F++].value;O?V.push(O):V.push(pr(t[F++],e))}return V.push(pr(t.slice(F),e)),f0e(V)}if(t.mode==="text")return e!=null&&e.plain?t.value:`"${t.value}"`;let T="",{command:M}=t,D;if(M==="\\placeholder")return`(${pr(t.body,e)})`;let B=ue.serialize([t],{expandMacro:!1,defaultMode:"math"});switch(t.type){case"accent":let F={"\\vec":"vec","\\dot":"dot","\\ddot":"ddot","\\bar":"bar","\\hat":"hat","\\acute":"acute;","\\grave":"grave","\\tilde":"tilde","\\breve":"breave","\\check":"check"}[M];T=`${F??""} ${pr(t.body,e)} `;break;case"first":return"";case"latexgroup":return t.body.map(O=>O.value).join("");case"group":case"root":T=(i=Us[M])!=null?i:pr(t.body,e);break;case"genfrac":{let O=t;(O.leftDelim||O.rightDelim)&&(T=O.leftDelim==="."||!O.leftDelim?"{:":O.leftDelim),O.hasBarLine?(T+="(",T+=pr(O.above,e),T+=")/(",T+=pr(O.below,e),T+=")"):(T+="((",T+=pr(O.above,e),T+=") choose (",T+=pr(O.below,e),T+="))"),(O.leftDelim||O.rightDelim)&&(T+=O.rightDelim==="."||!O.rightDelim?"{:":O.rightDelim)}break;case"surd":t.hasEmptyBranch("above")?T+=`sqrt(${pr(t.body,e)})`:T+=`root(${pr(t.above,e)})(${pr(t.body,e)})`;break;case"latex":T=t.value;break;case"leftright":{let O=t,U=O.leftDelim;U&&qm[U]&&(U=qm[U]),T+=U==="."||!U?"{:":U,T+=pr(O.body,e);let J=O.matchingRightDelim();J&&qm[J]&&(J=qm[J]),T+=J==="."||!J?":}":J}break;case"sizeddelim":case"delim":T=t.value;break;case"overlap":break;case"overunder":break;case"mord":if(Us[B])return Us[B];T=(a=(s=(n=Us[M])!=null?n:M)!=null?s:M)!=null?a:typeof t.value=="string"?t.value:"",T.startsWith("\\")&&(T+=" "),D=M?M.match(/{?\\char"([\dabcdefABCDEF]+)}?/):null,D?T=String.fromCodePoint(Number.parseInt("0x"+D[1])):T.length>0&&T.startsWith("\\")&&(T=typeof t.value=="string"?t.value.charAt(0):t.command),T=m0e(T,t.style);break;case"mbin":case"mrel":case"minner":T=(u=(l=(o=Us[B])!=null?o:Us[M])!=null?l:Gd[M])!=null?u:t.value;break;case"mopen":case"mclose":T=t.value;break;case"mpunct":T=(c=Gd[M])!=null?c:M;break;case"mop":case"operator":case"extensible-symbol":t.value!=="​"&&(Gd[M]?T=Gd[M]:T=M==="\\operatorname"?pr(t.body,e):(d=t.value)!=null?d:M,T+=" ");break;case"array":let V=t.environmentName;if(t.isMultiline)T=t.rows.map(O=>O.map(U=>pr(U,e)).join("")).join(`
`);else{let O=(h={bmatrix:["[","]"],"bmatrix*":["[","]"]}[V])!=null?h:["(",")"],U=[],J=t.rows;for(let re of J){let ce=[];for(let qe of re)ce.push(pr(qe,e));U.push(O[0]+ce.join(",")+O[1])}let Y=(f={bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]}[V])!=null?f:["(",")"];T=Y[0]+U.join(",")+Y[1]}break;case"box":break;case"spacing":T=(y=(g=Us[B])!=null?g:Us[M])!=null?y:" ";break;case"enclose":T="("+pr(t.body,e)+")";break;case"space":T=" ";break;case"subsup":T="";break;case"macro":T=(A=(S=(C=Us[B])!=null?C:Us[M])!=null?S:Gd[M])!=null?A:pr(t.body,e);break}if(!t.hasEmptyBranch("subscript")){T+="_";let F=pr(t.subscript,e);T+=F.length!==1?`(${F})`:F}if(!t.hasEmptyBranch("superscript")){T+="^";let F=pr(t.superscript,e);T+=F.length!==1?`(${F})`:F}return T}function m0e(t,e){if(!e)return t;let r=t;return e.variant==="double-struck"&&(r=`bbb "${r}"`),e.variant==="script"&&(r=`cc "${r}"`),e.variant==="fraktur"&&(r=`fr "${r}"`),e.variant==="sans-serif"&&(r=`sf "${r}"`),e.variant==="monospace"&&(r=`tt "${r}"`),e.variantStyle==="bold"&&(r=`bb "${r}"`),e.color?`color({${e.color}})(${r})`:r}function Gr(t,e){var r;let i=Z(q({},IB()),{renderPlaceholder:()=>new Ae(160,{maxFontSize:1})}),n=(r=void 0)!=null?r:"math",s="math",a="displaystyle";n==="inline-math"?a="textstyle":n==="math"?a="displaystyle":n==="text"&&(a="textstyle",s="text");let o=new Pt({from:i}),l=new ue({type:"root",mode:s,body:ts(t,{context:o,parseMode:s,mathstyle:a})}).render(o);return l?(E2(Dp(l,o)),A2(l,{classes:"ML__latex"}).toMarkup()):""}function lv(t){if(typeof t=="string"){let e=g0e(t);if(!e)throw new Error(`Invalid color: ${t}`);return e}return"C"in t?v0e(t):"a"in t?mI(t):t}function l0(t){return t<0?0:t>255?255:Math.round(t)}function g0e(t){if(!t||t[0]!=="#")return;t=t.slice(1);let e;return t.length<=4?(e={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)},t.length===4&&(e.a=parseInt(t[3]+t[3],16)/255)):(e={r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)},t.length===8&&(e.a=parseInt(t[6]+t[7],16)/255)),e&&typeof e.a>"u"&&(e.a=1),e}function uv(t){let[e,r,i]=[t.L,t.C,t.H],n=i*Math.PI/180,s={L:e,a:r*Math.cos(n),b:r*Math.sin(n)};return t.alpha!==void 0&&(s.alpha=t.alpha),s}function y0e(t){let[e,r,i]=[t.L,t.a,t.b],n=Math.sqrt(r*r+i*i),s=Math.atan2(i,r)*180/Math.PI,a={L:e,C:n,H:s};return t.alpha!==void 0&&(a.alpha=t.alpha),a}function uy(t){let[e,r,i]=[t.L,t.a,t.b],n=Math.pow(.9999999984505198*e+.39633779217376786*r+.2158037580607588*i,3),s=Math.pow(1.00000000888176*e-.10556134232365635*r-.0638541747717059*i,3),a=Math.pow(e*1.000000054672411-.0894841820949657*r-1.2914855378640917*i,3),o=4.076741661347994*n-3.307711590408193*s+.230969928729428*a,l=-1.2684380040921763*n+2.6097574006633715*s-.3413193963102197*a,u=-.004196086541837188*n-.7034186144594493*s+1.7076147009309444*a,c=d=>{let h=Math.abs(d);return h<=.0031308?d*12.92:(Math.sign(d)||1)*(1.055*Math.pow(h,1/2.4)-.055)};return[c(o),c(l),c(u)]}function cy(t){let[e,r,i]=t;return e>=0&&e<=1&&r>=0&&r<=1&&i>=0&&i<=1}function dy(t,e){let[r,i,n]=t;return r=l0(r*255),i=l0(i*255),n=l0(n*255),e!==void 0?{r,g:i,b:n,alpha:e}:{r,g:i,b:n}}function mI(t){let[e,r,i]=uy(t);if(cy([e,r,i]))return dy([e,r,i],t.alpha);let n=y0e(t);if(n.C=0,[e,r,i]=uy(uv(n)),!cy([e,r,i]))return dy([e,r,i],t.alpha);let s=0,a=t.L,o=(s+a)/2;n.C=o;let l=.36/Math.pow(2,12);for(;a-s>l;)o=(s+a)/2,n.C=o,[e,r,i]=uy(uv(n)),cy([e,r,i])?s=o:a=o;return dy([e,r,i],t.alpha)}function v0e(t){return mI(uv(t))}function lk(t,e){let r=lv(t),i=lv(e),n=.56,s=.57,a=.62,o=.65,l=.022,u=1.414,c=.1,d=5e-4,h=1.14,f=.027,g=1.14,y=.027;function C(F){return F>=l?F:F+(l-F)**u}function S(F){return(F<0?-1:1)*Math.pow(Math.abs(F),2.4)}let A=C(S(i.r/255)*.2126729+S(i.g/255)*.7151522+S(i.b/255)*.072175),T=C(S(r.r/255)*.2126729+S(r.g/255)*.7151522+S(r.b/255)*.072175),M,D,B;return Math.abs(T-A)<d?D=0:T>A?(M=T**n-A**s,D=M*h):(M=T**o-A**a,D=M*g),Math.abs(D)<c?B=0:D>0?B=D-y:B=D+f,B*100}function gI(t,e,r){r!=null||(r="#fff"),e!=null||(e="#000");let i=lk(t,r),n=lk(t,e);return Math.abs(i)>Math.abs(n)?r:e}function b0e(t){let e=lv(t),r=((1<<24)+(l0(e.r)<<16)+(l0(e.g)<<8)+l0(e.b)).toString(16).slice(1);return e.alpha!==void 0&&e.alpha<1&&(r+=("00"+Math.round(e.alpha*255).toString(16)).slice(-2)),r[0]===r[1]&&r[2]===r[3]&&r[4]===r[5]&&r[6]===r[7]&&(r=r[0]+r[2]+r[4]+(e.alpha!==void 0&&e.alpha<1?r[6]:"")),"#"+r}function Yt(t){let e=yI(t),r="";for(let i of e){if(typeof i.value!="string")return"";r+=i.value}return r}function yI(t){let e=t.model.selection.ranges;if(e.length!==1)return[];let r=t.model.getAtoms(e[0]);return r.length===1&&r[0].isRoot&&(r=r[0].children),r.filter(i=>i.type!=="first")}function x0e(t,e){let r=yI(t);if(r.length!==1)return!1;let i=V5[e];return i?!!i.test(r[0].value):!1}function _0e(t){return Yt(t).length>0}function w0e(t){return[py(t,"double-struck","mathbb","tooltip.blackboard"),py(t,"fraktur","mathfrak","tooltip.fraktur"),py(t,"calligraphic","mathcal","tooltip.caligraphic"),fy(t,"up","mathrm","tooltip.roman-upright"),fy(t,"bold","bm","tooltip.bold"),fy(t,"italic","mathit","tooltip.italic")]}function S0e(t){return[{id:"accent-vec",class:"ML__center-menu",label:()=>Gr(`\\vec{${Yt(t)}}`),visible:()=>Yt(t).length===1,onMenuSelect:()=>t.insert("\\vec{#@}",{selectionMode:"item"})},{id:"accent-overrightarrow",class:"ML__center-menu",label:()=>Gr(`\\overrightarrow{${Yt(t)}}`),visible:()=>Yt(t).length>0,onMenuSelect:()=>t.insert("\\overrightarrow{#@}",{selectionMode:"item"})},{id:"accent-overleftarrow",class:"ML__center-menu",label:()=>Gr(`\\overleftarrow{${Yt(t)}}`),visible:()=>Yt(t).length>0,onMenuSelect:()=>t.insert("\\overleftarrow{#@}",{selectionMode:"item"})},{id:"accent-dot",class:"ML__center-menu",label:()=>Gr(`\\dot{${Yt(t)}}`),visible:()=>Yt(t).length===1,onMenuSelect:()=>t.insert("\\dot{#@}",{selectionMode:"item"})},{id:"accent-ddot",class:"ML__center-menu",label:()=>Gr(`\\ddot{${Yt(t)}}`),visible:()=>Yt(t).length===1,onMenuSelect:()=>t.insert("\\ddot{#@}",{selectionMode:"item"})},{id:"accent-bar",class:"ML__center-menu",label:()=>Gr(`\\bar{${Yt(t)}}`),visible:()=>Yt(t).length===1,onMenuSelect:()=>t.insert("\\bar{#@}",{selectionMode:"item"})},{id:"accent-overline",class:"ML__center-menu",label:()=>Gr(`\\overline{${Yt(t)}}`),visible:()=>Yt(t).length>0,onMenuSelect:()=>t.insert("\\overline{#@}",{selectionMode:"item"})},{id:"accent-overgroup",class:"ML__center-menu",label:()=>Gr(`\\overgroup{${Yt(t)}}`),visible:()=>Yt(t).length>0,onMenuSelect:()=>t.insert("\\overgroup{#@}",{selectionMode:"item"})},{id:"accent-overbrace",class:"ML__center-menu",label:()=>Gr(`\\overbrace{${Yt(t)}}`),visible:()=>Yt(t).length>0,onMenuSelect:()=>t.insert("\\overbrace{#@}",{selectionMode:"item"})},{id:"accent-underline",class:"ML__center-menu",label:()=>Gr(`\\underline{${Yt(t)}}`),visible:()=>Yt(t).length>0,onMenuSelect:()=>t.insert("\\underline{#@}",{selectionMode:"item"})},{id:"accent-undergroup",class:"ML__center-menu",label:()=>Gr(`\\undergroup{${Yt(t)}}`),visible:()=>Yt(t).length>0,onMenuSelect:()=>t.insert("\\undergroup{#@}",{selectionMode:"item"})},{id:"accent-underbrace",class:"ML__center-menu",label:()=>Gr(`\\underbrace{${Yt(t)}}`),visible:()=>Yt(t).length>0,onMenuSelect:()=>t.insert("\\underbrace{#@}",{selectionMode:"item"})}]}function C0e(t){return[{id:"decoration-boxed",label:()=>Gr(`\\boxed{${t.getValue(t.model.selection)}}}`),onMenuSelect:()=>t.insert("\\boxed{#@}",{selectionMode:"item"})},{id:"decoration-red-box",label:()=>Gr(`\\bbox[5px, border: 2px solid red]{${t.getValue(t.model.selection)}}`),onMenuSelect:()=>t.insert("\\bbox[5px, border: 2px solid red]{#@}",{selectionMode:"item"})},{id:"decoration-dashed-black-box",label:()=>Gr(`\\bbox[5px, border: 2px dashed black]{${t.getValue(t.model.selection)}}`),onMenuSelect:()=>t.insert("\\bbox[5px, border: 2px dashed black]{#@}",{selectionMode:"item"})}]}function k0e(t){let e=[];for(let r of Object.keys(ku))e.push({id:`background-color-${r}`,class:(b0e(gI(ku[r]))==="#000"?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${ku[r]} "></span>`,ariaLabel:()=>{var i;return(i=ft(r))!=null?i:r},checked:()=>{var i;return(i={some:"mixed",all:!0}[t.queryStyle({backgroundColor:r})])!=null?i:!1},onMenuSelect:()=>t.applyStyle({backgroundColor:r},{operation:"toggle"})});return e}function T0e(t){let e=[];for(let r of Object.keys(Tu))e.push({id:`color-${r}`,class:(gI(Tu[r])==="#000"?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${Tu[r]} "></span>`,ariaLabel:()=>{var i;return(i=ft(r))!=null?i:r},checked:()=>{var i;return(i={some:"mixed",all:!0}[t.queryStyle({color:r})])!=null?i:!1},onMenuSelect:()=>t.applyStyle({color:r},{operation:"toggle"})});return e}var E0e=class extends oI{constructor(t,e,r,i){super(t,e),this.row=r,this.col=i}set active(t){let e=this.parentMenu.children;if(t)for(let r of e)r.element.classList.toggle("active",r.row<=this.row&&r.col<=this.col);else for(let r of e)r.element.classList.remove("active")}};function A0e(t){let e=[];for(let r=1;r<=5;r++)for(let i=1;i<=5;i++)e.push({id:`insert-matrix-${r}x${i}`,onCreate:(n,s)=>new E0e(n,s,r,i),label:"☐",tooltip:()=>ft("tooltip.row-by-col",r,i),data:{row:r,col:i},onMenuSelect:()=>{t.insert(`\\begin{pmatrix}${Array(r).fill(Array(i).fill("#?").join(" & ")).join("\\\\")}\\end{pmatrix}`,{selectionMode:"item"})}});return e}function M0e(t){return[{label:()=>ft("menu.array.add row above"),id:"add-row-above",onMenuSelect:()=>t.executeCommand("addRowBefore"),keyboardShortcut:"shift+alt+[Return]",visible:()=>{if(!t.isSelectionEditable||!Jl(t))return!1;let[e,r]=zo(t),[i,n]=Cc(t);return e!==i}},{label:()=>ft("menu.array.add row below"),id:"add-row-below",onMenuSelect:()=>t.executeCommand("addRowAfter"),keyboardShortcut:"alt+[Return]",visible:()=>{if(!t.isSelectionEditable||!Jl(t))return!1;let[e,r]=zo(t),[i,n]=Cc(t);return e!==i}},{label:()=>ft("menu.array.add column before"),id:"add-column-before",onMenuSelect:()=>t.executeCommand("addColumnBefore"),visible:()=>{if(!t.isSelectionEditable||!Jl(t))return!1;let[e,r]=zo(t),[i,n]=Cc(t);return r!==n},keyboardShortcut:"shift+alt+[Tab]",enabled:()=>{let e=t.model.parentEnvironment;if(!e)return!1;let[r,i]=hy(t);return r<e.maxColumns}},{label:()=>ft("menu.array.add column after"),id:"add-column-after",onMenuSelect:()=>t.executeCommand("addColumnAfter"),keyboardShortcut:"alt+[Tab]",visible:()=>{if(!t.isSelectionEditable||!Jl(t))return!1;let[e,r]=zo(t),[i,n]=Cc(t);return r!==n}},{type:"divider"},{label:()=>ft("menu.array.delete row"),id:"delete-row",onMenuSelect:()=>t.executeCommand("removeRow"),enabled:()=>{let[e,r]=zo(t),[i,n]=hy(t);return i>e},visible:()=>{if(!t.isSelectionEditable||!Jl(t))return!1;let[e,r]=zo(t),[i,n]=Cc(t);return e!==i}},{label:()=>ft("menu.array.delete column"),id:"delete-column",onMenuSelect:()=>t.executeCommand("removeColumn"),enabled:()=>{let[e,r]=zo(t),[i,n]=hy(t);return n>r},visible:()=>{if(!t.isSelectionEditable||!Jl(t))return!1;let[e,r]=zo(t),[i,n]=Cc(t);return r!==n}},{type:"divider"},{label:()=>ft("menu.borders"),visible:()=>(D0e(t)||Jl(t))&&t.isSelectionEditable,submenu:[{label:" ⋱ ",id:"environment-no-border",onMenuSelect:()=>Xd(t,"matrix")},{label:"(⋱)",id:"environment-parentheses",onMenuSelect:()=>Xd(t,"pmatrix")},{label:"[⋱]",id:"environment-brackets",onMenuSelect:()=>Xd(t,"bmatrix")},{label:"|⋱|",id:"environment-bar",onMenuSelect:()=>Xd(t,"vmatrix")},{label:"{⋱}",id:"environment-braces",onMenuSelect:()=>Xd(t,"Bmatrix")}],submenuClass:"border-submenu"},{type:"divider"},{label:()=>ft("menu.insert matrix"),id:"insert-matrix",visible:()=>t.isSelectionEditable,submenu:A0e(t),submenuClass:"insert-matrix-submenu",columnCount:5},{type:"divider"},{label:()=>ft("menu.insert"),id:"insert",submenu:B0e(t)},{type:"divider"},{label:()=>ft("menu.mode"),id:"mode",visible:()=>t.isSelectionEditable&&t.model.selectionIsCollapsed,submenu:[{label:()=>ft("menu.mode-math"),id:"mode-math",onMenuSelect:()=>{A0(t,"accept-all"),t.executeCommand(["switchMode","math"])},checked:()=>t.model.mode==="math"},{label:()=>ft("menu.mode-text"),id:"mode-text",onMenuSelect:()=>{A0(t,"accept-all"),t.executeCommand(["switchMode","text"])},checked:()=>t.model.mode==="text"},{label:()=>ft("menu.mode-latex"),id:"mode-latex",onMenuSelect:()=>t.executeCommand(["switchMode","latex"]),checked:()=>t.model.mode==="latex"}]},{type:"divider"},{label:()=>ft("menu.font-style"),id:"variant",visible:()=>t.isSelectionEditable,submenu:w0e(t),submenuClass:"variant-submenu"},{label:()=>ft("menu.color"),id:"color",visible:()=>t.isSelectionEditable,submenu:T0e(t),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>ft("menu.background-color"),id:"background-color",visible:()=>t.isSelectionEditable,submenu:k0e(t),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>ft("menu.accent"),id:"accent",visible:()=>t.isSelectionEditable,submenu:S0e(t),submenuClass:"variant-submenu"},{label:()=>ft("menu.decoration"),id:"decoration",visible:()=>t.isSelectionEditable&&Yt(t).length>0,submenu:C0e(t),submenuClass:"variant-submenu"},{type:"divider"},{label:()=>ft("menu.evaluate"),id:"ce-evaluate",visible:()=>t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null,onMenuSelect:()=>{let e=L0e(t);if(!e){t.model.announce("plonk");return}t.model.selectionIsCollapsed?(t.model.position=t.model.lastOffset,t.insert(`=${e}`,{insertionMode:"insertAfter",selectionMode:"item"})):t.insert(e,{insertionMode:"replaceSelection",selectionMode:"item"})}},{label:()=>ft("menu.simplify"),id:"ce-simplify",visible:()=>t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null,onMenuSelect:()=>{var e,r;if(t.model.selectionIsCollapsed){let i=(e=t.expression)==null?void 0:e.simplify();if(t.model.position=t.model.lastOffset,!i){t.model.announce("plonk");return}t.insert(`=${i.latex}`,{insertionMode:"insertAfter",selectionMode:"item"})}else{let i=(r=globalThis.MathfieldElement.computeEngine)==null?void 0:r.parse(t.getValue(t.model.selection)).simplify();if(!i){t.model.announce("plonk");return}t.insert(i.latex,{insertionMode:"replaceSelection",selectionMode:"item"})}}},{label:()=>{var e;let r=globalThis.MathfieldElement.computeEngine;if(r===null)return"";let i=(e=t.expression)==null?void 0:e.unknowns[0];if(i){let n=r.box(i).latex;return ft("menu.solve-for",Gr(n))}return ft("menu.solve")},id:"ce-solve",visible:()=>{var e;return t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null&&((e=t.expression)==null?void 0:e.unknowns.length)===1&&t.expression.unknowns[0]!=="Nothing"},onMenuSelect:()=>{var e;let r=t.expression,i=r==null?void 0:r.unknowns[0],n=(e=r.solve(i))==null?void 0:e.map(s=>{var a;return(a=s.simplify().latex)!=null?a:""});if(!n){t.model.announce("plonk");return}t.insert(`${i}=${n.length===1?n[0]:"\\left\\lbrace"+(n==null?void 0:n.join(", "))+"\\right\\rbrace"}`,{insertionMode:"replaceAll",selectionMode:"item"})}},{type:"divider"},{label:()=>ft("menu.cut"),id:"cut",onMenuSelect:()=>t.executeCommand("cutToClipboard"),visible:()=>!t.options.readOnly&&t.isSelectionEditable,keyboardShortcut:"meta+X"},{label:()=>ft("menu.copy"),id:"copy",submenu:[{label:()=>ft("menu.copy-as-latex"),id:"copy-latex",onMenuSelect:()=>Qt.copyToClipboard(t,"latex"),keyboardShortcut:"meta+C"},{label:()=>ft("menu.copy-as-ascii-math"),id:"copy-ascii-math",onMenuSelect:()=>Qt.copyToClipboard(t,"ascii-math")},{label:()=>ft("menu.copy-as-mathml"),id:"copy-math-ml",onMenuSelect:()=>Qt.copyToClipboard(t,"math-ml")}]},{label:()=>ft("menu.paste"),id:"paste",onMenuSelect:()=>t.executeCommand("pasteFromClipboard"),visible:()=>t.hasEditableContent,keyboardShortcut:"meta+V"},{label:()=>ft("menu.select-all"),id:"select-all",keyboardShortcut:"meta+A",onMenuSelect:()=>t.executeCommand("selectAll")}]}function Jl(t){var e,r;let i=(r=(e=t.model.parentEnvironment)==null?void 0:e.environmentName)!=null?r:"";return["array","matrix","pmatrix","bmatrix","vmatrix","Bmatrix"].includes(i)}function D0e(t){let e=t.model.at(t.model.position);if(e.type!=="array")return!1;let r=e.environmentName;return["matrix","pmatrix","bmatrix","vmatrix","Bmatrix"].includes(r)}function hy(t){var e;let r=(e=t.model.parentEnvironment)==null?void 0:e.rows;return r?[r.length,r.reduce((i,n)=>Math.max(i,n.length),0)]:[0,0]}function zo(t){let e=t.model.parentEnvironment;return e?[e.minRows,e.minColumns]:[0,0]}function Cc(t){let e=t.model.parentEnvironment;return e?[e.maxRows,e.maxColumns]:[0,0]}function Xd(t,e){O2(t),t.flushInlineShortcutBuffer(),ZP(t.model,e),fr(t)}function L0e(t){var e,r;let i;if(t.model.selectionIsCollapsed?i=(e=globalThis.MathfieldElement.computeEngine)==null?void 0:e.parse(t.getValue(),{canonical:!1}):i=(r=globalThis.MathfieldElement.computeEngine)==null?void 0:r.parse(t.getValue(t.model.selection),{canonical:!1}),!i)return"";let n=i.evaluate();return n.isSame(i)&&(n=i.N()),n.latex}function py(t,e,r,i){return{id:`variant-${e}`,label:()=>{var n;return Yt(t).length<12?Gr(`\\${r}{${Yt(t)}}`):(n=ft(i))!=null?n:i},class:"ML__xl",tooltip:()=>{var n;return(n=ft(i))!=null?n:i},visible:()=>x0e(t,e),checked:()=>{var n;return(n={some:"mixed",all:!0}[t.queryStyle({variant:e})])!=null?n:!1},onMenuSelect:()=>t.applyStyle({variant:e},{operation:"toggle"})}}function fy(t,e,r,i){return{id:`variant-style-${e}`,label:()=>{var n;let s=Yt(t);return s.length>0&&s.length<12?Gr(`\\${r}{${Yt(t)}}`):(n=ft(i))!=null?n:i},class:()=>{let n=Yt(t);return n.length>0&&n.length<12?"ML__xl":""},tooltip:()=>{var n;return(n=ft(i))!=null?n:i},visible:e==="bold"?!0:()=>_0e(t),checked:()=>{var n;return(n={some:"mixed",all:!0}[t.queryStyle({variantStyle:e})])!=null?n:!1},onMenuSelect:()=>t.applyStyle({variantStyle:e},{operation:"toggle"})}}function B0e(t){return[{label:()=>Cn("abs"),id:"insert-abs",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("|#?|")},{label:()=>Cn("nth-root"),id:"insert-nth-root",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\sqrt[#?]{#?}")},{label:()=>Cn("log-base"),id:"insert-log-base",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\log_{#?}{#?}")},{type:"heading",label:()=>ft("menu.insert.heading-calculus")},{label:()=>Cn("derivative"),id:"insert-derivative",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\dfrac{\\mathrm{d}}{\\mathrm{d}x}#?\\bigm|_{x=#?}")},{label:()=>Cn("nth-derivative"),id:"insert-nth-derivative",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\dfrac{\\mathrm{d}^#?}{\\mathrm{d}x^#?}#?\\bigm|_{x=#?}")},{label:()=>Cn("integral"),id:"insert-integral",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\int_#?^#?#?\\,\\mathrm{d}#?")},{label:()=>Cn("sum"),id:"insert-sum",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\sum_#?^#?#?")},{label:()=>Cn("product"),id:"insert-product",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\prod_#?^#?#?")},{type:"heading",label:()=>ft("menu.insert.heading-complex-numbers")},{label:()=>Cn("modulus"),id:"insert-modulus",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\lvert#?\\rvert")},{label:()=>Cn("argument"),id:"insert-argument",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\arg(#?)")},{label:()=>Cn("real-part"),id:"insert-real-part",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\Re(#?)")},{label:()=>Cn("imaginary-part"),id:"insert-imaginary-part",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\Im(#?)")},{label:()=>Cn("conjugate"),id:"insert-conjugate",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\overline{#?}")}]}function Cn(t){return`<span class='ML__insert-template'> ${Gr(ft(`menu.insert.${t}-template`))}</span><span class="ML__insert-label">${ft(`menu.insert.${t}`)}</span>`}function nl(t,e){return typeof t=="string"?t+o0(e):o0(t)}function cv(t){var e;let r;if(t.parent.type==="prompt")t.parentBranch==="body"&&(r="prompt");else if(t.parentBranch==="body"){if(t.type==="first"&&(t.parent.type==="root"?r="mathfield":t.parent.type==="surd"?r="radicand":t.parent.type==="genfrac"?r="fraction":t.parent.type==="sizeddelim"&&(r="delimiter"),r))return r;t.type==="subsup"?t.superscript&&t.subscript?r="superscript and subscript":t.superscript?r="superscript":t.subscript&&(r="subscript"):t.type&&(r=(e={accent:"accented",array:"array",box:"box",chem:"chemical formula",delim:"delimiter",enclose:"cross out","extensible-symbol":"extensible symbol",error:"error",first:"first",genfrac:"fraction",group:"group",latex:"LaTeX",leftright:"delimiter",line:"line",subsup:"subscript-superscript",operator:"operator",overunder:"over-under",placeholder:"placeholder",rule:"rule",sizeddelim:"delimiter",space:"space",spacing:"spacing",surd:"square root",text:"text",prompt:"prompt",root:"math field",mop:"operator"}[t.type])!=null?e:"parent")}else if(t.parent.type==="genfrac"){if(t.parentBranch==="above")return"numerator";if(t.parentBranch==="below")return"denominator"}else t.parent.type==="surd"?t.parentBranch==="above"&&(r="index"):t.parentBranch==="superscript"?r="superscript":t.parentBranch==="subscript"&&(r="subscript");return r??"parent"}function P0e(t,e,r,i){let n="";if(e==="plonk"){globalThis.MathfieldElement.playSound("plonk"),t.flushInlineShortcutBuffer();return}if(e==="delete")n=nl("deleted: ",i);else if(e==="focus"||e.includes("move"))n=I0e(t.model,r),n+=R0e(t.model);else if(e==="replacement")n=nl(t.model.at(t.model.position));else if(e==="line"){let s=nl(t.model.root);t.keyboardDelegate.setAriaLabel(s)}else n=i?nl(e+" ",i):e;if(n){let s=t.ariaLiveText.textContent.includes(" ")?"   ":"   ";t.ariaLiveText.textContent=n+s}}function I0e(t,e){if(Number.isNaN(e))return"";let r=t.at(e);if(!r||r.treeDepth<=t.at(t.position).treeDepth)return"";let i="",n=r.parent,s=t.at(t.position).parent;for(;n!==t.root&&n!==s;)i+=`out of ${cv(n)};`,n=n.parent;return i}function R0e(t){if(!t.selectionIsCollapsed)return`selected: ${nl(t.getAtoms(t.selection))}`;let e="",r=t.at(t.position);if(r.isFirstSibling&&(e=`start of ${cv(r)}: `),r.isLastSibling){if(!r.isFirstSibling){if(!r.parent.parent)return`${nl(r)}; end of mathfield`;e=`${nl(r)}; end of ${cv(r)}`}}else e+=nl(r);return e}var O0e=class{constructor(t,e,r){this.mathfield=t,this.mode=e,this.silenceNotifications=!1,this._selection={ranges:[[0,0]],direction:"none"},this._anchor=0,this._position=0,this.root=r}dispose(){this.mathfield=void 0}getState(){let t={ranges:[...this._selection.ranges]};return this.selection.direction&&this.selection.direction!=="none"&&(t.direction=this.selection.direction),{content:this.root.toJson(),selection:t,mode:this.mode}}setState(t,e){var r;let i=this.silenceNotifications;this.silenceNotifications=(r=e==null?void 0:e.silenceNotifications)!=null?r:!0;let n={};if((e==null?void 0:e.type)==="undo"&&(n={inputType:"historyUndo"}),(e==null?void 0:e.type)==="redo"&&(n={inputType:"historyRedo"}),this.contentWillChange(n)){let s=this.silenceNotifications;this.silenceNotifications=!0,this.mode=t.mode,this.root=ll(t.content),this.selection=t.selection,this.silenceNotifications=s,this.contentDidChange(n),this.selectionDidChange()}this.silenceNotifications=i}get atoms(){return this.root.children}get selection(){return this._selection}set selection(t){this.setSelection(t)}setSelection(t,e){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0,content:!0},()=>{var r,i,n;let s=this.normalizeSelection(t,e);if(s===void 0)throw new TypeError("Invalid selection");if(s.ranges.length===1&&s.ranges[0][0]===s.ranges[0][1]){let c=s.ranges[0][0];if(!this.mathfield.dirty&&!((r=this.at(c))!=null&&r.parentPrompt)&&this.mathfield.hasEditablePrompts){if((i=this.at(c-1))!=null&&i.parentPrompt){this._anchor=this.normalizeOffset(c-1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor);return}if((n=this.at(c+1))!=null&&n.parentPrompt){this._anchor=this.normalizeOffset(c+1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor);return}this._anchor=0,this._position=0,this._selection={ranges:[[0,0]]};return}this._anchor=c,this._position=c,this._selection=s;return}let a=Ci(s);s.direction==="backward"?[this._position,this._anchor]=a:[this._anchor,this._position]=a;let o=this.at(a[0]+1),l=this.at(a[1]),u=ue.commonAncestor(o,l);(u==null?void 0:u.type)==="array"&&o.parent===u&&l.parent===u?this._selection={ranges:[a],direction:s.direction}:this._selection={ranges:[a],direction:s.direction},this._position>=0&&this._position<=this.lastOffset})}setPositionHandlingPlaceholder(t){var e;let r=this.at(t);(r==null?void 0:r.type)==="placeholder"?this.setSelection(t-1,t):((e=r==null?void 0:r.rightSibling)==null?void 0:e.type)==="placeholder"?this.setSelection(t,t+1):this.position=t,r instanceof ii&&r.isSuggestion&&(r.isSuggestion=!1),this.mathfield.stopCoalescingUndo()}get position(){return this._position}set position(t){this.setSelection(t,t)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return Math.abs(this._anchor-this._position)===1?this.at(Math.max(this._anchor,this._position)).type==="placeholder":!1}collapseSelection(t="forward"){return this._anchor===this._position?!1:(t==="backward"?this.position=Math.min(this._anchor,this._position):this.position=Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(t){return this.atoms[t]}offsetOf(t){return this.atoms.indexOf(t)}getSiblingsRange(t){let e=this.at(t),{parent:r}=e;if(!r)return[0,this.lastOffset];let i=e.parent.branch(e.parentBranch);return[this.offsetOf(i[0]),this.offsetOf(i[i.length-1])]}getBranchRange(t,e){let r=this.at(t).branch(e);return[this.offsetOf(r[0]),this.offsetOf(r[r.length-1])]}getCellRange(t){var e;this.getParentCell(t);let r=this.at(t);if(r){for(;r&&((e=r.parent)==null?void 0:e.type)!=="array";)r=r.parent;if(!(!(r!=null&&r.parent)||r.parent.type!=="array"))return[this.offsetOf(r.firstSibling),this.offsetOf(r.lastSibling)]}}getAtoms(t,e,r){let i=r??{};if(s1(t)){if(i=e??{},t.ranges.length>1)return t.ranges.reduce((u,c)=>[...u,...this.getAtoms(c,i)],[]);t=t.ranges[0]}let n,s;if(el(t)){if(n=t,!el(e))return[];s=e}else[n,s]=t,i=e??{};if(!Number.isFinite(n))return[];i.includeChildren===void 0&&(i.includeChildren=!1),n<0&&(n=this.lastOffset-n+1),s<0&&(s=this.lastOffset+s+1);let a=Math.min(n,s)+1,o=Math.max(n,s);if(!i.includeChildren&&a===1&&o===this.lastOffset)return[this.root];let l=[];for(let u=a;u<=o;u++){let c=this.atoms[u];uk(this,c,a,o)&&l.push(c)}return i.includeChildren||(l=l.filter(u=>{let c=!1,{parent:d}=u;for(;d&&!c;)c=uk(this,d,a,o),d=d.parent;return!c})),l}findAtom(t,e=0,r="forward"){let i,n=this.lastOffset;if(r==="forward"){for(let s=e;s<=n;s++)if(i=this.atoms[s],t(i))return i;for(let s=0;s<e;s++)if(i=this.atoms[s],t(i))return i;return}for(let s=e;s>=0;s--)if(i=this.atoms[s],t(i))return i;for(let s=n;s>e;s--)if(i=this.atoms[s],t(i))return i}extractAtoms(t){var e;let r=this.getAtoms(t);r.length===1&&!r[0].parent&&r[0].isRoot&&(r[0]instanceof Tt?r=r[0].rows.flatMap(i=>i.flatMap(n=>n)):r=[...(e=r[0].body)!=null?e:r[0].children],r=r.filter(i=>i.type!=="first"));for(let i of r)i.parent.removeChild(i);return r}deleteAtoms(t){t!=null||(t=[0,-1]),this.extractAtoms(t),this.position=t[0]}atomToString(t,e){let r=e??"latex";if(r.startsWith("latex"))return ue.serialize([t],{expandMacro:r==="latex-expanded",skipStyles:r==="latex-unstyled",skipPlaceholders:r==="latex-without-placeholders",defaultMode:this.mathfield.options.defaultMode});if(r==="math-ml")return zt(t);if(r==="spoken")return o0(t);if(r==="spoken-text"){let i=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="";let n=o0(t);return globalThis.MathfieldElement.textToSpeechMarkup=i,n}if(r==="spoken-ssml"||r==="spoken-ssml-with-highlighting"){let i=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="ssml";let n=o0(t);return globalThis.MathfieldElement.textToSpeechMarkup=i,n}return r==="plain-text"?pr(t,{plain:!0}):r==="ascii-math"?pr(t):(console.error(`MathLive 0.105.3: Unexpected format "${r}`),"")}getValue(t,e,r){if(t===void 0)return this.atomToString(this.root,"latex");if(typeof t=="string"&&t!=="math-json")return this.atomToString(this.root,t);let i,n;if(el(t)&&el(e)?(i=[this.normalizeRange([t,e])],n=r):ug(t)?(i=[this.normalizeRange(t)],n=e):s1(t)?(i=t.ranges,n=e):(i=[this.normalizeRange([0,-1])],n=t),n!=null||(n="latex"),n==="math-json"){if(!globalThis.MathfieldElement.computeEngine)return window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`The CortexJS Compute Engine library is not available.
Load the library, for example with:
import "https://esm.run/@cortex-js/compute-engine"`),'["Error", "compute-engine-not-available"]';let s=this.getValue({ranges:i},"latex-unstyled");try{let a=globalThis.MathfieldElement.computeEngine.parse(s);return JSON.stringify(a.json)}catch(a){return JSON.stringify(["Error",`'${a.toString()}'`])}}if(n.startsWith("latex")){let s={expandMacro:n==="latex-expanded",skipStyles:n==="latex-unstyled",skipPlaceholders:n==="latex-without-placeholders",defaultMode:this.mathfield.options.defaultMode};return kt(i.map(a=>ue.serialize(this.getAtoms(a),s)))}return i.map(s=>this.getAtoms(s).map(a=>this.atomToString(a,n)).join("")).join("")}extendSelectionTo(t,e){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0},()=>{let r=this.normalizeRange([t,e]),[i,n]=r,{parent:s}=this.at(n);if(s&&(s.type==="genfrac"||s.type==="subsup"))for(;s!==this.root&&my(this,s,[i,n]);)n=this.offsetOf(s),s=s.parent;for(s=this.at(i).parent;s!==this.root&&my(this,s,[i,n]);)i=this.offsetOf(s.leftSibling),s=s.parent;if(s=this.at(n).parent,(s==null?void 0:s.type)==="genfrac")for(;s!==this.root&&my(this,s,[i,n]);)n=this.offsetOf(s),s=s.parent;this._position=this.normalizeOffset(e),this._selection={ranges:[[i,n]],direction:"none"}})}announce(t,e,r=[]){var i,n;((n=(i=this.mathfield.host)==null?void 0:i.dispatchEvent(new CustomEvent("announce",{detail:{command:t,previousPosition:e,atoms:r},cancelable:!0,bubbles:!0,composed:!0})))==null||n)&&P0e(this.mathfield,t,e,r)}deferNotifications(t,e){let r=this._selection,i=this._anchor,n=this._position,s=this.silenceNotifications;this.silenceNotifications=!0;let a=this.root.changeCounter;e(),this.silenceNotifications=s;let o=i!==this._anchor||n!==this._position||Qoe(this._selection,r)==="different";t.selection&&o&&this.selectionDidChange();let l=this.root.changeCounter!==a;return t.content&&l&&this.contentDidChange({inputType:t.type}),l||o}normalizeOffset(t){return t>0?t=Math.min(t,this.lastOffset):t<0&&(t=this.lastOffset+t+1),t}normalizeRange(t){let[e,r]=t;return e=this.normalizeOffset(e),r=this.normalizeOffset(r),e<r?[e,r]:[r,e]}normalizeSelection(t,e){var r;let i;if(el(t)){let n=this.normalizeOffset(t);if(el(e)){let s=this.normalizeOffset(e);i=n<=s?{ranges:[[n,s]],direction:"none"}:{ranges:[[s,n]],direction:"backward"}}else i={ranges:[[n,n]],direction:"none"}}else if(ug(t)){let n=this.normalizeOffset(t[0]),s=this.normalizeOffset(t[1]);i=n<=s?{ranges:[[n,s]],direction:"none"}:{ranges:[[s,n]],direction:"backward"}}else s1(t)&&(i={ranges:t.ranges.map(n=>this.normalizeRange(n)),direction:(r=t.direction)!=null?r:"none"});return i}get parentEnvironment(){let t=this.at(this.position).parent;if(t){for(;t.parent&&t.type!=="array";)t=t.parent;if(t.type==="array")return t}}get parentCell(){return this.getParentCell(this.position)}getParentCell(t){var e;let r=this.at(t);if(r){for(;r&&((e=r.parent)==null?void 0:e.type)!=="array";)r=r.parent;if(!(!(r!=null&&r.parent)||r.parent.type!=="array"))return r.parentBranch}}contentWillChange(t={}){if(this.silenceNotifications||!this.mathfield)return!0;let e=this.silenceNotifications;this.silenceNotifications=!0;let r=this.mathfield.onContentWillChange(t);return this.silenceNotifications=e,r}contentDidChange(t){if(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Vo(this.mathfield)),this.silenceNotifications||!this.mathfield||!this.mathfield.host)return;let e=this.silenceNotifications;this.silenceNotifications=!0,setTimeout(()=>{var r;!this.mathfield||!Oa(this.mathfield)||!this.mathfield.host||this.mathfield.host.dispatchEvent(new InputEvent("input",Z(q({},t),{data:t.data?t.data:(r=t.inputType)!=null?r:"",bubbles:!0,composed:!0})))},0),this.silenceNotifications=e}selectionDidChange(){if(!this.mathfield)return;let t=this.silenceNotifications;t||(this.silenceNotifications=!0,this.mathfield.onSelectionDidChange()),this.silenceNotifications=t}};function uk(t,e,r,i){let n=t.offsetOf(e);if(n<r||n>i)return!1;if(!e.hasChildren)return!0;let s=t.offsetOf(e.firstChild);if(s>=r&&s<=i){let a=t.offsetOf(e.lastChild);if(a>=r&&a<=i)return!0}return!1}function my(t,e,r){if(!(e!=null&&e.hasChildren))return!1;let[i,n]=r,s=t.offsetOf(e.firstChild),a=t.offsetOf(e.lastChild);return s>=i&&s<=n&&a>=s&&a<=n}function Mh(t,e,r,i){var n,s,a,o,l,u;let c=r.parent;if(no(i)&&r instanceof Tt&&r.isMultiline&&$0e(t,r,i[0],e))return!0;if(c&&r instanceof br){let d=!i&&e==="forward"||i==="body"&&e==="backward",h=d?t.offsetOf(r.firstChild):t.offsetOf(r.lastChild);return d?r.rightDelim!=="?"&&r.rightDelim!=="."?(r.leftDelim=".",r.isDirty=!0):(c.addChildrenAfter(r.removeBranch("body"),r),c.removeChild(r),h--):r.leftDelim!=="?"&&r.leftDelim!=="."?(r.rightDelim=".",r.isDirty=!0):(c.addChildrenAfter(r.removeBranch("body"),r),c.removeChild(r),h--),t.position=h,!0}if(c&&r.type==="surd"){if(e==="forward"&&!i||e==="backward"&&i==="body"){let d=r.leftSibling;r.hasChildren&&c.addChildrenAfter(r.removeBranch("body"),r),c.removeChild(r),t.position=t.offsetOf(d)}else e==="forward"&&i==="body"?t.position=t.offsetOf(r):!i&&e==="backward"?r.hasChildren?t.position=t.offsetOf(r.lastChild):(t.position=Math.max(0,t.offsetOf(r)-1),c.removeChild(r)):i==="above"&&(r.hasEmptyBranch("above")&&r.removeBranch("above"),e==="backward"?t.position=t.offsetOf(r.leftSibling):t.position=t.offsetOf(r.body[0]));return!0}if(c&&(r.type==="box"||r.type==="enclose")){let d=i&&e==="backward"||!i&&e==="forward"?r.leftSibling:r.lastChild;return c.addChildrenAfter(r.removeBranch("body"),r),c.removeChild(r),t.position=t.offsetOf(d),!0}if(r.type==="genfrac"||r.type==="overunder"){if(!i)return r.type==="overunder"&&r.hasEmptyBranch("body")||r.type==="genfrac"&&r.hasEmptyBranch("below")&&r.hasEmptyBranch("above")?!1:(t.position=t.offsetOf(e==="forward"?r.firstChild:r.lastChild),!0);let d=Iu.fractionNavigationOrder==="numerator-denominator"?"above":"below",h=d==="above"?"below":"above";if(c&&(e==="forward"&&i===d||e==="backward"&&i===h)){let f=r.removeBranch(d),g=r.removeBranch(h);return c.addChildrenAfter([...f,...g],r),c.removeChild(r),t.position=t.offsetOf(f.length>0?f[f.length-1]:g[0]),!0}return e==="backward"?t.position=t.offsetOf(r.leftSibling):t.position=t.offsetOf(r),!0}if(r.type==="extensible-symbol"||r.type==="subsup"){if(!i&&e==="forward")return!1;if(!i){if(r.subscript||r.superscript){let d=e==="forward"?(a=(n=r.superscript)==null?void 0:n[0])!=null?a:(s=r.subscript)==null?void 0:s[0]:(u=(o=r.subscript)==null?void 0:o[0].lastSibling)!=null?u:(l=r.superscript)==null?void 0:l[0].lastSibling;return d&&(t.position=t.offsetOf(d)),!0}return!1}if(!r.hasChildren&&r.type==="subsup"){let d=e==="forward"?t.offsetOf(r):Math.max(0,t.offsetOf(r)-1);return r.parent.removeChild(r),t.position=d,!0}if(i==="superscript")if(e==="backward"){let d=t.offsetOf(r.firstChild)-1;t.position=d}else r.subscript?t.position=t.offsetOf(r.subscript[0]):t.position=t.offsetOf(r);else i==="subscript"&&(e==="backward"&&r.superscript?t.position=t.offsetOf(r.superscript[0].lastSibling):e==="backward"?t.position=t.offsetOf(r.firstChild)-1:t.position=t.offsetOf(r));if(i&&r.hasEmptyBranch(i)&&(r.removeBranch(i),r.type==="subsup"&&!r.subscript&&!r.superscript)){let d=e==="forward"?t.offsetOf(r):Math.max(0,t.offsetOf(r)-1);r.parent.removeChild(r),t.position=d}return!0}if((c==null?void 0:c.type)==="genfrac"&&!i&&r.type!=="first"){let d=t.offsetOf(r.leftSibling);return c.removeChild(r),c.hasEmptyBranch("above")&&c.hasEmptyBranch("below")?(d=t.offsetOf(c.leftSibling),c.parent.removeChild(c),t.announce("delete",void 0,[c]),t.position=d,!0):(t.announce("delete",void 0,[r]),t.position=d,!0)}if(e==="backward"&&((c==null?void 0:c.command)==="\\ln"||(c==null?void 0:c.command)==="\\log")&&r.parentBranch!=="body"){let d=t.offsetOf(c.leftSibling);return c.parent.removeChild(c),t.announce("delete",void 0,[c]),t.position=d,!0}return!1}function F0e(t){return!t.mathfield.isSelectionEditable||!t.contentWillChange({inputType:"deleteContentBackward"})?!1:t.selectionIsCollapsed?t.deferNotifications({content:!0,selection:!0,type:"deleteContentBackward"},()=>{let e=t.at(t.position);if(!(e&&Mh(t,"backward",e))){if(e!=null&&e.isFirstSibling){if(Mh(t,"backward",e.parent,e.parentBranch))return;e=null}if(!e){t.announce("plonk");return}t.position=t.offsetOf(e.leftSibling),e.parent.removeChild(e),t.announce("delete",void 0,[e])}}):xs(t,Ci(t.selection),"deleteContentBackward")}function N0e(t){return!t.mathfield.isSelectionEditable||!t.contentWillChange({inputType:"deleteContentForward"})?!1:t.selectionIsCollapsed?t.deferNotifications({content:!0,selection:!0,type:"deleteContentForward"},()=>{var e,r;let i=t.at(t.position).rightSibling;if(i&&Mh(t,"forward",i))return;if(i){if(t.at(t.position).isLastSibling&&Mh(t,"forward",i.parent,i.parentBranch))return}else{if(i=t.at(t.position),i.isLastSibling&&Mh(t,"forward",i.parent,i.parentBranch))return;i=void 0}if(t.position===t.lastOffset||!i){t.announce("plonk");return}i.parent.removeChild(i);let n=(e=t.at(t.position))==null?void 0:e.rightSibling;for(;(n==null?void 0:n.type)==="subsup";)n.parent.removeChild(n),n=(r=t.at(t.position))==null?void 0:r.rightSibling;t.announce("delete",void 0,[i])}):xs(t,Ci(t.selection),"deleteContentForward")}function xs(t,e,r){let i=t.getAtoms(e);if(i.length>0&&i[0].parent){let n=i[0];for(;n&&!(n instanceof Tt);)n=n.parent;let s=i[i.length-1];for(;s&&!(s instanceof Tt);)s=s.parent;if(n&&n instanceof Tt){let c=n;if(c&&s===c&&c.isMultiline){let[d,h]=[Math.min(t.position,t.anchor),Math.max(t.position,t.anchor)],[f,g]=t.at(d).parentBranch,[y,C]=t.at(h).parentBranch;if(y-f+1>2){t.extractAtoms([d,h]);for(let A=f+1;A<y;A++)c.removeRow(A);return t.position=d,!0}}}let a=i[0].parent.firstChild;a.type==="first"&&(a=a.rightSibling);let o=i[i.length-1].parent.lastChild,l=i[0];l.type==="first"&&(l=l.rightSibling);let u=i[i.length-1];if(l===a&&u===o){let c=i[0].parent;c.parent&&c.type!=="prompt"&&(e=[t.offsetOf(c.leftSibling),t.offsetOf(c)])}if(i.length===1&&i[0].type==="placeholder"&&i[0].parent.type==="genfrac"){let c=i[0].parent,d=i[0].parentBranch==="below"?"above":"below",h=t.offsetOf(c.leftSibling);return t.deferNotifications({content:!0,selection:!0,type:r},()=>{var f,g;let y=c.removeBranch(d);if(y.length===1&&y[0].type==="placeholder")(g=c.parent)==null||g.removeChild(c),t.position=Math.max(0,h);else{let C=c.parent.addChildrenAfter(y,c);(f=c.parent)==null||f.removeChild(c),t.position=t.offsetOf(C)}})}}return t.deferNotifications({content:!0,selection:!0,type:r},()=>t.deleteAtoms(e))}function $0e(t,e,r,i){if(!(e instanceof Tt)||!e.isMultiline||e.rows.length===1||e.rows[r].length>1)return!1;let n=e.getCell(r,0);if(e.removeRow(r),i==="backward"){let s=e.getCell(r-1,0);t.position=t.offsetOf(s[s.length-1]),e.setCell(r-1,0,[...s,...n])}else{let s=e.getCell(r,0);t.position=t.offsetOf(s[0]),e.setCell(r,0,[...n,...s])}return!0}nn({deleteAll:t=>t.contentWillChange({inputType:"deleteContent"})&&xs(t,[0,-1],"deleteContent"),deleteForward:t=>N0e(t),deleteBackward:t=>F0e(t),deleteNextWord:t=>t.contentWillChange({inputType:"deleteWordForward"})&&xs(t,[t.anchor,Z5(t,t.position,"forward")],"deleteWordForward"),deletePreviousWord:t=>t.contentWillChange({inputType:"deleteWordBackward"})&&xs(t,[t.anchor,Z5(t,t.position,"backward")],"deleteWordBackward"),deleteToGroupStart:t=>t.contentWillChange({inputType:"deleteSoftLineBackward"})&&xs(t,[t.anchor,t.offsetOf(t.at(t.position).firstSibling)],"deleteSoftLineBackward"),deleteToGroupEnd:t=>t.contentWillChange({inputType:"deleteSoftLineForward"})&&xs(t,[t.anchor,t.offsetOf(t.at(t.position).lastSibling)],"deleteSoftLineForward"),deleteToMathFieldStart:t=>t.contentWillChange({inputType:"deleteHardLineBackward"})&&xs(t,[t.anchor,0],"deleteHardLineBackward"),deleteToMathFieldEnd:t=>t.contentWillChange({inputType:"deleteHardLineForward"})&&xs(t,[t.anchor,-1],"deleteHardLineForward")},{target:"model",audioFeedback:"delete",canUndo:!0,changeContent:!0,changeSelection:!0});var z0e=`<svg xmlns="http://www.w3.org/2000/svg" style="width: 21px;"  viewBox="0 0 576 512" role="img" aria-label="${ft("tooltip.toggle virtual keyboard")}"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg>`,U0e=`<svg xmlns="http://www.w3.org/2000/svg" style="height: 18px;" viewBox="0 0 448 512" role="img" aria-label="${ft("tooltip.menu")}"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg>`,q0e=class{constructor(t,e){this.focusBlurInProgress=!1,this.connectedToVirtualKeyboard=!1;var r,i,n;this.options=q(Z(q({},d1()),{macros:w6(),registers:PB()}),vg(e)),this.eventController=new AbortController;let s=this.eventController.signal;e.eventSink&&(this.host=e.eventSink),this.element=t,t.mathfield=this,this.blurred=!0,this.keystrokeCaptionVisible=!1,this.suggestionIndex=0,this.inlineShortcutBuffer=[],this.inlineShortcutBufferFlushTimer=0,this.defaultStyle={},this.styleBias="left",this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline"),this.dirty=!1;let a=(i=(r=e.value)!=null?r:this.element.textContent)!=null?i:"";a=a.trim();let o=zC(this.options),l=ts(a,{context:this.context}),u;l.length===1&&l[0].isRoot?u=l[0]:u=new ue({type:"root",mode:o,body:l}),this.model=new O0e(this,o,u),this.undoManager=new xce(this.model);let c=[];if(c.push("<span contenteditable=true role=textbox aria-autocomplete=none aria-multiline=false part=keyboard-sink class=ML__keyboard-sink autocapitalize=off autocomplete=off autocorrect=off spellcheck=false inputmode=none tabindex=0></span>"),c.push('<span part=container class=ML__container  style="visibility:hidden">'),c.push("<span part=content class=ML__content>"),c.push(qP(this)),c.push("</span>"),window.mathVirtualKeyboard&&(c.push(`<div part=virtual-keyboard-toggle class=ML__virtual-keyboard-toggle role=button ${this.hasEditableContent?"":'style="display:none;"'} data-l10n-tooltip="tooltip.toggle virtual keyboard">`),c.push(z0e),c.push("</div>")),c.push('<div part=menu-toggle class=ML__menu-toggle role=button data-l10n-tooltip="tooltip.menu">'),c.push(U0e),c.push("</div>"),c.push("</span>"),c.push("<span class=ML__sr-only>"),c.push("<span role=status aria-live=assertive aria-atomic=true></span>"),c.push("</span>"),this.element.innerHTML=globalThis.MathfieldElement.createHTML(c.join("")),!this.element.children){console.error("%cMathLive 0.105.3: Something went wrong and the mathfield could not be created.%c\nIf you are using Vue, this may be because you are using the runtime-only build of Vue. Make sure to include `runtimeCompiler: true` in your Vue configuration. There may a warning from Vue in the log above.","color:red;font-family:system-ui;font-size:1.2rem;font-weight:bold","color:inherit;font-family:system-ui;font-size:inherit;font-weight:inherit");return}this._l10Subscription=Ct.subscribe(()=>Ct.update(this.element)),Ct.update(this.element),this.field=this.element.querySelector("[part=content]"),this.field.addEventListener("click",h=>h.stopImmediatePropagation(),{capture:!1,signal:s}),this.field.addEventListener("wheel",this,{passive:!1,signal:s}),"PointerEvent"in window?this.field.addEventListener("pointerdown",this,{signal:s}):this.field.addEventListener("mousedown",this,{signal:s}),(n=this.element.querySelector("[part=virtual-keyboard-toggle]"))==null||n.addEventListener("click",()=>{window.mathVirtualKeyboard.visible?window.mathVirtualKeyboard.hide():(window.mathVirtualKeyboard.show({animate:!0}),window.mathVirtualKeyboard.update(Vo(this)))},{signal:s}),this.field.addEventListener("contextmenu",this,{signal:s});let d=this.element.querySelector("[part=menu-toggle]");d==null||d.addEventListener("pointerdown",h=>{if(h.currentTarget!==d)return;let f=this.menu;if(f.state!=="closed")return;this.element.classList.add("tracking");let g=d.getBoundingClientRect();f.modifiers=fu(h),f.show({target:d,location:{x:g.left,y:g.bottom},onDismiss:()=>this.element.classList.remove("tracking")}),h.preventDefault(),h.stopPropagation()},{signal:s}),(this.model.atoms.length<=1||this.disabled||this.readOnly&&!this.hasEditableContent||this.userSelect==="none")&&(d.style.display="none"),this.ariaLiveText=this.element.querySelector("[role=status]"),this.keyboardDelegate=kue(this.element.querySelector(".ML__keyboard-sink"),this.element,this),window.addEventListener("resize",this,{signal:s}),document.addEventListener("scroll",this,{signal:s}),this.resizeObserver=new ResizeObserver(h=>{if(this.resizeObserverStarted){this.resizeObserverStarted=!1;return}fr(this)}),this.resizeObserverStarted=!0,this.resizeObserver.observe(this.field),window.mathVirtualKeyboard.addEventListener("virtual-keyboard-toggle",this,{signal:s}),En!=="ready"&&document.fonts.ready.then(()=>gg(this)),t.querySelector("[part=container]").style.removeProperty("visibility"),this.undoManager.startRecording(),this.undoManager.snapshot("set-value"),fr(this)}connectToVirtualKeyboard(){this.connectedToVirtualKeyboard||(this.connectedToVirtualKeyboard=!0,window.addEventListener("message",this,{signal:this.eventController.signal}),window.mathVirtualKeyboard.connect(),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Vo(this)),zm(this))}disconnectFromVirtualKeyboard(){this.connectedToVirtualKeyboard&&(window.removeEventListener("message",this),window.mathVirtualKeyboard.disconnect(),this.connectedToVirtualKeyboard=!1,nv())}showMenu(t){var e,r;let i=(r=(e=t==null?void 0:t.location)!=null?e:o1(this.field))!=null?r:void 0,n=t==null?void 0:t.modifiers,s=this.element.querySelector("[part=container]");return this._menu.show({target:s,location:i,modifiers:n})}get colorMap(){return t=>{var e,r,i;return(i=(r=(e=this.options).colorMap)==null?void 0:r.call(e,t))!=null?i:T2(t)}}get backgroundColorMap(){return t=>{var e,r,i,n,s,a;return(a=(s=(r=(e=this.options).backgroundColorMap)==null?void 0:r.call(e,t))!=null?s:(n=(i=this.options).colorMap)==null?void 0:n.call(i,t))!=null?a:b6(t)}}get smartFence(){var t;return(t=this.options.smartFence)!=null?t:!1}get readOnly(){var t;return(t=this.options.readOnly)!=null?t:!1}get disabled(){var t,e;return(e=(t=this.host)==null?void 0:t.disabled)!=null?e:!1}get contentEditable(){return this.host?this.host.getAttribute("contenteditable")!=="false":!1}get userSelect(){if(!this.host)return"";let t=getComputedStyle(this.host);return t.getPropertyValue("user-select")||t.getPropertyValue("-webkit-user-select")}get hasEditableContent(){return this.disabled||!this.contentEditable?!1:!this.readOnly||this.hasEditablePrompts}get hasEditablePrompts(){return this.readOnly&&!this.disabled&&this.contentEditable&&this.model.findAtom(t=>t.type==="prompt"&&!t.locked)!==void 0}get isSelectionEditable(){if(this.disabled||!this.contentEditable)return!1;if(!this.readOnly)return!0;let t=this.model.at(this.model.anchor),e=this.model.at(this.model.position),r=ue.commonAncestor(t,e);return!!((r==null?void 0:r.type)==="prompt"||r!=null&&r.parentPrompt)}get letterShapeStyle(){var t;return(t=this.options.letterShapeStyle)!=null?t:"tex"}get minFontScale(){return this.options.minFontScale}get maxMatrixCols(){return this.options.maxMatrixCols}queryStyle(t){let e=W5(this,t);"verbatimColor"in e&&delete e.verbatimColor,"verbatimBackgroundColor"in e&&delete e.verbatimBackgroundColor;let r=Object.keys(e).length;if(r===0)return"all";if(r>1){for(let l of Object.keys(e)){let u=this.queryStyle({[l]:e[l]});if(u==="none")return"none";if(u==="some")return"some"}return"all"}let i=Object.keys(e)[0],n=e[i];if(this.model.selectionIsCollapsed)return E0(this)[i]===n?"all":"none";let s=this.model.getAtoms(this.model.selection,{includeChildren:!0}),a=s.length;if(a===0)return"none";let o=0;for(let l of s){if(l.type==="first"){a-=1;continue}l.style[i]===n&&(o+=1)}return o===0?"none":o===a?"all":"some"}get keybindings(){var t,e;if(this._keybindings)return this._keybindings;let[r,i]=Due(this.options.keybindings,(t=tp())!=null?t:wue());return((e=tp())==null?void 0:e.score)>0&&(this._keybindings=r,i.length>0&&console.error("MathLive 0.105.3: Invalid keybindings for current keyboard layout",i)),r}get menu(){return this._menu!=null||(this._menu=new tk(M0e(this),{host:this.host})),this._menu}set menuItems(t){this._menu?this._menu.menuItems=t:this._menu=new tk(t,{host:this.host})}setOptions(t){var e;this.options=q(q({},this.options),vg(t)),this._keybindings=void 0,this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline");let r=this.options.defaultMode;r==="inline-math"&&(r="math"),((e=this.model.root.firstChild)==null?void 0:e.mode)!==r&&(this.model.root.firstChild.mode=r),this.options.readOnly&&this.hasFocus()&&window.mathVirtualKeyboard.visible&&this.executeCommand("hideVirtualKeyboard");let i=ue.serialize([this.model.root],{expandMacro:!1,defaultMode:this.options.defaultMode});("macros"in t||this.model.getValue()!==i)&&jP(this),("value"in t||"registers"in t||"colorMap"in t||"backgroundColorMap"in t||"letterShapeStyle"in t||"minFontScale"in t||"maxMatrixCols"in t||"readOnly"in t||"placeholderContent"in t||"placeholderSymbol"in t)&&fr(this)}getOptions(t){return uu(this.options,t)}getOption(t){return uu(this.options,t)}async handleEvent(t){var e;if(Oa(this)){if(F6(t)){if(!E6(t.origin,(e=this.options.originValidator)!=null?e:"none"))throw new DOMException(`Message from unknown origin (${t.origin}) cannot be handled`,"SecurityError");let{action:r}=t.data;if(r==="execute-command"){let i=rp(t.data.command);if(!i||n0(i)==="virtual-keyboard")return;this.executeCommand(i)}else r==="update-state"||(r==="focus"?this.focus({preventScroll:!0}):r==="blur"&&this.blur());return}switch(t.type){case"focus":this.onFocus();break;case"blur":this.onBlur();break;case"mousedown":this.userSelect!=="none"&&KC(this,t);break;case"pointerdown":!t.defaultPrevented&&this.userSelect!=="none"&&(KC(this,t),t.shiftKey===!1&&await rk(t,this.element.querySelector("[part=container]"),this.menu)&&xg.stop());break;case"contextmenu":this.userSelect!=="none"&&t.shiftKey===!1&&await rk(t,this.element.querySelector("[part=container]"),this.menu)&&xg.stop();break;case"virtual-keyboard-toggle":this.hasFocus()&&zm(this),this.hasFocus()&&(this.keyboardDelegate.blur(),this.keyboardDelegate.focus());break;case"resize":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>Oa(this)&&this.onGeometryChange());break;case"scroll":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>Oa(this)&&this.onGeometryChange());break;case"wheel":this.onWheel(t);break;case"message":break;default:console.warn("Unexpected event type",t.type)}}}dispose(){if(!Oa(this))return;Ct.unsubscribe(this._l10Subscription),this.keyboardDelegate.dispose(),this.keyboardDelegate=void 0,this.eventController.abort(),this.eventController=void 0,this.resizeObserver.disconnect(),window.mathVirtualKeyboard.removeEventListener("virtual-keyboard-toggle",this),this.disconnectFromVirtualKeyboard(),this.model.dispose();let t=this.element;delete t.mathfield,this.element=void 0,this.host=void 0,this.field=void 0,this.ariaLiveText=void 0,Lce(),Oue(),Zce()}flushInlineShortcutBuffer(t){if(t!=null||(t={defer:!1}),!t.defer){this.inlineShortcutBuffer=[],clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=0;return}this.options.inlineShortcutTimeout>0&&(clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=setTimeout(()=>this.flushInlineShortcutBuffer(),this.options.inlineShortcutTimeout))}executeCommand(t){return n0(t)==="virtual-keyboard"?(this.focus({preventScroll:!0}),window.mathVirtualKeyboard.executeCommand(t),requestAnimationFrame(()=>window.mathVirtualKeyboard.update(Vo(this))),!1):jue(this,t)}get errors(){return zle(this.model.getValue(),{context:this.context})}getValue(t,e,r){return this.model.getValue(t,e,r)}setValue(t,e){var r;e=e??{mode:"math"},e.insertionMode===void 0&&(e.insertionMode="replaceAll"),(e.format===void 0||e.format==="auto")&&(e.format="latex"),(e.mode===void 0||e.mode==="auto")&&(e.mode=(r=tle(this.model,this.model.position))!=null?r:"math");let i=this.undoManager.canUndo();Qt.insert(this.model,t,e)&&(fr(this),i||this.undoManager.reset(),this.undoManager.snapshot("set-value"))}get expression(){let t=globalThis.MathfieldElement.computeEngine;return t?t.box(t.parse(this.model.getValue("latex-unstyled"))):(console.error("MathLive 0.105.3:  no compute engine available. Make sure the Compute Engine library is loaded."),null)}scrollIntoView(){var t;if(!this.element)return;if(this.host){if(this.options.onScrollIntoView)this.options.onScrollIntoView(this);else if(this.host.scrollIntoView({block:"nearest",inline:"nearest"}),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.container===window.document.body){let i=window.mathVirtualKeyboard.boundingRect,n=this.host.getBoundingClientRect();n.bottom>i.top&&((t=window.document.scrollingElement)==null||t.scrollBy(0,n.bottom-i.top+8))}}this.dirty&&Eu(this,{interactive:!0});let e=this.field.getBoundingClientRect(),r=null;if(this.model.selectionIsCollapsed)r=o1(this.field);else{let i=qB(this);if(i.length>0){let n=-1/0,s=-1/0;for(let a of i)a.right>n&&(n=a.right),a.top<s&&(s=a.top);r={x:n+e.left-this.field.scrollLeft,y:s+e.top-this.field.scrollTop,height:0}}}if(this.host&&r){let i=this.host.getBoundingClientRect(),n=r.y,s=this.host.scrollTop;n<i.top?s=n-i.top+this.host.scrollTop:n>i.bottom&&(s=n-i.bottom+this.host.scrollTop+r.height),this.host.scroll({top:s,left:0})}if(r){let i=r.x-window.scrollX,n=this.field.scrollLeft;i<e.left?n=i-e.left+this.field.scrollLeft-20:i>e.right&&(n=i-e.right+this.field.scrollLeft+20),this.field.scroll({top:this.field.scrollTop,left:n})}}insert(t,e){if(typeof t!="string"||t.length===0&&((e==null?void 0:e.insertionMode)==="insertBefore"||(e==null?void 0:e.insertionMode)==="insertAfter")||t.length===0&&this.model.selectionIsCollapsed)return!1;if(this.flushInlineShortcutBuffer(),e=e??{mode:"math"},e.focus&&this.focus(),e.feedback&&(globalThis.MathfieldElement.keypressVibration&&bB()&&navigator.vibrate(VP),globalThis.MathfieldElement.playSound("keypress")),t==="\\\\")XP(this.model);else if(t==="&")YP(this.model);else if(this.model.selectionIsCollapsed){let r=q({},E0(this));!/^[a-zA-Z0-9]$/.test(t)&&this.styleBias!=="none"&&(r.variant="normal",r.variantStyle=void 0),Qt.insert(this.model,t,q({style:r},e))}else Qt.insert(this.model,t,e);return this.snapshot(`insert-${this.model.at(this.model.position).type}`),fr(this),e.scrollIntoView&&this.scrollIntoView(),!0}switchMode(t,e="",r=""){if(this.model.mode===t||!this.hasEditableContent||!this.contentEditable||this.disabled)return;let{model:i}=this,n=i.mode;if(i.mode=t,this.host&&!this.host.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))){i.mode=n;return}i.mode=n,i.deferNotifications({content:!!r||!!e,selection:!0,type:"insertText"},()=>{let s=i.at(i.position),a=(c,d)=>{if(!c)return;let h=i.mode==="math"?ts(U5(c,{format:"ascii-math"})[1],{context:this.context}):[...c].map(f=>new Y0(f,f,{}));if(d.select){let f=s.parent.addChildrenAfter(h,s);i.setSelection(i.offsetOf(h[0].leftSibling),i.offsetOf(f))}else i.position=i.offsetOf(s.parent.addChildrenAfter(h,s));u=!0},o=(c,d)=>{let h=new Ch(c);s.parent.addChildAfter(h,s),d.select?i.setSelection(i.offsetOf(h.firstChild),i.offsetOf(h.lastChild)):i.position=i.offsetOf(h.lastChild),u=!0},l=()=>{let c=t==="latex"?"latex":t==="math"?"plain-text":"ascii-math",d=Ci(i.selection),h=this.model.getValue(d,c),f=this.model.extractAtoms(d);return f.length===1&&f[0].type==="placeholder"&&(h=r),s=i.at(d[0]),h},u=!1;if(this.flushInlineShortcutBuffer(),this.stopCoalescingUndo(),A0(this,"accept"),i.selectionIsCollapsed)a(e,{select:!1}),i.mode=t,t==="latex"?o(r,{select:!1}):a(r,{select:!1});else{let c=l();i.mode=t,t==="latex"?o(c,{select:!0}):a(c,{select:!0})}return fr(this),this.undoManager.snapshot(t==="latex"?"insert-latex":"insert"),u}),i.mode=t,window.mathVirtualKeyboard.update(Vo(this))}hasFocus(){return!this.blurred}focus(t){var e;this.focusBlurInProgress||(this.hasFocus()||(this.onFocus(),this.model.announce("line")),(e=t==null?void 0:t.preventScroll)!=null&&e||this.scrollIntoView())}blur(){this.disconnectFromVirtualKeyboard(),this.hasFocus()&&this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]},this.focus()}applyStyle(t,e={}){var r;let i,n="set",s=!1;ug(e)?i=e:(e.operation==="toggle"&&(n="toggle"),i=e.range,s=(r=e.silenceNotifications)!=null?r:!1),i&&(i=this.model.normalizeRange(i)),i&&i[0]===i[1]&&(i=void 0);let a=W5(this,t);if(i===void 0&&this.model.selectionIsCollapsed){if(n==="set"){let l=q({},this.defaultStyle);"color"in a&&delete l.verbatimColor,"backgroundColor"in a&&delete l.verbatimBackgroundColor,this.defaultStyle=q(q({},l),a),this.styleBias="none";return}let o=q({},this.defaultStyle);for(let l of Object.keys(a))o[l]===a[l]?(l==="color"&&delete o.verbatimColor,l==="backgroundColor"&&delete o.verbatimBackgroundColor,delete o[l]):o[l]=a[l];this.defaultStyle=o,this.styleBias="none";return}this.model.deferNotifications({content:!s,type:"insertText"},()=>{if(i===void 0)for(let o of this.model.selection.ranges)j5(this.model,o,a,{operation:n});else j5(this.model,i,a,{operation:n})}),fr(this)}toggleContextMenu(){var t;let e=this.menu;if(!e.visible)return!1;if(e.state==="open")return e.hide(),!0;let r=(t=VB(this,this.model.position))==null?void 0:t.bounds;if(!r)return!1;let i={x:r.right,y:r.bottom};return e.show({target:this.element.querySelector("[part=container]"),location:i,onDismiss:()=>{var n;return(n=this.element)==null?void 0:n.focus()}}),!0}getPrompt(t){return this.model.findAtom(r=>r.type==="prompt"&&r.placeholderId===t)}getPromptValue(t,e){let r=this.getPrompt(t);if(!r)return"";let i=this.model.offsetOf(r.firstChild),n=this.model.offsetOf(r.lastChild);return this.model.getValue(i,n,e)}getPrompts(t){return this.model.atoms.filter(e=>e.type!=="prompt"?!1:t?!(t.id&&e.placeholderId!==t.id||t.locked&&e.locked!==t.locked||t.correctness==="undefined"&&e.correctness||t.correctness&&e.correctness!==t.correctness):!0).map(e=>e.placeholderId)}setPromptValue(t,e,r){if(e!==void 0){let i=this.getPrompt(t);if(!i){console.error(`MathLive 0.105.3: unknown prompt ${t}`);return}let n=this.model.getBranchRange(this.model.offsetOf(i),"body");this.model.setSelection(n),this.insert(e,Z(q({},r),{insertionMode:"replaceSelection"}))}r!=null&&r.silenceNotifications&&(this.valueOnFocus=this.getValue()),fr(this)}setPromptState(t,e,r){let i=this.getPrompt(t);if(!i){console.error(`MathLive 0.105.3: unknown prompt ${t}`);return}e==="undefined"?i.correctness=void 0:typeof e=="string"&&(i.correctness=e),typeof r=="boolean"&&(i.locked=r,i.captureSelection=r),fr(this)}getPromptState(t){let e=this.getPrompt(t);return e?[e.correctness,e.locked]:(console.error(`MathLive 0.105.3: unknown prompt ${t}`),[void 0,!0])}getPromptRange(t){let e=this.getPrompt(t);return e?this.model.getBranchRange(this.model.offsetOf(e),"body"):(console.error(`MathLive 0.105.3: unknown prompt ${t}`),[0,0])}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop(),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Vo(this))}snapshot(t){var e;this.undoManager.snapshot(t)&&(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Vo(this)),(e=this.host)==null||e.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}stopCoalescingUndo(){this.undoManager.stopCoalescing(this.model.selection)}stopRecording(){this.undoManager.stopRecording()}startRecording(){this.undoManager.startRecording()}undo(){var t;this.undoManager.undo()&&((t=this.host)==null||t.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}redo(){var t;this.undoManager.redo()&&((t=this.host)==null||t.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"redo"}})))}resetUndo(){var t;(t=this.undoManager)==null||t.reset()}onSelectionDidChange(){var t,e;let r=this.model;if(this.keyboardDelegate.setValue(r.getValue(r.selection,"latex-expanded")),r.selectionIsCollapsed){let i=P6(r),n=r.position,s=r.at(n),a=(t=s.mode)!=null?t:zC(this.options);if(i&&(n<r.offsetOf(i.firstChild)-1||n>r.offsetOf(i.lastChild)+1))A0(this,"accept",{mode:a}),r.position=r.offsetOf(s);else{let o=r.at(n+1);(o==null?void 0:o.type)==="first"&&o.mode==="latex"?r.position=n+1:i&&(o==null?void 0:o.mode)!=="latex"?r.position=n-1:this.switchMode(a)}}(e=this.host)==null||e.dispatchEvent(new Event("selection-change",{bubbles:!0,composed:!0})),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Vo(this)),zm(this)}onContentWillChange(t){var e,r,i;return(i=(r=this.host)==null?void 0:r.dispatchEvent(new InputEvent("beforeinput",Z(q({},t),{data:t.data?t.data:(e=t.inputType)!=null?e:"",cancelable:!0,bubbles:!0,composed:!0}))))!=null?i:!0}onFocus(){this.focusBlurInProgress||!this.blurred||(this.focusBlurInProgress=!0,this.blurred=!1,this.stopCoalescingUndo(),this.valueOnFocus=this.model.getValue(),this.hasEditablePrompts&&!this.model.at(this.model.anchor).parentPrompt&&this.executeCommand("moveToNextPlaceholder"),Eu(this,{interactive:!0}),setTimeout(()=>{var t;if(!Oa(this))return;let e=new AbortController,r=e.signal;for(let i of["focus","blur","focusin","focusout"])(t=this.host)==null||t.addEventListener(i,n=>{n.preventDefault(),n.stopPropagation()},{once:!0,capture:!0,signal:r});this.keyboardDelegate.blur(),this.keyboardDelegate.focus(),this.connectToVirtualKeyboard(),this.focusBlurInProgress=!1,e.abort()},60))}onBlur(){var t,e,r;if(!(this.focusBlurInProgress||this.blurred)&&(this.focusBlurInProgress=!0,this.stopCoalescingUndo(),this.blurred=!0,this.ariaLiveText.textContent="",M0(this),this.model.getValue()!==this.valueOnFocus&&((t=this.host)==null||t.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),this.disconnectFromVirtualKeyboard(),(e=this.host)==null||e.dispatchEvent(new Event("blur",{bubbles:!1,composed:!0})),(r=this.host)==null||r.dispatchEvent(new UIEvent("focusout",{bubbles:!0,composed:!0})),fr(this),this.focusBlurInProgress=!1,nv(),z6.restoreFocusWhenDocumentFocused)){let i=new AbortController,n=i.signal;window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{Oa(this)&&this.focus({preventScroll:!0})},{once:!0,signal:n})},{once:!0,signal:n}),document.addEventListener("focusin",()=>i.abort(),{once:!0}),document.addEventListener("click",()=>i.abort(),{once:!0})}}onInput(t){Q5(this,t)}onKeystroke(t){return nI(this,t)}onCompositionStart(t){xs(this.model,Ci(this.model.selection),"insertText");let e=o1(this.field);e&&requestAnimationFrame(()=>{Eu(this),this.keyboardDelegate.moveTo(e.x,e.y-e.height)})}onCompositionUpdate(t){dce(this.model,t),fr(this)}onCompositionEnd(t){hce(this.model),Q5(this,t,{simulateKeystroke:!0})}onCut(t){if(!this.isSelectionEditable){this.model.announce("plonk");return}this.model.contentWillChange({inputType:"deleteByCut"})&&(this.stopCoalescingUndo(),t.clipboardData?Qt.onCopy(this,t):Qt.copyToClipboard(this,"latex"),xs(this.model,Ci(this.model.selection),"deleteByCut"),this.snapshot("cut"),fr(this))}onCopy(t){t.clipboardData?Qt.onCopy(this,t):Qt.copyToClipboard(this,"latex")}onPaste(t){let e=this.isSelectionEditable;return e&&(e=Qt.onPaste(this.model.at(this.model.position).mode,this,t.clipboardData)),e||this.model.announce("plonk"),t.preventDefault(),t.stopPropagation(),e}onGeometryChange(){var t;(t=this._menu)==null||t.hide(),N2(this),zm(this)}onWheel(t){let e=5*t.deltaX;if(!Number.isFinite(e)||e===0)return;let r=this.field;e<0&&r.scrollLeft===0||e>0&&r.offsetWidth+r.scrollLeft>=r.scrollWidth||(r.scrollBy({top:0,left:e}),t.preventDefault(),t.stopPropagation())}getHTMLElement(t){let e=t;for(;!e.id&&e.hasChildren;)e=t.children[0];return this.field.querySelector(`[data-atom-id="${e.id}"]`)}get context(){var t,e;return{registers:(t=this.options.registers)!=null?t:{},smartFence:this.smartFence,letterShapeStyle:this.letterShapeStyle,minFontScale:this.minFontScale,maxMatrixCols:this.maxMatrixCols,placeholderSymbol:(e=this.options.placeholderSymbol)!=null?e:"▢",colorMap:r=>this.colorMap(r),backgroundColorMap:r=>this.backgroundColorMap(r),getMacro:r=>kB(r,this.options.macros),atomIdsSettings:{seed:"random",groupNumbers:!1}}}};nn({speak:(t,e,r)=>j0e(t,e,r)},{target:"mathfield"});function j0e(t,e,r){var i;r=r??{withHighlighting:!1};let{model:n}=t;function s(c){let d=null;switch(c){case"all":d=n.root;break;case"selection":d=n.getAtoms(n.selection);break;case"left":{d=n.getAtoms(n.offsetOf(n.at(n.position).leftSibling),n.position);break}case"right":{d=n.getAtoms(n.position,n.offsetOf(n.at(n.position).rightSibling));break}case"group":d=n.getAtoms(n.getSiblingsRange(n.position));break;case"parent":{let{parent:h}=n.at(n.position);h!=null&&h.parent?d=h:d=n.root;break}default:d=n.root}return d}function a(c){let d="";switch(c){case"all":console.error("Internal failure: speak all failed");break;case"selection":d="no selection";break;case"left":d="at start";break;case"right":d="at end";break;case"group":console.error("Internal failure: speak group failed");break;case"parent":d="no parent";break;default:console.error('unknown speak_ param value: "'+c+'"');break}return d}let o=globalThis.MathfieldElement,l=s(e);if(l===null)return(i=o.speakHook)==null||i.call(o,a(e)),!1;(r.withHighlighting||o.speechEngine==="amazon")&&(o.textToSpeechMarkup=globalThis.sre&&o.textToSpeechRules==="sre"?"ssml_step":"ssml");let u=o0(l);return os()&&r.withHighlighting?(Ko().readAloudMathfield=t,Eu(t,{forHighlighting:!0}),o.readAloudHook&&o.readAloudHook(t.field,u)):o.speakHook&&o.speakHook(u),!1}function V0e(t){var e,r;if(!os())return;let i=globalThis.MathfieldElement;if(!i.speechEngine||i.speechEngine==="local"){let n=new SpeechSynthesisUtterance(t);globalThis.speechSynthesis.speak(n)}else if(i.speechEngine==="amazon")if(!("AWS"in window))console.error("MathLive 0.105.3: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");else{let n=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),s={OutputFormat:"mp3",VoiceId:(e=i.speechEngineVoice)!=null?e:"Joanna",Engine:["Amy","Emma","Brian","Ivy","Joanna","Kendra","Kimberly","Salli","Joey","Justin","Matthew"].includes((r=i.speechEngineVoice)!=null?r:"Joanna")?"neural":"standard",Text:t,TextType:"ssml"};n.synthesizeSpeech(s,(a,o)=>{if(a)console.trace(`MathLive 0.105.3: \`polly.synthesizeSpeech()\` error: ${a}`);else if(o!=null&&o.AudioStream){let l=new Uint8Array(o.AudioStream),u=new Blob([l.buffer],{type:"audio/mpeg"}),c=URL.createObjectURL(u);new Audio(c).play().catch(d=>console.error(d))}})}else i.speechEngine==="google"&&console.error("MathLive 0.105.3: The Google speech engine is not supported yet. Please come again.")}function vI(t){if(t&&(t.classList.remove("ML__highlight"),t.children))for(let e of t.children)vI(e)}function dv(t,e){var r;t&&(!e||((r=t.dataset)==null?void 0:r.atomId)===e?(t.classList.add("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(i=>{i instanceof HTMLElement&&dv(i)})):(t.classList.remove("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(i=>{i instanceof HTMLElement&&dv(i,e)})))}function H0e(t,e){var r;if(!os())return;if(globalThis.MathfieldElement.speechEngine!=="amazon"){console.error("MathLive 0.105.3: Use Amazon TTS Engine for synchronized highlighting"),typeof globalThis.MathfieldElement.speakHook=="function"&&globalThis.MathfieldElement.speakHook(e);return}if(!globalThis.AWS){console.error("MathLive 0.105.3: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");return}let i=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),n={OutputFormat:"json",VoiceId:(r=globalThis.MathfieldElement.speechEngineVoice)!=null?r:"Joanna",Engine:"standard",Text:e,TextType:"ssml",SpeechMarkTypes:["ssml"]};Ko().readAloudElement=t,i.synthesizeSpeech(n,(s,a)=>{if(s){console.trace(`MathLive 0.105.3: \`polly.synthesizeSpeech()\` error: ${s}`);return}if(!(a!=null&&a.AudioStream))return;let o=new TextDecoder("utf-8").decode(new Uint8Array(a.AudioStream));Ko().readAloudMarks=o.split(`
`).map(l=>l?JSON.parse(l):{}),Ko().readAloudTokens=[];for(let l of Ko().readAloudMarks)l.value&&Ko().readAloudTokens.push(l.value);Ko().readAloudCurrentMark="",n.OutputFormat="mp3",n.SpeechMarkTypes=[],i.synthesizeSpeech(n,(l,u)=>{if(l){console.trace(`MathLive 0.105.3: \`polly.synthesizeSpeech("${e}") error:${l}`);return}if(!(u!=null&&u.AudioStream))return;let c=new Uint8Array(u.AudioStream),d=new Blob([c.buffer],{type:"audio/mpeg"}),h=URL.createObjectURL(d),f=Ko();f.readAloudAudio?f.readAloudAudio.pause():(f.readAloudAudio=new Audio,f.readAloudAudio.addEventListener("ended",()=>{let g=f.readAloudMathfield;f.readAloudStatus="ended",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),g?(Eu(g),f.readAloudElement=null,f.readAloudMathfield=null,f.readAloudTokens=[],f.readAloudMarks=[],f.readAloudCurrentMark=""):vI(f.readAloudElement)}),f.readAloudAudio.addEventListener("timeupdate",()=>{let g="",y=f.readAloudAudio.currentTime*1e3+100;for(let C of f.readAloudMarks)C.time<y&&(g=C.value);f.readAloudCurrentMark!==g&&(f.readAloudCurrentToken=g,g&&g===f.readAloudFinalToken?f.readAloudAudio.pause():(f.readAloudCurrentMark=g,dv(f.readAloudElement,f.readAloudCurrentMark)))})),f.readAloudAudio.src=h,f.readAloudStatus="playing",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),f.readAloudAudio.play()})})}os()||console.error('MathLive 0.105.3: this version of the MathLive library is for use in the browser. A subset of the API is available on the server side in the "mathlive-ssr" library. If using server side rendering (with React for example) you may want to do a dynamic import of the MathLive library inside a `useEffect()` call.');var Ht=new WeakMap,K0e=.5,Uo={letterShapeStyle:"mf.letterShapeStyle = ...",horizontalSpacingScale:'Removed. Use `"thinmuskip"`, `"medmuskip"`, and `"thickmuskip"` registers ',macros:"mf.macros = ...",registers:"mf.registers = ...",backgroundColorMap:"mf.backgroundColorMap = ...",colorMap:"mf.colorMap = ...",enablePopover:"mf.popoverPolicy = ...",mathModeSpace:"mf.mathModeSpace = ...",placeholderSymbol:"mf.placeholderSymbol = ...",readOnly:"mf.readOnly = ...",removeExtraneousParentheses:"mf.removeExtraneousParentheses = ...",scriptDepth:"mf.scriptDepth = ...",smartFence:"mf.smartFence = ...",smartMode:"mf.smartMode = ...",smartSuperscript:"mf.smartSuperscript = ...",inlineShortcutTimeout:"mf.inlineShortcutTimeout = ...",inlineShortcuts:"mf.inlineShortcuts = ...",keybindings:"mf.keybindings = ...",virtualKeyboardMode:"mf.mathVirtualKeyboardPolicy = ...",customVirtualKeyboardLayers:"mathVirtualKeyboard.layers = ...",customVirtualKeyboards:"mathVirtualKeyboard.layouts = ...",keypressSound:"mathVirtualKeyboard.keypressSound = ...",keypressVibration:"mathVirtualKeyboard.keypressVibration = ...",plonkSound:"mathVirtualKeyboard.plonkSound = ...",virtualKeyboardContainer:"mathVirtualKeyboard.container = ...",virtualKeyboardLayout:"mathVirtualKeyboard.alphabeticLayout = ...",virtualKeyboardTheme:"No longer supported",virtualKeyboardToggleGlyph:"No longer supported",virtualKeyboardToolbar:"mathVirtualKeyboard.editToolbar = ...",virtualKeyboards:"Use `mathVirtualKeyboard.layouts`",speechEngine:"`MathfieldElement.speechEngine`",speechEngineRate:"`MathfieldElement.speechEngineRate`",speechEngineVoice:"`MathfieldElement.speechEngineVoice`",textToSpeechMarkup:"`MathfieldElement.textToSpeechMarkup`",textToSpeechRules:"`MathfieldElement.textToSpeechRules`",textToSpeechRulesOptions:"`MathfieldElement.textToSpeechRulesOptions`",readAloudHook:"`MathfieldElement.readAloudHook`",speakHook:"`MathfieldElement.speakHook`",computeEngine:"`MathfieldElement.computeEngine`",fontsDirectory:"`MathfieldElement.fontsDirectory`",soundsDirectory:"`MathfieldElement.soundsDirectory`",createHTML:"`MathfieldElement.createHTML`",onExport:"`mf.onExport`",onInlineShortcut:"`mf.onInlineShortcut`",onScrollIntoView:"`mf.onScrollIntoView`",locale:"MathfieldElement.locale = ...",strings:"MathfieldElement.strings = ...",decimalSeparator:"MathfieldElement.decimalSeparator = ...",fractionNavigationOrder:"MathfieldElement.fractionNavigationOrder = ..."},Rr=class Ho extends HTMLElement{constructor(e){if(super(),this._observer=null,e){let r=[];for(let i of Object.keys(e))if(Uo[i])if(Uo[i].startsWith("mf."))if(Uo[i].startsWith(`mf.${i}`))r.push(`Option \`${i}\` cannot be used as a constructor option. Use ${Uo[i]}`);else{let n=Uo[i].match(/([a-zA-Z]+) =/);r.push(`Option \`${i}\` has been renamed \`${n[1]}\``)}else r.push(`Option \`${i}\` cannot be used as a constructor option. Use ${Uo[i]}`);if(r.length>0){console.group("%cMathLive 0.105.3: %cInvalid Options","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn("Some of the options passed to `new MathfieldElement(...)` are invalid. \n          See mathfield/changelog/ for details.");for(let i of r)console.warn(i);console.groupEnd()}}if(kc()&&(this._internals=this.attachInternals(),this._internals.role="math",this._internals.ariaLabel="math input field",this._internals.ariaMultiLine="false"),this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot&&"adoptedStyleSheets"in this.shadowRoot){this.shadowRoot.adoptedStyleSheets=[Ac("core"),Ac("mathfield"),Ac("mathfield-element"),Ac("ui"),Ac("menu")],this.shadowRoot.appendChild(document.createElement("span"));let r=document.createElement("slot");r.style.display="none",this.shadowRoot.appendChild(r)}else this.shadowRoot.innerHTML="<style>"+lu("core")+lu("mathfield")+lu("mathfield-element")+lu("ui")+lu("menu")+'</style><span></span><slot style="display:none"></slot>';e&&this._setOptions(e)}static get formAssociated(){return kc()}static get optionsAttributes(){return{"default-mode":"string","letter-shape-style":"string","min-font-scale":"number","max-matrix-cols":"number","popover-policy":"string","math-mode-space":"string","read-only":"boolean","remove-extraneous-parentheses":"on/off","smart-fence":"on/off","smart-mode":"on/off","smart-superscript":"on/off","inline-shortcut-timeout":"string","script-depth":"string",placeholder:"string","virtual-keyboard-target-origin":"string","math-virtual-keyboard-policy":"string"}}static get observedAttributes(){return[...Object.keys(this.optionsAttributes),"contenteditable","disabled","readonly","read-only"]}static get fontsDirectory(){return this._fontsDirectory}static set fontsDirectory(e){e!==this._fontsDirectory&&(this._fontsDirectory=e,$ue())}get fontsDirectory(){throw new Error("Use MathfieldElement.fontsDirectory instead")}set fontsDirectory(e){throw new Error("Use MathfieldElement.fontsDirectory instead")}static get soundsDirectory(){return this._soundsDirectory}static set soundsDirectory(e){this._soundsDirectory=e,this.audioBuffers={}}get soundsDirectory(){throw new Error("Use MathfieldElement.soundsDirectory instead")}set soundsDirectory(e){throw new Error("Use MathfieldElement.soundsDirectory instead")}static get keypressSound(){return this._keypressSound}static set keypressSound(e){var r,i,n;this.audioBuffers={},e===null?this._keypressSound={spacebar:null,return:null,delete:null,default:null}:typeof e=="string"?this._keypressSound={spacebar:e,return:e,delete:e,default:e}:typeof e=="object"&&"default"in e&&(this._keypressSound={spacebar:(r=e.spacebar)!=null?r:e.default,return:(i=e.return)!=null?i:e.default,delete:(n=e.delete)!=null?n:e.default,default:e.default})}static get plonkSound(){return this._plonkSound}static set plonkSound(e){this.audioBuffers={},this._plonkSound=e}static get audioContext(){return this._audioContext||(this._audioContext=new AudioContext),this._audioContext}static get speechEngine(){return this._speechEngine}static set speechEngine(e){this._speechEngine=e}static get speechEngineRate(){return this._speechEngineRate}static set speechEngineRate(e){this._speechEngineRate=e}static get speechEngineVoice(){return this._speechEngineVoice}static set speechEngineVoice(e){this._speechEngineVoice=e}static get textToSpeechMarkup(){return this._textToSpeechMarkup}static set textToSpeechMarkup(e){this._textToSpeechMarkup=e}static get textToSpeechRules(){return this._textToSpeechRules}static set textToSpeechRules(e){this._textToSpeechRules=e}static get textToSpeechRulesOptions(){return this._textToSpeechRulesOptions}static set textToSpeechRulesOptions(e){this._textToSpeechRulesOptions=e}static get locale(){return Ct.locale}static set locale(e){e==="auto"&&(e=navigator.language.slice(0,5)),Ct.locale=e}get locale(){throw new Error("Use MathfieldElement.locale instead")}set locale(e){throw new Error("Use MathfieldElement.locale instead")}static get strings(){return Ct.strings}static set strings(e){Ct.merge(e)}get strings(){throw new Error("Use MathfieldElement.strings instead")}set strings(e){throw new Error("Use MathfieldElement.strings instead")}static get decimalSeparator(){return this._decimalSeparator}static set decimalSeparator(e){this._decimalSeparator=e,this._computeEngine&&(this._computeEngine.decimalSeparator=this.decimalSeparator===","?"{,}":".")}get decimalSeparator(){throw new Error("Use MathfieldElement.decimalSeparator instead")}set decimalSeparator(e){throw new Error("Use MathfieldElement.decimalSeparator instead")}static get fractionNavigationOrder(){return l1.fractionNavigationOrder}static set fractionNavigationOrder(e){if(e!=="numerator-denominator"&&e!=="denominator-numerator")throw new Error("Invalid value");l1.fractionNavigationOrder!==e&&(l1.fractionNavigationOrder=e,FC())}static get computeEngine(){var e,r;if(this._computeEngine===void 0){let i=(e=window[Symbol.for("io.cortexjs.compute-engine")])==null?void 0:e.ComputeEngine;if(!i)return null;this._computeEngine=new i,this._computeEngine&&this.decimalSeparator===","&&(this._computeEngine.decimalSeparator="{,}")}return(r=this._computeEngine)!=null?r:null}static set computeEngine(e){this._computeEngine=e}get computeEngine(){throw new Error("Use MathfieldElement.computeEngine instead")}set computeEngine(e){throw new Error("Use MathfieldElement.computeEngine instead")}static get isFunction(){return typeof this._isFunction!="function"?()=>!1:this._isFunction}static set isFunction(e){this._isFunction=e,FC()}static async loadSound(e){delete this.audioBuffers[e];let r="";switch(e){case"keypress":r=this._keypressSound.default;break;case"return":r=this._keypressSound.return;break;case"spacebar":r=this._keypressSound.spacebar;break;case"delete":r=this._keypressSound.delete;break;case"plonk":r=this.plonkSound;break}if(typeof r!="string")return;r=r.trim();let i=this.soundsDirectory;if(!(i==null||i==="null"||r==="none"||r==="null"))try{let n=await(await fetch(await UP(`${i}/${r}`))).arrayBuffer(),s=await this.audioContext.decodeAudioData(n);this.audioBuffers[e]=s}catch{}}static async playSound(e){if((this.audioContext.state==="suspended"||this.audioContext.state==="interrupted")&&await this.audioContext.resume(),this.audioBuffers[e]||await this.loadSound(e),!this.audioBuffers[e])return;let r=this.audioContext.createBufferSource();r.buffer=this.audioBuffers[e];let i=this.audioContext.createGain();i.gain.value=K0e,r.connect(i).connect(this.audioContext.destination),r.start()}showMenu(e){var r,i;return(i=(r=this._mathfield)==null?void 0:r.showMenu(e))!=null?i:!1}get mathVirtualKeyboard(){throw new Error("The `mathVirtualKeyboard` property is not available on the MathfieldElement. Use `window.mathVirtualKeyboard` instead.")}onPointerDown(){window.addEventListener("pointerup",e=>{let r=this._mathfield;if(r&&e.target===this&&!r.disabled){this.dispatchEvent(new MouseEvent("click",{altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,movementX:e.movementX,movementY:e.movementY,relatedTarget:e.relatedTarget,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey}));let i=this.getOffsetFromPoint(e.clientX,e.clientY);i>=0&&Ho.openUrl(ple(r,i)),e.pointerType==="touch"&&this.selectionIsCollapsed&&(this.position=i)}},{once:!0})}getPromptValue(e,r){var i,n;return(n=(i=this._mathfield)==null?void 0:i.getPromptValue(e,r))!=null?n:""}setPromptValue(e,r,i){var n;(n=this._mathfield)==null||n.setPromptValue(e,r,i)}getPromptRange(e){var r,i;return(i=(r=this._mathfield)==null?void 0:r.getPromptRange(e))!=null?i:null}getPrompts(e){var r,i;return(i=(r=this._mathfield)==null?void 0:r.getPrompts(e))!=null?i:[]}get form(){var e;return(e=this._internals)==null?void 0:e.form}get name(){var e;return(e=this.getAttribute("name"))!=null?e:""}get type(){return this.localName}get mode(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.model.mode)!=null?r:this.defaultMode==="text"?"text":"math"}set mode(e){var r;(r=this._mathfield)==null||r.switchMode(e)}get expression(){if(this._mathfield)return window[Symbol.for("io.cortexjs.compute-engine")]?this._mathfield.expression:(console.error(`MathLive 0.105.3: The CortexJS Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://esm.run/@cortex-js/compute-engine"`),null)}set expression(e){var r,i;if(!this._mathfield)return;let n=(i=(r=Ho.computeEngine)==null?void 0:r.box(e).latex)!=null?i:null;n!==null&&this._mathfield.setValue(n),window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`MathLive 0.105.3: The Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://esm.run/@cortex-js/compute-engine"`)}get errors(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.errors)!=null?r:[]}_getOptions(e){return this._mathfield?uu(this._mathfield.options,e):Ht.has(this)?q({},uu(q(q({},d1()),vg(Ht.get(this).options)),e)):null}getOptions(e){return console.warn("%cMathLive 0.105.3: %cDeprecated Usage%c\n      `mf.getOptions()` is deprecated. Read the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._mathfield?uu(this._mathfield.options,e):Ht.has(this)?uu(q(q({},d1()),vg(Ht.get(this).options)),e):null}reflectAttributes(){let e=d1(),r=this._getOptions();Object.keys(Ho.optionsAttributes).forEach(i=>{let n=Fa(i);Ho.optionsAttributes[i]==="on/off"?e[n]!==r[n]?this.setAttribute(i,r[n]?"on":"off"):this.removeAttribute(i):e[n]!==r[n]&&(Ho.optionsAttributes[i]==="boolean"?r[n]?this.setAttribute(i,""):this.removeAttribute(i):(typeof r[n]=="string"||typeof r[n]=="number")&&this.setAttribute(i,r[n].toString()))})}getOption(e){return console.warn("%cMathLive 0.105.3: %cDeprecated Usage%c\n      `mf.getOption()` is deprecated. Read the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._getOptions([e])[e]}_getOption(e){return this._getOptions([e])[e]}_setOptions(e){if(this._mathfield)this._mathfield.setOptions(e);else if(Ht.has(this)){let r=q(q({},Ht.get(this).options),e);Ht.set(this,Z(q({},Ht.get(this)),{selection:{ranges:r.readOnly?[[0,0]]:[[0,-1]]},options:r}))}else Ht.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:e,menuItems:void 0});this.reflectAttributes()}setOptions(e){console.group("%cMathLive 0.105.3: %cDeprecated Usage","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn(" `mf.setOptions()` is deprecated. Set the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.");for(let r of Object.keys(e))Uo[r]&&console.warn(`\`mf.setOptions({${r}:...})\` -> ${Uo[r]}`);console.groupEnd(),this._setOptions(e)}executeCommand(...e){var r,i;let n;if(e.length===1?n=e[0]:n=[e[0],...e.slice(1)],n)return(i=(r=this._mathfield)==null?void 0:r.executeCommand(n))!=null?i:!1;throw new Error("Invalid selector")}getValue(e,r,i){var n,s;if(this._mathfield)return this._mathfield.model.getValue(e,r,i);if(Ht.has(this)){let a,o,l;if(s1(e)?([a,o]=e.ranges[0],l=r):ug(e)?([a,o]=e,l=r):el(e)&&el(r)?(a=e,o=r,l=i):(a=0,o=-1,l=e),(l===void 0||l==="latex")&&a===0&&o===-1)return(s=(n=Ht.get(this).value)!=null?n:this.textContent)!=null?s:""}return""}setValue(e,r){if(this._mathfield&&e!==void 0){if(this._mathfield.model.getValue()===e)return;r!=null||(r={silenceNotifications:!0,mode:"math"}),this._mathfield.setValue(e,r);return}if(Ht.has(this)){let n=Ht.get(this).options;Ht.set(this,{value:e,selection:{ranges:[[-1,-1]],direction:"forward"},options:n,menuItems:void 0});return}let i=jm(this);Ht.set(this,{value:e,selection:{ranges:[[-1,-1]],direction:"forward"},options:i,menuItems:void 0})}hasFocus(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.hasFocus())!=null?r:!1}focus(){var e;(e=this._mathfield)==null||e.focus()}blur(){var e;(e=this._mathfield)==null||e.blur()}select(){var e;(e=this._mathfield)==null||e.select()}insert(e,r){var i,n;return(n=(i=this._mathfield)==null?void 0:i.insert(e,r))!=null?n:!1}applyStyle(e,r){var i;return(i=this._mathfield)==null?void 0:i.applyStyle(e,r)}queryStyle(e){var r,i;return(i=(r=this._mathfield)==null?void 0:r.queryStyle(e))!=null?i:"none"}getOffsetFromPoint(e,r,i){return this._mathfield?p1(this._mathfield,e,r,i):-1}getElementInfo(e){return VB(this._mathfield,e)}resetUndo(){var e;(e=this._mathfield)==null||e.resetUndo()}canUndo(){return this._mathfield?this._mathfield.canUndo():!1}canRedo(){return this._mathfield?this._mathfield.canRedo():!1}handleEvent(e){var r,i,n,s,a,o,l;if(ws.state!=="closed"||((i=(r=this._mathfield)==null?void 0:r.menu)==null?void 0:i.state)!=="closed")return;if(e.type==="pointerdown"){this.onPointerDown();let c=(n=this._mathfield)==null?void 0:n.keyboardDelegate;c==null||c.blur(),c==null||c.focus()}if(e.type==="focus"&&((s=this._mathfield)==null||s.focus()),e.type!=="blur")return;let u=vB();u&&(a=window==null?void 0:window.mathVirtualKeyboard)!=null&&a.visible||((o=ws.scrim)==null?void 0:o.state)!=="closed"||u&&poe()||(l=this._mathfield)==null||l.blur()}connectedCallback(){var e,r,i,n;let s=this.shadowRoot,a=s.host,o=window.getComputedStyle(this).userSelect!=="none";if(o)a.addEventListener("pointerdown",this,!0);else{let c=s.querySelector("span");c.style.pointerEvents="none"}a.addEventListener("focus",this,!0),a.addEventListener("blur",this,!0),this._observer=new MutationObserver(()=>{var c;this.value=(c=this.textContent)!=null?c:""}),this._observer.observe(this,{childList:!0,characterData:!0,subtree:!0}),kc()||(this.hasAttribute("role")||this.setAttribute("role","math"),this.hasAttribute("aria-label")||this.setAttribute("aria-label","math input field"),this.setAttribute("aria-multiline","false")),o&&!this.hasAttribute("contenteditable")&&this.setAttribute("contenteditable","true"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0");let l=s.querySelector("slot:not([name])");if(l)try{this._style=l.assignedElements().filter(c=>c.tagName.toLowerCase()==="style").map(c=>c.textContent).join("")}catch(c){console.error(c)}if(this._style){let c=document.createElement("style");c.textContent=this._style,s.appendChild(c)}let u="";if(this.hasAttribute("value")?u=this.getAttribute("value"):u=(e=l==null?void 0:l.assignedNodes().map(c=>c.nodeType===3?c.textContent:"").join("").trim())!=null?e:"",this._mathfield=new q0e(s.querySelector(":host > span"),Z(q({},(i=(r=Ht.get(this))==null?void 0:r.options)!=null?i:jm(this)),{eventSink:this,value:u})),!Ht.has(this)){this.upgradeProperty("disabled"),this.upgradeProperty("readonly");for(let c of Object.keys(Ho.optionsAttributes))this.upgradeProperty(Fa(c))}if(!((n=this._mathfield)!=null&&n.model)){this._mathfield=null;return}if(Ht.has(this)){let c=this._mathfield,d=Ht.get(this),h=d.menuItems;c.model.deferNotifications({content:!1,selection:!1},()=>{let f=d.value;f!==void 0&&c.setValue(f),c.model.selection=d.selection,Ht.delete(this)}),h&&(this.menuItems=h)}window.queueMicrotask(()=>{this.isConnected&&this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))}),R6()}disconnectedCallback(){var e,r,i;if(this.shadowRoot.host.removeEventListener("pointerdown",this,!0),!this._mathfield)return;(e=this._observer)==null||e.disconnect(),this._observer=null,window.queueMicrotask(()=>this.dispatchEvent(new Event("unmount",{cancelable:!1,bubbles:!0,composed:!0})));let n=uu(this._mathfield.options,Object.keys(Ho.optionsAttributes).map(s=>Fa(s)));Ht.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.model.selection,menuItems:(i=(r=this._mathfield.menu)==null?void 0:r.menuItems)!=null?i:void 0,options:n}),this._mathfield.dispose(),this._mathfield=null}upgradeProperty(e){if(this.hasOwnProperty(e)){let r=this[e];delete this[e],(e==="readonly"||e==="read-only")&&(e="readOnly"),this[e]=r}}attributeChangedCallback(e,r,i){if(r===i)return;let n=i!==null;switch(e){case"contenteditable":fr(this._mathfield);break;case"placeholder":i===!1&&(i=""),this.placeholder=i;break;case"disabled":this.disabled=n;break;case"read-only":case"readonly":this.readOnly=n;break}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(e){let r=!!e;r?(this.setAttribute("readonly",""),kc()?this._internals.ariaReadOnly="true":this.setAttribute("aria-readonly","true"),this.setAttribute("aria-readonly","true")):(kc()?this._internals.ariaReadOnly="false":this.removeAttribute("aria-readonly"),this.removeAttribute("readonly"),this.removeAttribute("read-only")),this._setOptions({readOnly:r})}get disabled(){return this.hasAttribute("disabled")}set disabled(e){var r;let i=!!e;i?this.setAttribute("disabled",""):this.removeAttribute("disabled"),kc()?this._internals.ariaDisabled=i?"true":"false":this.setAttribute("aria-disabled",i?"true":"false"),i&&(r=this._mathfield)!=null&&r.hasFocus&&window.mathVirtualKeyboard.visible&&this._mathfield.executeCommand("hideVirtualKeyboard")}get value(){return this.getValue()}set value(e){this.setValue(e)}get defaultMode(){return this._getOption("defaultMode")}set defaultMode(e){this._setOptions({defaultMode:e})}get macros(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("macros")}set macros(e){this._setOptions({macros:e})}get registers(){if(!this._mathfield)throw new Error("Mathfield not mounted");let e=this;return new Proxy({},{get:(r,i)=>{if(typeof i=="string")return e._getOption("registers")[i]},set(r,i,n){return typeof i!="string"?!1:(e._setOptions({registers:Z(q({},e._getOption("registers")),{[i]:n})}),!0)},ownKeys:()=>Reflect.ownKeys(e._getOption("registers")),getOwnPropertyDescriptor:(r,i)=>{let n=e._getOption("registers")[i];if(n!==void 0)return{configurable:!0,enumerable:!0,value:n,writable:!0}}})}set registers(e){this._setOptions({registers:e})}get colorMap(){return this._getOption("colorMap")}set colorMap(e){this._setOptions({colorMap:e})}get backgroundColorMap(){return this._getOption("backgroundColorMap")}set backgroundColorMap(e){this._setOptions({backgroundColorMap:e})}get letterShapeStyle(){return this._getOption("letterShapeStyle")}set letterShapeStyle(e){this._setOptions({letterShapeStyle:e})}get minFontScale(){return this._getOption("minFontScale")}set minFontScale(e){this._setOptions({minFontScale:e})}get maxMatrixCols(){return this._getOption("maxMatrixCols")}set maxMatrixCols(e){this._setOptions({maxMatrixCols:e})}get smartMode(){return this._getOption("smartMode")}set smartMode(e){this._setOptions({smartMode:e})}get smartFence(){return this._getOption("smartFence")}set smartFence(e){this._setOptions({smartFence:e})}get smartSuperscript(){return this._getOption("smartSuperscript")}set smartSuperscript(e){this._setOptions({smartSuperscript:e})}get scriptDepth(){return this._getOption("scriptDepth")}set scriptDepth(e){this._setOptions({scriptDepth:e})}get removeExtraneousParentheses(){return this._getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(e){this._setOptions({removeExtraneousParentheses:e})}get mathModeSpace(){return this._getOption("mathModeSpace")}set mathModeSpace(e){this._setOptions({mathModeSpace:e})}get placeholderSymbol(){return this._getOption("placeholderSymbol")}set placeholderSymbol(e){this._setOptions({placeholderSymbol:e})}get placeholder(){var e;return(e=this.getAttribute("placeholder"))!=null?e:""}set placeholder(e){var r;typeof e=="string"&&((r=this._mathfield)==null||r.setOptions({contentPlaceholder:e}))}get popoverPolicy(){return this._getOption("popoverPolicy")}set popoverPolicy(e){this._setOptions({popoverPolicy:e})}get environmentPopoverPolicy(){return this._getOption("environmentPopoverPolicy")}set environmentPopoverPolicy(e){this._setOptions({environmentPopoverPolicy:e})}get menuItems(){var e;if(!this._mathfield)throw new Error("Mathfield not mounted");return(e=this._mathfield.menu._menuItems.map(r=>r.menuItem))!=null?e:[]}set menuItems(e){var r;if(!this._mathfield)throw new Error("Mathfield not mounted");if(this._mathfield){let i=(r=this._mathfield.element)==null?void 0:r.querySelector("[part=menu-toggle]");i&&(i.style.display=e.length===0?"none":""),this._mathfield.menu.menuItems=e}}get mathVirtualKeyboardPolicy(){return this._getOption("mathVirtualKeyboardPolicy")}set mathVirtualKeyboardPolicy(e){this._setOptions({mathVirtualKeyboardPolicy:e})}get inlineShortcuts(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("inlineShortcuts")}set inlineShortcuts(e){if(!this._mathfield)throw new Error("Mathfield not mounted");this._setOptions({inlineShortcuts:e})}get inlineShortcutTimeout(){return this._getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(e){this._setOptions({inlineShortcutTimeout:e})}get keybindings(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("keybindings")}set keybindings(e){if(!this._mathfield)throw new Error("Mathfield not mounted");this._setOptions({keybindings:e})}get onInsertStyle(){let e=this._getOption("onInsertStyle");return e===void 0?I6:e}set onInsertStyle(e){this._setOptions({onInsertStyle:e})}get onInlineShortcut(){return this._getOption("onInlineShortcut")}set onInlineShortcut(e){this._setOptions({onInlineShortcut:e})}get onScrollIntoView(){return this._getOption("onScrollIntoView")}set onScrollIntoView(e){this._setOptions({onScrollIntoView:e})}get onExport(){return this._getOption("onExport")}set onExport(e){this._setOptions({onExport:e})}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOptions({readOnly:e})}get isSelectionEditable(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.isSelectionEditable)!=null?r:!1}setPromptState(e,r,i){var n;(n=this._mathfield)==null||n.setPromptState(e,r,i)}getPromptState(e){var r,i;return(i=(r=this._mathfield)==null?void 0:r.getPromptState(e))!=null?i:[void 0,!0]}get virtualKeyboardTargetOrigin(){return this._getOption("virtualKeyboardTargetOrigin")}set virtualKeyboardTargetOrigin(e){this._setOptions({virtualKeyboardTargetOrigin:e})}get selection(){return this._mathfield?this._mathfield.model.selection:Ht.has(this)?Ht.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(e){if(typeof e=="number"&&(e={ranges:[[e,e]]}),this._mathfield){this._mathfield.model.selection=e,fr(this._mathfield);return}if(Ht.has(this)){Ht.set(this,Z(q({},Ht.get(this)),{selection:e}));return}Ht.set(this,{value:void 0,selection:e,options:jm(this),menuItems:void 0})}get selectionIsCollapsed(){let e=this.selection;return e.ranges.length===1&&e.ranges[0][0]===e.ranges[0][1]}get position(){return this._mathfield?this._mathfield.model.position:Ht.has(this)?Ht.get(this).selection.ranges[0][0]:0}set position(e){if(this._mathfield&&(this._mathfield.model.position=e,fr(this._mathfield)),Ht.has(this)){Ht.set(this,Z(q({},Ht.get(this)),{selection:{ranges:[[e,e]]}}));return}Ht.set(this,{value:void 0,selection:{ranges:[[e,e]]},options:jm(this),menuItems:void 0})}get lastOffset(){var e,r;return(r=(e=this._mathfield)==null?void 0:e.model.lastOffset)!=null?r:-1}};Rr.version="0.105.3",Rr.openUrl=t=>{if(!t)return;let e=new URL(t);if(!["http:","https:","file:"].includes(e.protocol.toLowerCase())){Rr.playSound("plonk");return}window.open(e,"_blank")},Rr._fontsDirectory="./fonts/",Rr._soundsDirectory="./sounds",Rr.keypressVibration=!0,Rr._keypressSound={spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},Rr._plonkSound="plonk.wav",Rr.audioBuffers={},Rr.createHTML=t=>t,Rr._speechEngineRate="100%",Rr._speechEngineVoice="Joanna",Rr._textToSpeechMarkup="",Rr._textToSpeechRules="mathlive",Rr._textToSpeechRulesOptions={},Rr.speakHook=V0e,Rr.readAloudHook=H0e,Rr.restoreFocusWhenDocumentFocused=!0,Rr._decimalSeparator=".",Rr._isFunction=t=>{var e,r;let i=globalThis.MathfieldElement.computeEngine;return(r=(e=i==null?void 0:i.parse(t).domain)==null?void 0:e.isFunction)!=null?r:!1};var Iu=Rr;function Fa(t){return t.replace(/[^a-zA-Z\d]+(.)/g,(e,r)=>r.toUpperCase())}function jm(t){let e={readOnly:!1},r=Iu.optionsAttributes;return Object.keys(r).forEach(i=>{var n;if(t.hasAttribute(i)){let s=t.getAttribute(i);i==="placeholder"?e.contentPlaceholder=s??"":r[i]==="boolean"?e[Fa(i)]=!0:r[i]==="on/off"?(s=(n=s==null?void 0:s.toLowerCase())!=null?n:"",s==="on"||s==="true"?e[Fa(i)]=!0:s==="off"||s==="false"?e[Fa(i)]=!1:e[Fa(i)]=void 0):r[i]==="number"?e[Fa(i)]=Number.parseFloat(s??"0"):e[Fa(i)]=s}}),e}function kc(){return!(!("ElementInternals"in window)||!HTMLElement.prototype.attachInternals||!("role"in window.ElementInternals.prototype))}var z6=Iu,ck,dk,hk;if(os()&&!((ck=window.customElements)!=null&&ck.get("math-field"))){window[dk=Symbol.for("io.cortexjs.mathlive")]!=null||(window[dk]={});let t=window[Symbol.for("io.cortexjs.mathlive")];t.version="0.105.3",globalThis.MathfieldElement=Iu,(hk=window.customElements)==null||hk.define("math-field",Iu)}function W0e(t,e){let r=kl.singleton;return r?(r.show(),Nc(),r.currentLayer=e,r.render(),r.focus(),!0):!1}function G0e(){let t=window.mathVirtualKeyboard;return t.visible?t.hide({animate:!0}):t.show({animate:!0}),!1}nn({switchKeyboardLayer:W0e,toggleVirtualKeyboard:G0e,hideVirtualKeyboard:()=>(window.mathVirtualKeyboard.hide({animate:!0}),!1),showVirtualKeyboard:()=>(window.mathVirtualKeyboard.show({animate:!0}),!1)},{target:"virtual-keyboard"});function Ko(){var t;return globalThis[t=Symbol.for("io.cortexjs.mathlive")]!=null||(globalThis[t]={}),globalThis[Symbol.for("io.cortexjs.mathlive")]}const X0e=ki("integrationGym",{state:()=>({currentIntegral:{id:null,integral:null,author:null,user_solved:null,user_attempts:null},userAnswer:"",hasSubmitted:!1,submissionResult:null,dailyProblemRequest:{status:"idle",error:null},submitAnswerRequest:{status:"idle",error:null}}),getters:{isProblemLoaded:t=>t.dailyProblemRequest.status==="success",isProblemLoading:t=>t.dailyProblemRequest.status==="loading",isProblemError:t=>t.dailyProblemRequest.status==="error",isSubmitting:t=>t.submitAnswerRequest.status==="loading",isSubmitError:t=>t.submitAnswerRequest.status==="error"},actions:{async fetchDailyProblem(t=!0){this.dailyProblemRequest={status:"loading",error:null};try{const e=await wi.get("/daily-integral/");console.log(e.data),this.currentIntegral={id:e.data.id,integral:e.data.integral,author:e.data.original_author,user_solved:e.data.user_solved,user_attempts:e.data.user_attempts},t&&(this.userAnswer="",this.hasSubmitted=!1,this.submissionResult=null),this.dailyProblemRequest={status:"success",error:null}}catch(e){console.error("Failed to fetch daily problem:",e),this.currentIntegral={id:null,integral:null,author:null,user_solved:null,user_attempts:null},t&&(this.userAnswer="",this.hasSubmitted=!1,this.submissionResult=null),this.dailyProblemRequest={status:"success",error:null},jt().addToast({type:"warning",title:"Demo Mode",message:"Using demo problem. Backend not available."})}},async submitAnswer(){if(!(!this.userAnswer.trim()||this.hasSubmitted)){this.submitAnswerRequest={status:"loading",error:null};try{const t=await wi.post(`/daily-integral/check/${this.currentIntegral.id}/`,{user_answer:this.userAnswer});this.submissionResult={correct:t.data.correct,message:t.data.message},this.hasSubmitted=t.data.correct||this.hasSubmitted,this.submitAnswerRequest={status:"success",error:null},await this.fetchDailyProblem(!1)}catch(t){console.error("Failed to submit answer:",t),this.submissionResult={correct:!1,message:"failed to submit answer"},this.hasSubmitted=!0,this.submitAnswerRequest={status:"success",error:null}}}},resetProblem(){this.userAnswer="",this.hasSubmitted=!1,this.submissionResult=null,this.submitAnswerRequest={status:"idle",error:null}},resetSubmission(){this.submitAnswerRequest={status:"idle",error:null},this.submissionResult=null}}}),Y0e={class:"min-h-screen pt-[15rem]"},Z0e={key:0,class:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-60 flex justify-center items-center z-[503]"},J0e={class:"relative w-full h-full flex flex-col justify-center items-center overflow-hidden"},Q0e={class:"result-animation flex justify-center items-center"},ede={class:"subscript-animation mt-8 flex justify-center items-center"},tde={class:"text-white text-body font-medium text-center max-w-[60rem] px-4"},rde={key:3,class:"flex flex-col gap-8"},ide={class:"flex flex-row justify-center"},nde={key:0,class:"text-body font-body text-pearl-white"},sde={key:1,class:"text-body font-body text-red-400"},ade=["innerHTML"],ode={key:3,class:"text-body font-body text-pearl-white"},lde={class:"flex justify-center px-[2rem]"},ude={key:0,class:"w-full lg:w-[50rem] px-4"},cde={class:"bg-white rounded-[15px] p-8 text-center"},dde={class:"flex flex-col items-center gap-[2rem]"},hde={class:"text-center flex flex-col gap-[1rem] items-center"},pde={class:"text-body text-gray-600 mt-4"},fde={key:1,class:"w-full lg:w-[50rem] px-4"},mde={class:"rounded-lg p-6"},gde={class:"flex flex-col gap-4"},yde={key:0,class:"flex justify-center px-[2rem]"},vde={key:1,class:"flex justify-center px-[2rem]"},bde={class:"w-full lg:w-[50rem] px-4 py-2 rounded-lg text-center text-body font-medium bg-red text-white"},xde={class:"flex flex-row justify-center mt-[2rem] px-[2rem]"},_de=["disabled"],wde={class:"relative z-[2]"},pk=80,Sde=st({__name:"IntegrationGym",setup(t){const e=Fu(),r=X0e(),i=Si(),n=B0(),{currentIntegral:s,userAnswer:a,hasSubmitted:o,submissionResult:l,isProblemLoaded:u,isProblemLoading:c,isProblemError:d,isSubmitting:h,isSubmitError:f,dailyProblemRequest:g,submitAnswerRequest:y}=Ur(r),{isAuthenticated:C}=Ur(i),{isRulesVisible:S}=Ur(n),A=Xe(!1),T=Xe(!1),M=Xe(!1),D=Xe(!1),B=Xe(`${pk/15}rem`),F=sr(()=>{if(s.value.integral){const me=y6(s.value.integral);return B.value=`${v6(me,pk)/15}rem`,g6.renderToString(me,{throwOnError:!1,displayMode:!0})}return""});pi(l,me=>{me&&(D.value=!0,setTimeout(()=>{D.value=!1},4e3))});const V=()=>{A.value=!1,document.getElementsByTagName("body")[0].style.overflowY="unset"},O=()=>{V(),e.push("/sign_in")},U=()=>{V(),e.push("/")},J=()=>{T.value=!1,n.isRulesVisible=!1,document.getElementsByTagName("body")[0].style.overflowY="unset"},Y=()=>{localStorage.setItem("integrationGymRulesRead","true"),J()},re=()=>{T.value=!0,document.getElementsByTagName("body")[0].style.overflowY="hidden"};pi(S,me=>{me&&C.value&&M.value&&re()});const ce=async()=>{console.log("answer was:",a.value),await r.submitAnswer()},qe=me=>{a.value=me.target.value},Me=async()=>{if(!C.value){A.value=!0,document.getElementsByTagName("body")[0].style.overflowY="hidden";return}if(!localStorage.getItem("integrationGymRulesRead")){re(),await r.fetchDailyProblem();return}await r.fetchDailyProblem()};return qr(async()=>{M.value=!0,await Me()}),pi(a,me=>{console.log(me)}),(me,be)=>{const ot=yn("math-field");return X(),Ot(loe,null,{default:We(()=>[m("div",Y0e,[D.value&&P(l)?(X(),ne("div",Z0e,[m("div",J0e,[m("div",Q0e,[m("h1",{class:Wt({"font-heading text-[8rem] font-bold tracking-wider":!0,"text-green-400":P(l).correct,"text-red-400":!P(l).correct})},ge(P(l).correct?"Correct":"Incorrect"),3)]),m("div",ede,[m("p",tde,ge(P(l).correct?"Your solution is correct, good job!":"Unfortunately that wasn't the correct answer, don't give up and try again!"),1)])])])):je("",!0),A.value?(X(),ne("div",{key:1,class:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex justify-center items-center z-[502]",onClick:V},[m("div",{class:"bg-white rounded-3xl p-8 max-w-[50rem] w-full mx-4 text-screenBlack font-body",onClick:be[0]||(be[0]=Dc(()=>{},["stop"]))},[m("div",{class:"flex flex-col gap-8 text-center"},[be[3]||(be[3]=m("div",{class:"flex justify-center"},[m("div",{class:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center"},[m("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z",stroke:"#3B82F6","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),m("path",{d:"M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z",stroke:"#3B82F6","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])])],-1)),be[4]||(be[4]=m("div",null,[m("h3",{class:"font-heading text-subtitle text-screenBlack mb-2"},"Login Required"),m("p",{class:"text-body text-gray-600"},"You need to be logged in to play Integration Gym. Please log in to continue.")],-1)),m("div",{class:"flex gap-4"},[m("button",{draggable:"false",onClick:U,class:"flex-1 bg-gray-200 text-screenBlack py-3 px-6 rounded-xl font-heading text-body lg:hover:bg-gray-300 transition-colors duration-100"}," Go Back "),m("button",{draggable:"false",onClick:O,class:"flex-1 bg-primary text-screenBlack py-3 px-6 rounded-xl font-heading text-body lg:hover:bg-primary-600 transition-colors duration-100"}," Login ")])])])])):je("",!0),T.value?(X(),ne("div",{key:2,class:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex justify-center items-center z-[502]",onClick:J},[m("div",{class:"bg-white rounded-3xl p-8 max-w-[60rem] w-full mx-4 text-screenBlack font-body max-h-[80vh] flex flex-col",onClick:be[1]||(be[1]=Dc(()=>{},["stop"]))},[m("div",{class:"flex flex-col gap-6"},[be[5]||(be[5]=m("div",{class:"flex justify-center"},[m("div",{class:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center"},[m("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M12 6.25278V19.2528M12 6.25278C10.8321 5.47686 9.24649 5 7.5 5C5.75351 5 4.16789 5.47686 3 6.25278V19.2528C4.16789 18.4769 5.75351 18 7.5 18C9.24649 18 10.8321 18.4769 12 19.2528M12 6.25278C13.1679 5.47686 14.7535 5 16.5 5C18.2465 5 19.8321 5.47686 21 6.25278V19.2528C19.8321 18.4769 18.2465 18 16.5 18C14.7535 18 13.1679 18.4769 12 19.2528",stroke:"#FBC151","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])])],-1)),be[6]||(be[6]=m("div",{class:"text-center"},[m("h3",{class:"font-heading text-subtitle text-screenBlack mb-4"},"Integration Gym Rules")],-1)),be[7]||(be[7]=m("div",{class:"overflow-y-auto flex-1 max-h-[40vh] pr-2"},[m("div",{class:"space-y-4 text-body text-gray-700"},[m("div",{class:"bg-gray-50 p-4 rounded-lg"},[m("h4",{class:"font-heading text-body font-semibold mb-2 text-screenBlack"},"🎯 Objective"),m("p",null,"Solve the daily integration problem by entering your answer using the math input field.")]),m("div",{class:"bg-gray-50 p-4 rounded-lg"},[m("h4",{class:"font-heading text-body font-semibold mb-2 text-screenBlack"},"📝 How to Play"),m("ul",{class:"list-disc list-inside space-y-1"},[m("li",null,"A new integration problem is available each day"),m("li",null,"Use the math input field to enter your solution"),m("li",null,'Click "Submit" to check your answer'),m("li",null,"You can only solve one integrals per day"),m("li",null,"Keep only real valued functions or real numbers as the answer")])]),m("div",{class:"bg-gray-50 p-4 rounded-lg"},[m("h4",{class:"font-heading text-body font-semibold mb-2 text-screenBlack"},"✍️ Math Input Tips"),m("ul",{class:"list-disc list-inside space-y-1"},[m("li",null,"The input field supports virtual keyboard for symbols"),m("li",null,"The input supports standard LaTeX notation"),m("li",null,"Use parentheses to group terms: (x+1)^2"),m("li",null,"Constants like C should be included: + C")])]),m("div",{class:"bg-gray-50 p-4 rounded-lg"},[m("h4",{class:"font-heading text-body font-semibold mb-2 text-screenBlack"},"⚡ Scoring"),m("ul",{class:"list-disc list-inside space-y-1"},[m("li",null,"Correct answers contribute to your overall score"),m("li",null,"Track your progress over time"),m("li",null,"Compare with other players on the leaderboard")])]),m("div",{class:"bg-yellow-50 p-4 rounded-lg border-l-4 border-primary"},[m("h4",{class:"font-heading text-body font-semibold mb-2 text-screenBlack"},"💡 Pro Tips"),m("ul",{class:"list-disc list-inside space-y-1"},[m("li",null,"Double-check your answer before submitting"),m("li",null,"Remember to include the constant of integration"),m("li",null,"Simplify your answer when possible"),m("li",null,"Practice regularly to improve your skills")])])])],-1)),m("div",{class:"flex justify-center pt-4"},[m("button",{draggable:"false",onClick:Y,class:"bg-primary text-screenBlack py-3 px-8 rounded-xl font-heading text-body lg:hover:bg-primary-600 transition-colors duration-100"}," I've Read the Rules ")])])])])):je("",!0),P(C)&&!A.value&&!T.value?(X(),ne("div",rde,[be[13]||(be[13]=m("div",{class:"flex flex-row gap-4 w-full"},[m("div",{class:"flex-1 h-[5rem] flex items-center justify-left"},[m("svg",{class:"w-full h-full",viewBox:"0 0 425 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},[m("path",{d:"M0 0H422.176C423.791 0 424.74 1.81458 423.819 3.14079L388.5 54H0V0Z",fill:"#FBC151"})])]),m("h1",{class:"text-title font-heading text-pearl-white px-[5rem] text-center"}," Integration Gym "),m("div",{class:"flex-1 h-[5rem] flex items-center justify-right"},[m("svg",{class:"w-full h-full",viewBox:"0 0 425 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},[m("path",{d:"M425 0H2.82385C1.2092 0 0.260132 1.81458 1.18109 3.14079L36.5 54H425V0Z",fill:"#FBC151"})])])],-1)),be[14]||(be[14]=m("div",{class:"flex flex-row justify-center font-heading text-subtitle mt-[5rem]"},[m("h2",{class:"text-pearl-white text-center"}," Today's integral is: ")],-1)),m("div",ide,[m("div",{class:"flex justify-center items-center w-[50rem] h-[25rem] scale-[0.5] lg:scale-100",style:Zi({fontSize:B.value})},[P(c)?(X(),ne("div",nde," Loading problem... ")):P(d)?(X(),ne("div",sde,ge(P(g).error),1)):P(u)||P(g).status==="error"?(X(),ne("div",{key:2,class:"text-pearl-white",innerHTML:F.value},null,8,ade)):(X(),ne("div",ode," No problem loaded yet "))],4)]),m("div",lde,[P(s).user_solved?(X(),ne("div",ude,[m("div",cde,[m("div",dde,[be[11]||(be[11]=m("div",{class:"w-24 h-24 bg-green-500 rounded-full flex items-center justify-center"},[m("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M20 6L9 17L4 12",stroke:"white","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),m("div",hde,[be[8]||(be[8]=m("h3",{class:"font-heading text-subtitle text-green-600 mb-2"},"Well Done!",-1)),be[9]||(be[9]=m("p",{class:"text-body text-screenBlack font-medium mb-2"}," You have already solved today's integral! ",-1)),be[10]||(be[10]=m("p",{class:"text-body text-gray-600"}," Come back tomorrow for a new challenge. ",-1)),m("p",pde," You used "+ge(P(s).user_attempts||1)+" "+ge((P(s).user_attempts||1)===1?"try":"tries")+" to solve it. ",1)]),m("button",{onClick:be[2]||(be[2]=vt=>P(e).push("/")),class:"bg-primary text-screenBlack py-3 px-8 rounded-xl font-heading text-subtitle lg:hover:bg-primary-600 transition-colors duration-100"}," Return Home ")])])])):(X(),ne("div",fde,[m("div",mde,[m("div",gde,[be[12]||(be[12]=m("label",{class:"text-body font-medium text-pearl-white mb-3"}," Enter your answer: ",-1)),ye(ot,{class:"w-full cursor-text border-2 border-gray-300 rounded-lg p-4 text-body focus:border-blue-500 focus:outline-none",value:P(a),onInput:qe,options:{virtualKeyboardMode:"manual",smartFence:!0,smartSuperscript:!0},disabled:P(o)||P(h)},null,8,["value","disabled"])])])]))]),P(l)?(X(),ne("div",yde,[m("div",{class:Wt({"w-full lg:w-[50rem] px-4 py-2 rounded-lg text-center font-medium text-body":!0,"bg-green text-white":P(l).correct,"bg-red text-white":!P(l).correct})},ge(P(l).message),3)])):je("",!0),P(f)?(X(),ne("div",vde,[m("div",bde,ge(P(y).error),1)])):je("",!0),m("div",xde,[m("button",{onClick:ce,disabled:P(h)||P(o)||!P(a).trim()||!P(u),class:Wt({"w-full lg:w-[45rem] overflow-hidden rounded-[20px] font-heading text-title px-[4rem] pt-[0.6rem] pb-[0.4rem] relative transition-all duration-200":!0,"bg-gray-100 text-gray-400 cursor-not-allowed":P(h)||P(o)||!P(a).trim()||!P(u),"bg-primary border-primary border-4 text-pearl-white lg:hover:text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:hidden lg:after:flex after:bg-screenBlack lg:hover:after:scale-y-0 after:transition-transform after:duration-200 after:will-change-transform after:origin-top":!P(h)&&!P(o)&&P(a).trim()&&P(u)}),title:"submit","aria-label":"submit"},[m("span",wde,ge(P(h)?"Submitting...":P(o)?"Submitted":"Submit"),1)],10,_de)])])):je("",!0)])]),_:1})}}}),Cde=uo(Sde,[["__scopeId","data-v-b0645e13"]]),U6=V$({history:w$(),scrollBehavior(t,e,r){return t.hash?{el:t.hash,behavior:"smooth",top:100}:{top:0,left:0}},routes:[{path:"/",component:VZ,name:"home"},{path:"/events",component:oJ,name:"events"},{path:"/news",component:BJ,name:"news"},{path:"/contact",component:dQ,name:"contact"},{path:"/event/:id",component:Kte,name:"event"},{path:"/myProfile",component:Dre,name:"profile"},{path:"/sign_up",component:tie,name:"sign_up"},{path:"/sign_in",component:gie,name:"sign_in"},{path:"/imprint",component:bie,name:"imprint"},{path:"/terms_of_use",component:wie,name:"terms_of_use"},{path:"/reset_password",component:Tie,name:"reset_password"},{path:"/presenting",component:Iie,name:"presenting",children:[{path:"",component:Zie,name:"presenting_main_menu"},{path:"series_presentation/:competition/:series",component:xae,name:"series_presentation"}]},{path:"/games",component:Pie,name:"games"},{path:"/game/integration_gym",component:Cde,name:"integration_gym"},{path:"/rankings",component:roe,name:"rankings"},{path:"/:pathMatch(.*)*",redirect:{name:"home"},name:"not_found"}]}),kde=["profile"],Tde=["admin"],Ede=["presenting","presenting_main_menu","series_presentation"];U6.beforeEach(async(t,e,r)=>{const i=Si();i.userDataRequest.status==null&&await i.getProfileData();const n=i.isAuthenticated,s=i.user.isAdmin,a=!!i.user.role&&i.user.role.IntegralEditor;//!FOR DEVELOPMENT ONLY!
if(kde.includes(t.name)&&!n&&t.name!=="sign_in"){r("/sign_in");return}if(Tde.includes(t.name)&&(!n||!s)&&t.name!=="home"){r("/");return}if(Ede.includes(t.name)&&!(s||a)&&t.name!=="home"){r("/");return}if(["sign_in","sign_up"].includes(t.name)&&n){r("/events");return}r()});var bI={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(Ya,function(){return function(r){function i(s){if(n[s])return n[s].exports;var a=n[s]={exports:{},id:s,loaded:!1};return r[s].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}var n={};return i.m=r,i.c=n,i.p="dist/",i(0)}([function(r,i,n){function s(ce){return ce&&ce.__esModule?ce:{default:ce}}var a=Object.assign||function(ce){for(var qe=1;qe<arguments.length;qe++){var Me=arguments[qe];for(var me in Me)Object.prototype.hasOwnProperty.call(Me,me)&&(ce[me]=Me[me])}return ce},o=n(1),l=(s(o),n(6)),u=s(l),c=n(7),d=s(c),h=n(8),f=s(h),g=n(9),y=s(g),C=n(10),S=s(C),A=n(11),T=s(A),M=n(14),D=s(M),B=[],F=!1,V={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},O=function(){var ce=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(ce&&(F=!0),F)return B=(0,T.default)(B,V),(0,S.default)(B,V.once),B},U=function(){B=(0,D.default)(),O()},J=function(){B.forEach(function(ce,qe){ce.node.removeAttribute("data-aos"),ce.node.removeAttribute("data-aos-easing"),ce.node.removeAttribute("data-aos-duration"),ce.node.removeAttribute("data-aos-delay")})},Y=function(ce){return ce===!0||ce==="mobile"&&y.default.mobile()||ce==="phone"&&y.default.phone()||ce==="tablet"&&y.default.tablet()||typeof ce=="function"&&ce()===!0},re=function(ce){V=a(V,ce),B=(0,D.default)();var qe=document.all&&!window.atob;return Y(V.disable)||qe?J():(V.disableMutationObserver||f.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),V.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",V.easing),document.querySelector("body").setAttribute("data-aos-duration",V.duration),document.querySelector("body").setAttribute("data-aos-delay",V.delay),V.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?O(!0):V.startEvent==="load"?window.addEventListener(V.startEvent,function(){O(!0)}):document.addEventListener(V.startEvent,function(){O(!0)}),window.addEventListener("resize",(0,d.default)(O,V.debounceDelay,!0)),window.addEventListener("orientationchange",(0,d.default)(O,V.debounceDelay,!0)),window.addEventListener("scroll",(0,u.default)(function(){(0,S.default)(B,V.once)},V.throttleDelay)),V.disableMutationObserver||f.default.ready("[data-aos]",U),B)};r.exports={init:re,refresh:O,refreshHard:U}},function(r,i){},,,,,function(r,i){(function(n){function s(Y,re,ce){function qe(z){var ie=Ft,ve=it;return Ft=it=void 0,Ie=z,oe=Y.apply(ve,ie)}function Me(z){return Ie=z,Te=setTimeout(ot,re),wt?qe(z):oe}function me(z){var ie=z-Ee,ve=z-Ie,pe=re-ie;return St?U(pe,It-ve):pe}function be(z){var ie=z-Ee,ve=z-Ie;return Ee===void 0||ie>=re||ie<0||St&&ve>=It}function ot(){var z=J();return be(z)?vt(z):void(Te=setTimeout(ot,me(z)))}function vt(z){return Te=void 0,N&&Ft?qe(z):(Ft=it=void 0,oe)}function $e(){Te!==void 0&&clearTimeout(Te),Ie=0,Ft=Ee=it=Te=void 0}function Je(){return Te===void 0?oe:vt(J())}function rt(){var z=J(),ie=be(z);if(Ft=arguments,it=this,Ee=z,ie){if(Te===void 0)return Me(Ee);if(St)return Te=setTimeout(ot,re),qe(Ee)}return Te===void 0&&(Te=setTimeout(ot,re)),oe}var Ft,it,It,oe,Te,Ee,Ie=0,wt=!1,St=!1,N=!0;if(typeof Y!="function")throw new TypeError(h);return re=c(re)||0,o(ce)&&(wt=!!ce.leading,St="maxWait"in ce,It=St?O(c(ce.maxWait)||0,re):It,N="trailing"in ce?!!ce.trailing:N),rt.cancel=$e,rt.flush=Je,rt}function a(Y,re,ce){var qe=!0,Me=!0;if(typeof Y!="function")throw new TypeError(h);return o(ce)&&(qe="leading"in ce?!!ce.leading:qe,Me="trailing"in ce?!!ce.trailing:Me),s(Y,re,{leading:qe,maxWait:re,trailing:Me})}function o(Y){var re=typeof Y>"u"?"undefined":d(Y);return!!Y&&(re=="object"||re=="function")}function l(Y){return!!Y&&(typeof Y>"u"?"undefined":d(Y))=="object"}function u(Y){return(typeof Y>"u"?"undefined":d(Y))=="symbol"||l(Y)&&V.call(Y)==g}function c(Y){if(typeof Y=="number")return Y;if(u(Y))return f;if(o(Y)){var re=typeof Y.valueOf=="function"?Y.valueOf():Y;Y=o(re)?re+"":re}if(typeof Y!="string")return Y===0?Y:+Y;Y=Y.replace(y,"");var ce=S.test(Y);return ce||A.test(Y)?T(Y.slice(2),ce?2:8):C.test(Y)?f:+Y}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},h="Expected a function",f=NaN,g="[object Symbol]",y=/^\s+|\s+$/g,C=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,A=/^0o[0-7]+$/i,T=parseInt,M=(typeof n>"u"?"undefined":d(n))=="object"&&n&&n.Object===Object&&n,D=(typeof self>"u"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,B=M||D||Function("return this")(),F=Object.prototype,V=F.toString,O=Math.max,U=Math.min,J=function(){return B.Date.now()};r.exports=a}).call(i,function(){return this}())},function(r,i){(function(n){function s(J,Y,re){function ce(N){var z=rt,ie=Ft;return rt=Ft=void 0,Ee=N,It=J.apply(ie,z)}function qe(N){return Ee=N,oe=setTimeout(be,Y),Ie?ce(N):It}function Me(N){var z=N-Te,ie=N-Ee,ve=Y-z;return wt?O(ve,it-ie):ve}function me(N){var z=N-Te,ie=N-Ee;return Te===void 0||z>=Y||z<0||wt&&ie>=it}function be(){var N=U();return me(N)?ot(N):void(oe=setTimeout(be,Me(N)))}function ot(N){return oe=void 0,St&&rt?ce(N):(rt=Ft=void 0,It)}function vt(){oe!==void 0&&clearTimeout(oe),Ee=0,rt=Te=Ft=oe=void 0}function $e(){return oe===void 0?It:ot(U())}function Je(){var N=U(),z=me(N);if(rt=arguments,Ft=this,Te=N,z){if(oe===void 0)return qe(Te);if(wt)return oe=setTimeout(be,Y),ce(Te)}return oe===void 0&&(oe=setTimeout(be,Y)),It}var rt,Ft,it,It,oe,Te,Ee=0,Ie=!1,wt=!1,St=!0;if(typeof J!="function")throw new TypeError(d);return Y=u(Y)||0,a(re)&&(Ie=!!re.leading,wt="maxWait"in re,it=wt?V(u(re.maxWait)||0,Y):it,St="trailing"in re?!!re.trailing:St),Je.cancel=vt,Je.flush=$e,Je}function a(J){var Y=typeof J>"u"?"undefined":c(J);return!!J&&(Y=="object"||Y=="function")}function o(J){return!!J&&(typeof J>"u"?"undefined":c(J))=="object"}function l(J){return(typeof J>"u"?"undefined":c(J))=="symbol"||o(J)&&F.call(J)==f}function u(J){if(typeof J=="number")return J;if(l(J))return h;if(a(J)){var Y=typeof J.valueOf=="function"?J.valueOf():J;J=a(Y)?Y+"":Y}if(typeof J!="string")return J===0?J:+J;J=J.replace(g,"");var re=C.test(J);return re||S.test(J)?A(J.slice(2),re?2:8):y.test(J)?h:+J}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},d="Expected a function",h=NaN,f="[object Symbol]",g=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,S=/^0o[0-7]+$/i,A=parseInt,T=(typeof n>"u"?"undefined":c(n))=="object"&&n&&n.Object===Object&&n,M=(typeof self>"u"?"undefined":c(self))=="object"&&self&&self.Object===Object&&self,D=T||M||Function("return this")(),B=Object.prototype,F=B.toString,V=Math.max,O=Math.min,U=function(){return D.Date.now()};r.exports=s}).call(i,function(){return this}())},function(r,i){function n(c){var d=void 0,h=void 0;for(d=0;d<c.length;d+=1)if(h=c[d],h.dataset&&h.dataset.aos||h.children&&n(h.children))return!0;return!1}function s(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(){return!!s()}function o(c,d){var h=window.document,f=s(),g=new f(l);u=d,g.observe(h.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function l(c){c&&c.forEach(function(d){var h=Array.prototype.slice.call(d.addedNodes),f=Array.prototype.slice.call(d.removedNodes),g=h.concat(f);if(n(g))return u()})}Object.defineProperty(i,"__esModule",{value:!0});var u=function(){};i.default={isSupported:a,ready:o}},function(r,i){function n(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function s(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function h(f,g){for(var y=0;y<g.length;y++){var C=g[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(f,C.key,C)}}return function(f,g,y){return g&&h(f.prototype,g),y&&h(f,y),f}}(),o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,d=function(){function h(){n(this,h)}return a(h,[{key:"phone",value:function(){var f=s();return!(!o.test(f)&&!l.test(f.substr(0,4)))}},{key:"mobile",value:function(){var f=s();return!(!u.test(f)&&!c.test(f.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),h}();i.default=new d},function(r,i){Object.defineProperty(i,"__esModule",{value:!0});var n=function(a,o,l){var u=a.node.getAttribute("data-aos-once");o>a.position?a.node.classList.add("aos-animate"):typeof u<"u"&&(u==="false"||!l&&u!=="true")&&a.node.classList.remove("aos-animate")},s=function(a,o){var l=window.pageYOffset,u=window.innerHeight;a.forEach(function(c,d){n(c,u+l,o)})};i.default=s},function(r,i,n){function s(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(i,"__esModule",{value:!0});var a=n(12),o=s(a),l=function(u,c){return u.forEach(function(d,h){d.node.classList.add("aos-init"),d.position=(0,o.default)(d.node,c.offset)}),u};i.default=l},function(r,i,n){function s(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(i,"__esModule",{value:!0});var a=n(13),o=s(a),l=function(u,c){var d=0,h=0,f=window.innerHeight,g={offset:u.getAttribute("data-aos-offset"),anchor:u.getAttribute("data-aos-anchor"),anchorPlacement:u.getAttribute("data-aos-anchor-placement")};switch(g.offset&&!isNaN(g.offset)&&(h=parseInt(g.offset)),g.anchor&&document.querySelectorAll(g.anchor)&&(u=document.querySelectorAll(g.anchor)[0]),d=(0,o.default)(u).top,g.anchorPlacement){case"top-bottom":break;case"center-bottom":d+=u.offsetHeight/2;break;case"bottom-bottom":d+=u.offsetHeight;break;case"top-center":d+=f/2;break;case"bottom-center":d+=f/2+u.offsetHeight;break;case"center-center":d+=f/2+u.offsetHeight/2;break;case"top-top":d+=f;break;case"bottom-top":d+=u.offsetHeight+f;break;case"center-top":d+=u.offsetHeight/2+f}return g.anchorPlacement||g.offset||isNaN(c)||(h=c),d+h};i.default=l},function(r,i){Object.defineProperty(i,"__esModule",{value:!0});var n=function(s){for(var a=0,o=0;s&&!isNaN(s.offsetLeft)&&!isNaN(s.offsetTop);)a+=s.offsetLeft-(s.tagName!="BODY"?s.scrollLeft:0),o+=s.offsetTop-(s.tagName!="BODY"?s.scrollTop:0),s=s.offsetParent;return{top:o,left:a}};i.default=n},function(r,i){Object.defineProperty(i,"__esModule",{value:!0});var n=function(s){return s=s||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(s,function(a){return{node:a}})};i.default=n}])})})(bI);var Ade=bI.exports;const fk=Nu(Ade),Mde={install(t){t.config.globalProperties.$AOS=fk,fk.init()}};function Dde(t,e){let r;return(...i)=>{r!==void 0&&clearTimeout(r),r=setTimeout(()=>t(...i),e)}}function Lde({columns:t,columnWidth:e,emit:r,gap:i,items:n,maxColumns:s,minColumns:a,nextTick:o,onBeforeUnmount:l,onMounted:u,rtl:c,scrollContainer:d,ssrColumns:h,vue:f,wall:g,watch:y}){function C(O,U,J,Y){const re=S(J);return Y+U+re<=O?C(O,U,J+1,Y+U+re):J}function S(O){const U=Array.isArray(e.value)?e.value:[e.value];return U[O%U.length]}function A(){const O=C(g.value.getBoundingClientRect().width,i.value,0,-i.value),U=M(T(O));return U>0?U:1}function T(O){const U=s==null?void 0:s.value;return U&&O>U?U:O}function M(O){const U=a==null?void 0:a.value;return U&&O<U?U:O}if(h.value>0){const O=mk(h.value);n.value.forEach((U,J)=>O[J%h.value].push(J)),t.value=O}let D=0;async function B(O,U){if(O>=n.value.length||(await o(),D!==U))return;const J=[...g.value.children];c.value&&J.reverse();const Y=J.reduce((re,ce)=>ce.getBoundingClientRect().height<re.getBoundingClientRect().height?ce:re);t.value[+Y.dataset.index].push(O),await B(O+1,U)}async function F(O=!1){const U=A();if(t.value.length===U&&!O){r(f===2?"redraw-skip":"redrawSkip");return}t.value=mk(U);const J=d==null?void 0:d.value,Y=J?J.scrollTop:window.scrollY;await B(0,++D),J?J.scrollBy({top:Y-J.scrollTop}):window.scrollTo({top:Y}),r("redraw")}const V=typeof ResizeObserver>"u"?void 0:new ResizeObserver(Dde(()=>F()));return u(()=>{F(),V==null||V.observe(g.value)}),l(()=>V==null?void 0:V.unobserve(g.value)),y([n,c],()=>F(!0)),y([e,i,a,s],()=>F()),{getColumnWidthTarget:S}}function mk(t){return Array.from({length:t}).map(()=>[])}const Bde=["data-index"],Pde=st({__name:"masonry-wall",props:{columnWidth:{default:400},items:{},gap:{default:0},rtl:{type:Boolean,default:!1},ssrColumns:{default:0},scrollContainer:{default:null},minColumns:{default:1},maxColumns:{},keyMapper:{}},emits:["redraw","redrawSkip"],setup(t,{emit:e}){const r=t,i=e,n=Xe([]),s=Xe(),{getColumnWidthTarget:a}=Lde({columns:n,emit:i,nextTick:Ms,onBeforeUnmount:Ou,onMounted:qr,vue:3,wall:s,watch:pi,...Ls(r)});return(o,l)=>(X(),ne("div",{ref_key:"wall",ref:s,class:"masonry-wall",style:Zi({display:"flex",gap:`${o.gap}px`})},[(X(!0),ne(yt,null,Nr(n.value,(u,c)=>(X(),ne("div",{key:c,class:"masonry-column","data-index":c,style:Zi({display:"flex","flex-basis":`${P(a)(c)}px`,"flex-direction":"column","flex-grow":1,gap:`${o.gap}px`,height:["-webkit-max-content","-moz-max-content","max-content"],"min-width":0})},[(X(!0),ne(yt,null,Nr(u,(d,h)=>{var f;return X(),ne("div",{key:((f=o.keyMapper)==null?void 0:f.call(o,o.items[d],c,h,d))??d,class:"masonry-item"},[Bg(o.$slots,"default",{item:o.items[d],column:c,row:h,index:d},()=>[tt(ge(o.items[d]),1)])])}),128))],12,Bde))),128))],4))}}),Ide=(()=>{const t=Pde;return t.install=e=>{e.component("MasonryWall",t)},t})(),Rde=zN(),Pp=ON(GU);Pp.use(Rde);Pp.use(U6);Pp.use(Mde);Pp.use(Ide);Pp.mount("#app");export{m as a,sa as b,ne as c,Ya as d,Nu as g,X as o};
