var WR=Object.defineProperty;var GR=(t,e,i)=>e in t?WR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var zn=(t,e,i)=>GR(t,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();/**
* @vue/shared v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function dv(t){const e=Object.create(null);for(const i of t.split(","))e[i]=1;return i=>i in e}const oi={},jc=[],na=()=>{},XR=()=>!1,Cg=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),hv=t=>t.startsWith("onUpdate:"),Yi=Object.assign,pv=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},YR=Object.prototype.hasOwnProperty,Jt=(t,e)=>YR.call(t,e),ut=Array.isArray,Vc=t=>D0(t)==="[object Map]",kg=t=>D0(t)==="[object Set]",T8=t=>D0(t)==="[object Date]",ZR=t=>D0(t)==="[object RegExp]",_t=t=>typeof t=="function",_i=t=>typeof t=="string",la=t=>typeof t=="symbol",li=t=>t!==null&&typeof t=="object",gk=t=>(li(t)||_t(t))&&_t(t.then)&&_t(t.catch),yk=Object.prototype.toString,D0=t=>yk.call(t),JR=t=>D0(t).slice(8,-1),vk=t=>D0(t)==="[object Object]",fv=t=>_i(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,oh=dv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tg=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},QR=/-(\w)/g,Es=Tg(t=>t.replace(QR,(e,i)=>i?i.toUpperCase():"")),eO=/\B([A-Z])/g,Ru=Tg(t=>t.replace(eO,"-$1").toLowerCase()),Eg=Tg(t=>t.charAt(0).toUpperCase()+t.slice(1)),s4=Tg(t=>t?`on${Eg(t)}`:""),ul=(t,e)=>!Object.is(t,e),Hc=(t,...e)=>{for(let i=0;i<t.length;i++)t[i](...e)},bk=(t,e,i,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:i})},gy=t=>{const e=parseFloat(t);return isNaN(e)?t:e},tO=t=>{const e=_i(t)?Number(t):NaN;return isNaN(e)?t:e};let E8;const xk=()=>E8||(E8=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zr(t){if(ut(t)){const e={};for(let i=0;i<t.length;i++){const r=t[i],n=_i(r)?sO(r):Zr(r);if(n)for(const s in n)e[s]=n[s]}return e}else if(_i(t)||li(t))return t}const iO=/;(?![^(]*\))/g,rO=/:([^]+)/,nO=/\/\*[^]*?\*\//g;function sO(t){const e={};return t.replace(nO,"").split(iO).forEach(i=>{if(i){const r=i.split(rO);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Wt(t){let e="";if(_i(t))e=t;else if(ut(t))for(let i=0;i<t.length;i++){const r=Wt(t[i]);r&&(e+=r+" ")}else if(li(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}const aO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",oO=dv(aO);function _k(t){return!!t||t===""}function lO(t,e){if(t.length!==e.length)return!1;let i=!0;for(let r=0;i&&r<t.length;r++)i=Ag(t[r],e[r]);return i}function Ag(t,e){if(t===e)return!0;let i=T8(t),r=T8(e);if(i||r)return i&&r?t.getTime()===e.getTime():!1;if(i=la(t),r=la(e),i||r)return t===e;if(i=ut(t),r=ut(e),i||r)return i&&r?lO(t,e):!1;if(i=li(t),r=li(e),i||r){if(!i||!r)return!1;const n=Object.keys(t).length,s=Object.keys(e).length;if(n!==s)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!Ag(t[a],e[a]))return!1}}return String(t)===String(e)}function wk(t,e){return t.findIndex(i=>Ag(i,e))}const Sk=t=>!!(t&&t.__v_isRef===!0),ve=t=>_i(t)?t:t==null?"":ut(t)||li(t)&&(t.toString===yk||!_t(t.toString))?Sk(t)?ve(t.value):JSON.stringify(t,Ck,2):String(t),Ck=(t,e)=>Sk(e)?Ck(t,e.value):Vc(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((i,[r,n],s)=>(i[a4(r,s)+" =>"]=n,i),{})}:kg(e)?{[`Set(${e.size})`]:[...e.values()].map(i=>a4(i))}:la(e)?a4(e):li(e)&&!ut(e)&&!vk(e)?String(e):e,a4=(t,e="")=>{var i;return la(t)?`Symbol(${(i=t.description)!=null?i:e})`:t};/**
* @vue/reactivity v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Hr;class kk{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Hr,!e&&Hr&&(this.index=(Hr.scopes||(Hr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,i;if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].pause();for(e=0,i=this.effects.length;e<i;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,i;if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].resume();for(e=0,i=this.effects.length;e<i;e++)this.effects[e].resume()}}run(e){if(this._active){const i=Hr;try{return Hr=this,e()}finally{Hr=i}}}on(){Hr=this}off(){Hr=this.parent}stop(e){if(this._active){let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.scopes)for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function Tk(t){return new kk(t)}function Ek(){return Hr}function uO(t,e=!1){Hr&&Hr.cleanups.push(t)}let ci;const o4=new WeakSet;class Ak{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Hr&&Hr.active&&Hr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,o4.has(this)&&(o4.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Dk(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,A8(this),Lk(this);const e=ci,i=Ss;ci=this,Ss=!0;try{return this.fn()}finally{Bk(this),ci=e,Ss=i,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)yv(e);this.deps=this.depsTail=void 0,A8(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?o4.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){yy(this)&&this.run()}get dirty(){return yy(this)}}let Mk=0,lh;function Dk(t){t.flags|=8,t.next=lh,lh=t}function mv(){Mk++}function gv(){if(--Mk>0)return;let t;for(;lh;){let e=lh;for(lh=void 0;e;){const i=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=i}}if(t)throw t}function Lk(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Bk(t){let e,i=t.depsTail,r=i;for(;r;){const n=r.prevDep;r.version===-1?(r===i&&(i=n),yv(r),cO(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=i}function yy(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Pk(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Pk(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Dh))return;t.globalVersion=Dh;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!yy(t)){t.flags&=-3;return}const i=ci,r=Ss;ci=t,Ss=!0;try{Lk(t);const n=t.fn(t._value);(e.version===0||ul(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{ci=i,Ss=r,Bk(t),t.flags&=-3}}function yv(t){const{dep:e,prevSub:i,nextSub:r}=t;if(i&&(i.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=i,t.nextSub=void 0),e.subs===t&&(e.subs=i),!e.subs&&e.computed){e.computed.flags&=-5;for(let n=e.computed.deps;n;n=n.nextDep)yv(n)}}function cO(t){const{prevDep:e,nextDep:i}=t;e&&(e.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=e,t.nextDep=void 0)}let Ss=!0;const Ik=[];function bl(){Ik.push(Ss),Ss=!1}function xl(){const t=Ik.pop();Ss=t===void 0?!0:t}function A8(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const i=ci;ci=void 0;try{e()}finally{ci=i}}}let Dh=0;class dO{constructor(e,i){this.sub=e,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vv{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0}track(e){if(!ci||!Ss||ci===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==ci)i=this.activeLink=new dO(ci,this),ci.deps?(i.prevDep=ci.depsTail,ci.depsTail.nextDep=i,ci.depsTail=i):ci.deps=ci.depsTail=i,ci.flags&4&&Rk(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const r=i.nextDep;r.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=r),i.prevDep=ci.depsTail,i.nextDep=void 0,ci.depsTail.nextDep=i,ci.depsTail=i,ci.deps===i&&(ci.deps=r)}return i}trigger(e){this.version++,Dh++,this.notify(e)}notify(e){mv();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{gv()}}}function Rk(t){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Rk(r)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}const m1=new WeakMap,mu=Symbol(""),vy=Symbol(""),Lh=Symbol("");function Rr(t,e,i){if(Ss&&ci){let r=m1.get(t);r||m1.set(t,r=new Map);let n=r.get(i);n||r.set(i,n=new vv),n.track()}}function qa(t,e,i,r,n,s){const a=m1.get(t);if(!a){Dh++;return}const o=l=>{l&&l.trigger()};if(mv(),e==="clear")a.forEach(o);else{const l=ut(t),u=l&&fv(i);if(l&&i==="length"){const c=Number(r);a.forEach((d,h)=>{(h==="length"||h===Lh||!la(h)&&h>=c)&&o(d)})}else switch(i!==void 0&&o(a.get(i)),u&&o(a.get(Lh)),e){case"add":l?u&&o(a.get("length")):(o(a.get(mu)),Vc(t)&&o(a.get(vy)));break;case"delete":l||(o(a.get(mu)),Vc(t)&&o(a.get(vy)));break;case"set":Vc(t)&&o(a.get(mu));break}}gv()}function hO(t,e){var i;return(i=m1.get(t))==null?void 0:i.get(e)}function Ju(t){const e=qt(t);return e===t?e:(Rr(e,"iterate",Lh),Zn(t)?e:e.map(Lr))}function Mg(t){return Rr(t=qt(t),"iterate",Lh),t}const pO={__proto__:null,[Symbol.iterator](){return l4(this,Symbol.iterator,Lr)},concat(...t){return Ju(this).concat(...t.map(e=>ut(e)?Ju(e):e))},entries(){return l4(this,"entries",t=>(t[1]=Lr(t[1]),t))},every(t,e){return _a(this,"every",t,e,void 0,arguments)},filter(t,e){return _a(this,"filter",t,e,i=>i.map(Lr),arguments)},find(t,e){return _a(this,"find",t,e,Lr,arguments)},findIndex(t,e){return _a(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return _a(this,"findLast",t,e,Lr,arguments)},findLastIndex(t,e){return _a(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return _a(this,"forEach",t,e,void 0,arguments)},includes(...t){return u4(this,"includes",t)},indexOf(...t){return u4(this,"indexOf",t)},join(t){return Ju(this).join(t)},lastIndexOf(...t){return u4(this,"lastIndexOf",t)},map(t,e){return _a(this,"map",t,e,void 0,arguments)},pop(){return hd(this,"pop")},push(...t){return hd(this,"push",t)},reduce(t,...e){return M8(this,"reduce",t,e)},reduceRight(t,...e){return M8(this,"reduceRight",t,e)},shift(){return hd(this,"shift")},some(t,e){return _a(this,"some",t,e,void 0,arguments)},splice(...t){return hd(this,"splice",t)},toReversed(){return Ju(this).toReversed()},toSorted(t){return Ju(this).toSorted(t)},toSpliced(...t){return Ju(this).toSpliced(...t)},unshift(...t){return hd(this,"unshift",t)},values(){return l4(this,"values",Lr)}};function l4(t,e,i){const r=Mg(t),n=r[e]();return r!==t&&!Zn(t)&&(n._next=n.next,n.next=()=>{const s=n._next();return s.value&&(s.value=i(s.value)),s}),n}const fO=Array.prototype;function _a(t,e,i,r,n,s){const a=Mg(t),o=a!==t&&!Zn(t),l=a[e];if(l!==fO[e]){const d=l.apply(t,s);return o?Lr(d):d}let u=i;a!==t&&(o?u=function(d,h){return i.call(this,Lr(d),h,t)}:i.length>2&&(u=function(d,h){return i.call(this,d,h,t)}));const c=l.call(a,u,r);return o&&n?n(c):c}function M8(t,e,i,r){const n=Mg(t);let s=i;return n!==t&&(Zn(t)?i.length>3&&(s=function(a,o,l){return i.call(this,a,o,l,t)}):s=function(a,o,l){return i.call(this,a,Lr(o),l,t)}),n[e](s,...r)}function u4(t,e,i){const r=qt(t);Rr(r,"iterate",Lh);const n=r[e](...i);return(n===-1||n===!1)&&wv(i[0])?(i[0]=qt(i[0]),r[e](...i)):n}function hd(t,e,i=[]){bl(),mv();const r=qt(t)[e].apply(t,i);return gv(),xl(),r}const mO=dv("__proto__,__v_isRef,__isVue"),Ok=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(la));function gO(t){la(t)||(t=String(t));const e=qt(this);return Rr(e,"has",t),e.hasOwnProperty(t)}class Fk{constructor(e=!1,i=!1){this._isReadonly=e,this._isShallow=i}get(e,i,r){const n=this._isReadonly,s=this._isShallow;if(i==="__v_isReactive")return!n;if(i==="__v_isReadonly")return n;if(i==="__v_isShallow")return s;if(i==="__v_raw")return r===(n?s?MO:Uk:s?zk:$k).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=ut(e);if(!n){let l;if(a&&(l=pO[i]))return l;if(i==="hasOwnProperty")return gO}const o=Reflect.get(e,i,Bt(e)?e:r);return(la(i)?Ok.has(i):mO(i))||(n||Rr(e,"get",i),s)?o:Bt(o)?a&&fv(i)?o:o.value:li(o)?n?jk(o):L0(o):o}}class Nk extends Fk{constructor(e=!1){super(!1,e)}set(e,i,r,n){let s=e[i];if(!this._isShallow){const l=Mu(s);if(!Zn(r)&&!Mu(r)&&(s=qt(s),r=qt(r)),!ut(e)&&Bt(s)&&!Bt(r))return l?!1:(s.value=r,!0)}const a=ut(e)&&fv(i)?Number(i)<e.length:Jt(e,i),o=Reflect.set(e,i,r,Bt(e)?e:n);return e===qt(n)&&(a?ul(r,s)&&qa(e,"set",i,r):qa(e,"add",i,r)),o}deleteProperty(e,i){const r=Jt(e,i);e[i];const n=Reflect.deleteProperty(e,i);return n&&r&&qa(e,"delete",i,void 0),n}has(e,i){const r=Reflect.has(e,i);return(!la(i)||!Ok.has(i))&&Rr(e,"has",i),r}ownKeys(e){return Rr(e,"iterate",ut(e)?"length":mu),Reflect.ownKeys(e)}}class yO extends Fk{constructor(e=!1){super(!0,e)}set(e,i){return!0}deleteProperty(e,i){return!0}}const vO=new Nk,bO=new yO,xO=new Nk(!0);const bv=t=>t,Dg=t=>Reflect.getPrototypeOf(t);function lf(t,e,i=!1,r=!1){t=t.__v_raw;const n=qt(t),s=qt(e);i||(ul(e,s)&&Rr(n,"get",e),Rr(n,"get",s));const{has:a}=Dg(n),o=r?bv:i?Sv:Lr;if(a.call(n,e))return o(t.get(e));if(a.call(n,s))return o(t.get(s));t!==n&&t.get(e)}function uf(t,e=!1){const i=this.__v_raw,r=qt(i),n=qt(t);return e||(ul(t,n)&&Rr(r,"has",t),Rr(r,"has",n)),t===n?i.has(t):i.has(t)||i.has(n)}function cf(t,e=!1){return t=t.__v_raw,!e&&Rr(qt(t),"iterate",mu),Reflect.get(t,"size",t)}function D8(t,e=!1){!e&&!Zn(t)&&!Mu(t)&&(t=qt(t));const i=qt(this);return Dg(i).has.call(i,t)||(i.add(t),qa(i,"add",t,t)),this}function L8(t,e,i=!1){!i&&!Zn(e)&&!Mu(e)&&(e=qt(e));const r=qt(this),{has:n,get:s}=Dg(r);let a=n.call(r,t);a||(t=qt(t),a=n.call(r,t));const o=s.call(r,t);return r.set(t,e),a?ul(e,o)&&qa(r,"set",t,e):qa(r,"add",t,e),this}function B8(t){const e=qt(this),{has:i,get:r}=Dg(e);let n=i.call(e,t);n||(t=qt(t),n=i.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return n&&qa(e,"delete",t,void 0),s}function P8(){const t=qt(this),e=t.size!==0,i=t.clear();return e&&qa(t,"clear",void 0,void 0),i}function df(t,e){return function(r,n){const s=this,a=s.__v_raw,o=qt(a),l=e?bv:t?Sv:Lr;return!t&&Rr(o,"iterate",mu),a.forEach((u,c)=>r.call(n,l(u),l(c),s))}}function hf(t,e,i){return function(...r){const n=this.__v_raw,s=qt(n),a=Vc(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=n[t](...r),c=i?bv:e?Sv:Lr;return!e&&Rr(s,"iterate",l?vy:mu),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:o?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function yo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function _O(){const t={get(s){return lf(this,s)},get size(){return cf(this)},has:uf,add:D8,set:L8,delete:B8,clear:P8,forEach:df(!1,!1)},e={get(s){return lf(this,s,!1,!0)},get size(){return cf(this)},has:uf,add(s){return D8.call(this,s,!0)},set(s,a){return L8.call(this,s,a,!0)},delete:B8,clear:P8,forEach:df(!1,!0)},i={get(s){return lf(this,s,!0)},get size(){return cf(this,!0)},has(s){return uf.call(this,s,!0)},add:yo("add"),set:yo("set"),delete:yo("delete"),clear:yo("clear"),forEach:df(!0,!1)},r={get(s){return lf(this,s,!0,!0)},get size(){return cf(this,!0)},has(s){return uf.call(this,s,!0)},add:yo("add"),set:yo("set"),delete:yo("delete"),clear:yo("clear"),forEach:df(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=hf(s,!1,!1),i[s]=hf(s,!0,!1),e[s]=hf(s,!1,!0),r[s]=hf(s,!0,!0)}),[t,i,e,r]}const[wO,SO,CO,kO]=_O();function xv(t,e){const i=e?t?kO:CO:t?SO:wO;return(r,n,s)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(Jt(i,n)&&n in r?i:r,n,s)}const TO={get:xv(!1,!1)},EO={get:xv(!1,!0)},AO={get:xv(!0,!1)};const $k=new WeakMap,zk=new WeakMap,Uk=new WeakMap,MO=new WeakMap;function DO(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function LO(t){return t.__v_skip||!Object.isExtensible(t)?0:DO(JR(t))}function L0(t){return Mu(t)?t:_v(t,!1,vO,TO,$k)}function qk(t){return _v(t,!1,xO,EO,zk)}function jk(t){return _v(t,!0,bO,AO,Uk)}function _v(t,e,i,r,n){if(!li(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=n.get(t);if(s)return s;const a=LO(t);if(a===0)return t;const o=new Proxy(t,a===2?r:i);return n.set(t,o),o}function ja(t){return Mu(t)?ja(t.__v_raw):!!(t&&t.__v_isReactive)}function Mu(t){return!!(t&&t.__v_isReadonly)}function Zn(t){return!!(t&&t.__v_isShallow)}function wv(t){return t?!!t.__v_raw:!1}function qt(t){const e=t&&t.__v_raw;return e?qt(e):t}function _l(t){return!Jt(t,"__v_skip")&&Object.isExtensible(t)&&bk(t,"__v_skip",!0),t}const Lr=t=>li(t)?L0(t):t,Sv=t=>li(t)?jk(t):t;function Bt(t){return t?t.__v_isRef===!0:!1}function Xe(t){return Hk(t,!1)}function Vk(t){return Hk(t,!0)}function Hk(t,e){return Bt(t)?t:new BO(t,e)}class BO{constructor(e,i){this.dep=new vv,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?e:qt(e),this._value=i?e:Lr(e),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(e){const i=this._rawValue,r=this.__v_isShallow||Zn(e)||Mu(e);e=r?e:qt(e),ul(e,i)&&(this._rawValue=e,this._value=r?e:Lr(e),this.dep.trigger())}}function P(t){return Bt(t)?t.value:t}const PO={get:(t,e,i)=>e==="__v_raw"?t:P(Reflect.get(t,e,i)),set:(t,e,i,r)=>{const n=t[e];return Bt(n)&&!Bt(i)?(n.value=i,!0):Reflect.set(t,e,i,r)}};function Kk(t){return ja(t)?t:new Proxy(t,PO)}function Ls(t){const e=ut(t)?new Array(t.length):{};for(const i in t)e[i]=Wk(t,i);return e}class IO{constructor(e,i,r){this._object=e,this._key=i,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return hO(qt(this._object),this._key)}}class RO{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function OO(t,e,i){return Bt(t)?t:_t(t)?new RO(t):li(t)&&arguments.length>1?Wk(t,e,i):Xe(t)}function Wk(t,e,i){const r=t[e];return Bt(r)?r:new IO(t,e,i)}class FO{constructor(e,i,r){this.fn=e,this.setter=i,this._value=void 0,this.dep=new vv(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Dh-1,this.effect=this,this.__v_isReadonly=!i,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ci!==this)return Dk(this),!0}get value(){const e=this.dep.track();return Pk(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function NO(t,e,i=!1){let r,n;return _t(t)?r=t:(r=t.get,n=t.set),new FO(r,n,i)}const pf={},g1=new WeakMap;let Ql;function $O(t,e=!1,i=Ql){if(i){let r=g1.get(i);r||g1.set(i,r=[]),r.push(t)}}function zO(t,e,i=oi){const{immediate:r,deep:n,once:s,scheduler:a,augmentJob:o,call:l}=i,u=M=>n?M:Zn(M)||n===!1||n===0?Na(M,1):Na(M);let c,d,h,f,g=!1,y=!1;if(Bt(t)?(d=()=>t.value,g=Zn(t)):ja(t)?(d=()=>u(t),g=!0):ut(t)?(y=!0,g=t.some(M=>ja(M)||Zn(M)),d=()=>t.map(M=>{if(Bt(M))return M.value;if(ja(M))return u(M);if(_t(M))return l?l(M,2):M()})):_t(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){bl();try{h()}finally{xl()}}const M=Ql;Ql=c;try{return l?l(t,3,[f]):t(f)}finally{Ql=M}}:d=na,e&&n){const M=d,D=n===!0?1/0:n;d=()=>Na(M(),D)}const C=Ek(),S=()=>{c.stop(),C&&pv(C.effects,c)};if(s&&e){const M=e;e=(...D)=>{M(...D),S()}}let A=y?new Array(t.length).fill(pf):pf;const T=M=>{if(!(!(c.flags&1)||!c.dirty&&!M))if(e){const D=c.run();if(n||g||(y?D.some((B,F)=>ul(B,A[F])):ul(D,A))){h&&h();const B=Ql;Ql=c;try{const F=[D,A===pf?void 0:y&&A[0]===pf?[]:A,f];l?l(e,3,F):e(...F),A=D}finally{Ql=B}}}else c.run()};return o&&o(T),c=new Ak(d),c.scheduler=a?()=>a(T,!1):T,f=M=>$O(M,!1,c),h=c.onStop=()=>{const M=g1.get(c);if(M){if(l)l(M,4);else for(const D of M)D();g1.delete(c)}},e?r?T(!0):A=c.run():a?a(T.bind(null,!0),!0):c.run(),S.pause=c.pause.bind(c),S.resume=c.resume.bind(c),S.stop=S,S}function Na(t,e=1/0,i){if(e<=0||!li(t)||t.__v_skip||(i=i||new Set,i.has(t)))return t;if(i.add(t),e--,Bt(t))Na(t.value,e,i);else if(ut(t))for(let r=0;r<t.length;r++)Na(t[r],e,i);else if(kg(t)||Vc(t))t.forEach(r=>{Na(r,e,i)});else if(vk(t)){for(const r in t)Na(t[r],e,i);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Na(t[r],e,i)}return t}/**
* @vue/runtime-core v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function np(t,e,i,r){try{return r?t(...r):t()}catch(n){sp(n,e,i)}}function As(t,e,i,r){if(_t(t)){const n=np(t,e,i,r);return n&&gk(n)&&n.catch(s=>{sp(s,e,i)}),n}if(ut(t)){const n=[];for(let s=0;s<t.length;s++)n.push(As(t[s],e,i,r));return n}}function sp(t,e,i,r=!0){const n=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||oi;if(e){let o=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${i}`;for(;o;){const c=o.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}o=o.parent}if(s){bl(),np(s,null,10,[t,l,u]),xl();return}}UO(t,i,n,r,a)}function UO(t,e,i,r=!0,n=!1){if(n)throw t;console.error(t)}let Bh=!1,by=!1;const Kr=[];let qs=0;const Kc=[];let Wo=null,Tc=0;const Gk=Promise.resolve();let Cv=null;function Ms(t){const e=Cv||Gk;return t?e.then(this?t.bind(this):t):e}function qO(t){let e=Bh?qs+1:0,i=Kr.length;for(;e<i;){const r=e+i>>>1,n=Kr[r],s=Ph(n);s<t||s===t&&n.flags&2?e=r+1:i=r}return e}function kv(t){if(!(t.flags&1)){const e=Ph(t),i=Kr[Kr.length-1];!i||!(t.flags&2)&&e>=Ph(i)?Kr.push(t):Kr.splice(qO(e),0,t),t.flags|=1,Xk()}}function Xk(){!Bh&&!by&&(by=!0,Cv=Gk.then(Zk))}function jO(t){ut(t)?Kc.push(...t):Wo&&t.id===-1?Wo.splice(Tc+1,0,t):t.flags&1||(Kc.push(t),t.flags|=1),Xk()}function I8(t,e,i=Bh?qs+1:0){for(;i<Kr.length;i++){const r=Kr[i];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Kr.splice(i,1),i--,r.flags&4&&(r.flags&=-2),r(),r.flags&=-2}}}function Yk(t){if(Kc.length){const e=[...new Set(Kc)].sort((i,r)=>Ph(i)-Ph(r));if(Kc.length=0,Wo){Wo.push(...e);return}for(Wo=e,Tc=0;Tc<Wo.length;Tc++){const i=Wo[Tc];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}Wo=null,Tc=0}}const Ph=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Zk(t){by=!1,Bh=!0;try{for(qs=0;qs<Kr.length;qs++){const e=Kr[qs];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),np(e,e.i,e.i?15:14),e.flags&=-2)}}finally{for(;qs<Kr.length;qs++){const e=Kr[qs];e&&(e.flags&=-2)}qs=0,Kr.length=0,Yk(),Bh=!1,Cv=null,(Kr.length||Kc.length)&&Zk()}}let sr=null,Jk=null;function y1(t){const e=sr;return sr=t,Jk=t&&t.type.__scopeId||null,e}function We(t,e=sr,i){if(!e||t._n)return t;const r=(...n)=>{r._d&&K8(-1);const s=y1(e);let a;try{a=t(...n)}finally{y1(s),r._d&&K8(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function sl(t,e){if(sr===null)return t;const i=Og(sr),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[s,a,o,l=oi]=e[n];s&&(_t(s)&&(s={mounted:s,updated:s}),s.deep&&Na(a),r.push({dir:s,instance:i,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function Il(t,e,i,r){const n=t.dirs,s=e&&e.dirs;for(let a=0;a<n.length;a++){const o=n[a];s&&(o.oldValue=s[a].value);let l=o.dir[r];l&&(bl(),As(l,i,8,[t.el,o,t,e]),xl())}}const Qk=Symbol("_vte"),eT=t=>t.__isTeleport,uh=t=>t&&(t.disabled||t.disabled===""),VO=t=>t&&(t.defer||t.defer===""),R8=t=>typeof SVGElement<"u"&&t instanceof SVGElement,O8=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,xy=(t,e)=>{const i=t&&t.to;return _i(i)?e?e(i):null:i},HO={name:"Teleport",__isTeleport:!0,process(t,e,i,r,n,s,a,o,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:g,createText:y,createComment:C}}=u,S=uh(e.props);let{shapeFlag:A,children:T,dynamicChildren:M}=e;if(t==null){const D=e.el=y(""),B=e.anchor=y("");f(D,i,r),f(B,i,r);const F=(O,U)=>{A&16&&(n&&n.isCE&&(n.ce._teleportTarget=O),c(T,O,U,n,s,a,o,l))},V=()=>{const O=e.target=xy(e.props,g),U=iT(O,e,y,f);O&&(a!=="svg"&&R8(O)?a="svg":a!=="mathml"&&O8(O)&&(a="mathml"),S||(F(O,U),Vm(e)))};S&&(F(i,B),Vm(e)),VO(e.props)?ur(V,s):V()}else{e.el=t.el,e.targetStart=t.targetStart;const D=e.anchor=t.anchor,B=e.target=t.target,F=e.targetAnchor=t.targetAnchor,V=uh(t.props),O=V?i:B,U=V?D:F;if(a==="svg"||R8(B)?a="svg":(a==="mathml"||O8(B))&&(a="mathml"),M?(h(t.dynamicChildren,M,O,n,s,a,o),Lv(t,e,!0)):l||d(t,e,O,U,n,s,a,o,!1),S)V?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ff(e,i,D,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const J=e.target=xy(e.props,g);J&&ff(e,J,null,u,0)}else V&&ff(e,B,F,u,1);Vm(e)}},remove(t,e,i,{um:r,o:{remove:n}},s){const{shapeFlag:a,children:o,anchor:l,targetStart:u,targetAnchor:c,target:d,props:h}=t;if(d&&(n(u),n(c)),s&&n(l),a&16){const f=s||!uh(h);for(let g=0;g<o.length;g++){const y=o[g];r(y,e,i,f,!!y.dynamicChildren)}}},move:ff,hydrate:KO};function ff(t,e,i,{o:{insert:r},m:n},s=2){s===0&&r(t.targetAnchor,e,i);const{el:a,anchor:o,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&r(a,e,i),(!d||uh(c))&&l&16)for(let h=0;h<u.length;h++)n(u[h],e,i,2);d&&r(o,e,i)}function KO(t,e,i,r,n,s,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:u,createText:c}},d){const h=e.target=xy(e.props,l);if(h){const f=h._lpa||h.firstChild;if(e.shapeFlag&16)if(uh(e.props))e.anchor=d(a(t),e,o(t),i,r,n,s),e.targetStart=f,e.targetAnchor=f&&a(f);else{e.anchor=a(t);let g=f;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,h._lpa=e.targetAnchor&&a(e.targetAnchor);break}}g=a(g)}e.targetAnchor||iT(h,e,c,u),d(f&&a(f),e,h,i,r,n,s)}Vm(e)}return e.anchor&&a(e.anchor)}const tT=HO;function Vm(t){const e=t.ctx;if(e&&e.ut){let i=t.targetStart;for(;i&&i!==t.targetAnchor;)i.nodeType===1&&i.setAttribute("data-v-owner",e.uid),i=i.nextSibling;e.ut()}}function iT(t,e,i,r){const n=e.targetStart=i(""),s=e.targetAnchor=i("");return n[Qk]=s,t&&(r(n,t),r(s,t)),s}const Go=Symbol("_leaveCb"),mf=Symbol("_enterCb");function rT(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qi(()=>{t.isMounted=!0}),Ou(()=>{t.isUnmounting=!0}),t}const Un=[Function,Array],nT={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Un,onEnter:Un,onAfterEnter:Un,onEnterCancelled:Un,onBeforeLeave:Un,onLeave:Un,onAfterLeave:Un,onLeaveCancelled:Un,onBeforeAppear:Un,onAppear:Un,onAfterAppear:Un,onAppearCancelled:Un},sT=t=>{const e=t.subTree;return e.component?sT(e.component):e},WO={name:"BaseTransition",props:nT,setup(t,{slots:e}){const i=Rg(),r=rT();return()=>{const n=e.default&&Tv(e.default(),!0);if(!n||!n.length)return;const s=aT(n),a=qt(t),{mode:o}=a;if(r.isLeaving)return c4(s);const l=F8(s);if(!l)return c4(s);let u=Ih(l,a,r,i,h=>u=h);l.type!==Br&&cl(l,u);const c=i.subTree,d=c&&F8(c);if(d&&d.type!==Br&&!tl(l,d)&&sT(i).type!==Br){const h=Ih(d,a,r,i);if(cl(d,h),o==="out-in"&&l.type!==Br)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,i.job.flags&8||i.update(),delete h.afterLeave},c4(s);o==="in-out"&&l.type!==Br&&(h.delayLeave=(f,g,y)=>{const C=oT(r,d);C[String(d.key)]=d,f[Go]=()=>{g(),f[Go]=void 0,delete u.delayedLeave},u.delayedLeave=y})}return s}}};function aT(t){let e=t[0];if(t.length>1){for(const i of t)if(i.type!==Br){e=i;break}}return e}const GO=WO;function oT(t,e){const{leavingVNodes:i}=t;let r=i.get(e.type);return r||(r=Object.create(null),i.set(e.type,r)),r}function Ih(t,e,i,r,n){const{appear:s,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:C,onAppear:S,onAfterAppear:A,onAppearCancelled:T}=e,M=String(t.key),D=oT(i,t),B=(O,U)=>{O&&As(O,r,9,U)},F=(O,U)=>{const J=U[1];B(O,U),ut(O)?O.every(Y=>Y.length<=1)&&J():O.length<=1&&J()},V={mode:a,persisted:o,beforeEnter(O){let U=l;if(!i.isMounted)if(s)U=C||l;else return;O[Go]&&O[Go](!0);const J=D[M];J&&tl(t,J)&&J.el[Go]&&J.el[Go](),B(U,[O])},enter(O){let U=u,J=c,Y=d;if(!i.isMounted)if(s)U=S||u,J=A||c,Y=T||d;else return;let ie=!1;const ce=O[mf]=qe=>{ie||(ie=!0,qe?B(Y,[O]):B(J,[O]),V.delayedLeave&&V.delayedLeave(),O[mf]=void 0)};U?F(U,[O,ce]):ce()},leave(O,U){const J=String(t.key);if(O[mf]&&O[mf](!0),i.isUnmounting)return U();B(h,[O]);let Y=!1;const ie=O[Go]=ce=>{Y||(Y=!0,U(),ce?B(y,[O]):B(g,[O]),O[Go]=void 0,D[J]===t&&delete D[J])};D[J]=t,f?F(f,[O,ie]):ie()},clone(O){const U=Ih(O,e,i,r,n);return n&&n(U),U}};return V}function c4(t){if(ap(t))return t=Xa(t),t.children=null,t}function F8(t){if(!ap(t))return eT(t.type)&&t.children?aT(t.children):t;const{shapeFlag:e,children:i}=t;if(i){if(e&16)return i[0];if(e&32&&_t(i.default))return i.default()}}function cl(t,e){t.shapeFlag&6&&t.component?(t.transition=e,cl(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Tv(t,e=!1,i){let r=[],n=0;for(let s=0;s<t.length;s++){let a=t[s];const o=i==null?a.key:String(i)+String(a.key!=null?a.key:s);a.type===yt?(a.patchFlag&128&&n++,r=r.concat(Tv(a.children,e,o))):(e||a.type!==Br)&&r.push(o!=null?Xa(a,{key:o}):a)}if(n>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function st(t,e){return _t(t)?Yi({name:t.name},e,{setup:t}):t}function Ev(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function XO(t){const e=Rg(),i=Vk(null);if(e){const n=e.refs===oi?e.refs={}:e.refs;Object.defineProperty(n,t,{enumerable:!0,get:()=>i.value,set:s=>i.value=s})}return i}function _y(t,e,i,r,n=!1){if(ut(t)){t.forEach((g,y)=>_y(g,e&&(ut(e)?e[y]:e),i,r,n));return}if(gu(r)&&!n)return;const s=r.shapeFlag&4?Og(r.component):r.el,a=n?null:s,{i:o,r:l}=t,u=e&&e.r,c=o.refs===oi?o.refs={}:o.refs,d=o.setupState,h=qt(d),f=d===oi?()=>!1:g=>Jt(h,g);if(u!=null&&u!==l&&(_i(u)?(c[u]=null,f(u)&&(d[u]=null)):Bt(u)&&(u.value=null)),_t(l))np(l,o,12,[a,c]);else{const g=_i(l),y=Bt(l);if(g||y){const C=()=>{if(t.f){const S=g?f(l)?d[l]:c[l]:l.value;n?ut(S)&&pv(S,s):ut(S)?S.includes(s)||S.push(s):g?(c[l]=[s],f(l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else g?(c[l]=a,f(l)&&(d[l]=a)):y&&(l.value=a,t.k&&(c[t.k]=a))};a?(C.id=-1,ur(C,i)):C()}}}const N8=t=>t.nodeType===8;function YO(t,e){if(N8(t)&&t.data==="["){let i=1,r=t.nextSibling;for(;r;){if(r.nodeType===1)e(r);else if(N8(r))if(r.data==="]"){if(--i===0)break}else r.data==="["&&i++;r=r.nextSibling}}else e(t)}const gu=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function ZO(t){_t(t)&&(t={loader:t});const{loader:e,loadingComponent:i,errorComponent:r,delay:n=200,hydrate:s,timeout:a,suspensible:o=!0,onError:l}=t;let u=null,c,d=0;const h=()=>(d++,u=null,f()),f=()=>{let g;return u||(g=u=e().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),l)return new Promise((C,S)=>{l(y,()=>C(h()),()=>S(y),d+1)});throw y}).then(y=>g!==u&&u?u:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),c=y,y)))};return st({name:"AsyncComponentWrapper",__asyncLoader:f,__asyncHydrate(g,y,C){const S=s?()=>{const A=s(C,T=>YO(g,T));A&&(y.bum||(y.bum=[])).push(A)}:C;c?S():f().then(()=>!y.isUnmounted&&S())},get __asyncResolved(){return c},setup(){const g=nr;if(Ev(g),c)return()=>d4(c,g);const y=T=>{u=null,sp(T,g,13,!r)};if(o&&g.suspense||lp)return f().then(T=>()=>d4(T,g)).catch(T=>(y(T),()=>r?ge(r,{error:T}):null));const C=Xe(!1),S=Xe(),A=Xe(!!n);return n&&setTimeout(()=>{A.value=!1},n),a!=null&&setTimeout(()=>{if(!C.value&&!S.value){const T=new Error(`Async component timed out after ${a}ms.`);y(T),S.value=T}},a),f().then(()=>{C.value=!0,g.parent&&ap(g.parent.vnode)&&g.parent.update()}).catch(T=>{y(T),S.value=T}),()=>{if(C.value&&c)return d4(c,g);if(S.value&&r)return ge(r,{error:S.value});if(i&&!A.value)return ge(i)}}})}function d4(t,e){const{ref:i,props:r,children:n,ce:s}=e.vnode,a=ge(t,r,n);return a.ref=i,a.ce=s,delete e.vnode.ce,a}const ap=t=>t.type.__isKeepAlive,JO={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const i=Rg(),r=i.ctx;if(!r.renderer)return()=>{const A=e.default&&e.default();return A&&A.length===1?A[0]:A};const n=new Map,s=new Set;let a=null;const o=i.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,h=d("div");r.activate=(A,T,M,D,B)=>{const F=A.component;u(A,T,M,0,o),l(F.vnode,A,T,M,F,o,D,A.slotScopeIds,B),ur(()=>{F.isDeactivated=!1,F.a&&Hc(F.a);const V=A.props&&A.props.onVnodeMounted;V&&Gn(V,F.parent,A)},o)},r.deactivate=A=>{const T=A.component;b1(T.m),b1(T.a),u(A,h,null,1,o),ur(()=>{T.da&&Hc(T.da);const M=A.props&&A.props.onVnodeUnmounted;M&&Gn(M,T.parent,A),T.isDeactivated=!0},o)};function f(A){h4(A),c(A,i,o,!0)}function g(A){n.forEach((T,M)=>{const D=Ey(T.type);D&&!A(D)&&y(M)})}function y(A){const T=n.get(A);T&&(!a||!tl(T,a))?f(T):a&&h4(a),n.delete(A),s.delete(A)}_r(()=>[t.include,t.exclude],([A,T])=>{A&&g(M=>Yd(A,M)),T&&g(M=>!Yd(T,M))},{flush:"post",deep:!0});let C=null;const S=()=>{C!=null&&(x1(i.subTree.type)?ur(()=>{n.set(C,gf(i.subTree))},i.subTree.suspense):n.set(C,gf(i.subTree)))};return qi(S),Av(S),Ou(()=>{n.forEach(A=>{const{subTree:T,suspense:M}=i,D=gf(T);if(A.type===D.type&&A.key===D.key){h4(D);const B=D.component.da;B&&ur(B,M);return}f(A)})}),()=>{if(C=null,!e.default)return a=null;const A=e.default(),T=A[0];if(A.length>1)return a=null,A;if(!Oh(T)||!(T.shapeFlag&4)&&!(T.shapeFlag&128))return a=null,T;let M=gf(T);if(M.type===Br)return a=null,M;const D=M.type,B=Ey(gu(M)?M.type.__asyncResolved||{}:D),{include:F,exclude:V,max:O}=t;if(F&&(!B||!Yd(F,B))||V&&B&&Yd(V,B))return M.shapeFlag&=-257,a=M,T;const U=M.key==null?D:M.key,J=n.get(U);return M.el&&(M=Xa(M),T.shapeFlag&128&&(T.ssContent=M)),C=U,J?(M.el=J.el,M.component=J.component,M.transition&&cl(M,M.transition),M.shapeFlag|=512,s.delete(U),s.add(U)):(s.add(U),O&&s.size>parseInt(O,10)&&y(s.values().next().value)),M.shapeFlag|=256,a=M,x1(T.type)?T:M}}},lT=JO;function Yd(t,e){return ut(t)?t.some(i=>Yd(i,e)):_i(t)?t.split(",").includes(e):ZR(t)?(t.lastIndex=0,t.test(e)):!1}function QO(t,e){uT(t,"a",e)}function eF(t,e){uT(t,"da",e)}function uT(t,e,i=nr){const r=t.__wdc||(t.__wdc=()=>{let n=i;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Lg(e,r,i),i){let n=i.parent;for(;n&&n.parent;)ap(n.parent.vnode)&&tF(r,e,i,n),n=n.parent}}function tF(t,e,i,r){const n=Lg(e,t,r,!0);oo(()=>{pv(r[e],n)},i)}function h4(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function gf(t){return t.shapeFlag&128?t.ssContent:t}function Lg(t,e,i=nr,r=!1){if(i){const n=i[t]||(i[t]=[]),s=e.__weh||(e.__weh=(...a)=>{bl();const o=op(i),l=As(e,i,t,a);return o(),xl(),l});return r?n.unshift(s):n.push(s),s}}const so=t=>(e,i=nr)=>{(!lp||t==="sp")&&Lg(t,(...r)=>e(...r),i)},ao=so("bm"),qi=so("m"),iF=so("bu"),Av=so("u"),Ou=so("bum"),oo=so("um"),rF=so("sp"),nF=so("rtg"),sF=so("rtc");function aF(t,e=nr){Lg("ec",t,e)}const cT="components";function yn(t,e){return hT(cT,t,!0,e)||t}const dT=Symbol.for("v-ndc");function oF(t){return _i(t)?hT(cT,t,!1)||t:t||dT}function hT(t,e,i=!0,r=!1){const n=sr||nr;if(n){const s=n.type;{const o=Ey(s,!1);if(o&&(o===e||o===Es(e)||o===Eg(Es(e))))return s}const a=$8(n[t]||s[t],e)||$8(n.appContext[t],e);return!a&&r?s:a}}function $8(t,e){return t&&(t[e]||t[Es(e)]||t[Eg(Es(e))])}function Ni(t,e,i,r){let n;const s=i,a=ut(t);if(a||_i(t)){const o=a&&ja(t);let l=!1;o&&(l=!Zn(t),t=Mg(t)),n=new Array(t.length);for(let u=0,c=t.length;u<c;u++)n[u]=e(l?Lr(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){n=new Array(t);for(let o=0;o<t;o++)n[o]=e(o+1,o,void 0,s)}else if(li(t))if(t[Symbol.iterator])n=Array.from(t,(o,l)=>e(o,l,void 0,s));else{const o=Object.keys(t);n=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const c=o[l];n[l]=e(t[c],c,l,s)}}else n=[];return n}function Bg(t,e,i={},r,n){if(sr.ce||sr.parent&&gu(sr.parent)&&sr.parent.ce)return X(),Ot(yt,null,[ge("slot",i,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),X();const a=s&&pT(s(i)),o=Ot(yt,{key:(i.key||a&&a.key||`_${e}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&t._===1?64:-2);return o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function pT(t){return t.some(e=>Oh(e)?!(e.type===Br||e.type===yt&&!pT(e.children)):!0)?t:null}const wy=t=>t?DT(t)?Og(t):wy(t.parent):null,ch=Yi(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>wy(t.parent),$root:t=>wy(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Mv(t),$forceUpdate:t=>t.f||(t.f=()=>{kv(t.update)}),$nextTick:t=>t.n||(t.n=Ms.bind(t.proxy)),$watch:t=>DF.bind(t)}),p4=(t,e)=>t!==oi&&!t.__isScriptSetup&&Jt(t,e),lF={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:i,setupState:r,data:n,props:s,accessCache:a,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const f=a[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return n[e];case 4:return i[e];case 3:return s[e]}else{if(p4(r,e))return a[e]=1,r[e];if(n!==oi&&Jt(n,e))return a[e]=2,n[e];if((u=t.propsOptions[0])&&Jt(u,e))return a[e]=3,s[e];if(i!==oi&&Jt(i,e))return a[e]=4,i[e];Sy&&(a[e]=0)}}const c=ch[e];let d,h;if(c)return e==="$attrs"&&Rr(t.attrs,"get",""),c(t);if((d=o.__cssModules)&&(d=d[e]))return d;if(i!==oi&&Jt(i,e))return a[e]=4,i[e];if(h=l.config.globalProperties,Jt(h,e))return h[e]},set({_:t},e,i){const{data:r,setupState:n,ctx:s}=t;return p4(n,e)?(n[e]=i,!0):r!==oi&&Jt(r,e)?(r[e]=i,!0):Jt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=i,!0)},has({_:{data:t,setupState:e,accessCache:i,ctx:r,appContext:n,propsOptions:s}},a){let o;return!!i[a]||t!==oi&&Jt(t,a)||p4(e,a)||(o=s[0])&&Jt(o,a)||Jt(r,a)||Jt(ch,a)||Jt(n.config.globalProperties,a)},defineProperty(t,e,i){return i.get!=null?t._.accessCache[e]=0:Jt(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};function z8(t){return ut(t)?t.reduce((e,i)=>(e[i]=null,e),{}):t}let Sy=!0;function uF(t){const e=Mv(t),i=t.proxy,r=t.ctx;Sy=!1,e.beforeCreate&&U8(e.beforeCreate,t,"bc");const{data:n,computed:s,methods:a,watch:o,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:g,activated:y,deactivated:C,beforeDestroy:S,beforeUnmount:A,destroyed:T,unmounted:M,render:D,renderTracked:B,renderTriggered:F,errorCaptured:V,serverPrefetch:O,expose:U,inheritAttrs:J,components:Y,directives:ie,filters:ce}=e;if(u&&cF(u,r,null),a)for(const me in a){const be=a[me];_t(be)&&(r[me]=be.bind(i))}if(n){const me=n.call(i,i);li(me)&&(t.data=L0(me))}if(Sy=!0,s)for(const me in s){const be=s[me],ot=_t(be)?be.bind(i,i):_t(be.get)?be.get.bind(i,i):na,vt=!_t(be)&&_t(be.set)?be.set.bind(i):na,$e=si({get:ot,set:vt});Object.defineProperty(r,me,{enumerable:!0,configurable:!0,get:()=>$e.value,set:Je=>$e.value=Je})}if(o)for(const me in o)fT(o[me],r,i,me);if(l){const me=_t(l)?l.call(i):l;Reflect.ownKeys(me).forEach(be=>{Ln(be,me[be])})}c&&U8(c,t,"c");function Me(me,be){ut(be)?be.forEach(ot=>me(ot.bind(i))):be&&me(be.bind(i))}if(Me(ao,d),Me(qi,h),Me(iF,f),Me(Av,g),Me(QO,y),Me(eF,C),Me(aF,V),Me(sF,B),Me(nF,F),Me(Ou,A),Me(oo,M),Me(rF,O),ut(U))if(U.length){const me=t.exposed||(t.exposed={});U.forEach(be=>{Object.defineProperty(me,be,{get:()=>i[be],set:ot=>i[be]=ot})})}else t.exposed||(t.exposed={});D&&t.render===na&&(t.render=D),J!=null&&(t.inheritAttrs=J),Y&&(t.components=Y),ie&&(t.directives=ie),O&&Ev(t)}function cF(t,e,i=na){ut(t)&&(t=Cy(t));for(const r in t){const n=t[r];let s;li(n)?"default"in n?s=hr(n.from||r,n.default,!0):s=hr(n.from||r):s=hr(n),Bt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function U8(t,e,i){As(ut(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,i)}function fT(t,e,i,r){let n=r.includes(".")?TT(i,r):()=>i[r];if(_i(t)){const s=e[t];_t(s)&&_r(n,s)}else if(_t(t))_r(n,t.bind(i));else if(li(t))if(ut(t))t.forEach(s=>fT(s,e,i,r));else{const s=_t(t.handler)?t.handler.bind(i):e[t.handler];_t(s)&&_r(n,s,t)}}function Mv(t){const e=t.type,{mixins:i,extends:r}=e,{mixins:n,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!n.length&&!i&&!r?l=e:(l={},n.length&&n.forEach(u=>v1(l,u,a,!0)),v1(l,e,a)),li(e)&&s.set(e,l),l}function v1(t,e,i,r=!1){const{mixins:n,extends:s}=e;s&&v1(t,s,i,!0),n&&n.forEach(a=>v1(t,a,i,!0));for(const a in e)if(!(r&&a==="expose")){const o=dF[a]||i&&i[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const dF={data:q8,props:j8,emits:j8,methods:Zd,computed:Zd,beforeCreate:Vr,created:Vr,beforeMount:Vr,mounted:Vr,beforeUpdate:Vr,updated:Vr,beforeDestroy:Vr,beforeUnmount:Vr,destroyed:Vr,unmounted:Vr,activated:Vr,deactivated:Vr,errorCaptured:Vr,serverPrefetch:Vr,components:Zd,directives:Zd,watch:pF,provide:q8,inject:hF};function q8(t,e){return e?t?function(){return Yi(_t(t)?t.call(this,this):t,_t(e)?e.call(this,this):e)}:e:t}function hF(t,e){return Zd(Cy(t),Cy(e))}function Cy(t){if(ut(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function Vr(t,e){return t?[...new Set([].concat(t,e))]:e}function Zd(t,e){return t?Yi(Object.create(null),t,e):e}function j8(t,e){return t?ut(t)&&ut(e)?[...new Set([...t,...e])]:Yi(Object.create(null),z8(t),z8(e??{})):e}function pF(t,e){if(!t)return e;if(!e)return t;const i=Yi(Object.create(null),t);for(const r in e)i[r]=Vr(t[r],e[r]);return i}function mT(){return{app:null,config:{isNativeTag:XR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fF=0;function mF(t,e){return function(r,n=null){_t(r)||(r=Yi({},r)),n!=null&&!li(n)&&(n=null);const s=mT(),a=new WeakSet,o=[];let l=!1;const u=s.app={_uid:fF++,_component:r,_props:n,_container:null,_context:s,_instance:null,version:YF,get config(){return s.config},set config(c){},use(c,...d){return a.has(c)||(c&&_t(c.install)?(a.add(c),c.install(u,...d)):_t(c)&&(a.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,h){if(!l){const f=u._ceVNode||ge(r,n);return f.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),d&&e?e(f,c):t(f,c,h),l=!0,u._container=c,c.__vue_app__=u,Og(f.component)}},onUnmount(c){o.push(c)},unmount(){l&&(As(o,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=yu;yu=u;try{return c()}finally{yu=d}}};return u}}let yu=null;function Ln(t,e){if(nr){let i=nr.provides;const r=nr.parent&&nr.parent.provides;r===i&&(i=nr.provides=Object.create(r)),i[t]=e}}function hr(t,e,i=!1){const r=nr||sr;if(r||yu){const n=yu?yu._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return i&&_t(e)?e.call(r&&r.proxy):e}}function gF(){return!!(nr||sr||yu)}const gT={},yT=()=>Object.create(gT),vT=t=>Object.getPrototypeOf(t)===gT;function yF(t,e,i,r=!1){const n={},s=yT();t.propsDefaults=Object.create(null),bT(t,e,n,s);for(const a in t.propsOptions[0])a in n||(n[a]=void 0);i?t.props=r?n:qk(n):t.type.props?t.props=n:t.props=s,t.attrs=s}function vF(t,e,i,r){const{props:n,attrs:s,vnode:{patchFlag:a}}=t,o=qt(n),[l]=t.propsOptions;let u=!1;if((r||a>0)&&!(a&16)){if(a&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(Pg(t.emitsOptions,h))continue;const f=e[h];if(l)if(Jt(s,h))f!==s[h]&&(s[h]=f,u=!0);else{const g=Es(h);n[g]=ky(l,o,g,f,t,!1)}else f!==s[h]&&(s[h]=f,u=!0)}}}else{bT(t,e,n,s)&&(u=!0);let c;for(const d in o)(!e||!Jt(e,d)&&((c=Ru(d))===d||!Jt(e,c)))&&(l?i&&(i[d]!==void 0||i[c]!==void 0)&&(n[d]=ky(l,o,d,void 0,t,!0)):delete n[d]);if(s!==o)for(const d in s)(!e||!Jt(e,d))&&(delete s[d],u=!0)}u&&qa(t.attrs,"set","")}function bT(t,e,i,r){const[n,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(oh(l))continue;const u=e[l];let c;n&&Jt(n,c=Es(l))?!s||!s.includes(c)?i[c]=u:(o||(o={}))[c]=u:Pg(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(s){const l=qt(i),u=o||oi;for(let c=0;c<s.length;c++){const d=s[c];i[d]=ky(n,l,d,u[d],t,!Jt(u,d))}}return a}function ky(t,e,i,r,n,s){const a=t[i];if(a!=null){const o=Jt(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&_t(l)){const{propsDefaults:u}=n;if(i in u)r=u[i];else{const c=op(n);r=u[i]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(i,r)}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===Ru(i))&&(r=!0))}return r}const bF=new WeakMap;function xT(t,e,i=!1){const r=i?bF:e.propsCache,n=r.get(t);if(n)return n;const s=t.props,a={},o=[];let l=!1;if(!_t(t)){const c=d=>{l=!0;const[h,f]=xT(d,e,!0);Yi(a,h),f&&o.push(...f)};!i&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return li(t)&&r.set(t,jc),jc;if(ut(s))for(let c=0;c<s.length;c++){const d=Es(s[c]);V8(d)&&(a[d]=oi)}else if(s)for(const c in s){const d=Es(c);if(V8(d)){const h=s[c],f=a[d]=ut(h)||_t(h)?{type:h}:Yi({},h),g=f.type;let y=!1,C=!0;if(ut(g))for(let S=0;S<g.length;++S){const A=g[S],T=_t(A)&&A.name;if(T==="Boolean"){y=!0;break}else T==="String"&&(C=!1)}else y=_t(g)&&g.name==="Boolean";f[0]=y,f[1]=C,(y||Jt(f,"default"))&&o.push(d)}}const u=[a,o];return li(t)&&r.set(t,u),u}function V8(t){return t[0]!=="$"&&!oh(t)}const _T=t=>t[0]==="_"||t==="$stable",Dv=t=>ut(t)?t.map(Hs):[Hs(t)],xF=(t,e,i)=>{if(e._n)return e;const r=We((...n)=>Dv(e(...n)),i);return r._c=!1,r},wT=(t,e,i)=>{const r=t._ctx;for(const n in t){if(_T(n))continue;const s=t[n];if(_t(s))e[n]=xF(n,s,r);else if(s!=null){const a=Dv(s);e[n]=()=>a}}},ST=(t,e)=>{const i=Dv(e);t.slots.default=()=>i},CT=(t,e,i)=>{for(const r in e)(i||r!=="_")&&(t[r]=e[r])},_F=(t,e,i)=>{const r=t.slots=yT();if(t.vnode.shapeFlag&32){const n=e._;n?(CT(r,e,i),i&&bk(r,"_",n,!0)):wT(e,r)}else e&&ST(t,e)},wF=(t,e,i)=>{const{vnode:r,slots:n}=t;let s=!0,a=oi;if(r.shapeFlag&32){const o=e._;o?i&&o===1?s=!1:CT(n,e,i):(s=!e.$stable,wT(e,n)),a=e}else e&&(ST(t,e),a={default:1});if(s)for(const o in n)!_T(o)&&a[o]==null&&delete n[o]},ur=FF;function SF(t){return CF(t)}function CF(t,e){const i=xk();i.__VUE__=!0;const{insert:r,remove:n,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=na,insertStaticContent:g}=t,y=(N,z,re,ye=null,pe=null,xe=null,Re=void 0,Se=null,Oe=!!z.dynamicChildren)=>{if(N===z)return;N&&!tl(N,z)&&(ye=oe(N),Je(N,pe,xe,!0),N=null),z.patchFlag===-2&&(Oe=!1,z.dynamicChildren=null);const{type:De,ref:at,shapeFlag:Ue}=z;switch(De){case Ig:C(N,z,re,ye);break;case Br:S(N,z,re,ye);break;case Hm:N==null&&A(z,re,ye,Re);break;case yt:Y(N,z,re,ye,pe,xe,Re,Se,Oe);break;default:Ue&1?D(N,z,re,ye,pe,xe,Re,Se,Oe):Ue&6?ie(N,z,re,ye,pe,xe,Re,Se,Oe):(Ue&64||Ue&128)&&De.process(N,z,re,ye,pe,xe,Re,Se,Oe,Ie)}at!=null&&pe&&_y(at,N&&N.ref,xe,z||N,!z)},C=(N,z,re,ye)=>{if(N==null)r(z.el=o(z.children),re,ye);else{const pe=z.el=N.el;z.children!==N.children&&u(pe,z.children)}},S=(N,z,re,ye)=>{N==null?r(z.el=l(z.children||""),re,ye):z.el=N.el},A=(N,z,re,ye)=>{[N.el,N.anchor]=g(N.children,z,re,ye,N.el,N.anchor)},T=({el:N,anchor:z},re,ye)=>{let pe;for(;N&&N!==z;)pe=h(N),r(N,re,ye),N=pe;r(z,re,ye)},M=({el:N,anchor:z})=>{let re;for(;N&&N!==z;)re=h(N),n(N),N=re;n(z)},D=(N,z,re,ye,pe,xe,Re,Se,Oe)=>{z.type==="svg"?Re="svg":z.type==="math"&&(Re="mathml"),N==null?B(z,re,ye,pe,xe,Re,Se,Oe):O(N,z,pe,xe,Re,Se,Oe)},B=(N,z,re,ye,pe,xe,Re,Se)=>{let Oe,De;const{props:at,shapeFlag:Ue,transition:Ze,dirs:nt}=N;if(Oe=N.el=a(N.type,xe,at&&at.is,at),Ue&8?c(Oe,N.children):Ue&16&&V(N.children,Oe,null,ye,pe,f4(N,xe),Re,Se),nt&&Il(N,null,ye,"created"),F(Oe,N,N.scopeId,Re,ye),at){for(const Vt in at)Vt!=="value"&&!oh(Vt)&&s(Oe,Vt,null,at[Vt],xe,ye);"value"in at&&s(Oe,"value",null,at.value,xe),(De=at.onVnodeBeforeMount)&&Gn(De,ye,N)}nt&&Il(N,null,ye,"beforeMount");const At=kF(pe,Ze);At&&Ze.beforeEnter(Oe),r(Oe,z,re),((De=at&&at.onVnodeMounted)||At||nt)&&ur(()=>{De&&Gn(De,ye,N),At&&Ze.enter(Oe),nt&&Il(N,null,ye,"mounted")},pe)},F=(N,z,re,ye,pe)=>{if(re&&f(N,re),ye)for(let xe=0;xe<ye.length;xe++)f(N,ye[xe]);if(pe){let xe=pe.subTree;if(z===xe||x1(xe.type)&&(xe.ssContent===z||xe.ssFallback===z)){const Re=pe.vnode;F(N,Re,Re.scopeId,Re.slotScopeIds,pe.parent)}}},V=(N,z,re,ye,pe,xe,Re,Se,Oe=0)=>{for(let De=Oe;De<N.length;De++){const at=N[De]=Se?Xo(N[De]):Hs(N[De]);y(null,at,z,re,ye,pe,xe,Re,Se)}},O=(N,z,re,ye,pe,xe,Re)=>{const Se=z.el=N.el;let{patchFlag:Oe,dynamicChildren:De,dirs:at}=z;Oe|=N.patchFlag&16;const Ue=N.props||oi,Ze=z.props||oi;let nt;if(re&&Rl(re,!1),(nt=Ze.onVnodeBeforeUpdate)&&Gn(nt,re,z,N),at&&Il(z,N,re,"beforeUpdate"),re&&Rl(re,!0),(Ue.innerHTML&&Ze.innerHTML==null||Ue.textContent&&Ze.textContent==null)&&c(Se,""),De?U(N.dynamicChildren,De,Se,re,ye,f4(z,pe),xe):Re||be(N,z,Se,null,re,ye,f4(z,pe),xe,!1),Oe>0){if(Oe&16)J(Se,Ue,Ze,re,pe);else if(Oe&2&&Ue.class!==Ze.class&&s(Se,"class",null,Ze.class,pe),Oe&4&&s(Se,"style",Ue.style,Ze.style,pe),Oe&8){const At=z.dynamicProps;for(let Vt=0;Vt<At.length;Vt++){const $t=At[Vt],ji=Ue[$t],Ai=Ze[$t];(Ai!==ji||$t==="value")&&s(Se,$t,ji,Ai,pe,re)}}Oe&1&&N.children!==z.children&&c(Se,z.children)}else!Re&&De==null&&J(Se,Ue,Ze,re,pe);((nt=Ze.onVnodeUpdated)||at)&&ur(()=>{nt&&Gn(nt,re,z,N),at&&Il(z,N,re,"updated")},ye)},U=(N,z,re,ye,pe,xe,Re)=>{for(let Se=0;Se<z.length;Se++){const Oe=N[Se],De=z[Se],at=Oe.el&&(Oe.type===yt||!tl(Oe,De)||Oe.shapeFlag&70)?d(Oe.el):re;y(Oe,De,at,null,ye,pe,xe,Re,!0)}},J=(N,z,re,ye,pe)=>{if(z!==re){if(z!==oi)for(const xe in z)!oh(xe)&&!(xe in re)&&s(N,xe,z[xe],null,pe,ye);for(const xe in re){if(oh(xe))continue;const Re=re[xe],Se=z[xe];Re!==Se&&xe!=="value"&&s(N,xe,Se,Re,pe,ye)}"value"in re&&s(N,"value",z.value,re.value,pe)}},Y=(N,z,re,ye,pe,xe,Re,Se,Oe)=>{const De=z.el=N?N.el:o(""),at=z.anchor=N?N.anchor:o("");let{patchFlag:Ue,dynamicChildren:Ze,slotScopeIds:nt}=z;nt&&(Se=Se?Se.concat(nt):nt),N==null?(r(De,re,ye),r(at,re,ye),V(z.children||[],re,at,pe,xe,Re,Se,Oe)):Ue>0&&Ue&64&&Ze&&N.dynamicChildren?(U(N.dynamicChildren,Ze,re,pe,xe,Re,Se),(z.key!=null||pe&&z===pe.subTree)&&Lv(N,z,!0)):be(N,z,re,at,pe,xe,Re,Se,Oe)},ie=(N,z,re,ye,pe,xe,Re,Se,Oe)=>{z.slotScopeIds=Se,N==null?z.shapeFlag&512?pe.ctx.activate(z,re,ye,Re,Oe):ce(z,re,ye,pe,xe,Re,Oe):qe(N,z,Oe)},ce=(N,z,re,ye,pe,xe,Re)=>{const Se=N.component=VF(N,ye,pe);if(ap(N)&&(Se.ctx.renderer=Ie),HF(Se,!1,Re),Se.asyncDep){if(pe&&pe.registerDep(Se,Me,Re),!N.el){const Oe=Se.subTree=ge(Br);S(null,Oe,z,re)}}else Me(Se,N,z,re,pe,xe,Re)},qe=(N,z,re)=>{const ye=z.component=N.component;if(RF(N,z,re))if(ye.asyncDep&&!ye.asyncResolved){me(ye,z,re);return}else ye.next=z,ye.update();else z.el=N.el,ye.vnode=z},Me=(N,z,re,ye,pe,xe,Re)=>{const Se=()=>{if(N.isMounted){let{next:Ue,bu:Ze,u:nt,parent:At,vnode:Vt}=N;{const Vi=kT(N);if(Vi){Ue&&(Ue.el=Vt.el,me(N,Ue,Re)),Vi.asyncDep.then(()=>{N.isUnmounted||Se()});return}}let $t=Ue,ji;Rl(N,!1),Ue?(Ue.el=Vt.el,me(N,Ue,Re)):Ue=Vt,Ze&&Hc(Ze),(ji=Ue.props&&Ue.props.onVnodeBeforeUpdate)&&Gn(ji,At,Ue,Vt),Rl(N,!0);const Ai=m4(N),Mt=N.subTree;N.subTree=Ai,y(Mt,Ai,d(Mt.el),oe(Mt),N,pe,xe),Ue.el=Ai.el,$t===null&&OF(N,Ai.el),nt&&ur(nt,pe),(ji=Ue.props&&Ue.props.onVnodeUpdated)&&ur(()=>Gn(ji,At,Ue,Vt),pe)}else{let Ue;const{el:Ze,props:nt}=z,{bm:At,m:Vt,parent:$t,root:ji,type:Ai}=N,Mt=gu(z);if(Rl(N,!1),At&&Hc(At),!Mt&&(Ue=nt&&nt.onVnodeBeforeMount)&&Gn(Ue,$t,z),Rl(N,!0),Ze&&St){const Vi=()=>{N.subTree=m4(N),St(Ze,N.subTree,N,pe,null)};Mt&&Ai.__asyncHydrate?Ai.__asyncHydrate(Ze,N,Vi):Vi()}else{ji.ce&&ji.ce._injectChildStyle(Ai);const Vi=N.subTree=m4(N);y(null,Vi,re,ye,N,pe,xe),z.el=Vi.el}if(Vt&&ur(Vt,pe),!Mt&&(Ue=nt&&nt.onVnodeMounted)){const Vi=z;ur(()=>Gn(Ue,$t,Vi),pe)}(z.shapeFlag&256||$t&&gu($t.vnode)&&$t.vnode.shapeFlag&256)&&N.a&&ur(N.a,pe),N.isMounted=!0,z=re=ye=null}};N.scope.on();const Oe=N.effect=new Ak(Se);N.scope.off();const De=N.update=Oe.run.bind(Oe),at=N.job=Oe.runIfDirty.bind(Oe);at.i=N,at.id=N.uid,Oe.scheduler=()=>kv(at),Rl(N,!0),De()},me=(N,z,re)=>{z.component=N;const ye=N.vnode.props;N.vnode=z,N.next=null,vF(N,z.props,ye,re),wF(N,z.children,re),bl(),I8(N),xl()},be=(N,z,re,ye,pe,xe,Re,Se,Oe=!1)=>{const De=N&&N.children,at=N?N.shapeFlag:0,Ue=z.children,{patchFlag:Ze,shapeFlag:nt}=z;if(Ze>0){if(Ze&128){vt(De,Ue,re,ye,pe,xe,Re,Se,Oe);return}else if(Ze&256){ot(De,Ue,re,ye,pe,xe,Re,Se,Oe);return}}nt&8?(at&16&&It(De,pe,xe),Ue!==De&&c(re,Ue)):at&16?nt&16?vt(De,Ue,re,ye,pe,xe,Re,Se,Oe):It(De,pe,xe,!0):(at&8&&c(re,""),nt&16&&V(Ue,re,ye,pe,xe,Re,Se,Oe))},ot=(N,z,re,ye,pe,xe,Re,Se,Oe)=>{N=N||jc,z=z||jc;const De=N.length,at=z.length,Ue=Math.min(De,at);let Ze;for(Ze=0;Ze<Ue;Ze++){const nt=z[Ze]=Oe?Xo(z[Ze]):Hs(z[Ze]);y(N[Ze],nt,re,null,pe,xe,Re,Se,Oe)}De>at?It(N,pe,xe,!0,!1,Ue):V(z,re,ye,pe,xe,Re,Se,Oe,Ue)},vt=(N,z,re,ye,pe,xe,Re,Se,Oe)=>{let De=0;const at=z.length;let Ue=N.length-1,Ze=at-1;for(;De<=Ue&&De<=Ze;){const nt=N[De],At=z[De]=Oe?Xo(z[De]):Hs(z[De]);if(tl(nt,At))y(nt,At,re,null,pe,xe,Re,Se,Oe);else break;De++}for(;De<=Ue&&De<=Ze;){const nt=N[Ue],At=z[Ze]=Oe?Xo(z[Ze]):Hs(z[Ze]);if(tl(nt,At))y(nt,At,re,null,pe,xe,Re,Se,Oe);else break;Ue--,Ze--}if(De>Ue){if(De<=Ze){const nt=Ze+1,At=nt<at?z[nt].el:ye;for(;De<=Ze;)y(null,z[De]=Oe?Xo(z[De]):Hs(z[De]),re,At,pe,xe,Re,Se,Oe),De++}}else if(De>Ze)for(;De<=Ue;)Je(N[De],pe,xe,!0),De++;else{const nt=De,At=De,Vt=new Map;for(De=At;De<=Ze;De++){const Ji=z[De]=Oe?Xo(z[De]):Hs(z[De]);Ji.key!=null&&Vt.set(Ji.key,De)}let $t,ji=0;const Ai=Ze-At+1;let Mt=!1,Vi=0;const Hi=new Array(Ai);for(De=0;De<Ai;De++)Hi[De]=0;for(De=nt;De<=Ue;De++){const Ji=N[De];if(ji>=Ai){Je(Ji,pe,xe,!0);continue}let Tr;if(Ji.key!=null)Tr=Vt.get(Ji.key);else for($t=At;$t<=Ze;$t++)if(Hi[$t-At]===0&&tl(Ji,z[$t])){Tr=$t;break}Tr===void 0?Je(Ji,pe,xe,!0):(Hi[Tr-At]=De+1,Tr>=Vi?Vi=Tr:Mt=!0,y(Ji,z[Tr],re,null,pe,xe,Re,Se,Oe),ji++)}const cs=Mt?TF(Hi):jc;for($t=cs.length-1,De=Ai-1;De>=0;De--){const Ji=At+De,Tr=z[Ji],Hu=Ji+1<at?z[Ji+1].el:ye;Hi[De]===0?y(null,Tr,re,Hu,pe,xe,Re,Se,Oe):Mt&&($t<0||De!==cs[$t]?$e(Tr,re,Hu,2):$t--)}}},$e=(N,z,re,ye,pe=null)=>{const{el:xe,type:Re,transition:Se,children:Oe,shapeFlag:De}=N;if(De&6){$e(N.component.subTree,z,re,ye);return}if(De&128){N.suspense.move(z,re,ye);return}if(De&64){Re.move(N,z,re,Ie);return}if(Re===yt){r(xe,z,re);for(let Ue=0;Ue<Oe.length;Ue++)$e(Oe[Ue],z,re,ye);r(N.anchor,z,re);return}if(Re===Hm){T(N,z,re);return}if(ye!==2&&De&1&&Se)if(ye===0)Se.beforeEnter(xe),r(xe,z,re),ur(()=>Se.enter(xe),pe);else{const{leave:Ue,delayLeave:Ze,afterLeave:nt}=Se,At=()=>r(xe,z,re),Vt=()=>{Ue(xe,()=>{At(),nt&&nt()})};Ze?Ze(xe,At,Vt):Vt()}else r(xe,z,re)},Je=(N,z,re,ye=!1,pe=!1)=>{const{type:xe,props:Re,ref:Se,children:Oe,dynamicChildren:De,shapeFlag:at,patchFlag:Ue,dirs:Ze,cacheIndex:nt}=N;if(Ue===-2&&(pe=!1),Se!=null&&_y(Se,null,re,N,!0),nt!=null&&(z.renderCache[nt]=void 0),at&256){z.ctx.deactivate(N);return}const At=at&1&&Ze,Vt=!gu(N);let $t;if(Vt&&($t=Re&&Re.onVnodeBeforeUnmount)&&Gn($t,z,N),at&6)rt(N.component,re,ye);else{if(at&128){N.suspense.unmount(re,ye);return}At&&Il(N,null,z,"beforeUnmount"),at&64?N.type.remove(N,z,re,Ie,ye):De&&!De.hasOnce&&(xe!==yt||Ue>0&&Ue&64)?It(De,z,re,!1,!0):(xe===yt&&Ue&384||!pe&&at&16)&&It(Oe,z,re),ye&&it(N)}(Vt&&($t=Re&&Re.onVnodeUnmounted)||At)&&ur(()=>{$t&&Gn($t,z,N),At&&Il(N,null,z,"unmounted")},re)},it=N=>{const{type:z,el:re,anchor:ye,transition:pe}=N;if(z===yt){Ft(re,ye);return}if(z===Hm){M(N);return}const xe=()=>{n(re),pe&&!pe.persisted&&pe.afterLeave&&pe.afterLeave()};if(N.shapeFlag&1&&pe&&!pe.persisted){const{leave:Re,delayLeave:Se}=pe,Oe=()=>Re(re,xe);Se?Se(N.el,xe,Oe):Oe()}else xe()},Ft=(N,z)=>{let re;for(;N!==z;)re=h(N),n(N),N=re;n(z)},rt=(N,z,re)=>{const{bum:ye,scope:pe,job:xe,subTree:Re,um:Se,m:Oe,a:De}=N;b1(Oe),b1(De),ye&&Hc(ye),pe.stop(),xe&&(xe.flags|=8,Je(Re,N,z,re)),Se&&ur(Se,z),ur(()=>{N.isUnmounted=!0},z),z&&z.pendingBranch&&!z.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===z.pendingId&&(z.deps--,z.deps===0&&z.resolve())},It=(N,z,re,ye=!1,pe=!1,xe=0)=>{for(let Re=xe;Re<N.length;Re++)Je(N[Re],z,re,ye,pe)},oe=N=>{if(N.shapeFlag&6)return oe(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const z=h(N.anchor||N.el),re=z&&z[Qk];return re?h(re):z};let Te=!1;const Ee=(N,z,re)=>{N==null?z._vnode&&Je(z._vnode,null,null,!0):y(z._vnode||null,N,z,null,null,null,re),z._vnode=N,Te||(Te=!0,I8(),Yk(),Te=!1)},Ie={p:y,um:Je,m:$e,r:it,mt:ce,mc:V,pc:be,pbc:U,n:oe,o:t};let wt,St;return{render:Ee,hydrate:wt,createApp:mF(Ee,wt)}}function f4({type:t,props:e},i){return i==="svg"&&t==="foreignObject"||i==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:i}function Rl({effect:t,job:e},i){i?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function kF(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Lv(t,e,i=!1){const r=t.children,n=e.children;if(ut(r)&&ut(n))for(let s=0;s<r.length;s++){const a=r[s];let o=n[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=n[s]=Xo(n[s]),o.el=a.el),!i&&o.patchFlag!==-2&&Lv(a,o)),o.type===Ig&&(o.el=a.el)}}function TF(t){const e=t.slice(),i=[0];let r,n,s,a,o;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=i[i.length-1],t[n]<u){e[r]=n,i.push(r);continue}for(s=0,a=i.length-1;s<a;)o=s+a>>1,t[i[o]]<u?s=o+1:a=o;u<t[i[s]]&&(s>0&&(e[r]=i[s-1]),i[s]=r)}}for(s=i.length,a=i[s-1];s-- >0;)i[s]=a,a=e[a];return i}function kT(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:kT(e)}function b1(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const EF=Symbol.for("v-scx"),AF=()=>hr(EF);function MF(t,e){return Bv(t,null,e)}function _r(t,e,i){return Bv(t,e,i)}function Bv(t,e,i=oi){const{immediate:r,deep:n,flush:s,once:a}=i,o=Yi({},i);let l;if(lp)if(s==="sync"){const h=AF();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!e||r)o.once=!0;else{const h=()=>{};return h.stop=na,h.resume=na,h.pause=na,h}const u=nr;o.call=(h,f,g)=>As(h,u,f,g);let c=!1;s==="post"?o.scheduler=h=>{ur(h,u&&u.suspense)}:s!=="sync"&&(c=!0,o.scheduler=(h,f)=>{f?h():kv(h)}),o.augmentJob=h=>{e&&(h.flags|=4),c&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=zO(t,e,o);return l&&l.push(d),d}function DF(t,e,i){const r=this.proxy,n=_i(t)?t.includes(".")?TT(r,t):()=>r[t]:t.bind(r,r);let s;_t(e)?s=e:(s=e.handler,i=e);const a=op(this),o=Bv(n,s.bind(r),i);return a(),o}function TT(t,e){const i=e.split(".");return()=>{let r=t;for(let n=0;n<i.length&&r;n++)r=r[i[n]];return r}}const LF=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Es(e)}Modifiers`]||t[`${Ru(e)}Modifiers`];function BF(t,e,...i){if(t.isUnmounted)return;const r=t.vnode.props||oi;let n=i;const s=e.startsWith("update:"),a=s&&LF(r,e.slice(7));a&&(a.trim&&(n=i.map(c=>_i(c)?c.trim():c)),a.number&&(n=i.map(gy)));let o,l=r[o=s4(e)]||r[o=s4(Es(e))];!l&&s&&(l=r[o=s4(Ru(e))]),l&&As(l,t,6,n);const u=r[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,As(u,t,6,n)}}function ET(t,e,i=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const s=t.emits;let a={},o=!1;if(!_t(t)){const l=u=>{const c=ET(u,e,!0);c&&(o=!0,Yi(a,c))};!i&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(li(t)&&r.set(t,null),null):(ut(s)?s.forEach(l=>a[l]=null):Yi(a,s),li(t)&&r.set(t,a),a)}function Pg(t,e){return!t||!Cg(e)?!1:(e=e.slice(2).replace(/Once$/,""),Jt(t,e[0].toLowerCase()+e.slice(1))||Jt(t,Ru(e))||Jt(t,e))}function m4(t){const{type:e,vnode:i,proxy:r,withProxy:n,propsOptions:[s],slots:a,attrs:o,emit:l,render:u,renderCache:c,props:d,data:h,setupState:f,ctx:g,inheritAttrs:y}=t,C=y1(t);let S,A;try{if(i.shapeFlag&4){const M=n||r,D=M;S=Hs(u.call(D,M,c,d,f,h,g)),A=o}else{const M=e;S=Hs(M.length>1?M(d,{attrs:o,slots:a,emit:l}):M(d,null)),A=e.props?o:PF(o)}}catch(M){dh.length=0,sp(M,t,1),S=ge(Br)}let T=S;if(A&&y!==!1){const M=Object.keys(A),{shapeFlag:D}=T;M.length&&D&7&&(s&&M.some(hv)&&(A=IF(A,s)),T=Xa(T,A,!1,!0))}return i.dirs&&(T=Xa(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(i.dirs):i.dirs),i.transition&&cl(T,i.transition),S=T,y1(C),S}const PF=t=>{let e;for(const i in t)(i==="class"||i==="style"||Cg(i))&&((e||(e={}))[i]=t[i]);return e},IF=(t,e)=>{const i={};for(const r in t)(!hv(r)||!(r.slice(9)in e))&&(i[r]=t[r]);return i};function RF(t,e,i){const{props:r,children:n,component:s}=t,{props:a,children:o,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return r?H8(r,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(a[h]!==r[h]&&!Pg(u,h))return!0}}}else return(n||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?H8(r,a,u):!0:!!a;return!1}function H8(t,e,i){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const s=r[n];if(e[s]!==t[s]&&!Pg(i,s))return!0}return!1}function OF({vnode:t,parent:e},i){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=i,e=e.parent;else break}}const x1=t=>t.__isSuspense;function FF(t,e){e&&e.pendingBranch?ut(t)?e.effects.push(...t):e.effects.push(t):jO(t)}const yt=Symbol.for("v-fgt"),Ig=Symbol.for("v-txt"),Br=Symbol.for("v-cmt"),Hm=Symbol.for("v-stc"),dh=[];let Bn=null;function X(t=!1){dh.push(Bn=t?null:[])}function NF(){dh.pop(),Bn=dh[dh.length-1]||null}let Rh=1;function K8(t){Rh+=t,t<0&&Bn&&(Bn.hasOnce=!0)}function AT(t){return t.dynamicChildren=Rh>0?Bn||jc:null,NF(),Rh>0&&Bn&&Bn.push(t),t}function ne(t,e,i,r,n,s){return AT(m(t,e,i,r,n,s,!0))}function Ot(t,e,i,r,n){return AT(ge(t,e,i,r,n,!0))}function Oh(t){return t?t.__v_isVNode===!0:!1}function tl(t,e){return t.type===e.type&&t.key===e.key}const MT=({key:t})=>t??null,Km=({ref:t,ref_key:e,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?_i(t)||Bt(t)||_t(t)?{i:sr,r:t,k:e,f:!!i}:t:null);function m(t,e=null,i=null,r=0,n=null,s=t===yt?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&MT(e),ref:e&&Km(e),scopeId:Jk,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:sr};return o?(Pv(l,i),s&128&&t.normalize(l)):i&&(l.shapeFlag|=_i(i)?8:16),Rh>0&&!a&&Bn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Bn.push(l),l}const ge=$F;function $F(t,e=null,i=null,r=0,n=null,s=!1){if((!t||t===dT)&&(t=Br),Oh(t)){const o=Xa(t,e,!0);return i&&Pv(o,i),Rh>0&&!s&&Bn&&(o.shapeFlag&6?Bn[Bn.indexOf(t)]=o:Bn.push(o)),o.patchFlag=-2,o}if(XF(t)&&(t=t.__vccOpts),e){e=zF(e);let{class:o,style:l}=e;o&&!_i(o)&&(e.class=Wt(o)),li(l)&&(wv(l)&&!ut(l)&&(l=Yi({},l)),e.style=Zr(l))}const a=_i(t)?1:x1(t)?128:eT(t)?64:li(t)?4:_t(t)?2:0;return m(t,e,i,r,n,a,s,!0)}function zF(t){return t?wv(t)||vT(t)?Yi({},t):t:null}function Xa(t,e,i=!1,r=!1){const{props:n,ref:s,patchFlag:a,children:o,transition:l}=t,u=e?UF(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&MT(u),ref:e&&e.ref?i&&s?ut(s)?s.concat(Km(e)):[s,Km(e)]:Km(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==yt?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Xa(t.ssContent),ssFallback:t.ssFallback&&Xa(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&cl(c,l.clone(c)),c}function tt(t=" ",e=0){return ge(Ig,null,t,e)}function sa(t,e){const i=ge(Hm,null,t);return i.staticCount=e,i}function je(t="",e=!1){return e?(X(),Ot(Br,null,t)):ge(Br,null,t)}function Hs(t){return t==null||typeof t=="boolean"?ge(Br):ut(t)?ge(yt,null,t.slice()):typeof t=="object"?Xo(t):ge(Ig,null,String(t))}function Xo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Xa(t)}function Pv(t,e){let i=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ut(e))i=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),Pv(t,n()),n._c&&(n._d=!0));return}else{i=32;const n=e._;!n&&!vT(e)?e._ctx=sr:n===3&&sr&&(sr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else _t(e)?(e={default:e,_ctx:sr},i=32):(e=String(e),r&64?(i=16,e=[tt(e)]):i=8);t.children=e,t.shapeFlag|=i}function UF(...t){const e={};for(let i=0;i<t.length;i++){const r=t[i];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=Wt([e.class,r.class]));else if(n==="style")e.style=Zr([e.style,r.style]);else if(Cg(n)){const s=e[n],a=r[n];a&&s!==a&&!(ut(s)&&s.includes(a))&&(e[n]=s?[].concat(s,a):a)}else n!==""&&(e[n]=r[n])}return e}function Gn(t,e,i,r=null){As(t,e,7,[i,r])}const qF=mT();let jF=0;function VF(t,e,i){const r=t.type,n=(e?e.appContext:t.appContext)||qF,s={uid:jF++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new kk(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xT(r,n),emitsOptions:ET(r,n),emit:null,emitted:null,propsDefaults:oi,inheritAttrs:r.inheritAttrs,ctx:oi,data:oi,props:oi,attrs:oi,slots:oi,refs:oi,setupState:oi,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=BF.bind(null,s),t.ce&&t.ce(s),s}let nr=null;const Rg=()=>nr||sr;let _1,Ty;{const t=xk(),e=(i,r)=>{let n;return(n=t[i])||(n=t[i]=[]),n.push(r),s=>{n.length>1?n.forEach(a=>a(s)):n[0](s)}};_1=e("__VUE_INSTANCE_SETTERS__",i=>nr=i),Ty=e("__VUE_SSR_SETTERS__",i=>lp=i)}const op=t=>{const e=nr;return _1(t),t.scope.on(),()=>{t.scope.off(),_1(e)}},W8=()=>{nr&&nr.scope.off(),_1(null)};function DT(t){return t.vnode.shapeFlag&4}let lp=!1;function HF(t,e=!1,i=!1){e&&Ty(e);const{props:r,children:n}=t.vnode,s=DT(t);yF(t,r,s,e),_F(t,n,i);const a=s?KF(t,e):void 0;return e&&Ty(!1),a}function KF(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,lF);const{setup:r}=i;if(r){const n=t.setupContext=r.length>1?GF(t):null,s=op(t);bl();const a=np(r,t,0,[t.props,n]);if(xl(),s(),gk(a)){if(gu(t)||Ev(t),a.then(W8,W8),e)return a.then(o=>{G8(t,o,e)}).catch(o=>{sp(o,t,0)});t.asyncDep=a}else G8(t,a,e)}else LT(t,e)}function G8(t,e,i){_t(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:li(e)&&(t.setupState=Kk(e)),LT(t,i)}let X8;function LT(t,e,i){const r=t.type;if(!t.render){if(!e&&X8&&!r.render){const n=r.template||Mv(t).template;if(n){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=r,u=Yi(Yi({isCustomElement:s,delimiters:o},a),l);r.render=X8(n,u)}}t.render=r.render||na}{const n=op(t);bl();try{uF(t)}finally{xl(),n()}}}const WF={get(t,e){return Rr(t,"get",""),t[e]}};function GF(t){const e=i=>{t.exposed=i||{}};return{attrs:new Proxy(t.attrs,WF),slots:t.slots,emit:t.emit,expose:e}}function Og(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Kk(_l(t.exposed)),{get(e,i){if(i in e)return e[i];if(i in ch)return ch[i](t)},has(e,i){return i in e||i in ch}})):t.proxy}function Ey(t,e=!0){return _t(t)?t.displayName||t.name:t.name||e&&t.__name}function XF(t){return _t(t)&&"__vccOpts"in t}const si=(t,e)=>NO(t,e,lp);function lo(t,e,i){const r=arguments.length;return r===2?li(e)&&!ut(e)?Oh(e)?ge(t,null,[e]):ge(t,e):ge(t,null,e):(r>3?i=Array.prototype.slice.call(arguments,2):r===3&&Oh(i)&&(i=[i]),ge(t,e,i))}const YF="3.5.6";/**
* @vue/runtime-dom v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ay;const Y8=typeof window<"u"&&window.trustedTypes;if(Y8)try{Ay=Y8.createPolicy("vue",{createHTML:t=>t})}catch{}const BT=Ay?t=>Ay.createHTML(t):t=>t,ZF="http://www.w3.org/2000/svg",JF="http://www.w3.org/1998/Math/MathML",Ba=typeof document<"u"?document:null,Z8=Ba&&Ba.createElement("template"),QF={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,r)=>{const n=e==="svg"?Ba.createElementNS(ZF,t):e==="mathml"?Ba.createElementNS(JF,t):i?Ba.createElement(t,{is:i}):Ba.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>Ba.createTextNode(t),createComment:t=>Ba.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ba.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,r,n,s){const a=i?i.previousSibling:e.lastChild;if(n&&(n===s||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),i),!(n===s||!(n=n.nextSibling)););else{Z8.innerHTML=BT(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const o=Z8.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,i)}return[a?a.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},vo="transition",pd="animation",u0=Symbol("_vtc"),PT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},IT=Yi({},nT,PT),eN=t=>(t.displayName="Transition",t.props=IT,t),ua=eN((t,{slots:e})=>lo(GO,RT(t),e)),Ol=(t,e=[])=>{ut(t)?t.forEach(i=>i(...e)):t&&t(...e)},J8=t=>t?ut(t)?t.some(e=>e.length>1):t.length>1:!1;function RT(t){const e={};for(const Y in t)Y in PT||(e[Y]=t[Y]);if(t.css===!1)return e;const{name:i="v",type:r,duration:n,enterFromClass:s=`${i}-enter-from`,enterActiveClass:a=`${i}-enter-active`,enterToClass:o=`${i}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:c=o,leaveFromClass:d=`${i}-leave-from`,leaveActiveClass:h=`${i}-leave-active`,leaveToClass:f=`${i}-leave-to`}=t,g=tN(n),y=g&&g[0],C=g&&g[1],{onBeforeEnter:S,onEnter:A,onEnterCancelled:T,onLeave:M,onLeaveCancelled:D,onBeforeAppear:B=S,onAppear:F=A,onAppearCancelled:V=T}=e,O=(Y,ie,ce)=>{qo(Y,ie?c:o),qo(Y,ie?u:a),ce&&ce()},U=(Y,ie)=>{Y._isLeaving=!1,qo(Y,d),qo(Y,f),qo(Y,h),ie&&ie()},J=Y=>(ie,ce)=>{const qe=Y?F:A,Me=()=>O(ie,Y,ce);Ol(qe,[ie,Me]),Q8(()=>{qo(ie,Y?l:s),Ma(ie,Y?c:o),J8(qe)||e7(ie,r,y,Me)})};return Yi(e,{onBeforeEnter(Y){Ol(S,[Y]),Ma(Y,s),Ma(Y,a)},onBeforeAppear(Y){Ol(B,[Y]),Ma(Y,l),Ma(Y,u)},onEnter:J(!1),onAppear:J(!0),onLeave(Y,ie){Y._isLeaving=!0;const ce=()=>U(Y,ie);Ma(Y,d),Ma(Y,h),FT(),Q8(()=>{Y._isLeaving&&(qo(Y,d),Ma(Y,f),J8(M)||e7(Y,r,C,ce))}),Ol(M,[Y,ce])},onEnterCancelled(Y){O(Y,!1),Ol(T,[Y])},onAppearCancelled(Y){O(Y,!0),Ol(V,[Y])},onLeaveCancelled(Y){U(Y),Ol(D,[Y])}})}function tN(t){if(t==null)return null;if(li(t))return[g4(t.enter),g4(t.leave)];{const e=g4(t);return[e,e]}}function g4(t){return tO(t)}function Ma(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.add(i)),(t[u0]||(t[u0]=new Set)).add(e)}function qo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const i=t[u0];i&&(i.delete(e),i.size||(t[u0]=void 0))}function Q8(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let iN=0;function e7(t,e,i,r){const n=t._endId=++iN,s=()=>{n===t._endId&&r()};if(i)return setTimeout(s,i);const{type:a,timeout:o,propCount:l}=OT(t,e);if(!a)return r();const u=a+"end";let c=0;const d=()=>{t.removeEventListener(u,h),s()},h=f=>{f.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},o+1),t.addEventListener(u,h)}function OT(t,e){const i=window.getComputedStyle(t),r=g=>(i[g]||"").split(", "),n=r(`${vo}Delay`),s=r(`${vo}Duration`),a=t7(n,s),o=r(`${pd}Delay`),l=r(`${pd}Duration`),u=t7(o,l);let c=null,d=0,h=0;e===vo?a>0&&(c=vo,d=a,h=s.length):e===pd?u>0&&(c=pd,d=u,h=l.length):(d=Math.max(a,u),c=d>0?a>u?vo:pd:null,h=c?c===vo?s.length:l.length:0);const f=c===vo&&/\b(transform|all)(,|$)/.test(r(`${vo}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:f}}function t7(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((i,r)=>i7(i)+i7(t[r])))}function i7(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function FT(){return document.body.offsetHeight}function rN(t,e,i){const r=t[u0];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}const r7=Symbol("_vod"),nN=Symbol("_vsh"),sN=Symbol(""),aN=/(^|;)\s*display\s*:/;function oN(t,e,i){const r=t.style,n=_i(i);let s=!1;if(i&&!n){if(e)if(_i(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();i[o]==null&&Wm(r,o,"")}else for(const a in e)i[a]==null&&Wm(r,a,"");for(const a in i)a==="display"&&(s=!0),Wm(r,a,i[a])}else if(n){if(e!==i){const a=r[sN];a&&(i+=";"+a),r.cssText=i,s=aN.test(i)}}else e&&t.removeAttribute("style");r7 in t&&(t[r7]=s?r.display:"",t[nN]&&(r.display="none"))}const n7=/\s*!important$/;function Wm(t,e,i){if(ut(i))i.forEach(r=>Wm(t,e,r));else if(i==null&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const r=lN(t,e);n7.test(i)?t.setProperty(Ru(r),i.replace(n7,""),"important"):t[r]=i}}const s7=["Webkit","Moz","ms"],y4={};function lN(t,e){const i=y4[e];if(i)return i;let r=Es(e);if(r!=="filter"&&r in t)return y4[e]=r;r=Eg(r);for(let n=0;n<s7.length;n++){const s=s7[n]+r;if(s in t)return y4[e]=s}return e}const a7="http://www.w3.org/1999/xlink";function o7(t,e,i,r,n,s=oO(e)){r&&e.startsWith("xlink:")?i==null?t.removeAttributeNS(a7,e.slice(6,e.length)):t.setAttributeNS(a7,e,i):i==null||s&&!_k(i)?t.removeAttribute(e):t.setAttribute(e,s?"":la(i)?String(i):i)}function uN(t,e,i,r){if(e==="innerHTML"||e==="textContent"){i!=null&&(t[e]=e==="innerHTML"?BT(i):i);return}const n=t.tagName;if(e==="value"&&n!=="PROGRESS"&&!n.includes("-")){const a=n==="OPTION"?t.getAttribute("value")||"":t.value,o=i==null?t.type==="checkbox"?"on":"":String(i);(a!==o||!("_value"in t))&&(t.value=o),i==null&&t.removeAttribute(e),t._value=i;return}let s=!1;if(i===""||i==null){const a=typeof t[e];a==="boolean"?i=_k(i):i==null&&a==="string"?(i="",s=!0):a==="number"&&(i=0,s=!0)}try{t[e]=i}catch{}s&&t.removeAttribute(e)}function su(t,e,i,r){t.addEventListener(e,i,r)}function cN(t,e,i,r){t.removeEventListener(e,i,r)}const l7=Symbol("_vei");function dN(t,e,i,r,n=null){const s=t[l7]||(t[l7]={}),a=s[e];if(r&&a)a.value=r;else{const[o,l]=hN(e);if(r){const u=s[e]=mN(r,n);su(t,o,u,l)}else a&&(cN(t,o,a,l),s[e]=void 0)}}const u7=/(?:Once|Passive|Capture)$/;function hN(t){let e;if(u7.test(t)){e={};let r;for(;r=t.match(u7);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ru(t.slice(2)),e]}let v4=0;const pN=Promise.resolve(),fN=()=>v4||(pN.then(()=>v4=0),v4=Date.now());function mN(t,e){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;As(gN(r,i.value),e,5,[r])};return i.value=t,i.attached=fN(),i}function gN(t,e){if(ut(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const c7=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,yN=(t,e,i,r,n,s)=>{const a=n==="svg";e==="class"?rN(t,r,a):e==="style"?oN(t,i,r):Cg(e)?hv(e)||dN(t,e,i,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):vN(t,e,r,a))?(uN(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&o7(t,e,r,a,s,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),o7(t,e,r,a))};function vN(t,e,i,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&c7(e)&&_t(i));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return c7(e)&&_i(i)?!1:!!(e in t||t._isVueCE&&(/[A-Z]/.test(e)||!_i(i)))}const NT=new WeakMap,$T=new WeakMap,w1=Symbol("_moveCb"),d7=Symbol("_enterCb"),bN=t=>(delete t.props.mode,t),xN=bN({name:"TransitionGroup",props:Yi({},IT,{tag:String,moveClass:String}),setup(t,{slots:e}){const i=Rg(),r=rT();let n,s;return Av(()=>{if(!n.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!kN(n[0].el,i.vnode.el,a))return;n.forEach(wN),n.forEach(SN);const o=n.filter(CN);FT(),o.forEach(l=>{const u=l.el,c=u.style;Ma(u,a),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[w1]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",d),u[w1]=null,qo(u,a))};u.addEventListener("transitionend",d)})}),()=>{const a=qt(t),o=RT(a);let l=a.tag||yt;if(n=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(n.push(c),cl(c,Ih(c,o,r,i)),NT.set(c,c.el.getBoundingClientRect()))}s=e.default?Tv(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&cl(c,Ih(c,o,r,i))}return ge(l,null,s)}}}),_N=xN;function wN(t){const e=t.el;e[w1]&&e[w1](),e[d7]&&e[d7]()}function SN(t){$T.set(t,t.el.getBoundingClientRect())}function CN(t){const e=NT.get(t),i=$T.get(t),r=e.left-i.left,n=e.top-i.top;if(r||n){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${n}px)`,s.transitionDuration="0s",t}}function kN(t,e,i){const r=t.cloneNode(),n=t[u0];n&&n.forEach(o=>{o.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),i.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:a}=OT(r);return s.removeChild(r),a}const S1=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ut(e)?i=>Hc(e,i):e};function TN(t){t.target.composing=!0}function h7(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Wc=Symbol("_assign"),vu={created(t,{modifiers:{lazy:e,trim:i,number:r}},n){t[Wc]=S1(n);const s=r||n.props&&n.props.type==="number";su(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;i&&(o=o.trim()),s&&(o=gy(o)),t[Wc](o)}),i&&su(t,"change",()=>{t.value=t.value.trim()}),e||(su(t,"compositionstart",TN),su(t,"compositionend",h7),su(t,"change",h7))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:i,modifiers:{lazy:r,trim:n,number:s}},a){if(t[Wc]=S1(a),t.composing)return;const o=(s||t.type==="number")&&!/^0\d/.test(t.value)?gy(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===i||n&&t.value.trim()===l)||(t.value=l))}},EN={deep:!0,created(t,e,i){t[Wc]=S1(i),su(t,"change",()=>{const r=t._modelValue,n=AN(t),s=t.checked,a=t[Wc];if(ut(r)){const o=wk(r,n),l=o!==-1;if(s&&!l)a(r.concat(n));else if(!s&&l){const u=[...r];u.splice(o,1),a(u)}}else if(kg(r)){const o=new Set(r);s?o.add(n):o.delete(n),a(o)}else a(zT(t,s))})},mounted:p7,beforeUpdate(t,e,i){t[Wc]=S1(i),p7(t,e,i)}};function p7(t,{value:e,oldValue:i},r){t._modelValue=e;let n;ut(e)?n=wk(e,r.props.value)>-1:kg(e)?n=e.has(r.props.value):n=Ag(e,zT(t,!0)),t.checked!==n&&(t.checked=n)}function AN(t){return"_value"in t?t._value:t.value}function zT(t,e){const i=e?"_trueValue":"_falseValue";return i in t?t[i]:e}const MN=["ctrl","shift","alt","meta"],DN={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>MN.some(i=>t[`${i}Key`]&&!e.includes(i))},Dc=(t,e)=>{const i=t._withMods||(t._withMods={}),r=e.join(".");return i[r]||(i[r]=(n,...s)=>{for(let a=0;a<e.length;a++){const o=DN[e[a]];if(o&&o(n,e))return}return t(n,...s)})},LN=Yi({patchProp:yN},QF);let f7;function UT(){return f7||(f7=SF(LN))}const BN=(...t)=>{UT().render(...t)},PN=(...t)=>{const e=UT().createApp(...t),{mount:i}=e;return e.mount=r=>{const n=RN(r);if(!n)return;const s=e._component;!_t(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const a=i(n,!1,IN(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},e};function IN(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function RN(t){return _i(t)?document.querySelector(t):t}var ON=!1;/*!
 * pinia v2.2.3
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let qT;const Fg=t=>qT=t,jT=Symbol();function My(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var hh;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(hh||(hh={}));function FN(){const t=Tk(!0),e=t.run(()=>Xe({}));let i=[],r=[];const n=_l({install(s){Fg(n),n._a=s,s.provide(jT,n),s.config.globalProperties.$pinia=n,r.forEach(a=>i.push(a)),r=[]},use(s){return!this._a&&!ON?r.push(s):i.push(s),this},_p:i,_a:null,_e:t,_s:new Map,state:e});return n}const VT=()=>{};function m7(t,e,i,r=VT){t.push(e);const n=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!i&&Ek()&&uO(n),n}function Qu(t,...e){t.slice().forEach(i=>{i(...e)})}const NN=t=>t(),g7=Symbol(),b4=Symbol();function Dy(t,e){t instanceof Map&&e instanceof Map?e.forEach((i,r)=>t.set(r,i)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const i in e){if(!e.hasOwnProperty(i))continue;const r=e[i],n=t[i];My(n)&&My(r)&&t.hasOwnProperty(i)&&!Bt(r)&&!ja(r)?t[i]=Dy(n,r):t[i]=r}return t}const $N=Symbol();function zN(t){return!My(t)||!t.hasOwnProperty($N)}const{assign:jo}=Object;function UN(t){return!!(Bt(t)&&t.effect)}function qN(t,e,i,r){const{state:n,actions:s,getters:a}=e,o=i.state.value[t];let l;function u(){o||(i.state.value[t]=n?n():{});const c=Ls(i.state.value[t]);return jo(c,s,Object.keys(a||{}).reduce((d,h)=>(d[h]=_l(si(()=>{Fg(i);const f=i._s.get(t);return a[h].call(f,f)})),d),{}))}return l=HT(t,u,e,i,r,!0),l}function HT(t,e,i={},r,n,s){let a;const o=jo({actions:{}},i),l={deep:!0};let u,c,d=[],h=[],f;const g=r.state.value[t];!s&&!g&&(r.state.value[t]={}),Xe({});let y;function C(V){let O;u=c=!1,typeof V=="function"?(V(r.state.value[t]),O={type:hh.patchFunction,storeId:t,events:f}):(Dy(r.state.value[t],V),O={type:hh.patchObject,payload:V,storeId:t,events:f});const U=y=Symbol();Ms().then(()=>{y===U&&(u=!0)}),c=!0,Qu(d,O,r.state.value[t])}const S=s?function(){const{state:O}=i,U=O?O():{};this.$patch(J=>{jo(J,U)})}:VT;function A(){a.stop(),d=[],h=[],r._s.delete(t)}const T=(V,O="")=>{if(g7 in V)return V[b4]=O,V;const U=function(){Fg(r);const J=Array.from(arguments),Y=[],ie=[];function ce(me){Y.push(me)}function qe(me){ie.push(me)}Qu(h,{args:J,name:U[b4],store:D,after:ce,onError:qe});let Me;try{Me=V.apply(this&&this.$id===t?this:D,J)}catch(me){throw Qu(ie,me),me}return Me instanceof Promise?Me.then(me=>(Qu(Y,me),me)).catch(me=>(Qu(ie,me),Promise.reject(me))):(Qu(Y,Me),Me)};return U[g7]=!0,U[b4]=O,U},M={_p:r,$id:t,$onAction:m7.bind(null,h),$patch:C,$reset:S,$subscribe(V,O={}){const U=m7(d,V,O.detached,()=>J()),J=a.run(()=>_r(()=>r.state.value[t],Y=>{(O.flush==="sync"?c:u)&&V({storeId:t,type:hh.direct,events:f},Y)},jo({},l,O)));return U},$dispose:A},D=L0(M);r._s.set(t,D);const F=(r._a&&r._a.runWithContext||NN)(()=>r._e.run(()=>(a=Tk()).run(()=>e({action:T}))));for(const V in F){const O=F[V];if(Bt(O)&&!UN(O)||ja(O))s||(g&&zN(O)&&(Bt(O)?O.value=g[V]:Dy(O,g[V])),r.state.value[t][V]=O);else if(typeof O=="function"){const U=T(O,V);F[V]=U,o.actions[V]=O}}return jo(D,F),jo(qt(D),F),Object.defineProperty(D,"$state",{get:()=>r.state.value[t],set:V=>{C(O=>{jo(O,V)})}}),r._p.forEach(V=>{jo(D,a.run(()=>V({store:D,app:r._a,pinia:r,options:o})))}),g&&s&&i.hydrate&&i.hydrate(D.$state,g),u=!0,c=!0,D}function kr(t,e,i){let r,n;const s=typeof e=="function";typeof t=="string"?(r=t,n=s?i:e):(n=t,r=t.id);function a(o,l){const u=gF();return o=o||(u?hr(jT,null):null),o&&Fg(o),o=qT,o._s.has(r)||(s?HT(r,e,n,o):qN(r,n,o)),o._s.get(r)}return a.$id=r,a}function Ui(t){{t=qt(t);const e={};for(const i in t){const r=t[i];(Bt(r)||ja(r))&&(e[i]=OO(t,i))}return e}}const B0=kr("ui",{state:()=>({isMobileMenuVisible:!1,shouldMobileMenuBeVisible:!1,isRulesVisible:!1}),actions:()=>{}});/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ec=typeof document<"u";function KT(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function jN(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&KT(t.default)}const ni=Object.assign;function x4(t,e){const i={};for(const r in e){const n=e[r];i[r]=Ds(n)?n.map(t):t(n)}return i}const ph=()=>{},Ds=Array.isArray,WT=/#/g,VN=/&/g,HN=/\//g,KN=/=/g,WN=/\?/g,GT=/\+/g,GN=/%5B/g,XN=/%5D/g,XT=/%5E/g,YN=/%60/g,ZT=/%7B/g,ZN=/%7C/g,JT=/%7D/g,JN=/%20/g;function Iv(t){return encodeURI(""+t).replace(ZN,"|").replace(GN,"[").replace(XN,"]")}function QN(t){return Iv(t).replace(ZT,"{").replace(JT,"}").replace(XT,"^")}function Ly(t){return Iv(t).replace(GT,"%2B").replace(JN,"+").replace(WT,"%23").replace(VN,"%26").replace(YN,"`").replace(ZT,"{").replace(JT,"}").replace(XT,"^")}function e$(t){return Ly(t).replace(KN,"%3D")}function t$(t){return Iv(t).replace(WT,"%23").replace(WN,"%3F")}function i$(t){return t==null?"":t$(t).replace(HN,"%2F")}function Fh(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const r$=/\/$/,n$=t=>t.replace(r$,"");function _4(t,e,i="/"){let r,n={},s="",a="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,o>-1?o:e.length),n=t(s)),o>-1&&(r=r||e.slice(0,o),a=e.slice(o,e.length)),r=l$(r??e,i),{fullPath:r+(s&&"?")+s+a,path:r,query:n,hash:Fh(a)}}function s$(t,e){const i=e.query?t(e.query):"";return e.path+(i&&"?")+i+(e.hash||"")}function y7(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function a$(t,e,i){const r=e.matched.length-1,n=i.matched.length-1;return r>-1&&r===n&&c0(e.matched[r],i.matched[n])&&QT(e.params,i.params)&&t(e.query)===t(i.query)&&e.hash===i.hash}function c0(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function QT(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(!o$(t[i],e[i]))return!1;return!0}function o$(t,e){return Ds(t)?v7(t,e):Ds(e)?v7(e,t):t===e}function v7(t,e){return Ds(e)?t.length===e.length&&t.every((i,r)=>i===e[r]):t.length===1&&t[0]===e}function l$(t,e){if(t.startsWith("/"))return t;if(!t)return e;const i=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let s=i.length-1,a,o;for(a=0;a<r.length;a++)if(o=r[a],o!==".")if(o==="..")s>1&&s--;else break;return i.slice(0,s).join("/")+"/"+r.slice(a).join("/")}const bo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Nh;(function(t){t.pop="pop",t.push="push"})(Nh||(Nh={}));var fh;(function(t){t.back="back",t.forward="forward",t.unknown=""})(fh||(fh={}));function u$(t){if(!t)if(Ec){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),n$(t)}const c$=/^[^#]+#/;function d$(t,e){return t.replace(c$,"#")+e}function h$(t,e){const i=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-i.left-(e.left||0),top:r.top-i.top-(e.top||0)}}const Ng=()=>({left:window.scrollX,top:window.scrollY});function p$(t){let e;if("el"in t){const i=t.el,r=typeof i=="string"&&i.startsWith("#"),n=typeof i=="string"?r?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!n)return;e=h$(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function b7(t,e){return(history.state?history.state.position-e:-1)+t}const By=new Map;function f$(t,e){By.set(t,e)}function m$(t){const e=By.get(t);return By.delete(t),e}let g$=()=>location.protocol+"//"+location.host;function eE(t,e){const{pathname:i,search:r,hash:n}=e,s=t.indexOf("#");if(s>-1){let o=n.includes(t.slice(s))?t.slice(s).length:1,l=n.slice(o);return l[0]!=="/"&&(l="/"+l),y7(l,"")}return y7(i,t)+r+n}function y$(t,e,i,r){let n=[],s=[],a=null;const o=({state:h})=>{const f=eE(t,location),g=i.value,y=e.value;let C=0;if(h){if(i.value=f,e.value=h,a&&a===g){a=null;return}C=y?h.position-y.position:0}else r(f);n.forEach(S=>{S(i.value,g,{delta:C,type:Nh.pop,direction:C?C>0?fh.forward:fh.back:fh.unknown})})};function l(){a=i.value}function u(h){n.push(h);const f=()=>{const g=n.indexOf(h);g>-1&&n.splice(g,1)};return s.push(f),f}function c(){const{history:h}=window;h.state&&h.replaceState(ni({},h.state,{scroll:Ng()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function x7(t,e,i,r=!1,n=!1){return{back:t,current:e,forward:i,replaced:r,position:window.history.length,scroll:n?Ng():null}}function v$(t){const{history:e,location:i}=window,r={value:eE(t,i)},n={value:e.state};n.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),h=d>-1?(i.host&&document.querySelector("base")?t:t.slice(d))+l:g$()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),n.value=u}catch(f){console.error(f),i[c?"replace":"assign"](h)}}function a(l,u){const c=ni({},e.state,x7(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});s(l,c,!0),r.value=l}function o(l,u){const c=ni({},n.value,e.state,{forward:l,scroll:Ng()});s(c.current,c,!0);const d=ni({},x7(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:n,push:o,replace:a}}function b$(t){t=u$(t);const e=v$(t),i=y$(t,e.state,e.location,e.replace);function r(s,a=!0){a||i.pauseListeners(),history.go(s)}const n=ni({location:"",base:t,go:r,createHref:d$.bind(null,t)},e,i);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function x$(t){return typeof t=="string"||t&&typeof t=="object"}function tE(t){return typeof t=="string"||typeof t=="symbol"}const iE=Symbol("");var _7;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(_7||(_7={}));function d0(t,e){return ni(new Error,{type:t,[iE]:!0},e)}function wa(t,e){return t instanceof Error&&iE in t&&(e==null||!!(t.type&e))}const w7="[^/]+?",_$={sensitive:!1,strict:!1,start:!0,end:!0},w$=/[.+*?^${}()[\]/\\]/g;function S$(t,e){const i=ni({},_$,e),r=[];let n=i.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];i.strict&&!u.length&&(n+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(i.sensitive?.25:0);if(h.type===0)d||(n+="/"),n+=h.value.replace(w$,"\\$&"),f+=40;else if(h.type===1){const{value:g,repeatable:y,optional:C,regexp:S}=h;s.push({name:g,repeatable:y,optional:C});const A=S||w7;if(A!==w7){f+=10;try{new RegExp(`(${A})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${g}" (${A}): `+M.message)}}let T=y?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;d||(T=C&&u.length<2?`(?:/${T})`:"/"+T),C&&(T+="?"),n+=T,f+=20,C&&(f+=-8),y&&(f+=-20),A===".*"&&(f+=-50)}c.push(f)}r.push(c)}if(i.strict&&i.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}i.strict||(n+="/?"),i.end?n+="$":i.strict&&(n+="(?:/|$)");const a=new RegExp(n,i.sensitive?"":"i");function o(u){const c=u.match(a),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",g=s[h-1];d[g.name]=f&&g.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const h of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:g,repeatable:y,optional:C}=f,S=g in u?u[g]:"";if(Ds(S)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const A=Ds(S)?S.join("/"):S;if(!A)if(C)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);c+=A}}return c||"/"}return{re:a,score:r,keys:s,parse:o,stringify:l}}function C$(t,e){let i=0;for(;i<t.length&&i<e.length;){const r=e[i]-t[i];if(r)return r;i++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function rE(t,e){let i=0;const r=t.score,n=e.score;for(;i<r.length&&i<n.length;){const s=C$(r[i],n[i]);if(s)return s;i++}if(Math.abs(n.length-r.length)===1){if(S7(r))return 1;if(S7(n))return-1}return n.length-r.length}function S7(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const k$={type:0,value:""},T$=/[a-zA-Z0-9_]/;function E$(t){if(!t)return[[]];if(t==="/")return[[k$]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${i})/"${u}": ${f}`)}let i=0,r=i;const n=[];let s;function a(){s&&n.push(s),s=[]}let o=0,l,u="",c="";function d(){u&&(i===0?s.push({type:0,value:u}):i===1||i===2||i===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&i!==2){r=i,i=4;continue}switch(i){case 0:l==="/"?(u&&d(),a()):l===":"?(d(),i=1):h();break;case 4:h(),i=r;break;case 1:l==="("?i=2:T$.test(l)?h():(d(),i=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:i=3:c+=l;break;case 3:d(),i=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,c="";break;default:e("Unknown state");break}}return i===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),a(),n}function A$(t,e,i){const r=S$(E$(t.path),i),n=ni(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function M$(t,e){const i=[],r=new Map;e=E7({strict:!1,end:!0,sensitive:!1},e);function n(d){return r.get(d)}function s(d,h,f){const g=!f,y=k7(d);y.aliasOf=f&&f.record;const C=E7(e,d),S=[y];if("alias"in d){const M=typeof d.alias=="string"?[d.alias]:d.alias;for(const D of M)S.push(k7(ni({},y,{components:f?f.record.components:y.components,path:D,aliasOf:f?f.record:y})))}let A,T;for(const M of S){const{path:D}=M;if(h&&D[0]!=="/"){const B=h.record.path,F=B[B.length-1]==="/"?"":"/";M.path=h.record.path+(D&&F+D)}if(A=A$(M,h,C),f?f.alias.push(A):(T=T||A,T!==A&&T.alias.push(A),g&&d.name&&!T7(A)&&a(d.name)),nE(A)&&l(A),y.children){const B=y.children;for(let F=0;F<B.length;F++)s(B[F],A,f&&f.children[F])}f=f||A}return T?()=>{a(T)}:ph}function a(d){if(tE(d)){const h=r.get(d);h&&(r.delete(d),i.splice(i.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=i.indexOf(d);h>-1&&(i.splice(h,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function o(){return i}function l(d){const h=B$(d,i);i.splice(h,0,d),d.record.name&&!T7(d)&&r.set(d.record.name,d)}function u(d,h){let f,g={},y,C;if("name"in d&&d.name){if(f=r.get(d.name),!f)throw d0(1,{location:d});C=f.record.name,g=ni(C7(h.params,f.keys.filter(T=>!T.optional).concat(f.parent?f.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),d.params&&C7(d.params,f.keys.map(T=>T.name))),y=f.stringify(g)}else if(d.path!=null)y=d.path,f=i.find(T=>T.re.test(y)),f&&(g=f.parse(y),C=f.record.name);else{if(f=h.name?r.get(h.name):i.find(T=>T.re.test(h.path)),!f)throw d0(1,{location:d,currentLocation:h});C=f.record.name,g=ni({},h.params,d.params),y=f.stringify(g)}const S=[];let A=f;for(;A;)S.unshift(A.record),A=A.parent;return{name:C,path:y,params:g,matched:S,meta:L$(S)}}t.forEach(d=>s(d));function c(){i.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:a,clearRoutes:c,getRoutes:o,getRecordMatcher:n}}function C7(t,e){const i={};for(const r of e)r in t&&(i[r]=t[r]);return i}function k7(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:D$(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function D$(t){const e={},i=t.props||!1;if("component"in t)e.default=i;else for(const r in t.components)e[r]=typeof i=="object"?i[r]:i;return e}function T7(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function L$(t){return t.reduce((e,i)=>ni(e,i.meta),{})}function E7(t,e){const i={};for(const r in t)i[r]=r in e?e[r]:t[r];return i}function B$(t,e){let i=0,r=e.length;for(;i!==r;){const s=i+r>>1;rE(t,e[s])<0?r=s:i=s+1}const n=P$(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function P$(t){let e=t;for(;e=e.parent;)if(nE(e)&&rE(t,e)===0)return e}function nE({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function I$(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const s=r[n].replace(GT," "),a=s.indexOf("="),o=Fh(a<0?s:s.slice(0,a)),l=a<0?null:Fh(s.slice(a+1));if(o in e){let u=e[o];Ds(u)||(u=e[o]=[u]),u.push(l)}else e[o]=l}return e}function A7(t){let e="";for(let i in t){const r=t[i];if(i=e$(i),r==null){r!==void 0&&(e+=(e.length?"&":"")+i);continue}(Ds(r)?r.map(s=>s&&Ly(s)):[r&&Ly(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+i,s!=null&&(e+="="+s))})}return e}function R$(t){const e={};for(const i in t){const r=t[i];r!==void 0&&(e[i]=Ds(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const O$=Symbol(""),M7=Symbol(""),$g=Symbol(""),Rv=Symbol(""),Py=Symbol("");function fd(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function i(){t=[]}return{add:e,list:()=>t.slice(),reset:i}}function Yo(t,e,i,r,n,s=a=>a()){const a=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((o,l)=>{const u=h=>{h===!1?l(d0(4,{from:i,to:e})):h instanceof Error?l(h):x$(h)?l(d0(2,{from:e,to:h})):(a&&r.enterCallbacks[n]===a&&typeof h=="function"&&a.push(h),o())},c=s(()=>t.call(r&&r.instances[n],e,i,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(h=>l(h))})}function w4(t,e,i,r,n=s=>s()){const s=[];for(const a of t)for(const o in a.components){let l=a.components[o];if(!(e!=="beforeRouteEnter"&&!a.instances[o]))if(KT(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Yo(c,i,r,a,o,n))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${o}" at "${a.path}"`);const d=jN(c)?c.default:c;a.mods[o]=c,a.components[o]=d;const f=(d.__vccOpts||d)[e];return f&&Yo(f,i,r,a,o,n)()}))}}return s}function D7(t){const e=hr($g),i=hr(Rv),r=si(()=>{const l=P(t.to);return e.resolve(l)}),n=si(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=i.matched;if(!c||!d.length)return-1;const h=d.findIndex(c0.bind(null,c));if(h>-1)return h;const f=L7(l[u-2]);return u>1&&L7(c)===f&&d[d.length-1].path!==f?d.findIndex(c0.bind(null,l[u-2])):h}),s=si(()=>n.value>-1&&$$(i.params,r.value.params)),a=si(()=>n.value>-1&&n.value===i.matched.length-1&&QT(i.params,r.value.params));function o(l={}){return N$(l)?e[P(t.replace)?"replace":"push"](P(t.to)).catch(ph):Promise.resolve()}return{route:r,href:si(()=>r.value.href),isActive:s,isExactActive:a,navigate:o}}const F$=st({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:D7,setup(t,{slots:e}){const i=L0(D7(t)),{options:r}=hr($g),n=si(()=>({[B7(t.activeClass,r.linkActiveClass,"router-link-active")]:i.isActive,[B7(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const s=e.default&&e.default(i);return t.custom?s:lo("a",{"aria-current":i.isExactActive?t.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:n.value},s)}}}),Ov=F$;function N$(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function $$(t,e){for(const i in e){const r=e[i],n=t[i];if(typeof r=="string"){if(r!==n)return!1}else if(!Ds(n)||n.length!==r.length||r.some((s,a)=>s!==n[a]))return!1}return!0}function L7(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const B7=(t,e,i)=>t??e??i,z$=st({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:i}){const r=hr(Py),n=si(()=>t.route||r.value),s=hr(M7,0),a=si(()=>{let u=P(s);const{matched:c}=n.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),o=si(()=>n.value.matched[a.value]);Ln(M7,si(()=>a.value+1)),Ln(O$,o),Ln(Py,n);const l=Xe();return _r(()=>[l.value,o.value,t.name],([u,c,d],[h,f,g])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!c0(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=n.value,c=t.name,d=o.value,h=d&&d.components[c];if(!h)return P7(i.default,{Component:h,route:u});const f=d.props[c],g=f?f===!0?u.params:typeof f=="function"?f(u):f:null,C=lo(h,ni({},g,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return P7(i.default,{Component:C,route:u})||C}}});function P7(t,e){if(!t)return null;const i=t(e);return i.length===1?i[0]:i}const sE=z$;function U$(t){const e=M$(t.routes,t),i=t.parseQuery||I$,r=t.stringifyQuery||A7,n=t.history,s=fd(),a=fd(),o=fd(),l=Vk(bo);let u=bo;Ec&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=x4.bind(null,oe=>""+oe),d=x4.bind(null,i$),h=x4.bind(null,Fh);function f(oe,Te){let Ee,Ie;return tE(oe)?(Ee=e.getRecordMatcher(oe),Ie=Te):Ie=oe,e.addRoute(Ie,Ee)}function g(oe){const Te=e.getRecordMatcher(oe);Te&&e.removeRoute(Te)}function y(){return e.getRoutes().map(oe=>oe.record)}function C(oe){return!!e.getRecordMatcher(oe)}function S(oe,Te){if(Te=ni({},Te||l.value),typeof oe=="string"){const z=_4(i,oe,Te.path),re=e.resolve({path:z.path},Te),ye=n.createHref(z.fullPath);return ni(z,re,{params:h(re.params),hash:Fh(z.hash),redirectedFrom:void 0,href:ye})}let Ee;if(oe.path!=null)Ee=ni({},oe,{path:_4(i,oe.path,Te.path).path});else{const z=ni({},oe.params);for(const re in z)z[re]==null&&delete z[re];Ee=ni({},oe,{params:d(z)}),Te.params=d(Te.params)}const Ie=e.resolve(Ee,Te),wt=oe.hash||"";Ie.params=c(h(Ie.params));const St=s$(r,ni({},oe,{hash:QN(wt),path:Ie.path})),N=n.createHref(St);return ni({fullPath:St,hash:wt,query:r===A7?R$(oe.query):oe.query||{}},Ie,{redirectedFrom:void 0,href:N})}function A(oe){return typeof oe=="string"?_4(i,oe,l.value.path):ni({},oe)}function T(oe,Te){if(u!==oe)return d0(8,{from:Te,to:oe})}function M(oe){return F(oe)}function D(oe){return M(ni(A(oe),{replace:!0}))}function B(oe){const Te=oe.matched[oe.matched.length-1];if(Te&&Te.redirect){const{redirect:Ee}=Te;let Ie=typeof Ee=="function"?Ee(oe):Ee;return typeof Ie=="string"&&(Ie=Ie.includes("?")||Ie.includes("#")?Ie=A(Ie):{path:Ie},Ie.params={}),ni({query:oe.query,hash:oe.hash,params:Ie.path!=null?{}:oe.params},Ie)}}function F(oe,Te){const Ee=u=S(oe),Ie=l.value,wt=oe.state,St=oe.force,N=oe.replace===!0,z=B(Ee);if(z)return F(ni(A(z),{state:typeof z=="object"?ni({},wt,z.state):wt,force:St,replace:N}),Te||Ee);const re=Ee;re.redirectedFrom=Te;let ye;return!St&&a$(r,Ie,Ee)&&(ye=d0(16,{to:re,from:Ie}),$e(Ie,Ie,!0,!1)),(ye?Promise.resolve(ye):U(re,Ie)).catch(pe=>wa(pe)?wa(pe,2)?pe:vt(pe):be(pe,re,Ie)).then(pe=>{if(pe){if(wa(pe,2))return F(ni({replace:N},A(pe.to),{state:typeof pe.to=="object"?ni({},wt,pe.to.state):wt,force:St}),Te||re)}else pe=Y(re,Ie,!0,N,wt);return J(re,Ie,pe),pe})}function V(oe,Te){const Ee=T(oe,Te);return Ee?Promise.reject(Ee):Promise.resolve()}function O(oe){const Te=Ft.values().next().value;return Te&&typeof Te.runWithContext=="function"?Te.runWithContext(oe):oe()}function U(oe,Te){let Ee;const[Ie,wt,St]=q$(oe,Te);Ee=w4(Ie.reverse(),"beforeRouteLeave",oe,Te);for(const z of Ie)z.leaveGuards.forEach(re=>{Ee.push(Yo(re,oe,Te))});const N=V.bind(null,oe,Te);return Ee.push(N),It(Ee).then(()=>{Ee=[];for(const z of s.list())Ee.push(Yo(z,oe,Te));return Ee.push(N),It(Ee)}).then(()=>{Ee=w4(wt,"beforeRouteUpdate",oe,Te);for(const z of wt)z.updateGuards.forEach(re=>{Ee.push(Yo(re,oe,Te))});return Ee.push(N),It(Ee)}).then(()=>{Ee=[];for(const z of St)if(z.beforeEnter)if(Ds(z.beforeEnter))for(const re of z.beforeEnter)Ee.push(Yo(re,oe,Te));else Ee.push(Yo(z.beforeEnter,oe,Te));return Ee.push(N),It(Ee)}).then(()=>(oe.matched.forEach(z=>z.enterCallbacks={}),Ee=w4(St,"beforeRouteEnter",oe,Te,O),Ee.push(N),It(Ee))).then(()=>{Ee=[];for(const z of a.list())Ee.push(Yo(z,oe,Te));return Ee.push(N),It(Ee)}).catch(z=>wa(z,8)?z:Promise.reject(z))}function J(oe,Te,Ee){o.list().forEach(Ie=>O(()=>Ie(oe,Te,Ee)))}function Y(oe,Te,Ee,Ie,wt){const St=T(oe,Te);if(St)return St;const N=Te===bo,z=Ec?history.state:{};Ee&&(Ie||N?n.replace(oe.fullPath,ni({scroll:N&&z&&z.scroll},wt)):n.push(oe.fullPath,wt)),l.value=oe,$e(oe,Te,Ee,N),vt()}let ie;function ce(){ie||(ie=n.listen((oe,Te,Ee)=>{if(!rt.listening)return;const Ie=S(oe),wt=B(Ie);if(wt){F(ni(wt,{replace:!0}),Ie).catch(ph);return}u=Ie;const St=l.value;Ec&&f$(b7(St.fullPath,Ee.delta),Ng()),U(Ie,St).catch(N=>wa(N,12)?N:wa(N,2)?(F(N.to,Ie).then(z=>{wa(z,20)&&!Ee.delta&&Ee.type===Nh.pop&&n.go(-1,!1)}).catch(ph),Promise.reject()):(Ee.delta&&n.go(-Ee.delta,!1),be(N,Ie,St))).then(N=>{N=N||Y(Ie,St,!1),N&&(Ee.delta&&!wa(N,8)?n.go(-Ee.delta,!1):Ee.type===Nh.pop&&wa(N,20)&&n.go(-1,!1)),J(Ie,St,N)}).catch(ph)}))}let qe=fd(),Me=fd(),me;function be(oe,Te,Ee){vt(oe);const Ie=Me.list();return Ie.length?Ie.forEach(wt=>wt(oe,Te,Ee)):console.error(oe),Promise.reject(oe)}function ot(){return me&&l.value!==bo?Promise.resolve():new Promise((oe,Te)=>{qe.add([oe,Te])})}function vt(oe){return me||(me=!oe,ce(),qe.list().forEach(([Te,Ee])=>oe?Ee(oe):Te()),qe.reset()),oe}function $e(oe,Te,Ee,Ie){const{scrollBehavior:wt}=t;if(!Ec||!wt)return Promise.resolve();const St=!Ee&&m$(b7(oe.fullPath,0))||(Ie||!Ee)&&history.state&&history.state.scroll||null;return Ms().then(()=>wt(oe,Te,St)).then(N=>N&&p$(N)).catch(N=>be(N,oe,Te))}const Je=oe=>n.go(oe);let it;const Ft=new Set,rt={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:C,getRoutes:y,resolve:S,options:t,push:M,replace:D,go:Je,back:()=>Je(-1),forward:()=>Je(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:Me.add,isReady:ot,install(oe){const Te=this;oe.component("RouterLink",Ov),oe.component("RouterView",sE),oe.config.globalProperties.$router=Te,Object.defineProperty(oe.config.globalProperties,"$route",{enumerable:!0,get:()=>P(l)}),Ec&&!it&&l.value===bo&&(it=!0,M(n.location).catch(wt=>{}));const Ee={};for(const wt in bo)Object.defineProperty(Ee,wt,{get:()=>l.value[wt],enumerable:!0});oe.provide($g,Te),oe.provide(Rv,qk(Ee)),oe.provide(Py,l);const Ie=oe.unmount;Ft.add(oe),oe.unmount=function(){Ft.delete(oe),Ft.size<1&&(u=bo,ie&&ie(),ie=null,l.value=bo,it=!1,me=!1),Ie()}}};function It(oe){return oe.reduce((Te,Ee)=>Te.then(()=>O(Ee)),Promise.resolve())}return rt}function q$(t,e){const i=[],r=[],n=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const o=e.matched[a];o&&(t.matched.find(u=>c0(u,o))?r.push(o):i.push(o));const l=t.matched[a];l&&(e.matched.find(u=>c0(u,l))||n.push(l))}return[i,r,n]}function Fu(){return hr($g)}function zg(t){return hr(Rv)}const ec=st({__name:"MobileMenuLink",props:{to:{type:String,required:!0},isShown:{type:Boolean},disabled:{type:Boolean}},emits:["closeMenu"],setup(t,{emit:e}){const i=t,r=e,{to:n,isShown:s,disabled:a}=Ls(i);return(o,l)=>(X(),Ot(ua,{"enter-from-class":"[transform:rotateY(90deg)]","enter-active-class":"transition-all duration-200","enter-to-class":"[transform:rotateY(0deg)]","leave-from-class":"[transform:rotateY(0deg)]","leave-active-class":"transition-all duration-200","leave-to-class":"[transform:rotateY(90deg)]"},{default:We(()=>[P(s)?(X(),ne("li",{key:0,class:Wt(`origin-left ${P(a)?"pointer-events-none":""}`)},[ge(P(Ov),{to:P(n),onClick:l[0]||(l[0]=u=>r("closeMenu")),class:"cursor-pointer text-subtitle"},{default:We(()=>[Bg(o.$slots,"default")]),_:3},8,["to"])],2)):je("",!0)]),_:3}))}}),j$={class:"z-[100] will-change-transform origin-left fixed left-0 top-0 bg-secondary bg-opacity-90 w-full h-full flex justify-center lg:justify-start lg:pl-[20vw] pt-[30vh]"},V$={class:"flex flex-col items-center gap-[2rem] lg:text-subtitle-lg text-pearl-white font-body font-semibold"},H$=5,I7=50,K$=st({__name:"MobileMenu",props:{shouldMenuBeVisible:{type:Boolean},isMenuVisible:{type:Boolean}},emits:["endAction","closeMenu"],setup(t,{emit:e}){const i=t,{shouldMenuBeVisible:r,isMenuVisible:n}=Ls(i),s=e,a=Xe(0),o=()=>{const l=setInterval(()=>{r.value&&a.value<=H$||!r.value&&a.value>0?a.value+=+r.value*2-1:(clearInterval(l),s("endAction"))},I7+I7*Number(r.value))};return qi(o),_r(r,o),(l,u)=>(X(),ne("div",j$,[m("ul",V$,[ge(ec,{to:"/",isShown:a.value>=1,disabled:P(r)!=P(n),onCloseMenu:u[0]||(u[0]=c=>s("closeMenu"))},{default:We(()=>u[6]||(u[6]=[tt("home")])),_:1},8,["isShown","disabled"]),ge(ec,{to:"/games",isShown:a.value>=2,disabled:P(r)!=P(n),onCloseMenu:u[1]||(u[1]=c=>s("closeMenu"))},{default:We(()=>u[7]||(u[7]=[tt("games")])),_:1},8,["isShown","disabled"]),ge(ec,{to:"/events",isShown:a.value>=3,disabled:P(r)!=P(n),onCloseMenu:u[2]||(u[2]=c=>s("closeMenu"))},{default:We(()=>u[8]||(u[8]=[tt("events")])),_:1},8,["isShown","disabled"]),ge(ec,{to:"/news",isShown:a.value>=4,disabled:P(r)!=P(n),onCloseMenu:u[3]||(u[3]=c=>s("closeMenu"))},{default:We(()=>u[9]||(u[9]=[tt("news")])),_:1},8,["isShown","disabled"]),ge(ec,{to:"/rankings",isShown:a.value>=5,disabled:P(r)!=P(n),onCloseMenu:u[4]||(u[4]=c=>s("closeMenu"))},{default:We(()=>u[10]||(u[10]=[tt("rankings")])),_:1},8,["isShown","disabled"]),ge(ec,{to:"/contact",isShown:a.value>=6,disabled:P(r)!=P(n),onCloseMenu:u[5]||(u[5]=c=>s("closeMenu"))},{default:We(()=>u[11]||(u[11]=[tt("contact")])),_:1},8,["isShown","disabled"])])]))}}),Ut=kr("toast",{state:()=>({toasts:[]}),getters:{},actions:{addToast(t){const e=Date.now(),i=t.duration||5e3;this.toasts.push({...t,id:e}),setTimeout(()=>{this.removeToast(e)},i)},removeToast(t){this.toasts=this.toasts.filter(e=>e.id!==t)}}}),W$={class:"fixed top-5 right-5 z-[2000] space-y-4"},G$={class:"flex-1"},X$={class:"font-heading text-body-lg"},Y$={class:"font-body text-body"},Z$=["onClick"],J$=st({__name:"Toast",setup(t){const e=Ut();function i(n){e.removeToast(n)}function r(n){switch(n){case"success":return"bg-green text-white";case"error":return"bg-red text-white";case"info":return"bg-blue text-white";case"warning":return"bg-yellow text-black";default:return"bg-gray text-white"}}return(n,s)=>(X(),ne("div",W$,[ge(_N,{name:"toast",tag:"div",class:"space-y-4","enter-active-class":"transition transform ease-out duration-300","enter-from-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition transform ease-in duration-300","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:We(()=>[(X(!0),ne(yt,null,Ni(P(e).toasts,a=>(X(),ne("div",{key:a.id,class:Wt(["max-w-[90vw] w-[50rem] py-4 px-8 rounded-xl shadow-lg flex items-start",r(a.type)])},[m("div",G$,[m("p",X$,ve(a.title),1),m("p",Y$,ve(a.message),1)]),m("button",{onClick:o=>i(a.id),class:"ml-4 focus:outline-none"},s[0]||(s[0]=[m("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-current",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Z$)],2))),128))]),_:1})]))}}),Q$={id:"hexagon-clip"},ez=["points"],tz={"clip-path":"url(#hexagon-clip)"},iz=["d"],rz=["d"],nz=["points"],ps=200,R7=80,yf=5,sz=st({__name:"Loader",setup(t){const e=ps/2,i=ps/2,r=Xe(0);function n(l,u,c,d,h){const f=Math.PI/180*c,g=Math.cos(f),y=Math.sin(f),C=g*(l-d)-y*(u-h)+d,S=y*(l-d)+g*(u-h)+h;return[C,S]}const s=si(()=>{const l=[],u=r.value+21.51;for(let c=0;c<6;c++){const d=60*c-90,h=Math.PI/180*d,f=e+R7*Math.cos(h),g=i+R7*Math.sin(h),[y,C]=n(f,g,u,e,i);l.push(`${y},${C}`)}return l.join(" ")});qi(()=>{const l=()=>{r.value=(r.value+.6)%360,requestAnimationFrame(l)};l()});const a=si(()=>{const l=[],c=2*Math.PI/ps;l.push(`M 0 ${i-yf}`);for(let d=0;d<=ps;d+=2){const h=i+-16*Math.sin(c*d)-yf;l.push(`L ${d} ${h}`)}return l.push(`L ${ps} ${ps}`),l.push(`L 0 ${ps}`),l.push("Z"),l.join(" ")}),o=si(()=>{const l=[],c=2*Math.PI/ps;l.push(`M 0 ${i+40*-.4*Math.sin(0)-yf}`);for(let d=0;d<=ps;d+=2){const h=i+-16*Math.sin(c*d)-yf;l.push(`L ${d} ${h}`)}return l.join(" ")});return(l,u)=>(X(),ne("svg",{width:ps,height:ps,viewBox:"0 0 200 200"},[m("defs",null,[m("clipPath",Q$,[m("polygon",{points:s.value},null,8,ez)])]),m("g",tz,[m("path",{d:a.value,fill:"#FBC151"},null,8,iz)]),m("path",{d:o.value,stroke:"#242424","stroke-width":"10",fill:"none"},null,8,rz),m("polygon",{points:s.value,stroke:"#242424","stroke-width":"10",fill:"none"},null,8,nz)]))}}),uo=(t,e)=>{const i=t.__vccOpts||t;for(const[r,n]of e)i[r]=n;return i},az=uo(sz,[["__scopeId","data-v-097d7782"]]),oz={class:"fixed top-0 left-0 w-full h-full bg-pearl-white z-[10000] flex flex-col justify-center items-center px-[2rem]"},lz={class:"h-[5rem] flex justify-center items-center"},uz={class:"text-screenBlack text-body font-body text-center"},cz=st({__name:"LoadingScreen",setup(t){let e;ao(()=>{document.getElementsByTagName("body")[0].style.overflowY="hidden",e=setInterval(()=>{r.value=i[Math.floor(Math.random()*i.length)]},2e3)}),oo(()=>{document.getElementsByTagName("body")[0].style.overflowY="unset",clearInterval(e)});const i=["Hacking the Pentagon","Searching for the missing +C","Decrypting secret keys","Making series converge","Solving for x","Escaping singularities","Conducting Fourier analysis","Dividing and conquering","Synchronizing with sine waves","Optimizing decay factors","Grilling the sandwich theorem","Remembering Bunyakovsky","Making inequalities equal"],r=Xe(i[Math.floor(Math.random()*i.length)]);return(n,s)=>(X(),ne("div",oz,[ge(az,{class:"scale-[0.8]"}),m("div",lz,[s[0]||(s[0]=tt("\\ ")),m("p",uz,ve(r.value),1)])]))}}),dz={key:0,class:"fixed bottom-0 left-0 right-0 p-[2rem] bg-pearl-white shadow-lg z-[10000] shadow"},hz={class:"max-w-5xl mx-auto flex flex-col md:flex-row items-center justify-between"},pz={class:"text-black mb-4 md:mb-0 md:mr-4 font-body text-body text-center md:text-left"},fz=st({__name:"CookieBanner",setup(t){const e=Xe(!1);qi(()=>{localStorage.getItem("cookieConsent")||(e.value=!0)});function i(){localStorage.setItem("cookieConsent","true"),e.value=!1}return(r,n)=>(X(),Ot(ua,{"enter-active-class":"transition duration-500 transform","enter-from-class":"translate-y-full opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-500 transform","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-full opacity-0"},{default:We(()=>[e.value?(X(),ne("div",dz,[m("div",hz,[m("div",pz,[n[1]||(n[1]=tt(" We use cookies to enhance your experience. By continuing to visit this site, you agree to our use of cookies. For more details, see our ")),ge(P(Ov),{to:"/terms_of_use",class:"text-primary-500 underline"},{default:We(()=>n[0]||(n[0]=[tt(" Terms of Use ")])),_:1}),n[2]||(n[2]=tt(" . "))]),m("button",{onClick:i,class:"bg-primary text-white px-6 py-2 rounded-xl lg:hover:bg-primary-400 transition-colors duration-100 font-body text-body"}," Accept ")])])):je("",!0)]),_:1}))}}),mz=st({__name:"App",setup(t){const e=Xe(!0);ao(()=>{Promise.all([]).finally(()=>{e.value=!1})});const i=B0(),{shouldMobileMenuBeVisible:r,isMobileMenuVisible:n}=Ui(i);function s(){r.value===n.value&&(i.shouldMobileMenuBeVisible=!r.value,r.value&&(document.getElementsByTagName("body")[0].style.overflowY="hidden"))}function a(){i.isMobileMenuVisible=r.value,!n.value&&(document.getElementsByTagName("body")[0].style.overflowY="unset")}return(o,l)=>{const u=yn("router-view");return X(),ne(yt,null,[ge(ua,{"enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:We(()=>[e.value?(X(),Ot(cz,{key:0,class:"transition-all"})):je("",!0)]),_:1}),ge(u),(X(),Ot(tT,{to:"body"},[ge(ua,{"enter-from-class":"opacity-0","enter-active-class":"transition-all duration-200","enter-to-class":"opacity-1","leave-from-class":"opacity-1","leave-active-class":"transition-all duration-200","leave-to-class":"opacity-0"},{default:We(()=>[P(n)||P(r)?(X(),Ot(K$,{key:0,"should-menu-be-visible":P(r),onEndAction:a,onCloseMenu:s,"is-menu-visible":P(n)},null,8,["should-menu-be-visible","is-menu-visible"])):je("",!0)]),_:1}),ge(fz)])),ge(J$)],64)}}}),gz=st({__name:"MenuButton",props:{isMenuVisible:Boolean},emits:["toggleMenuVisibility"],setup(t,{emit:e}){const i=t,{isMenuVisible:r}=Ls(i),n=e,s=()=>{n("toggleMenuVisibility")};return(a,o)=>(X(),ne("div",{class:"flex flex-col justify-between cursor-pointer",onClick:s},[m("div",{class:Wt(["h-[15%] w-full bg-primary rounded-sm transition-all origin-left duration-1000",{"rotate-45 -translate-y-1/2 scale-x-[1.41] bg-bg":P(r)}])},null,2),m("div",{class:Wt(["h-[15%] w-[80%] bg-primary rounded-sm transition-all",{"opacity-0":P(r)}])},null,2),m("div",{class:Wt(["h-[15%] w-full bg-primary rounded-sm transition-all origin-left duration-1000",{"-rotate-45 translate-y-1/2 scale-x-[1.41] bg-bg":P(r)}])},null,2)]))}});function aE(t,e){return function(){return t.apply(e,arguments)}}const{toString:yz}=Object.prototype,{getPrototypeOf:Fv}=Object,Ug=(t=>e=>{const i=yz.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Bs=t=>(t=t.toLowerCase(),e=>Ug(e)===t),qg=t=>e=>typeof e===t,{isArray:P0}=Array,$h=qg("undefined");function vz(t){return t!==null&&!$h(t)&&t.constructor!==null&&!$h(t.constructor)&&Pn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const oE=Bs("ArrayBuffer");function bz(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&oE(t.buffer),e}const xz=qg("string"),Pn=qg("function"),lE=qg("number"),jg=t=>t!==null&&typeof t=="object",_z=t=>t===!0||t===!1,Gm=t=>{if(Ug(t)!=="object")return!1;const e=Fv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},wz=Bs("Date"),Sz=Bs("File"),Cz=Bs("Blob"),kz=Bs("FileList"),Tz=t=>jg(t)&&Pn(t.pipe),Ez=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Pn(t.append)&&((e=Ug(t))==="formdata"||e==="object"&&Pn(t.toString)&&t.toString()==="[object FormData]"))},Az=Bs("URLSearchParams"),[Mz,Dz,Lz,Bz]=["ReadableStream","Request","Response","Headers"].map(Bs),Pz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function up(t,e,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let r,n;if(typeof t!="object"&&(t=[t]),P0(t))for(r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else{const s=i?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(r=0;r<a;r++)o=s[r],e.call(null,t[o],o,t)}}function uE(t,e){e=e.toLowerCase();const i=Object.keys(t);let r=i.length,n;for(;r-- >0;)if(n=i[r],e===n.toLowerCase())return n;return null}const cu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cE=t=>!$h(t)&&t!==cu;function Iy(){const{caseless:t}=cE(this)&&this||{},e={},i=(r,n)=>{const s=t&&uE(e,n)||n;Gm(e[s])&&Gm(r)?e[s]=Iy(e[s],r):Gm(r)?e[s]=Iy({},r):P0(r)?e[s]=r.slice():e[s]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&up(arguments[r],i);return e}const Iz=(t,e,i,{allOwnKeys:r}={})=>(up(e,(n,s)=>{i&&Pn(n)?t[s]=aE(n,i):t[s]=n},{allOwnKeys:r}),t),Rz=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Oz=(t,e,i,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},Fz=(t,e,i,r)=>{let n,s,a;const o={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),s=n.length;s-- >0;)a=n[s],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=i!==!1&&Fv(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},Nz=(t,e,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=e.length;const r=t.indexOf(e,i);return r!==-1&&r===i},$z=t=>{if(!t)return null;if(P0(t))return t;let e=t.length;if(!lE(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=t[e];return i},zz=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Fv(Uint8Array)),Uz=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=r.next())&&!n.done;){const s=n.value;e.call(t,s[0],s[1])}},qz=(t,e)=>{let i;const r=[];for(;(i=t.exec(e))!==null;)r.push(i);return r},jz=Bs("HTMLFormElement"),Vz=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,r,n){return r.toUpperCase()+n}),O7=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),Hz=Bs("RegExp"),dE=(t,e)=>{const i=Object.getOwnPropertyDescriptors(t),r={};up(i,(n,s)=>{let a;(a=e(n,s,t))!==!1&&(r[s]=a||n)}),Object.defineProperties(t,r)},Kz=t=>{dE(t,(e,i)=>{if(Pn(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const r=t[i];if(Pn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},Wz=(t,e)=>{const i={},r=n=>{n.forEach(s=>{i[s]=!0})};return P0(t)?r(t):r(String(t).split(e)),i},Gz=()=>{},Xz=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,S4="abcdefghijklmnopqrstuvwxyz",F7="0123456789",hE={DIGIT:F7,ALPHA:S4,ALPHA_DIGIT:S4+S4.toUpperCase()+F7},Yz=(t=16,e=hE.ALPHA_DIGIT)=>{let i="";const{length:r}=e;for(;t--;)i+=e[Math.random()*r|0];return i};function Zz(t){return!!(t&&Pn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Jz=t=>{const e=new Array(10),i=(r,n)=>{if(jg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[n]=r;const s=P0(r)?[]:{};return up(r,(a,o)=>{const l=i(a,n+1);!$h(l)&&(s[o]=l)}),e[n]=void 0,s}}return r};return i(t,0)},Qz=Bs("AsyncFunction"),eU=t=>t&&(jg(t)||Pn(t))&&Pn(t.then)&&Pn(t.catch),pE=((t,e)=>t?setImmediate:e?((i,r)=>(cu.addEventListener("message",({source:n,data:s})=>{n===cu&&s===i&&r.length&&r.shift()()},!1),n=>{r.push(n),cu.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Pn(cu.postMessage)),tU=typeof queueMicrotask<"u"?queueMicrotask.bind(cu):typeof process<"u"&&process.nextTick||pE,de={isArray:P0,isArrayBuffer:oE,isBuffer:vz,isFormData:Ez,isArrayBufferView:bz,isString:xz,isNumber:lE,isBoolean:_z,isObject:jg,isPlainObject:Gm,isReadableStream:Mz,isRequest:Dz,isResponse:Lz,isHeaders:Bz,isUndefined:$h,isDate:wz,isFile:Sz,isBlob:Cz,isRegExp:Hz,isFunction:Pn,isStream:Tz,isURLSearchParams:Az,isTypedArray:zz,isFileList:kz,forEach:up,merge:Iy,extend:Iz,trim:Pz,stripBOM:Rz,inherits:Oz,toFlatObject:Fz,kindOf:Ug,kindOfTest:Bs,endsWith:Nz,toArray:$z,forEachEntry:Uz,matchAll:qz,isHTMLForm:jz,hasOwnProperty:O7,hasOwnProp:O7,reduceDescriptors:dE,freezeMethods:Kz,toObjectSet:Wz,toCamelCase:Vz,noop:Gz,toFiniteNumber:Xz,findKey:uE,global:cu,isContextDefined:cE,ALPHABET:hE,generateString:Yz,isSpecCompliantForm:Zz,toJSONObject:Jz,isAsyncFn:Qz,isThenable:eU,setImmediate:pE,asap:tU};function Dt(t,e,i,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}de.inherits(Dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const fE=Dt.prototype,mE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{mE[t]={value:t}});Object.defineProperties(Dt,mE);Object.defineProperty(fE,"isAxiosError",{value:!0});Dt.from=(t,e,i,r,n,s)=>{const a=Object.create(fE);return de.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Dt.call(a,t.message,e,i,r,n),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const iU=null;function Ry(t){return de.isPlainObject(t)||de.isArray(t)}function gE(t){return de.endsWith(t,"[]")?t.slice(0,-2):t}function N7(t,e,i){return t?t.concat(e).map(function(n,s){return n=gE(n),!i&&s?"["+n+"]":n}).join(i?".":""):e}function rU(t){return de.isArray(t)&&!t.some(Ry)}const nU=de.toFlatObject(de,{},null,function(e){return/^is[A-Z]/.test(e)});function Vg(t,e,i){if(!de.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,i=de.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,C){return!de.isUndefined(C[y])});const r=i.metaTokens,n=i.visitor||c,s=i.dots,a=i.indexes,l=(i.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(e);if(!de.isFunction(n))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(de.isDate(g))return g.toISOString();if(!l&&de.isBlob(g))throw new Dt("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(g)||de.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,y,C){let S=g;if(g&&!C&&typeof g=="object"){if(de.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(de.isArray(g)&&rU(g)||(de.isFileList(g)||de.endsWith(y,"[]"))&&(S=de.toArray(g)))return y=gE(y),S.forEach(function(T,M){!(de.isUndefined(T)||T===null)&&e.append(a===!0?N7([y],M,s):a===null?y:y+"[]",u(T))}),!1}return Ry(g)?!0:(e.append(N7(C,y,s),u(g)),!1)}const d=[],h=Object.assign(nU,{defaultVisitor:c,convertValue:u,isVisitable:Ry});function f(g,y){if(!de.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),de.forEach(g,function(S,A){(!(de.isUndefined(S)||S===null)&&n.call(e,S,de.isString(A)?A.trim():A,y,h))===!0&&f(S,y?y.concat(A):[A])}),d.pop()}}if(!de.isObject(t))throw new TypeError("data must be an object");return f(t),e}function $7(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Nv(t,e){this._pairs=[],t&&Vg(t,this,e)}const yE=Nv.prototype;yE.append=function(e,i){this._pairs.push([e,i])};yE.toString=function(e){const i=e?function(r){return e.call(this,r,$7)}:$7;return this._pairs.map(function(n){return i(n[0])+"="+i(n[1])},"").join("&")};function sU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vE(t,e,i){if(!e)return t;const r=i&&i.encode||sU,n=i&&i.serialize;let s;if(n?s=n(e,i):s=de.isURLSearchParams(e)?e.toString():new Nv(e,i).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class z7{constructor(){this.handlers=[]}use(e,i,r){return this.handlers.push({fulfilled:e,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){de.forEach(this.handlers,function(r){r!==null&&e(r)})}}const bE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aU=typeof URLSearchParams<"u"?URLSearchParams:Nv,oU=typeof FormData<"u"?FormData:null,lU=typeof Blob<"u"?Blob:null,uU={isBrowser:!0,classes:{URLSearchParams:aU,FormData:oU,Blob:lU},protocols:["http","https","file","blob","url","data"]},$v=typeof window<"u"&&typeof document<"u",Oy=typeof navigator=="object"&&navigator||void 0,cU=$v&&(!Oy||["ReactNative","NativeScript","NS"].indexOf(Oy.product)<0),dU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hU=$v&&window.location.href||"http://localhost",pU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$v,hasStandardBrowserEnv:cU,hasStandardBrowserWebWorkerEnv:dU,navigator:Oy,origin:hU},Symbol.toStringTag,{value:"Module"})),pn={...pU,...uU};function fU(t,e){return Vg(t,new pn.classes.URLSearchParams,Object.assign({visitor:function(i,r,n,s){return pn.isNode&&de.isBuffer(i)?(this.append(r,i.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function mU(t){return de.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gU(t){const e={},i=Object.keys(t);let r;const n=i.length;let s;for(r=0;r<n;r++)s=i[r],e[s]=t[s];return e}function xE(t){function e(i,r,n,s){let a=i[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=i.length;return a=!a&&de.isArray(n)?n.length:a,l?(de.hasOwnProp(n,a)?n[a]=[n[a],r]:n[a]=r,!o):((!n[a]||!de.isObject(n[a]))&&(n[a]=[]),e(i,r,n[a],s)&&de.isArray(n[a])&&(n[a]=gU(n[a])),!o)}if(de.isFormData(t)&&de.isFunction(t.entries)){const i={};return de.forEachEntry(t,(r,n)=>{e(mU(r),n,i,0)}),i}return null}function yU(t,e,i){if(de.isString(t))try{return(e||JSON.parse)(t),de.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(t)}const cp={transitional:bE,adapter:["xhr","http","fetch"],transformRequest:[function(e,i){const r=i.getContentType()||"",n=r.indexOf("application/json")>-1,s=de.isObject(e);if(s&&de.isHTMLForm(e)&&(e=new FormData(e)),de.isFormData(e))return n?JSON.stringify(xE(e)):e;if(de.isArrayBuffer(e)||de.isBuffer(e)||de.isStream(e)||de.isFile(e)||de.isBlob(e)||de.isReadableStream(e))return e;if(de.isArrayBufferView(e))return e.buffer;if(de.isURLSearchParams(e))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return fU(e,this.formSerializer).toString();if((o=de.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Vg(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||n?(i.setContentType("application/json",!1),yU(e)):e}],transformResponse:[function(e){const i=this.transitional||cp.transitional,r=i&&i.forcedJSONParsing,n=this.responseType==="json";if(de.isResponse(e)||de.isReadableStream(e))return e;if(e&&de.isString(e)&&(r&&!this.responseType||n)){const a=!(i&&i.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Dt.from(o,Dt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pn.classes.FormData,Blob:pn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],t=>{cp.headers[t]={}});const vU=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bU=t=>{const e={};let i,r,n;return t&&t.split(`
`).forEach(function(a){n=a.indexOf(":"),i=a.substring(0,n).trim().toLowerCase(),r=a.substring(n+1).trim(),!(!i||e[i]&&vU[i])&&(i==="set-cookie"?e[i]?e[i].push(r):e[i]=[r]:e[i]=e[i]?e[i]+", "+r:r)}),e},U7=Symbol("internals");function md(t){return t&&String(t).trim().toLowerCase()}function Xm(t){return t===!1||t==null?t:de.isArray(t)?t.map(Xm):String(t)}function xU(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=i.exec(t);)e[r[1]]=r[2];return e}const _U=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function C4(t,e,i,r,n){if(de.isFunction(r))return r.call(this,e,i);if(n&&(e=i),!!de.isString(e)){if(de.isString(r))return e.indexOf(r)!==-1;if(de.isRegExp(r))return r.test(e)}}function wU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,i,r)=>i.toUpperCase()+r)}function SU(t,e){const i=de.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+i,{value:function(n,s,a){return this[r].call(this,e,n,s,a)},configurable:!0})})}class fn{constructor(e){e&&this.set(e)}set(e,i,r){const n=this;function s(o,l,u){const c=md(l);if(!c)throw new Error("header name must be a non-empty string");const d=de.findKey(n,c);(!d||n[d]===void 0||u===!0||u===void 0&&n[d]!==!1)&&(n[d||l]=Xm(o))}const a=(o,l)=>de.forEach(o,(u,c)=>s(u,c,l));if(de.isPlainObject(e)||e instanceof this.constructor)a(e,i);else if(de.isString(e)&&(e=e.trim())&&!_U(e))a(bU(e),i);else if(de.isHeaders(e))for(const[o,l]of e.entries())s(l,o,r);else e!=null&&s(i,e,r);return this}get(e,i){if(e=md(e),e){const r=de.findKey(this,e);if(r){const n=this[r];if(!i)return n;if(i===!0)return xU(n);if(de.isFunction(i))return i.call(this,n,r);if(de.isRegExp(i))return i.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,i){if(e=md(e),e){const r=de.findKey(this,e);return!!(r&&this[r]!==void 0&&(!i||C4(this,this[r],r,i)))}return!1}delete(e,i){const r=this;let n=!1;function s(a){if(a=md(a),a){const o=de.findKey(r,a);o&&(!i||C4(r,r[o],o,i))&&(delete r[o],n=!0)}}return de.isArray(e)?e.forEach(s):s(e),n}clear(e){const i=Object.keys(this);let r=i.length,n=!1;for(;r--;){const s=i[r];(!e||C4(this,this[s],s,e,!0))&&(delete this[s],n=!0)}return n}normalize(e){const i=this,r={};return de.forEach(this,(n,s)=>{const a=de.findKey(r,s);if(a){i[a]=Xm(n),delete i[s];return}const o=e?wU(s):String(s).trim();o!==s&&delete i[s],i[o]=Xm(n),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const i=Object.create(null);return de.forEach(this,(r,n)=>{r!=null&&r!==!1&&(i[n]=e&&de.isArray(r)?r.join(", "):r)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,i])=>e+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...i){const r=new this(e);return i.forEach(n=>r.set(n)),r}static accessor(e){const r=(this[U7]=this[U7]={accessors:{}}).accessors,n=this.prototype;function s(a){const o=md(a);r[o]||(SU(n,a),r[o]=!0)}return de.isArray(e)?e.forEach(s):s(e),this}}fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(fn.prototype,({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[i]=r}}});de.freezeMethods(fn);function k4(t,e){const i=this||cp,r=e||i,n=fn.from(r.headers);let s=r.data;return de.forEach(t,function(o){s=o.call(i,s,n.normalize(),e?e.status:void 0)}),n.normalize(),s}function _E(t){return!!(t&&t.__CANCEL__)}function I0(t,e,i){Dt.call(this,t??"canceled",Dt.ERR_CANCELED,e,i),this.name="CanceledError"}de.inherits(I0,Dt,{__CANCEL__:!0});function wE(t,e,i){const r=i.config.validateStatus;!i.status||!r||r(i.status)?t(i):e(new Dt("Request failed with status code "+i.status,[Dt.ERR_BAD_REQUEST,Dt.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function CU(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function kU(t,e){t=t||10;const i=new Array(t),r=new Array(t);let n=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];a||(a=u),i[n]=l,r[n]=u;let d=s,h=0;for(;d!==n;)h+=i[d++],d=d%t;if(n=(n+1)%t,n===s&&(s=(s+1)%t),u-a<e)return;const f=c&&u-c;return f?Math.round(h*1e3/f):void 0}}function TU(t,e){let i=0,r=1e3/e,n,s;const a=(u,c=Date.now())=>{i=c,n=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const c=Date.now(),d=c-i;d>=r?a(u,c):(n=u,s||(s=setTimeout(()=>{s=null,a(n)},r-d)))},()=>n&&a(n)]}const C1=(t,e,i=3)=>{let r=0;const n=kU(50,250);return TU(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-r,u=n(l),c=a<=o;r=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},i)},q7=(t,e)=>{const i=t!=null;return[r=>e[0]({lengthComputable:i,total:t,loaded:r}),e[1]]},j7=t=>(...e)=>de.asap(()=>t(...e)),EU=pn.hasStandardBrowserEnv?function(){const e=pn.navigator&&/(msie|trident)/i.test(pn.navigator.userAgent),i=document.createElement("a");let r;function n(s){let a=s;return e&&(i.setAttribute("href",a),a=i.href),i.setAttribute("href",a),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return r=n(window.location.href),function(a){const o=de.isString(a)?n(a):a;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}(),AU=pn.hasStandardBrowserEnv?{write(t,e,i,r,n,s){const a=[t+"="+encodeURIComponent(e)];de.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),de.isString(r)&&a.push("path="+r),de.isString(n)&&a.push("domain="+n),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function MU(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function DU(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function SE(t,e){return t&&!MU(e)?DU(t,e):e}const V7=t=>t instanceof fn?{...t}:t;function Du(t,e){e=e||{};const i={};function r(u,c,d){return de.isPlainObject(u)&&de.isPlainObject(c)?de.merge.call({caseless:d},u,c):de.isPlainObject(c)?de.merge({},c):de.isArray(c)?c.slice():c}function n(u,c,d){if(de.isUndefined(c)){if(!de.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!de.isUndefined(c))return r(void 0,c)}function a(u,c){if(de.isUndefined(c)){if(!de.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function o(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,c)=>n(V7(u),V7(c),!0)};return de.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=l[c]||n,h=d(t[c],e[c],c);de.isUndefined(h)&&d!==o||(i[c]=h)}),i}const CE=t=>{const e=Du({},t);let{data:i,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=fn.from(a),e.url=vE(SE(e.baseURL,e.url),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(de.isFormData(i)){if(pn.hasStandardBrowserEnv||pn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...c].join("; "))}}if(pn.hasStandardBrowserEnv&&(r&&de.isFunction(r)&&(r=r(e)),r||r!==!1&&EU(e.url))){const u=n&&s&&AU.read(s);u&&a.set(n,u)}return e},LU=typeof XMLHttpRequest<"u",BU=LU&&function(t){return new Promise(function(i,r){const n=CE(t);let s=n.data;const a=fn.from(n.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=n,c,d,h,f,g;function y(){f&&f(),g&&g(),n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}let C=new XMLHttpRequest;C.open(n.method.toUpperCase(),n.url,!0),C.timeout=n.timeout;function S(){if(!C)return;const T=fn.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),D={data:!o||o==="text"||o==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:T,config:t,request:C};wE(function(F){i(F),y()},function(F){r(F),y()},D),C=null}"onloadend"in C?C.onloadend=S:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(S)},C.onabort=function(){C&&(r(new Dt("Request aborted",Dt.ECONNABORTED,t,C)),C=null)},C.onerror=function(){r(new Dt("Network Error",Dt.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let M=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const D=n.transitional||bE;n.timeoutErrorMessage&&(M=n.timeoutErrorMessage),r(new Dt(M,D.clarifyTimeoutError?Dt.ETIMEDOUT:Dt.ECONNABORTED,t,C)),C=null},s===void 0&&a.setContentType(null),"setRequestHeader"in C&&de.forEach(a.toJSON(),function(M,D){C.setRequestHeader(D,M)}),de.isUndefined(n.withCredentials)||(C.withCredentials=!!n.withCredentials),o&&o!=="json"&&(C.responseType=n.responseType),u&&([h,g]=C1(u,!0),C.addEventListener("progress",h)),l&&C.upload&&([d,f]=C1(l),C.upload.addEventListener("progress",d),C.upload.addEventListener("loadend",f)),(n.cancelToken||n.signal)&&(c=T=>{C&&(r(!T||T.type?new I0(null,t,C):T),C.abort(),C=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const A=CU(n.url);if(A&&pn.protocols.indexOf(A)===-1){r(new Dt("Unsupported protocol "+A+":",Dt.ERR_BAD_REQUEST,t));return}C.send(s||null)})},PU=(t,e)=>{const{length:i}=t=t?t.filter(Boolean):[];if(e||i){let r=new AbortController,n;const s=function(u){if(!n){n=!0,o();const c=u instanceof Error?u:this.reason;r.abort(c instanceof Dt?c:new I0(c instanceof Error?c.message:c))}};let a=e&&setTimeout(()=>{a=null,s(new Dt(`timeout ${e} of ms exceeded`,Dt.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>de.asap(o),l}},IU=function*(t,e){let i=t.byteLength;if(!e||i<e){yield t;return}let r=0,n;for(;r<i;)n=r+e,yield t.slice(r,n),r=n},RU=async function*(t,e){for await(const i of OU(t))yield*IU(i,e)},OU=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:i,value:r}=await e.read();if(i)break;yield r}}finally{await e.cancel()}},H7=(t,e,i,r)=>{const n=RU(t,e);let s=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await n.next();if(u){o(),l.close();return}let d=c.byteLength;if(i){let h=s+=d;i(h)}l.enqueue(new Uint8Array(c))}catch(u){throw o(u),u}},cancel(l){return o(l),n.return()}},{highWaterMark:2})},Hg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",kE=Hg&&typeof ReadableStream=="function",FU=Hg&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),TE=(t,...e)=>{try{return!!t(...e)}catch{return!1}},NU=kE&&TE(()=>{let t=!1;const e=new Request(pn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),K7=64*1024,Fy=kE&&TE(()=>de.isReadableStream(new Response("").body)),k1={stream:Fy&&(t=>t.body)};Hg&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!k1[e]&&(k1[e]=de.isFunction(t[e])?i=>i[e]():(i,r)=>{throw new Dt(`Response type '${e}' is not supported`,Dt.ERR_NOT_SUPPORT,r)})})})(new Response);const $U=async t=>{if(t==null)return 0;if(de.isBlob(t))return t.size;if(de.isSpecCompliantForm(t))return(await new Request(pn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(de.isArrayBufferView(t)||de.isArrayBuffer(t))return t.byteLength;if(de.isURLSearchParams(t)&&(t=t+""),de.isString(t))return(await FU(t)).byteLength},zU=async(t,e)=>{const i=de.toFiniteNumber(t.getContentLength());return i??$U(e)},UU=Hg&&(async t=>{let{url:e,method:i,data:r,signal:n,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:h}=CE(t);u=u?(u+"").toLowerCase():"text";let f=PU([n,s&&s.toAbortSignal()],a),g;const y=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let C;try{if(l&&NU&&i!=="get"&&i!=="head"&&(C=await zU(c,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),B;if(de.isFormData(r)&&(B=D.headers.get("content-type"))&&c.setContentType(B),D.body){const[F,V]=q7(C,C1(j7(l)));r=H7(D.body,K7,F,V)}}de.isString(d)||(d=d?"include":"omit");const S="credentials"in Request.prototype;g=new Request(e,{...h,signal:f,method:i.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:S?d:void 0});let A=await fetch(g);const T=Fy&&(u==="stream"||u==="response");if(Fy&&(o||T&&y)){const D={};["status","statusText","headers"].forEach(O=>{D[O]=A[O]});const B=de.toFiniteNumber(A.headers.get("content-length")),[F,V]=o&&q7(B,C1(j7(o),!0))||[];A=new Response(H7(A.body,K7,F,()=>{V&&V(),y&&y()}),D)}u=u||"text";let M=await k1[de.findKey(k1,u)||"text"](A,t);return!T&&y&&y(),await new Promise((D,B)=>{wE(D,B,{data:M,headers:fn.from(A.headers),status:A.status,statusText:A.statusText,config:t,request:g})})}catch(S){throw y&&y(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new Dt("Network Error",Dt.ERR_NETWORK,t,g),{cause:S.cause||S}):Dt.from(S,S&&S.code,t,g)}}),Ny={http:iU,xhr:BU,fetch:UU};de.forEach(Ny,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const W7=t=>`- ${t}`,qU=t=>de.isFunction(t)||t===null||t===!1,EE={getAdapter:t=>{t=de.isArray(t)?t:[t];const{length:e}=t;let i,r;const n={};for(let s=0;s<e;s++){i=t[s];let a;if(r=i,!qU(i)&&(r=Ny[(a=String(i)).toLowerCase()],r===void 0))throw new Dt(`Unknown adapter '${a}'`);if(r)break;n[a||"#"+s]=r}if(!r){const s=Object.entries(n).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(W7).join(`
`):" "+W7(s[0]):"as no adapter specified";throw new Dt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Ny};function T4(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new I0(null,t)}function G7(t){return T4(t),t.headers=fn.from(t.headers),t.data=k4.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),EE.getAdapter(t.adapter||cp.adapter)(t).then(function(r){return T4(t),r.data=k4.call(t,t.transformResponse,r),r.headers=fn.from(r.headers),r},function(r){return _E(r)||(T4(t),r&&r.response&&(r.response.data=k4.call(t,t.transformResponse,r.response),r.response.headers=fn.from(r.response.headers))),Promise.reject(r)})}const AE="1.7.7",zv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{zv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const X7={};zv.transitional=function(e,i,r){function n(s,a){return"[Axios v"+AE+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,o)=>{if(e===!1)throw new Dt(n(a," has been removed"+(i?" in "+i:"")),Dt.ERR_DEPRECATED);return i&&!X7[a]&&(X7[a]=!0,console.warn(n(a," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(s,a,o):!0}};function jU(t,e,i){if(typeof t!="object")throw new Dt("options must be an object",Dt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let n=r.length;for(;n-- >0;){const s=r[n],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Dt("option "+s+" must be "+l,Dt.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Dt("Unknown option "+s,Dt.ERR_BAD_OPTION)}}const $y={assertOptions:jU,validators:zv},xo=$y.validators;class bu{constructor(e){this.defaults=e,this.interceptors={request:new z7,response:new z7}}async request(e,i){try{return await this._request(e,i)}catch(r){if(r instanceof Error){let n;Error.captureStackTrace?Error.captureStackTrace(n={}):n=new Error;const s=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=Du(this.defaults,i);const{transitional:r,paramsSerializer:n,headers:s}=i;r!==void 0&&$y.assertOptions(r,{silentJSONParsing:xo.transitional(xo.boolean),forcedJSONParsing:xo.transitional(xo.boolean),clarifyTimeoutError:xo.transitional(xo.boolean)},!1),n!=null&&(de.isFunction(n)?i.paramsSerializer={serialize:n}:$y.assertOptions(n,{encode:xo.function,serialize:xo.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let a=s&&de.merge(s.common,s[i.method]);s&&de.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),i.headers=fn.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(i)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,d=0,h;if(!l){const g=[G7.bind(this),void 0];for(g.unshift.apply(g,o),g.push.apply(g,u),h=g.length,c=Promise.resolve(i);d<h;)c=c.then(g[d++],g[d++]);return c}h=o.length;let f=i;for(d=0;d<h;){const g=o[d++],y=o[d++];try{f=g(f)}catch(C){y.call(this,C);break}}try{c=G7.call(this,f)}catch(g){return Promise.reject(g)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=Du(this.defaults,e);const i=SE(e.baseURL,e.url);return vE(i,e.params,e.paramsSerializer)}}de.forEach(["delete","get","head","options"],function(e){bu.prototype[e]=function(i,r){return this.request(Du(r||{},{method:e,url:i,data:(r||{}).data}))}});de.forEach(["post","put","patch"],function(e){function i(r){return function(s,a,o){return this.request(Du(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}bu.prototype[e]=i(),bu.prototype[e+"Form"]=i(!0)});class Uv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(s){i=s});const r=this;this.promise.then(n=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](n);r._listeners=null}),this.promise.then=n=>{let s;const a=new Promise(o=>{r.subscribe(o),s=o}).then(n);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,o){r.reason||(r.reason=new I0(s,a,o),i(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const e=new AbortController,i=r=>{e.abort(r)};return this.subscribe(i),e.signal.unsubscribe=()=>this.unsubscribe(i),e.signal}static source(){let e;return{token:new Uv(function(n){e=n}),cancel:e}}}function VU(t){return function(i){return t.apply(null,i)}}function HU(t){return de.isObject(t)&&t.isAxiosError===!0}const zy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zy).forEach(([t,e])=>{zy[e]=t});function ME(t){const e=new bu(t),i=aE(bu.prototype.request,e);return de.extend(i,bu.prototype,e,{allOwnKeys:!0}),de.extend(i,e,null,{allOwnKeys:!0}),i.create=function(n){return ME(Du(t,n))},i}const Ti=ME(cp);Ti.Axios=bu;Ti.CanceledError=I0;Ti.CancelToken=Uv;Ti.isCancel=_E;Ti.VERSION=AE;Ti.toFormData=Vg;Ti.AxiosError=Dt;Ti.Cancel=Ti.CanceledError;Ti.all=function(e){return Promise.all(e)};Ti.spread=VU;Ti.isAxiosError=HU;Ti.mergeConfig=Du;Ti.AxiosHeaders=fn;Ti.formToJSON=t=>xE(de.isHTMLForm(t)?new FormData(t):t);Ti.getAdapter=EE.getAdapter;Ti.HttpStatusCode=zy;Ti.default=Ti;/*! js-cookie v3.0.5 | MIT */function vf(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)t[r]=i[r]}return t}var KU={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Uy(t,e){function i(n,s,a){if(!(typeof document>"u")){a=vf({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var l in a)a[l]&&(o+="; "+l,a[l]!==!0&&(o+="="+a[l].split(";")[0]));return document.cookie=n+"="+t.write(s,n)+o}}function r(n){if(!(typeof document>"u"||arguments.length&&!n)){for(var s=document.cookie?document.cookie.split("; "):[],a={},o=0;o<s.length;o++){var l=s[o].split("="),u=l.slice(1).join("=");try{var c=decodeURIComponent(l[0]);if(a[c]=t.read(u,c),n===c)break}catch{}}return n?a[n]:a}}return Object.create({set:i,get:r,remove:function(n,s){i(n,"",vf({},s,{expires:-1}))},withAttributes:function(n){return Uy(this.converter,vf({},this.attributes,n))},withConverter:function(n){return Uy(vf({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Xs=Uy(KU,{path:"/"});const qv="https://www.integrationbee.at/api/v2",wr=Ti.create({baseURL:qv,headers:{"Content-Type":"application/json"},withCredentials:!0});wr.interceptors.request.use(t=>{const e=Xs.get("access"),i=Xs.get("csrftoken");return Xs.get("refresh")||Xs.set("refresh","null"),i&&(t.headers["X-CSRFToken"]=i),t.headers.Authorization=e?`Bearer ${e}`:"",t});wr.interceptors.response.use(t=>t,async t=>{const e=t.config;if(t.response.status===401&&!e._retry){e._retry=!0;const i=Xs.get("refresh");try{const{data:r}=await Ti.post(`${qv}/refresh/`,{refresh:i});return Xs.set("access",r.access),wr.defaults.headers.common.Authorization=`Bearer ${r.access}`,e.headers.Authorization=`Bearer ${r.access}`,wr(e)}catch(r){return Promise.reject(r)}}return Promise.reject(t)});const en=Ti.create({baseURL:qv,headers:{"Content-Type":"application/json"},withCredentials:!0});function zh(t){const e=new Date(t),i=e.getUTCDate(),r=e.getUTCFullYear(),n=e.toLocaleString("en-US",{month:"short",timeZone:"UTC"}),s=String(e.getUTCHours()).padStart(2,"0"),a=String(e.getUTCMinutes()).padStart(2,"0");return`${i}. ${n} ${r} ${s}:${a}`}const WU="/userData/";async function GU(){this.userDataRequest={status:"pending",code:null,error:null,errorMSG:null};try{const t=await wr.get(WU);this.userDataRequest.status="resolved",this.userDataRequest.code=t.status,this.userDataRequest.errorMSG=null;const e=t.data;this.isAuthenticated=!0,this.email=e.email,this.firstName=e.first_name,this.lastName=e.last_name,this.phoneNumber=e.phone_number,this.dateJoined=e.registration_date,this.institution=e.institution,this.isAdmin=e.role.Admin,this.role=e.role,this.programOfStudy=e.program_of_study,this.profilePicture=e.profile_picture,this.competitions=e.competitions.map(i=>({date:zh(i.event_date_start),name:i.name,result:i.status,link:`/event/${i.page_id}`,id:i.id}))}catch(t){this.isAuthenticated=!1;const e=Ut();this.userDataRequest.status="rejected",this.userDataRequest.code=t.status,this.userDataRequest.errorMSG=t.message,t.status!==401&&e.addToast({type:"error",title:"error has occured",message:"could not fetch your profile data, try again later."})}}const XU="/login/";async function YU(t,e){this.signInRequest={status:"pending",code:null,error:null,errorMSG:null};try{const i=new FormData;i.set("email",t),i.set("password",e);const r=await en.post(XU,i);return Xs.set("access",r.data.access),Xs.set("refresh",r.data.refresh),this.signInRequest.status="resolved",this.signInRequest.code=r.status,Ut().addToast({type:"success",title:"Successfully logged in!",message:""}),r.data}catch(i){const r=Ut();throw i.response.data.detail==="No active account found with the given credentials"?r.addToast({type:"error",title:"Wrong e-mail or password",message:"try again"}):r.addToast({type:"error",title:"Could not sign in",message:"try again later."}),this.signInRequest.status="rejected",this.signInRequest.code=i.response?i.response.status:null,this.signInRequest.error=i,this.signInRequest.errorMSG=i.message,i}}const ZU="/register/";async function JU(t,e,i,r,n){this.registerRequest={status:"pending",code:null,error:null,errorMSG:null};const s=new FormData;s.set("first_name",t),s.set("second_name",e),s.set("email",i),s.set("school",r),s.set("password",n);try{this.registerRequest.status="pending";const a=await en.post(ZU,s,{headers:{"Content-Type":"multipart/form-data"}});this.registerRequest.status="resolved",this.registerRequest.code=a.status,this.registerRequest.error=null,this.registerRequest.errorMSG=null}catch(a){throw this.registerRequest.status="rejected",this.registerRequest.error=a,this.registerRequest.errorMSG=a.message,a}}async function QU(){Xs.remove("access"),Xs.set("refresh","null"),Ut().addToast({type:"info",title:"Successfully logged out",message:""})}const Sr=kr("auth",{state:()=>({isAuthenticated:!1,firstName:null,lastName:null,email:null,dateJoined:null,institution:null,isAdmin:null,role:null,profilePicture:null,phoneNumber:null,programOfStudy:null,competitions:[],userDataRequest:{status:null,code:null,error:null,errorMSG:null},registerRequest:{status:null,code:null,error:null,errorMSG:null},signInRequest:{status:null,code:null,error:null,errorMSG:null},passwordResetRequest:{status:null,code:null,error:null,errorMSG:null}}),getters:{user:t=>({firstName:t.firstName,lastName:t.lastName,email:t.email,dateJoined:t.dateJoined,institution:t.institution,isAdmin:t.isAdmin,role:t.role,profilePicture:t.profilePicture,competitions:t.competitions,programOfStudy:t.programOfStudy}),wins:t=>({golds:t.competitions.reduce((e,i)=>i.result==="Won"?1:0,0),silvers:t.competitions.reduce((e,i)=>i.result==="2nd Place"?1:0,0),bronzes:t.competitions.reduce((e,i)=>i.result==="Semifinalist"?1:0,0)})},actions:{getProfileData:GU,requestLogin:YU,requestSignUp:JU,logout:QU,resetStore(){this.isAuthenticated=!1,this.firstName=null,this.lastName=null,this.email=null,this.dateJoined=null,this.institution=null,this.isAdmin=null,this.profilePicture=null,this.phoneNumber=null,this.programOfStudy=null,this.competitions=[]},async resetPassword(t,e){this.passwordResetRequest={status:"pending",code:null,error:null,errorMSG:null};try{const i=await en.post("/reset-password-confirm/",{token:e,new_password:t});Ut().addToast({type:"success",title:"Password successfuly reset",message:""}),this.passwordResetRequest={status:"resolved",code:i.status,error:null,errorMSG:null}}catch(i){throw Ut().addToast({type:"error",title:"could not reset password",message:"try again."}),this.passwordResetRequest={status:"resolved",code:i.status,error:i,errorMSG:i.message},i}}}}),eq={class:"fixed top-0 w-full px-[1rem] lg:px-[2rem] xl:px-[10vw] font-body z-30 h-[8rem] lg:h-[10rem] text-secondary py-4"},tq={class:"w-full h-full bg-screenBlack lg:bg-pearl-white lg:bg-opacity-90 lg:backdrop-blur-sm rounded-xl lg:rounded-3xl shadow-md px-8 lg:px-6"},iq={class:"relative h-full flex items-center"},rq={class:"fixed left-[1.5rem] top-[1.5rem] h-[5rem] w-[5rem] lg:hidden flex z-[500] p-[1rem]"},nq={class:"absolute left-0 h-full hidden lg:flex"},sq={class:"hidden lg:flex absolute right-[max(50%,60rem)] translate-x-[50%] justify-center items-center gap-[2rem] lg:text-body"},aq={key:0,class:"rounded-2xl absolute z-[50] left-[50%] -translate-x-[50%] top-[100%] bg-pearl-white shadow-sm flex flex-col py-[1rem]"},oq={class:"hidden lg:flex absolute right-0 items-center gap-[2rem] text-body"},lq={class:"flex lg:hidden absolute right-0 items-center gap-[2rem] text-body"},uq={class:"hidden lg:flex absolute right-0 items-center gap-[2rem] text-body"},cq={class:"flex lg:hidden absolute right-0 items-center gap-[2rem] text-body"},dq={key:0,width:"45",height:"43",viewBox:"0 0 45 43",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},hq={key:1,class:"relative w-full h-full flex justify-center items-center"},pq={class:"relative z-[2] w-[90%] aspect-square overflow-hidden [clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)] [-webkit-clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)]"},fq=["src"],mq=st({__name:"Header",emits:["switchMenuVisibility"],setup(t,{emit:e}){const i=B0(),{shouldMobileMenuBeVisible:r}=Ui(i),n=e,s=Sr(),{logout:a,getProfileData:o}=s,{isAuthenticated:l,profilePicture:u}=Ui(s),c=Fu(),d=async()=>{await a(),await o(),c.push("/")},h=Xe(!1);return document.addEventListener("click",()=>{h.value=!1}),(f,g)=>{const y=yn("RouterLink");return X(),ne("div",eq,[m("div",tq,[m("div",iq,[(X(),Ot(tT,{to:"body"},[m("div",rq,[ge(gz,{"is-menu-visible":P(r),onToggleMenuVisibility:g[0]||(g[0]=C=>n("switchMenuVisibility")),class:"h-[3rem] w-[3rem]"},null,8,["is-menu-visible"])])])),m("div",nq,[ge(y,{to:"/",class:"relative flex justify-center items-center h-full"},{default:We(()=>g[3]||(g[3]=[m("div",{class:"p-3"},[m("svg",{width:"69",height:"68",viewBox:"0 0 69 68",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full aspect-square"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M59.4828 33.7849L51.3108 54.5169L25.3814 58.3861L9.06592 37.8652L13.2027 27.3704C14.3404 27.2488 15.5733 27.1797 16.906 27.1797C22.0917 27.1797 26.0562 28.9823 30.2511 30.8896C34.9633 33.0321 39.9662 35.3068 47.3172 35.3068C52.2665 35.3068 56.3178 34.6415 59.4828 33.7849Z",fill:"#FBC151"}),m("path",{d:"M19.7919 14.8718L43.9564 11.266L59.1614 30.3902L50.2019 53.1202L26.0374 56.726L10.8324 37.6018L19.7919 14.8718Z",stroke:"#001D37","stroke-width":"3.09071"}),m("path",{d:"M1.70068 31.8987C1.70068 31.8987 5.89532 27.1797 16.9062 27.1797C27.9172 27.1797 33.4226 35.3068 47.3174 35.3068C61.2121 35.3068 68.0284 30.0635 68.0284 30.0635",stroke:"#001D37","stroke-width":"3.09071"})])],-1)])),_:1})]),m("div",sq,[ge(y,{to:"/games",class:"hover:bg-screenBlack-400 hover:bg-opacity-15 transition-all duration-100 px-[1.5rem] py-[0.8rem] rounded-2xl cursor-pointer relative after:absolute after:right-[-0.5rem] after:top-[-0.3rem] after:text-red after:text-text-sm after:font-semibold after:bg-red-200 after:bg-opacity-25 after:rounded-md after:px-[0.5rem] after:content-['new']"},{default:We(()=>g[4]||(g[4]=[tt("games")])),_:1}),ge(y,{to:"/events",class:"hover:bg-screenBlack-400 hover:bg-opacity-15 transition-all duration-100 px-[1.5rem] py-[0.8rem] rounded-2xl cursor-pointer"},{default:We(()=>g[5]||(g[5]=[tt("events")])),_:1}),ge(y,{to:"/news",class:"hover:bg-screenBlack-400 hover:bg-opacity-15 transition-all duration-100 px-[1.5rem] py-[0.8rem] rounded-2xl"},{default:We(()=>g[6]||(g[6]=[tt("news")])),_:1}),m("button",{onClick:g[1]||(g[1]=C=>{C.stopPropagation(),h.value=!h.value}),class:"hover:bg-screenBlack-400 hover:bg-opacity-15 transition-all duration-100 px-[1.5rem] py-[0.8rem] rounded-2xl relative",tabindex:"0"},[g[9]||(g[9]=m("p",null,"other ▾",-1)),h.value?(X(),ne("div",aq,[ge(y,{to:"/contact",class:"h-[4rem] flex justify-center items-center px-[2rem] hover:bg-screenBlack-400 hover:bg-opacity-15 transition-all duration-100"},{default:We(()=>g[7]||(g[7]=[tt("contact")])),_:1}),ge(y,{to:"/rankings",class:"h-[4rem] flex justify-center items-center px-[2rem] hover:bg-screenBlack-400 hover:bg-opacity-15 transition-all duration-100"},{default:We(()=>g[8]||(g[8]=[tt("rankings")])),_:1})])):je("",!0)])]),P(l)?je("",!0):(X(),ne(yt,{key:0},[m("div",oq,[ge(y,{to:"/sign_in",class:"px-[2.4rem] py-[1rem] rounded-2xl text-pearl-white bg-[#F5B338] font-semibold transition-all duration-100 outline-transparent hover:lg:outline-primary-50 outline-4 outline"},{default:We(()=>g[10]||(g[10]=[tt(" Sign in ")])),_:1}),ge(y,{to:"/sign_up",class:"px-[2.4rem] py-[1rem] h-max w-max hover:bg-screenBlack-400 hover:bg-opacity-15 rounded-2xl signUpBtn"},{default:We(()=>g[11]||(g[11]=[m("p",{class:"relative"},"Sign up",-1)])),_:1})]),m("div",lq,[ge(y,{to:"/sign_in",class:"relative h-[4rem] aspect-square"},{default:We(()=>g[12]||(g[12]=[m("svg",{width:"45",height:"43",viewBox:"0 0 45 43",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40254 24.0217L10.2674 5.35599L30.3648 2.83425L42.5974 18.9783L37.1086 32.005V31.958C37.1086 31.2435 36.7274 30.5833 36.1086 30.226L24.2332 23.3698C23.6144 23.0125 22.852 23.0125 22.2332 23.3698L10.3579 30.226C9.73907 30.5833 9.35787 31.2435 9.35787 31.958V33.201L2.40254 24.0217ZM9.75597 36.9234L0.539109 24.7595C0.323346 24.4747 0.275887 24.0965 0.414609 23.7673L8.69674 4.11108C8.83547 3.78185 9.1393 3.55163 9.49378 3.50715L30.6576 0.851605C31.0121 0.807124 31.3634 0.955141 31.5791 1.23989L44.4608 18.2405C44.6766 18.5253 44.724 18.9035 44.5853 19.2327L36.9516 37.3498L36.5273 38.3569L36.3032 38.8889C36.1645 39.2181 35.8606 39.4484 35.5061 39.4928L34.9398 39.5639C34.9376 39.5642 34.9354 39.5645 34.9332 39.5647L14.9151 42.0765C14.9127 42.0768 14.9102 42.0771 14.9077 42.0775L14.3423 42.1484C13.9878 42.1929 13.6366 42.0449 13.4208 41.7601L13.0799 41.3102C13.0773 41.3068 13.0747 41.3034 13.0721 41.2999L9.76379 36.9338C9.76117 36.9304 9.75856 36.9269 9.75597 36.9234ZM22.2333 9.90211C22.8521 9.54484 23.6145 9.54484 24.2333 9.90211L28.065 12.1143C28.6838 12.4716 29.065 13.1318 29.065 13.8464V18.2708C29.065 18.9853 28.6838 19.6456 28.065 20.0028L24.2333 22.2151C23.6145 22.5723 22.8521 22.5723 22.2333 22.2151L18.4016 20.0028C17.7828 19.6456 17.4016 18.9853 17.4016 18.2708V13.8464C17.4016 13.1318 17.7828 12.4716 18.4016 12.1143L22.2333 9.90211Z",fill:"#FBC151"})],-1)])),_:1})])],64)),P(l)?(X(),ne(yt,{key:1},[m("div",uq,[ge(y,{to:"/myprofile",class:"px-[2.4rem] py-[1rem] h-max w-max hover:bg-screenBlack-400 hover:bg-opacity-15 rounded-2xl signUpBtn"},{default:We(()=>g[13]||(g[13]=[m("p",{class:"relative"},"profile",-1)])),_:1}),m("button",{onClick:g[2]||(g[2]=(...C)=>d&&d(...C)),class:"px-[2.4rem] py-[1rem] h-max w-max hover:bg-screenBlack-400 hover:bg-opacity-15 rounded-2xl signUpBtn"},g[14]||(g[14]=[m("p",{class:"relative"},"log out",-1)]))]),m("div",cq,[ge(y,{to:"/myprofile",class:"relative h-[4rem] aspect-square"},{default:We(()=>[P(u)?je("",!0):(X(),ne("svg",dq,g[15]||(g[15]=[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40254 24.0217L10.2674 5.35599L30.3648 2.83425L42.5974 18.9783L37.1086 32.005V31.958C37.1086 31.2435 36.7274 30.5833 36.1086 30.226L24.2332 23.3698C23.6144 23.0125 22.852 23.0125 22.2332 23.3698L10.3579 30.226C9.73907 30.5833 9.35787 31.2435 9.35787 31.958V33.201L2.40254 24.0217ZM9.75597 36.9234L0.539109 24.7595C0.323346 24.4747 0.275887 24.0965 0.414609 23.7673L8.69674 4.11108C8.83547 3.78185 9.1393 3.55163 9.49378 3.50715L30.6576 0.851605C31.0121 0.807124 31.3634 0.955141 31.5791 1.23989L44.4608 18.2405C44.6766 18.5253 44.724 18.9035 44.5853 19.2327L36.9516 37.3498L36.5273 38.3569L36.3032 38.8889C36.1645 39.2181 35.8606 39.4484 35.5061 39.4928L34.9398 39.5639C34.9376 39.5642 34.9354 39.5645 34.9332 39.5647L14.9151 42.0765C14.9127 42.0768 14.9102 42.0771 14.9077 42.0775L14.3423 42.1484C13.9878 42.1929 13.6366 42.0449 13.4208 41.7601L13.0799 41.3102C13.0773 41.3068 13.0747 41.3034 13.0721 41.2999L9.76379 36.9338C9.76117 36.9304 9.75856 36.9269 9.75597 36.9234ZM22.2333 9.90211C22.8521 9.54484 23.6145 9.54484 24.2333 9.90211L28.065 12.1143C28.6838 12.4716 29.065 13.1318 29.065 13.8464V18.2708C29.065 18.9853 28.6838 19.6456 28.065 20.0028L24.2333 22.2151C23.6145 22.5723 22.8521 22.5723 22.2333 22.2151L18.4016 20.0028C17.7828 19.6456 17.4016 18.9853 17.4016 18.2708V13.8464C17.4016 13.1318 17.7828 12.4716 18.4016 12.1143L22.2333 9.90211Z",fill:"#FBC151"},null,-1)]))),P(u)?(X(),ne("div",hq,[m("div",pq,[m("img",{src:P(u),alt:"profile picture",class:"w-full h-full object-cover"},null,8,fq)]),g[16]||(g[16]=m("div",{class:"w-full h-full top-0 left-0 bg-primary absolute z-[1] [clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)] [-webkit-clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)]"},null,-1))])):je("",!0)]),_:1}),m("button",{onClick:d,class:"relative h-[4rem] aspect-square"},g[17]||(g[17]=[m("svg",{width:"42",height:"43",viewBox:"0 0 42 43",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.33362 12.8257L24.7014 1.95364L23.8585 0.21936L1.49067 11.0914C0.500216 11.5728 -0.0546888 12.6492 0.127692 13.7352L4.12639 37.5467C4.30877 38.6327 5.18484 39.4688 6.27821 39.6003L30.9704 42.5694L31.2006 40.6549L6.50842 37.6858C6.26433 37.6564 6.06876 37.4698 6.02804 37.2273L2.02935 13.4159C1.98863 13.1734 2.11251 12.9331 2.33362 12.8257ZM27.2481 13.8903L36.8813 21.7174H11.7123V23.6457H36.8813L27.2481 31.4727L28.464 32.9693L40.2049 23.4298L41.1259 22.6815L40.2049 21.9332L28.464 12.3938L27.2481 13.8903Z",fill:"#FBC151"})],-1)]))])],64)):je("",!0)])])])}}}),gq=uo(mq,[["__scopeId","data-v-c12127da"]]),yq={class:"w-full bg-screenBlack px-[2rem] lg:px-[12rem] xl:px-[10vw]"},vq={class:"w-full flex flex-col gap-[8rem] lg:gap-0 lg:grid lg:grid-cols-[2fr_3fr] py-[4rem]"},bq={class:"flex justify-center lg:justify-start items-center"},xq={class:"flex flex-col gap-[2rem] text-center lg:text-left font-body text-pearl-white text-body lg:text-body"},_q={class:"w-full flex flex-col gap-[4rem] lg:gap-0 lg:flex-row flex-wrap justify-center lg:justify-between text-pearl-white text-body lg:text-body py-[5rem]"},wq={class:"flex justify-between lg:justify-end gap-[4rem]"},DE=st({__name:"Footer",setup(t){const{isAuthenticated:e}=Sr();return(i,r)=>{const n=yn("RouterLink");return X(),ne("div",yq,[r[11]||(r[11]=m("div",{class:"w-full py-[5rem]"},[m("div",{class:"w-full h-[3px] bg-pearl-white"})],-1)),m("div",vq,[m("div",bq,[m("ul",xq,[m("li",null,[ge(n,{to:"/",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:We(()=>r[0]||(r[0]=[tt(" Home ")])),_:1})]),m("li",null,[ge(n,{to:"/events",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:We(()=>r[1]||(r[1]=[tt(" Events ")])),_:1})]),m("li",null,[ge(n,{to:"/news",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:We(()=>r[2]||(r[2]=[tt(" News ")])),_:1})]),m("li",null,[ge(n,{to:"/contact",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:We(()=>r[3]||(r[3]=[tt(" Contact ")])),_:1})]),P(e)?je("",!0):(X(),ne(yt,{key:0},[m("li",null,[ge(n,{to:"/sign_in",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:We(()=>r[4]||(r[4]=[tt(" Sign in ")])),_:1})]),m("li",null,[ge(n,{to:"/sign_up",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:We(()=>r[5]||(r[5]=[tt(" Sign up ")])),_:1})])],64))])]),r[6]||(r[6]=sa('<div class="w-full flex items-center justify-center lg:justify-end"><div class="flex flex-col items-end text-pearl-white"><p class="font-heading text-subtitle lg:text-title"> Integration Bee </p><p class="font-heading text-primary text-body lg:text-subtitle"> Austria </p><p class="font-body text-body lg:text-subtitle text-right"> come integrate <br> and bee integrated </p></div></div>',1))]),m("div",_q,[r[9]||(r[9]=m("div",{class:"hidden lg:flex"},[m("p",null,"© 2024 JugendWAVE All Rights Reserved.")],-1)),m("div",wq,[ge(n,{to:"/imprint",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:-bottom-[2px] after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:We(()=>r[7]||(r[7]=[tt(" impressum ")])),_:1}),ge(n,{to:"/terms_of_use",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:-bottom-[2px] after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:We(()=>r[8]||(r[8]=[tt(" terms of use ")])),_:1})]),r[10]||(r[10]=m("div",{class:"lg:hidden flex"},[m("p",{class:"text-center"},"© 2024 JugendWAVE All Rights Reserved.")],-1))]),r[12]||(r[12]=m("div",{class:"w-full flex justify-center items-center text-pearl-white-50 text-body text-center lg:text-body font-body py-[4rem]"},[m("p",null,[tt(" this page was created by "),m("a",{href:"https://www.formamind.com",target:"_blank",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:-bottom-[2px] after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"}," Formamind ")])],-1))])}}}),Fn=st({__name:"Default",setup(t){const e=B0(),{shouldMobileMenuBeVisible:i,isMobileMenuVisible:r}=Ui(e);function n(){i.value===r.value&&(e.shouldMobileMenuBeVisible=!i.value,i.value&&(document.getElementsByTagName("body")[0].style.overflowY="hidden"))}return(s,a)=>(X(),ne("div",null,[(X(),Ot(lT,null,[ge(gq,{onSwitchMenuVisibility:n})],1024)),Bg(s.$slots,"default"),ge(DE)]))}});var Ya=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function jv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var i=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(i,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),i}var Jd;typeof window<"u"?Jd=window:typeof Ya<"u"?Jd=Ya:typeof self<"u"?Jd=self:Jd={};var Kg=Jd;const H=Nu(Kg),Sq={},Cq=Object.freeze(Object.defineProperty({__proto__:null,default:Sq},Symbol.toStringTag,{value:"Module"})),kq=jv(Cq);var Y7=typeof Ya<"u"?Ya:typeof window<"u"?window:{},Tq=kq,Qd;typeof document<"u"?Qd=document:(Qd=Y7["__GLOBAL_DOCUMENT_CACHE@4"],Qd||(Qd=Y7["__GLOBAL_DOCUMENT_CACHE@4"]=Tq));var LE=Qd;const Pe=Nu(LE);var Vv={exports:{}};function Bi(){return Bi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Bi.apply(null,arguments)}const Eq=Object.freeze(Object.defineProperty({__proto__:null,get default(){return Bi}},Symbol.toStringTag,{value:"Module"})),Aq=jv(Eq);var Mq=Lq,Dq=Object.prototype.toString;function Lq(t){if(!t)return!1;var e=Dq.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function Bq(t,e){var i=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=Pq(t))||e){i&&(t=i);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pq(t,e){if(t){if(typeof t=="string")return Z7(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Z7(t,e)}}function Z7(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var Iq=function(){function t(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},e.addInterceptor=function(r,n){this.typeToInterceptorsMap_.has(r)||this.typeToInterceptorsMap_.set(r,new Set);var s=this.typeToInterceptorsMap_.get(r);return s.has(n)?!1:(s.add(n),!0)},e.removeInterceptor=function(r,n){var s=this.typeToInterceptorsMap_.get(r);return s&&s.has(n)?(s.delete(n),!0):!1},e.clearInterceptorsByType=function(r){var n=this.typeToInterceptorsMap_.get(r);return n?(this.typeToInterceptorsMap_.delete(r),this.typeToInterceptorsMap_.set(r,new Set),!0):!1},e.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},e.getForType=function(r){return this.typeToInterceptorsMap_.get(r)||new Set},e.execute=function(r,n){for(var s=this.getForType(r),a=Bq(s),o;!(o=a()).done;){var l=o.value;try{n=l(n)}catch{}}return n},t}(),Rq=Iq,Oq=function(){function t(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},e.getMaxAttempts=function(){return this.maxAttempts_},e.setMaxAttempts=function(r){this.maxAttempts_=r},e.getDelayFactor=function(){return this.delayFactor_},e.setDelayFactor=function(r){this.delayFactor_=r},e.getFuzzFactor=function(){return this.fuzzFactor_},e.setFuzzFactor=function(r){this.fuzzFactor_=r},e.getInitialDelay=function(){return this.initialDelay_},e.setInitialDelay=function(r){this.initialDelay_=r},e.createRetry=function(r){var n=r===void 0?{}:r,s=n.maxAttempts,a=n.delayFactor,o=n.fuzzFactor,l=n.initialDelay;return new Fq({maxAttempts:s||this.maxAttempts_,delayFactor:a||this.delayFactor_,fuzzFactor:o||this.fuzzFactor_,initialDelay:l||this.initialDelay_})},t}(),Fq=function(){function t(i){this.maxAttempts_=i.maxAttempts,this.delayFactor_=i.delayFactor,this.fuzzFactor_=i.fuzzFactor,this.currentDelay_=i.initialDelay,this.currentAttempt_=1}var e=t.prototype;return e.moveToNextAttempt=function(){this.currentAttempt_++;var r=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+r},e.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},e.getCurrentDelay=function(){return this.currentDelay_},e.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},e.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},e.getCurrentFuzzedDelay=function(){var r=this.getCurrentMinPossibleDelay(),n=this.getCurrentMaxPossibleDelay();return r+Math.random()*(n-r)},t}(),Nq=Oq,$q=Kg,zq=function(e,i){return i===void 0&&(i=!1),function(r,n,s){if(r){e(r);return}if(n.statusCode>=400&&n.statusCode<=599){var a=s;if(i)if($q.TextDecoder){var o=Uq(n.headers&&n.headers["content-type"]);try{a=new TextDecoder(o).decode(s)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:a});return}e(null,s)}};function Uq(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,i){var r=i.split("="),n=r[0],s=r[1];return n.trim()==="charset"?s.trim():e},"utf-8")}var qq=zq,BE=Kg,jq=Aq,Vq=Mq,PE=Rq,Hq=Nq;Oi.httpHandler=qq;Oi.requestInterceptorsStorage=new PE;Oi.responseInterceptorsStorage=new PE;Oi.retryManager=new Hq;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var Kq=function(e){var i={};return e&&e.trim().split(`
`).forEach(function(r){var n=r.indexOf(":"),s=r.slice(0,n).trim().toLowerCase(),a=r.slice(n+1).trim();typeof i[s]>"u"?i[s]=a:Array.isArray(i[s])?i[s].push(a):i[s]=[i[s],a]}),i};Vv.exports=Oi;Vv.exports.default=Oi;Oi.XMLHttpRequest=BE.XMLHttpRequest||Yq;Oi.XDomainRequest="withCredentials"in new Oi.XMLHttpRequest?Oi.XMLHttpRequest:BE.XDomainRequest;Wq(["get","put","post","patch","head","delete"],function(t){Oi[t==="delete"?"del":t]=function(e,i,r){return i=IE(e,i,r),i.method=t.toUpperCase(),Hv(i)}});function Wq(t,e){for(var i=0;i<t.length;i++)e(t[i])}function Gq(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function IE(t,e,i){var r=t;return Vq(e)?(i=e,typeof t=="string"&&(r={uri:t})):r=jq({},e,{uri:t}),r.callback=i,r}function Oi(t,e,i){return e=IE(t,e,i),Hv(e)}function Hv(t){if(typeof t.callback>"u")throw new Error("callback argument missing");if(t.requestType&&Oi.requestInterceptorsStorage.getIsEnabled()){var e={uri:t.uri||t.url,headers:t.headers||{},body:t.body,metadata:t.metadata||{},retry:t.retry,timeout:t.timeout},i=Oi.requestInterceptorsStorage.execute(t.requestType,e);t.uri=i.uri,t.headers=i.headers,t.body=i.body,t.metadata=i.metadata,t.retry=i.retry,t.timeout=i.timeout}var r=!1,n=function(D,B,F){r||(r=!0,t.callback(D,B,F))};function s(){u.readyState===4&&!Oi.responseInterceptorsStorage.getIsEnabled()&&setTimeout(l,0)}function a(){var M=void 0;if(u.response?M=u.response:M=u.responseText||Xq(u),S)try{M=JSON.parse(M)}catch{}return M}function o(M){if(clearTimeout(A),clearTimeout(t.retryTimeout),M instanceof Error||(M=new Error(""+(M||"Unknown XMLHttpRequest Error"))),M.statusCode=0,!d&&Oi.retryManager.getIsEnabled()&&t.retry&&t.retry.shouldRetry()){t.retryTimeout=setTimeout(function(){t.retry.moveToNextAttempt(),t.xhr=u,Hv(t)},t.retry.getCurrentFuzzedDelay());return}if(t.requestType&&Oi.responseInterceptorsStorage.getIsEnabled()){var D={headers:T.headers||{},body:T.body,responseUrl:u.responseURL,responseType:u.responseType},B=Oi.responseInterceptorsStorage.execute(t.requestType,D);T.body=B.body,T.headers=B.headers}return n(M,T)}function l(){if(!d){var M;clearTimeout(A),clearTimeout(t.retryTimeout),t.useXDR&&u.status===void 0?M=200:M=u.status===1223?204:u.status;var D=T,B=null;if(M!==0?(D={body:a(),statusCode:M,method:f,headers:{},url:h,rawRequest:u},u.getAllResponseHeaders&&(D.headers=Kq(u.getAllResponseHeaders()))):B=new Error("Internal XMLHttpRequest Error"),t.requestType&&Oi.responseInterceptorsStorage.getIsEnabled()){var F={headers:D.headers||{},body:D.body,responseUrl:u.responseURL,responseType:u.responseType},V=Oi.responseInterceptorsStorage.execute(t.requestType,F);D.body=V.body,D.headers=V.headers}return n(B,D,D.body)}}var u=t.xhr||null;u||(t.cors||t.useXDR?u=new Oi.XDomainRequest:u=new Oi.XMLHttpRequest);var c,d,h=u.url=t.uri||t.url,f=u.method=t.method||"GET",g=t.body||t.data,y=u.headers=t.headers||{},C=!!t.sync,S=!1,A,T={body:void 0,headers:{},statusCode:0,method:f,url:h,rawRequest:u};if("json"in t&&t.json!==!1&&(S=!0,y.accept||y.Accept||(y.Accept="application/json"),f!=="GET"&&f!=="HEAD"&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),g=JSON.stringify(t.json===!0?g:t.json))),u.onreadystatechange=s,u.onload=l,u.onerror=o,u.onprogress=function(){},u.onabort=function(){d=!0,clearTimeout(t.retryTimeout)},u.ontimeout=o,u.open(f,h,!C,t.username,t.password),C||(u.withCredentials=!!t.withCredentials),!C&&t.timeout>0&&(A=setTimeout(function(){if(!d){d=!0,u.abort("timeout");var M=new Error("XMLHttpRequest timeout");M.code="ETIMEDOUT",o(M)}},t.timeout)),u.setRequestHeader)for(c in y)y.hasOwnProperty(c)&&u.setRequestHeader(c,y[c]);else if(t.headers&&!Gq(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(u.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(u),u.send(g||null),u}function Xq(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function Yq(){}var Zq=Vv.exports;const RE=Nu(Zq);var OE={exports:{}},J7=LE,Kv=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Dn(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Dn.prototype=Kv(Error.prototype);Dn.prototype.constructor=Dn;Dn.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Wv(t){function e(r,n,s,a){return(r|0)*3600+(n|0)*60+(s|0)+(a|0)/1e3}var i=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function mh(){this.values=Kv(null)}mh.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var r=0;r<i.length;++r)if(e===i[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function eh(t,e,i,r){var n=r?t.split(r):[t];for(var s in n)if(typeof n[s]=="string"){var a=n[s].split(i);if(a.length===2){var o=a[0].trim(),l=a[1].trim();e(o,l)}}}function Jq(t,e,i){var r=t;function n(){var o=Wv(t);if(o===null)throw new Dn(Dn.Errors.BadTimeStamp,"Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function s(o,l){var u=new mh;eh(o,function(c,d){switch(c){case"region":for(var h=i.length-1;h>=0;h--)if(i[h].id===d){u.set(c,i[h].region);break}break;case"vertical":u.alt(c,d,["rl","lr"]);break;case"line":var f=d.split(","),g=f[0];u.integer(c,g),u.percent(c,g)&&u.set("snapToLines",!1),u.alt(c,g,["auto"]),f.length===2&&u.alt("lineAlign",f[1],["start","center","end"]);break;case"position":f=d.split(","),u.percent(c,f[0]),f.length===2&&u.alt("positionAlign",f[1],["start","center","end"]);break;case"size":u.percent(c,d);break;case"align":u.alt(c,d,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=n(),a(),t.substr(0,3)!=="-->")throw new Dn(Dn.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.substr(3),a(),e.endTime=n(),a(),s(t,e)}var E4=J7.createElement&&J7.createElement("textarea"),Qq={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Q7={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},ej={v:"title",lang:"lang"},ex={rt:"ruby"};function FE(t,e){function i(){if(!e)return null;function g(C){return e=e.substr(C.length),C}var y=e.match(/^([^<]*)(<[^>]*>?)?/);return g(y[1]?y[1]:y[2])}function r(g){return E4.innerHTML=g,g=E4.textContent,E4.textContent="",g}function n(g,y){return!ex[y.localName]||ex[y.localName]===g.localName}function s(g,y){var C=Qq[g];if(!C)return null;var S=t.document.createElement(C),A=ej[g];return A&&y&&(S[A]=y.trim()),S}for(var a=t.document.createElement("div"),o=a,l,u=[];(l=i())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),o=o.parentNode);continue}var c=Wv(l.substr(1,l.length-2)),d;if(c){d=t.document.createProcessingInstruction("timestamp",c),o.appendChild(d);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(d=s(h[1],h[3]),!d)||!n(o,d))continue;if(h[2]){var f=h[2].split(".");f.forEach(function(g){var y=/^bg_/.test(g),C=y?g.slice(3):g;if(Q7.hasOwnProperty(C)){var S=y?"background-color":"color",A=Q7[C];d.style[S]=A}}),d.className=f.join(" ")}u.push(h[1]),o.appendChild(d),o=d;continue}o.appendChild(t.document.createTextNode(r(l)))}return a}var tx=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function tj(t){for(var e=0;e<tx.length;e++){var i=tx[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function ij(t){var e=[],i="",r;if(!t||!t.childNodes)return"ltr";function n(o,l){for(var u=l.childNodes.length-1;u>=0;u--)o.push(l.childNodes[u])}function s(o){if(!o||!o.length)return null;var l=o.pop(),u=l.textContent||l.innerText;if(u){var c=u.match(/^.*(\n|\r)/);return c?(o.length=0,c[0]):u}if(l.tagName==="ruby")return s(o);if(l.childNodes)return n(o,l),s(o)}for(n(e,t);i=s(e);)for(var a=0;a<i.length;a++)if(r=i.charCodeAt(a),tj(r))return"rtl";return"ltr"}function rj(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,r=0,n=0;n<i.length&&i[n]!==e;n++)i[n].mode==="showing"&&r++;return++r*-1}function Wg(){}Wg.prototype.applyStyles=function(t,e){e=e||this.div;for(var i in t)t.hasOwnProperty(i)&&(e.style[i]=t[i])};Wg.prototype.formatStyle=function(t,e){return t===0?0:t+e};function T1(t,e,i){Wg.call(this),this.cue=e,this.cueDiv=FE(t,e.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=t.document.createElement("div"),r={direction:ij(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var n=0;switch(e.positionAlign){case"start":case"line-left":n=e.position;break;case"center":n=e.position-e.size/2;break;case"end":case"line-right":n=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(n,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(n,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}T1.prototype=Kv(Wg.prototype);T1.prototype.constructor=T1;function Xr(t){var e,i,r,n;if(t.div){i=t.div.offsetHeight,r=t.div.offsetWidth,n=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||n,this.height=t.height||i,this.bottom=t.bottom||n+(t.height||i),this.width=t.width||r,this.lineHeight=e!==void 0?e:t.lineHeight}Xr.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Xr.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};Xr.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};Xr.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};Xr.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};Xr.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),i=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),r=e*i;return r/(this.height*this.width)};Xr.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};Xr.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,r=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var n={left:t.left,right:t.right,top:t.top||r,height:t.height||e,bottom:t.bottom||r+(t.height||e),width:t.width||i};return n};function nj(t,e,i,r){function n(C,S){for(var A,T=new Xr(C),M=1,D=0;D<S.length;D++){for(;C.overlapsOppositeAxis(i,S[D])||C.within(i)&&C.overlapsAny(r);)C.move(S[D]);if(C.within(i))return C;var B=C.intersectPercentage(i);M>B&&(A=new Xr(C),M=B),C=new Xr(T)}return A||T}var s=new Xr(e),a=e.cue,o=rj(a),l=[];if(a.snapToLines){var u;switch(a.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=s.lineHeight,d=c*Math.round(o),h=i[u]+c,f=l[0];Math.abs(d)>h&&(d=d<0?-1:1,d*=Math.ceil(h/c)*c),o<0&&(d+=a.vertical===""?i.height:i.width,l=l.reverse()),s.move(f,d)}else{var g=s.lineHeight/i.height*100;switch(a.lineAlign){case"center":o-=g/2;break;case"end":o-=g;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],s=new Xr(e)}var y=n(s,l);e.move(y.toCSSCompatValues(i))}function R0(){}R0.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};R0.convertCueToDOMTree=function(t,e){return!t||!e?null:FE(t,e)};var sj=.05,aj="sans-serif",oj="1.5%";R0.processCues=function(t,e,i){if(!t||!e||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var r=t.document.createElement("div");r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=oj,i.appendChild(r);function n(c){for(var d=0;d<c.length;d++)if(c[d].hasBeenReset||!c[d].displayState)return!0;return!1}if(!n(e)){for(var s=0;s<e.length;s++)r.appendChild(e[s].displayState);return}var a=[],o=Xr.getSimpleBoxPosition(r),l=Math.round(o.height*sj*100)/100,u={font:l+"px "+aj};(function(){for(var c,d,h=0;h<e.length;h++)d=e[h],c=new T1(t,d,u),r.appendChild(c.div),nj(t,c,o,a),d.displayState=c.div,a.push(Xr.getSimpleBoxPosition(c))})()};R0.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]};R0.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Dn)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function i(){for(var c=e.buffer,d=0;d<c.length&&c[d]!=="\r"&&c[d]!==`
`;)++d;var h=c.substr(0,d);return c[d]==="\r"&&++d,c[d]===`
`&&++d,e.buffer=c.substr(d),h}function r(c){var d=new mh;if(eh(c,function(f,g){switch(f){case"id":d.set(f,g);break;case"width":d.percent(f,g);break;case"lines":d.integer(f,g);break;case"regionanchor":case"viewportanchor":var y=g.split(",");if(y.length!==2)break;var C=new mh;if(C.percent("x",y[0]),C.percent("y",y[1]),!C.has("x")||!C.has("y"))break;d.set(f+"X",C.get("x")),d.set(f+"Y",C.get("y"));break;case"scroll":d.alt(f,g,["up"]);break}},/=/,/\s/),d.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=d.get("width",100),h.lines=d.get("lines",3),h.regionAnchorX=d.get("regionanchorX",0),h.regionAnchorY=d.get("regionanchorY",100),h.viewportAnchorX=d.get("viewportanchorX",0),h.viewportAnchorY=d.get("viewportanchorY",100),h.scroll=d.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:d.get("id"),region:h})}}function n(c){var d=new mh;eh(c,function(h,f){switch(h){case"MPEGT":d.integer(h+"S",f);break;case"LOCA":d.set(h+"L",Wv(f));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:d.get("MPEGTS"),LOCAL:d.get("LOCAL")})}function s(c){c.match(/X-TIMESTAMP-MAP/)?eh(c,function(d,h){switch(d){case"X-TIMESTAMP-MAP":n(h);break}},/=/):eh(c,function(d,h){switch(d){case"Region":r(h);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=i();var o=a.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Dn(Dn.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:a=i(),e.state){case"HEADER":/:/.test(a)?s(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{Jq(a,e.cue,e.regionList)}catch(c){e.reportOrThrowError(c),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=a.indexOf("-->")!==-1;if(!a||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(c){e.reportOrThrowError(c),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Dn(Dn.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var lj=R0,uj="auto",cj={"":1,lr:1,rl:1},dj={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function hj(t){if(typeof t!="string")return!1;var e=cj[t.toLowerCase()];return e?t.toLowerCase():!1}function A4(t){if(typeof t!="string")return!1;var e=dj[t.toLowerCase()];return e?t.toLowerCase():!1}function NE(t,e,i){this.hasBeenReset=!1;var r="",n=!1,s=t,a=e,o=i,l=null,u="",c=!0,d="auto",h="start",f="auto",g="auto",y=100,C="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(S){r=""+S}},pauseOnExit:{enumerable:!0,get:function(){return n},set:function(S){n=!!S}},startTime:{enumerable:!0,get:function(){return s},set:function(S){if(typeof S!="number")throw new TypeError("Start time must be set to a number.");s=S,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(S){if(typeof S!="number")throw new TypeError("End time must be set to a number.");a=S,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(S){o=""+S,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(S){l=S,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(S){var A=hj(S);if(A===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=A,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(S){c=!!S,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(S){if(typeof S!="number"&&S!==uj)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=S,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(S){var A=A4(S);A?(h=A,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return f},set:function(S){if(S<0||S>100)throw new Error("Position must be between 0 and 100.");f=S,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(S){var A=A4(S);A?(g=A,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return y},set:function(S){if(S<0||S>100)throw new Error("Size must be between 0 and 100.");y=S,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return C},set:function(S){var A=A4(S);if(!A)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");C=A,this.hasBeenReset=!0}}}),this.displayState=void 0}NE.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var pj=NE,fj={"":!0,up:!0};function mj(t){if(typeof t!="string")return!1;var e=fj[t.toLowerCase()];return e?t.toLowerCase():!1}function gd(t){return typeof t=="number"&&t>=0&&t<=100}function gj(){var t=100,e=3,i=0,r=100,n=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!gd(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(o){if(!gd(o))throw new Error("RegionAnchorX must be between 0 and 100.");r=o}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(o){if(!gd(o))throw new Error("RegionAnchorY must be between 0 and 100.");i=o}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(o){if(!gd(o))throw new Error("ViewportAnchorY must be between 0 and 100.");s=o}},viewportAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!gd(o))throw new Error("ViewportAnchorX must be between 0 and 100.");n=o}},scroll:{enumerable:!0,get:function(){return a},set:function(o){var l=mj(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var yj=gj,Za=Kg,$u=OE.exports={WebVTT:lj,VTTCue:pj,VTTRegion:yj};Za.vttjs=$u;Za.WebVTT=$u.WebVTT;var vj=$u.VTTCue,bj=$u.VTTRegion,xj=Za.VTTCue,_j=Za.VTTRegion;$u.shim=function(){Za.VTTCue=vj,Za.VTTRegion=bj};$u.restore=function(){Za.VTTCue=xj,Za.VTTRegion=_j};Za.VTTCue||$u.shim();var wj=OE.exports;const ix=Nu(wj);var $E={exports:{}};(function(t,e){(function(i){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var d=o.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=o.normalizePath(d.path),o.buildURLFromParts(d)}var h=o.parseURL(u);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return c.alwaysNormalize?(h.path=o.normalizePath(h.path),o.buildURLFromParts(h)):u;var f=o.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");if(!f.netLoc&&f.path&&f.path[0]!=="/"){var g=n.exec(f.path);f.netLoc=g[1],f.path=g[2]}f.netLoc&&!f.path&&(f.path="/");var y={scheme:f.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(y.netLoc=f.netLoc,h.path[0]!=="/"))if(!h.path)y.path=f.path,h.params||(y.params=f.params,h.query||(y.query=f.query));else{var C=f.path,S=C.substring(0,C.lastIndexOf("/")+1)+h.path;y.path=o.normalizePath(S)}return y.path===null&&(y.path=c.alwaysNormalize?o.normalizePath(h.path):h.path),o.buildURLFromParts(y)},parseURL:function(l){var u=r.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=o})()})($E);var Sj=$E.exports;const rx=Nu(Sj);var nx="http://example.com",Gg=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=H.location&&H.location.href||"");var r=typeof H.URL=="function",n=/^\/\//.test(e),s=!H.location&&!/\/\//i.test(e);if(r?e=new H.URL(e,H.location||nx):/\/\//i.test(e)||(e=rx.buildAbsoluteURL(H.location&&H.location.href||"",e)),r){var a=new URL(i,e);return s?a.href.slice(nx.length):n?a.href.slice(a.protocol.length):a.href}return rx.buildAbsoluteURL(e,i)},Gv=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(r,n){this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(n)},e.off=function(r,n){if(!this.listeners[r])return!1;var s=this.listeners[r].indexOf(n);return this.listeners[r]=this.listeners[r].slice(0),this.listeners[r].splice(s,1),s>-1},e.trigger=function(r){var n=this.listeners[r];if(n)if(arguments.length===2)for(var s=n.length,a=0;a<s;++a)n[a].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=n.length,u=0;u<l;++u)n[u].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(r){this.on("data",function(n){r.push(n)})},t}(),Cj=function(e){return H.atob?H.atob(e):Buffer.from(e,"base64").toString("binary")};function kj(t){for(var e=Cj(t),i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class Tj extends Gv{constructor(){super(),this.buffer=""}push(e){let i;for(this.buffer+=e,i=this.buffer.indexOf(`
`);i>-1;i=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,i)),this.buffer=this.buffer.substring(i+1)}}const Ej="	",M4=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),i={};return e[1]&&(i.length=parseInt(e[1],10)),e[2]&&(i.offset=parseInt(e[2],10)),i},Aj=function(){const i="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+i+")")},Nr=function(t){const e={};if(!t)return e;const i=t.split(Aj());let r=i.length,n;for(;r--;)i[r]!==""&&(n=/([^=]*)=(.*)/.exec(i[r]).slice(1),n[0]=n[0].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),e[n[0]]=n[1]);return e},sx=t=>{const e=t.split("x"),i={};return e[0]&&(i.width=parseInt(e[0],10)),e[1]&&(i.height=parseInt(e[1],10)),i};class Mj extends Gv{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let i,r;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((s,a)=>{const o=a(e);return o===e?s:s.concat([o])},[e]).forEach(s=>{for(let a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,s))return;if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),i=/^#EXTM3U/.exec(s),i){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(i=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(s),i){r={type:"tag",tagType:"inf"},i[1]&&(r.duration=parseFloat(i[1])),i[2]&&(r.title=i[2]),this.trigger("data",r);return}if(i=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(s),i){r={type:"tag",tagType:"targetduration"},i[1]&&(r.duration=parseInt(i[1],10)),this.trigger("data",r);return}if(i=/^#EXT-X-VERSION:([0-9.]*)?/.exec(s),i){r={type:"tag",tagType:"version"},i[1]&&(r.version=parseInt(i[1],10)),this.trigger("data",r);return}if(i=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(s),i){r={type:"tag",tagType:"media-sequence"},i[1]&&(r.number=parseInt(i[1],10)),this.trigger("data",r);return}if(i=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(s),i){r={type:"tag",tagType:"discontinuity-sequence"},i[1]&&(r.number=parseInt(i[1],10)),this.trigger("data",r);return}if(i=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(s),i){r={type:"tag",tagType:"playlist-type"},i[1]&&(r.playlistType=i[1]),this.trigger("data",r);return}if(i=/^#EXT-X-BYTERANGE:(.*)?$/.exec(s),i){r=Bi(M4(i[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",r);return}if(i=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(s),i){r={type:"tag",tagType:"allow-cache"},i[1]&&(r.allowed=!/NO/.test(i[1])),this.trigger("data",r);return}if(i=/^#EXT-X-MAP:(.*)$/.exec(s),i){if(r={type:"tag",tagType:"map"},i[1]){const a=Nr(i[1]);a.URI&&(r.uri=a.URI),a.BYTERANGE&&(r.byterange=M4(a.BYTERANGE))}this.trigger("data",r);return}if(i=/^#EXT-X-STREAM-INF:(.*)$/.exec(s),i){r={type:"tag",tagType:"stream-inf"},i[1]&&(r.attributes=Nr(i[1]),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=sx(r.attributes.RESOLUTION)),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))),this.trigger("data",r);return}if(i=/^#EXT-X-MEDIA:(.*)$/.exec(s),i){r={type:"tag",tagType:"media"},i[1]&&(r.attributes=Nr(i[1])),this.trigger("data",r);return}if(i=/^#EXT-X-ENDLIST/.exec(s),i){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(i=/^#EXT-X-DISCONTINUITY/.exec(s),i){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(i=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(s),i){r={type:"tag",tagType:"program-date-time"},i[1]&&(r.dateTimeString=i[1],r.dateTimeObject=new Date(i[1])),this.trigger("data",r);return}if(i=/^#EXT-X-KEY:(.*)$/.exec(s),i){r={type:"tag",tagType:"key"},i[1]&&(r.attributes=Nr(i[1]),r.attributes.IV&&(r.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),this.trigger("data",r);return}if(i=/^#EXT-X-START:(.*)$/.exec(s),i){r={type:"tag",tagType:"start"},i[1]&&(r.attributes=Nr(i[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),this.trigger("data",r);return}if(i=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(s),i){r={type:"tag",tagType:"cue-out-cont"},i[1]?r.data=i[1]:r.data="",this.trigger("data",r);return}if(i=/^#EXT-X-CUE-OUT:(.*)?$/.exec(s),i){r={type:"tag",tagType:"cue-out"},i[1]?r.data=i[1]:r.data="",this.trigger("data",r);return}if(i=/^#EXT-X-CUE-IN:?(.*)?$/.exec(s),i){r={type:"tag",tagType:"cue-in"},i[1]?r.data=i[1]:r.data="",this.trigger("data",r);return}if(i=/^#EXT-X-SKIP:(.*)$/.exec(s),i&&i[1]){r={type:"tag",tagType:"skip"},r.attributes=Nr(i[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split(Ej)),this.trigger("data",r);return}if(i=/^#EXT-X-PART:(.*)$/.exec(s),i&&i[1]){r={type:"tag",tagType:"part"},r.attributes=Nr(i[1]),["DURATION"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["INDEPENDENT","GAP"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/.test(r.attributes[a]))}),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=M4(r.attributes.BYTERANGE)),this.trigger("data",r);return}if(i=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(s),i&&i[1]){r={type:"tag",tagType:"server-control"},r.attributes=Nr(i[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/.test(r.attributes[a]))}),this.trigger("data",r);return}if(i=/^#EXT-X-PART-INF:(.*)$/.exec(s),i&&i[1]){r={type:"tag",tagType:"part-inf"},r.attributes=Nr(i[1]),["PART-TARGET"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),this.trigger("data",r);return}if(i=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(s),i&&i[1]){r={type:"tag",tagType:"preload-hint"},r.attributes=Nr(i[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(a){if(r.attributes.hasOwnProperty(a)){r.attributes[a]=parseInt(r.attributes[a],10);const o=a==="BYTERANGE-LENGTH"?"length":"offset";r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[o]=r.attributes[a],delete r.attributes[a]}}),this.trigger("data",r);return}if(i=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(s),i&&i[1]){r={type:"tag",tagType:"rendition-report"},r.attributes=Nr(i[1]),["LAST-MSN","LAST-PART"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseInt(r.attributes[a],10))}),this.trigger("data",r);return}if(i=/^#EXT-X-DATERANGE:(.*)$/.exec(s),i&&i[1]){r={type:"tag",tagType:"daterange"},r.attributes=Nr(i[1]),["ID","CLASS"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=String(r.attributes[o]))}),["START-DATE","END-DATE"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=new Date(r.attributes[o]))}),["DURATION","PLANNED-DURATION"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=parseFloat(r.attributes[o]))}),["END-ON-NEXT"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=/YES/i.test(r.attributes[o]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(o){r.attributes.hasOwnProperty(o)&&(r.attributes[o]=r.attributes[o].toString(16))});const a=/^X-([A-Z]+-)+[A-Z]+$/;for(const o in r.attributes){if(!a.test(o))continue;const l=/[0-9A-Fa-f]{6}/g.test(r.attributes[o]),u=/^\d+(\.\d+)?$/.test(r.attributes[o]);r.attributes[o]=l?r.attributes[o].toString(16):u?parseFloat(r.attributes[o]):String(r.attributes[o])}this.trigger("data",r);return}if(i=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(s),i){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(i=/^#EXT-X-I-FRAMES-ONLY/.exec(s),i){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(i=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(s),i){r={type:"tag",tagType:"content-steering"},r.attributes=Nr(i[1]),this.trigger("data",r);return}if(i=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(s),i){r={type:"tag",tagType:"i-frame-playlist"},r.attributes=Nr(i[1]),r.attributes.URI&&(r.uri=r.attributes.URI),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=sx(r.attributes.RESOLUTION)),r.attributes["AVERAGE-BANDWIDTH"]&&(r.attributes["AVERAGE-BANDWIDTH"]=parseInt(r.attributes["AVERAGE-BANDWIDTH"],10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),this.trigger("data",r);return}if(i=/^#EXT-X-DEFINE:(.*)$/.exec(s),i){r={type:"tag",tagType:"define"},r.attributes=Nr(i[1]),this.trigger("data",r);return}this.trigger("data",{type:"tag",data:s.slice(4)})})}addParser({expression:e,customType:i,dataParser:r,segment:n}){typeof r!="function"&&(r=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:r(s),customType:i,segment:n}),!0})}addTagMapper({expression:e,map:i}){const r=n=>e.test(n)?i(n):n;this.tagMappers.push(r)}}const Dj=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),_o=function(t){const e={};return Object.keys(t).forEach(function(i){e[Dj(i)]=t[i]}),e},D4=function(t){const{serverControl:e,targetDuration:i,partTargetDuration:r}=t;if(!e)return;const n="#EXT-X-SERVER-CONTROL",s="holdBack",a="partHoldBack",o=i&&i*3,l=r&&r*2;i&&!e.hasOwnProperty(s)&&(e[s]=o,this.trigger("info",{message:`${n} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&e[s]<o&&(this.trigger("warn",{message:`${n} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${o})`}),e[s]=o),r&&!e.hasOwnProperty(a)&&(e[a]=r*3,this.trigger("info",{message:`${n} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),r&&e[a]<l&&(this.trigger("warn",{message:`${n} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${l}).`}),e[a]=l)};let Lj=class extends Gv{constructor(e={}){super(),this.lineStream=new Tj,this.parseStream=new Mj,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const i=this,r=[];let n={},s,a,o=!1;const l=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let d=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let h=0,f=0;const g={};this.on("end",()=>{n.uri||!n.parts&&!n.preloadHints||(!n.map&&s&&(n.map=s),!n.key&&a&&(n.key=a),!n.timeline&&typeof d=="number"&&(n.timeline=d),this.manifest.preloadSegment=n)}),this.parseStream.on("data",function(y){let C,S;if(i.manifest.definitions){for(const A in i.manifest.definitions)if(y.uri&&(y.uri=y.uri.replace(`{$${A}}`,i.manifest.definitions[A])),y.attributes)for(const T in y.attributes)typeof y.attributes[T]=="string"&&(y.attributes[T]=y.attributes[T].replace(`{$${A}}`,i.manifest.definitions[A]))}({tag(){({version(){y.version&&(this.manifest.version=y.version)},"allow-cache"(){this.manifest.allowCache=y.allowed,"allowed"in y||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const A={};"length"in y&&(n.byterange=A,A.length=y.length,"offset"in y||(y.offset=h)),"offset"in y&&(n.byterange=A,A.offset=y.offset),h=A.offset+A.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),y.title&&(n.title=y.title),y.duration>0&&(n.duration=y.duration),y.duration===0&&(n.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key(){if(!y.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(y.attributes.METHOD==="NONE"){a=null;return}if(!y.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(y.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:y.attributes};return}if(y.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:y.attributes.URI};return}if(y.attributes.KEYFORMAT===c){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(y.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(y.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),y.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(y.attributes.KEYID&&y.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:y.attributes.KEYFORMAT,keyId:y.attributes.KEYID.substring(2)},pssh:kj(y.attributes.URI.split(",")[1])};return}y.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:y.attributes.METHOD||"AES-128",uri:y.attributes.URI},typeof y.attributes.IV<"u"&&(a.iv=y.attributes.IV)},"media-sequence"(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+y.number});return}this.manifest.mediaSequence=y.number},"discontinuity-sequence"(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+y.number});return}this.manifest.discontinuitySequence=y.number,d=y.number},"playlist-type"(){if(!/VOD|EVENT/.test(y.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+y.playlist});return}this.manifest.playlistType=y.playlistType},map(){s={},y.uri&&(s.uri=y.uri),y.byterange&&(s.byterange=y.byterange),a&&(s.key=a)},"stream-inf"(){if(this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||u,!y.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}n.attributes||(n.attributes={}),Bi(n.attributes,y.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,!(y.attributes&&y.attributes.TYPE&&y.attributes["GROUP-ID"]&&y.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const A=this.manifest.mediaGroups[y.attributes.TYPE];A[y.attributes["GROUP-ID"]]=A[y.attributes["GROUP-ID"]]||{},C=A[y.attributes["GROUP-ID"]],S={default:/yes/i.test(y.attributes.DEFAULT)},S.default?S.autoselect=!0:S.autoselect=/yes/i.test(y.attributes.AUTOSELECT),y.attributes.LANGUAGE&&(S.language=y.attributes.LANGUAGE),y.attributes.URI&&(S.uri=y.attributes.URI),y.attributes["INSTREAM-ID"]&&(S.instreamId=y.attributes["INSTREAM-ID"]),y.attributes.CHARACTERISTICS&&(S.characteristics=y.attributes.CHARACTERISTICS),y.attributes.FORCED&&(S.forced=/yes/i.test(y.attributes.FORCED)),C[y.attributes.NAME]=S},discontinuity(){d+=1,n.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=y.dateTimeString,this.manifest.dateTimeObject=y.dateTimeObject),n.dateTimeString=y.dateTimeString,n.dateTimeObject=y.dateTimeObject;const{lastProgramDateTime:A}=this;this.lastProgramDateTime=new Date(y.dateTimeString).getTime(),A===null&&this.manifest.segments.reduceRight((T,M)=>(M.programDateTime=T-M.duration*1e3,M.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(y.duration)||y.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+y.duration});return}this.manifest.targetDuration=y.duration,D4.call(this,this.manifest)},start(){if(!y.attributes||isNaN(y.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:y.attributes["TIME-OFFSET"],precise:y.attributes.PRECISE}},"cue-out"(){n.cueOut=y.data},"cue-out-cont"(){n.cueOutCont=y.data},"cue-in"(){n.cueIn=y.data},skip(){this.manifest.skip=_o(y.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",y.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const A=this.manifest.segments.length,T=_o(y.attributes);n.parts=n.parts||[],n.parts.push(T),T.byterange&&(T.byterange.hasOwnProperty("offset")||(T.byterange.offset=f),f=T.byterange.offset+T.byterange.length);const M=n.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${M} for segment #${A}`,y.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((D,B)=>{D.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${B} lacks required attribute(s): LAST-PART`})})},"server-control"(){const A=this.manifest.serverControl=_o(y.attributes);A.hasOwnProperty("canBlockReload")||(A.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),D4.call(this,this.manifest),A.canSkipDateranges&&!A.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const A=this.manifest.segments.length,T=_o(y.attributes),M=T.type&&T.type==="PART";n.preloadHints=n.preloadHints||[],n.preloadHints.push(T),T.byterange&&(T.byterange.hasOwnProperty("offset")||(T.byterange.offset=M?f:0,M&&(f=T.byterange.offset+T.byterange.length)));const D=n.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${D} for segment #${A}`,y.attributes,["TYPE","URI"]),!!T.type)for(let B=0;B<n.preloadHints.length-1;B++){const F=n.preloadHints[B];F.type&&F.type===T.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${D} for segment #${A} has the same TYPE ${T.type} as preload hint #${B}`})}},"rendition-report"(){const A=_o(y.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(A);const T=this.manifest.renditionReports.length-1,M=["LAST-MSN","URI"];o&&M.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${T}`,y.attributes,M)},"part-inf"(){this.manifest.partInf=_o(y.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",y.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),D4.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(_o(y.attributes));const A=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${A}`,y.attributes,["ID","START-DATE"]);const T=this.manifest.dateRanges[A];T.endDate&&T.startDate&&new Date(T.endDate)<new Date(T.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),T.duration&&T.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),T.plannedDuration&&T.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const M=!!T.endOnNext;if(M&&!T.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),M&&(T.duration||T.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),T.duration&&T.endDate){const B=T.startDate.getTime()+T.duration*1e3;this.manifest.dateRanges[A].endDate=new Date(B)}if(!g[T.id])g[T.id]=T;else{for(const B in g[T.id])if(T[B]&&JSON.stringify(g[T.id][B])!==JSON.stringify(T[B])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const D=this.manifest.dateRanges.findIndex(B=>B.id===T.id);this.manifest.dateRanges[D]=Bi(this.manifest.dateRanges[D],T),g[T.id]=Bi(g[T.id],T),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=_o(y.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",y.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const A=(T,M)=>{if(T in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${T}`});return}this.manifest.definitions[T]=M};if("QUERYPARAM"in y.attributes){if("NAME"in y.attributes||"IMPORT"in y.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const T=this.params.get(y.attributes.QUERYPARAM);if(!T){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${y.attributes.QUERYPARAM}`});return}A(y.attributes.QUERYPARAM,decodeURIComponent(T));return}if("NAME"in y.attributes){if("IMPORT"in y.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in y.attributes)||typeof y.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${y.attributes.NAME}`});return}A(y.attributes.NAME,y.attributes.VALUE);return}if("IMPORT"in y.attributes){if(!this.mainDefinitions[y.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${y.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}A(y.attributes.IMPORT,this.mainDefinitions[y.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:y.attributes,uri:y.uri,timeline:d}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",y.attributes,["BANDWIDTH","URI"])}}[y.tagType]||l).call(i)},uri(){n.uri=y.uri,r.push(n),this.manifest.targetDuration&&!("duration"in n)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),n.duration=this.manifest.targetDuration),a&&(n.key=a),n.timeline=d,s&&(n.map=s),f=0,this.lastProgramDateTime!==null&&(n.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=n.duration*1e3),n={}},comment(){},custom(){y.segment?(n.custom=n.custom||{},n.custom[y.customType]=y.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[y.customType]=y.data)}})[y.type].call(i)})}requiredCompatibilityversion(e,i){(e<i||!e)&&this.trigger("warn",{message:`manifest must be at least version ${i}`})}warnOnMissingAttributes_(e,i,r){const n=[];r.forEach(function(s){i.hasOwnProperty(s)||n.push(s)}),n.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${n.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}};var xu={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Bj=["video","audio","text"],ax=["Video","Audio","Text"],zE=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(i,r,n){var s=("00"+Number(r).toString(16)).slice(-2),a=("00"+Number(n).toString(16)).slice(-2);return"avc1."+s+"00"+a})},Vs=function(e){e===void 0&&(e="");var i=e.split(","),r=[];return i.forEach(function(n){n=n.trim();var s;Bj.forEach(function(a){var o=xu[a].exec(n.toLowerCase());if(!(!o||o.length<=1)){s=a;var l=n.substring(0,o[1].length),u=n.replace(l,"");r.push({type:l,details:u,mediaType:a})}}),s||r.push({type:n,details:"",mediaType:"unknown"})}),r},Pj=function(e,i){if(!e.mediaGroups.AUDIO||!i)return null;var r=e.mediaGroups.AUDIO[i];if(!r)return null;for(var n in r){var s=r[n];if(s.default&&s.playlists)return Vs(s.playlists[0].attributes.CODECS)}return null},UE=function(e){return e===void 0&&(e=""),xu.audio.test(e.trim().toLowerCase())},Ij=function(e){return e===void 0&&(e=""),xu.text.test(e.trim().toLowerCase())},Uh=function(e){if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(",").map(function(s){return zE(s.trim())}),r="video";i.length===1&&UE(i[0])?r="audio":i.length===1&&Ij(i[0])&&(r="application");var n="mp4";return i.every(function(s){return xu.mp4.test(s)})?n="mp4":i.every(function(s){return xu.webm.test(s)})?n="webm":i.every(function(s){return xu.ogg.test(s)})&&(n="ogg"),r+"/"+n+';codecs="'+e+'"'}},Ym=function(e){return e===void 0&&(e=""),H.MediaSource&&H.MediaSource.isTypeSupported&&H.MediaSource.isTypeSupported(Uh(e))||!1},L4=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(i){i=i.trim();for(var r=0;r<ax.length;r++){var n=ax[r];if(xu["muxer"+n].test(i))return!0}return!1})},ox="mp4a.40.2",Rj="avc1.4d400d",Oj=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Fj=/^application\/dash\+xml/i,qE=function(e){return Oj.test(e)?"hls":Fj.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},Nj=function(e){return e.toString(2).length},$j=function(e){return Math.ceil(Nj(e)/8)},jE=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},zj=function(e){return jE(e)},ct=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!zj(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},vr=H.BigInt||Number,qy=[vr("0x1"),vr("0x100"),vr("0x10000"),vr("0x1000000"),vr("0x100000000"),vr("0x10000000000"),vr("0x1000000000000"),vr("0x100000000000000"),vr("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var Uj=function(e,i){var r=i===void 0?{}:i,n=r.signed,s=n===void 0?!1:n,a=r.le,o=a===void 0?!1:a;e=ct(e);var l=o?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],c=u.call(e,function(h,f,g){var y=o?g:Math.abs(g+1-e.length);return h+vr(f)*qy[y]},vr(0));if(s){var d=qy[e.length]/vr(2)-vr(1);c=vr(c),c>d&&(c-=d,c-=d,c-=vr(2))}return Number(c)},qj=function(e,i){var r={},n=r.le,s=n===void 0?!1:n;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=vr(e);for(var a=$j(e),o=new Uint8Array(new ArrayBuffer(a)),l=0;l<a;l++){var u=s?l:Math.abs(l+1-o.length);o[u]=Number(e/qy[l]&vr(255)),e<0&&(o[u]=Math.abs(~o[u]),o[u]-=l===0?1:2)}return o},VE=function(e,i){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;i||(e=unescape(encodeURIComponent(e)));for(var r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},jj=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];if(i=i.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),i.length<=1)return ct(i[0]);var n=i.reduce(function(o,l,u){return o+(l.byteLength||l.length)},0),s=new Uint8Array(n),a=0;return i.forEach(function(o){o=ct(o),s.set(o,a),a+=o.byteLength}),s},vi=function(e,i,r){var n=r===void 0?{}:r,s=n.offset,a=s===void 0?0:s,o=n.mask,l=o===void 0?[]:o;e=ct(e),i=ct(i);var u=i.every?i.every:Array.prototype.every;return i.length&&e.length-a>=i.length&&u.call(i,function(c,d){var h=l[d]?l[d]&e[a+d]:e[a+d];return c===h})},Vj=function(e,i,r){i.forEach(function(n){for(var s in e.mediaGroups[n])for(var a in e.mediaGroups[n][s]){var o=e.mediaGroups[n][s][a];r(o,n,s,a)}})},Hj=function(e){return H.atob?H.atob(e):Buffer.from(e,"base64").toString("binary")};function Kj(t){for(var e=Hj(t),i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}var wl={},co={};function Wj(t,e,i){if(i===void 0&&(i=Array.prototype),t&&typeof i.find=="function")return i.find.call(t,e);for(var r=0;r<t.length;r++)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];if(e.call(void 0,n,r,t))return n}}function Xv(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function Gj(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}var HE=Xv({HTML:"text/html",isHTML:function(t){return t===HE.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),KE=Xv({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===KE.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});co.assign=Gj;co.find=Wj;co.freeze=Xv;co.MIME_TYPE=HE;co.NAMESPACE=KE;var WE=co,aa=WE.find,qh=WE.NAMESPACE;function Xj(t){return t!==""}function Yj(t){return t?t.split(/[\t\n\f\r ]+/).filter(Xj):[]}function Zj(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function lx(t){if(!t)return[];var e=Yj(t);return Object.keys(e.reduce(Zj,{}))}function Jj(t){return function(e){return t&&t.indexOf(e)!==-1}}function dp(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}function vn(t,e){var i=t.prototype;if(!(i instanceof e)){let r=function(){};r.prototype=e.prototype,r=new r,dp(i,r),t.prototype=i=r}i.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),i.constructor=t)}var bn={},Cs=bn.ELEMENT_NODE=1,h0=bn.ATTRIBUTE_NODE=2,E1=bn.TEXT_NODE=3,GE=bn.CDATA_SECTION_NODE=4,XE=bn.ENTITY_REFERENCE_NODE=5,Qj=bn.ENTITY_NODE=6,YE=bn.PROCESSING_INSTRUCTION_NODE=7,ZE=bn.COMMENT_NODE=8,JE=bn.DOCUMENT_NODE=9,QE=bn.DOCUMENT_TYPE_NODE=10,Ja=bn.DOCUMENT_FRAGMENT_NODE=11,eV=bn.NOTATION_NODE=12,Or={},fr={};Or.INDEX_SIZE_ERR=(fr[1]="Index size error",1);Or.DOMSTRING_SIZE_ERR=(fr[2]="DOMString size error",2);var cn=Or.HIERARCHY_REQUEST_ERR=(fr[3]="Hierarchy request error",3);Or.WRONG_DOCUMENT_ERR=(fr[4]="Wrong document",4);Or.INVALID_CHARACTER_ERR=(fr[5]="Invalid character",5);Or.NO_DATA_ALLOWED_ERR=(fr[6]="No data allowed",6);Or.NO_MODIFICATION_ALLOWED_ERR=(fr[7]="No modification allowed",7);var eA=Or.NOT_FOUND_ERR=(fr[8]="Not found",8);Or.NOT_SUPPORTED_ERR=(fr[9]="Not supported",9);var ux=Or.INUSE_ATTRIBUTE_ERR=(fr[10]="Attribute in use",10);Or.INVALID_STATE_ERR=(fr[11]="Invalid state",11);Or.SYNTAX_ERR=(fr[12]="Syntax error",12);Or.INVALID_MODIFICATION_ERR=(fr[13]="Invalid modification",13);Or.NAMESPACE_ERR=(fr[14]="Invalid namespace",14);Or.INVALID_ACCESS_ERR=(fr[15]="Invalid access",15);function Fi(t,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,fr[t]),this.message=fr[t],Error.captureStackTrace&&Error.captureStackTrace(this,Fi);return i.code=t,e&&(this.message=this.message+": "+e),i}Fi.prototype=Error.prototype;dp(Or,Fi);function Va(){}Va.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var i=[],r=0;r<this.length;r++)Lc(this[r],i,t,e);return i.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function p0(t,e){this._node=t,this._refresh=e,Yv(this)}function Yv(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var i=t._refresh(t._node);if(hA(t,"length",i.length),!t.$$length||i.length<t.$$length)for(var r=i.length;r in t;r++)Object.prototype.hasOwnProperty.call(t,r)&&delete t[r];dp(i,t),t._inc=e}}p0.prototype.item=function(t){return Yv(this),this[t]||null};vn(p0,Va);function A1(){}function tA(t,e){for(var i=t.length;i--;)if(t[i]===e)return i}function cx(t,e,i,r){if(r?e[tA(e,r)]=i:e[e.length++]=i,t){i.ownerElement=t;var n=t.ownerDocument;n&&(r&&nA(n,t,r),tV(n,t,i))}}function dx(t,e,i){var r=tA(e,i);if(r>=0){for(var n=e.length-1;r<n;)e[r]=e[++r];if(e.length=n,t){var s=t.ownerDocument;s&&(nA(s,t,i),i.ownerElement=null)}}else throw new Fi(eA,new Error(t.tagName+"@"+i))}A1.prototype={length:0,item:Va.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==t)return i}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Fi(ux);var i=this.getNamedItem(t.nodeName);return cx(this._ownerElement,this,t,i),i},setNamedItemNS:function(t){var e=t.ownerElement,i;if(e&&e!=this._ownerElement)throw new Fi(ux);return i=this.getNamedItemNS(t.namespaceURI,t.localName),cx(this._ownerElement,this,t,i),i},removeNamedItem:function(t){var e=this.getNamedItem(t);return dx(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var i=this.getNamedItemNS(t,e);return dx(this._ownerElement,this,i),i},getNamedItemNS:function(t,e){for(var i=this.length;i--;){var r=this[i];if(r.localName==e&&r.namespaceURI==t)return r}return null}};function iA(){}iA.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,i){var r=new hp;if(r.implementation=this,r.childNodes=new Va,r.doctype=i||null,i&&r.appendChild(i),e){var n=r.createElementNS(t,e);r.appendChild(n)}return r},createDocumentType:function(t,e,i){var r=new Xg;return r.name=t,r.nodeName=t,r.publicId=e||"",r.systemId=i||"",r}};function ai(){}ai.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return M1(this,t,e)},replaceChild:function(t,e){M1(this,t,e,aA),e&&this.removeChild(e)},removeChild:function(t){return sA(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return jy(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==E1&&t.nodeType==E1?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var i=e._nsMap;if(i){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&i[r]===t)return r}e=e.nodeType==h0?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var i=e._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,t))return i[t];e=e.nodeType==h0?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function rA(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}dp(bn,ai);dp(bn,ai.prototype);function jh(t,e){if(e(t))return!0;if(t=t.firstChild)do if(jh(t,e))return!0;while(t=t.nextSibling)}function hp(){this.ownerDocument=this}function tV(t,e,i){t&&t._inc++;var r=i.namespaceURI;r===qh.XMLNS&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function nA(t,e,i,r){t&&t._inc++;var n=i.namespaceURI;n===qh.XMLNS&&delete e._nsMap[i.prefix?i.localName:""]}function Zv(t,e,i){if(t&&t._inc){t._inc++;var r=e.childNodes;if(i)r[r.length++]=i;else{for(var n=e.firstChild,s=0;n;)r[s++]=n,n=n.nextSibling;r.length=s,delete r[r.length]}}}function sA(t,e){var i=e.previousSibling,r=e.nextSibling;return i?i.nextSibling=r:t.firstChild=r,r?r.previousSibling=i:t.lastChild=i,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,Zv(t.ownerDocument,t),e}function iV(t){return t&&(t.nodeType===ai.DOCUMENT_NODE||t.nodeType===ai.DOCUMENT_FRAGMENT_NODE||t.nodeType===ai.ELEMENT_NODE)}function rV(t){return t&&(oa(t)||Jv(t)||Qa(t)||t.nodeType===ai.DOCUMENT_FRAGMENT_NODE||t.nodeType===ai.COMMENT_NODE||t.nodeType===ai.PROCESSING_INSTRUCTION_NODE)}function Qa(t){return t&&t.nodeType===ai.DOCUMENT_TYPE_NODE}function oa(t){return t&&t.nodeType===ai.ELEMENT_NODE}function Jv(t){return t&&t.nodeType===ai.TEXT_NODE}function hx(t,e){var i=t.childNodes||[];if(aa(i,oa)||Qa(e))return!1;var r=aa(i,Qa);return!(e&&r&&i.indexOf(r)>i.indexOf(e))}function px(t,e){var i=t.childNodes||[];function r(s){return oa(s)&&s!==e}if(aa(i,r))return!1;var n=aa(i,Qa);return!(e&&n&&i.indexOf(n)>i.indexOf(e))}function nV(t,e,i){if(!iV(t))throw new Fi(cn,"Unexpected parent node type "+t.nodeType);if(i&&i.parentNode!==t)throw new Fi(eA,"child not in parent");if(!rV(e)||Qa(e)&&t.nodeType!==ai.DOCUMENT_NODE)throw new Fi(cn,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function sV(t,e,i){var r=t.childNodes||[],n=e.childNodes||[];if(e.nodeType===ai.DOCUMENT_FRAGMENT_NODE){var s=n.filter(oa);if(s.length>1||aa(n,Jv))throw new Fi(cn,"More than one element or text in fragment");if(s.length===1&&!hx(t,i))throw new Fi(cn,"Element in fragment can not be inserted before doctype")}if(oa(e)&&!hx(t,i))throw new Fi(cn,"Only one element can be added and only after doctype");if(Qa(e)){if(aa(r,Qa))throw new Fi(cn,"Only one doctype is allowed");var a=aa(r,oa);if(i&&r.indexOf(a)<r.indexOf(i))throw new Fi(cn,"Doctype can only be inserted before an element");if(!i&&a)throw new Fi(cn,"Doctype can not be appended since element is present")}}function aA(t,e,i){var r=t.childNodes||[],n=e.childNodes||[];if(e.nodeType===ai.DOCUMENT_FRAGMENT_NODE){var s=n.filter(oa);if(s.length>1||aa(n,Jv))throw new Fi(cn,"More than one element or text in fragment");if(s.length===1&&!px(t,i))throw new Fi(cn,"Element in fragment can not be inserted before doctype")}if(oa(e)&&!px(t,i))throw new Fi(cn,"Only one element can be added and only after doctype");if(Qa(e)){if(aa(r,function(l){return Qa(l)&&l!==i}))throw new Fi(cn,"Only one doctype is allowed");var a=aa(r,oa);if(i&&r.indexOf(a)<r.indexOf(i))throw new Fi(cn,"Doctype can only be inserted before an element")}}function M1(t,e,i,r){nV(t,e,i),t.nodeType===ai.DOCUMENT_NODE&&(r||sV)(t,e,i);var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===Ja){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var o=i?i.previousSibling:t.lastChild;s.previousSibling=o,a.nextSibling=i,o?o.nextSibling=s:t.firstChild=s,i==null?t.lastChild=a:i.previousSibling=a;do s.parentNode=t;while(s!==a&&(s=s.nextSibling));return Zv(t.ownerDocument||t,t),e.nodeType==Ja&&(e.firstChild=e.lastChild=null),e}function aV(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,Zv(t.ownerDocument,t,e),e}hp.prototype={nodeName:"#document",nodeType:JE,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Ja){for(var i=t.firstChild;i;){var r=i.nextSibling;this.insertBefore(i,e),i=r}return t}return M1(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===Cs&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),sA(this,t)},replaceChild:function(t,e){M1(this,t,e,aA),t.ownerDocument=this,e&&this.removeChild(e),oa(t)&&(this.documentElement=t)},importNode:function(t,e){return dA(this,t,e)},getElementById:function(t){var e=null;return jh(this.documentElement,function(i){if(i.nodeType==Cs&&i.getAttribute("id")==t)return e=i,!0}),e},getElementsByClassName:function(t){var e=lx(t);return new p0(this,function(i){var r=[];return e.length>0&&jh(i.documentElement,function(n){if(n!==i&&n.nodeType===Cs){var s=n.getAttribute("class");if(s){var a=t===s;if(!a){var o=lx(s);a=e.every(Jj(o))}a&&r.push(n)}}}),r})},createElement:function(t){var e=new Lu;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Va;var i=e.attributes=new A1;return i._ownerElement=e,e},createDocumentFragment:function(){var t=new Yg;return t.ownerDocument=this,t.childNodes=new Va,t},createTextNode:function(t){var e=new Qv;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new eb;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new tb;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var i=new rb;return i.ownerDocument=this,i.tagName=i.nodeName=i.target=t,i.nodeValue=i.data=e,i},createAttribute:function(t){var e=new D1;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new ib;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var i=new Lu,r=e.split(":"),n=i.attributes=new A1;return i.childNodes=new Va,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=t,r.length==2?(i.prefix=r[0],i.localName=r[1]):i.localName=e,n._ownerElement=i,i},createAttributeNS:function(t,e){var i=new D1,r=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=t,i.specified=!0,r.length==2?(i.prefix=r[0],i.localName=r[1]):i.localName=e,i}};vn(hp,ai);function Lu(){this._nsMap={}}Lu.prototype={nodeType:Cs,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var i=this.ownerDocument.createAttribute(t);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Ja?this.insertBefore(t,null):aV(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);return i&&i.value||""},setAttributeNS:function(t,e,i){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+i,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new p0(this,function(e){var i=[];return jh(e,function(r){r!==e&&r.nodeType==Cs&&(t==="*"||r.tagName==t)&&i.push(r)}),i})},getElementsByTagNameNS:function(t,e){return new p0(this,function(i){var r=[];return jh(i,function(n){n!==i&&n.nodeType===Cs&&(t==="*"||n.namespaceURI===t)&&(e==="*"||n.localName==e)&&r.push(n)}),r})}};hp.prototype.getElementsByTagName=Lu.prototype.getElementsByTagName;hp.prototype.getElementsByTagNameNS=Lu.prototype.getElementsByTagNameNS;vn(Lu,ai);function D1(){}D1.prototype.nodeType=h0;vn(D1,ai);function pp(){}pp.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(fr[cn])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,i){var r=this.data.substring(0,t),n=this.data.substring(t+e);i=r+i+n,this.nodeValue=this.data=i,this.length=i.length}};vn(pp,ai);function Qv(){}Qv.prototype={nodeName:"#text",nodeType:E1,splitText:function(t){var e=this.data,i=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};vn(Qv,pp);function eb(){}eb.prototype={nodeName:"#comment",nodeType:ZE};vn(eb,pp);function tb(){}tb.prototype={nodeName:"#cdata-section",nodeType:GE};vn(tb,pp);function Xg(){}Xg.prototype.nodeType=QE;vn(Xg,ai);function oA(){}oA.prototype.nodeType=eV;vn(oA,ai);function lA(){}lA.prototype.nodeType=Qj;vn(lA,ai);function ib(){}ib.prototype.nodeType=XE;vn(ib,ai);function Yg(){}Yg.prototype.nodeName="#document-fragment";Yg.prototype.nodeType=Ja;vn(Yg,ai);function rb(){}rb.prototype.nodeType=YE;vn(rb,ai);function uA(){}uA.prototype.serializeToString=function(t,e,i){return cA.call(t,e,i)};ai.prototype.toString=cA;function cA(t,e){var i=[],r=this.nodeType==9&&this.documentElement||this,n=r.prefix,s=r.namespaceURI;if(s&&n==null){var n=r.lookupPrefix(s);if(n==null)var a=[{namespace:s,prefix:null}]}return Lc(this,i,t,e,a),i.join("")}function fx(t,e,i){var r=t.prefix||"",n=t.namespaceURI;if(!n||r==="xml"&&n===qh.XML||n===qh.XMLNS)return!1;for(var s=i.length;s--;){var a=i[s];if(a.prefix===r)return a.namespace!==n}return!0}function B4(t,e,i){t.push(" ",e,'="',i.replace(/[<>&"\t\n\r]/g,rA),'"')}function Lc(t,e,i,r,n){if(n||(n=[]),r)if(t=r(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Cs:var s=t.attributes,a=s.length,S=t.firstChild,o=t.tagName;i=qh.isHTML(t.namespaceURI)||i;var l=o;if(!i&&!t.prefix&&t.namespaceURI){for(var u,c=0;c<s.length;c++)if(s.item(c).name==="xmlns"){u=s.item(c).value;break}if(!u)for(var d=n.length-1;d>=0;d--){var h=n[d];if(h.prefix===""&&h.namespace===t.namespaceURI){u=h.namespace;break}}if(u!==t.namespaceURI)for(var d=n.length-1;d>=0;d--){var h=n[d];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+o);break}}}e.push("<",l);for(var f=0;f<a;f++){var g=s.item(f);g.prefix=="xmlns"?n.push({prefix:g.localName,namespace:g.value}):g.nodeName=="xmlns"&&n.push({prefix:"",namespace:g.value})}for(var f=0;f<a;f++){var g=s.item(f);if(fx(g,i,n)){var y=g.prefix||"",C=g.namespaceURI;B4(e,y?"xmlns:"+y:"xmlns",C),n.push({prefix:y,namespace:C})}Lc(g,e,i,r,n)}if(o===l&&fx(t,i,n)){var y=t.prefix||"",C=t.namespaceURI;B4(e,y?"xmlns:"+y:"xmlns",C),n.push({prefix:y,namespace:C})}if(S||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),i&&/^script$/i.test(o))for(;S;)S.data?e.push(S.data):Lc(S,e,i,r,n.slice()),S=S.nextSibling;else for(;S;)Lc(S,e,i,r,n.slice()),S=S.nextSibling;e.push("</",l,">")}else e.push("/>");return;case JE:case Ja:for(var S=t.firstChild;S;)Lc(S,e,i,r,n.slice()),S=S.nextSibling;return;case h0:return B4(e,t.name,t.value);case E1:return e.push(t.data.replace(/[<&>]/g,rA));case GE:return e.push("<![CDATA[",t.data,"]]>");case ZE:return e.push("<!--",t.data,"-->");case QE:var A=t.publicId,T=t.systemId;if(e.push("<!DOCTYPE ",t.name),A)e.push(" PUBLIC ",A),T&&T!="."&&e.push(" ",T),e.push(">");else if(T&&T!=".")e.push(" SYSTEM ",T,">");else{var M=t.internalSubset;M&&e.push(" [",M,"]"),e.push(">")}return;case YE:return e.push("<?",t.target," ",t.data,"?>");case XE:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function dA(t,e,i){var r;switch(e.nodeType){case Cs:r=e.cloneNode(!1),r.ownerDocument=t;case Ja:break;case h0:i=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,i)for(var n=e.firstChild;n;)r.appendChild(dA(t,n,i)),n=n.nextSibling;return r}function jy(t,e,i){var r=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=e[n];typeof s!="object"&&s!=r[n]&&(r[n]=s)}switch(e.childNodes&&(r.childNodes=new Va),r.ownerDocument=t,r.nodeType){case Cs:var a=e.attributes,o=r.attributes=new A1,l=a.length;o._ownerElement=r;for(var u=0;u<l;u++)r.setAttributeNode(jy(t,a.item(u),!0));break;case h0:i=!0}if(i)for(var c=e.firstChild;c;)r.appendChild(jy(t,c,i)),c=c.nextSibling;return r}function hA(t,e,i){t[e]=i}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Cs:case Ja:var i=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&i.push(t(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}};Object.defineProperty(p0.prototype,"length",{get:function(){return Yv(this),this.$$length}}),Object.defineProperty(ai.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Cs:case Ja:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),hA=function(e,i,r){e["$$"+i]=r}}}catch{}wl.DocumentType=Xg;wl.DOMException=Fi;wl.DOMImplementation=iA;wl.Element=Lu;wl.Node=ai;wl.NodeList=Va;wl.XMLSerializer=uA;var Zg={},pA={};(function(t){var e=co.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(pA);var nb={},Vh=co.NAMESPACE,Vy=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,mx=new RegExp("[\\-\\.0-9"+Vy.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),gx=new RegExp("^"+Vy.source+mx.source+"*(?::"+Vy.source+mx.source+"*)?$"),yd=0,wo=1,tc=2,vd=3,ic=4,rc=5,bd=6,bf=7;function f0(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,f0)}f0.prototype=new Error;f0.prototype.name=f0.name;function fA(){}fA.prototype={parse:function(t,e,i){var r=this.domBuilder;r.startDocument(),mA(e,e={}),oV(t,e,i,r,this.errorHandler),r.endDocument()}};function oV(t,e,i,r,n){function s(Me){if(Me>65535){Me-=65536;var me=55296+(Me>>10),be=56320+(Me&1023);return String.fromCharCode(me,be)}else return String.fromCharCode(Me)}function a(Me){var me=Me.slice(1,-1);return Object.hasOwnProperty.call(i,me)?i[me]:me.charAt(0)==="#"?s(parseInt(me.substr(1).replace("x","0x"))):(n.error("entity not found:"+Me),Me)}function o(Me){if(Me>y){var me=t.substring(y,Me).replace(/&#?\w+;/g,a);h&&l(y),r.characters(me,0,Me-y),y=Me}}function l(Me,me){for(;Me>=c&&(me=d.exec(t));)u=me.index,c=u+me[0].length,h.lineNumber++;h.columnNumber=Me-u+1}for(var u=0,c=0,d=/.*(?:\r\n?|\n)|.*$/g,h=r.locator,f=[{currentNSMap:e}],g={},y=0;;){try{var C=t.indexOf("<",y);if(C<0){if(!t.substr(y).match(/^\s*$/)){var S=r.doc,A=S.createTextNode(t.substr(y));S.appendChild(A),r.currentElement=A}return}switch(C>y&&o(C),t.charAt(C+1)){case"/":var J=t.indexOf(">",C+3),T=t.substring(C+2,J).replace(/[ \t\n\r]+$/g,""),M=f.pop();J<0?(T=t.substring(C+2).replace(/[\s<].*/,""),n.error("end tag name: "+T+" is not complete:"+M.tagName),J=C+1+T.length):T.match(/\s</)&&(T=T.replace(/[\s<].*/,""),n.error("end tag name: "+T+" maybe not complete"),J=C+1+T.length);var D=M.localNSMap,B=M.tagName==T,F=B||M.tagName&&M.tagName.toLowerCase()==T.toLowerCase();if(F){if(r.endElement(M.uri,M.localName,T),D)for(var V in D)Object.prototype.hasOwnProperty.call(D,V)&&r.endPrefixMapping(V);B||n.fatalError("end tag name: "+T+" is not match the current start tagName:"+M.tagName)}else f.push(M);J++;break;case"?":h&&l(C),J=hV(t,C,r);break;case"!":h&&l(C),J=dV(t,C,r,n);break;default:h&&l(C);var O=new gA,U=f[f.length-1].currentNSMap,J=lV(t,C,O,U,a,n),Y=O.length;if(!O.closed&&cV(t,J,O.tagName,g)&&(O.closed=!0,i.nbsp||n.warning("unclosed xml attribute")),h&&Y){for(var ie=yx(h,{}),ce=0;ce<Y;ce++){var qe=O[ce];l(qe.offset),qe.locator=yx(h,{})}r.locator=ie,vx(O,r,U)&&f.push(O),r.locator=h}else vx(O,r,U)&&f.push(O);Vh.isHTML(O.uri)&&!O.closed?J=uV(t,J,O.tagName,a,r):J++}}catch(Me){if(Me instanceof f0)throw Me;n.error("element parse error: "+Me),J=-1}J>y?y=J:o(Math.max(C,y)+1)}}function yx(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function lV(t,e,i,r,n,s){function a(h,f,g){i.attributeNames.hasOwnProperty(h)&&s.fatalError("Attribute "+h+" redefined"),i.addValue(h,f.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,n),g)}for(var o,l,u=++e,c=yd;;){var d=t.charAt(u);switch(d){case"=":if(c===wo)o=t.slice(e,u),c=vd;else if(c===tc)c=vd;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===vd||c===wo)if(c===wo&&(s.warning('attribute value must after "="'),o=t.slice(e,u)),e=u+1,u=t.indexOf(d,e),u>0)l=t.slice(e,u),a(o,l,e-1),c=rc;else throw new Error("attribute value no end '"+d+"' match");else if(c==ic)l=t.slice(e,u),a(o,l,e),s.warning('attribute "'+o+'" missed start quot('+d+")!!"),e=u+1,c=rc;else throw new Error('attribute value must after "="');break;case"/":switch(c){case yd:i.setTagName(t.slice(e,u));case rc:case bd:case bf:c=bf,i.closed=!0;case ic:case wo:break;case tc:i.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),c==yd&&i.setTagName(t.slice(e,u)),u;case">":switch(c){case yd:i.setTagName(t.slice(e,u));case rc:case bd:case bf:break;case ic:case wo:l=t.slice(e,u),l.slice(-1)==="/"&&(i.closed=!0,l=l.slice(0,-1));case tc:c===tc&&(l=o),c==ic?(s.warning('attribute "'+l+'" missed quot(")!'),a(o,l,e)):((!Vh.isHTML(r[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case vd:throw new Error("attribute value missed!!")}return u;case"":d=" ";default:if(d<=" ")switch(c){case yd:i.setTagName(t.slice(e,u)),c=bd;break;case wo:o=t.slice(e,u),c=tc;break;case ic:var l=t.slice(e,u);s.warning('attribute "'+l+'" missed quot(")!!'),a(o,l,e);case rc:c=bd;break}else switch(c){case tc:i.tagName,(!Vh.isHTML(r[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=u,c=wo;break;case rc:s.warning('attribute space is required"'+o+'"!!');case bd:c=wo,e=u;break;case vd:c=ic,e=u;break;case bf:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function vx(t,e,i){for(var r=t.tagName,n=null,d=t.length;d--;){var s=t[d],a=s.qName,o=s.value,h=a.indexOf(":");if(h>0)var l=s.prefix=a.slice(0,h),u=a.slice(h+1),c=l==="xmlns"&&u;else u=a,l=null,c=a==="xmlns"&&"";s.localName=u,c!==!1&&(n==null&&(n={},mA(i,i={})),i[c]=n[c]=o,s.uri=Vh.XMLNS,e.startPrefixMapping(c,o))}for(var d=t.length;d--;){s=t[d];var l=s.prefix;l&&(l==="xml"&&(s.uri=Vh.XML),l!=="xmlns"&&(s.uri=i[l||""]))}var h=r.indexOf(":");h>0?(l=t.prefix=r.slice(0,h),u=t.localName=r.slice(h+1)):(l=null,u=t.localName=r);var f=t.uri=i[l||""];if(e.startElement(f,u,r,t),t.closed){if(e.endElement(f,u,r),n)for(l in n)Object.prototype.hasOwnProperty.call(n,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=i,t.localNSMap=n,!0}function uV(t,e,i,r,n){if(/^(?:script|textarea)$/i.test(i)){var s=t.indexOf("</"+i+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(i)?(n.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,r),n.characters(a,0,a.length),s)}return e+1}function cV(t,e,i,r){var n=r[i];return n==null&&(n=t.lastIndexOf("</"+i+">"),n<e&&(n=t.lastIndexOf("</"+i)),r[i]=n),n<e}function mA(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}function dV(t,e,i,r){var n=t.charAt(e+2);switch(n){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(i.comment(t,e+4,s-e-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return i.startCDATA(),i.characters(t,e+9,s-e-9),i.endCDATA(),s+3}var a=pV(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],u=!1,c=!1;o>3&&(/^public$/i.test(a[2][0])?(u=a[3][0],c=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var d=a[o-1];return i.startDTD(l,u,c),i.endDTD(),d.index+d[0].length}}return-1}function hV(t,e,i){var r=t.indexOf("?>",e);if(r){var n=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return n?(n[0].length,i.processingInstruction(n[1],n[2]),r+2):-1}return-1}function gA(){this.attributeNames={}}gA.prototype={setTagName:function(t){if(!gx.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,i){if(!gx.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:i}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function pV(t,e){var i,r=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=e,n.exec(t);i=n.exec(t);)if(r.push(i),i[1])return r}nb.XMLReader=fA;nb.ParseError=f0;var fV=co,mV=wl,bx=pA,yA=nb,gV=mV.DOMImplementation,xx=fV.NAMESPACE,yV=yA.ParseError,vV=yA.XMLReader;function vA(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function bA(t){this.options=t||{locator:{}}}bA.prototype.parseFromString=function(t,e){var i=this.options,r=new vV,n=i.domBuilder||new fp,s=i.errorHandler,a=i.locator,o=i.xmlns||{},l=/\/x?html?$/.test(e),u=l?bx.HTML_ENTITIES:bx.XML_ENTITIES;a&&n.setDocumentLocator(a),r.errorHandler=bV(s,n,a),r.domBuilder=i.domBuilder||n,l&&(o[""]=xx.HTML),o.xml=o.xml||xx.XML;var c=i.normalizeLineEndings||vA;return t&&typeof t=="string"?r.parse(c(t),o,u):r.errorHandler.error("invalid doc source"),n.doc};function bV(t,e,i){if(!t){if(e instanceof fp)return e;t=e}var r={},n=t instanceof Function;i=i||{};function s(a){var o=t[a];!o&&n&&(o=t.length==2?function(l){t(a,l)}:t),r[a]=o&&function(l){o("[xmldom "+a+"]	"+l+Hy(i))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function fp(){this.cdata=!1}function nc(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}fp.prototype={startDocument:function(){this.doc=new gV().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,i,r){var n=this.doc,s=n.createElementNS(t,i||e),a=r.length;xf(this,s),this.currentElement=s,this.locator&&nc(this.locator,s);for(var o=0;o<a;o++){var t=r.getURI(o),l=r.getValue(o),i=r.getQName(o),u=n.createAttributeNS(t,i);this.locator&&nc(r.getLocator(o),u),u.value=u.nodeValue=l,s.setAttributeNode(u)}},endElement:function(t,e,i){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var i=this.doc.createProcessingInstruction(t,e);this.locator&&nc(this.locator,i),xf(this,i)},ignorableWhitespace:function(t,e,i){},characters:function(t,e,i){if(t=_x.apply(this,arguments),t){if(this.cdata)var r=this.doc.createCDATASection(t);else var r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&nc(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,i){t=_x.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&nc(this.locator,r),xf(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,i){var r=this.doc.implementation;if(r&&r.createDocumentType){var n=r.createDocumentType(t,e,i);this.locator&&nc(this.locator,n),xf(this,n),this.doc.doctype=n}},warning:function(t){console.warn("[xmldom warning]	"+t,Hy(this.locator))},error:function(t){console.error("[xmldom error]	"+t,Hy(this.locator))},fatalError:function(t){throw new yV(t,this.locator)}};function Hy(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function _x(t,e,i){return typeof t=="string"?t.substr(e,i):t.length>=e+i||e?new java.lang.String(t,e,i)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){fp.prototype[t]=function(){return null}});function xf(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Zg.__DOMHandler=fp;Zg.normalizeLineEndings=vA;Zg.DOMParser=bA;var xV=Zg.DOMParser;/*! @name mpd-parser @version 1.3.0 @license Apache-2.0 */const wx=t=>!!t&&typeof t=="object",dr=(...t)=>t.reduce((e,i)=>(typeof i!="object"||Object.keys(i).forEach(r=>{Array.isArray(e[r])&&Array.isArray(i[r])?e[r]=e[r].concat(i[r]):wx(e[r])&&wx(i[r])?e[r]=dr(e[r],i[r]):e[r]=i[r]}),e),{}),xA=t=>Object.keys(t).map(e=>t[e]),_V=(t,e)=>{const i=[];for(let r=t;r<e;r++)i.push(r);return i},m0=t=>t.reduce((e,i)=>e.concat(i),[]),_A=t=>{if(!t.length)return[];const e=[];for(let i=0;i<t.length;i++)e.push(t[i]);return e},wV=(t,e)=>t.reduce((i,r,n)=>(r[e]&&i.push(n),i),[]),SV=(t,e)=>xA(t.reduce((i,r)=>(r.forEach(n=>{i[e(n)]=n}),i),{}));var g0={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const Hh=({baseUrl:t="",source:e="",range:i="",indexRange:r=""})=>{const n={uri:e,resolvedUri:Gg(t||"",e)};if(i||r){const a=(i||r).split("-");let o=H.BigInt?H.BigInt(a[0]):parseInt(a[0],10),l=H.BigInt?H.BigInt(a[1]):parseInt(a[1],10);o<Number.MAX_SAFE_INTEGER&&typeof o=="bigint"&&(o=Number(o)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let u;typeof l=="bigint"||typeof o=="bigint"?u=H.BigInt(l)-H.BigInt(o)+H.BigInt(1):u=l-o+1,typeof u=="bigint"&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),n.byterange={length:u,offset:o}}return n},CV=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=H.BigInt(t.offset)+H.BigInt(t.length)-H.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},Sx=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),kV={static(t){const{duration:e,timescale:i=1,sourceDuration:r,periodDuration:n}=t,s=Sx(t.endNumber),a=e/i;return typeof s=="number"?{start:0,end:s}:typeof n=="number"?{start:0,end:n/a}:{start:0,end:r/a}},dynamic(t){const{NOW:e,clientOffset:i,availabilityStartTime:r,timescale:n=1,duration:s,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:l=1/0}=t,u=Sx(t.endNumber),c=(e+i)/1e3,d=r+a,f=c+o-d,g=Math.ceil(f*n/s),y=Math.floor((c-d-l)*n/s),C=Math.floor((c-d)*n/s);return{start:Math.max(0,y),end:typeof u=="number"?u:Math.min(g,C)}}},TV=t=>e=>{const{duration:i,timescale:r=1,periodStart:n,startNumber:s=1}=t;return{number:s+e,duration:i/r,timeline:n,time:e*i}},sb=t=>{const{type:e,duration:i,timescale:r=1,periodDuration:n,sourceDuration:s}=t,{start:a,end:o}=kV[e](t),l=_V(a,o).map(TV(t));if(e==="static"){const u=l.length-1,c=typeof n=="number"?n:s;l[u].duration=c-i/r*u}return l},wA=t=>{const{baseUrl:e,initialization:i={},sourceDuration:r,indexRange:n="",periodStart:s,presentationTime:a,number:o=0,duration:l}=t;if(!e)throw new Error(g0.NO_BASE_URL);const u=Hh({baseUrl:e,source:i.sourceURL,range:i.range}),c=Hh({baseUrl:e,source:e,indexRange:n});if(c.map=u,l){const d=sb(t);d.length&&(c.duration=d[0].duration,c.timeline=d[0].timeline)}else r&&(c.duration=r,c.timeline=s);return c.presentationTime=a||s,c.number=o,[c]},ab=(t,e,i)=>{const r=t.sidx.map?t.sidx.map:null,n=t.sidx.duration,s=t.timeline||0,a=t.sidx.byterange,o=a.offset+a.length,l=e.timescale,u=e.references.filter(C=>C.referenceType!==1),c=[],d=t.endList?"static":"dynamic",h=t.sidx.timeline;let f=h,g=t.mediaSequence||0,y;typeof e.firstOffset=="bigint"?y=H.BigInt(o)+e.firstOffset:y=o+e.firstOffset;for(let C=0;C<u.length;C++){const S=e.references[C],A=S.referencedSize,T=S.subsegmentDuration;let M;typeof y=="bigint"?M=y+H.BigInt(A)-H.BigInt(1):M=y+A-1;const D=`${y}-${M}`,F=wA({baseUrl:i,timescale:l,timeline:s,periodStart:h,presentationTime:f,number:g,duration:T,sourceDuration:n,indexRange:D,type:d})[0];r&&(F.map=r),c.push(F),typeof y=="bigint"?y+=H.BigInt(A):y+=A,f+=T/l,g++}return t.segments=c,t},EV=["AUDIO","SUBTITLES"],AV=1/60,SA=t=>SV(t,({timeline:e})=>e).sort((e,i)=>e.timeline>i.timeline?1:-1),MV=(t,e)=>{for(let i=0;i<t.length;i++)if(t[i].attributes.NAME===e)return t[i];return null},Cx=t=>{let e=[];return Vj(t,EV,(i,r,n,s)=>{e=e.concat(i.playlists||[])}),e},kx=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((i,r)=>{i.number=t.mediaSequence+r})},DV=({oldPlaylists:t,newPlaylists:e,timelineStarts:i})=>{e.forEach(r=>{r.discontinuitySequence=i.findIndex(function({timeline:l}){return l===r.timeline});const n=MV(t,r.attributes.NAME);if(!n||r.sidx)return;const s=r.segments[0],a=n.segments.findIndex(function(l){return Math.abs(l.presentationTime-s.presentationTime)<AV});if(a===-1){kx({playlist:r,mediaSequence:n.mediaSequence+n.segments.length}),r.segments[0].discontinuity=!0,r.discontinuityStarts.unshift(0),(!n.segments.length&&r.timeline>n.timeline||n.segments.length&&r.timeline>n.segments[n.segments.length-1].timeline)&&r.discontinuitySequence--;return}n.segments[a].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,r.discontinuityStarts.unshift(0),r.discontinuitySequence--),kx({playlist:r,mediaSequence:n.segments[a].number})})},LV=({oldManifest:t,newManifest:e})=>{const i=t.playlists.concat(Cx(t)),r=e.playlists.concat(Cx(e));return e.timelineStarts=SA([t.timelineStarts,e.timelineStarts]),DV({oldPlaylists:i,newPlaylists:r,timelineStarts:e.timelineStarts}),e},Jg=t=>t&&t.uri+"-"+CV(t.byterange),P4=t=>{const e=t.reduce(function(r,n){return r[n.attributes.baseUrl]||(r[n.attributes.baseUrl]=[]),r[n.attributes.baseUrl].push(n),r},{});let i=[];return Object.values(e).forEach(r=>{const n=xA(r.reduce((s,a)=>{const o=a.attributes.id+(a.attributes.lang||"");return s[o]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),s[o].segments.push(...a.segments)),a.attributes.contentProtection&&(s[o].attributes.contentProtection=a.attributes.contentProtection)):(s[o]=a,s[o].attributes.timelineStarts=[]),s[o].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),s},{}));i=i.concat(n)}),i.map(r=>(r.discontinuityStarts=wV(r.segments||[],"discontinuity"),r))},ob=(t,e)=>{const i=Jg(t.sidx),r=i&&e[i]&&e[i].sidx;return r&&ab(t,r,t.sidx.resolvedUri),t},BV=(t,e={})=>{if(!Object.keys(e).length)return t;for(const i in t)t[i]=ob(t[i],e);return t},PV=({attributes:t,segments:e,sidx:i,mediaSequence:r,discontinuitySequence:n,discontinuityStarts:s},a)=>{const o={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:n,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:r,segments:e};return t.contentProtection&&(o.contentProtection=t.contentProtection),t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),i&&(o.sidx=i),a&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},IV=({attributes:t,segments:e,mediaSequence:i,discontinuityStarts:r,discontinuitySequence:n})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const a={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:r,discontinuitySequence:n,mediaSequence:i,segments:e};return t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),a},RV=(t,e={},i=!1)=>{let r;const n=t.reduce((s,a)=>{const o=a.attributes.role&&a.attributes.role.value||"",l=a.attributes.lang||"";let u=a.attributes.label||"main";if(l&&!a.attributes.label){const d=o?` (${o})`:"";u=`${a.attributes.lang}${d}`}s[u]||(s[u]={language:l,autoselect:!0,default:o==="main",playlists:[],uri:""});const c=ob(PV(a,i),e);return s[u].playlists.push(c),typeof r>"u"&&o==="main"&&(r=a,r.default=!0),s},{});if(!r){const s=Object.keys(n)[0];n[s].default=!0}return n},OV=(t,e={})=>t.reduce((i,r)=>{const n=r.attributes.label||r.attributes.lang||"text";return i[n]||(i[n]={language:n,default:!1,autoselect:!1,playlists:[],uri:""}),i[n].playlists.push(ob(IV(r),e)),i},{}),FV=t=>t.reduce((e,i)=>(i&&i.forEach(r=>{const{channel:n,language:s}=r;e[s]={autoselect:!1,default:!1,instreamId:n,language:s},r.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(e[s].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(e[s]["3D"]=r["3D"])}),e),{}),NV=({attributes:t,segments:e,sidx:i,discontinuityStarts:r})=>{const n={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:r,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(n.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(n.contentProtection=t.contentProtection),t.serviceLocation&&(n.attributes.serviceLocation=t.serviceLocation),i&&(n.sidx=i),n},$V=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",zV=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",UV=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",qV=(t,e)=>{t.forEach(i=>{i.mediaSequence=0,i.discontinuitySequence=e.findIndex(function({timeline:r}){return r===i.timeline}),i.segments&&i.segments.forEach((r,n)=>{r.number=n})})},Tx=t=>t?Object.keys(t).reduce((e,i)=>{const r=t[i];return e.concat(r.playlists)},[]):[],jV=({dashPlaylists:t,locations:e,contentSteering:i,sidxMapping:r={},previousManifest:n,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:a,type:o,suggestedPresentationDelay:l,minimumUpdatePeriod:u}=t[0].attributes,c=P4(t.filter($V)).map(NV),d=P4(t.filter(zV)),h=P4(t.filter(UV)),f=t.map(M=>M.attributes.captionServices).filter(Boolean),g={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:BV(c,r)};u>=0&&(g.minimumUpdatePeriod=u*1e3),e&&(g.locations=e),i&&(g.contentSteering=i),o==="dynamic"&&(g.suggestedPresentationDelay=l),s&&s.length>0&&(g.eventStream=s);const y=g.playlists.length===0,C=d.length?RV(d,r,y):null,S=h.length?OV(h,r):null,A=c.concat(Tx(C),Tx(S)),T=A.map(({timelineStarts:M})=>M);return g.timelineStarts=SA(T),qV(A,g.timelineStarts),C&&(g.mediaGroups.AUDIO.audio=C),S&&(g.mediaGroups.SUBTITLES.subs=S),f.length&&(g.mediaGroups["CLOSED-CAPTIONS"].cc=FV(f)),n?LV({oldManifest:n,newManifest:g}):g},VV=(t,e,i)=>{const{NOW:r,clientOffset:n,availabilityStartTime:s,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:l=0}=t,u=(r+n)/1e3,c=s+o,h=u+l-c;return Math.ceil((h*a-e)/i)},CA=(t,e)=>{const{type:i,minimumUpdatePeriod:r=0,media:n="",sourceDuration:s,timescale:a=1,startNumber:o=1,periodStart:l}=t,u=[];let c=-1;for(let d=0;d<e.length;d++){const h=e[d],f=h.d,g=h.r||0,y=h.t||0;c<0&&(c=y),y&&y>c&&(c=y);let C;if(g<0){const T=d+1;T===e.length?i==="dynamic"&&r>0&&n.indexOf("$Number$")>0?C=VV(t,c,f):C=(s*a-c)/f:C=(e[T].t-c)/f}else C=g+1;const S=o+u.length+C;let A=o+u.length;for(;A<S;)u.push({number:A,duration:f/a,time:c,timeline:l}),c+=f,A++}return u},HV=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,KV=t=>(e,i,r,n)=>{if(e==="$$")return"$";if(typeof t[i]>"u")return e;const s=""+t[i];return i==="RepresentationID"||(r?n=parseInt(n,10):n=1,s.length>=n)?s:`${new Array(n-s.length+1).join("0")}${s}`},Ex=(t,e)=>t.replace(HV,KV(e)),WV=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?sb(t):CA(t,e),GV=(t,e)=>{const i={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:r={sourceURL:"",range:""}}=t,n=Hh({baseUrl:t.baseUrl,source:Ex(r.sourceURL,i),range:r.range});return WV(t,e).map(a=>{i.Number=a.number,i.Time=a.time;const o=Ex(t.media||"",i),l=t.timescale||1,u=t.presentationTimeOffset||0,c=t.periodStart+(a.time-u)/l;return{uri:o,timeline:a.timeline,duration:a.duration,resolvedUri:Gg(t.baseUrl||"",o),map:n,number:a.number,presentationTime:c}})},XV=(t,e)=>{const{baseUrl:i,initialization:r={}}=t,n=Hh({baseUrl:i,source:r.sourceURL,range:r.range}),s=Hh({baseUrl:i,source:e.media,range:e.mediaRange});return s.map=n,s},YV=(t,e)=>{const{duration:i,segmentUrls:r=[],periodStart:n}=t;if(!i&&!e||i&&e)throw new Error(g0.SEGMENT_TIME_UNSPECIFIED);const s=r.map(l=>XV(t,l));let a;return i&&(a=sb(t)),e&&(a=CA(t,e)),a.map((l,u)=>{if(s[u]){const c=s[u],d=t.timescale||1,h=t.presentationTimeOffset||0;return c.timeline=l.timeline,c.duration=l.duration,c.number=l.number,c.presentationTime=n+(l.time-h)/d,c}}).filter(l=>l)},ZV=({attributes:t,segmentInfo:e})=>{let i,r;e.template?(r=GV,i=dr(t,e.template)):e.base?(r=wA,i=dr(t,e.base)):e.list&&(r=YV,i=dr(t,e.list));const n={attributes:t};if(!r)return n;const s=r(i,e.segmentTimeline);if(i.duration){const{duration:a,timescale:o=1}=i;i.duration=a/o}else s.length?i.duration=s.reduce((a,o)=>Math.max(a,Math.ceil(o.duration)),0):i.duration=0;return n.attributes=i,n.segments=s,e.base&&i.indexRange&&(n.sidx=s[0],n.segments=[]),n},JV=t=>t.map(ZV),xi=(t,e)=>_A(t.childNodes).filter(({tagName:i})=>i===e),mp=t=>t.textContent.trim(),QV=t=>parseFloat(t.split("/").reduce((e,i)=>e/i)),sc=t=>{const o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!o)return 0;const[l,u,c,d,h,f]=o.slice(1);return parseFloat(l||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(c||0)*86400+parseFloat(d||0)*3600+parseFloat(h||0)*60+parseFloat(f||0)},eH=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),Ax={mediaPresentationDuration(t){return sc(t)},availabilityStartTime(t){return eH(t)/1e3},minimumUpdatePeriod(t){return sc(t)},suggestedPresentationDelay(t){return sc(t)},type(t){return t},timeShiftBufferDepth(t){return sc(t)},start(t){return sc(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return QV(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?sc(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},Xi=t=>t&&t.attributes?_A(t.attributes).reduce((e,i)=>{const r=Ax[i.name]||Ax.DEFAULT;return e[i.name]=r(i.value),e},{}):{},tH={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},Qg=(t,e)=>e.length?m0(t.map(function(i){return e.map(function(r){const n=mp(r),s=Gg(i.baseUrl,n),a=dr(Xi(r),{baseUrl:s});return s!==n&&!a.serviceLocation&&i.serviceLocation&&(a.serviceLocation=i.serviceLocation),a})})):t,lb=t=>{const e=xi(t,"SegmentTemplate")[0],i=xi(t,"SegmentList")[0],r=i&&xi(i,"SegmentURL").map(d=>dr({tag:"SegmentURL"},Xi(d))),n=xi(t,"SegmentBase")[0],s=i||e,a=s&&xi(s,"SegmentTimeline")[0],o=i||n||e,l=o&&xi(o,"Initialization")[0],u=e&&Xi(e);u&&l?u.initialization=l&&Xi(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const c={template:u,segmentTimeline:a&&xi(a,"S").map(d=>Xi(d)),list:i&&dr(Xi(i),{segmentUrls:r,initialization:Xi(l)}),base:n&&dr(Xi(n),{initialization:Xi(l)})};return Object.keys(c).forEach(d=>{c[d]||delete c[d]}),c},iH=(t,e,i)=>r=>{const n=xi(r,"BaseURL"),s=Qg(e,n),a=dr(t,Xi(r)),o=lb(r);return s.map(l=>({segmentInfo:dr(i,o),attributes:dr(a,l)}))},rH=t=>t.reduce((e,i)=>{const r=Xi(i);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());const n=tH[r.schemeIdUri];if(n){e[n]={attributes:r};const s=xi(i,"cenc:pssh")[0];if(s){const a=mp(s);e[n].pssh=a&&Kj(a)}}return e},{}),nH=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(i=>{let r,n;return n=i,/^CC\d=/.test(i)?[r,n]=i.split("="):/^CC\d$/.test(i)&&(r=i),{channel:r,language:n}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(i=>{const r={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(i)){const[n,s=""]=i.split("=");r.channel=n,r.language=i,s.split(",").forEach(a=>{const[o,l]=a.split(":");o==="lang"?r.language=l:o==="er"?r.easyReader=Number(l):o==="war"?r.aspectRatio=Number(l):o==="3D"&&(r["3D"]=Number(l))})}else r.language=i;return r.channel&&(r.channel="SERVICE"+r.channel),r})},sH=t=>m0(xi(t.node,"EventStream").map(e=>{const i=Xi(e),r=i.schemeIdUri;return xi(e,"Event").map(n=>{const s=Xi(n),a=s.presentationTime||0,o=i.timescale||1,l=s.duration||0,u=a/o+t.attributes.start;return{schemeIdUri:r,value:i.value,id:s.id,start:u,end:u+l/o,messageData:mp(n)||s.messageData,contentEncoding:i.contentEncoding,presentationTimeOffset:i.presentationTimeOffset||0}})})),aH=(t,e,i)=>r=>{const n=Xi(r),s=Qg(e,xi(r,"BaseURL")),a=xi(r,"Role")[0],o={role:Xi(a)};let l=dr(t,n,o);const u=xi(r,"Accessibility")[0],c=nH(Xi(u));c&&(l=dr(l,{captionServices:c}));const d=xi(r,"Label")[0];if(d&&d.childNodes.length){const C=d.childNodes[0].nodeValue.trim();l=dr(l,{label:C})}const h=rH(xi(r,"ContentProtection"));Object.keys(h).length&&(l=dr(l,{contentProtection:h}));const f=lb(r),g=xi(r,"Representation"),y=dr(i,f);return m0(g.map(iH(l,s,y)))},oH=(t,e)=>(i,r)=>{const n=Qg(e,xi(i.node,"BaseURL")),s=dr(t,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(s.periodDuration=i.attributes.duration);const a=xi(i.node,"AdaptationSet"),o=lb(i.node);return m0(a.map(aH(s,n,o)))},lH=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const i=dr({serverURL:mp(t[0])},Xi(t[0]));return i.queryBeforeStart=i.queryBeforeStart==="true",i},uH=({attributes:t,priorPeriodAttributes:e,mpdType:i})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&i==="static"?0:null,cH=(t,e={})=>{const{manifestUri:i="",NOW:r=Date.now(),clientOffset:n=0,eventHandler:s=function(){}}=e,a=xi(t,"Period");if(!a.length)throw new Error(g0.INVALID_NUMBER_OF_PERIOD);const o=xi(t,"Location"),l=Xi(t),u=Qg([{baseUrl:i}],xi(t,"BaseURL")),c=xi(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=r,l.clientOffset=n,o.length&&(l.locations=o.map(mp));const d=[];return a.forEach((h,f)=>{const g=Xi(h),y=d[f-1];g.start=uH({attributes:g,priorPeriodAttributes:y?y.attributes:null,mpdType:l.type}),d.push({node:h,attributes:g})}),{locations:l.locations,contentSteeringInfo:lH(c,s),representationInfo:m0(d.map(oH(l,u))),eventStream:m0(d.map(sH))}},kA=t=>{if(t==="")throw new Error(g0.DASH_EMPTY_MANIFEST);const e=new xV;let i,r;try{i=e.parseFromString(t,"application/xml"),r=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(g0.DASH_INVALID_XML);return r},dH=t=>{const e=xi(t,"UTCTiming")[0];if(!e)return null;const i=Xi(e);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(g0.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},hH=(t,e={})=>{const i=cH(kA(t),e),r=JV(i.representationInfo);return jV({dashPlaylists:r,locations:i.locations,contentSteering:i.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:i.eventStream})},pH=t=>dH(kA(t));var TA=Math.pow(2,32),fH=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i;return e.getBigUint64?(i=e.getBigUint64(0),i<Number.MAX_SAFE_INTEGER?Number(i):i):e.getUint32(0)*TA+e.getUint32(4)},mH={getUint64:fH,MAX_UINT32:TA},Mx=mH.getUint64,gH=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},r=12;i.version===0?(i.earliestPresentationTime=e.getUint32(r),i.firstOffset=e.getUint32(r+4),r+=8):(i.earliestPresentationTime=Mx(t.subarray(r)),i.firstOffset=Mx(t.subarray(r+8)),r+=16),r+=2;var n=e.getUint16(r);for(r+=2;n>0;r+=12,n--)i.references.push({referenceType:(t[r]&128)>>>7,referencedSize:e.getUint32(r)&2147483647,subsegmentDuration:e.getUint32(r+4),startsWithSap:!!(t[r+8]&128),sapType:(t[r+8]&112)>>>4,sapDeltaTime:e.getUint32(r+8)&268435455});return i},yH=gH;const vH=Nu(yH);var bH=ct([73,68,51]),xH=function(e,i){i===void 0&&(i=0),e=ct(e);var r=e[i+5],n=e[i+6]<<21|e[i+7]<<14|e[i+8]<<7|e[i+9],s=(r&16)>>4;return s?n+20:n+10},th=function t(e,i){return i===void 0&&(i=0),e=ct(e),e.length-i<10||!vi(e,bH,{offset:i})?i:(i+=xH(e,i),t(e,i))},Dx=function(e){return typeof e=="string"?VE(e):e},_H=function(e){return Array.isArray(e)?e.map(function(i){return Dx(i)}):[Dx(e)]},wH=function t(e,i,r){r===void 0&&(r=!1),i=_H(i),e=ct(e);var n=[];if(!i.length)return n;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(a===0)break;var l=s+a;if(l>e.length){if(r)break;l=e.length}var u=e.subarray(s+8,l);vi(o,i[0])&&(i.length===1?n.push(u):n.push.apply(n,t(u,i.slice(1),r))),s=l}return n},_f={EBML:ct([26,69,223,163]),DocType:ct([66,130]),Segment:ct([24,83,128,103]),SegmentInfo:ct([21,73,169,102]),Tracks:ct([22,84,174,107]),Track:ct([174]),TrackNumber:ct([215]),DefaultDuration:ct([35,227,131]),TrackEntry:ct([174]),TrackType:ct([131]),FlagDefault:ct([136]),CodecID:ct([134]),CodecPrivate:ct([99,162]),VideoTrack:ct([224]),AudioTrack:ct([225]),Cluster:ct([31,67,182,117]),Timestamp:ct([231]),TimestampScale:ct([42,215,177]),BlockGroup:ct([160]),BlockDuration:ct([155]),Block:ct([161]),SimpleBlock:ct([163])},Ky=[128,64,32,16,8,4,2,1],SH=function(e){for(var i=1,r=0;r<Ky.length&&!(e&Ky[r]);r++)i++;return i},L1=function(e,i,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1);var s=SH(e[i]),a=e.subarray(i,i+s);return r&&(a=Array.prototype.slice.call(e,i,i+s),a[0]^=Ky[s-1]),{length:s,value:Uj(a,{signed:n}),bytes:a}},Lx=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(i){return t(i)}):typeof e=="number"?qj(e):e},CH=function(e){return Array.isArray(e)?e.map(function(i){return Lx(i)}):[Lx(e)]},kH=function t(e,i,r){if(r>=i.length)return i.length;var n=L1(i,r,!1);if(vi(e.bytes,n.bytes))return r;var s=L1(i,r+n.length);return t(e,i,r+s.length+s.value+n.length)},Bx=function t(e,i){i=CH(i),e=ct(e);var r=[];if(!i.length)return r;for(var n=0;n<e.length;){var s=L1(e,n,!1),a=L1(e,n+s.length),o=n+s.length+a.length;a.value===127&&(a.value=kH(s,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value,u=e.subarray(o,l);vi(i[0],s.bytes)&&(i.length===1?r.push(u):r=r.concat(t(u,i.slice(1))));var c=s.length+a.length+u.length;n+=c}return r},TH=ct([0,0,0,1]),EH=ct([0,0,1]),AH=ct([0,0,3]),MH=function(e){for(var i=[],r=1;r<e.length-2;)vi(e.subarray(r,r+3),AH)&&(i.push(r+2),r++),r++;if(i.length===0)return e;var n=e.length-i.length,s=new Uint8Array(n),a=0;for(r=0;r<n;a++,r++)a===i[0]&&(a++,i.shift()),s[r]=e[a];return s},EA=function(e,i,r,n){e=ct(e),r=[].concat(r);for(var s=0,a,o=0;s<e.length&&(o<n||a);){var l=void 0;if(vi(e.subarray(s),TH)?l=4:vi(e.subarray(s),EH)&&(l=3),!l){s++;continue}if(o++,a)return MH(e.subarray(a,s));var u=void 0;i==="h264"?u=e[s+l]&31:i==="h265"&&(u=e[s+l]>>1&63),r.indexOf(u)!==-1&&(a=s+l),s+=l+(i==="h264"?1:2)}return e.subarray(0,0)},DH=function(e,i,r){return EA(e,"h264",i,r)},LH=function(e,i,r){return EA(e,"h265",i,r)},$r={webm:ct([119,101,98,109]),matroska:ct([109,97,116,114,111,115,107,97]),flac:ct([102,76,97,67]),ogg:ct([79,103,103,83]),ac3:ct([11,119]),riff:ct([82,73,70,70]),avi:ct([65,86,73]),wav:ct([87,65,86,69]),"3gp":ct([102,116,121,112,51,103]),mp4:ct([102,116,121,112]),fmp4:ct([115,116,121,112]),mov:ct([102,116,121,112,113,116]),moov:ct([109,111,111,118]),moof:ct([109,111,111,102])},y0={aac:function(e){var i=th(e);return vi(e,[255,16],{offset:i,mask:[255,22]})},mp3:function(e){var i=th(e);return vi(e,[255,2],{offset:i,mask:[255,6]})},webm:function(e){var i=Bx(e,[_f.EBML,_f.DocType])[0];return vi(i,$r.webm)},mkv:function(e){var i=Bx(e,[_f.EBML,_f.DocType])[0];return vi(i,$r.matroska)},mp4:function(e){if(y0["3gp"](e)||y0.mov(e))return!1;if(vi(e,$r.mp4,{offset:4})||vi(e,$r.fmp4,{offset:4})||vi(e,$r.moof,{offset:4})||vi(e,$r.moov,{offset:4}))return!0},mov:function(e){return vi(e,$r.mov,{offset:4})},"3gp":function(e){return vi(e,$r["3gp"],{offset:4})},ac3:function(e){var i=th(e);return vi(e,$r.ac3,{offset:i})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var i=0;i+188<e.length&&i<188;){if(e[i]===71&&e[i+188]===71)return!0;i+=1}return!1},flac:function(e){var i=th(e);return vi(e,$r.flac,{offset:i})},ogg:function(e){return vi(e,$r.ogg)},avi:function(e){return vi(e,$r.riff)&&vi(e,$r.avi,{offset:8})},wav:function(e){return vi(e,$r.riff)&&vi(e,$r.wav,{offset:8})},h264:function(e){return DH(e,7,3).length},h265:function(e){return LH(e,[32,33],3).length}},Wy=Object.keys(y0).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);Wy.forEach(function(t){var e=y0[t];y0[t]=function(i){return e(ct(i))}});var BH=y0,ub=function(e){e=ct(e);for(var i=0;i<Wy.length;i++){var r=Wy[i];if(BH[r](e))return r}return""},PH=function(e){return wH(e,["moof"]).length>0},cb=9e4,db,hb,e2,pb,AA,MA,DA;db=function(t){return t*cb};hb=function(t,e){return t*e};e2=function(t){return t/cb};pb=function(t,e){return t/e};AA=function(t,e){return db(pb(t,e))};MA=function(t,e){return hb(e2(t),e)};DA=function(t,e,i){return e2(i?t:t-e)};var du={ONE_SECOND_IN_TS:cb,secondsToVideoTs:db,secondsToAudioTs:hb,videoTsToSeconds:e2,audioTsToSeconds:pb,audioTsToVideoTs:AA,videoTsToAudioTs:MA,metadataTsToSeconds:DA};/**
 * @license
 * Video.js 8.17.4 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var Gy="8.17.4";const $a={},dl=function(t,e){return $a[t]=$a[t]||[],e&&($a[t]=$a[t].concat(e)),$a[t]},IH=function(t,e){dl(t,e)},LA=function(t,e){const i=dl(t).indexOf(e);return i<=-1?!1:($a[t]=$a[t].slice(),$a[t].splice(i,1),!0)},RH=function(t,e){dl(t,[].concat(e).map(i=>{const r=(...n)=>(LA(t,r),i(...n));return r}))},B1={prefixed:!0},Zm=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],Px=Zm[0];let ih;for(let t=0;t<Zm.length;t++)if(Zm[t][1]in Pe){ih=Zm[t];break}if(ih){for(let t=0;t<ih.length;t++)B1[Px[t]]=ih[t];B1.prefixed=ih[0]!==Px[0]}let ln=[];const OH=(t,e,i)=>(r,n,s)=>{const a=e.levels[n],o=new RegExp(`^(${a})$`);let l=t;if(r!=="log"&&s.unshift(r.toUpperCase()+":"),i&&(l=`%c${t}`,s.unshift(i)),s.unshift(l+":"),ln){ln.push([].concat(s));const c=ln.length-1e3;ln.splice(0,c>0?c:0)}if(!H.console)return;let u=H.console[r];!u&&r==="debug"&&(u=H.console.info||H.console.log),!(!u||!a||!o.test(r))&&u[Array.isArray(s)?"apply":"call"](H.console,s)};function Xy(t,e=":",i=""){let r="info",n;function s(...a){n("log",r,a)}return n=OH(t,s,i),s.createLogger=(a,o,l)=>{const u=o!==void 0?o:e,c=l!==void 0?l:i,d=`${t} ${u} ${a}`;return Xy(d,u,c)},s.createNewLogger=(a,o,l)=>Xy(a,o,l),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},s.level=a=>{if(typeof a=="string"){if(!s.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);r=a}return r},s.history=()=>ln?[].concat(ln):[],s.history.filter=a=>(ln||[]).filter(o=>new RegExp(`.*${a}.*`).test(o[0])),s.history.clear=()=>{ln&&(ln.length=0)},s.history.disable=()=>{ln!==null&&(ln.length=0,ln=null)},s.history.enable=()=>{ln===null&&(ln=[])},s.error=(...a)=>n("error",r,a),s.warn=(...a)=>n("warn",r,a),s.debug=(...a)=>n("debug",r,a),s}const Nt=Xy("VIDEOJS"),BA=Nt.createLogger,FH=Object.prototype.toString,PA=function(t){return ca(t)?Object.keys(t):[]};function Gc(t,e){PA(t).forEach(i=>e(t[i],i))}function IA(t,e,i=0){return PA(t).reduce((r,n)=>e(r,t[n],n),i)}function ca(t){return!!t&&typeof t=="object"}function v0(t){return ca(t)&&FH.call(t)==="[object Object]"&&t.constructor===Object}function di(...t){const e={};return t.forEach(i=>{i&&Gc(i,(r,n)=>{if(!v0(r)){e[n]=r;return}v0(e[n])||(e[n]={}),e[n]=di(e[n],r)})}),e}function RA(t={}){const e=[];for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];e.push(r)}return e}function t2(t,e,i,r=!0){const n=a=>Object.defineProperty(t,e,{value:a,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const a=i();return n(a),a}};return r&&(s.set=n),Object.defineProperty(t,e,s)}var NH=Object.freeze({__proto__:null,each:Gc,reduce:IA,isObject:ca,isPlain:v0,merge:di,values:RA,defineLazyProperty:t2});let fb=!1,OA=null,da=!1,FA,NA=!1,Xc=!1,Yc=!1,ha=!1,mb=null,i2=null;const $H=!!(H.cast&&H.cast.framework&&H.cast.framework.CastReceiverContext);let $A=null,P1=!1,r2=!1,I1=!1,n2=!1,R1=!1,O1=!1,F1=!1;const Kh=!!(O0()&&("ontouchstart"in H||H.navigator.maxTouchPoints||H.DocumentTouch&&H.document instanceof H.DocumentTouch)),So=H.navigator&&H.navigator.userAgentData;So&&So.platform&&So.brands&&(da=So.platform==="Android",Xc=!!So.brands.find(t=>t.brand==="Microsoft Edge"),Yc=!!So.brands.find(t=>t.brand==="Chromium"),ha=!Xc&&Yc,mb=i2=(So.brands.find(t=>t.brand==="Chromium")||{}).version||null,r2=So.platform==="Windows");if(!Yc){const t=H.navigator&&H.navigator.userAgent||"";fb=/iPod/i.test(t),OA=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),da=/Android/i.test(t),FA=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const i=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return i&&r?parseFloat(e[1]+"."+e[2]):i||null}(),NA=/Firefox/i.test(t),Xc=/Edg/i.test(t),Yc=/Chrome/i.test(t)||/CriOS/i.test(t),ha=!Xc&&Yc,mb=i2=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),$A=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let i=e&&parseFloat(e[1]);return!i&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(i=11),i}(),R1=/Tizen/i.test(t),O1=/Web0S/i.test(t),F1=R1||O1,P1=/Safari/i.test(t)&&!ha&&!da&&!Xc&&!F1,r2=/Windows/i.test(t),I1=/iPad/i.test(t)||P1&&Kh&&!/iPhone/i.test(t),n2=/iPhone/i.test(t)&&!I1}const Qr=n2||I1||fb,s2=(P1||Qr)&&!ha;var zA=Object.freeze({__proto__:null,get IS_IPOD(){return fb},get IOS_VERSION(){return OA},get IS_ANDROID(){return da},get ANDROID_VERSION(){return FA},get IS_FIREFOX(){return NA},get IS_EDGE(){return Xc},get IS_CHROMIUM(){return Yc},get IS_CHROME(){return ha},get CHROMIUM_VERSION(){return mb},get CHROME_VERSION(){return i2},IS_CHROMECAST_RECEIVER:$H,get IE_VERSION(){return $A},get IS_SAFARI(){return P1},get IS_WINDOWS(){return r2},get IS_IPAD(){return I1},get IS_IPHONE(){return n2},get IS_TIZEN(){return R1},get IS_WEBOS(){return O1},get IS_SMART_TV(){return F1},TOUCH_ENABLED:Kh,IS_IOS:Qr,IS_ANY_SAFARI:s2});function Ix(t){return typeof t=="string"&&!!t.trim()}function zH(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function O0(){return Pe===H.document}function F0(t){return ca(t)&&t.nodeType===1}function UA(){try{return H.parent!==H.self}catch{return!0}}function qA(t){return function(e,i){if(!Ix(e))return Pe[t](null);Ix(i)&&(i=Pe.querySelector(i));const r=F0(i)?i:Pe;return r[t]&&r[t](e)}}function mt(t="div",e={},i={},r){const n=Pe.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const a=e[s];s==="textContent"?Sl(n,a):(n[s]!==a||s==="tabIndex")&&(n[s]=a)}),Object.getOwnPropertyNames(i).forEach(function(s){n.setAttribute(s,i[s])}),r&&gb(n,r),n}function Sl(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Yy(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function gh(t,e){return zH(e),t.classList.contains(e)}function _u(t,...e){return t.classList.add(...e.reduce((i,r)=>i.concat(r.split(/\s+/)),[])),t}function a2(t,...e){return t?(t.classList.remove(...e.reduce((i,r)=>i.concat(r.split(/\s+/)),[])),t):(Nt.warn("removeClass was called with an element that doesn't exist"),null)}function jA(t,e,i){return typeof i=="function"&&(i=i(t,e)),typeof i!="boolean"&&(i=void 0),e.split(/\s+/).forEach(r=>t.classList.toggle(r,i)),t}function VA(t,e){Object.getOwnPropertyNames(e).forEach(function(i){const r=e[i];r===null||typeof r>"u"||r===!1?t.removeAttribute(i):t.setAttribute(i,r===!0?"":r)})}function Zo(t){const e={},i=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const r=t.attributes;for(let n=r.length-1;n>=0;n--){const s=r[n].name;let a=r[n].value;i.includes(s)&&(a=a!==null),e[s]=a}}return e}function HA(t,e){return t.getAttribute(e)}function b0(t,e,i){t.setAttribute(e,i)}function o2(t,e){t.removeAttribute(e)}function KA(){Pe.body.focus(),Pe.onselectstart=function(){return!1}}function WA(){Pe.onselectstart=function(){return!0}}function x0(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(r=>{e[r]!==void 0&&(i[r]=e[r])}),i.height||(i.height=parseFloat(_0(t,"height"))),i.width||(i.width=parseFloat(_0(t,"width"))),i}}function Wh(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,i=t.offsetHeight;let r=0,n=0;for(;t.offsetParent&&t!==Pe[B1.fullscreenElement];)r+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{left:r,top:n,width:e,height:i}}function l2(t,e){const i={x:0,y:0};if(Qr){let c=t;for(;c&&c.nodeName.toLowerCase()!=="html";){const d=_0(c,"transform");if(/^matrix/.test(d)){const h=d.slice(7,-1).split(/,\s/).map(Number);i.x+=h[4],i.y+=h[5]}else if(/^matrix3d/.test(d)){const h=d.slice(9,-1).split(/,\s/).map(Number);i.x+=h[12],i.y+=h[13]}if(c.assignedSlot&&c.assignedSlot.parentElement&&H.WebKitCSSMatrix){const h=H.getComputedStyle(c.assignedSlot.parentElement).transform,f=new H.WebKitCSSMatrix(h);i.x+=f.m41,i.y+=f.m42}c=c.parentNode||c.host}}const r={},n=Wh(e.target),s=Wh(t),a=s.width,o=s.height;let l=e.offsetY-(s.top-n.top),u=e.offsetX-(s.left-n.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-s.left,l=e.changedTouches[0].pageY+s.top,Qr&&(u-=i.x,l-=i.y)),r.y=1-Math.max(0,Math.min(1,l/o)),r.x=Math.max(0,Math.min(1,u/a)),r}function GA(t){return ca(t)&&t.nodeType===3}function u2(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function XA(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),F0(e)||GA(e))return e;if(typeof e=="string"&&/\S/.test(e))return Pe.createTextNode(e)}).filter(e=>e)}function gb(t,e){return XA(e).forEach(i=>t.appendChild(i)),t}function YA(t,e){return gb(u2(t),e)}function Gh(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const hl=qA("querySelector"),ZA=qA("querySelectorAll");function _0(t,e){if(!t||!e)return"";if(typeof H.getComputedStyle=="function"){let i;try{i=H.getComputedStyle(t)}catch{return""}return i?i.getPropertyValue(e)||i[e]:""}return""}function JA(t){[...Pe.styleSheets].forEach(e=>{try{const i=[...e.cssRules].map(n=>n.cssText).join(""),r=Pe.createElement("style");r.textContent=i,t.document.head.appendChild(r)}catch{const r=Pe.createElement("link");r.rel="stylesheet",r.type=e.type,r.media=e.media.mediaText,r.href=e.href,t.document.head.appendChild(r)}})}var QA=Object.freeze({__proto__:null,isReal:O0,isEl:F0,isInFrame:UA,createEl:mt,textContent:Sl,prependTo:Yy,hasClass:gh,addClass:_u,removeClass:a2,toggleClass:jA,setAttributes:VA,getAttributes:Zo,getAttribute:HA,setAttribute:b0,removeAttribute:o2,blockTextSelection:KA,unblockTextSelection:WA,getBoundingClientRect:x0,findPosition:Wh,getPointerPosition:l2,isTextNode:GA,emptyEl:u2,normalizeContent:XA,appendContent:gb,insertContent:YA,isSingleLeftClick:Gh,$:hl,$$:ZA,computedStyle:_0,copyStyleSheetsToWindow:JA});let eM=!1,Zy;const UH=function(){if(Zy.options.autoSetup===!1)return;const t=Array.prototype.slice.call(Pe.getElementsByTagName("video")),e=Array.prototype.slice.call(Pe.getElementsByTagName("audio")),i=Array.prototype.slice.call(Pe.getElementsByTagName("video-js")),r=t.concat(e,i);if(r&&r.length>0)for(let n=0,s=r.length;n<s;n++){const a=r[n];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&Zy(a);else{Jy(1);break}}else eM||Jy(1)};function Jy(t,e){O0()&&(e&&(Zy=e),H.setTimeout(UH,t))}function Qy(){eM=!0,H.removeEventListener("load",Qy)}O0()&&(Pe.readyState==="complete"?Qy():H.addEventListener("load",Qy));const tM=function(t){const e=Pe.createElement("style");return e.className=t,e},iM=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var Yr=new WeakMap;const qH=3;let jH=qH;function is(){return jH++}function Rx(t,e){if(!Yr.has(t))return;const i=Yr.get(t);i.handlers[e].length===0&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),Object.getOwnPropertyNames(i).length===0&&Yr.delete(t)}function yb(t,e,i,r){i.forEach(function(n){t(e,n,r)})}function c2(t){if(t.fixed_)return t;function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const r=t||H.event;t={};const n=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const s in r)n.includes(s)||s==="returnValue"&&r.preventDefault||(t[s]=r[s]);if(t.target||(t.target=t.srcElement||Pe),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,t.clientX!==null&&t.clientX!==void 0){const s=Pe.documentElement,a=Pe.body;t.pageX=t.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let wf;const VH=function(){if(typeof wf!="boolean"){wf=!1;try{const t=Object.defineProperty({},"passive",{get(){wf=!0}});H.addEventListener("test",null,t),H.removeEventListener("test",null,t)}catch{}}return wf},HH=["touchstart","touchmove"];function In(t,e,i){if(Array.isArray(e))return yb(In,t,e,i);Yr.has(t)||Yr.set(t,{});const r=Yr.get(t);if(r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),i.guid||(i.guid=is()),r.handlers[e].push(i),r.dispatcher||(r.disabled=!1,r.dispatcher=function(n,s){if(r.disabled)return;n=c2(n);const a=r.handlers[n.type];if(a){const o=a.slice(0);for(let l=0,u=o.length;l<u&&!n.isImmediatePropagationStopped();l++)try{o[l].call(t,n,s)}catch(c){Nt.error(c)}}}),r.handlers[e].length===1)if(t.addEventListener){let n=!1;VH()&&HH.indexOf(e)>-1&&(n={passive:!0}),t.addEventListener(e,r.dispatcher,n)}else t.attachEvent&&t.attachEvent("on"+e,r.dispatcher)}function Pr(t,e,i){if(!Yr.has(t))return;const r=Yr.get(t);if(!r.handlers)return;if(Array.isArray(e))return yb(Pr,t,e,i);const n=function(a,o){r.handlers[o]=[],Rx(a,o)};if(e===void 0){for(const a in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},a)&&n(t,a);return}const s=r.handlers[e];if(s){if(!i){n(t,e);return}if(i.guid)for(let a=0;a<s.length;a++)s[a].guid===i.guid&&s.splice(a--,1);Rx(t,e)}}function N0(t,e,i){const r=Yr.has(t)?Yr.get(t):{},n=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=c2(e),r.dispatcher&&r.dispatcher.call(t,e,i),n&&!e.isPropagationStopped()&&e.bubbles===!0)N0.call(null,n,e,i);else if(!n&&!e.defaultPrevented&&e.target&&e.target[e.type]){Yr.has(e.target)||Yr.set(e.target,{});const s=Yr.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function d2(t,e,i){if(Array.isArray(e))return yb(d2,t,e,i);const r=function(){Pr(t,e,r),i.apply(this,arguments)};r.guid=i.guid=i.guid||is(),In(t,e,r)}function vb(t,e,i){const r=function(){Pr(t,e,r),i.apply(this,arguments)};r.guid=i.guid=i.guid||is(),In(t,e,r)}var KH=Object.freeze({__proto__:null,fixEvent:c2,on:In,off:Pr,trigger:N0,one:d2,any:vb});const rs=30,mi=function(t,e,i){e.guid||(e.guid=is());const r=e.bind(t);return r.guid=i?i+"_"+e.guid:e.guid,r},pa=function(t,e){let i=H.performance.now();return function(...n){const s=H.performance.now();s-i>=e&&(t(...n),i=s)}},rM=function(t,e,i,r=H){let n;const s=()=>{r.clearTimeout(n),n=null},a=function(){const o=this,l=arguments;let u=function(){n=null,u=null,i||t.apply(o,l)};!n&&i&&t.apply(o,l),r.clearTimeout(n),n=r.setTimeout(u,e)};return a.cancel=s,a};var WH=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:rs,bind_:mi,throttle:pa,debounce:rM});let xd;class Rn{on(e,i){const r=this.addEventListener;this.addEventListener=()=>{},In(this,e,i),this.addEventListener=r}off(e,i){Pr(this,e,i)}one(e,i){const r=this.addEventListener;this.addEventListener=()=>{},d2(this,e,i),this.addEventListener=r}any(e,i){const r=this.addEventListener;this.addEventListener=()=>{},vb(this,e,i),this.addEventListener=r}trigger(e){const i=e.type||e;typeof e=="string"&&(e={type:i}),e=c2(e),this.allowedEvents_[i]&&this["on"+i]&&this["on"+i](e),N0(this,e)}queueTrigger(e){xd||(xd=new Map);const i=e.type||e;let r=xd.get(this);r||(r=new Map,xd.set(this,r));const n=r.get(i);r.delete(i),H.clearTimeout(n);const s=H.setTimeout(()=>{r.delete(i),r.size===0&&(r=null,xd.delete(this)),this.trigger(e)},0);r.set(i,s)}}Rn.prototype.allowedEvents_={};Rn.prototype.addEventListener=Rn.prototype.on;Rn.prototype.removeEventListener=Rn.prototype.off;Rn.prototype.dispatchEvent=Rn.prototype.trigger;const h2=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,Ha=t=>t instanceof Rn||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),GH=(t,e)=>{Ha(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},e5=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,N1=(t,e,i)=>{if(!t||!t.nodeName&&!Ha(t))throw new Error(`Invalid target for ${h2(e)}#${i}; must be a DOM node or evented object.`)},nM=(t,e,i)=>{if(!e5(t))throw new Error(`Invalid event type for ${h2(e)}#${i}; must be a non-empty string or array.`)},sM=(t,e,i)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${h2(e)}#${i}; must be a function.`)},I4=(t,e,i)=>{const r=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let n,s,a;return r?(n=t.eventBusEl_,e.length>=3&&e.shift(),[s,a]=e):(n=e[0],s=e[1],a=e[2]),N1(n,t,i),nM(s,t,i),sM(a,t,i),a=mi(t,a),{isTargetingSelf:r,target:n,type:s,listener:a}},Fl=(t,e,i,r)=>{N1(t,t,e),t.nodeName?KH[e](t,i,r):t[e](i,r)},XH={on(...t){const{isTargetingSelf:e,target:i,type:r,listener:n}=I4(this,t,"on");if(Fl(i,"on",r,n),!e){const s=()=>this.off(i,r,n);s.guid=n.guid;const a=()=>this.off("dispose",s);a.guid=n.guid,Fl(this,"on","dispose",s),Fl(i,"on","dispose",a)}},one(...t){const{isTargetingSelf:e,target:i,type:r,listener:n}=I4(this,t,"one");if(e)Fl(i,"one",r,n);else{const s=(...a)=>{this.off(i,r,s),n.apply(null,a)};s.guid=n.guid,Fl(i,"one",r,s)}},any(...t){const{isTargetingSelf:e,target:i,type:r,listener:n}=I4(this,t,"any");if(e)Fl(i,"any",r,n);else{const s=(...a)=>{this.off(i,r,s),n.apply(null,a)};s.guid=n.guid,Fl(i,"any",r,s)}},off(t,e,i){if(!t||e5(t))Pr(this.eventBusEl_,t,e);else{const r=t,n=e;N1(r,this,"off"),nM(n,this,"off"),sM(i,this,"off"),i=mi(this,i),this.off("dispose",i),r.nodeName?(Pr(r,n,i),Pr(r,"dispose",i)):Ha(r)&&(r.off(n,i),r.off("dispose",i))}},trigger(t,e){N1(this.eventBusEl_,this,"trigger");const i=t&&typeof t!="string"?t.type:t;if(!e5(i))throw new Error(`Invalid event type for ${h2(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return N0(this.eventBusEl_,t,e)}};function bb(t,e={}){const{eventBusKey:i}=e;if(i){if(!t[i].nodeName)throw new Error(`The eventBusKey "${i}" does not refer to an element.`);t.eventBusEl_=t[i]}else t.eventBusEl_=mt("span",{className:"vjs-event-bus"});return Object.assign(t,XH),t.eventedCallbacks&&t.eventedCallbacks.forEach(r=>{r()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(r){r&&Yr.has(r)&&Yr.delete(r)}),H.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const YH={state:{},setState(t){typeof t=="function"&&(t=t());let e;return Gc(t,(i,r)=>{this.state[r]!==i&&(e=e||{},e[r]={from:this.state[r],to:i}),this.state[r]=i}),e&&Ha(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function aM(t,e){return Object.assign(t,YH),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&Ha(t)&&t.on("statechanged",t.handleStateChanged),t}const yh=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},Li=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},oM=function(t,e){return Li(t)===Li(e)};var ZH=Object.freeze({__proto__:null,toLowerCase:yh,toTitleCase:Li,titleCaseEquals:oM});class he{constructor(e,i,r){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=di({},this.options_),i=this.options_=di(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){const n=e&&e.id&&e.id()||"no_player";this.id_=`${n}_component_${is()}`}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(n=>this.addClass(n)),["on","off","one","any","trigger"].forEach(n=>{this[n]=void 0}),i.evented!==!1&&(bb(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),aM(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(r),i.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=di(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,i,r){return mt(e,i,r)}localize(e,i,r=e){const n=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),a=s&&s[n],o=n&&n.split("-")[0],l=s&&s[o];let u=r;return a&&a[e]?u=a[e]:l&&l[e]&&(u=l[e]),i&&(u=u.replace(/\{(\d+)\}/g,function(c,d){const h=i[d-1];let f=h;return typeof h>"u"&&(f=c),f})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((r,n)=>r.concat(n),[]);let i=this;for(let r=0;r<e.length;r++)if(i=i.getChild(e[r]),!i||!i.getChild)return;return i}setIcon(e,i=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const r="http://www.w3.org/2000/svg",n=mt("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=Pe.createElementNS(r,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const a=Pe.createElementNS(r,"use");return s.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),n.appendChild(s),this.iconIsSet_?i.replaceChild(n,i.querySelector(".vjs-icon-placeholder")):i.appendChild(n),this.iconIsSet_=!0,n}addChild(e,i={},r=this.children_.length){let n,s;if(typeof e=="string"){s=Li(e);const a=i.componentClass||s;i.name=s;const o=he.getComponent(a);if(!o)throw new Error(`Component ${a} does not exist`);if(typeof o!="function")return null;n=new o(this.player_||this,i)}else n=e;if(n.parentComponent_&&n.parentComponent_.removeChild(n),this.children_.splice(r,0,n),n.parentComponent_=this,typeof n.id=="function"&&(this.childIndex_[n.id()]=n),s=s||n.name&&Li(n.name()),s&&(this.childNameIndex_[s]=n,this.childNameIndex_[yh(s)]=n),typeof n.el=="function"&&n.el()){let a=null;this.children_[r+1]&&(this.children_[r+1].el_?a=this.children_[r+1].el_:F0(this.children_[r+1])&&(a=this.children_[r+1])),this.contentEl().insertBefore(n.el(),a)}return n}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let i=!1;for(let n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){i=!0,this.children_.splice(n,1);break}if(!i)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Li(e.name())]=null,this.childNameIndex_[yh(e.name())]=null;const r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const i=this.options_,r=a=>{const o=a.name;let l=a.opts;if(i[o]!==void 0&&(l=i[o]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const u=this.addChild(o,l);u&&(this[o]=u)};let n;const s=he.getComponent("Tech");Array.isArray(e)?n=e:n=Object.keys(e),n.concat(Object.keys(this.options_).filter(function(a){return!n.some(function(o){return typeof o=="string"?a===o:a===o.name})})).map(a=>{let o,l;return typeof a=="string"?(o=a,l=e[o]||this.options_[o]||{}):(o=a.name,l=a),{name:o,opts:l}}).filter(a=>{const o=he.getComponent(a.opts.componentClass||Li(a.name));return o&&!s.isTech(o)}).forEach(r)}}buildCSSClass(){return""}ready(e,i=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}i?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(i){i.call(this)},this),this.trigger("ready")},1)}$(e,i){return hl(e,i||this.contentEl())}$$(e,i){return ZA(e,i||this.contentEl())}hasClass(e){return gh(this.el_,e)}addClass(...e){_u(this.el_,...e)}removeClass(...e){a2(this.el_,...e)}toggleClass(e,i){jA(this.el_,e,i)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return HA(this.el_,e)}setAttribute(e,i){b0(this.el_,e,i)}removeAttribute(e){o2(this.el_,e)}width(e,i){return this.dimension("width",e,i)}height(e,i){return this.dimension("height",e,i)}dimensions(e,i){this.width(e,!0),this.height(i)}dimension(e,i,r){if(i!==void 0){(i===null||i!==i)&&(i=0),(""+i).indexOf("%")!==-1||(""+i).indexOf("px")!==-1?this.el_.style[e]=i:i==="auto"?this.el_.style[e]="":this.el_.style[e]=i+"px",r||this.trigger("componentresize");return}if(!this.el_)return 0;const n=this.el_.style[e],s=n.indexOf("px");return parseInt(s!==-1?n.slice(0,s):this.el_["offset"+Li(e)],10)}currentDimension(e){let i=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(i=_0(this.el_,e),i=parseFloat(i),i===0||isNaN(i)){const r=`offset${Li(e)}`;i=this.el_[r]}return i}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),i={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},r={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:i,center:r}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,i=null;const r=10,n=200;let s;this.on("touchstart",function(o){o.touches.length===1&&(i={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e=H.performance.now(),s=!0)}),this.on("touchmove",function(o){if(o.touches.length>1)s=!1;else if(i){const l=o.touches[0].pageX-i.pageX,u=o.touches[0].pageY-i.pageY;Math.sqrt(l*l+u*u)>r&&(s=!1)}});const a=function(){s=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(o){i=null,s===!0&&H.performance.now()-e<n&&(o.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=mi(this.player(),this.player().reportUserActivity);let i;this.on("touchstart",function(){e(),this.clearInterval(i),i=this.setInterval(e,250)});const r=function(n){e(),this.clearInterval(i)};this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)}setTimeout(e,i){var r;return e=mi(this,e),this.clearTimersOnDispose_(),r=H.setTimeout(()=>{this.setTimeoutIds_.has(r)&&this.setTimeoutIds_.delete(r),e()},i),this.setTimeoutIds_.add(r),r}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),H.clearTimeout(e)),e}setInterval(e,i){e=mi(this,e),this.clearTimersOnDispose_();const r=H.setInterval(e,i);return this.setIntervalIds_.add(r),r}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),H.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var i;return e=mi(this,e),i=H.requestAnimationFrame(()=>{this.rafIds_.has(i)&&this.rafIds_.delete(i),e()}),this.rafIds_.add(i),i}requestNamedAnimationFrame(e,i){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),i=mi(this,i);const r=this.requestAnimationFrame(()=>{i(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,r),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),H.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,i])=>{this[e].forEach((r,n)=>this[i](n))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function i(s){const a=H.getComputedStyle(s,null),o=a.getPropertyValue("visibility");return a.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(o)}function r(s){return!(!i(s.parentElement)||!i(s)||s.style.opacity==="0"||H.getComputedStyle(s).height==="0px"||H.getComputedStyle(s).width==="0px")}function n(s){if(s.offsetWidth+s.offsetHeight+s.getBoundingClientRect().height+s.getBoundingClientRect().width===0)return!1;const a={x:s.getBoundingClientRect().left+s.offsetWidth/2,y:s.getBoundingClientRect().top+s.offsetHeight/2};if(a.x<0||a.x>(Pe.documentElement.clientWidth||H.innerWidth)||a.y<0||a.y>(Pe.documentElement.clientHeight||H.innerHeight))return!1;let o=Pe.elementFromPoint(a.x,a.y);for(;o;){if(o===s)return!0;if(o.parentNode)o=o.parentNode;else return!1}}return e||(e=this.el()),!!(n(e)&&r(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,i){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const r=he.getComponent("Tech"),n=r&&r.isTech(i),s=he===i||he.prototype.isPrototypeOf(i.prototype);if(n||!s){let o;throw n?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error(`Illegal component, "${e}"; ${o}.`)}e=Li(e),he.components_||(he.components_={});const a=he.getComponent("Player");if(e==="Player"&&a&&a.players){const o=a.players,l=Object.keys(o);if(o&&l.length>0&&l.map(u=>o[u]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return he.components_[e]=i,he.components_[yh(e)]=i,i}static getComponent(e){if(!(!e||!he.components_))return he.components_[e]}}he.registerComponent("Component",he);function JH(t,e,i){if(typeof e!="number"||e<0||e>i)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${i}).`)}function Ox(t,e,i,r){return JH(t,r,i.length-1),i[r][e]}function R4(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:Ox.bind(null,"start",0,t),end:Ox.bind(null,"end",1,t)},H.Symbol&&H.Symbol.iterator&&(e[H.Symbol.iterator]=()=>(t||[]).values()),e}function ks(t,e){return Array.isArray(t)?R4(t):t===void 0||e===void 0?R4():R4([[t,e]])}const lM=function(t,e){t=t<0?0:t;let i=Math.floor(t%60),r=Math.floor(t/60%60),n=Math.floor(t/3600);const s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(n=r=i="-"),n=n>0||a>0?n+":":"",r=((n||s>=10)&&r<10?"0"+r:r)+":",i=i<10?"0"+i:i,n+r+i};let xb=lM;function uM(t){xb=t}function cM(){xb=lM}function Bu(t,e=t){return xb(t,e)}var QH=Object.freeze({__proto__:null,createTimeRanges:ks,createTimeRange:ks,setFormatTime:uM,resetFormatTime:cM,formatTime:Bu});function dM(t,e){let i=0,r,n;if(!e)return 0;(!t||!t.length)&&(t=ks(0,0));for(let s=0;s<t.length;s++)r=t.start(s),n=t.end(s),n>e&&(n=e),i+=n-r;return i/e}function Ei(t){if(t instanceof Ei)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:ca(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=Ei.defaultMessages[this.code]||"")}Ei.prototype.code=0;Ei.prototype.message="";Ei.prototype.status=null;Ei.prototype.metadata=null;Ei.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Ei.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};Ei.MEDIA_ERR_CUSTOM=0;Ei.prototype.MEDIA_ERR_CUSTOM=0;Ei.MEDIA_ERR_ABORTED=1;Ei.prototype.MEDIA_ERR_ABORTED=1;Ei.MEDIA_ERR_NETWORK=2;Ei.prototype.MEDIA_ERR_NETWORK=2;Ei.MEDIA_ERR_DECODE=3;Ei.prototype.MEDIA_ERR_DECODE=3;Ei.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Ei.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Ei.MEDIA_ERR_ENCRYPTED=5;Ei.prototype.MEDIA_ERR_ENCRYPTED=5;function vh(t){return t!=null&&typeof t.then=="function"}function Ys(t){vh(t)&&t.then(null,e=>{})}const t5=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((i,r,n)=>(t[r]&&(i[r]=t[r]),i),{cues:t.cues&&Array.prototype.map.call(t.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})})},eK=function(t){const e=t.$$("track"),i=Array.prototype.map.call(e,n=>n.track);return Array.prototype.map.call(e,function(n){const s=t5(n.track);return n.src&&(s.src=n.src),s}).concat(Array.prototype.filter.call(t.textTracks(),function(n){return i.indexOf(n)===-1}).map(t5))},tK=function(t,e){return t.forEach(function(i){const r=e.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(n=>r.addCue(n))}),e.textTracks()};var Fx={textTracksToJson:eK,jsonToTextTracks:tK,trackToJson_:t5};const O4="vjs-modal-dialog";class $0 extends he{constructor(e,i){super(e,i),this.handleKeyDown_=r=>this.handleKeyDown(r),this.close_=r=>this.close(r),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=mt("div",{className:`${O4}-content`},{role:"document"}),this.descEl_=mt("p",{className:`${O4}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Sl(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${O4} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const i=this.closeable_=!!e;let r=this.getChild("closeButton");if(i&&!r){const n=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(r,"close",this.close_)}!i&&r&&(this.off(r,"close",this.close_),this.removeChild(r),r.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const i=this.contentEl(),r=i.parentNode,n=i.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(i),this.empty(),YA(i,e),this.trigger("modalfill"),n?r.insertBefore(i,n):r.appendChild(i);const s=this.getChild("closeButton");s&&r.appendChild(s.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),u2(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Pe.activeElement,i=this.player_.el_;this.previouslyActiveEl_=null,(i.contains(e)||i===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const i=this.focusableEls_(),r=this.el_.querySelector(":focus");let n;for(let s=0;s<i.length;s++)if(r===i[s]){n=s;break}Pe.activeElement===this.el_&&(n=0),e.shiftKey&&n===0?(i[i.length-1].focus(),e.preventDefault()):!e.shiftKey&&n===i.length-1&&(i[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,i=>(i instanceof H.HTMLAnchorElement||i instanceof H.HTMLAreaElement)&&i.hasAttribute("href")||(i instanceof H.HTMLInputElement||i instanceof H.HTMLSelectElement||i instanceof H.HTMLTextAreaElement||i instanceof H.HTMLButtonElement)&&!i.hasAttribute("disabled")||i instanceof H.HTMLIFrameElement||i instanceof H.HTMLObjectElement||i instanceof H.HTMLEmbedElement||i.hasAttribute("tabindex")&&i.getAttribute("tabindex")!==-1||i.hasAttribute("contenteditable"))}}$0.prototype.options_={pauseOnOpen:!0,temporary:!0};he.registerComponent("ModalDialog",$0);class w0 extends Rn{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let i=0;i<e.length;i++)this.addTrack(e[i])}addTrack(e){const i=this.tracks_.length;""+i in this||Object.defineProperty(this,i,{get(){return this.tracks_[i]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},Ha(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let i;for(let r=0,n=this.length;r<n;r++)if(this[r]===e){i=this[r],i.off&&i.off(),this.tracks_.splice(r,1);break}i&&this.trigger({track:i,type:"removetrack",target:this})}getTrackById(e){let i=null;for(let r=0,n=this.length;r<n;r++){const s=this[r];if(s.id===e){i=s;break}}return i}}w0.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in w0.prototype.allowedEvents_)w0.prototype["on"+t]=null;const F4=function(t,e){for(let i=0;i<t.length;i++)!Object.keys(t[i]).length||e.id===t[i].id||(t[i].enabled=!1)};class iK extends w0{constructor(e=[]){for(let i=e.length-1;i>=0;i--)if(e[i].enabled){F4(e,e[i]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&F4(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,F4(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const N4=function(t,e){for(let i=0;i<t.length;i++)!Object.keys(t[i]).length||e.id===t[i].id||(t[i].selected=!1)};class rK extends w0{constructor(e=[]){for(let i=e.length-1;i>=0;i--)if(e[i].selected){N4(e,e[i]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let i=0;i<this.length;i++)if(this[i].selected)return i;return-1},set(){}})}addTrack(e){e.selected&&N4(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,N4(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class hM extends w0{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class nK{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let i=0,r=e.length;i<r;i++)this.addTrackElement_(e[i])}addTrackElement_(e){const i=this.trackElements_.length;""+i in this||Object.defineProperty(this,i,{get(){return this.trackElements_[i]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let i;for(let r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r].track){i=this.trackElements_[r];break}return i}removeTrackElement_(e){for(let i=0,r=this.trackElements_.length;i<r;i++)if(e===this.trackElements_[i]){this.trackElements_[i].track&&typeof this.trackElements_[i].track.off=="function"&&this.trackElements_[i].track.off(),typeof this.trackElements_[i].off=="function"&&this.trackElements_[i].off(),this.trackElements_.splice(i,1);break}}}class $1{constructor(e){$1.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const i=this.length||0;let r=0;const n=e.length;this.cues_=e,this.length_=e.length;const s=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(i<n)for(r=i;r<n;r++)s.call(this,r)}getCueById(e){let i=null;for(let r=0,n=this.length;r<n;r++){const s=this[r];if(s.id===e){i=s;break}}return i}}const sK={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},aK={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},oK={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Nx={disabled:"disabled",hidden:"hidden",showing:"showing"};class _b extends Rn{constructor(e={}){super();const i={id:e.id||"vjs_track_"+is(),kind:e.kind||"",language:e.language||""};let r=e.label||"";for(const n in i)Object.defineProperty(this,n,{get(){return i[n]},set(){}});Object.defineProperty(this,"label",{get(){return r},set(n){n!==r&&(r=n,this.trigger("labelchange"))}})}}const wb=function(t){return new URL(t,Pe.baseURI)},pM=function(t){return new URL(t,Pe.baseURI).href},Sb=function(t){if(typeof t=="string"){const i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(i)return i.pop().toLowerCase()}return""},p2=function(t,e=H.location){return wb(t).origin!==e.origin};var lK=Object.freeze({__proto__:null,parseUrl:wb,getAbsoluteURL:pM,getFileExtension:Sb,isCrossOrigin:p2});const $x=function(t,e){const i=new H.WebVTT.Parser(H,H.vttjs,H.WebVTT.StringDecoder()),r=[];i.oncue=function(n){e.addCue(n)},i.onparsingerror=function(n){r.push(n)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(t),r.length>0&&(H.console&&H.console.groupCollapsed&&H.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),r.forEach(n=>Nt.error(n)),H.console&&H.console.groupEnd&&H.console.groupEnd()),i.flush()},zx=function(t,e){const i={uri:t},r=p2(t);r&&(i.cors=r);const n=e.tech_.crossOrigin()==="use-credentials";n&&(i.withCredentials=n),RE(i,mi(this,function(s,a,o){if(s)return Nt.error(s,a);e.loaded_=!0,typeof H.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){Nt.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return $x(o,e)}):$x(o,e)}))};class gp extends _b{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const i=di(e,{kind:oK[e.kind]||"subtitles",language:e.language||e.srclang||""});let r=Nx[i.mode]||"disabled";const n=i.default;(i.kind==="metadata"||i.kind==="chapters")&&(r="hidden"),super(i),this.tech_=i.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new $1(this.cues_),a=new $1(this.activeCues_);let o=!1;this.timeupdateHandler=mi(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),r!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return n},set(){}},mode:{get(){return r},set(u){Nx[u]&&r!==u&&(r=u,!this.preload_&&r!=="disabled"&&this.cues.length===0&&zx(this.src,this),this.stopTracking(),r!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const u=this.tech_.currentTime(),c=[];for(let d=0,h=this.cues.length;d<h;d++){const f=this.cues[d];f.startTime<=u&&f.endTime>=u&&c.push(f)}if(o=!1,c.length!==this.activeCues_.length)o=!0;else for(let d=0;d<c.length;d++)this.activeCues_.indexOf(c[d])===-1&&(o=!0);return this.activeCues_=c,a.setCues_(this.activeCues_),a},set(){}}}),i.src?(this.src=i.src,this.preload_||(this.loaded_=!0),(this.preload_||i.kind!=="subtitles"&&i.kind!=="captions")&&zx(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let i=e;if(!("getCueAsHTML"in i)){i=new H.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const n in e)n in i||(i[n]=e[n]);i.id=e.id,i.originalCue_=e}const r=this.tech_.textTracks();for(let n=0;n<r.length;n++)r[n]!==this&&r[n].removeCue(i);this.cues_.push(i),this.cues.setCues_(this.cues_)}removeCue(e){let i=this.cues_.length;for(;i--;){const r=this.cues_[i];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(i,1),this.cues.setCues_(this.cues_);break}}}}gp.prototype.allowedEvents_={cuechange:"cuechange"};class fM extends _b{constructor(e={}){const i=di(e,{kind:aK[e.kind]||""});super(i);let r=!1;Object.defineProperty(this,"enabled",{get(){return r},set(n){typeof n!="boolean"||n===r||(r=n,this.trigger("enabledchange"))}}),i.enabled&&(this.enabled=i.enabled),this.loaded_=!0}}class mM extends _b{constructor(e={}){const i=di(e,{kind:sK[e.kind]||""});super(i);let r=!1;Object.defineProperty(this,"selected",{get(){return r},set(n){typeof n!="boolean"||n===r||(r=n,this.trigger("selectedchange"))}}),i.selected&&(this.selected=i.selected)}}class eo extends Rn{constructor(e={}){super();let i;const r=new gp(e);this.kind=r.kind,this.src=r.src,this.srclang=r.language,this.label=r.label,this.default=r.default,Object.defineProperties(this,{readyState:{get(){return i}},track:{get(){return r}}}),i=eo.NONE,r.addEventListener("loadeddata",()=>{i=eo.LOADED,this.trigger({type:"load",target:this})})}}eo.prototype.allowedEvents_={load:"load"};eo.NONE=0;eo.LOADING=1;eo.LOADED=2;eo.ERROR=3;const Jn={audio:{ListClass:iK,TrackClass:fM,capitalName:"Audio"},video:{ListClass:rK,TrackClass:mM,capitalName:"Video"},text:{ListClass:hM,TrackClass:gp,capitalName:"Text"}};Object.keys(Jn).forEach(function(t){Jn[t].getterName=`${t}Tracks`,Jn[t].privateName=`${t}Tracks_`});const S0={remoteText:{ListClass:hM,TrackClass:gp,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:nK,TrackClass:eo,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Wr=Object.assign({},Jn,S0);S0.names=Object.keys(S0);Jn.names=Object.keys(Jn);Wr.names=[].concat(S0.names).concat(Jn.names);function uK(t,e,i,r,n={}){const s=t.textTracks();n.kind=e,i&&(n.label=i),r&&(n.language=r),n.tech=t;const a=new Wr.text.TrackClass(n);return s.addTrack(a),a}class Et extends he{constructor(e={},i=function(){}){e.reportTouchActivity=!1,super(null,e,i),this.onDurationChange_=r=>this.onDurationChange(r),this.trackProgress_=r=>this.trackProgress(r),this.trackCurrentTime_=r=>this.trackCurrentTime(r),this.stopTrackingCurrentTime_=r=>this.stopTrackingCurrentTime(r),this.disposeSourceHandler_=r=>this.disposeSourceHandler(r),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Wr.names.forEach(r=>{const n=Wr[r];e&&e[n.getterName]&&(this[n.privateName]=e[n.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(r=>{e[`native${r}Tracks`]===!1&&(this[`featuresNative${r}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Wr.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(mi(this,function(){const i=this.bufferedPercent();this.bufferedPercent_!==i&&this.trigger("progress"),this.bufferedPercent_=i,i===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return ks(0,0)}bufferedPercent(){return dM(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Jn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(i=>{const r=this[`${i}Tracks`]()||[];let n=r.length;for(;n--;){const s=r[n];i==="text"&&this.removeRemoteTextTrack(s),r.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let i=e.length;for(;i--;){const r=e[i];this.removeRemoteTextTrack(r)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new Ei(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?ks(0,0):ks()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Jn.names.forEach(e=>{const i=Jn[e],r=()=>{this.trigger(`${e}trackchange`)},n=this[i.getterName]();n.addEventListener("removetrack",r),n.addEventListener("addtrack",r),this.on("dispose",()=>{n.removeEventListener("removetrack",r),n.removeEventListener("addtrack",r)})})}addWebVttScript_(){if(!H.WebVTT)if(Pe.body.contains(this.el())){if(!this.options_["vtt.js"]&&v0(ix)&&Object.keys(ix).length>0){this.trigger("vttjsloaded");return}const e=Pe.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),H.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),i=this.remoteTextTracks(),r=o=>e.addTrack(o.track),n=o=>e.removeTrack(o.track);i.on("addtrack",r),i.on("removetrack",n),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),a=()=>{s();for(let o=0;o<e.length;o++){const l=e[o];l.removeEventListener("cuechange",s),l.mode==="showing"&&l.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){i.off("addtrack",r),i.off("removetrack",n),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let o=0;o<e.length;o++)e[o].removeEventListener("cuechange",s)})}addTextTrack(e,i,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return uK(this,e,i,r)}createRemoteTextTrack(e){const i=di(e,{tech:this});return new S0.remoteTextEl.TrackClass(i)}addRemoteTextTrack(e={},i){const r=this.createRemoteTextTrack(e);return typeof i!="boolean"&&(i=!1),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),i===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(r.track)),r}removeRemoteTextTrack(e){const i=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(i),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const i=is();return!this.isReady_||this.paused()?(this.queuedHanders_.add(i),this.one("playing",()=>{this.queuedHanders_.has(i)&&(this.queuedHanders_.delete(i),e())})):this.requestNamedAnimationFrame(i,e),i}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,i){return Et.canPlayType(e.type)}static isTech(e){return e.prototype instanceof Et||e instanceof Et||e===Et}static registerTech(e,i){if(Et.techs_||(Et.techs_={}),!Et.isTech(i))throw new Error(`Tech ${e} must be a Tech`);if(!Et.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Et.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Li(e),Et.techs_[e]=i,Et.techs_[yh(e)]=i,e!=="Tech"&&Et.defaultTechOrder_.push(e),i}static getTech(e){if(e){if(Et.techs_&&Et.techs_[e])return Et.techs_[e];if(e=Li(e),H&&H.videojs&&H.videojs[e])return Nt.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),H.videojs[e]}}}Wr.names.forEach(function(t){const e=Wr[t];Et.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Et.prototype.featuresVolumeControl=!0;Et.prototype.featuresMuteControl=!0;Et.prototype.featuresFullscreenResize=!1;Et.prototype.featuresPlaybackRate=!1;Et.prototype.featuresProgressEvents=!1;Et.prototype.featuresSourceset=!1;Et.prototype.featuresTimeupdateEvents=!1;Et.prototype.featuresNativeTextTracks=!1;Et.prototype.featuresVideoFrameCallback=!1;Et.withSourceHandlers=function(t){t.registerSourceHandler=function(i,r){let n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),r===void 0&&(r=n.length),n.splice(r,0,i)},t.canPlayType=function(i){const r=t.sourceHandlers||[];let n;for(let s=0;s<r.length;s++)if(n=r[s].canPlayType(i),n)return n;return""},t.selectSourceHandler=function(i,r){const n=t.sourceHandlers||[];let s;for(let a=0;a<n.length;a++)if(s=n[a].canHandleSource(i,r),s)return n[a];return null},t.canPlaySource=function(i,r){const n=t.selectSourceHandler(i,r);return n?n.canHandleSource(i,r):""},["seekable","seeking","duration"].forEach(function(i){const r=this[i];typeof r=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):r.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(i){let r=t.selectSourceHandler(i,this.options_);r||(t.nativeSourceHandler?r=t.nativeSourceHandler:Nt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),r!==t.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=r.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};he.registerComponent("Tech",Et);Et.registerTech("Tech",Et);Et.defaultTechOrder_=[];const wu={},z1={},U1={};function cK(t,e){wu[t]=wu[t]||[],wu[t].push(e)}function dK(t,e,i){t.setTimeout(()=>eu(e,wu[e.type],i,t),1)}function hK(t,e){t.forEach(i=>i.setTech&&i.setTech(e))}function pK(t,e,i){return t.reduceRight(Cb(i),e[i]())}function fK(t,e,i,r){return e[i](t.reduce(Cb(i),r))}function Ux(t,e,i,r=null){const n="call"+Li(i),s=t.reduce(Cb(n),r),a=s===U1,o=a?null:e[i](s);return yK(t,i,o,a),o}const mK={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},gK={setCurrentTime:1,setMuted:1,setVolume:1},qx={play:1,pause:1};function Cb(t){return(e,i)=>e===U1?U1:i[t]?i[t](e):e}function yK(t,e,i,r){for(let n=t.length-1;n>=0;n--){const s=t[n];s[e]&&s[e](r,i)}}function vK(t){z1.hasOwnProperty(t.id())&&delete z1[t.id()]}function bK(t,e){const i=z1[t.id()];let r=null;if(i==null)return r=e(t),z1[t.id()]=[[e,r]],r;for(let n=0;n<i.length;n++){const[s,a]=i[n];s===e&&(r=a)}return r===null&&(r=e(t),i.push([e,r])),r}function eu(t={},e=[],i,r,n=[],s=!1){const[a,...o]=e;if(typeof a=="string")eu(t,wu[a],i,r,n,s);else if(a){const l=bK(r,a);if(!l.setSource)return n.push(l),eu(t,o,i,r,n,s);l.setSource(Object.assign({},t),function(u,c){if(u)return eu(t,o,i,r,n,s);n.push(l),eu(c,t.type===c.type?o:wu[c.type],i,r,n,s)})}else o.length?eu(t,o,i,r,n,s):s?i(t,n):eu(t,wu["*"],i,r,n,!0)}const xK={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},q1=function(t=""){const e=Sb(t);return xK[e.toLowerCase()]||""},_K=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const i=t.cache_.sources.filter(n=>n.src===e);if(i.length)return i[0].type;const r=t.$$("source");for(let n=0;n<r.length;n++){const s=r[n];if(s.type&&s.src&&s.src===e)return s.type}return q1(e)},gM=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(i){i=gM(i),Array.isArray(i)?e=e.concat(i):ca(i)&&e.push(i)}),t=e}else typeof t=="string"&&t.trim()?t=[jx({src:t})]:ca(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[jx(t)]:t=[];return t};function jx(t){if(!t.type){const e=q1(t.src);e&&(t.type=e)}return t}var wK=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const Vx=R1?10009:O1?461:8,ac={codes:{play:415,pause:19,ff:417,rw:412,back:Vx},names:{415:"play",19:"pause",417:"ff",412:"rw",[Vx]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},Hx=5;class SK extends Rn{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const i=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(i.key)){if(this.isPaused_)return;i.preventDefault();const r=i.key.substring(5).toLowerCase();this.move(r)}else if(ac.isEventKey(i,"play")||ac.isEventKey(i,"pause")||ac.isEventKey(i,"ff")||ac.isEventKey(i,"rw")){i.preventDefault();const r=ac.getEventName(i);this.performMediaAction_(r)}else ac.isEventKey(i,"Back")&&e.target&&e.target.closeable()&&(i.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+Hx);break;case"rw":this.userSeek_(this.player_.currentTime()-Hx);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const i=e.relatedTarget;let r=null;const n=this.getCurrentComponent(e.target);i&&(r=!!i.closest(".video-js"),i.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!r||!i)&&(n&&n.name()==="CloseButton"?this.refocusComponent():(this.pause(),n&&n.el()&&(this.lastFocusedComponent_=n)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,i=[];function r(n){for(const s of n)s.hasOwnProperty("el_")&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())&&i.push(s),s.hasOwnProperty("children_")&&s.children_.length>0&&r(s.children_)}return e.children_.forEach(n=>{if(n.hasOwnProperty("el_"))if(n.getIsFocusable&&n.getIsAvailableToBeFocused&&n.getIsFocusable()&&n.getIsAvailableToBeFocused(n.el())){i.push(n);return}else n.hasOwnProperty("children_")&&n.children_.length>0?r(n.children_):n.hasOwnProperty("items")&&n.items.length>0?r(n.items):this.findSuitableDOMChild(n)&&i.push(n);if(n.name_==="ErrorDisplay"&&n.opened_){const s=n.el_.querySelector(".vjs-errors-ok-button-container");s&&s.querySelectorAll("button").forEach((o,l)=>{i.push({name:()=>"ModalButton"+(l+1),el:()=>o,getPositions:()=>{const u=o.getBoundingClientRect(),c={x:u.x,y:u.y,width:u.width,height:u.height,top:u.top,right:u.right,bottom:u.bottom,left:u.left},d={x:u.left+u.width/2,y:u.top+u.height/2,width:0,height:0,top:u.top+u.height/2,right:u.left+u.width/2,bottom:u.top+u.height/2,left:u.left+u.width/2};return{boundingClientRect:c,center:d}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:u=>!0,focus:()=>o.focus()})})}}),this.focusableComponents=i,this.focusableComponents}findSuitableDOMChild(e){function i(r){if(e.getIsFocusable(r)&&e.getIsAvailableToBeFocused(r))return r;for(let n=0;n<r.children.length;n++){const s=r.children[n],a=i(s);if(a)return a}return null}return e.el()?i(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const i=e||document.activeElement;if(this.focusableComponents.length){for(const r of this.focusableComponents)if(r.el()===i)return r}}add(e){const i=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&i.push(e),this.focusableComponents=i,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let i=0;i<this.focusableComponents.length;i++)if(this.focusableComponents[i].name()===e.name()){this.focusableComponents.splice(i,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const i=this.getCurrentComponent();if(!i)return;const r=i.getPositions(),n=this.focusableComponents.filter(a=>a!==i&&this.isInDirection_(r.boundingClientRect,a.getPositions().boundingClientRect,e)),s=this.findBestCandidate_(r.center,n,e);s?this.focus(s):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:i})}findBestCandidate_(e,i,r){let n=1/0,s=null;for(const a of i){const o=a.getPositions().center,l=this.calculateDistance_(e,o,r);l<n&&(n=l,s=a)}return s}isInDirection_(e,i,r){switch(r){case"right":return i.left>=e.right;case"left":return i.right<=e.left;case"down":return i.top>=e.bottom;case"up":return i.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,i,r){const n=Math.abs(e.x-i.x),s=Math.abs(e.y-i.y);let a;switch(r){case"right":case"left":a=n+s*100;break;case"up":a=s*2+n*.5;break;case"down":a=s*5+n;break;default:a=n+s}return a}searchForTrackSelect_(){const e=this;for(const i of e.updateFocusableComponents())if(i.constructor.name==="TextTrackSelect"){e.focus(i);break}}}class CK extends he{constructor(e,i,r){const n=di({createEl:!1},i);if(super(e,n,r),!i.playerOptions.sources||i.playerOptions.sources.length===0)for(let s=0,a=i.playerOptions.techOrder;s<a.length;s++){const o=Li(a[s]);let l=Et.getTech(o);if(o||(l=he.getComponent(o)),l&&l.isSupported()){e.loadTech_(o);break}}else e.src(i.playerOptions.sources)}}he.registerComponent("MediaLoader",CK);class f2 extends he{constructor(e,i){super(e,i),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=r=>this.handleMouseOver(r),this.handleMouseOut_=r=>this.handleMouseOut(r),this.handleClick_=r=>this.handleClick(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.emitTapEvents(),this.enable()}createEl(e="div",i={},r={}){i=Object.assign({className:this.buildCSSClass(),tabIndex:0},i),e==="button"&&Nt.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),r=Object.assign({role:"button"},r),this.tabIndex_=i.tabIndex;const n=mt(e,i,r);return this.player_.options_.experimentalSvgIcons||n.appendChild(mt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=mt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,i=this.el()){if(e===void 0)return this.controlText_||"Need Text";const r=this.localize(e);this.controlText_=e,Sl(this.controlTextEl_,r),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&i.setAttribute("title",r)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}he.registerComponent("ClickableComponent",f2);class i5 extends f2{constructor(e,i){super(e,i),this.update(),this.update_=r=>this.update(r),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return mt("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const i=this.player().poster();this.setSrc(i),i?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(mt("picture",{className:"vjs-poster",tabIndex:-1},{},mt("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Ys(this.player_.play()):this.player_.pause())}}i5.prototype.crossorigin=i5.prototype.crossOrigin;he.registerComponent("PosterImage",i5);const qn="#222",Kx="#ccc",kK={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function $4(t,e){let i;if(t.length===4)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)i=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function Rs(t,e,i){try{t.style[e]=i}catch{return}}function Wx(t){return t?`${t}px`:""}class TK extends he{constructor(e,i,r){super(e,i,r);const n=a=>this.updateDisplay(a),s=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("texttrackchange",n),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(mi(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const a=H.screen.orientation||H,o=H.screen.orientation?"change":"orientationchange";a.addEventListener(o,s),e.on("dispose",()=>a.removeEventListener(o,s));const l=this.options_.playerOptions.tracks||[];for(let u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},i=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage;let n,s,a;for(let o=0;o<i.length;o++){const l=i[o];r&&r.enabled&&r.language&&r.language===l.language&&l.kind in e?l.kind===r.kind?a=l:a||(a=l):r&&!r.enabled?(a=null,n=null,s=null):l.default&&(l.kind==="descriptions"&&!n?n=l:l.kind in e&&!s&&(s=l))}a?a.mode="showing":s?s.mode="showing":n&&(n.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof H.WebVTT=="function"&&H.WebVTT.processCues(H,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),i=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),i){const a=[];for(let o=0;o<e.length;++o){const l=e[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}let r=null,n=null,s=e.length;for(;s--;){const a=e[s];a.mode==="showing"&&(a.kind==="descriptions"?r=a:n=a)}if(n?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):r&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(r)),!H.CSS.supports("inset","10px")){const a=this.el_,o=a.querySelectorAll(".vjs-text-track-cue"),l=this.player_.controlBar.el_.getBoundingClientRect().height,u=this.player_.el_.getBoundingClientRect().height;a.style="",Rs(a,"position","relative"),Rs(a,"height",u-l+"px"),Rs(a,"top","unset"),F1?Rs(a,"bottom",u+"px"):Rs(a,"bottom","0px"),o.length>0&&o.forEach(c=>{if(c.style.inset){const d=c.style.inset.split(" ");d.length===3&&Object.assign(c.style,{top:d[0],right:d[1],bottom:d[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!H.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),i=this.player_.currentHeight(),r=e/i,n=this.player_.videoWidth()/this.player_.videoHeight();let s=0,a=0;Math.abs(r-n)>.1&&(r>n?s=Math.round((e-i*n)/2):a=Math.round((i-e/n)/2)),Rs(this.el_,"insetInline",Wx(s)),Rs(this.el_,"insetBlock",Wx(a))}updateDisplayState(e){const i=this.player_.textTrackSettings.getValues(),r=e.activeCues;let n=r.length;for(;n--;){const s=r[n];if(!s)continue;const a=s.displayState;if(i.color&&(a.firstChild.style.color=i.color),i.textOpacity&&Rs(a.firstChild,"color",$4(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(a.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&Rs(a.firstChild,"backgroundColor",$4(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?Rs(a,"backgroundColor",$4(i.windowColor,i.windowOpacity)):a.style.backgroundColor=i.windowColor),i.edgeStyle&&(i.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${qn}, 2px 2px 4px ${qn}, 2px 2px 5px ${qn}`:i.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${qn}, 2px 2px ${qn}, 3px 3px ${qn}`:i.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${Kx}, 0 1px ${Kx}, -1px -1px ${qn}, 0 -1px ${qn}`:i.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${qn}, 0 0 4px ${qn}, 0 0 4px ${qn}, 0 0 4px ${qn}`)),i.fontPercent&&i.fontPercent!==1){const o=H.parseFloat(a.style.fontSize);a.style.fontSize=o*i.fontPercent+"px",a.style.height="auto",a.style.top="auto"}i.fontFamily&&i.fontFamily!=="default"&&(i.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=kK[i.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof H.WebVTT!="function"||e.every(r=>!r.activeCues))return;const i=[];for(let r=0;r<e.length;++r){const n=e[r];for(let s=0;s<n.activeCues.length;++s)i.push(n.activeCues[s])}H.WebVTT.processCues(H,i,this.el_);for(let r=0;r<e.length;++r){const n=e[r];for(let s=0;s<n.activeCues.length;++s){const a=n.activeCues[s].displayState;_u(a,"vjs-text-track-cue","vjs-text-track-cue-"+(n.language?n.language:r)),n.language&&b0(a,"lang",n.language)}this.player_.textTrackSettings&&this.updateDisplayState(n)}}}he.registerComponent("TextTrackDisplay",TK);class EK extends he{createEl(){const e=this.player_.isAudio(),i=this.localize(e?"Audio Player":"Video Player"),r=mt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[i])}),n=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(r),n}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}he.registerComponent("LoadingSpinner",EK);class Ir extends f2{createEl(e,i={},r={}){e="button",i=Object.assign({className:this.buildCSSClass()},i),r=Object.assign({type:"button"},r);const n=mt(e,i,r);return this.player_.options_.experimentalSvgIcons||n.appendChild(mt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}addChild(e,i={}){const r=this.constructor.name;return Nt.warn(`Adding an actionable (user controllable) child to a Button (${r}) is not supported; use a ClickableComponent instead.`),he.prototype.addChild.call(this,e,i)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}he.registerComponent("Button",Ir);class yM extends Ir{constructor(e,i){super(e,i),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",r=>this.handleMouseDown(r))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const i=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){Ys(i),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const r=this.player_.getChild("controlBar"),n=r&&r.getChild("playToggle");if(!n){this.player_.tech(!0).focus();return}const s=()=>n.focus();vh(i)?i.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}yM.prototype.controlText_="Play Video";he.registerComponent("BigPlayButton",yM);class AK extends Ir{constructor(e,i){super(e,i),this.setIcon("cancel"),this.controlText(i&&i.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}he.registerComponent("CloseButton",AK);class vM extends Ir{constructor(e,i={}){super(e,i),i.replay=i.replay===void 0||i.replay,this.setIcon("play"),this.on(e,"play",r=>this.handlePlay(r)),this.on(e,"pause",r=>this.handlePause(r)),i.replay&&this.on(e,"ended",r=>this.handleEnded(r))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Ys(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",i=>this.handleSeeked(i))}}vM.prototype.controlText_="Play";he.registerComponent("PlayToggle",vM);class z0 extends he{constructor(e,i){super(e,i),this.on(e,["timeupdate","ended","seeking"],r=>this.update(r)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),i=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),r=mt("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return i.appendChild(r),this.contentEl_=mt("span",{className:`${e}-display`},{role:"presentation"}),i.appendChild(this.contentEl_),i}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Bu(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let i=this.textNode_;i&&this.contentEl_.firstChild!==i&&(i=null,Nt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Pe.createTextNode(this.formattedTime_),this.textNode_&&(i?this.contentEl_.replaceChild(this.textNode_,i):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}z0.prototype.labelText_="Time";z0.prototype.controlText_="Time";he.registerComponent("TimeDisplay",z0);class kb extends z0{buildCSSClass(){return"vjs-current-time"}updateContent(e){let i;this.player_.ended()?i=this.player_.duration():i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(i)}}kb.prototype.labelText_="Current Time";kb.prototype.controlText_="Current Time";he.registerComponent("CurrentTimeDisplay",kb);class Tb extends z0{constructor(e,i){super(e,i);const r=n=>this.updateContent(n);this.on(e,"durationchange",r),this.on(e,"loadstart",r),this.on(e,"loadedmetadata",r)}buildCSSClass(){return"vjs-duration"}updateContent(e){const i=this.player_.duration();this.updateTextNode_(i)}}Tb.prototype.labelText_="Duration";Tb.prototype.controlText_="Duration";he.registerComponent("DurationDisplay",Tb);class MK extends he{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),i=super.createEl("div"),r=super.createEl("span",{textContent:"/"});return i.appendChild(r),e.appendChild(i),e}}he.registerComponent("TimeDivider",MK);class Eb extends z0{constructor(e,i){super(e,i),this.on(e,"durationchange",r=>this.updateContent(r))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(mt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let i;this.player_.ended()?i=0:this.player_.remainingTimeDisplay?i=this.player_.remainingTimeDisplay():i=this.player_.remainingTime(),this.updateTextNode_(i)}}Eb.prototype.labelText_="Remaining Time";Eb.prototype.controlText_="Remaining Time";he.registerComponent("RemainingTimeDisplay",Eb);class DK extends he{constructor(e,i){super(e,i),this.updateShowing(),this.on(this.player(),"durationchange",r=>this.updateShowing(r))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=mt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(mt("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(Pe.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}he.registerComponent("LiveDisplay",DK);class bM extends Ir{constructor(e,i){super(e,i),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=r=>this.updateLiveEdgeStatus(r),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=mt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}bM.prototype.controlText_="Seek to live, currently playing live";he.registerComponent("SeekToLive",bM);function yp(t,e,i){return t=Number(t),Math.min(i,Math.max(e,isNaN(t)?e:t))}var LK=Object.freeze({__proto__:null,clamp:yp});class Ab extends he{constructor(e,i){super(e,i),this.handleMouseDown_=r=>this.handleMouseDown(r),this.handleMouseUp_=r=>this.handleMouseUp(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.handleClick_=r=>this.handleClick(r),this.handleMouseMove_=r=>this.handleMouseMove(r),this.update_=r=>this.update(r),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,i={},r={}){return i.className=i.className+" vjs-slider",i=Object.assign({tabIndex:0},i),r=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},r),super.createEl(e,i,r)}handleMouseDown(e){const i=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!ha&&e.preventDefault(),KA(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(i,"mousemove",this.handleMouseMove_),this.on(i,"mouseup",this.handleMouseUp_),this.on(i,"touchmove",this.handleMouseMove_),this.on(i,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const i=this.bar.el_.ownerDocument;WA(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(i,"mousemove",this.handleMouseMove_),this.off(i,"mouseup",this.handleMouseUp_),this.off(i,"touchmove",this.handleMouseMove_),this.off(i,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const i=this.vertical()?"height":"width";this.bar.el().style[i]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(yp(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const i=l2(this.el_,e);return this.vertical()?i.y:i.x}handleKeyDown(e){const i=this.options_.playerOptions.spatialNavigation,r=i&&i.enabled,n=i&&i.horizontalSeek;r?n&&e.key==="ArrowLeft"||!n&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):n&&e.key==="ArrowRight"||!n&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}he.registerComponent("Slider",Ab);const z4=(t,e)=>yp(t/e*100,0,100).toFixed(2)+"%";class BK extends he{constructor(e,i){super(e,i),this.partEls_=[],this.on(e,"progress",r=>this.update(r))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),i=mt("span",{className:"vjs-control-text"}),r=mt("span",{textContent:this.localize("Loaded")}),n=Pe.createTextNode(": ");return this.percentageEl_=mt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(i),i.appendChild(r),i.appendChild(n),i.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const i=this.player_.liveTracker,r=this.player_.buffered(),n=i&&i.isLive()?i.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),a=this.partEls_,o=z4(s,n);this.percent_!==o&&(this.el_.style.width=o,Sl(this.percentageEl_,o),this.percent_=o);for(let l=0;l<r.length;l++){const u=r.start(l),c=r.end(l);let d=a[l];d||(d=this.el_.appendChild(mt()),a[l]=d),!(d.dataset.start===u&&d.dataset.end===c)&&(d.dataset.start=u,d.dataset.end=c,d.style.left=z4(u,s),d.style.width=z4(c-u,s))}for(let l=a.length;l>r.length;l--)this.el_.removeChild(a[l-1]);a.length=r.length})}}he.registerComponent("LoadProgressBar",BK);class PK extends he{constructor(e,i){super(e,i),this.update=pa(mi(this,this.update),rs)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,i,r){const n=Wh(this.el_),s=x0(this.player_.el()),a=e.width*i;if(!s||!n)return;let o=e.left-s.left+a,l=e.width-a+(s.right-e.right);l||(l=e.width-a,o=a);let u=n.width/2;o<u?u+=u-o:l<u&&(u=l),u<0?u=0:u>n.width&&(u=n.width),u=Math.round(u),this.el_.style.right=`-${u}px`,this.write(r)}write(e){Sl(this.el_,e)}updateTime(e,i,r,n){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const o=this.player_.liveTracker.liveWindow(),l=o-i*o;s=(l<1?"":"-")+Bu(l,o)}else s=Bu(r,a);this.update(e,i,s),n&&n()})}}he.registerComponent("TimeTooltip",PK);class Mb extends he{constructor(e,i){super(e,i),this.setIcon("circle"),this.update=pa(mi(this,this.update),rs)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,i){const r=this.getChild("timeTooltip");if(!r)return;const n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();r.updateTime(e,i,n)}}Mb.prototype.options_={children:[]};!Qr&&!da&&Mb.prototype.options_.children.push("timeTooltip");he.registerComponent("PlayProgressBar",Mb);class xM extends he{constructor(e,i){super(e,i),this.update=pa(mi(this,this.update),rs)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,i){const r=i*this.player_.duration();this.getChild("timeTooltip").updateTime(e,i,r,()=>{this.el_.style.left=`${e.width*i}px`})}}xM.prototype.options_={children:["timeTooltip"]};he.registerComponent("MouseTimeDisplay",xM);const Sf=5,Gx=12;class Db extends Ab{constructor(e,i){super(e,i),this.setEventHandlers_()}setEventHandlers_(){this.update_=mi(this,this.update),this.update=pa(this.update_,rs),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Pe&&"visibilityState"in Pe&&this.on(Pe,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Pe.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,rs))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Pe.visibilityState==="hidden")return;const i=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const r=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),n=this.player_.liveTracker;let s=this.player_.duration();n&&n.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==i&&(this.el_.setAttribute("aria-valuenow",(i*100).toFixed(2)),this.percent_=i),(this.currentTime_!==r||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Bu(r,s),Bu(s,s)],"{1} of {2}")),this.currentTime_=r,this.duration_=s),this.bar&&this.bar.update(x0(this.el()),this.getProgress())}),i}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let i;const r=this.player_.liveTracker;return r&&r.isLive()?(i=(e-r.seekableStart())/r.liveWindow(),r.atLiveEdge()&&(i=1)):i=e/this.player_.duration(),i}handleMouseDown(e){Gh(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,i=!1){if(!Gh(e)||isNaN(this.player_.duration()))return;!i&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let r;const n=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())r=n*this.player_.duration(),r===this.player_.duration()&&(r=r-.1);else{if(n>=.99){s.seekToLiveEdge();return}const a=s.seekableStart(),o=s.liveCurrentTime();if(r=a+n*s.liveWindow(),r>=o&&(r=o),r<=a&&(r=a+.1),r===1/0)return}this.userSeek_(r),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Ys(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+Sf)}stepBack(){this.userSeek_(this.player_.currentTime()-Sf)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const i=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),i&&i.isLive()?this.userSeek_(i.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const r=parseInt(e.key,10)*.1;i&&i.isLive()?this.userSeek_(i.seekableStart()+i.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Sf*Gx)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Sf*Gx)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Pe&&"visibilityState"in Pe&&this.off(Pe,"visibilitychange",this.toggleVisibility_),super.dispose()}}Db.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Qr&&!da&&Db.prototype.options_.children.splice(1,0,"mouseTimeDisplay");he.registerComponent("SeekBar",Db);class _M extends he{constructor(e,i){super(e,i),this.handleMouseMove=pa(mi(this,this.handleMouseMove),rs),this.throttledHandleMouseSeek=pa(mi(this,this.handleMouseSeek),rs),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.handleMouseDownHandler_=r=>this.handleMouseDown(r),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const i=this.getChild("seekBar");if(!i)return;const r=i.getChild("playProgressBar"),n=i.getChild("mouseTimeDisplay");if(!r&&!n)return;const s=i.el(),a=Wh(s);let o=l2(s,e).x;o=yp(o,0,1),n&&n.update(a,o),r&&r.update(a,i.getProgress())}handleMouseSeek(e){const i=this.getChild("seekBar");i&&i.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Ys(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const i=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(e),this.on(i,"mousemove",this.throttledHandleMouseSeek),this.on(i,"touchmove",this.throttledHandleMouseSeek),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const i=this.getChild("seekBar");i&&i.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}_M.prototype.options_={children:["seekBar"]};he.registerComponent("ProgressControl",_M);class wM extends Ir{constructor(e,i){super(e,i),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],r=>this.handlePictureInPictureChange(r)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],r=>this.handlePictureInPictureEnabledChange(r)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Pe.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in H?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Pe.exitPictureInPicture=="function"&&super.show()}}wM.prototype.controlText_="Picture-in-Picture";he.registerComponent("PictureInPictureToggle",wM);class SM extends Ir{constructor(e,i){super(e,i),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",r=>this.handleFullscreenChange(r)),Pe[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}SM.prototype.controlText_="Fullscreen";he.registerComponent("FullscreenToggle",SM);const IK=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class RK extends he{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}he.registerComponent("VolumeLevel",RK);class OK extends he{constructor(e,i){super(e,i),this.update=pa(mi(this,this.update),rs)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,i,r,n){if(!r){const s=x0(this.el_),a=x0(this.player_.el()),o=e.width*i;if(!a||!s)return;const l=e.left-a.left+o,u=e.width-o+(a.right-e.right);let c=s.width/2;l<c?c+=c-l:u<c&&(c=u),c<0?c=0:c>s.width&&(c=s.width),this.el_.style.right=`-${c}px`}this.write(`${n}%`)}write(e){Sl(this.el_,e)}updateVolume(e,i,r,n,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,i,r,n.toFixed(0)),s&&s()})}}he.registerComponent("VolumeLevelTooltip",OK);class CM extends he{constructor(e,i){super(e,i),this.update=pa(mi(this,this.update),rs)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,i,r){const n=100*i;this.getChild("volumeLevelTooltip").updateVolume(e,i,r,n,()=>{r?this.el_.style.bottom=`${e.height*i}px`:this.el_.style.left=`${e.width*i}px`})}}CM.prototype.options_={children:["volumeLevelTooltip"]};he.registerComponent("MouseVolumeLevelDisplay",CM);class m2 extends Ab{constructor(e,i){super(e,i),this.on("slideractive",r=>this.updateLastVolume_(r)),this.on(e,"volumechange",r=>this.updateARIAAttributes(r)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Gh(e)&&super.handleMouseDown(e)}handleMouseMove(e){const i=this.getChild("mouseVolumeLevelDisplay");if(i){const r=this.el(),n=x0(r),s=this.vertical();let a=l2(r,e);a=s?a.y:a.x,a=yp(a,0,1),i.update(n,a,s)}Gh(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const i=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",i),this.el_.setAttribute("aria-valuetext",i+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}m2.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Qr&&!da&&m2.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");m2.prototype.playerEvent="volumechange";he.registerComponent("VolumeBar",m2);class kM extends he{constructor(e,i={}){i.vertical=i.vertical||!1,(typeof i.volumeBar>"u"||v0(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),super(e,i),IK(this,e),this.throttledHandleMouseMove=pa(mi(this,this.handleMouseMove),rs),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.on("mousedown",r=>this.handleMouseDown(r)),this.on("touchstart",r=>this.handleMouseDown(r)),this.on("mousemove",r=>this.handleMouseMove(r)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const i=this.el_.ownerDocument;this.on(i,"mousemove",this.throttledHandleMouseMove),this.on(i,"touchmove",this.throttledHandleMouseMove),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const i=this.el_.ownerDocument;this.off(i,"mousemove",this.throttledHandleMouseMove),this.off(i,"touchmove",this.throttledHandleMouseMove),this.off(i,"mouseup",this.handleMouseUpHandler_),this.off(i,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}kM.prototype.options_={children:["volumeBar"]};he.registerComponent("VolumeControl",kM);const FK=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class TM extends Ir{constructor(e,i){super(e,i),FK(this,e),this.on(e,["loadstart","volumechange"],r=>this.update(r))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const i=this.player_.volume(),r=this.player_.lastVolume_();if(i===0){const n=r<.1?.1:r;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let i=3;this.setIcon("volume-high"),Qr&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),i=0):e<.33?(this.setIcon("volume-low"),i=1):e<.67&&(this.setIcon("volume-medium"),i=2),a2(this.el_,[0,1,2,3].reduce((r,n)=>r+`${n?" ":""}vjs-vol-${n}`,"")),_u(this.el_,`vjs-vol-${i}`)}updateControlText_(){const i=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==i&&this.controlText(i)}}TM.prototype.controlText_="Mute";he.registerComponent("MuteToggle",TM);class EM extends he{constructor(e,i={}){typeof i.inline<"u"?i.inline=i.inline:i.inline=!0,(typeof i.volumeControl>"u"||v0(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),super(e,i),this.handleKeyPressHandler_=r=>this.handleKeyPress(r),this.on(e,["loadstart"],r=>this.volumePanelState_(r)),this.on(this.muteToggle,"keyup",r=>this.handleKeyPress(r)),this.on(this.volumeControl,"keyup",r=>this.handleVolumeControlKeyUp(r)),this.on("keydown",r=>this.handleKeyPress(r)),this.on("mouseover",r=>this.handleMouseOver(r)),this.on("mouseout",r=>this.handleMouseOut(r)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),In(Pe,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Pr(Pe,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}EM.prototype.options_={children:["muteToggle","volumeControl"]};he.registerComponent("VolumePanel",EM);class AM extends Ir{constructor(e,i){super(e,i),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const i=this.player_.currentTime(),r=this.player_.liveTracker,n=r&&r.isLive()?r.seekableEnd():this.player_.duration();let s;i+this.skipTime<=n?s=i+this.skipTime:s=n,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}AM.prototype.controlText_="Skip Forward";he.registerComponent("SkipForward",AM);class MM extends Ir{constructor(e,i){super(e,i),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const i=this.player_.currentTime(),r=this.player_.liveTracker,n=r&&r.isLive()&&r.seekableStart();let s;n&&i-this.skipTime<=n?s=n:i>=this.skipTime?s=i-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}MM.prototype.controlText_="Skip Backward";he.registerComponent("SkipBackward",MM);class DM extends he{constructor(e,i){super(e,i),i&&(this.menuButton_=i.menuButton),this.focusedChild_=-1,this.on("keydown",r=>this.handleKeyDown(r)),this.boundHandleBlur_=r=>this.handleBlur(r),this.boundHandleTapClick_=r=>this.handleTapClick(r)}addEventListenerForItem(e){e instanceof he&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof he&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const i=this.addChild(e);i&&this.addEventListenerForItem(i)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=mt(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const i=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),In(i,"click",function(r){r.preventDefault(),r.stopImmediatePropagation()}),i}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const i=e.relatedTarget||Pe.activeElement;if(!this.children().some(r=>r.el()===i)){const r=this.menuButton_;r&&r.buttonPressed_&&i!==r.el().firstChild&&r.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const i=this.children();if(!Array.isArray(i))return;const r=i.filter(n=>n.el()===e.target)[0];if(!r)return;r.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const i=this.children().slice();i.length&&i[0].hasClass("vjs-menu-title")&&i.shift(),i.length>0&&(e<0?e=0:e>=i.length&&(e=i.length-1),this.focusedChild_=e,i[e].el_.focus())}}he.registerComponent("Menu",DM);class Lb extends he{constructor(e,i={}){super(e,i),this.menuButton_=new Ir(e,i),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const r=Ir.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+r,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const n=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",n),this.on(this.menuButton_,"click",n),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),In(Pe,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new DM(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const i=mt("li",{className:"vjs-menu-title",textContent:Li(this.options_.title),tabIndex:-1}),r=new he(this.player_,{el:i});e.addItem(r)}if(this.items=this.createItems(),this.items)for(let i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const i=Ir.prototype.buildCSSClass();return`vjs-menu-button ${e} ${i} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,i=this.menuButton_.el()){return this.menuButton_.controlText(e,i)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Pr(Pe,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Esc"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Esc"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Esc"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Qr&&UA())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}he.registerComponent("MenuButton",Lb);class Bb extends Lb{constructor(e,i){const r=i.tracks;if(super(e,i),this.items.length<=1&&this.hide(),!r)return;const n=mi(this,this.update);r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),r.addEventListener("labelchange",n),this.player_.on("ready",n),this.player_.on("dispose",function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n),r.removeEventListener("labelchange",n)})}}he.registerComponent("TrackButton",Bb);class vp extends f2{constructor(e,i){super(e,i),this.selectable=i.selectable,this.isSelected_=i.selected||!1,this.multiSelectable=i.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,i,r){this.nonIconControl=!0;const n=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},i),r),s=mt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?n.appendChild(s):n.replaceChild(s,n.querySelector(".vjs-icon-placeholder")),n}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}he.registerComponent("MenuItem",vp);class bp extends vp{constructor(e,i){const r=i.track,n=e.textTracks();i.label=r.label||r.language||"Unknown",i.selected=r.mode==="showing",super(e,i),this.track=r,this.kinds=(i.kinds||[i.kind||this.track.kind]).filter(Boolean);const s=(...o)=>{this.handleTracksChange.apply(this,o)},a=(...o)=>{this.handleSelectedLanguageChange.apply(this,o)};if(e.on(["loadstart","texttrackchange"],s),n.addEventListener("change",s),n.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),n.removeEventListener("change",s),n.removeEventListener("selectedlanguagechange",a)}),n.onchange===void 0){let o;this.on(["tap","click"],function(){if(typeof H.Event!="object")try{o=new H.Event("change")}catch{}o||(o=Pe.createEvent("Event"),o.initEvent("change",!0,!0)),n.dispatchEvent(o)})}this.handleTracksChange()}handleClick(e){const i=this.track,r=this.player_.textTracks();if(super.handleClick(e),!!r)for(let n=0;n<r.length;n++){const s=r[n];this.kinds.indexOf(s.kind)!==-1&&(s===i?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const i=this.track.mode==="showing";i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const i=this.player_.cache_.selectedLanguage;if(i&&i.enabled&&i.language===this.track.language&&i.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}he.registerComponent("TextTrackMenuItem",bp);class LM extends bp{constructor(e,i){i.track={player:e,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,super(e,i)}handleTracksChange(e){const i=this.player().textTracks();let r=!0;for(let n=0,s=i.length;n<s;n++){const a=i[n];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){r=!1;break}}r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){const i=this.player().textTracks();let r=!0;for(let n=0,s=i.length;n<s;n++){const a=i[n];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}he.registerComponent("OffTextTrackMenuItem",LM);class U0 extends Bb{constructor(e,i={}){i.tracks=e.textTracks(),super(e,i)}createItems(e=[],i=bp){let r;this.label_&&(r=`${this.label_} off`),e.push(new LM(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;const n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<n.length;s++){const a=n[s];if(this.kinds_.indexOf(a.kind)>-1){const o=new i(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass(`vjs-${a.kind}-menu-item`),e.push(o)}}return e}}he.registerComponent("TextTrackButton",U0);class BM extends vp{constructor(e,i){const r=i.track,n=i.cue,s=e.currentTime();i.selectable=!0,i.multiSelectable=!1,i.label=n.text,i.selected=n.startTime<=s&&s<n.endTime,super(e,i),this.track=r,this.cue=n}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}he.registerComponent("ChaptersTrackMenuItem",BM);class Pb extends U0{constructor(e,i,r){super(e,i,r),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(n=>{n.selected(this.track_.activeCues[0]===n.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const i=this.findChaptersTrack();i!==this.track_?(this.setTrack(i),super.update()):(!this.items||i&&i.cues&&i.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let i=e.length-1;i>=0;i--){const r=e[i];if(r.kind===this.kind_)return r}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(Li(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const i=this.track_.cues;if(!i)return e;for(let r=0,n=i.length;r<n;r++){const s=i[r],a=new BM(this.player_,{track:this.track_,cue:s});e.push(a)}return e}}Pb.prototype.kind_="chapters";Pb.prototype.controlText_="Chapters";he.registerComponent("ChaptersButton",Pb);class Ib extends U0{constructor(e,i,r){super(e,i,r),this.setIcon("audio-description");const n=e.textTracks(),s=mi(this,this.handleTracksChange);n.addEventListener("change",s),this.on("dispose",function(){n.removeEventListener("change",s)})}handleTracksChange(e){const i=this.player().textTracks();let r=!1;for(let n=0,s=i.length;n<s;n++){const a=i[n];if(a.kind!==this.kind_&&a.mode==="showing"){r=!0;break}}r?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}Ib.prototype.kind_="descriptions";Ib.prototype.controlText_="Descriptions";he.registerComponent("DescriptionsButton",Ib);class Rb extends U0{constructor(e,i,r){super(e,i,r),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}Rb.prototype.kind_="subtitles";Rb.prototype.controlText_="Subtitles";he.registerComponent("SubtitlesButton",Rb);class Ob extends bp{constructor(e,i){i.track={player:e,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",super(e,i),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+i.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}he.registerComponent("CaptionSettingsMenuItem",Ob);class Fb extends U0{constructor(e,i,r){super(e,i,r),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new Ob(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}Fb.prototype.kind_="captions";Fb.prototype.controlText_="Captions";he.registerComponent("CaptionsButton",Fb);class PM extends bp{createEl(e,i,r){const n=super.createEl(e,i,r),s=n.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",n):s.appendChild(mt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(mt("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),n}}he.registerComponent("SubsCapsMenuItem",PM);class Nb extends U0{constructor(e,i={}){super(e,i),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(Li(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new Ob(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,PM),e}}Nb.prototype.kinds_=["captions","subtitles"];Nb.prototype.controlText_="Subtitles";he.registerComponent("SubsCapsButton",Nb);class IM extends vp{constructor(e,i){const r=i.track,n=e.audioTracks();i.label=r.label||r.language||"Unknown",i.selected=r.enabled,super(e,i),this.track=r,this.addClass(`vjs-${r.kind}-menu-item`);const s=(...a)=>{this.handleTracksChange.apply(this,a)};n.addEventListener("change",s),this.on("dispose",()=>{n.removeEventListener("change",s)})}createEl(e,i,r){const n=super.createEl(e,i,r),s=n.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(mt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(mt("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),n}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const i=this.player_.audioTracks();for(let r=0;r<i.length;r++){const n=i[r];n!==this.track&&(n.enabled=n===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}he.registerComponent("AudioTrackMenuItem",IM);class RM extends Bb{constructor(e,i={}){i.tracks=e.audioTracks(),super(e,i),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const i=this.player_.audioTracks();for(let r=0;r<i.length;r++){const n=i[r];e.push(new IM(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e}}RM.prototype.controlText_="Audio Track";he.registerComponent("AudioTrackButton",RM);class $b extends vp{constructor(e,i){const r=i.rate,n=parseFloat(r,10);i.label=r,i.selected=n===e.playbackRate(),i.selectable=!0,i.multiSelectable=!1,super(e,i),this.label=r,this.rate=n,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}$b.prototype.contentElType="button";he.registerComponent("PlaybackRateMenuItem",$b);class OM extends Lb{constructor(e,i){super(e,i),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",r=>this.updateVisibility(r)),this.on(e,"ratechange",r=>this.updateLabel(r)),this.on(e,"playbackrateschange",r=>this.handlePlaybackRateschange(r))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=mt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),i=[];for(let r=e.length-1;r>=0;r--)i.push(new $b(this.player(),{rate:e[r]+"x"}));return i}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}OM.prototype.controlText_="Playback Rate";he.registerComponent("PlaybackRateMenuButton",OM);class FM extends he{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",i={},r={}){return i.className||(i.className=this.buildCSSClass()),super.createEl(e,i,r)}}he.registerComponent("Spacer",FM);class NK extends FM{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}he.registerComponent("CustomControlSpacer",NK);class NM extends he{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}NM.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};he.registerComponent("ControlBar",NM);class $M extends $0{constructor(e,i){super(e,i),this.on(e,"error",r=>{this.open(r)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}$M.prototype.options_=Object.assign({},$0.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});he.registerComponent("ErrorDisplay",$M);class zM extends he{constructor(e,i={}){super(e,i),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),mt("select",{id:this.options_.id},{},this.options_.SelectOptions.map(i=>{const r=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${is()}`)+"-"+i[1].replace(/\W+/g,""),n=mt("option",{id:r,value:this.localize(i[0]),textContent:i[1]});return n.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${r}`),n}))}}he.registerComponent("TextTrackSelect",zM);class Su extends he{constructor(e,i={}){super(e,i);const r=mt("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(r);const n=this.options_.selects;for(const s of n){const a=this.options_.selectConfigs[s],o=a.className,l=a.id.replace("%s",this.options_.id_);let u=null;const c=`vjs_select_${is()}`;if(this.options_.type==="colors"){u=mt("span",{className:o});const h=mt("label",{id:l,className:"vjs-label",textContent:a.label});h.setAttribute("for",c),u.appendChild(h)}const d=new zM(e,{SelectOptions:a.options,legendId:this.options_.legendId,id:c,labelId:l});this.addChild(d),this.options_.type==="colors"&&(u.appendChild(d.el()),this.el().appendChild(u))}}createEl(){return mt("fieldset",{className:this.options_.className})}}he.registerComponent("TextTrackFieldset",Su);class UM extends he{constructor(e,i={}){super(e,i);const r=this.options_.textTrackComponentid,n=new Su(e,{id_:r,legendId:`captions-text-legend-${r}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(n);const s=new Su(e,{id_:r,legendId:`captions-background-${r}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const a=new Su(e,{id_:r,legendId:`captions-window-${r}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a)}createEl(){return mt("div",{className:"vjs-track-settings-colors"})}}he.registerComponent("TextTrackSettingsColors",UM);class qM extends he{constructor(e,i={}){super(e,i);const r=this.options_.textTrackComponentid,n=new Su(e,{id_:r,legendId:`captions-font-size-${r}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(n);const s=new Su(e,{id_:r,legendId:`captions-edge-style-${r}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const a=new Su(e,{id_:r,legendId:`captions-font-family-${r}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a)}createEl(){return mt("div",{className:"vjs-track-settings-font"})}}he.registerComponent("TextTrackSettingsFont",qM);class jM extends he{constructor(e,i={}){super(e,i);const r=this.localize("restore all settings to the default values"),n=new Ir(e,{controlText:r,className:"vjs-default-button"});n.el().classList.remove("vjs-control","vjs-button"),n.el().textContent=this.localize("Reset"),this.addChild(n);const s=new Ir(e,{controlText:r,className:"vjs-done-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Done"),this.addChild(s)}createEl(){return mt("div",{className:"vjs-track-settings-controls"})}}he.registerComponent("TrackSettingsControls",jM);const U4="vjs-text-track-settings",Xx=["#000","Black"],Yx=["#00F","Blue"],Zx=["#0FF","Cyan"],Jx=["#0F0","Green"],Qx=["#F0F","Magenta"],e_=["#F00","Red"],t_=["#FFF","White"],i_=["#FF0","Yellow"],q4=["1","Opaque"],j4=["0.5","Semi-Transparent"],r_=["0","Transparent"],Jo={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Xx,t_,e_,Jx,Yx,i_,Qx,Zx],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[q4,j4,r_],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[t_,Xx,e_,Jx,Yx,i_,Qx,Zx],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[q4,j4],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[r_,j4,q4],className:"vjs-window-opacity vjs-opacity"}};Jo.windowColor.options=Jo.backgroundColor.options;function VM(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function $K(t,e){const i=t.options[t.options.selectedIndex].value;return VM(i,e)}function zK(t,e,i){if(e){for(let r=0;r<t.options.length;r++)if(VM(t.options[r].value,i)===e){t.selectedIndex=r;break}}}class UK extends $0{constructor(e,i){i.temporary=!1,super(e,i),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=mt("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),i.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const i=new UM(e,{textTrackComponentid:this.id_,selectConfigs:Jo,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(i);const r=new qM(e,{textTrackComponentid:this.id_,selectConfigs:Jo,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(r);const n=new jM(e);this.addChild(n)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),Gc(Jo,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return IA(Jo,(e,i,r)=>{const n=$K(this.$(i.selector),i.parser);return n!==void 0&&(e[r]=n),e},{})}setValues(e){Gc(Jo,(i,r)=>{zK(this.$(i.selector),e[r],i.parser)})}setDefaults(){Gc(Jo,e=>{const i=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=i})}restoreSettings(){let e;try{e=JSON.parse(H.localStorage.getItem(U4))}catch(i){Nt.warn(i)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?H.localStorage.setItem(U4,JSON.stringify(e)):H.localStorage.removeItem(U4)}catch(i){Nt.warn(i)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}he.registerComponent("TextTrackSettings",UK);class qK extends he{constructor(e,i){let r=i.ResizeObserver||H.ResizeObserver;i.ResizeObserver===null&&(r=!1);const n=di({createEl:!r,reportTouchActivity:!1},i);super(e,n),this.ResizeObserver=i.ResizeObserver||H.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=rM(()=>{this.resizeHandler()},100,!1,this),r?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let a=this.unloadListener_=function(){Pr(this,"resize",s),Pr(this,"unload",a),a=null};In(this.el_.contentWindow,"unload",a),In(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}he.registerComponent("ResizeManager",qK);const jK={trackingThreshold:20,liveTolerance:15};class VK extends he{constructor(e,i){const r=di(jK,i,{createEl:!1});super(e,r),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=n=>this.handlePlay(n),this.handleFirstTimeupdate_=n=>this.handleFirstTimeupdate(n),this.handleSeeked_=n=>this.handleSeeked(n),this.seekToLiveEdge_=n=>this.seekToLiveEdge(n),this.reset_(),this.on(this.player_,"durationchange",n=>this.handleDurationchange(n)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const i=Number(H.performance.now().toFixed(4)),r=this.lastTime_===-1?0:(i-this.lastTime_)/1e3;this.lastTime_=i,this.pastSeekEnd_=this.pastSeekEnd()+r;const n=this.liveCurrentTime(),s=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(n-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||n===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,rs),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),i=[];let r=e?e.length:0;for(;r--;)i.push(e.end(r));return i.length?i.sort()[i.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),i=[];let r=e?e.length:0;for(;r--;)i.push(e.start(r));return i.length?i.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}he.registerComponent("LiveTracker",VK);class HK extends he{constructor(e,i){super(e,i),this.on("statechanged",r=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:mt("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${is()}`}),description:mt("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${is()}`})},mt("div",{className:"vjs-title-bar"},{},RA(this.els))}updateDom_(){const e=this.player_.tech_,i=e&&e.el_,r={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(n=>{const s=this.state[n],a=this.els[n],o=r[n];u2(a),s&&Sl(a,s),i&&(i.removeAttribute(o),s&&i.setAttribute(o,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,i=e&&e.el_;i&&(i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}he.registerComponent("TitleBar",HK);const KK={initialDisplay:4e3,position:[],takeFocus:!1};class WK extends Ir{constructor(e,i){i=di(KK,i),super(e,i),this.controlText(i.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],r=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=mt("button",{},{type:"button",class:this.buildCSSClass()},mt("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}he.registerComponent("TransientButton",WK);const r5=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const i=t.$$("source"),r=[];let n="";if(!i.length)return!1;for(let s=0;s<i.length;s++){const a=i[s].src;a&&r.indexOf(a)===-1&&r.push(a)}return r.length?(r.length===1&&(n=r[0]),t.triggerSourceset(n),!0):!1},GK=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=Pe.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const i=Pe.createDocumentFragment();for(;e.childNodes.length;)i.appendChild(e.childNodes[0]);return this.innerText="",H.Element.prototype.appendChild.call(this,i),this.innerHTML}}),HM=(t,e)=>{let i={};for(let r=0;r<t.length&&(i=Object.getOwnPropertyDescriptor(t[r],e),!(i&&i.set&&i.get));r++);return i.enumerable=!0,i.configurable=!0,i},XK=t=>HM([t.el(),H.HTMLMediaElement.prototype,H.Element.prototype,GK],"innerHTML"),n_=function(t){const e=t.el();if(e.resetSourceWatch_)return;const i={},r=XK(t),n=s=>(...a)=>{const o=s.apply(e,a);return r5(t),o};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(i[s]=e[s],e[s]=n(i[s]))}),Object.defineProperty(e,"innerHTML",di(r,{set:n(r.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(i).forEach(s=>{e[s]=i[s]}),Object.defineProperty(e,"innerHTML",r)},t.one("sourceset",e.resetSourceWatch_)},YK=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?pM(H.Element.prototype.getAttribute.call(this,"src")):""},set(t){return H.Element.prototype.setAttribute.call(this,"src",t),t}}),ZK=t=>HM([t.el(),H.HTMLMediaElement.prototype,YK],"src"),JK=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const i=ZK(t),r=e.setAttribute,n=e.load;Object.defineProperty(e,"src",di(i,{set:s=>{const a=i.set.call(e,s);return t.triggerSourceset(e.src),a}})),e.setAttribute=(s,a)=>{const o=r.call(e,s,a);return/src/i.test(s)&&t.triggerSourceset(e.src),o},e.load=()=>{const s=n.call(e);return r5(t)||(t.triggerSourceset(""),n_(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):r5(t)||n_(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=n,e.setAttribute=r,Object.defineProperty(e,"src",i),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Ge extends Et{constructor(e,i){super(e,i);const r=e.source;let n=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",r&&(this.el_.currentSrc!==r.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(r):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let a=s.length;const o=[];for(;a--;){const l=s[a];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!n&&!this.el_.hasAttribute("crossorigin")&&p2(l.src)&&(n=!0)):o.push(l))}for(let l=0;l<o.length;l++)this.el_.removeChild(o[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&n&&Nt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(Kh||n2)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Ge.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){JK(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let i;const r=()=>{i=[];for(let s=0;s<e.length;s++){const a=e[s];a.kind==="metadata"&&i.push({track:a,storedMode:a.mode})}};r(),e.addEventListener("change",r),this.on("dispose",()=>e.removeEventListener("change",r));const n=()=>{for(let s=0;s<i.length;s++){const a=i[s];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",r),e.removeEventListener("change",n),e.addEventListener("change",n)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",r),e.addEventListener("change",r),e.removeEventListener("change",n)})}overrideNative_(e,i){if(i!==this[`featuresNative${e}Tracks`])return;const r=e.toLowerCase();this[`${r}TracksListeners_`]&&Object.keys(this[`${r}TracksListeners_`]).forEach(n=>{this.el()[`${r}Tracks`].removeEventListener(n,this[`${r}TracksListeners_`][n])}),this[`featuresNative${e}Tracks`]=!i,this[`${r}TracksListeners_`]=null,this.proxyNativeTracksForType_(r)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const i=Jn[e],r=this.el()[i.getterName],n=this[i.getterName]();if(!this[`featuresNative${i.capitalName}Tracks`]||!r||!r.addEventListener)return;const s={change:o=>{const l={type:"change",target:n,currentTarget:n,srcElement:n};n.trigger(l),e==="text"&&this[S0.remoteText.getterName]().trigger(l)},addtrack(o){n.addTrack(o.track)},removetrack(o){n.removeTrack(o.track)}},a=function(){const o=[];for(let l=0;l<n.length;l++){let u=!1;for(let c=0;c<r.length;c++)if(r[c]===n[l]){u=!0;break}u||o.push(n[l])}for(;o.length;)n.removeTrack(o.shift())};this[i.getterName+"Listeners_"]=s,Object.keys(s).forEach(o=>{const l=s[o];r.addEventListener(o,l),this.on("dispose",u=>r.removeEventListener(o,l))}),this.on("loadstart",a),this.on("dispose",o=>this.off("loadstart",a))}proxyNativeTracks_(){Jn.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const r=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(r,e),Ge.disposeMediaElement(e),e=r}else{e=Pe.createElement("video");const r=this.options_.tag&&Zo(this.options_.tag),n=di({},r);(!Kh||this.options_.nativeControlsForTouch!==!0)&&delete n.controls,VA(e,Object.assign(n,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&b0(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const i=["loop","muted","playsinline","autoplay"];for(let r=0;r<i.length;r++){const n=i[r],s=this.options_[n];typeof s<"u"&&(s?b0(e,n,n):o2(e,n),e[n]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let r=!1;const n=function(){r=!0};this.on("loadstart",n);const s=function(){r||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",s),r||this.trigger("loadstart")});return}const i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(r){this.trigger(r)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&s2?this.el_.fastSeek(e):this.el_.currentTime=e}catch(i){Nt(i,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&da&&ha&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},i=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",()=>{this.off("webkitbeginfullscreen",i),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Ys(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}},0);else try{e.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){Ge.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,i,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,i,r):super.addTextTrack(e,i,r)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const i=Pe.createElement("track");return e.kind&&(i.kind=e.kind),e.label&&(i.label=e.label),(e.language||e.srclang)&&(i.srclang=e.language||e.srclang),e.default&&(i.default=e.default),e.id&&(i.id=e.id),e.src&&(i.src=e.src),i}addRemoteTextTrack(e,i){const r=super.addRemoteTextTrack(e,i);return this.featuresNativeTextTracks&&this.el().appendChild(r),r}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const i=this.$$("track");let r=i.length;for(;r--;)(e===i[r]||e===i[r].track)&&this.el().removeChild(i[r])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),H.performance&&(e.creationTime=H.performance.now()),e}}t2(Ge,"TEST_VID",function(){if(!O0())return;const t=Pe.createElement("video"),e=Pe.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Ge.isSupported=function(){try{Ge.TEST_VID.volume=.5}catch{return!1}return!!(Ge.TEST_VID&&Ge.TEST_VID.canPlayType)};Ge.canPlayType=function(t){return Ge.TEST_VID.canPlayType(t)};Ge.canPlaySource=function(t,e){return Ge.canPlayType(t.type)};Ge.canControlVolume=function(){try{const t=Ge.TEST_VID.volume;Ge.TEST_VID.volume=t/2+.1;const e=t!==Ge.TEST_VID.volume;return e&&Qr?(H.setTimeout(()=>{Ge&&Ge.prototype&&(Ge.prototype.featuresVolumeControl=t!==Ge.TEST_VID.volume)}),!1):e}catch{return!1}};Ge.canMuteVolume=function(){try{const t=Ge.TEST_VID.muted;return Ge.TEST_VID.muted=!t,Ge.TEST_VID.muted?b0(Ge.TEST_VID,"muted","muted"):o2(Ge.TEST_VID,"muted","muted"),t!==Ge.TEST_VID.muted}catch{return!1}};Ge.canControlPlaybackRate=function(){if(da&&ha&&i2<58)return!1;try{const t=Ge.TEST_VID.playbackRate;return Ge.TEST_VID.playbackRate=t/2+.1,t!==Ge.TEST_VID.playbackRate}catch{return!1}};Ge.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(Pe.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Pe.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Pe.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Pe.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Ge.supportsNativeTextTracks=function(){return s2||Qr&&ha};Ge.supportsNativeVideoTracks=function(){return!!(Ge.TEST_VID&&Ge.TEST_VID.videoTracks)};Ge.supportsNativeAudioTracks=function(){return!!(Ge.TEST_VID&&Ge.TEST_VID.audioTracks)};Ge.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){t2(Ge.prototype,t,()=>Ge[e](),!0)});Ge.prototype.featuresVolumeControl=Ge.canControlVolume();Ge.prototype.movingMediaElementInDOM=!Qr;Ge.prototype.featuresFullscreenResize=!0;Ge.prototype.featuresProgressEvents=!0;Ge.prototype.featuresTimeupdateEvents=!0;Ge.prototype.featuresVideoFrameCallback=!!(Ge.TEST_VID&&Ge.TEST_VID.requestVideoFrameCallback);Ge.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Ge.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let i=e.length;for(;i--;)t.removeChild(e[i]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Ge.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Ge.prototype["set"+Li(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Ge.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Ge.prototype["set"+Li(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Ge.prototype[t]=function(){return this.el_[t]()}});Et.withSourceHandlers(Ge);Ge.nativeSourceHandler={};Ge.nativeSourceHandler.canPlayType=function(t){try{return Ge.TEST_VID.canPlayType(t)}catch{return""}};Ge.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Ge.nativeSourceHandler.canPlayType(t.type);if(t.src){const i=Sb(t.src);return Ge.nativeSourceHandler.canPlayType(`video/${i}`)}return""};Ge.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)};Ge.nativeSourceHandler.dispose=function(){};Ge.registerSourceHandler(Ge.nativeSourceHandler);Et.registerTech("Html5",Ge);const KM=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],V4={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},n5=["tiny","xsmall","small","medium","large","xlarge","huge"],Jm={};n5.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;Jm[t]=`vjs-layout-${e}`});const QK={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class yi extends he{constructor(e,i,r){if(e.id=e.id||i.id||`vjs_video_${is()}`,i=Object.assign(yi.getTagSettings(e),i),i.initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language){const a=e.closest("[lang]");a&&(i.language=a.getAttribute("lang"))}if(super(null,i,r),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.boundUpdatePlayerHeightOnAudioOnlyMode_=a=>this.updatePlayerHeightOnAudioOnlyMode_(a),this.isFullscreen_=!1,this.log=BA(this.id_),this.fsApi_=B1,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Zo(e),this.language(this.options_.language),i.languages){const a={};Object.getOwnPropertyNames(i.languages).forEach(function(o){a[o.toLowerCase()]=i.languages[o]}),this.languages_=a}else this.languages_=yi.prototype.options_.languages;this.resetCache_(),this.poster_=i.poster||"",this.controls_=!!i.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),bb(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(In(Pe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const n=di(this.options_);if(i.plugins&&Object.keys(i.plugins).forEach(a=>{this[a](i.plugins[a])}),i.debug&&this.debug(!0),this.options_.playerOptions=n,this.middleware_=[],this.playbackRates(i.playbackRates),i.experimentalSvgIcons){const o=new H.DOMParser().parseFromString(wK,"image/svg+xml");if(o.querySelector("parsererror"))Nt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const u=o.documentElement;u.style.display="none",this.el_.appendChild(u),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),i.spatialNavigation&&i.spatialNavigation.enabled&&(this.spatialNavigation=new SK(this),this.addClass("vjs-spatial-navigation-enabled")),Kh&&this.addClass("vjs-touch-enabled"),Qr||this.addClass("vjs-workinghover"),yi.players[this.id_]=this;const s=Gy.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Pr(Pe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Pr(Pe,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),yi.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),vK(this),Wr.names.forEach(e=>{const i=Wr[e],r=this[i.getterName]();r&&r.off&&r.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,i,r=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const n=this.tag.tagName.toLowerCase()==="video-js";r?i=this.el_=e.parentNode:n||(i=this.el_=super.createEl("div"));const s=Zo(e);if(n){for(i=this.el_=e,e=this.tag=Pe.createElement("video");i.children.length;)e.appendChild(i.firstChild);gh(i,"video-js")||_u(i,"video-js"),i.appendChild(e),r=this.playerElIngest_=i,Object.keys(i).forEach(l=>{try{e[l]=i[l]}catch{}})}e.setAttribute("tabindex","-1"),s.tabindex="-1",ha&&r2&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(l){n&&l==="class"||i.setAttribute(l,s[l]),n&&e.setAttribute(l,s[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=i.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>zA[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),H.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=tM("vjs-styles-dimensions");const l=hl(".vjs-styles-defaults"),u=hl("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let l=0;l<o.length;l++){const u=o.item(l);_u(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!r&&e.parentNode.insertBefore(i,e),Yy(e,i),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=i,i}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){Nt.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,i){const r=e+"_";if(i===void 0)return this[r]||0;if(i===""||i==="auto"){this[r]=void 0,this.updateStyleEl_();return}const n=parseFloat(i);if(isNaN(n)){Nt.error(`Improper value "${i}" supplied for for ${e}`);return}this[r]=n,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,Ha(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),GH(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(H.VIDEOJS_NO_DYNAMIC_STYLE===!0){const o=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(o>=0&&(u.width=o),l>=0&&(u.height=l));return}let e,i,r,n;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?r=this.aspectRatio_:this.videoWidth()>0?r=this.videoWidth()+":"+this.videoHeight():r="16:9";const s=r.split(":"),a=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?i=this.height_:i=e*a,/^[^a-zA-Z]/.test(this.id())?n="dimensions-"+this.id():n=this.id()+"-dimensions",this.addClass(n),iM(this.styleEl_,`
      .${n} {
        width: ${e}px;
        height: ${i}px;
      }

      .${n}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,i){this.tech_&&this.unloadTech_();const r=Li(e),n=e.charAt(0).toLowerCase()+e.slice(1);r!=="Html5"&&this.tag&&(Et.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const a={source:i,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${n}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Wr.names.forEach(l=>{const u=Wr[l];a[u.getterName]=this[u.privateName]}),Object.assign(a,this.options_[r]),Object.assign(a,this.options_[n]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),i&&i.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const o=Et.getTech(e);if(!o)throw new Error(`No Tech named '${r}' exists! '${r}' should be registered using videojs.registerTech()'`);this.tech_=new o(a),this.tech_.ready(mi(this,this.handleTechReady_),!0),Fx.jsonToTextTracks(this.textTracksJson_||[],this.tech_),KM.forEach(l=>{this.on(this.tech_,l,u=>this[`handleTech${Li(l)}_`](u))}),Object.keys(V4).forEach(l=>{this.on(this.tech_,l,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${V4[l]}_`].bind(this),event:u});return}this[`handleTech${V4[l]}_`](u)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,u)=>this.handleTechFullscreenChange_(l,u)),this.on(this.tech_,"fullscreenerror",(l,u)=>this.handleTechFullscreenError_(l,u)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(r!=="Html5"||!this.tag)&&Yy(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Wr.names.forEach(e=>{const i=Wr[e];this[i.privateName]=this[i.getterName]()}),this.textTracksJson_=Fx.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&Nt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":Gy}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const i=()=>{const n=this.muted();this.muted(!0);const s=()=>{this.muted(n)};this.playTerminatedQueue_.push(s);const a=this.play();if(vh(a))return a.catch(o=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${o||""}`)})};let r;if(e==="any"&&!this.muted()?(r=this.play(),vh(r)&&(r=r.catch(i))):e==="muted"&&!this.muted()?r=i():r=this.play(),!!vh(r))return r.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let i=e,r="";typeof i!="string"&&(i=e.src,r=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],i&&!r&&(r=_K(this,i)),this.cache_.source=di({},e,{src:i,type:r});const n=this.cache_.sources.filter(l=>l.src&&l.src===i),s=[],a=this.$$("source"),o=[];for(let l=0;l<a.length;l++){const u=Zo(a[l]);s.push(u),u.src&&u.src===i&&o.push(u.src)}o.length&&!n.length?this.cache_.sources=s:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=i}handleTechSourceset_(e){if(!this.changingSrc_){let i=s=>this.updateSourceCaches_(s);const r=this.currentSource().src,n=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(n)&&(!this.lastSource_||this.lastSource_.tech!==n&&this.lastSource_.player!==r)&&(i=()=>{}),i(n),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),i=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",i))};this.on("timeupdate",i)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Ys(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),r=>r.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const i=e.target.player;if(i&&i!==this)return;const r=this.el();let n=Pe[this.fsApi_.fullscreenElement]===r;!n&&r.matches&&(n=r.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(n)}handleTechFullscreenChange_(e,i){i&&(i.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(i.isFullscreen))}handleTechFullscreenError_(e,i){this.trigger("fullscreenerror",i)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,i){this.ready(function(){if(e in gK)return fK(this.middleware_,this.tech_,e,i);if(e in qx)return Ux(this.middleware_,this.tech_,e,i);try{this.tech_&&this.tech_[e](i)}catch(r){throw Nt(r),r}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in mK)return pK(this.middleware_,this.tech_,e);if(e in qx)return Ux(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(i){throw this.tech_[e]===void 0?(Nt(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,i),i):i.name==="TypeError"?(Nt(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,i),this.tech_.isReady_=!1,i):(Nt(i),i)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Ys){this.playCallbacks_.push(e);const i=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),r=!!(s2||Qr);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!i){this.waitToPlay_=a=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!i&&r&&this.load();return}const n=this.techGet_("play");r&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),n===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(i){i()})}runPlayCallbacks_(e){const i=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],i.forEach(function(r){r(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||ks(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=ks(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=ks(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return dM(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),i=this.duration();let r=e.end(e.length-1);return r>i&&(r=i),r}volume(e){let i;if(e!==void 0){i=Math.max(0,Math.min(1,e)),this.cache_.volume=i,this.techCall_("setVolume",i),i>0&&this.lastVolume_(i);return}return i=parseFloat(this.techGet_("volume")),isNaN(i)?1:i}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const i=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==i&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const i=this;return new Promise((r,n)=>{function s(){i.off("fullscreenerror",o),i.off("fullscreenchange",a)}function a(){s(),r()}function o(u,c){s(),n(c)}i.one("fullscreenchange",a),i.one("fullscreenerror",o);const l=i.requestFullscreenHelper_(e);l&&(l.then(s,s),l.then(r,n))})}requestFullscreenHelper_(e){let i;if(this.fsApi_.prefixed||(i=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(i=e)),this.fsApi_.requestFullscreen){const r=this.el_[this.fsApi_.requestFullscreen](i);return r&&r.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),r}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((i,r)=>{function n(){e.off("fullscreenerror",a),e.off("fullscreenchange",s)}function s(){n(),i()}function a(l,u){n(),r(u)}e.one("fullscreenchange",s),e.one("fullscreenerror",a);const o=e.exitFullscreenHelper_();o&&(o.then(n,n),o.then(i,r))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Pe[this.fsApi_.exitFullscreen]();return e&&Ys(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Pe.documentElement.style.overflow,In(Pe,"keydown",this.boundFullWindowOnEscKey_),Pe.documentElement.style.overflow="hidden",_u(Pe.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Pr(Pe,"keydown",this.boundFullWindowOnEscKey_),Pe.documentElement.style.overflow=this.docOrigOverflow,a2(Pe.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&H.documentPictureInPicture){const e=Pe.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(mt("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),H.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(i=>(JA(i),this.el_.parentNode.insertBefore(e,this.el_),i.document.body.appendChild(this.el_),i.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:i}),i.addEventListener("pagehide",r=>{const n=r.target.querySelector(".video-js");e.parentNode.replaceChild(n,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),i))}return"pictureInPictureEnabled"in Pe&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(H.documentPictureInPicture&&H.documentPictureInPicture.window)return H.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Pe)return Pe.exitPictureInPicture()}handleKeyDown(e){const{userActions:i}=this.options_;!i||!i.hotkeys||(n=>{const s=n.tagName.toLowerCase();if(n.isContentEditable)return!0;const a=["button","checkbox","hidden","radio","reset","submit"];return s==="input"?a.indexOf(n.type)===-1:["textarea"].indexOf(s)!==-1})(this.el_.ownerDocument.activeElement)||(typeof i.hotkeys=="function"?i.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const i=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:r=a=>e.key.toLowerCase()==="f",muteKey:n=a=>e.key.toLowerCase()==="m",playPauseKey:s=a=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=i;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();const a=he.getComponent("FullscreenToggle");Pe[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else n.call(this,e)?(e.preventDefault(),e.stopPropagation(),he.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),he.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let i;for(let r=0,n=this.options_.techOrder;r<n.length;r++){const s=n[r];let a=Et.getTech(s);if(a||(a=he.getComponent(s)),!a){Nt.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(i=a.canPlayType(e),i))return i}return""}selectSource(e){const i=this.options_.techOrder.map(o=>[o,Et.getTech(o)]).filter(([o,l])=>l?l.isSupported():(Nt.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`),!1)),r=function(o,l,u){let c;return o.some(d=>l.some(h=>{if(c=u(d,h),c)return!0})),c};let n;const s=o=>(l,u)=>o(u,l),a=([o,l],u)=>{if(l.canPlaySource(u,this.options_[o.toLowerCase()]))return{source:u,tech:o}};return this.options_.sourceOrder?n=r(e,i,s(a)):n=r(i,e,a),n||!1}handleSrc_(e,i){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const r=gM(e);if(!r.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,i||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),dK(this,r[0],(n,s)=>{if(this.middleware_=s,i||(this.cache_.sources=r),this.updateSourceCaches_(n),this.src_(n)){if(r.length>1)return this.handleSrc_(r.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}hK(s,this.tech_)}),r.length>1){const n=()=>{this.error(null),this.handleSrc_(r.slice(1),!0)},s=()=>{this.off("error",n)};this.one("error",n),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",n),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const i=this.selectSource([e]);return i?oM(i.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Ys(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),Ha(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:i,progressControl:r,remainingTimeDisplay:n}=this.controlBar||{},{seekBar:s}=r||{};e&&e.updateContent(),i&&i.updateContent(),n&&n.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),i=[];return Object.keys(e).length!==0&&i.push(e),this.cache_.sources||i}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let i;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),i=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,i=typeof i>"u"?this.options_.autoplay:i,this.tech_&&this.techCall_("setAutoplay",i)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(dl("beforeerror").forEach(i=>{const r=i(this,e);if(!(ca(r)&&!Array.isArray(r)||typeof r=="string"||typeof r=="number"||r===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=r}),this.options_.suppressNotSupportedError&&e&&e.code===4){const i=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],i),this.one("loadstart",function(){this.off(["click","touchstart"],i)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Ei(e),this.addClass("vjs-error"),Nt.error(`(CODE:${this.error_.code} ${Ei.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),dl("error").forEach(i=>i(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(i){i.stopPropagation(),i.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,i,r;const n=mi(this,this.reportUserActivity),s=function(d){(d.screenX!==i||d.screenY!==r)&&(i=d.screenX,r=d.screenY,n())},a=function(){n(),this.clearInterval(e),e=this.setInterval(n,250)},o=function(d){n(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",s),this.on("mouseup",o),this.on("mouseleave",o);const l=this.getChild("controlBar");l&&!Qr&&!da&&(l.on("mouseenter",function(d){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(d){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",n),this.on("keyup",n);let u;const c=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const d=this.options_.inactivityTimeout;d<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},d))};this.setInterval(c,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),i=this.getChild("ControlBar"),r=i&&i.currentHeight();e.forEach(n=>{n!==i&&n.el_&&!n.hasClass("vjs-hidden")&&(n.hide(),this.audioOnlyCache_.hiddenChildren.push(n))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=r,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(r),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const i=[];return this.isInPictureInPicture()&&i.push(this.exitPictureInPicture()),this.isFullscreen()&&i.push(this.exitFullscreen()),this.audioPosterMode()&&i.push(this.audioPosterMode(!1)),Promise.all(i).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,i,r){if(this.tech_)return this.tech_.addTextTrack(e,i,r)}addRemoteTextTrack(e,i){if(this.tech_)return this.tech_.addRemoteTextTrack(e,i)}removeRemoteTextTrack(e={}){let{track:i}=e;if(i||(i=e),this.tech_)return this.tech_.removeRemoteTextTrack(i)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Ha(this)&&this.trigger("languagechange"))}languages(){return di(yi.prototype.options_.languages,this.languages_)}toJSON(){const e=di(this.options_),i=e.tracks;e.tracks=[];for(let r=0;r<i.length;r++){let n=i[r];n=di(n),n.player=void 0,e.tracks[r]=n}return e}createModal(e,i){i=i||{},i.content=e||"";const r=new $0(this,i);return this.addChild(r),r.on("dispose",()=>{this.removeChild(r)}),r.open(),r}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),i=this.currentWidth();for(let r=0;r<n5.length;r++){const n=n5[r],s=this.breakpoints_[n];if(i<=s){if(e===n)return;e&&this.removeClass(Jm[e]),this.addClass(Jm[n]),this.breakpoint_=n;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},QK,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const i=this.responsive_;if(e!==i)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return Jm[this.breakpoint_]||""}loadMedia(e,i){if(!e||typeof e!="object")return;const r=this.crossOrigin();this.reset(),this.cache_.media=di(e);const{artist:n,artwork:s,description:a,poster:o,src:l,textTracks:u,title:c}=this.cache_.media;!s&&o&&(this.cache_.media.artwork=[{src:o,type:q1(o)}]),r&&this.crossOrigin(r),l&&this.src(l),o&&this.poster(o),Array.isArray(u)&&u.forEach(d=>this.addRemoteTextTrack(d,!1)),this.titleBar&&this.titleBar.update({title:c,description:a||n||""}),this.ready(i)}getMedia(){if(!this.cache_.media){const e=this.poster(),i=this.currentSources(),r=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),n={src:i,textTracks:r};return e&&(n.poster=e,n.artwork=[{src:n.poster,type:q1(n.poster)}]),n}return di(this.cache_.media)}static getTagSettings(e){const i={sources:[],tracks:[]},r=Zo(e),n=r["data-setup"];if(gh(e,"vjs-fill")&&(r.fill=!0),gh(e,"vjs-fluid")&&(r.fluid=!0),n!==null)try{Object.assign(r,JSON.parse(n||"{}"))}catch(s){Nt.error("data-setup",s)}if(Object.assign(i,r),e.hasChildNodes()){const s=e.childNodes;for(let a=0,o=s.length;a<o;a++){const l=s[a],u=l.nodeName.toLowerCase();u==="source"?i.sources.push(Zo(l)):u==="track"&&i.tracks.push(Zo(l))}}return i}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(i=>typeof i=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Wr.names.forEach(function(t){const e=Wr[t];yi.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});yi.prototype.crossorigin=yi.prototype.crossOrigin;yi.players={};const _d=H.navigator;yi.prototype.options_={techOrder:Et.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:_d&&(_d.languages&&_d.languages[0]||_d.userLanguage||_d.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1};KM.forEach(function(t){yi.prototype[`handleTech${Li(t)}_`]=function(){return this.trigger(t)}});he.registerComponent("Player",yi);const j1="plugin",Zc="activePlugins_",Bc={},V1=t=>Bc.hasOwnProperty(t),Qm=t=>V1(t)?Bc[t]:void 0,WM=(t,e)=>{t[Zc]=t[Zc]||{},t[Zc][e]=!0},H1=(t,e,i)=>{const r=(i?"before":"")+"pluginsetup";t.trigger(r,e),t.trigger(r+":"+e.name,e)},eW=function(t,e){const i=function(){H1(this,{name:t,plugin:e,instance:null},!0);const r=e.apply(this,arguments);return WM(this,t),H1(this,{name:t,plugin:e,instance:r}),r};return Object.keys(e).forEach(function(r){i[r]=e[r]}),i},s_=(t,e)=>(e.prototype.name=t,function(...i){H1(this,{name:t,plugin:e,instance:null},!0);const r=new e(this,...i);return this[t]=()=>r,H1(this,r.getEventHash()),r});class mn{constructor(e){if(this.constructor===mn)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),bb(this),delete this.trigger,aM(this,this.constructor.defaultState),WM(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,i={}){return N0(this.eventBusEl_,e,this.getEventHash(i))}handleStateChanged(e){}dispose(){const{name:e,player:i}=this;this.trigger("dispose"),this.off(),i.off("dispose",this.dispose),i[Zc][e]=!1,this.player=this.state=null,i[e]=s_(e,Bc[e])}static isBasic(e){const i=typeof e=="string"?Qm(e):e;return typeof i=="function"&&!mn.prototype.isPrototypeOf(i.prototype)}static registerPlugin(e,i){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(V1(e))Nt.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(yi.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof i!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof i}.`);return Bc[e]=i,e!==j1&&(mn.isBasic(i)?yi.prototype[e]=eW(e,i):yi.prototype[e]=s_(e,i)),i}static deregisterPlugin(e){if(e===j1)throw new Error("Cannot de-register base plugin.");V1(e)&&(delete Bc[e],delete yi.prototype[e])}static getPlugins(e=Object.keys(Bc)){let i;return e.forEach(r=>{const n=Qm(r);n&&(i=i||{},i[r]=n)}),i}static getPluginVersion(e){const i=Qm(e);return i&&i.VERSION||""}}mn.getPlugin=Qm;mn.BASE_PLUGIN_NAME=j1;mn.registerPlugin(j1,mn);yi.prototype.usingPlugin=function(t){return!!this[Zc]&&this[Zc][t]===!0};yi.prototype.hasPlugin=function(t){return!!V1(t)};function tW(t,e){let i=!1;return function(...r){return i||Nt.warn(t),i=!0,e.apply(this,r)}}function Ps(t,e,i,r){return tW(`${e} is deprecated and will be removed in ${t}.0; please use ${i} instead.`,r)}var iW={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const GM=t=>t.indexOf("#")===0?t.slice(1):t;function ae(t,e,i){let r=ae.getPlayer(t);if(r)return e&&Nt.warn(`Player "${t}" is already initialised. Options will not be applied.`),i&&r.ready(i),r;const n=typeof t=="string"?hl("#"+GM(t)):t;if(!F0(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a=("getRootNode"in n?n.getRootNode()instanceof H.ShadowRoot:!1)?n.getRootNode():n.ownerDocument.body;(!n.ownerDocument.defaultView||!a.contains(n))&&Nt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player")?n.parentNode:n).cloneNode(!0)),dl("beforesetup").forEach(l=>{const u=l(n,di(e));if(!ca(u)||Array.isArray(u)){Nt.error("please return an object in beforesetup hooks");return}e=di(e,u)});const o=he.getComponent("Player");return r=new o(n,e,i),dl("setup").forEach(l=>l(r)),r}ae.hooks_=$a;ae.hooks=dl;ae.hook=IH;ae.hookOnce=RH;ae.removeHook=LA;if(H.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&O0()){let t=hl(".vjs-styles-defaults");if(!t){t=tM("vjs-styles-defaults");const e=hl("head");e&&e.insertBefore(t,e.firstChild),iM(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}Jy(1,ae);ae.VERSION=Gy;ae.options=yi.prototype.options_;ae.getPlayers=()=>yi.players;ae.getPlayer=t=>{const e=yi.players;let i;if(typeof t=="string"){const r=GM(t),n=e[r];if(n)return n;i=hl("#"+r)}else i=t;if(F0(i)){const{player:r,playerId:n}=i;if(r||e[n])return r||e[n]}};ae.getAllPlayers=()=>Object.keys(yi.players).map(t=>yi.players[t]).filter(Boolean);ae.players=yi.players;ae.getComponent=he.getComponent;ae.registerComponent=(t,e)=>(Et.isTech(e)&&Nt.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),he.registerComponent.call(he,t,e));ae.getTech=Et.getTech;ae.registerTech=Et.registerTech;ae.use=cK;Object.defineProperty(ae,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(ae.middleware,"TERMINATOR",{value:U1,writeable:!1,enumerable:!0});ae.browser=zA;ae.obj=NH;ae.mergeOptions=Ps(9,"videojs.mergeOptions","videojs.obj.merge",di);ae.defineLazyProperty=Ps(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",t2);ae.bind=Ps(9,"videojs.bind","native Function.prototype.bind",mi);ae.registerPlugin=mn.registerPlugin;ae.deregisterPlugin=mn.deregisterPlugin;ae.plugin=(t,e)=>(Nt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),mn.registerPlugin(t,e));ae.getPlugins=mn.getPlugins;ae.getPlugin=mn.getPlugin;ae.getPluginVersion=mn.getPluginVersion;ae.addLanguage=function(t,e){return t=(""+t).toLowerCase(),ae.options.languages=di(ae.options.languages,{[t]:e}),ae.options.languages[t]};ae.log=Nt;ae.createLogger=BA;ae.time=QH;ae.createTimeRange=Ps(9,"videojs.createTimeRange","videojs.time.createTimeRanges",ks);ae.createTimeRanges=Ps(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",ks);ae.formatTime=Ps(9,"videojs.formatTime","videojs.time.formatTime",Bu);ae.setFormatTime=Ps(9,"videojs.setFormatTime","videojs.time.setFormatTime",uM);ae.resetFormatTime=Ps(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",cM);ae.parseUrl=Ps(9,"videojs.parseUrl","videojs.url.parseUrl",wb);ae.isCrossOrigin=Ps(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",p2);ae.EventTarget=Rn;ae.any=vb;ae.on=In;ae.one=d2;ae.off=Pr;ae.trigger=N0;ae.xhr=RE;ae.TextTrack=gp;ae.AudioTrack=fM;ae.VideoTrack=mM;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{ae[t]=function(){return Nt.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),QA[t].apply(null,arguments)}});ae.computedStyle=Ps(9,"videojs.computedStyle","videojs.dom.computedStyle",_0);ae.dom=QA;ae.fn=WH;ae.num=LK;ae.str=ZH;ae.url=lK;ae.Error=iW;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class rW{constructor(e){let i=this;return i.id=e.id,i.label=i.id,i.width=e.width,i.height=e.height,i.bitrate=e.bandwidth,i.frameRate=e.frameRate,i.enabled_=e.enabled,Object.defineProperty(i,"enabled",{get(){return i.enabled_()},set(r){i.enabled_(r)}}),i}}class K1 extends ae.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let i=this.getQualityLevelById(e.id);if(i)return i;const r=this.levels_.length;return i=new rW(e),""+r in this||Object.defineProperty(this,r,{get(){return this.levels_[r]}}),this.levels_.push(i),this.trigger({qualityLevel:i,type:"addqualitylevel"}),i}removeQualityLevel(e){let i=null;for(let r=0,n=this.length;r<n;r++)if(this[r]===e){i=this.levels_.splice(r,1)[0],this.selectedIndex_===r?this.selectedIndex_=-1:this.selectedIndex_>r&&this.selectedIndex_--;break}return i&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),i}getQualityLevelById(e){for(let i=0,r=this.length;i<r;i++){const n=this[i];if(n.id===e)return n}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}K1.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in K1.prototype.allowedEvents_)K1.prototype["on"+t]=null;var XM="4.1.0";const nW=function(t,e){const i=t.qualityLevels,r=new K1,n=function(){r.dispose(),t.qualityLevels=i,t.off("dispose",n)};return t.on("dispose",n),t.qualityLevels=()=>r,t.qualityLevels.VERSION=XM,r},YM=function(t){return nW(this,ae.obj.merge({},t))};ae.registerPlugin("qualityLevels",YM);YM.VERSION=XM;/*! @name @videojs/http-streaming @version 3.13.3 @license Apache-2.0 */const dn=Gg,W1=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,ls=t=>ae.log.debug?ae.log.debug.bind(ae,"VHS:",`${t} >`):function(){};function ei(...t){const e=ae.obj||ae;return(e.merge||e.mergeOptions).apply(e,t)}function xr(...t){const e=ae.time||ae;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function sW(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let i=0;i<t.length;i++){const r=t.start(i),n=t.end(i);e+=`${r} --> ${n}. Duration (${n-r})
`}return e}const Zs=1/30,Js=Zs*3,ZM=function(t,e){const i=[];let r;if(t&&t.length)for(r=0;r<t.length;r++)e(t.start(r),t.end(r))&&i.push([t.start(r),t.end(r)]);return xr(i)},Pc=function(t,e){return ZM(t,function(i,r){return i-Js<=e&&r+Js>=e})},Cf=function(t,e){return ZM(t,function(i){return i-Zs>=e})},aW=function(t){if(t.length<2)return xr();const e=[];for(let i=1;i<t.length;i++){const r=t.end(i-1),n=t.start(i);e.push([r,n])}return xr(e)},oW=function(t,e){let i=null,r=null,n=0;const s=[],a=[];if(!t||!t.length||!e||!e.length)return xr();let o=t.length;for(;o--;)s.push({time:t.start(o),type:"start"}),s.push({time:t.end(o),type:"end"});for(o=e.length;o--;)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(s.sort(function(l,u){return l.time-u.time}),o=0;o<s.length;o++)s[o].type==="start"?(n++,n===2&&(i=s[o].time)):s[o].type==="end"&&(n--,n===1&&(r=s[o].time)),i!==null&&r!==null&&(a.push([i,r]),i=null,r=null);return xr(a)},JM=t=>{const e=[];if(!t||!t.length)return"";for(let i=0;i<t.length;i++)e.push(t.start(i)+" => "+t.end(i));return e.join(", ")},lW=function(t,e,i=1){return((t.length?t.end(t.length-1):0)-e)/i},hu=t=>{const e=[];for(let i=0;i<t.length;i++)e.push({start:t.start(i),end:t.end(i)});return e},uW=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let i=0;i<t.length;i++)if(t.start(i)!==e.start(i)||t.end(i)!==e.end(i))return!0;return!1},H4=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},zb=function(t,e){let i=0;if(!t||!t.length)return i;for(let r=0;r<t.length;r++){const n=t.start(r),s=t.end(r);if(!(e>s)){if(e>n&&e<=s){i+=s-e;continue}i+=s-n}}return i},Ub=(t,e)=>{if(!e.preload)return e.duration;let i=0;return(e.parts||[]).forEach(function(r){i+=r.duration}),(e.preloadHints||[]).forEach(function(r){r.type==="PART"&&(i+=t.partTargetDuration)}),i},s5=t=>(t.segments||[]).reduce((e,i,r)=>(i.parts?i.parts.forEach(function(n,s){e.push({duration:n.duration,segmentIndex:r,partIndex:s,part:n,segment:i})}):e.push({duration:i.duration,segmentIndex:r,partIndex:null,segment:i,part:null}),e),[]),QM=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},eD=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:i}=t;let r=(i||[]).reduce((n,s)=>n+(s.type==="PART"?1:0),0);return r+=e&&e.length?e.length:0,r},tD=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const i=QM(e).length>0;return i&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:i&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},cW=function(t,e){let i=0,r=e-t.mediaSequence,n=t.segments[r];if(n){if(typeof n.start<"u")return{result:n.start,precise:!0};if(typeof n.end<"u")return{result:n.end-n.duration,precise:!0}}for(;r--;){if(n=t.segments[r],typeof n.end<"u")return{result:i+n.end,precise:!0};if(i+=Ub(t,n),typeof n.start<"u")return{result:i+n.start,precise:!0}}return{result:i,precise:!1}},dW=function(t,e){let i=0,r,n=e-t.mediaSequence;for(;n<t.segments.length;n++){if(r=t.segments[n],typeof r.start<"u")return{result:r.start-i,precise:!0};if(i+=Ub(t,r),typeof r.end<"u")return{result:r.end-i,precise:!0}}return{result:-1,precise:!1}},iD=function(t,e,i){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const r=cW(t,e);if(r.precise)return r.result;const n=dW(t,e);return n.precise?n.result:r.result+i},rD=function(t,e,i){if(!t)return 0;if(typeof i!="number"&&(i=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return H.Infinity}return iD(t,e,i)},bh=function({defaultDuration:t,durationList:e,startIndex:i,endIndex:r}){let n=0;if(i>r&&([i,r]=[r,i]),i<0){for(let s=i;s<Math.min(0,r);s++)n+=t;i=0}for(let s=i;s<r;s++)n+=e[s].duration;return n},nD=function(t,e,i,r){if(!t||!t.segments)return null;if(t.endList)return rD(t);if(e===null)return null;e=e||0;let n=iD(t,t.mediaSequence+t.segments.length,e);return i&&(r=typeof r=="number"?r:tD(null,t),n-=r),Math.max(0,n)},hW=function(t,e,i){const n=e||0;let s=nD(t,e,!0,i);return s===null?xr():(s<n&&(s=n),xr(n,s))},pW=function({playlist:t,currentTime:e,startingSegmentIndex:i,startingPartIndex:r,startTime:n,exactManifestTimings:s}){let a=e-n;const o=s5(t);let l=0;for(let u=0;u<o.length;u++){const c=o[u];if(i===c.segmentIndex&&!(typeof r=="number"&&typeof c.partIndex=="number"&&r!==c.partIndex)){l=u;break}}if(a<0){if(l>0)for(let u=l-1;u>=0;u--){const c=o[u];if(a+=c.duration,s){if(a<0)continue}else if(a+Zs<=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:n-bh({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:u})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e}}if(l<0){for(let u=l;u<0;u++)if(a-=t.targetDuration,a<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e};l=0}for(let u=l;u<o.length;u++){const c=o[u];a-=c.duration;const d=c.duration>Zs,h=a===0,f=d&&a+Zs>=0;if(!((h||f)&&u!==o.length-1)){if(s){if(a>0)continue}else if(a-Zs>=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:n+bh({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:u})}}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:e}},sD=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},qb=function(t){return t.excludeUntil&&t.excludeUntil===1/0},g2=function(t){const e=sD(t);return!t.disabled&&!e},fW=function(t){return t.disabled},mW=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},aD=function(t,e){return e.attributes&&e.attributes[t]},gW=function(t,e,i,r=0){return aD("BANDWIDTH",i)?(t*i.attributes.BANDWIDTH-r*8)/e:NaN},a5=(t,e)=>{if(t.playlists.length===1)return!0;const i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(r=>g2(r)?(r.attributes.BANDWIDTH||0)<i:!1).length===0},jb=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),a_=function(t,e){const i=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let r=!1;for(const n in i){for(const s in i[n])if(r=e(i[n][s]),r)break;if(r)break}return!!r},xp=t=>{if(!t||!t.playlists||!t.playlists.length)return a_(t,i=>i.playlists&&i.playlists.length||i.uri);for(let e=0;e<t.playlists.length;e++){const i=t.playlists[e],r=i.attributes&&i.attributes.CODECS;if(!(r&&r.split(",").every(s=>UE(s))||a_(t,s=>jb(i,s))))return!1}return!0};var hn={liveEdgeDelay:tD,duration:rD,seekable:hW,getMediaInfoForTime:pW,isEnabled:g2,isDisabled:fW,isExcluded:sD,isIncompatible:qb,playlistEnd:nD,isAes:mW,hasAttribute:aD,estimateSegmentRequestTime:gW,isLowestEnabledRendition:a5,isAudioOnly:xp,playlistMatch:jb,segmentDurationWithParts:Ub};const{log:oD}=ae,Jc=(t,e)=>`${t}-${e}`,lD=(t,e,i)=>`placeholder-uri-${t}-${e}-${i}`,yW=({onwarn:t,oninfo:e,manifestString:i,customTagParsers:r=[],customTagMappers:n=[],llhls:s})=>{const a=new Lj;t&&a.on("warn",t),e&&a.on("info",e),r.forEach(u=>a.addParser(u)),n.forEach(u=>a.addTagMapper(u)),a.push(i),a.end();const o=a.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){o.hasOwnProperty(u)&&delete o[u]}),o.segments&&o.segments.forEach(function(u){["parts","preloadHints"].forEach(function(c){u.hasOwnProperty(c)&&delete u[c]})})),!o.targetDuration){let u=10;o.segments&&o.segments.length&&(u=o.segments.reduce((c,d)=>Math.max(c,d.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${u}`}),o.targetDuration=u}const l=QM(o);if(l.length&&!o.partTargetDuration){const u=l.reduce((c,d)=>Math.max(c,d.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${u}`}),oD.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=u}return o},q0=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(i=>{if(t.mediaGroups[i])for(const r in t.mediaGroups[i])for(const n in t.mediaGroups[i][r]){const s=t.mediaGroups[i][r][n];e(s,i,r,n)}})},uD=({playlist:t,uri:e,id:i})=>{t.id=i,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},vW=t=>{let e=t.playlists.length;for(;e--;){const i=t.playlists[e];uD({playlist:i,id:Jc(e,i.uri)}),i.resolvedUri=dn(t.uri,i.uri),t.playlists[i.id]=i,t.playlists[i.uri]=i,i.attributes.BANDWIDTH||oD.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},bW=t=>{q0(t,e=>{e.uri&&(e.resolvedUri=dn(t.uri,e.uri))})},xW=(t,e)=>{const i=Jc(0,e),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:H.location.href,resolvedUri:H.location.href,playlists:[{uri:e,id:i,resolvedUri:e,attributes:{}}]};return r.playlists[i]=r.playlists[0],r.playlists[e]=r.playlists[0],r},cD=(t,e,i=lD)=>{t.uri=e;for(let n=0;n<t.playlists.length;n++)if(!t.playlists[n].uri){const s=`placeholder-uri-${n}`;t.playlists[n].uri=s}const r=xp(t);q0(t,(n,s,a,o)=>{if(!n.playlists||!n.playlists.length){if(r&&s==="AUDIO"&&!n.uri)for(let l=0;l<t.playlists.length;l++){const u=t.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===a)return}n.playlists=[Bi({},n)]}n.playlists.forEach(function(l,u){const c=i(s,a,o,l),d=Jc(u,c);l.uri?l.resolvedUri=l.resolvedUri||dn(t.uri,l.uri):(l.uri=u===0?c:d,l.resolvedUri=l.uri),l.id=l.id||d,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),vW(t),bW(t)};class o_{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[i]=e;i.programDateTime!==void 0&&(this.offset_=i.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[i]=e,r=i.startDate.getTime();this.trimProcessedDateRanges_(r),this.pendingDateRanges_=e.reduce((n,s)=>(n.set(s.id,s),n),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},i=[];this.pendingDateRanges_.forEach((r,n)=>{if(!this.processedDateRanges_.has(n)&&(r.startTime=r.startDate.getTime()/1e3-this.offset_,r.processDateRange=()=>this.processDateRange(r),i.push(r),!!r.class))if(e[r.class]){const s=e[r.class].push(r);r.classListIndex=s-1}else e[r.class]=[r],r.classListIndex=0});for(const r of i){const n=e[r.class]||[];r.endDate?r.endTime=r.endDate.getTime()/1e3-this.offset_:r.endOnNext&&n[r.classListIndex+1]?r.endTime=n[r.classListIndex+1].startTime:r.duration?r.endTime=r.startTime+r.duration:r.plannedDuration?r.endTime=r.startTime+r.plannedDuration:r.endTime=r.startTime}return i}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((r,n)=>{r.startDate.getTime()<e&&this.processedDateRanges_.delete(n)})}}const dD=22,Cu=({requestType:t,request:e,error:i,parseFailure:r})=>{const n=e.status<200||e.status>299,s=e.status>=400&&e.status<=499,a={uri:e.uri,requestType:t},o=n&&!s||r;if(i&&s)a.error=Bi({},i),a.errorType=ae.Error.NetworkRequestFailed;else if(e.aborted)a.errorType=ae.Error.NetworkRequestAborted;else if(e.timedout)a.erroType=ae.Error.NetworkRequestTimeout;else if(o){const l=r?ae.Error.NetworkBodyParserFailed:ae.Error.NetworkBadStatus;a.errorType=l,a.status=e.status,a.headers=e.headers}return a},{EventTarget:_W}=ae,wW=(t,e)=>{if(e.endList||!e.serverControl)return t;const i={};if(e.serverControl.canBlockReload){const{preloadSegment:r}=e;let n=e.mediaSequence+e.segments.length;if(r){const s=r.parts||[],a=eD(e)-1;a>-1&&a!==s.length-1&&(i._HLS_part=a),(a>-1||s.length)&&n--}i._HLS_msn=n}if(e.serverControl&&e.serverControl.canSkipUntil&&(i._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){const r=new H.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(n){i.hasOwnProperty(n)&&r.searchParams.set(n,i[n])}),t=r.toString()}return t},SW=(t,e)=>{if(!t)return e;const i=ei(t,e);if(t.preloadHints&&!e.preloadHints&&delete i.preloadHints,t.parts&&!e.parts)delete i.parts;else if(t.parts&&e.parts)for(let r=0;r<e.parts.length;r++)t.parts&&t.parts[r]&&(i.parts[r]=ei(t.parts[r],e.parts[r]));return!t.skipped&&e.skipped&&(i.skipped=!1),t.preload&&!e.preload&&(i.preload=!1),i},CW=(t,e,i)=>{const r=t.slice(),n=e.slice();i=i||0;const s=[];let a;for(let o=0;o<n.length;o++){const l=r[o+i],u=n[o];l?(a=l.map||a,s.push(SW(l,u))):(a&&!u.map&&(u.map=a),s.push(u))}return s},hD=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=dn(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=dn(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=dn(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=dn(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(i=>{i.resolvedUri||(i.resolvedUri=dn(e,i.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(i=>{i.resolvedUri||(i.resolvedUri=dn(e,i.uri))})},pD=function(t){const e=t.segments||[],i=t.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(let r=0;r<i.preloadHints.length;r++)if(i.preloadHints[r].type==="MAP")return e}i.duration=t.targetDuration,i.preload=!0,e.push(i)}return e},fD=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,o5=(t,e,i=fD)=>{const r=ei(t,{}),n=r.playlists[e.id];if(!n||i(n,e))return null;e.segments=pD(e);const s=ei(n,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,n.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}s.segments=CW(n.segments,e.segments,e.mediaSequence-n.mediaSequence)}s.segments.forEach(a=>{hD(a,s.resolvedUri)});for(let a=0;a<r.playlists.length;a++)r.playlists[a].id===e.id&&(r.playlists[a]=s);return r.playlists[e.id]=s,r.playlists[e.uri]=s,q0(t,(a,o,l,u)=>{if(a.playlists)for(let c=0;c<a.playlists.length;c++)e.id===a.playlists[c].id&&(a.playlists[c]=s)}),r},l5=(t,e)=>{const i=t.segments||[],r=i[i.length-1],n=r&&r.parts&&r.parts[r.parts.length-1],s=n&&n.duration||r&&r.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500},l_=(t,e,i)=>{if(!t)return;const r=[];return t.forEach(n=>{if(!n.attributes)return;const{BANDWIDTH:s,RESOLUTION:a,CODECS:o}=n.attributes;r.push({id:n.id,bandwidth:s,resolution:a,codecs:o})}),{type:e,isLive:i,renditions:r}};class Ic extends _W{constructor(e,i,r={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=ls("PlaylistLoader");const{withCredentials:n=!1}=r;this.src=e,this.vhs_=i,this.withCredentials=n,this.addDateRangesToTextTrack_=r.addDateRangesToTextTrack;const s=i.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new o_,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const i=this.dateRangesStorage_.getDateRangesToProcess();!i.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(i)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let i=dn(this.main.uri,e.uri);this.llhls&&(i=wW(i,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:i,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,n)=>{if(this.request){if(r)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,i,r){const{uri:n,id:s}=i;this.request=null,r&&(this.state=r),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${n}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:Cu({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:i}){try{return yW({onwarn:({message:r})=>this.logger_(`m3u8-parser warn for ${e}: ${r}`),oninfo:({message:r})=>this.logger_(`m3u8-parser info for ${e}: ${r}`),manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(r){this.error=r,this.error.metadata={errorType:ae.Error.StreamingHlsPlaylistParserError,error:r}}}haveMetadata({playlistString:e,playlistObject:i,url:r,id:n}){this.request=null,this.state="HAVE_METADATA";const s={playlistInfo:{type:"media",uri:r}};this.trigger({type:"playlistparsestart",metadata:s});const a=i||this.parseManifest_({url:r,manifestString:e});a.lastRequest=Date.now(),uD({playlist:a,uri:r,id:n});const o=o5(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[n]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(l5(this.media(),!!o)),s.parsedPlaylist=l_(this.main.playlists,s.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:s}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),H.clearTimeout(this.mediaUpdateTimeout),H.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new o_,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,i){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(H.clearTimeout(this.finalRenditionTimeout),i){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=H.setTimeout(this.media.bind(this,e,!1),o);return}const r=this.state,n=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(l5(e,!0)),!n)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const a={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(o,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=W1(e.resolvedUri,l),o)return this.playlistRequestError(this.request,e,r);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const i=this.media();if(e){const r=i?(i.partTargetDuration||i.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=H.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},r);return}if(!this.started){this.start();return}i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=H.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=H.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(i,r)=>{if(!this.request)return;if(this.request=null,i)return this.error={status:r.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:r.responseText,code:2,metadata:Cu({requestType:r.requestType,request:r,error:i})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=W1(this.src,r),this.trigger({type:"playlistparsestart",metadata:e});const n=this.parseManifest_({manifestString:r.responseText,url:this.src});e.parsedPlaylist=l_(n.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(n)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,cD(this.main,this.srcUri()),e.playlists.forEach(r=>{r.segments=pD(r),r.segments.forEach(n=>{hD(n,r.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const i=this.srcUri()||H.location.href;this.main=xW(e,i),this.haveMetadata({playlistObject:e,url:i,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,i){const r=this.main,n=e.ID;let s=r.playlists.length;for(;s--;){const a=r.playlists[s];if(a.attributes["PATHWAY-ID"]===n){const o=a.resolvedUri,l=a.id;if(i){const u=this.createCloneURI_(a.resolvedUri,e),c=Jc(n,u),d=this.createCloneAttributes_(n,a.attributes),h=this.createClonePlaylist_(a,c,e,d);r.playlists[s]=h,r.playlists[c]=h,r.playlists[u]=h}else r.playlists.splice(s,1);delete r.playlists[l],delete r.playlists[o]}}this.updateOrDeleteCloneMedia(e,i)}updateOrDeleteCloneMedia(e,i){const r=this.main,n=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!r.mediaGroups[s]||!r.mediaGroups[s][n])){for(const a in r.mediaGroups[s])if(a===n){for(const o in r.mediaGroups[s][a])r.mediaGroups[s][a][o].playlists.forEach((u,c)=>{const d=r.playlists[u.id],h=d.id,f=d.resolvedUri;delete r.playlists[h],delete r.playlists[f]});delete r.mediaGroups[s][a]}}}),i&&this.createClonedMediaGroups_(e)}addClonePathway(e,i={}){const r=this.main,n=r.playlists.length,s=this.createCloneURI_(i.resolvedUri,e),a=Jc(e.ID,s),o=this.createCloneAttributes_(e.ID,i.attributes),l=this.createClonePlaylist_(i,a,e,o);r.playlists[n]=l,r.playlists[a]=l,r.playlists[s]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const i=e.ID,r=e["BASE-ID"],n=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!n.mediaGroups[s]||n.mediaGroups[s][i]))for(const a in n.mediaGroups[s]){if(a===r)n.mediaGroups[s][i]={};else continue;for(const o in n.mediaGroups[s][a]){const l=n.mediaGroups[s][a][o];n.mediaGroups[s][i][o]=Bi({},l);const u=n.mediaGroups[s][i][o],c=this.createCloneURI_(l.resolvedUri,e);u.resolvedUri=c,u.uri=c,u.playlists=[],l.playlists.forEach((d,h)=>{const f=n.playlists[d.id],g=lD(s,i,o),y=Jc(i,g);if(f&&!n.playlists[y]){const C=this.createClonePlaylist_(f,y,e),S=C.resolvedUri;n.playlists[y]=C,n.playlists[S]=C}u.playlists[h]=this.createClonePlaylist_(d,y,e)})}}})}createClonePlaylist_(e,i,r,n){const s=this.createCloneURI_(e.resolvedUri,r),a={resolvedUri:s,uri:s,id:i};return e.segments&&(a.segments=[]),n&&(a.attributes=n),ei(e,a)}createCloneURI_(e,i){const r=new URL(e);r.hostname=i["URI-REPLACEMENT"].HOST;const n=i["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(n))r.searchParams.set(s,n[s]);return r.href}createCloneAttributes_(e,i){const r={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(n=>{i[n]&&(r[n]=e)}),r}getKeyIdSet(e){if(e.contentProtection){const i=new Set;for(const r in e.contentProtection){const n=e.contentProtection[r].attributes.keyId;n&&i.add(n.toLowerCase())}return i}}}const u5=function(t,e,i,r){const n=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&n&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=n.byteLength||n.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),i.headers&&(t.responseHeaders=i.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(n||t.responseText)))),r(e,t)},kW=(t,e)=>{if(!t||!t.size)return;let i=e;return t.forEach(r=>{i=r(i)}),i},TW=(t,e,i,r)=>{!t||!t.size||t.forEach(n=>{n(e,i,r)})},mD=function(){const t=function e(i,r){i=ei({timeout:45e3},i);const n=e.beforeRequest||ae.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||ae.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||ae.Vhs.xhr._responseCallbackSet;n&&typeof n=="function"&&(ae.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(n));const o=ae.Vhs.xhr.original===!0?ae.xhr:ae.Vhs.xhr,l=kW(s,i);s.delete(n);const u=o(l||i,function(d,h){return TW(a,u,d,h),u5(u,d,h,r)}),c=u.abort;return u.abort=function(){return u.aborted=!0,c.apply(u,arguments)},u.uri=i.uri,u.requestType=i.requestType,u.requestTime=Date.now(),u};return t.original=!0,t},EW=function(t){let e;const i=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=H.BigInt(t.offset)+H.BigInt(t.length)-H.BigInt(1):e=t.offset+t.length-1,"bytes="+i+"-"+e},c5=function(t){const e={};return t.byterange&&(e.Range=EW(t.byterange)),e},AW=function(t,e){return t.start(e)+"-"+t.end(e)},MW=function(t,e){const i=t.toString(16);return"00".substring(0,2-i.length)+i+(e%2?" ":"")},DW=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},gD=function(t){const e={};return Object.keys(t).forEach(i=>{const r=t[i];jE(r)?e[i]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:e[i]=r}),e},G1=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},yD=function(t){return t.resolvedUri},vD=t=>{const e=Array.prototype.slice.call(t),i=16;let r="",n,s;for(let a=0;a<e.length/i;a++)n=e.slice(a*i,a*i+i).map(MW).join(""),s=e.slice(a*i,a*i+i).map(DW).join(""),r+=n+" "+s+`
`;return r},LW=({bytes:t})=>vD(t),BW=t=>{let e="",i;for(i=0;i<t.length;i++)e+=AW(t,i)+" ";return e};var PW=Object.freeze({__proto__:null,createTransferableMessage:gD,initSegmentId:G1,segmentKeyId:yD,hexDump:vD,tagDump:LW,textRanges:BW});const bD=.25,IW=(t,e)=>{if(!e.dateTimeObject)return null;const i=e.videoTimingInfo.transmuxerPrependedSeconds,n=e.videoTimingInfo.transmuxedPresentationStart+i,s=t-n;return new Date(e.dateTimeObject.getTime()+s*1e3)},RW=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,OW=(t,e)=>{let i;try{i=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let r=e.segments[0];if(i<new Date(r.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){r=e.segments[l];const u=new Date(e.segments[l+1].dateTimeObject);if(i<u)break}const n=e.segments[e.segments.length-1],s=n.dateTimeObject,a=n.videoTimingInfo?RW(n.videoTimingInfo):n.duration+n.duration*bD,o=new Date(s.getTime()+a*1e3);return i>o?null:(i>new Date(s)&&(r=n),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:hn.duration(e,e.mediaSequence+e.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},FW=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let i=0,r;for(let s=0;s<e.segments.length&&(r=e.segments[s],i=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:i+r.duration,!(t<=i));s++);const n=e.segments[e.segments.length-1];if(n.videoTimingInfo&&n.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>i){if(t>i+n.duration*bD)return null;r=n}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:i-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},NW=(t,e)=>{let i,r;try{i=new Date(t),r=new Date(e)}catch{}const n=i.getTime();return(r.getTime()-n)/1e3},$W=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},zW=({playlist:t,time:e=void 0,callback:i})=>{if(!i)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return i({message:"getProgramTime: playlist and time must be provided"});const r=FW(e,t);if(!r)return i({message:"valid programTime was not found"});if(r.type==="estimate")return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:r.estimatedStart});const n={mediaSeconds:e},s=IW(e,r.segment);return s&&(n.programDateTime=s.toISOString()),i(null,n)},xD=({programTime:t,playlist:e,retryCount:i=2,seekTo:r,pauseAfterSeek:n=!0,tech:s,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!r)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!$W(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const o=OW(t,e);if(!o)return a({message:`${t} was not found in the stream`});const l=o.segment,u=NW(l.dateTimeObject,t);if(o.type==="estimate"){if(i===0)return a({message:`${t} is not buffered yet. Try again`});r(o.estimatedStart+u),s.one("seeked",()=>{xD({programTime:t,playlist:e,retryCount:i-1,seekTo:r,pauseAfterSeek:n,tech:s,callback:a})});return}const c=l.start+u,d=()=>a(null,s.currentTime());s.one("seeked",d),n&&s.pause(),r(c)},K4=(t,e)=>{if(t.readyState===4)return e()},UW=(t,e,i,r)=>{let n=[],s,a=!1;const o=function(d,h,f,g){return h.abort(),a=!0,i(d,h,f,g)},l=function(d,h){if(a)return;if(d)return d.metadata=Cu({requestType:r,request:h,error:d}),o(d,h,"",n);const f=h.responseText.substring(n&&n.byteLength||0,h.responseText.length);if(n=jj(n,VE(f,!0)),s=s||th(n),n.length<10||s&&n.length<s+2)return K4(h,()=>o(d,h,"",n));const g=ub(n);return g==="ts"&&n.length<188?K4(h,()=>o(d,h,"",n)):!g&&n.length<376?K4(h,()=>o(d,h,"",n)):o(null,h,g,n)},c=e({uri:t,beforeSend(d){d.overrideMimeType("text/plain; charset=x-user-defined"),d.addEventListener("progress",function({total:h,loaded:f}){return u5(d,null,{statusCode:d.status},l)})}},function(d,h){return u5(c,d,h,l)});return c},{EventTarget:qW}=ae,u_=function(t,e){if(!fD(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let i=0;i<t.segments.length;i++){const r=t.segments[i],n=e.segments[i];if(r.uri!==n.uri)return!1;if(!r.byterange&&!n.byterange)continue;const s=r.byterange,a=n.byterange;if(s&&!a||!s&&a||s.offset!==a.offset||s.length!==a.length)return!1}return!0},jW=(t,e,i,r)=>{const n=r.attributes.NAME||i;return`placeholder-uri-${t}-${e}-${n}`},VW=({mainXml:t,srcUrl:e,clientOffset:i,sidxMapping:r,previousManifest:n})=>{const s=hH(t,{manifestUri:e,clientOffset:i,sidxMapping:r,previousManifest:n});return cD(s,e,jW),s},HW=(t,e)=>{q0(t,(i,r,n,s)=>{s in e.mediaGroups[r][n]||delete t.mediaGroups[r][n][s]})},KW=(t,e,i)=>{let r=!0,n=ei(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const a=e.playlists[s];if(a.sidx){const l=Jg(a.sidx);i&&i[l]&&i[l].sidx&&ab(a,i[l].sidx,a.sidx.resolvedUri)}const o=o5(n,a,u_);o&&(n=o,r=!1)}return q0(e,(s,a,o,l)=>{if(s.playlists&&s.playlists.length){const u=s.playlists[0].id,c=o5(n,s.playlists[0],u_);c&&(n=c,l in n.mediaGroups[a][o]||(n.mediaGroups[a][o][l]=s),n.mediaGroups[a][o][l].playlists[0]=n.playlists[u],r=!1)}}),HW(n,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(r=!1),r?null:n},WW=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,c_=(t,e)=>{const i={};for(const r in t){const s=t[r].sidx;if(s){const a=Jg(s);if(!e[a])break;const o=e[a].sidxInfo;WW(o,s)&&(i[a]=e[a])}}return i},GW=(t,e)=>{let r=c_(t.playlists,e);return q0(t,(n,s,a,o)=>{if(n.playlists&&n.playlists.length){const l=n.playlists;r=ei(r,c_(l,e))}}),r};class d5 extends qW{constructor(e,i,r={},n){super(),this.mainPlaylistLoader_=n||this,n||(this.isMain_=!0);const{withCredentials:s=!1}=r;if(this.vhs_=i,this.withCredentials=s,this.addMetadataToTextTrack=r.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=ls("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,i,r){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:i.status,message:"DASH request error at URL: "+i.uri,response:i.response,code:2,metadata:e.metadata},r&&(this.state=r),this.trigger("error"),!0}addSidxSegments_(e,i,r){const n=e.sidx&&Jg(e.sidx);if(!e.sidx||!n||this.mainPlaylistLoader_.sidxMapping_[n]){this.mediaRequest_=H.setTimeout(()=>r(!1),0);return}const s=W1(e.sidx.resolvedUri),a=(l,u)=>{if(this.requestErrored_(l,u,i))return;const c=this.mainPlaylistLoader_.sidxMapping_,{requestType:d}=u;let h;try{h=vH(ct(u.response).subarray(8))}catch(f){f.metadata=Cu({requestType:d,request:u,parseFailure:!0}),this.requestErrored_(f,u,i);return}return c[n]={sidxInfo:e.sidx,sidx:h},ab(e,h,e.sidx.resolvedUri),r(!0)},o="dash-sidx";this.request=UW(s,this.vhs_.xhr,(l,u,c,d)=>{if(l)return a(l,u);if(!c||c!=="mp4"){const g=c||"unknown";return a({status:u.status,message:`Unsupported ${g} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},u)}const{offset:h,length:f}=e.sidx.byterange;if(d.length>=f+h)return a(l,{response:d.subarray(h,h+f),status:u.status,uri:u.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",requestType:"dash-sidx",headers:c5({byterange:e.sidx.byterange})},a)},o)}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},H.clearTimeout(this.minimumUpdatePeriodTimeout_),H.clearTimeout(this.mediaRequest_),H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const i=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,r&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,i,n=>{this.haveMetadata({startingState:i,playlist:e})}))}haveMetadata({startingState:e,playlist:i}){this.state="HAVE_METADATA",this.loadedPlaylists_[i.id]=i,this.mediaRequest_=null,this.refreshMedia_(i.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(H.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){H.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const i=this.media();if(e){const r=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=H.setTimeout(()=>this.load(),r);return}if(!this.started){this.start();return}i&&!i.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=H.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,i)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const i={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:i}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(r,n)=>{if(r){const{requestType:a}=n;r.metadata=Cu({requestType:a,request:n,error:r})}if(this.requestErrored_(r,n)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:i});const s=n.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?this.mainLoaded_=Date.parse(n.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=W1(this.mainPlaylistLoader_.srcUrl,n),s){this.handleMain_(),this.syncClientServerClock_(()=>e(n,s));return}return e(n,s)})}syncClientServerClock_(e){const i=pH(this.mainPlaylistLoader_.mainXml_);if(i===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(i.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=i.value-Date.now(),e();this.request=this.vhs_.xhr({uri:dn(this.mainPlaylistLoader_.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(r,n)=>{if(!this.request)return;if(r){const{requestType:a}=n;return this.error.metadata=Cu({requestType:a,request:n,error:r}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let s;i.method==="HEAD"?!n.responseHeaders||!n.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(n.responseHeaders.date):s=Date.parse(n.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,i={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:i});let r;try{r=VW({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(s){this.error=s,this.error.metadata={errorType:ae.Error.StreamingDashManifestParserError,error:s},this.trigger("error")}e&&(r=KW(e,r,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=r||e;const n=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(n&&n!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=n),(!e||r&&r.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(r),r){const{duration:s,endList:a}=r,o=[];r.playlists.forEach(u=>{o.push({id:u.id,bandwidth:u.attributes.BANDWIDTH,resolution:u.attributes.RESOLUTION,codecs:u.attributes.CODECS})});const l={duration:s,isLive:!a,renditions:o};i.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:i})}return!!r}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(H.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let i=e.main&&e.main.minimumUpdatePeriod;if(i===0&&(e.media()?i=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof i!="number"||i<=0){i<0&&this.logger_(`found invalid minimumUpdatePeriod of ${i}, not setting a timeout`);return}this.createMUPTimeout_(i)}createMUPTimeout_(e){const i=this.mainPlaylistLoader_;i.minimumUpdatePeriodTimeout_=H.setTimeout(()=>{i.minimumUpdatePeriodTimeout_=null,i.trigger("minimumUpdatePeriod"),i.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,i)=>{i&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=GW(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,r=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const i=this.mainPlaylistLoader_.main.playlists,r=!this.media_||this.media_!==i[e];if(r?this.media_=i[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const n=()=>{this.media().endList||(this.mediaUpdateTimeout=H.setTimeout(()=>{this.trigger("mediaupdatetimeout"),n()},l5(this.media(),!!r)))};n()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const i=this.mainPlaylistLoader_.main.eventStream.map(r=>({cueTime:r.start,frames:[{data:r.messageData}]}));this.addMetadataToTextTrack("EventStream",i,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const i=new Set;for(const r in e.contentProtection){const n=e.contentProtection[r].attributes["cenc:default_KID"];n&&i.add(n.replace(/-/g,"").toLowerCase())}return i}}}var cr={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const XW=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e.buffer},_D=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},YW=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const i=new BlobBuilder;return i.append(t),URL.createObjectURL(i.getBlob())}},wD=function(t){return function(){const e=YW(t),i=_D(new Worker(e));i.objURL=e;const r=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(e),r.call(this)},i}},SD=function(t){return`var browserWorkerPolyFill = ${_D.toString()};
browserWorkerPolyFill(self);
`+t},CD=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},ZW=SD(CD(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var p={};this.on=function(v,x){p[v]||(p[v]=[]),p[v]=p[v].concat(x)},this.off=function(v,x){var b;return p[v]?(b=p[v].indexOf(x),p[v]=p[v].slice(),p[v].splice(b,1),b>-1):!1},this.trigger=function(v){var x,b,w,E;if(x=p[v],!!x)if(arguments.length===2)for(w=x.length,b=0;b<w;++b)x[b].call(this,arguments[1]);else{for(E=[],b=arguments.length,b=1;b<arguments.length;++b)E.push(arguments[b]);for(w=x.length,b=0;b<w;++b)x[b].apply(this,E)}},this.dispose=function(){p={}}}};e.prototype.pipe=function(p){return this.on("data",function(v){p.push(v)}),this.on("done",function(v){p.flush(v)}),this.on("partialdone",function(v){p.partialFlush(v)}),this.on("endedtimeline",function(v){p.endTimeline(v)}),this.on("reset",function(v){p.reset(v)}),p},e.prototype.push=function(p){this.trigger("data",p)},e.prototype.flush=function(p){this.trigger("done",p)},e.prototype.partialFlush=function(p){this.trigger("partialdone",p)},e.prototype.endTimeline=function(p){this.trigger("endedtimeline",p)},e.prototype.reset=function(p){this.trigger("reset",p)};var i=e,r=Math.pow(2,32),n=function(p){var v=new DataView(p.buffer,p.byteOffset,p.byteLength),x;return v.getBigUint64?(x=v.getBigUint64(0),x<Number.MAX_SAFE_INTEGER?Number(x):x):v.getUint32(0)*r+v.getUint32(4)},s={getUint64:n,MAX_UINT32:r},a=s.MAX_UINT32,o,l,u,c,d,h,f,g,y,C,S,A,T,M,D,B,F,V,O,U,J,Y,ie,ce,qe,Me,me,be,ot,vt,$e,Je,it,Ft,rt,It;(function(){var p;if(ie={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(p in ie)ie.hasOwnProperty(p)&&(ie[p]=[p.charCodeAt(0),p.charCodeAt(1),p.charCodeAt(2),p.charCodeAt(3)]);ce=new Uint8Array([105,115,111,109]),Me=new Uint8Array([97,118,99,49]),qe=new Uint8Array([0,0,0,1]),me=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),be=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ot={video:me,audio:be},Je=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),$e=new Uint8Array([0,0,0,0,0,0,0,0]),it=new Uint8Array([0,0,0,0,0,0,0,0]),Ft=it,rt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),It=it,vt=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(p){var v=[],x=0,b,w,E;for(b=1;b<arguments.length;b++)v.push(arguments[b]);for(b=v.length;b--;)x+=v[b].byteLength;for(w=new Uint8Array(x+8),E=new DataView(w.buffer,w.byteOffset,w.byteLength),E.setUint32(0,w.byteLength),w.set(p,4),b=0,x=8;b<v.length;b++)w.set(v[b],x),x+=v[b].byteLength;return w},l=function(){return o(ie.dinf,o(ie.dref,Je))},u=function(p){return o(ie.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,p.audioobjecttype<<3|p.samplingfrequencyindex>>>1,p.samplingfrequencyindex<<7|p.channelcount<<3,6,1,2]))},c=function(){return o(ie.ftyp,ce,qe,ce,Me)},B=function(p){return o(ie.hdlr,ot[p])},d=function(p){return o(ie.mdat,p)},D=function(p){var v=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,p.duration>>>24&255,p.duration>>>16&255,p.duration>>>8&255,p.duration&255,85,196,0,0]);return p.samplerate&&(v[12]=p.samplerate>>>24&255,v[13]=p.samplerate>>>16&255,v[14]=p.samplerate>>>8&255,v[15]=p.samplerate&255),o(ie.mdhd,v)},M=function(p){return o(ie.mdia,D(p),B(p.type),f(p))},h=function(p){return o(ie.mfhd,new Uint8Array([0,0,0,0,(p&4278190080)>>24,(p&16711680)>>16,(p&65280)>>8,p&255]))},f=function(p){return o(ie.minf,p.type==="video"?o(ie.vmhd,vt):o(ie.smhd,$e),l(),V(p))},g=function(p,v){for(var x=[],b=v.length;b--;)x[b]=U(v[b]);return o.apply(null,[ie.moof,h(p)].concat(x))},y=function(p){for(var v=p.length,x=[];v--;)x[v]=A(p[v]);return o.apply(null,[ie.moov,S(4294967295)].concat(x).concat(C(p)))},C=function(p){for(var v=p.length,x=[];v--;)x[v]=J(p[v]);return o.apply(null,[ie.mvex].concat(x))},S=function(p){var v=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(p&4278190080)>>24,(p&16711680)>>16,(p&65280)>>8,p&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(ie.mvhd,v)},F=function(p){var v=p.samples||[],x=new Uint8Array(4+v.length),b,w;for(w=0;w<v.length;w++)b=v[w].flags,x[w+4]=b.dependsOn<<4|b.isDependedOn<<2|b.hasRedundancy;return o(ie.sdtp,x)},V=function(p){return o(ie.stbl,O(p),o(ie.stts,It),o(ie.stsc,Ft),o(ie.stsz,rt),o(ie.stco,it))},function(){var p,v;O=function(x){return o(ie.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),x.type==="video"?p(x):v(x))},p=function(x){var b=x.sps||[],w=x.pps||[],E=[],R=[],$,j;for($=0;$<b.length;$++)E.push((b[$].byteLength&65280)>>>8),E.push(b[$].byteLength&255),E=E.concat(Array.prototype.slice.call(b[$]));for($=0;$<w.length;$++)R.push((w[$].byteLength&65280)>>>8),R.push(w[$].byteLength&255),R=R.concat(Array.prototype.slice.call(w[$]));if(j=[ie.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(x.width&65280)>>8,x.width&255,(x.height&65280)>>8,x.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(ie.avcC,new Uint8Array([1,x.profileIdc,x.profileCompatibility,x.levelIdc,255].concat([b.length],E,[w.length],R))),o(ie.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],x.sarRatio){var G=x.sarRatio[0],te=x.sarRatio[1];j.push(o(ie.pasp,new Uint8Array([(G&4278190080)>>24,(G&16711680)>>16,(G&65280)>>8,G&255,(te&4278190080)>>24,(te&16711680)>>16,(te&65280)>>8,te&255])))}return o.apply(null,j)},v=function(x){return o(ie.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(x.channelcount&65280)>>8,x.channelcount&255,(x.samplesize&65280)>>8,x.samplesize&255,0,0,0,0,(x.samplerate&65280)>>8,x.samplerate&255,0,0]),u(x))}}(),T=function(p){var v=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,0,(p.duration&4278190080)>>24,(p.duration&16711680)>>16,(p.duration&65280)>>8,p.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(p.width&65280)>>8,p.width&255,0,0,(p.height&65280)>>8,p.height&255,0,0]);return o(ie.tkhd,v)},U=function(p){var v,x,b,w,E,R,$;return v=o(ie.tfhd,new Uint8Array([0,0,0,58,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),R=Math.floor(p.baseMediaDecodeTime/a),$=Math.floor(p.baseMediaDecodeTime%a),x=o(ie.tfdt,new Uint8Array([1,0,0,0,R>>>24&255,R>>>16&255,R>>>8&255,R&255,$>>>24&255,$>>>16&255,$>>>8&255,$&255])),E=92,p.type==="audio"?(b=Y(p,E),o(ie.traf,v,x,b)):(w=F(p),b=Y(p,w.length+E),o(ie.traf,v,x,b,w))},A=function(p){return p.duration=p.duration||4294967295,o(ie.trak,T(p),M(p))},J=function(p){var v=new Uint8Array([0,0,0,0,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return p.type!=="video"&&(v[v.length-1]=0),o(ie.trex,v)},function(){var p,v,x;x=function(b,w){var E=0,R=0,$=0,j=0;return b.length&&(b[0].duration!==void 0&&(E=1),b[0].size!==void 0&&(R=2),b[0].flags!==void 0&&($=4),b[0].compositionTimeOffset!==void 0&&(j=8)),[0,0,E|R|$|j,1,(b.length&4278190080)>>>24,(b.length&16711680)>>>16,(b.length&65280)>>>8,b.length&255,(w&4278190080)>>>24,(w&16711680)>>>16,(w&65280)>>>8,w&255]},v=function(b,w){var E,R,$,j,G,te;for(j=b.samples||[],w+=20+16*j.length,$=x(j,w),R=new Uint8Array($.length+j.length*16),R.set($),E=$.length,te=0;te<j.length;te++)G=j[te],R[E++]=(G.duration&4278190080)>>>24,R[E++]=(G.duration&16711680)>>>16,R[E++]=(G.duration&65280)>>>8,R[E++]=G.duration&255,R[E++]=(G.size&4278190080)>>>24,R[E++]=(G.size&16711680)>>>16,R[E++]=(G.size&65280)>>>8,R[E++]=G.size&255,R[E++]=G.flags.isLeading<<2|G.flags.dependsOn,R[E++]=G.flags.isDependedOn<<6|G.flags.hasRedundancy<<4|G.flags.paddingValue<<1|G.flags.isNonSyncSample,R[E++]=G.flags.degradationPriority&61440,R[E++]=G.flags.degradationPriority&15,R[E++]=(G.compositionTimeOffset&4278190080)>>>24,R[E++]=(G.compositionTimeOffset&16711680)>>>16,R[E++]=(G.compositionTimeOffset&65280)>>>8,R[E++]=G.compositionTimeOffset&255;return o(ie.trun,R)},p=function(b,w){var E,R,$,j,G,te;for(j=b.samples||[],w+=20+8*j.length,$=x(j,w),E=new Uint8Array($.length+j.length*8),E.set($),R=$.length,te=0;te<j.length;te++)G=j[te],E[R++]=(G.duration&4278190080)>>>24,E[R++]=(G.duration&16711680)>>>16,E[R++]=(G.duration&65280)>>>8,E[R++]=G.duration&255,E[R++]=(G.size&4278190080)>>>24,E[R++]=(G.size&16711680)>>>16,E[R++]=(G.size&65280)>>>8,E[R++]=G.size&255;return o(ie.trun,E)},Y=function(b,w){return b.type==="audio"?p(b,w):v(b,w)}}();var oe={ftyp:c,mdat:d,moof:g,moov:y,initSegment:function(p){var v=c(),x=y(p),b;return b=new Uint8Array(v.byteLength+x.byteLength),b.set(v),b.set(x,v.byteLength),b}},Te=function(p){var v,x,b=[],w=[];for(w.byteLength=0,w.nalCount=0,w.duration=0,b.byteLength=0,v=0;v<p.length;v++)x=p[v],x.nalUnitType==="access_unit_delimiter_rbsp"?(b.length&&(b.duration=x.dts-b.dts,w.byteLength+=b.byteLength,w.nalCount+=b.length,w.duration+=b.duration,w.push(b)),b=[x],b.byteLength=x.data.byteLength,b.pts=x.pts,b.dts=x.dts):(x.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(b.keyFrame=!0),b.duration=x.dts-b.dts,b.byteLength+=x.data.byteLength,b.push(x));return w.length&&(!b.duration||b.duration<=0)&&(b.duration=w[w.length-1].duration),w.byteLength+=b.byteLength,w.nalCount+=b.length,w.duration+=b.duration,w.push(b),w},Ee=function(p){var v,x,b=[],w=[];for(b.byteLength=0,b.nalCount=0,b.duration=0,b.pts=p[0].pts,b.dts=p[0].dts,w.byteLength=0,w.nalCount=0,w.duration=0,w.pts=p[0].pts,w.dts=p[0].dts,v=0;v<p.length;v++)x=p[v],x.keyFrame?(b.length&&(w.push(b),w.byteLength+=b.byteLength,w.nalCount+=b.nalCount,w.duration+=b.duration),b=[x],b.nalCount=x.length,b.byteLength=x.byteLength,b.pts=x.pts,b.dts=x.dts,b.duration=x.duration):(b.duration+=x.duration,b.nalCount+=x.length,b.byteLength+=x.byteLength,b.push(x));return w.length&&b.duration<=0&&(b.duration=w[w.length-1].duration),w.byteLength+=b.byteLength,w.nalCount+=b.nalCount,w.duration+=b.duration,w.push(b),w},Ie=function(p){var v;return!p[0][0].keyFrame&&p.length>1&&(v=p.shift(),p.byteLength-=v.byteLength,p.nalCount-=v.nalCount,p[0][0].dts=v.dts,p[0][0].pts=v.pts,p[0][0].duration+=v.duration),p},wt=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},St=function(p,v){var x=wt();return x.dataOffset=v,x.compositionTimeOffset=p.pts-p.dts,x.duration=p.duration,x.size=4*p.length,x.size+=p.byteLength,p.keyFrame&&(x.flags.dependsOn=2,x.flags.isNonSyncSample=0),x},N=function(p,v){var x,b,w,E,R,$=v||0,j=[];for(x=0;x<p.length;x++)for(E=p[x],b=0;b<E.length;b++)R=E[b],w=St(R,$),$+=w.size,j.push(w);return j},z=function(p){var v,x,b,w,E,R,$=0,j=p.byteLength,G=p.nalCount,te=j+4*G,le=new Uint8Array(te),Ve=new DataView(le.buffer);for(v=0;v<p.length;v++)for(w=p[v],x=0;x<w.length;x++)for(E=w[x],b=0;b<E.length;b++)R=E[b],Ve.setUint32($,R.data.byteLength),$+=4,le.set(R.data,$),$+=R.data.byteLength;return le},re=function(p,v){var x,b=v||0,w=[];return x=St(p,b),w.push(x),w},ye=function(p){var v,x,b=0,w=p.byteLength,E=p.length,R=w+4*E,$=new Uint8Array(R),j=new DataView($.buffer);for(v=0;v<p.length;v++)x=p[v],j.setUint32(b,x.data.byteLength),b+=4,$.set(x.data,b),b+=x.data.byteLength;return $},pe={groupNalsIntoFrames:Te,groupFramesIntoGops:Ee,extendFirstKeyFrame:Ie,generateSampleTable:N,concatenateNalData:z,generateSampleTableForFrame:re,concatenateNalDataForFrame:ye},xe=[33,16,5,32,164,27],Re=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Se=function(p){for(var v=[];p--;)v.push(0);return v},Oe=function(p){return Object.keys(p).reduce(function(v,x){return v[x]=new Uint8Array(p[x].reduce(function(b,w){return b.concat(w)},[])),v},{})},De,at=function(){if(!De){var p={96e3:[xe,[227,64],Se(154),[56]],88200:[xe,[231],Se(170),[56]],64e3:[xe,[248,192],Se(240),[56]],48e3:[xe,[255,192],Se(268),[55,148,128],Se(54),[112]],44100:[xe,[255,192],Se(268),[55,163,128],Se(84),[112]],32e3:[xe,[255,192],Se(268),[55,234],Se(226),[112]],24e3:[xe,[255,192],Se(268),[55,255,128],Se(268),[111,112],Se(126),[224]],16e3:[xe,[255,192],Se(268),[55,255,128],Se(268),[111,255],Se(269),[223,108],Se(195),[1,192]],12e3:[Re,Se(268),[3,127,248],Se(268),[6,255,240],Se(268),[13,255,224],Se(268),[27,253,128],Se(259),[56]],11025:[Re,Se(268),[3,127,248],Se(268),[6,255,240],Se(268),[13,255,224],Se(268),[27,255,192],Se(268),[55,175,128],Se(108),[112]],8e3:[Re,Se(268),[3,121,16],Se(47),[7]]};De=Oe(p)}return De},Ue=9e4,Ze,nt,At,Vt,$t,ji,Ai;Ze=function(p){return p*Ue},nt=function(p,v){return p*v},At=function(p){return p/Ue},Vt=function(p,v){return p/v},$t=function(p,v){return Ze(Vt(p,v))},ji=function(p,v){return nt(At(p),v)},Ai=function(p,v,x){return At(x?p:p-v)};var Mt={ONE_SECOND_IN_TS:Ue,secondsToVideoTs:Ze,secondsToAudioTs:nt,videoTsToSeconds:At,audioTsToSeconds:Vt,audioTsToVideoTs:$t,videoTsToAudioTs:ji,metadataTsToSeconds:Ai},Vi=at,Hi=Mt,cs=function(p){var v,x,b=0;for(v=0;v<p.length;v++)x=p[v],b+=x.data.byteLength;return b},Ji=function(p,v,x,b){var w,E=0,R=0,$=0,j=0,G,te,le;if(v.length&&(w=Hi.audioTsToVideoTs(p.baseMediaDecodeTime,p.samplerate),E=Math.ceil(Hi.ONE_SECOND_IN_TS/(p.samplerate/1024)),x&&b&&(R=w-Math.max(x,b),$=Math.floor(R/E),j=$*E),!($<1||j>Hi.ONE_SECOND_IN_TS/2))){for(G=Vi()[p.samplerate],G||(G=v[0].data),te=0;te<$;te++)le=v[0],v.splice(0,0,{data:G,dts:le.dts-E,pts:le.pts-E});return p.baseMediaDecodeTime-=Math.floor(Hi.videoTsToAudioTs(j,p.samplerate)),j}},Tr=function(p,v,x){return v.minSegmentDts>=x?p:(v.minSegmentDts=1/0,p.filter(function(b){return b.dts>=x?(v.minSegmentDts=Math.min(v.minSegmentDts,b.dts),v.minSegmentPts=v.minSegmentDts,!0):!1}))},Hu=function(p){var v,x,b=[];for(v=0;v<p.length;v++)x=p[v],b.push({size:x.data.byteLength,duration:1024});return b},Tl=function(p){var v,x,b=0,w=new Uint8Array(cs(p));for(v=0;v<p.length;v++)x=p[v],w.set(x.data,b),b+=x.data.byteLength;return w},z2={prefixWithSilence:Ji,trimAdtsFramesByEarliestDts:Tr,generateSampleTable:Hu,concatenateFrameData:Tl},U2=Mt.ONE_SECOND_IN_TS,Ki=function(p,v){typeof v.pts=="number"&&(p.timelineStartInfo.pts===void 0&&(p.timelineStartInfo.pts=v.pts),p.minSegmentPts===void 0?p.minSegmentPts=v.pts:p.minSegmentPts=Math.min(p.minSegmentPts,v.pts),p.maxSegmentPts===void 0?p.maxSegmentPts=v.pts:p.maxSegmentPts=Math.max(p.maxSegmentPts,v.pts)),typeof v.dts=="number"&&(p.timelineStartInfo.dts===void 0&&(p.timelineStartInfo.dts=v.dts),p.minSegmentDts===void 0?p.minSegmentDts=v.dts:p.minSegmentDts=Math.min(p.minSegmentDts,v.dts),p.maxSegmentDts===void 0?p.maxSegmentDts=v.dts:p.maxSegmentDts=Math.max(p.maxSegmentDts,v.dts))},mo=function(p){delete p.minSegmentDts,delete p.maxSegmentDts,delete p.minSegmentPts,delete p.maxSegmentPts},q2=function(p,v){var x,b,w=p.minSegmentDts;return v||(w-=p.timelineStartInfo.dts),x=p.timelineStartInfo.baseMediaDecodeTime,x+=w,x=Math.max(0,x),p.type==="audio"&&(b=p.samplerate/U2,x*=b,x=Math.floor(x)),x},Ip={clearDtsInfo:mo,calculateTrackBaseMediaDecodeTime:q2,collectDtsInfo:Ki},Ku=4,Rp=128,Op=function(p){for(var v=0,x={payloadType:-1,payloadSize:0},b=0,w=0;v<p.byteLength&&p[v]!==Rp;){for(;p[v]===255;)b+=255,v++;for(b+=p[v++];p[v]===255;)w+=255,v++;if(w+=p[v++],!x.payload&&b===Ku){var E=String.fromCharCode(p[v+3],p[v+4],p[v+5],p[v+6]);if(E==="GA94"){x.payloadType=b,x.payloadSize=w,x.payload=p.subarray(v,v+w);break}else x.payload=void 0}v+=w,b=0,w=0}return x},j2=function(p){return p.payload[0]!==181||(p.payload[1]<<8|p.payload[2])!==49||String.fromCharCode(p.payload[3],p.payload[4],p.payload[5],p.payload[6])!=="GA94"||p.payload[7]!==3?null:p.payload.subarray(8,p.payload.length-1)},Fp=function(p,v){var x=[],b,w,E,R;if(!(v[0]&64))return x;for(w=v[0]&31,b=0;b<w;b++)E=b*3,R={type:v[E+2]&3,pts:p},v[E+2]&4&&(R.ccData=v[E+3]<<8|v[E+4],x.push(R));return x},Np=function(p){for(var v=p.byteLength,x=[],b=1,w,E;b<v-2;)p[b]===0&&p[b+1]===0&&p[b+2]===3?(x.push(b+2),b+=2):b++;if(x.length===0)return p;w=v-x.length,E=new Uint8Array(w);var R=0;for(b=0;b<w;R++,b++)R===x[0]&&(R++,x.shift()),E[b]=p[R];return E},$p={parseSei:Op,parseUserData:j2,parseCaptionPackets:Fp,discardEmulationPreventionBytes:Np,USER_DATA_REGISTERED_ITU_T_T35:Ku},sn=i,va=$p,gr=function(p){p=p||{},gr.prototype.init.call(this),this.parse708captions_=typeof p.parse708captions=="boolean"?p.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Ce(0,0),new Ce(0,1),new Ce(1,0),new Ce(1,1)],this.parse708captions_&&(this.cc708Stream_=new Zt({captionServices:p.captionServices})),this.reset(),this.ccStreams_.forEach(function(v){v.on("data",this.trigger.bind(this,"data")),v.on("partialdone",this.trigger.bind(this,"partialdone")),v.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};gr.prototype=new sn,gr.prototype.push=function(p){var v,x,b;if(p.nalUnitType==="sei_rbsp"&&(v=va.parseSei(p.escapedRBSP),!!v.payload&&v.payloadType===va.USER_DATA_REGISTERED_ITU_T_T35&&(x=va.parseUserData(v),!!x))){if(p.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(p.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}b=va.parseCaptionPackets(p.pts,x),this.captionPackets_=this.captionPackets_.concat(b),this.latestDts_!==p.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=p.dts}},gr.prototype.flushCCStreams=function(p){this.ccStreams_.forEach(function(v){return p==="flush"?v.flush():v.partialFlush()},this)},gr.prototype.flushStream=function(p){if(!this.captionPackets_.length){this.flushCCStreams(p);return}this.captionPackets_.forEach(function(v,x){v.presortIndex=x}),this.captionPackets_.sort(function(v,x){return v.pts===x.pts?v.presortIndex-x.presortIndex:v.pts-x.pts}),this.captionPackets_.forEach(function(v){v.type<2?this.dispatchCea608Packet(v):this.dispatchCea708Packet(v)},this),this.captionPackets_.length=0,this.flushCCStreams(p)},gr.prototype.flush=function(){return this.flushStream("flush")},gr.prototype.partialFlush=function(){return this.flushStream("partialFlush")},gr.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(p){p.reset()})},gr.prototype.dispatchCea608Packet=function(p){this.setsTextOrXDSActive(p)?this.activeCea608Channel_[p.type]=null:this.setsChannel1Active(p)?this.activeCea608Channel_[p.type]=0:this.setsChannel2Active(p)&&(this.activeCea608Channel_[p.type]=1),this.activeCea608Channel_[p.type]!==null&&this.ccStreams_[(p.type<<1)+this.activeCea608Channel_[p.type]].push(p)},gr.prototype.setsChannel1Active=function(p){return(p.ccData&30720)===4096},gr.prototype.setsChannel2Active=function(p){return(p.ccData&30720)===6144},gr.prototype.setsTextOrXDSActive=function(p){return(p.ccData&28928)===256||(p.ccData&30974)===4138||(p.ccData&30974)===6186},gr.prototype.dispatchCea708Packet=function(p){this.parse708captions_&&this.cc708Stream_.push(p)};var zp={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Up=function(p){var v=zp[p]||p;return p&4096&&p===v?"":String.fromCharCode(v)},El=function(p){return 32<=p&&p<=127||160<=p&&p<=255},Qi=function(p){this.windowNum=p,this.reset()};Qi.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Qi.prototype.getText=function(){return this.rows.join(`
`)},Qi.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Qi.prototype.newLine=function(p){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(p),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Qi.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Qi.prototype.addText=function(p){this.rows[this.rowIdx]+=p},Qi.prototype.backspace=function(){if(!this.isEmpty()){var p=this.rows[this.rowIdx];this.rows[this.rowIdx]=p.substr(0,p.length-1)}};var Al=function(p,v,x){this.serviceNum=p,this.text="",this.currentWindow=new Qi(-1),this.windows=[],this.stream=x,typeof v=="string"&&this.createTextDecoder(v)};Al.prototype.init=function(p,v){this.startPts=p;for(var x=0;x<8;x++)this.windows[x]=new Qi(x),typeof v=="function"&&(this.windows[x].beforeRowOverflow=v)},Al.prototype.setCurrentWindow=function(p){this.currentWindow=this.windows[p]},Al.prototype.createTextDecoder=function(p){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(p)}catch(v){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+p+" encoding. "+v})}};var Zt=function(p){p=p||{},Zt.prototype.init.call(this);var v=this,x=p.captionServices||{},b={},w;Object.keys(x).forEach(E=>{w=x[E],/^SERVICE/.test(E)&&(b[E]=w.encoding)}),this.serviceEncodings=b,this.current708Packet=null,this.services={},this.push=function(E){E.type===3?(v.new708Packet(),v.add708Bytes(E)):(v.current708Packet===null&&v.new708Packet(),v.add708Bytes(E))}};Zt.prototype=new sn,Zt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Zt.prototype.add708Bytes=function(p){var v=p.ccData,x=v>>>8,b=v&255;this.current708Packet.ptsVals.push(p.pts),this.current708Packet.data.push(x),this.current708Packet.data.push(b)},Zt.prototype.push708Packet=function(){var p=this.current708Packet,v=p.data,x=null,b=null,w=0,E=v[w++];for(p.seq=E>>6,p.sizeCode=E&63;w<v.length;w++)E=v[w++],x=E>>5,b=E&31,x===7&&b>0&&(E=v[w++],x=E),this.pushServiceBlock(x,w,b),b>0&&(w+=b-1)},Zt.prototype.pushServiceBlock=function(p,v,x){var b,w=v,E=this.current708Packet.data,R=this.services[p];for(R||(R=this.initService(p,w));w<v+x&&w<E.length;w++)b=E[w],El(b)?w=this.handleText(w,R):b===24?w=this.multiByteCharacter(w,R):b===16?w=this.extendedCommands(w,R):128<=b&&b<=135?w=this.setCurrentWindow(w,R):152<=b&&b<=159?w=this.defineWindow(w,R):b===136?w=this.clearWindows(w,R):b===140?w=this.deleteWindows(w,R):b===137?w=this.displayWindows(w,R):b===138?w=this.hideWindows(w,R):b===139?w=this.toggleWindows(w,R):b===151?w=this.setWindowAttributes(w,R):b===144?w=this.setPenAttributes(w,R):b===145?w=this.setPenColor(w,R):b===146?w=this.setPenLocation(w,R):b===143?R=this.reset(w,R):b===8?R.currentWindow.backspace():b===12?R.currentWindow.clearText():b===13?R.currentWindow.pendingNewLine=!0:b===14?R.currentWindow.clearText():b===141&&w++},Zt.prototype.extendedCommands=function(p,v){var x=this.current708Packet.data,b=x[++p];return El(b)&&(p=this.handleText(p,v,{isExtended:!0})),p},Zt.prototype.getPts=function(p){return this.current708Packet.ptsVals[Math.floor(p/2)]},Zt.prototype.initService=function(p,v){var b="SERVICE"+p,x=this,b,w;return b in this.serviceEncodings&&(w=this.serviceEncodings[b]),this.services[p]=new Al(p,w,x),this.services[p].init(this.getPts(v),function(E){x.flushDisplayed(E,x.services[p])}),this.services[p]},Zt.prototype.handleText=function(p,v,x){var b=x&&x.isExtended,w=x&&x.isMultiByte,E=this.current708Packet.data,R=b?4096:0,$=E[p],j=E[p+1],G=v.currentWindow,te,le;function Ve(_e){return _e.map(dt=>("0"+(dt&255).toString(16)).slice(-2)).join("")}if(w?(le=[$,j],p++):le=[$],v.textDecoder_&&!b)te=v.textDecoder_.decode(new Uint8Array(le));else if(w){const _e=Ve(le);te=String.fromCharCode(parseInt(_e,16))}else te=Up(R|$);return G.pendingNewLine&&!G.isEmpty()&&G.newLine(this.getPts(p)),G.pendingNewLine=!1,G.addText(te),p},Zt.prototype.multiByteCharacter=function(p,v){var x=this.current708Packet.data,b=x[p+1],w=x[p+2];return El(b)&&El(w)&&(p=this.handleText(++p,v,{isMultiByte:!0})),p},Zt.prototype.setCurrentWindow=function(p,v){var x=this.current708Packet.data,b=x[p],w=b&7;return v.setCurrentWindow(w),p},Zt.prototype.defineWindow=function(p,v){var x=this.current708Packet.data,b=x[p],w=b&7;v.setCurrentWindow(w);var E=v.currentWindow;return b=x[++p],E.visible=(b&32)>>5,E.rowLock=(b&16)>>4,E.columnLock=(b&8)>>3,E.priority=b&7,b=x[++p],E.relativePositioning=(b&128)>>7,E.anchorVertical=b&127,b=x[++p],E.anchorHorizontal=b,b=x[++p],E.anchorPoint=(b&240)>>4,E.rowCount=b&15,b=x[++p],E.columnCount=b&63,b=x[++p],E.windowStyle=(b&56)>>3,E.penStyle=b&7,E.virtualRowCount=E.rowCount+1,p},Zt.prototype.setWindowAttributes=function(p,v){var x=this.current708Packet.data,b=x[p],w=v.currentWindow.winAttr;return b=x[++p],w.fillOpacity=(b&192)>>6,w.fillRed=(b&48)>>4,w.fillGreen=(b&12)>>2,w.fillBlue=b&3,b=x[++p],w.borderType=(b&192)>>6,w.borderRed=(b&48)>>4,w.borderGreen=(b&12)>>2,w.borderBlue=b&3,b=x[++p],w.borderType+=(b&128)>>5,w.wordWrap=(b&64)>>6,w.printDirection=(b&48)>>4,w.scrollDirection=(b&12)>>2,w.justify=b&3,b=x[++p],w.effectSpeed=(b&240)>>4,w.effectDirection=(b&12)>>2,w.displayEffect=b&3,p},Zt.prototype.flushDisplayed=function(p,v){for(var x=[],b=0;b<8;b++)v.windows[b].visible&&!v.windows[b].isEmpty()&&x.push(v.windows[b].getText());v.endPts=p,v.text=x.join(`

`),this.pushCaption(v),v.startPts=p},Zt.prototype.pushCaption=function(p){p.text!==""&&(this.trigger("data",{startPts:p.startPts,endPts:p.endPts,text:p.text,stream:"cc708_"+p.serviceNum}),p.text="",p.startPts=p.endPts)},Zt.prototype.displayWindows=function(p,v){var x=this.current708Packet.data,b=x[++p],w=this.getPts(p);this.flushDisplayed(w,v);for(var E=0;E<8;E++)b&1<<E&&(v.windows[E].visible=1);return p},Zt.prototype.hideWindows=function(p,v){var x=this.current708Packet.data,b=x[++p],w=this.getPts(p);this.flushDisplayed(w,v);for(var E=0;E<8;E++)b&1<<E&&(v.windows[E].visible=0);return p},Zt.prototype.toggleWindows=function(p,v){var x=this.current708Packet.data,b=x[++p],w=this.getPts(p);this.flushDisplayed(w,v);for(var E=0;E<8;E++)b&1<<E&&(v.windows[E].visible^=1);return p},Zt.prototype.clearWindows=function(p,v){var x=this.current708Packet.data,b=x[++p],w=this.getPts(p);this.flushDisplayed(w,v);for(var E=0;E<8;E++)b&1<<E&&v.windows[E].clearText();return p},Zt.prototype.deleteWindows=function(p,v){var x=this.current708Packet.data,b=x[++p],w=this.getPts(p);this.flushDisplayed(w,v);for(var E=0;E<8;E++)b&1<<E&&v.windows[E].reset();return p},Zt.prototype.setPenAttributes=function(p,v){var x=this.current708Packet.data,b=x[p],w=v.currentWindow.penAttr;return b=x[++p],w.textTag=(b&240)>>4,w.offset=(b&12)>>2,w.penSize=b&3,b=x[++p],w.italics=(b&128)>>7,w.underline=(b&64)>>6,w.edgeType=(b&56)>>3,w.fontStyle=b&7,p},Zt.prototype.setPenColor=function(p,v){var x=this.current708Packet.data,b=x[p],w=v.currentWindow.penColor;return b=x[++p],w.fgOpacity=(b&192)>>6,w.fgRed=(b&48)>>4,w.fgGreen=(b&12)>>2,w.fgBlue=b&3,b=x[++p],w.bgOpacity=(b&192)>>6,w.bgRed=(b&48)>>4,w.bgGreen=(b&12)>>2,w.bgBlue=b&3,b=x[++p],w.edgeRed=(b&48)>>4,w.edgeGreen=(b&12)>>2,w.edgeBlue=b&3,p},Zt.prototype.setPenLocation=function(p,v){var x=this.current708Packet.data,b=x[p],w=v.currentWindow.penLoc;return v.currentWindow.pendingNewLine=!0,b=x[++p],w.row=b&15,b=x[++p],w.column=b&63,p},Zt.prototype.reset=function(p,v){var x=this.getPts(p);return this.flushDisplayed(x,v),this.initService(v.serviceNum,p)};var qp={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ml=function(p){return p===null?"":(p=qp[p]||p,String.fromCharCode(p))},Wu=14,et=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ee=function(){for(var p=[],v=Wu+1;v--;)p.push({text:"",indent:0,offset:0});return p},Ce=function(p,v){Ce.prototype.init.call(this),this.field_=p||0,this.dataChannel_=v||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(x){var b,w,E,R,$;if(b=x.ccData&32639,b===this.lastControlCode_){this.lastControlCode_=null;return}if((b&61440)===4096?this.lastControlCode_=b:b!==this.PADDING_&&(this.lastControlCode_=null),E=b>>>8,R=b&255,b!==this.PADDING_)if(b===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(b===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(x.pts),this.flushDisplayed(x.pts),w=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=w,this.startPts_=x.pts;else if(b===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(x.pts);else if(b===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(x.pts);else if(b===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(x.pts);else if(b===this.CARRIAGE_RETURN_)this.clearFormatting(x.pts),this.flushDisplayed(x.pts),this.shiftRowsUp_(),this.startPts_=x.pts;else if(b===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(b===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(x.pts),this.displayed_=ee();else if(b===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ee();else if(b===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(x.pts),this.displayed_=ee()),this.mode_="paintOn",this.startPts_=x.pts;else if(this.isSpecialCharacter(E,R))E=(E&3)<<8,$=Ml(E|R),this[this.mode_](x.pts,$),this.column_++;else if(this.isExtCharacter(E,R))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),E=(E&3)<<8,$=Ml(E|R),this[this.mode_](x.pts,$),this.column_++;else if(this.isMidRowCode(E,R))this.clearFormatting(x.pts),this[this.mode_](x.pts," "),this.column_++,(R&14)===14&&this.addFormatting(x.pts,["i"]),(R&1)===1&&this.addFormatting(x.pts,["u"]);else if(this.isOffsetControlCode(E,R)){const G=R&3;this.nonDisplayed_[this.row_].offset=G,this.column_+=G}else if(this.isPAC(E,R)){var j=et.indexOf(b&7968);if(this.mode_==="rollUp"&&(j-this.rollUpRows_+1<0&&(j=this.rollUpRows_-1),this.setRollUp(x.pts,j)),j!==this.row_&&j>=0&&j<=14&&(this.clearFormatting(x.pts),this.row_=j),R&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(x.pts,["u"]),(b&16)===16){const G=(b&14)>>1;this.column_=G*4,this.nonDisplayed_[this.row_].indent+=G}this.isColorPAC(R)&&(R&14)===14&&this.addFormatting(x.pts,["i"])}else this.isNormalChar(E)&&(R===0&&(R=null),$=Ml(E),$+=Ml(R),this[this.mode_](x.pts,$),this.column_+=$.length)}};Ce.prototype=new sn,Ce.prototype.flushDisplayed=function(p){const v=b=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+b+"."})},x=[];this.displayed_.forEach((b,w)=>{if(b&&b.text&&b.text.length){try{b.text=b.text.trim()}catch{v(w)}b.text.length&&x.push({text:b.text,line:w+1,position:10+Math.min(70,b.indent*10)+b.offset*2.5})}else b==null&&v(w)}),x.length&&this.trigger("data",{startPts:this.startPts_,endPts:p,content:x,stream:this.name_})},Ce.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ee(),this.nonDisplayed_=ee(),this.lastControlCode_=null,this.column_=0,this.row_=Wu,this.rollUpRows_=2,this.formatting_=[]},Ce.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Ce.prototype.isSpecialCharacter=function(p,v){return p===this.EXT_&&v>=48&&v<=63},Ce.prototype.isExtCharacter=function(p,v){return(p===this.EXT_+1||p===this.EXT_+2)&&v>=32&&v<=63},Ce.prototype.isMidRowCode=function(p,v){return p===this.EXT_&&v>=32&&v<=47},Ce.prototype.isOffsetControlCode=function(p,v){return p===this.OFFSET_&&v>=33&&v<=35},Ce.prototype.isPAC=function(p,v){return p>=this.BASE_&&p<this.BASE_+8&&v>=64&&v<=127},Ce.prototype.isColorPAC=function(p){return p>=64&&p<=79||p>=96&&p<=127},Ce.prototype.isNormalChar=function(p){return p>=32&&p<=127},Ce.prototype.setRollUp=function(p,v){if(this.mode_!=="rollUp"&&(this.row_=Wu,this.mode_="rollUp",this.flushDisplayed(p),this.nonDisplayed_=ee(),this.displayed_=ee()),v!==void 0&&v!==this.row_)for(var x=0;x<this.rollUpRows_;x++)this.displayed_[v-x]=this.displayed_[this.row_-x],this.displayed_[this.row_-x]={text:"",indent:0,offset:0};v===void 0&&(v=this.row_),this.topRow_=v-this.rollUpRows_+1},Ce.prototype.addFormatting=function(p,v){this.formatting_=this.formatting_.concat(v);var x=v.reduce(function(b,w){return b+"<"+w+">"},"");this[this.mode_](p,x)},Ce.prototype.clearFormatting=function(p){if(this.formatting_.length){var v=this.formatting_.reverse().reduce(function(x,b){return x+"</"+b+">"},"");this.formatting_=[],this[this.mode_](p,v)}},Ce.prototype.popOn=function(p,v){var x=this.nonDisplayed_[this.row_].text;x+=v,this.nonDisplayed_[this.row_].text=x},Ce.prototype.rollUp=function(p,v){var x=this.displayed_[this.row_].text;x+=v,this.displayed_[this.row_].text=x},Ce.prototype.shiftRowsUp_=function(){var p;for(p=0;p<this.topRow_;p++)this.displayed_[p]={text:"",indent:0,offset:0};for(p=this.row_+1;p<Wu+1;p++)this.displayed_[p]={text:"",indent:0,offset:0};for(p=this.topRow_;p<this.row_;p++)this.displayed_[p]=this.displayed_[p+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Ce.prototype.paintOn=function(p,v){var x=this.displayed_[this.row_].text;x+=v,this.displayed_[this.row_].text=x};var Qe={CaptionStream:gr,Cea608Stream:Ce,Cea708Stream:Zt},Gt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},lr=i,er=8589934592,Er=4294967296,_n="shared",ba=function(p,v){var x=1;for(p>v&&(x=-1);Math.abs(v-p)>Er;)p+=x*er;return p},tr=function(p){var v,x;tr.prototype.init.call(this),this.type_=p||_n,this.push=function(b){if(b.type==="metadata"){this.trigger("data",b);return}this.type_!==_n&&b.type!==this.type_||(x===void 0&&(x=b.dts),b.dts=ba(b.dts,x),b.pts=ba(b.pts,x),v=b.dts,this.trigger("data",b))},this.flush=function(){x=v,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){x=void 0,v=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};tr.prototype=new lr;var Q0={TimestampRolloverStream:tr,handleRollover:ba},jp=(p,v,x)=>{if(!p)return-1;for(var b=x;b<p.length;b++)if(p[b]===v)return b;return-1},yI={typedArrayIndexOf:jp},Vp=yI.typedArrayIndexOf,Hp={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},U6=function(p,v,x){var b,w="";for(b=v;b<x;b++)w+="%"+("00"+p[b].toString(16)).slice(-2);return w},ed=function(p,v,x){return decodeURIComponent(U6(p,v,x))},td=function(p,v,x){return unescape(U6(p,v,x))},id=function(p){return p[0]<<21|p[1]<<14|p[2]<<7|p[3]},rd={APIC:function(p){var v=1,x,b,w="-->";p.data[0]===Hp.Utf8&&(x=Vp(p.data,0,v),!(x<0)&&(p.mimeType=td(p.data,v,x),v=x+1,p.pictureType=p.data[v],v++,b=Vp(p.data,0,v),!(b<0)&&(p.description=ed(p.data,v,b),v=b+1,p.mimeType===w?p.url=td(p.data,v,p.data.length):p.pictureData=p.data.subarray(v,p.data.length))))},"T*":function(p){p.data[0]===Hp.Utf8&&(p.value=ed(p.data,1,p.data.length).replace(/\0*$/,""),p.values=p.value.split("\0"))},TXXX:function(p){var v;p.data[0]===Hp.Utf8&&(v=Vp(p.data,0,1),v!==-1&&(p.description=ed(p.data,1,v),p.value=ed(p.data,v+1,p.data.length).replace(/\0*$/,""),p.data=p.value))},"W*":function(p){p.url=td(p.data,0,p.data.length).replace(/\0.*$/,"")},WXXX:function(p){var v;p.data[0]===Hp.Utf8&&(v=Vp(p.data,0,1),v!==-1&&(p.description=ed(p.data,1,v),p.url=td(p.data,v+1,p.data.length).replace(/\0.*$/,"")))},PRIV:function(p){var v;for(v=0;v<p.data.length;v++)if(p.data[v]===0){p.owner=td(p.data,0,v);break}p.privateData=p.data.subarray(v+1),p.data=p.privateData}},vI=function(p){var v,x,b=10,w=0,E=[];if(!(p.length<10||p[0]!==73||p[1]!==68||p[2]!==51)){w=id(p.subarray(6,10)),w+=10;var R=p[5]&64;R&&(b+=4,b+=id(p.subarray(10,14)),w-=id(p.subarray(16,20)));do{if(v=id(p.subarray(b+4,b+8)),v<1)break;x=String.fromCharCode(p[b],p[b+1],p[b+2],p[b+3]);var $={id:x,data:p.subarray(b+10,b+v+10)};$.key=$.id,rd[$.id]?rd[$.id]($):$.id[0]==="T"?rd["T*"]($):$.id[0]==="W"&&rd["W*"]($),E.push($),b+=10,b+=v}while(b<w);return E}},q6={parseId3Frames:vI,parseSyncSafeInteger:id,frameParsers:rd},bI=i,xI=Gt,go=q6,Kp;Kp=function(p){var v={descriptor:p&&p.descriptor},x=0,b=[],w=0,E;if(Kp.prototype.init.call(this),this.dispatchType=xI.METADATA_STREAM_TYPE.toString(16),v.descriptor)for(E=0;E<v.descriptor.length;E++)this.dispatchType+=("00"+v.descriptor[E].toString(16)).slice(-2);this.push=function(R){var $,j,G,te,le,Ve;if(R.type==="timed-metadata"){if(R.dataAlignmentIndicator&&(w=0,b.length=0),b.length===0&&(R.data.length<10||R.data[0]!==73||R.data[1]!==68||R.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(b.push(R),w+=R.data.byteLength,b.length===1&&(x=go.parseSyncSafeInteger(R.data.subarray(6,10)),x+=10),!(w<x)){for($={data:new Uint8Array(x),frames:[],pts:b[0].pts,dts:b[0].dts},le=0;le<x;)$.data.set(b[0].data.subarray(0,x-le),le),le+=b[0].data.byteLength,w-=b[0].data.byteLength,b.shift();j=10,$.data[5]&64&&(j+=4,j+=go.parseSyncSafeInteger($.data.subarray(10,14)),x-=go.parseSyncSafeInteger($.data.subarray(16,20)));do{if(G=go.parseSyncSafeInteger($.data.subarray(j+4,j+8)),G<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Ve=String.fromCharCode($.data[j],$.data[j+1],$.data[j+2],$.data[j+3]),te={id:Ve,data:$.data.subarray(j+10,j+G+10)},te.key=te.id,go.frameParsers[te.id]?go.frameParsers[te.id](te):te.id[0]==="T"?go.frameParsers["T*"](te):te.id[0]==="W"&&go.frameParsers["W*"](te),te.owner==="com.apple.streaming.transportStreamTimestamp"){var _e=te.data,dt=(_e[3]&1)<<30|_e[4]<<22|_e[5]<<14|_e[6]<<6|_e[7]>>>2;dt*=4,dt+=_e[7]&3,te.timeStamp=dt,$.pts===void 0&&$.dts===void 0&&($.pts=te.timeStamp,$.dts=te.timeStamp),this.trigger("timestamp",te)}$.frames.push(te),j+=10,j+=G}while(j<x);this.trigger("data",$)}}}},Kp.prototype=new bI;var _I=Kp,V2=i,H2=Qe,ds=Gt,wI=Q0.TimestampRolloverStream,Wp,nd,Gp,Gu=188,K2=71;Wp=function(){var p=new Uint8Array(Gu),v=0;Wp.prototype.init.call(this),this.push=function(x){var b=0,w=Gu,E;for(v?(E=new Uint8Array(x.byteLength+v),E.set(p.subarray(0,v)),E.set(x,v),v=0):E=x;w<E.byteLength;){if(E[b]===K2&&E[w]===K2){this.trigger("data",E.subarray(b,w)),b+=Gu,w+=Gu;continue}b++,w++}b<E.byteLength&&(p.set(E.subarray(b),0),v=E.byteLength-b)},this.flush=function(){v===Gu&&p[0]===K2&&(this.trigger("data",p),v=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){v=0,this.trigger("reset")}},Wp.prototype=new V2,nd=function(){var p,v,x,b;nd.prototype.init.call(this),b=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,p=function(w,E){var R=0;E.payloadUnitStartIndicator&&(R+=w[R]+1),E.type==="pat"?v(w.subarray(R),E):x(w.subarray(R),E)},v=function(w,E){E.section_number=w[7],E.last_section_number=w[8],b.pmtPid=(w[10]&31)<<8|w[11],E.pmtPid=b.pmtPid},x=function(w,E){var R,$,j,G;if(w[5]&1){for(b.programMapTable={video:null,audio:null,"timed-metadata":{}},R=(w[1]&15)<<8|w[2],$=3+R-4,j=(w[10]&15)<<8|w[11],G=12+j;G<$;){var te=w[G],le=(w[G+1]&31)<<8|w[G+2];te===ds.H264_STREAM_TYPE&&b.programMapTable.video===null?b.programMapTable.video=le:te===ds.ADTS_STREAM_TYPE&&b.programMapTable.audio===null?b.programMapTable.audio=le:te===ds.METADATA_STREAM_TYPE&&(b.programMapTable["timed-metadata"][le]=te),G+=((w[G+3]&15)<<8|w[G+4])+5}E.programMapTable=b.programMapTable}},this.push=function(w){var E={},R=4;if(E.payloadUnitStartIndicator=!!(w[1]&64),E.pid=w[1]&31,E.pid<<=8,E.pid|=w[2],(w[3]&48)>>>4>1&&(R+=w[R]+1),E.pid===0)E.type="pat",p(w.subarray(R),E),this.trigger("data",E);else if(E.pid===this.pmtPid)for(E.type="pmt",p(w.subarray(R),E),this.trigger("data",E);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([w,R,E]):this.processPes_(w,R,E)},this.processPes_=function(w,E,R){R.pid===this.programMapTable.video?R.streamType=ds.H264_STREAM_TYPE:R.pid===this.programMapTable.audio?R.streamType=ds.ADTS_STREAM_TYPE:R.streamType=this.programMapTable["timed-metadata"][R.pid],R.type="pes",R.data=w.subarray(E),this.trigger("data",R)}},nd.prototype=new V2,nd.STREAM_TYPES={h264:27,adts:15},Gp=function(){var p=this,v=!1,x={data:[],size:0},b={data:[],size:0},w={data:[],size:0},E,R=function(j,G){var te;const le=j[0]<<16|j[1]<<8|j[2];G.data=new Uint8Array,le===1&&(G.packetLength=6+(j[4]<<8|j[5]),G.dataAlignmentIndicator=(j[6]&4)!==0,te=j[7],te&192&&(G.pts=(j[9]&14)<<27|(j[10]&255)<<20|(j[11]&254)<<12|(j[12]&255)<<5|(j[13]&254)>>>3,G.pts*=4,G.pts+=(j[13]&6)>>>1,G.dts=G.pts,te&64&&(G.dts=(j[14]&14)<<27|(j[15]&255)<<20|(j[16]&254)<<12|(j[17]&255)<<5|(j[18]&254)>>>3,G.dts*=4,G.dts+=(j[18]&6)>>>1)),G.data=j.subarray(9+j[8]))},$=function(j,G,te){var le=new Uint8Array(j.size),Ve={type:G},_e=0,dt=0,bt=!1,ir;if(!(!j.data.length||j.size<9)){for(Ve.trackId=j.data[0].pid,_e=0;_e<j.data.length;_e++)ir=j.data[_e],le.set(ir.data,dt),dt+=ir.data.byteLength;R(le,Ve),bt=G==="video"||Ve.packetLength<=j.size,(te||bt)&&(j.size=0,j.data.length=0),bt&&p.trigger("data",Ve)}};Gp.prototype.init.call(this),this.push=function(j){({pat:function(){},pes:function(){var G,te;switch(j.streamType){case ds.H264_STREAM_TYPE:G=x,te="video";break;case ds.ADTS_STREAM_TYPE:G=b,te="audio";break;case ds.METADATA_STREAM_TYPE:G=w,te="timed-metadata";break;default:return}j.payloadUnitStartIndicator&&$(G,te,!0),G.data.push(j),G.size+=j.data.byteLength},pmt:function(){var G={type:"metadata",tracks:[]};E=j.programMapTable,E.video!==null&&G.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+E.video,codec:"avc",type:"video"}),E.audio!==null&&G.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+E.audio,codec:"adts",type:"audio"}),v=!0,p.trigger("data",G)}})[j.type]()},this.reset=function(){x.size=0,x.data.length=0,b.size=0,b.data.length=0,this.trigger("reset")},this.flushStreams_=function(){$(x,"video"),$(b,"audio"),$(w,"timed-metadata")},this.flush=function(){if(!v&&E){var j={type:"metadata",tracks:[]};E.video!==null&&j.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+E.video,codec:"avc",type:"video"}),E.audio!==null&&j.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+E.audio,codec:"adts",type:"audio"}),p.trigger("data",j)}v=!1,this.flushStreams_(),this.trigger("done")}},Gp.prototype=new V2;var j6={PAT_PID:0,MP2T_PACKET_LENGTH:Gu,TransportPacketStream:Wp,TransportParseStream:nd,ElementaryStream:Gp,TimestampRolloverStream:wI,CaptionStream:H2.CaptionStream,Cea608Stream:H2.Cea608Stream,Cea708Stream:H2.Cea708Stream,MetadataStream:_I};for(var W2 in ds)ds.hasOwnProperty(W2)&&(j6[W2]=ds[W2]);var SI=j6,CI=i,kI=Mt.ONE_SECOND_IN_TS,Xp,V6=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Xp=function(p){var v,x=0;Xp.prototype.init.call(this),this.skipWarn_=function(b,w){this.trigger("log",{level:"warn",message:`adts skiping bytes ${b} to ${w} in frame ${x} outside syncword`})},this.push=function(b){var w=0,E,R,$,j,G;if(p||(x=0),b.type==="audio"){v&&v.length?($=v,v=new Uint8Array($.byteLength+b.data.byteLength),v.set($),v.set(b.data,$.byteLength)):v=b.data;for(var te;w+7<v.length;){if(v[w]!==255||(v[w+1]&246)!==240){typeof te!="number"&&(te=w),w++;continue}if(typeof te=="number"&&(this.skipWarn_(te,w),te=null),R=(~v[w+1]&1)*2,E=(v[w+3]&3)<<11|v[w+4]<<3|(v[w+5]&224)>>5,j=((v[w+6]&3)+1)*1024,G=j*kI/V6[(v[w+2]&60)>>>2],v.byteLength-w<E)break;this.trigger("data",{pts:b.pts+x*G,dts:b.dts+x*G,sampleCount:j,audioobjecttype:(v[w+2]>>>6&3)+1,channelcount:(v[w+2]&1)<<2|(v[w+3]&192)>>>6,samplerate:V6[(v[w+2]&60)>>>2],samplingfrequencyindex:(v[w+2]&60)>>>2,samplesize:16,data:v.subarray(w+7+R,w+E)}),x++,w+=E}typeof te=="number"&&(this.skipWarn_(te,w),te=null),v=v.subarray(w)}},this.flush=function(){x=0,this.trigger("done")},this.reset=function(){v=void 0,this.trigger("reset")},this.endTimeline=function(){v=void 0,this.trigger("endedtimeline")}},Xp.prototype=new CI;var TI=Xp,H6;H6=function(p){var v=p.byteLength,x=0,b=0;this.length=function(){return 8*v},this.bitsAvailable=function(){return 8*v+b},this.loadWord=function(){var w=p.byteLength-v,E=new Uint8Array(4),R=Math.min(4,v);if(R===0)throw new Error("no bytes available");E.set(p.subarray(w,w+R)),x=new DataView(E.buffer).getUint32(0),b=R*8,v-=R},this.skipBits=function(w){var E;b>w?(x<<=w,b-=w):(w-=b,E=Math.floor(w/8),w-=E*8,v-=E,this.loadWord(),x<<=w,b-=w)},this.readBits=function(w){var E=Math.min(b,w),R=x>>>32-E;return b-=E,b>0?x<<=E:v>0&&this.loadWord(),E=w-E,E>0?R<<E|this.readBits(E):R},this.skipLeadingZeros=function(){var w;for(w=0;w<b;++w)if(x&2147483648>>>w)return x<<=w,b-=w,w;return this.loadWord(),w+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var w=this.skipLeadingZeros();return this.readBits(w+1)-1},this.readExpGolomb=function(){var w=this.readUnsignedExpGolomb();return 1&w?1+w>>>1:-1*(w>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var EI=H6,K6=i,AI=EI,Yp,sd,W6;sd=function(){var p=0,v,x;sd.prototype.init.call(this),this.push=function(b){var w;x?(w=new Uint8Array(x.byteLength+b.data.byteLength),w.set(x),w.set(b.data,x.byteLength),x=w):x=b.data;for(var E=x.byteLength;p<E-3;p++)if(x[p+2]===1){v=p+5;break}for(;v<E;)switch(x[v]){case 0:if(x[v-1]!==0){v+=2;break}else if(x[v-2]!==0){v++;break}p+3!==v-2&&this.trigger("data",x.subarray(p+3,v-2));do v++;while(x[v]!==1&&v<E);p=v-2,v+=3;break;case 1:if(x[v-1]!==0||x[v-2]!==0){v+=3;break}this.trigger("data",x.subarray(p+3,v-2)),p=v-2,v+=3;break;default:v+=3;break}x=x.subarray(p),v-=p,p=0},this.reset=function(){x=null,p=0,this.trigger("reset")},this.flush=function(){x&&x.byteLength>3&&this.trigger("data",x.subarray(p+3)),x=null,p=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},sd.prototype=new K6,W6={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Yp=function(){var p=new sd,v,x,b,w,E,R,$;Yp.prototype.init.call(this),v=this,this.push=function(j){j.type==="video"&&(x=j.trackId,b=j.pts,w=j.dts,p.push(j))},p.on("data",function(j){var G={trackId:x,pts:b,dts:w,data:j,nalUnitTypeCode:j[0]&31};switch(G.nalUnitTypeCode){case 5:G.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:G.nalUnitType="sei_rbsp",G.escapedRBSP=E(j.subarray(1));break;case 7:G.nalUnitType="seq_parameter_set_rbsp",G.escapedRBSP=E(j.subarray(1)),G.config=R(G.escapedRBSP);break;case 8:G.nalUnitType="pic_parameter_set_rbsp";break;case 9:G.nalUnitType="access_unit_delimiter_rbsp";break}v.trigger("data",G)}),p.on("done",function(){v.trigger("done")}),p.on("partialdone",function(){v.trigger("partialdone")}),p.on("reset",function(){v.trigger("reset")}),p.on("endedtimeline",function(){v.trigger("endedtimeline")}),this.flush=function(){p.flush()},this.partialFlush=function(){p.partialFlush()},this.reset=function(){p.reset()},this.endTimeline=function(){p.endTimeline()},$=function(j,G){var te=8,le=8,Ve,_e;for(Ve=0;Ve<j;Ve++)le!==0&&(_e=G.readExpGolomb(),le=(te+_e+256)%256),te=le===0?te:le},E=function(j){for(var G=j.byteLength,te=[],le=1,Ve,_e;le<G-2;)j[le]===0&&j[le+1]===0&&j[le+2]===3?(te.push(le+2),le+=2):le++;if(te.length===0)return j;Ve=G-te.length,_e=new Uint8Array(Ve);var dt=0;for(le=0;le<Ve;dt++,le++)dt===te[0]&&(dt++,te.shift()),_e[le]=j[dt];return _e},R=function(j){var G=0,te=0,le=0,Ve=0,_e,dt,bt,ir,$n,Bl,_8,w8,S8,n4,C8,Ii=[1,1],k8,Pl;if(_e=new AI(j),dt=_e.readUnsignedByte(),ir=_e.readUnsignedByte(),bt=_e.readUnsignedByte(),_e.skipUnsignedExpGolomb(),W6[dt]&&($n=_e.readUnsignedExpGolomb(),$n===3&&_e.skipBits(1),_e.skipUnsignedExpGolomb(),_e.skipUnsignedExpGolomb(),_e.skipBits(1),_e.readBoolean()))for(C8=$n!==3?8:12,Pl=0;Pl<C8;Pl++)_e.readBoolean()&&(Pl<6?$(16,_e):$(64,_e));if(_e.skipUnsignedExpGolomb(),Bl=_e.readUnsignedExpGolomb(),Bl===0)_e.readUnsignedExpGolomb();else if(Bl===1)for(_e.skipBits(1),_e.skipExpGolomb(),_e.skipExpGolomb(),_8=_e.readUnsignedExpGolomb(),Pl=0;Pl<_8;Pl++)_e.skipExpGolomb();if(_e.skipUnsignedExpGolomb(),_e.skipBits(1),w8=_e.readUnsignedExpGolomb(),S8=_e.readUnsignedExpGolomb(),n4=_e.readBits(1),n4===0&&_e.skipBits(1),_e.skipBits(1),_e.readBoolean()&&(G=_e.readUnsignedExpGolomb(),te=_e.readUnsignedExpGolomb(),le=_e.readUnsignedExpGolomb(),Ve=_e.readUnsignedExpGolomb()),_e.readBoolean()&&_e.readBoolean()){switch(k8=_e.readUnsignedByte(),k8){case 1:Ii=[1,1];break;case 2:Ii=[12,11];break;case 3:Ii=[10,11];break;case 4:Ii=[16,11];break;case 5:Ii=[40,33];break;case 6:Ii=[24,11];break;case 7:Ii=[20,11];break;case 8:Ii=[32,11];break;case 9:Ii=[80,33];break;case 10:Ii=[18,11];break;case 11:Ii=[15,11];break;case 12:Ii=[64,33];break;case 13:Ii=[160,99];break;case 14:Ii=[4,3];break;case 15:Ii=[3,2];break;case 16:Ii=[2,1];break;case 255:{Ii=[_e.readUnsignedByte()<<8|_e.readUnsignedByte(),_e.readUnsignedByte()<<8|_e.readUnsignedByte()];break}}Ii&&Ii[0]/Ii[1]}return{profileIdc:dt,levelIdc:bt,profileCompatibility:ir,width:(w8+1)*16-G*2-te*2,height:(2-n4)*(S8+1)*16-le*2-Ve*2,sarRatio:Ii}}},Yp.prototype=new K6;var MI={H264Stream:Yp,NalByteStream:sd},DI=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],G6=function(p,v){var x=p[v+6]<<21|p[v+7]<<14|p[v+8]<<7|p[v+9],b=p[v+5],w=(b&16)>>4;return x=x>=0?x:0,w?x+20:x+10},X6=function(p,v){return p.length-v<10||p[v]!==73||p[v+1]!==68||p[v+2]!==51?v:(v+=G6(p,v),X6(p,v))},LI=function(p){var v=X6(p,0);return p.length>=v+2&&(p[v]&255)===255&&(p[v+1]&240)===240&&(p[v+1]&22)===16},Y6=function(p){return p[0]<<21|p[1]<<14|p[2]<<7|p[3]},BI=function(p,v,x){var b,w="";for(b=v;b<x;b++)w+="%"+("00"+p[b].toString(16)).slice(-2);return w},PI=function(p,v,x){return unescape(BI(p,v,x))},II=function(p,v){var x=(p[v+5]&224)>>5,b=p[v+4]<<3,w=p[v+3]&6144;return w|b|x},RI=function(p,v){return p[v]===73&&p[v+1]===68&&p[v+2]===51?"timed-metadata":p[v]&!0&&(p[v+1]&240)===240?"audio":null},OI=function(p){for(var v=0;v+5<p.length;){if(p[v]!==255||(p[v+1]&246)!==240){v++;continue}return DI[(p[v+2]&60)>>>2]}return null},FI=function(p){var v,x,b,w;v=10,p[5]&64&&(v+=4,v+=Y6(p.subarray(10,14)));do{if(x=Y6(p.subarray(v+4,v+8)),x<1)return null;if(w=String.fromCharCode(p[v],p[v+1],p[v+2],p[v+3]),w==="PRIV"){b=p.subarray(v+10,v+x+10);for(var E=0;E<b.byteLength;E++)if(b[E]===0){var R=PI(b,0,E);if(R==="com.apple.streaming.transportStreamTimestamp"){var $=b.subarray(E+1),j=($[3]&1)<<30|$[4]<<22|$[5]<<14|$[6]<<6|$[7]>>>2;return j*=4,j+=$[7]&3,j}break}}v+=10,v+=x}while(v<p.byteLength);return null},G2={isLikelyAacData:LI,parseId3TagSize:G6,parseAdtsSize:II,parseType:RI,parseSampleRate:OI,parseAacTimestamp:FI},NI=i,Z6=G2,Zp;Zp=function(){var p=new Uint8Array,v=0;Zp.prototype.init.call(this),this.setTimestamp=function(x){v=x},this.push=function(x){var b=0,w=0,E,R,$,j;for(p.length?(j=p.length,p=new Uint8Array(x.byteLength+j),p.set(p.subarray(0,j)),p.set(x,j)):p=x;p.length-w>=3;){if(p[w]===73&&p[w+1]===68&&p[w+2]===51){if(p.length-w<10||(b=Z6.parseId3TagSize(p,w),w+b>p.length))break;R={type:"timed-metadata",data:p.subarray(w,w+b)},this.trigger("data",R),w+=b;continue}else if((p[w]&255)===255&&(p[w+1]&240)===240){if(p.length-w<7||(b=Z6.parseAdtsSize(p,w),w+b>p.length))break;$={type:"audio",data:p.subarray(w,w+b),pts:v,dts:v},this.trigger("data",$),w+=b;continue}w++}E=p.length-w,E>0?p=p.subarray(w):p=new Uint8Array},this.reset=function(){p=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){p=new Uint8Array,this.trigger("endedtimeline")}},Zp.prototype=new NI;var $I=Zp,zI=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],UI=zI,qI=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],jI=qI,Jp=i,ad=oe,od=pe,Qp=z2,hs=Ip,xa=SI,ef=Mt,J6=TI,VI=MI.H264Stream,HI=$I,KI=G2.isLikelyAacData,WI=Mt.ONE_SECOND_IN_TS,X2=UI,Y2=jI,ld,Xu,tf,Dl,GI=function(p,v){v.stream=p,this.trigger("log",v)},Q6=function(p,v){for(var x=Object.keys(v),b=0;b<x.length;b++){var w=x[b];w==="headOfPipeline"||!v[w].on||v[w].on("log",GI.bind(p,w))}},e8=function(p,v){var x;if(p.length!==v.length)return!1;for(x=0;x<p.length;x++)if(p[x]!==v[x])return!1;return!0},Z2=function(p,v,x,b,w,E){var R=x-v,$=b-v,j=w-x;return{start:{dts:p,pts:p+R},end:{dts:p+$,pts:p+j},prependedContentDuration:E,baseMediaDecodeTime:p}};Xu=function(p,v){var x=[],b,w=0,E=0,R=1/0;v=v||{},b=v.firstSequenceNumber||0,Xu.prototype.init.call(this),this.push=function($){hs.collectDtsInfo(p,$),p&&X2.forEach(function(j){p[j]=$[j]}),x.push($)},this.setEarliestDts=function($){w=$},this.setVideoBaseMediaDecodeTime=function($){R=$},this.setAudioAppendStart=function($){E=$},this.flush=function(){var $,j,G,te,le,Ve,_e;if(x.length===0){this.trigger("done","AudioSegmentStream");return}$=Qp.trimAdtsFramesByEarliestDts(x,p,w),p.baseMediaDecodeTime=hs.calculateTrackBaseMediaDecodeTime(p,v.keepOriginalTimestamps),_e=Qp.prefixWithSilence(p,$,E,R),p.samples=Qp.generateSampleTable($),G=ad.mdat(Qp.concatenateFrameData($)),x=[],j=ad.moof(b,[p]),te=new Uint8Array(j.byteLength+G.byteLength),b++,te.set(j),te.set(G,j.byteLength),hs.clearDtsInfo(p),le=Math.ceil(WI*1024/p.samplerate),$.length&&(Ve=$.length*le,this.trigger("segmentTimingInfo",Z2(ef.audioTsToVideoTs(p.baseMediaDecodeTime,p.samplerate),$[0].dts,$[0].pts,$[0].dts+Ve,$[0].pts+Ve,_e||0)),this.trigger("timingInfo",{start:$[0].pts,end:$[0].pts+Ve})),this.trigger("data",{track:p,boxes:te}),this.trigger("done","AudioSegmentStream")},this.reset=function(){hs.clearDtsInfo(p),x=[],this.trigger("reset")}},Xu.prototype=new Jp,ld=function(p,v){var x,b=[],w=[],E,R;v=v||{},x=v.firstSequenceNumber||0,ld.prototype.init.call(this),delete p.minPTS,this.gopCache_=[],this.push=function($){hs.collectDtsInfo(p,$),$.nalUnitType==="seq_parameter_set_rbsp"&&!E&&(E=$.config,p.sps=[$.data],Y2.forEach(function(j){p[j]=E[j]},this)),$.nalUnitType==="pic_parameter_set_rbsp"&&!R&&(R=$.data,p.pps=[$.data]),b.push($)},this.flush=function(){for(var $,j,G,te,le,Ve,_e=0,dt,bt;b.length&&b[0].nalUnitType!=="access_unit_delimiter_rbsp";)b.shift();if(b.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if($=od.groupNalsIntoFrames(b),G=od.groupFramesIntoGops($),G[0][0].keyFrame||(j=this.getGopForFusion_(b[0],p),j?(_e=j.duration,G.unshift(j),G.byteLength+=j.byteLength,G.nalCount+=j.nalCount,G.pts=j.pts,G.dts=j.dts,G.duration+=j.duration):G=od.extendFirstKeyFrame(G)),w.length){var ir;if(v.alignGopsAtEnd?ir=this.alignGopsAtEnd_(G):ir=this.alignGopsAtStart_(G),!ir){this.gopCache_.unshift({gop:G.pop(),pps:p.pps,sps:p.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),b=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}hs.clearDtsInfo(p),G=ir}hs.collectDtsInfo(p,G),p.samples=od.generateSampleTable(G),le=ad.mdat(od.concatenateNalData(G)),p.baseMediaDecodeTime=hs.calculateTrackBaseMediaDecodeTime(p,v.keepOriginalTimestamps),this.trigger("processedGopsInfo",G.map(function($n){return{pts:$n.pts,dts:$n.dts,byteLength:$n.byteLength}})),dt=G[0],bt=G[G.length-1],this.trigger("segmentTimingInfo",Z2(p.baseMediaDecodeTime,dt.dts,dt.pts,bt.dts+bt.duration,bt.pts+bt.duration,_e)),this.trigger("timingInfo",{start:G[0].pts,end:G[G.length-1].pts+G[G.length-1].duration}),this.gopCache_.unshift({gop:G.pop(),pps:p.pps,sps:p.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),b=[],this.trigger("baseMediaDecodeTime",p.baseMediaDecodeTime),this.trigger("timelineStartInfo",p.timelineStartInfo),te=ad.moof(x,[p]),Ve=new Uint8Array(te.byteLength+le.byteLength),x++,Ve.set(te),Ve.set(le,te.byteLength),this.trigger("data",{track:p,boxes:Ve}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),b=[],this.gopCache_.length=0,w.length=0,this.trigger("reset")},this.resetStream_=function(){hs.clearDtsInfo(p),E=void 0,R=void 0},this.getGopForFusion_=function($){var j=45e3,G=1e4,te=1/0,le,Ve,_e,dt,bt;for(bt=0;bt<this.gopCache_.length;bt++)dt=this.gopCache_[bt],_e=dt.gop,!(!(p.pps&&e8(p.pps[0],dt.pps[0]))||!(p.sps&&e8(p.sps[0],dt.sps[0])))&&(_e.dts<p.timelineStartInfo.dts||(le=$.dts-_e.dts-_e.duration,le>=-G&&le<=j&&(!Ve||te>le)&&(Ve=dt,te=le)));return Ve?Ve.gop:null},this.alignGopsAtStart_=function($){var j,G,te,le,Ve,_e,dt,bt;for(Ve=$.byteLength,_e=$.nalCount,dt=$.duration,j=G=0;j<w.length&&G<$.length&&(te=w[j],le=$[G],te.pts!==le.pts);){if(le.pts>te.pts){j++;continue}G++,Ve-=le.byteLength,_e-=le.nalCount,dt-=le.duration}return G===0?$:G===$.length?null:(bt=$.slice(G),bt.byteLength=Ve,bt.duration=dt,bt.nalCount=_e,bt.pts=bt[0].pts,bt.dts=bt[0].dts,bt)},this.alignGopsAtEnd_=function($){var j,G,te,le,Ve,_e;for(j=w.length-1,G=$.length-1,Ve=null,_e=!1;j>=0&&G>=0;){if(te=w[j],le=$[G],te.pts===le.pts){_e=!0;break}if(te.pts>le.pts){j--;continue}j===w.length-1&&(Ve=G),G--}if(!_e&&Ve===null)return null;var dt;if(_e?dt=G:dt=Ve,dt===0)return $;var bt=$.slice(dt),ir=bt.reduce(function($n,Bl){return $n.byteLength+=Bl.byteLength,$n.duration+=Bl.duration,$n.nalCount+=Bl.nalCount,$n},{byteLength:0,duration:0,nalCount:0});return bt.byteLength=ir.byteLength,bt.duration=ir.duration,bt.nalCount=ir.nalCount,bt.pts=bt[0].pts,bt.dts=bt[0].dts,bt},this.alignGopsWith=function($){w=$}},ld.prototype=new Jp,Dl=function(p,v){this.numberOfTracks=0,this.metadataStream=v,p=p||{},typeof p.remux<"u"?this.remuxTracks=!!p.remux:this.remuxTracks=!0,typeof p.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=p.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Dl.prototype.init.call(this),this.push=function(x){if(x.content||x.text)return this.pendingCaptions.push(x);if(x.frames)return this.pendingMetadata.push(x);this.pendingTracks.push(x.track),this.pendingBytes+=x.boxes.byteLength,x.track.type==="video"&&(this.videoTrack=x.track,this.pendingBoxes.push(x.boxes)),x.track.type==="audio"&&(this.audioTrack=x.track,this.pendingBoxes.unshift(x.boxes))}},Dl.prototype=new Jp,Dl.prototype.flush=function(p){var v=0,x={captions:[],captionStreams:{},metadata:[],info:{}},b,w,E,R=0,$;if(this.pendingTracks.length<this.numberOfTracks){if(p!=="VideoSegmentStream"&&p!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(R=this.videoTrack.timelineStartInfo.pts,Y2.forEach(function(j){x.info[j]=this.videoTrack[j]},this)):this.audioTrack&&(R=this.audioTrack.timelineStartInfo.pts,X2.forEach(function(j){x.info[j]=this.audioTrack[j]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?x.type=this.pendingTracks[0].type:x.type="combined",this.emittedTracks+=this.pendingTracks.length,E=ad.initSegment(this.pendingTracks),x.initSegment=new Uint8Array(E.byteLength),x.initSegment.set(E),x.data=new Uint8Array(this.pendingBytes),$=0;$<this.pendingBoxes.length;$++)x.data.set(this.pendingBoxes[$],v),v+=this.pendingBoxes[$].byteLength;for($=0;$<this.pendingCaptions.length;$++)b=this.pendingCaptions[$],b.startTime=ef.metadataTsToSeconds(b.startPts,R,this.keepOriginalTimestamps),b.endTime=ef.metadataTsToSeconds(b.endPts,R,this.keepOriginalTimestamps),x.captionStreams[b.stream]=!0,x.captions.push(b);for($=0;$<this.pendingMetadata.length;$++)w=this.pendingMetadata[$],w.cueTime=ef.metadataTsToSeconds(w.pts,R,this.keepOriginalTimestamps),x.metadata.push(w);for(x.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",x),$=0;$<x.captions.length;$++)b=x.captions[$],this.trigger("caption",b);for($=0;$<x.metadata.length;$++)w=x.metadata[$],this.trigger("id3Frame",w)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Dl.prototype.setRemux=function(p){this.remuxTracks=p},tf=function(p){var v=this,x=!0,b,w;tf.prototype.init.call(this),p=p||{},this.baseMediaDecodeTime=p.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var E={};this.transmuxPipeline_=E,E.type="aac",E.metadataStream=new xa.MetadataStream,E.aacStream=new HI,E.audioTimestampRolloverStream=new xa.TimestampRolloverStream("audio"),E.timedMetadataTimestampRolloverStream=new xa.TimestampRolloverStream("timed-metadata"),E.adtsStream=new J6,E.coalesceStream=new Dl(p,E.metadataStream),E.headOfPipeline=E.aacStream,E.aacStream.pipe(E.audioTimestampRolloverStream).pipe(E.adtsStream),E.aacStream.pipe(E.timedMetadataTimestampRolloverStream).pipe(E.metadataStream).pipe(E.coalesceStream),E.metadataStream.on("timestamp",function(R){E.aacStream.setTimestamp(R.timeStamp)}),E.aacStream.on("data",function(R){R.type!=="timed-metadata"&&R.type!=="audio"||E.audioSegmentStream||(w=w||{timelineStartInfo:{baseMediaDecodeTime:v.baseMediaDecodeTime},codec:"adts",type:"audio"},E.coalesceStream.numberOfTracks++,E.audioSegmentStream=new Xu(w,p),E.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),E.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),E.adtsStream.pipe(E.audioSegmentStream).pipe(E.coalesceStream),v.trigger("trackinfo",{hasAudio:!!w,hasVideo:!!b}))}),E.coalesceStream.on("data",this.trigger.bind(this,"data")),E.coalesceStream.on("done",this.trigger.bind(this,"done")),Q6(this,E)},this.setupTsPipeline=function(){var E={};this.transmuxPipeline_=E,E.type="ts",E.metadataStream=new xa.MetadataStream,E.packetStream=new xa.TransportPacketStream,E.parseStream=new xa.TransportParseStream,E.elementaryStream=new xa.ElementaryStream,E.timestampRolloverStream=new xa.TimestampRolloverStream,E.adtsStream=new J6,E.h264Stream=new VI,E.captionStream=new xa.CaptionStream(p),E.coalesceStream=new Dl(p,E.metadataStream),E.headOfPipeline=E.packetStream,E.packetStream.pipe(E.parseStream).pipe(E.elementaryStream).pipe(E.timestampRolloverStream),E.timestampRolloverStream.pipe(E.h264Stream),E.timestampRolloverStream.pipe(E.adtsStream),E.timestampRolloverStream.pipe(E.metadataStream).pipe(E.coalesceStream),E.h264Stream.pipe(E.captionStream).pipe(E.coalesceStream),E.elementaryStream.on("data",function(R){var $;if(R.type==="metadata"){for($=R.tracks.length;$--;)!b&&R.tracks[$].type==="video"?(b=R.tracks[$],b.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime):!w&&R.tracks[$].type==="audio"&&(w=R.tracks[$],w.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime);b&&!E.videoSegmentStream&&(E.coalesceStream.numberOfTracks++,E.videoSegmentStream=new ld(b,p),E.videoSegmentStream.on("log",v.getLogTrigger_("videoSegmentStream")),E.videoSegmentStream.on("timelineStartInfo",function(j){w&&!p.keepOriginalTimestamps&&(w.timelineStartInfo=j,E.audioSegmentStream.setEarliestDts(j.dts-v.baseMediaDecodeTime))}),E.videoSegmentStream.on("processedGopsInfo",v.trigger.bind(v,"gopInfo")),E.videoSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"videoSegmentTimingInfo")),E.videoSegmentStream.on("baseMediaDecodeTime",function(j){w&&E.audioSegmentStream.setVideoBaseMediaDecodeTime(j)}),E.videoSegmentStream.on("timingInfo",v.trigger.bind(v,"videoTimingInfo")),E.h264Stream.pipe(E.videoSegmentStream).pipe(E.coalesceStream)),w&&!E.audioSegmentStream&&(E.coalesceStream.numberOfTracks++,E.audioSegmentStream=new Xu(w,p),E.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),E.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),E.audioSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"audioSegmentTimingInfo")),E.adtsStream.pipe(E.audioSegmentStream).pipe(E.coalesceStream)),v.trigger("trackinfo",{hasAudio:!!w,hasVideo:!!b})}}),E.coalesceStream.on("data",this.trigger.bind(this,"data")),E.coalesceStream.on("id3Frame",function(R){R.dispatchType=E.metadataStream.dispatchType,v.trigger("id3Frame",R)}),E.coalesceStream.on("caption",this.trigger.bind(this,"caption")),E.coalesceStream.on("done",this.trigger.bind(this,"done")),Q6(this,E)},this.setBaseMediaDecodeTime=function(E){var R=this.transmuxPipeline_;p.keepOriginalTimestamps||(this.baseMediaDecodeTime=E),w&&(w.timelineStartInfo.dts=void 0,w.timelineStartInfo.pts=void 0,hs.clearDtsInfo(w),R.audioTimestampRolloverStream&&R.audioTimestampRolloverStream.discontinuity()),b&&(R.videoSegmentStream&&(R.videoSegmentStream.gopCache_=[]),b.timelineStartInfo.dts=void 0,b.timelineStartInfo.pts=void 0,hs.clearDtsInfo(b),R.captionStream.reset()),R.timestampRolloverStream&&R.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(E){w&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(E)},this.setRemux=function(E){var R=this.transmuxPipeline_;p.remux=E,R&&R.coalesceStream&&R.coalesceStream.setRemux(E)},this.alignGopsWith=function(E){b&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(E)},this.getLogTrigger_=function(E){var R=this;return function($){$.stream=E,R.trigger("log",$)}},this.push=function(E){if(x){var R=KI(E);R&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!R&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),x=!1}this.transmuxPipeline_.headOfPipeline.push(E)},this.flush=function(){x=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},tf.prototype=new Jp;var XI={Transmuxer:tf,VideoSegmentStream:ld,AudioSegmentStream:Xu,AUDIO_PROPERTIES:X2,VIDEO_PROPERTIES:Y2,generateSegmentTimingInfo:Z2},YI=function(p){return p>>>0},ZI=function(p){return("00"+p.toString(16)).slice(-2)},rf={toUnsigned:YI,toHexString:ZI},JI=function(p){var v="";return v+=String.fromCharCode(p[0]),v+=String.fromCharCode(p[1]),v+=String.fromCharCode(p[2]),v+=String.fromCharCode(p[3]),v},t8=JI,QI=rf.toUnsigned,eR=t8,i8=function(p,v){var x=[],b,w,E,R,$;if(!v.length)return null;for(b=0;b<p.byteLength;)w=QI(p[b]<<24|p[b+1]<<16|p[b+2]<<8|p[b+3]),E=eR(p.subarray(b+4,b+8)),R=w>1?b+w:p.byteLength,E===v[0]&&(v.length===1?x.push(p.subarray(b+8,R)):($=i8(p.subarray(b+8,R),v.slice(1)),$.length&&(x=x.concat($)))),b=R;return x},r8=i8,tR=rf.toUnsigned,iR=s.getUint64,rR=function(p){var v={version:p[0],flags:new Uint8Array(p.subarray(1,4))};return v.version===1?v.baseMediaDecodeTime=iR(p.subarray(4)):v.baseMediaDecodeTime=tR(p[4]<<24|p[5]<<16|p[6]<<8|p[7]),v},n8=rR,nR=function(p){return{isLeading:(p[0]&12)>>>2,dependsOn:p[0]&3,isDependedOn:(p[1]&192)>>>6,hasRedundancy:(p[1]&48)>>>4,paddingValue:(p[1]&14)>>>1,isNonSyncSample:p[1]&1,degradationPriority:p[2]<<8|p[3]}},sR=nR,s8=sR,aR=function(p){var v={version:p[0],flags:new Uint8Array(p.subarray(1,4)),samples:[]},x=new DataView(p.buffer,p.byteOffset,p.byteLength),b=v.flags[2]&1,w=v.flags[2]&4,E=v.flags[1]&1,R=v.flags[1]&2,$=v.flags[1]&4,j=v.flags[1]&8,G=x.getUint32(4),te=8,le;for(b&&(v.dataOffset=x.getInt32(te),te+=4),w&&G&&(le={flags:s8(p.subarray(te,te+4))},te+=4,E&&(le.duration=x.getUint32(te),te+=4),R&&(le.size=x.getUint32(te),te+=4),j&&(v.version===1?le.compositionTimeOffset=x.getInt32(te):le.compositionTimeOffset=x.getUint32(te),te+=4),v.samples.push(le),G--);G--;)le={},E&&(le.duration=x.getUint32(te),te+=4),R&&(le.size=x.getUint32(te),te+=4),$&&(le.flags=s8(p.subarray(te,te+4)),te+=4),j&&(v.version===1?le.compositionTimeOffset=x.getInt32(te):le.compositionTimeOffset=x.getUint32(te),te+=4),v.samples.push(le);return v},a8=aR,oR=function(p){var v=new DataView(p.buffer,p.byteOffset,p.byteLength),x={version:p[0],flags:new Uint8Array(p.subarray(1,4)),trackId:v.getUint32(4)},b=x.flags[2]&1,w=x.flags[2]&2,E=x.flags[2]&8,R=x.flags[2]&16,$=x.flags[2]&32,j=x.flags[0]&65536,G=x.flags[0]&131072,te;return te=8,b&&(te+=4,x.baseDataOffset=v.getUint32(12),te+=4),w&&(x.sampleDescriptionIndex=v.getUint32(te),te+=4),E&&(x.defaultSampleDuration=v.getUint32(te),te+=4),R&&(x.defaultSampleSize=v.getUint32(te),te+=4),$&&(x.defaultSampleFlags=v.getUint32(te)),j&&(x.durationIsEmpty=!0),!b&&G&&(x.baseDataOffsetIsMoof=!0),x},o8=oR,ud;typeof window<"u"?ud=window:typeof t<"u"?ud=t:typeof self<"u"?ud=self:ud={};var l8=ud,lR=$p.discardEmulationPreventionBytes,uR=Qe.CaptionStream,cd=r8,cR=n8,dR=a8,hR=o8,u8=l8,pR=function(p,v){for(var x=p,b=0;b<v.length;b++){var w=v[b];if(x<w.size)return w;x-=w.size}return null},fR=function(p,v,x){var b=new DataView(p.buffer,p.byteOffset,p.byteLength),w={logs:[],seiNals:[]},E,R,$,j;for(R=0;R+4<p.length;R+=$)if($=b.getUint32(R),R+=4,!($<=0))switch(p[R]&31){case 6:var G=p.subarray(R+1,R+1+$),te=pR(R,v);if(E={nalUnitType:"sei_rbsp",size:$,data:G,escapedRBSP:lR(G),trackId:x},te)E.pts=te.pts,E.dts=te.dts,j=te;else if(j)E.pts=j.pts,E.dts=j.dts;else{w.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+R+" for trackId "+x+". See mux.js#223."});break}w.seiNals.push(E);break}return w},mR=function(p,v,x){var b=v,w=x.defaultSampleDuration||0,E=x.defaultSampleSize||0,R=x.trackId,$=[];return p.forEach(function(j){var G=dR(j),te=G.samples;te.forEach(function(le){le.duration===void 0&&(le.duration=w),le.size===void 0&&(le.size=E),le.trackId=R,le.dts=b,le.compositionTimeOffset===void 0&&(le.compositionTimeOffset=0),typeof b=="bigint"?(le.pts=b+u8.BigInt(le.compositionTimeOffset),b+=u8.BigInt(le.duration)):(le.pts=b+le.compositionTimeOffset,b+=le.duration)}),$=$.concat(te)}),$},gR=function(p,v){var x=cd(p,["moof","traf"]),b=cd(p,["mdat"]),w={},E=[];return b.forEach(function(R,$){var j=x[$];E.push({mdat:R,traf:j})}),E.forEach(function(R){var $=R.mdat,j=R.traf,G=cd(j,["tfhd"]),te=hR(G[0]),le=te.trackId,Ve=cd(j,["tfdt"]),_e=Ve.length>0?cR(Ve[0]).baseMediaDecodeTime:0,dt=cd(j,["trun"]),bt,ir;v===le&&dt.length>0&&(bt=mR(dt,_e,te),ir=fR($,bt,le),w[le]||(w[le]={seiNals:[],logs:[]}),w[le].seiNals=w[le].seiNals.concat(ir.seiNals),w[le].logs=w[le].logs.concat(ir.logs))}),w},yR=function(p,v,x){var b;if(v===null)return null;b=gR(p,v);var w=b[v]||{};return{seiNals:w.seiNals,logs:w.logs,timescale:x}},vR=function(){var p=!1,v,x,b,w,E,R;this.isInitialized=function(){return p},this.init=function($){v=new uR,p=!0,R=$?$.isPartial:!1,v.on("data",function(j){j.startTime=j.startPts/w,j.endTime=j.endPts/w,E.captions.push(j),E.captionStreams[j.stream]=!0}),v.on("log",function(j){E.logs.push(j)})},this.isNewInit=function($,j){return $&&$.length===0||j&&typeof j=="object"&&Object.keys(j).length===0?!1:b!==$[0]||w!==j[b]},this.parse=function($,j,G){var te;if(this.isInitialized()){if(!j||!G)return null;if(this.isNewInit(j,G))b=j[0],w=G[b];else if(b===null||!w)return x.push($),null}else return null;for(;x.length>0;){var le=x.shift();this.parse(le,j,G)}return te=yR($,b,w),te&&te.logs&&(E.logs=E.logs.concat(te.logs)),te===null||!te.seiNals?E.logs.length?{logs:E.logs,captions:[],captionStreams:[]}:null:(this.pushNals(te.seiNals),this.flushStream(),E)},this.pushNals=function($){if(!this.isInitialized()||!$||$.length===0)return null;$.forEach(function(j){v.push(j)})},this.flushStream=function(){if(!this.isInitialized())return null;R?v.partialFlush():v.flush()},this.clearParsedCaptions=function(){E.captions=[],E.captionStreams={},E.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;v.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){x=[],b=null,w=null,E?this.clearParsedCaptions():E={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},bR=vR,xR=function(p){for(var v=0,x=String.fromCharCode(p[v]),b="";x!=="\0";)b+=x,v++,x=String.fromCharCode(p[v]);return b+=x,b},_R={uint8ToCString:xR},nf=_R.uint8ToCString,wR=s.getUint64,SR=function(p){var v=4,x=p[0],b,w,E,R,$,j,G,te;if(x===0){b=nf(p.subarray(v)),v+=b.length,w=nf(p.subarray(v)),v+=w.length;var le=new DataView(p.buffer);E=le.getUint32(v),v+=4,$=le.getUint32(v),v+=4,j=le.getUint32(v),v+=4,G=le.getUint32(v),v+=4}else if(x===1){var le=new DataView(p.buffer);E=le.getUint32(v),v+=4,R=wR(p.subarray(v)),v+=8,j=le.getUint32(v),v+=4,G=le.getUint32(v),v+=4,b=nf(p.subarray(v)),v+=b.length,w=nf(p.subarray(v)),v+=w.length}te=new Uint8Array(p.subarray(v,p.byteLength));var Ve={scheme_id_uri:b,value:w,timescale:E||1,presentation_time:R,presentation_time_delta:$,event_duration:j,id:G,message_data:te};return kR(x,Ve)?Ve:void 0},CR=function(p,v,x,b){return p||p===0?p/v:b+x/v},kR=function(p,v){var x=v.scheme_id_uri!=="\0",b=p===0&&c8(v.presentation_time_delta)&&x,w=p===1&&c8(v.presentation_time)&&x;return!(p>1)&&b||w},c8=function(p){return p!==void 0||p!==null},TR={parseEmsgBox:SR,scaleTime:CR},sf=rf.toUnsigned,dd=rf.toHexString,Pi=r8,Yu=t8,J2=TR,ER=o8,AR=a8,MR=n8,DR=s.getUint64,d8,h8,p8,f8,m8,Q2,g8,e4=l8,LR=q6.parseId3Frames;d8=function(p){var v={},x=Pi(p,["moov","trak"]);return x.reduce(function(b,w){var E,R,$,j,G;return E=Pi(w,["tkhd"])[0],!E||(R=E[0],$=R===0?12:20,j=sf(E[$]<<24|E[$+1]<<16|E[$+2]<<8|E[$+3]),G=Pi(w,["mdia","mdhd"])[0],!G)?null:(R=G[0],$=R===0?12:20,b[j]=sf(G[$]<<24|G[$+1]<<16|G[$+2]<<8|G[$+3]),b)},v)},h8=function(p,v){var x;x=Pi(v,["moof","traf"]);var b=x.reduce(function(w,E){var R=Pi(E,["tfhd"])[0],$=sf(R[4]<<24|R[5]<<16|R[6]<<8|R[7]),j=p[$]||9e4,G=Pi(E,["tfdt"])[0],te=new DataView(G.buffer,G.byteOffset,G.byteLength),le;G[0]===1?le=DR(G.subarray(4,12)):le=te.getUint32(4);let Ve;return typeof le=="bigint"?Ve=le/e4.BigInt(j):typeof le=="number"&&!isNaN(le)&&(Ve=le/j),Ve<Number.MAX_SAFE_INTEGER&&(Ve=Number(Ve)),Ve<w&&(w=Ve),w},1/0);return typeof b=="bigint"||isFinite(b)?b:0},p8=function(p,v){var x=Pi(v,["moof","traf"]),b=0,w=0,E;if(x&&x.length){var R=Pi(x[0],["tfhd"])[0],$=Pi(x[0],["trun"])[0],j=Pi(x[0],["tfdt"])[0];if(R){var G=ER(R);E=G.trackId}if(j){var te=MR(j);b=te.baseMediaDecodeTime}if($){var le=AR($);le.samples&&le.samples.length&&(w=le.samples[0].compositionTimeOffset||0)}}var Ve=p[E]||9e4;typeof b=="bigint"&&(w=e4.BigInt(w),Ve=e4.BigInt(Ve));var _e=(b+w)/Ve;return typeof _e=="bigint"&&_e<Number.MAX_SAFE_INTEGER&&(_e=Number(_e)),_e},f8=function(p){var v=Pi(p,["moov","trak"]),x=[];return v.forEach(function(b){var w=Pi(b,["mdia","hdlr"]),E=Pi(b,["tkhd"]);w.forEach(function(R,$){var j=Yu(R.subarray(8,12)),G=E[$],te,le,Ve;j==="vide"&&(te=new DataView(G.buffer,G.byteOffset,G.byteLength),le=te.getUint8(0),Ve=le===0?te.getUint32(12):te.getUint32(20),x.push(Ve))})}),x},Q2=function(p){var v=p[0],x=v===0?12:20;return sf(p[x]<<24|p[x+1]<<16|p[x+2]<<8|p[x+3])},m8=function(p){var v=Pi(p,["moov","trak"]),x=[];return v.forEach(function(b){var w={},E=Pi(b,["tkhd"])[0],R,$;E&&(R=new DataView(E.buffer,E.byteOffset,E.byteLength),$=R.getUint8(0),w.id=$===0?R.getUint32(12):R.getUint32(20));var j=Pi(b,["mdia","hdlr"])[0];if(j){var G=Yu(j.subarray(8,12));G==="vide"?w.type="video":G==="soun"?w.type="audio":w.type=G}var te=Pi(b,["mdia","minf","stbl","stsd"])[0];if(te){var le=te.subarray(8);w.codec=Yu(le.subarray(4,8));var Ve=Pi(le,[w.codec])[0],_e,dt;Ve&&(/^[asm]vc[1-9]$/i.test(w.codec)?(_e=Ve.subarray(78),dt=Yu(_e.subarray(4,8)),dt==="avcC"&&_e.length>11?(w.codec+=".",w.codec+=dd(_e[9]),w.codec+=dd(_e[10]),w.codec+=dd(_e[11])):w.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(w.codec)?(_e=Ve.subarray(28),dt=Yu(_e.subarray(4,8)),dt==="esds"&&_e.length>20&&_e[19]!==0?(w.codec+="."+dd(_e[19]),w.codec+="."+dd(_e[20]>>>2&63).replace(/^0/,"")):w.codec="mp4a.40.2"):w.codec=w.codec.toLowerCase())}var bt=Pi(b,["mdia","mdhd"])[0];bt&&(w.timescale=Q2(bt)),x.push(w)}),x},g8=function(p,v=0){var x=Pi(p,["emsg"]);return x.map(b=>{var w=J2.parseEmsgBox(new Uint8Array(b)),E=LR(w.message_data);return{cueTime:J2.scaleTime(w.presentation_time,w.timescale,w.presentation_time_delta,v),duration:J2.scaleTime(w.event_duration,w.timescale),frames:E}})};var t4={findBox:Pi,parseType:Yu,timescale:d8,startTime:h8,compositionStartTime:p8,videoTrackIds:f8,tracks:m8,getTimescaleFromMediaHeader:Q2,getEmsgID3:g8},i4=Gt,y8=function(p){var v=p[1]&31;return v<<=8,v|=p[2],v},af=function(p){return!!(p[1]&64)},of=function(p){var v=0;return(p[3]&48)>>>4>1&&(v+=p[4]+1),v},BR=function(p,v){var x=y8(p);return x===0?"pat":x===v?"pmt":v?"pes":null},PR=function(p){var v=af(p),x=4+of(p);return v&&(x+=p[x]+1),(p[x+10]&31)<<8|p[x+11]},IR=function(p){var v={},x=af(p),b=4+of(p);if(x&&(b+=p[b]+1),!!(p[b+5]&1)){var w,E,R;w=(p[b+1]&15)<<8|p[b+2],E=3+w-4,R=(p[b+10]&15)<<8|p[b+11];for(var $=12+R;$<E;){var j=b+$;v[(p[j+1]&31)<<8|p[j+2]]=p[j],$+=((p[j+3]&15)<<8|p[j+4])+5}return v}},RR=function(p,v){var x=y8(p),b=v[x];switch(b){case i4.H264_STREAM_TYPE:return"video";case i4.ADTS_STREAM_TYPE:return"audio";case i4.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},OR=function(p){var v=af(p);if(!v)return null;var x=4+of(p);if(x>=p.byteLength)return null;var b=null,w;return w=p[x+7],w&192&&(b={},b.pts=(p[x+9]&14)<<27|(p[x+10]&255)<<20|(p[x+11]&254)<<12|(p[x+12]&255)<<5|(p[x+13]&254)>>>3,b.pts*=4,b.pts+=(p[x+13]&6)>>>1,b.dts=b.pts,w&64&&(b.dts=(p[x+14]&14)<<27|(p[x+15]&255)<<20|(p[x+16]&254)<<12|(p[x+17]&255)<<5|(p[x+18]&254)>>>3,b.dts*=4,b.dts+=(p[x+18]&6)>>>1)),b},r4=function(p){switch(p){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},FR=function(p){for(var v=4+of(p),x=p.subarray(v),b=0,w=0,E=!1,R;w<x.byteLength-3;w++)if(x[w+2]===1){b=w+5;break}for(;b<x.byteLength;)switch(x[b]){case 0:if(x[b-1]!==0){b+=2;break}else if(x[b-2]!==0){b++;break}w+3!==b-2&&(R=r4(x[w+3]&31),R==="slice_layer_without_partitioning_rbsp_idr"&&(E=!0));do b++;while(x[b]!==1&&b<x.length);w=b-2,b+=3;break;case 1:if(x[b-1]!==0||x[b-2]!==0){b+=3;break}R=r4(x[w+3]&31),R==="slice_layer_without_partitioning_rbsp_idr"&&(E=!0),w=b-2,b+=3;break;default:b+=3;break}return x=x.subarray(w),b-=w,w=0,x&&x.byteLength>3&&(R=r4(x[w+3]&31),R==="slice_layer_without_partitioning_rbsp_idr"&&(E=!0)),E},NR={parseType:BR,parsePat:PR,parsePmt:IR,parsePayloadUnitStartIndicator:af,parsePesType:RR,parsePesTime:OR,videoPacketContainsKeyFrame:FR},v8=Gt,Zu=Q0.handleRollover,ii={};ii.ts=NR,ii.aac=G2;var Ll=Mt.ONE_SECOND_IN_TS,Fr=188,Is=71,$R=function(p,v){for(var x=0,b=Fr,w,E;b<p.byteLength;){if(p[x]===Is&&p[b]===Is){switch(w=p.subarray(x,b),E=ii.ts.parseType(w,v.pid),E){case"pat":v.pid=ii.ts.parsePat(w);break;case"pmt":var R=ii.ts.parsePmt(w);v.table=v.table||{},Object.keys(R).forEach(function($){v.table[$]=R[$]});break}x+=Fr,b+=Fr;continue}x++,b++}},b8=function(p,v,x){for(var b=0,w=Fr,E,R,$,j,G,te=!1;w<=p.byteLength;){if(p[b]===Is&&(p[w]===Is||w===p.byteLength)){switch(E=p.subarray(b,w),R=ii.ts.parseType(E,v.pid),R){case"pes":$=ii.ts.parsePesType(E,v.table),j=ii.ts.parsePayloadUnitStartIndicator(E),$==="audio"&&j&&(G=ii.ts.parsePesTime(E),G&&(G.type="audio",x.audio.push(G),te=!0));break}if(te)break;b+=Fr,w+=Fr;continue}b++,w++}for(w=p.byteLength,b=w-Fr,te=!1;b>=0;){if(p[b]===Is&&(p[w]===Is||w===p.byteLength)){switch(E=p.subarray(b,w),R=ii.ts.parseType(E,v.pid),R){case"pes":$=ii.ts.parsePesType(E,v.table),j=ii.ts.parsePayloadUnitStartIndicator(E),$==="audio"&&j&&(G=ii.ts.parsePesTime(E),G&&(G.type="audio",x.audio.push(G),te=!0));break}if(te)break;b-=Fr,w-=Fr;continue}b--,w--}},zR=function(p,v,x){for(var b=0,w=Fr,E,R,$,j,G,te,le,Ve,_e=!1,dt={data:[],size:0};w<p.byteLength;){if(p[b]===Is&&p[w]===Is){switch(E=p.subarray(b,w),R=ii.ts.parseType(E,v.pid),R){case"pes":if($=ii.ts.parsePesType(E,v.table),j=ii.ts.parsePayloadUnitStartIndicator(E),$==="video"&&(j&&!_e&&(G=ii.ts.parsePesTime(E),G&&(G.type="video",x.video.push(G),_e=!0)),!x.firstKeyFrame)){if(j&&dt.size!==0){for(te=new Uint8Array(dt.size),le=0;dt.data.length;)Ve=dt.data.shift(),te.set(Ve,le),le+=Ve.byteLength;if(ii.ts.videoPacketContainsKeyFrame(te)){var bt=ii.ts.parsePesTime(te);bt?(x.firstKeyFrame=bt,x.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}dt.size=0}dt.data.push(E),dt.size+=E.byteLength}break}if(_e&&x.firstKeyFrame)break;b+=Fr,w+=Fr;continue}b++,w++}for(w=p.byteLength,b=w-Fr,_e=!1;b>=0;){if(p[b]===Is&&p[w]===Is){switch(E=p.subarray(b,w),R=ii.ts.parseType(E,v.pid),R){case"pes":$=ii.ts.parsePesType(E,v.table),j=ii.ts.parsePayloadUnitStartIndicator(E),$==="video"&&j&&(G=ii.ts.parsePesTime(E),G&&(G.type="video",x.video.push(G),_e=!0));break}if(_e)break;b-=Fr,w-=Fr;continue}b--,w--}},UR=function(p,v){if(p.audio&&p.audio.length){var x=v;(typeof x>"u"||isNaN(x))&&(x=p.audio[0].dts),p.audio.forEach(function(E){E.dts=Zu(E.dts,x),E.pts=Zu(E.pts,x),E.dtsTime=E.dts/Ll,E.ptsTime=E.pts/Ll})}if(p.video&&p.video.length){var b=v;if((typeof b>"u"||isNaN(b))&&(b=p.video[0].dts),p.video.forEach(function(E){E.dts=Zu(E.dts,b),E.pts=Zu(E.pts,b),E.dtsTime=E.dts/Ll,E.ptsTime=E.pts/Ll}),p.firstKeyFrame){var w=p.firstKeyFrame;w.dts=Zu(w.dts,b),w.pts=Zu(w.pts,b),w.dtsTime=w.dts/Ll,w.ptsTime=w.pts/Ll}}},qR=function(p){for(var v=!1,x=0,b=null,w=null,E=0,R=0,$;p.length-R>=3;){var j=ii.aac.parseType(p,R);switch(j){case"timed-metadata":if(p.length-R<10){v=!0;break}if(E=ii.aac.parseId3TagSize(p,R),E>p.length){v=!0;break}w===null&&($=p.subarray(R,R+E),w=ii.aac.parseAacTimestamp($)),R+=E;break;case"audio":if(p.length-R<7){v=!0;break}if(E=ii.aac.parseAdtsSize(p,R),E>p.length){v=!0;break}b===null&&($=p.subarray(R,R+E),b=ii.aac.parseSampleRate($)),x++,R+=E;break;default:R++;break}if(v)return null}if(b===null||w===null)return null;var G=Ll/b,te={audio:[{type:"audio",dts:w,pts:w},{type:"audio",dts:w+x*1024*G,pts:w+x*1024*G}]};return te},jR=function(p){var v={pid:null,table:null},x={};$R(p,v);for(var b in v.table)if(v.table.hasOwnProperty(b)){var w=v.table[b];switch(w){case v8.H264_STREAM_TYPE:x.video=[],zR(p,v,x),x.video.length===0&&delete x.video;break;case v8.ADTS_STREAM_TYPE:x.audio=[],b8(p,v,x),x.audio.length===0&&delete x.audio;break}}return x},VR=function(p,v){var x=ii.aac.isLikelyAacData(p),b;return x?b=qR(p):b=jR(p),!b||!b.audio&&!b.video?null:(UR(b,v),b)},HR={inspect:VR,parseAudioPes_:b8};const KR=function(p,v){v.on("data",function(x){const b=x.initSegment;x.initSegment={data:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength};const w=x.data;x.data=w.buffer,p.postMessage({action:"data",segment:x,byteOffset:w.byteOffset,byteLength:w.byteLength},[x.data])}),v.on("done",function(x){p.postMessage({action:"done"})}),v.on("gopInfo",function(x){p.postMessage({action:"gopInfo",gopInfo:x})}),v.on("videoSegmentTimingInfo",function(x){const b={start:{decode:Mt.videoTsToSeconds(x.start.dts),presentation:Mt.videoTsToSeconds(x.start.pts)},end:{decode:Mt.videoTsToSeconds(x.end.dts),presentation:Mt.videoTsToSeconds(x.end.pts)},baseMediaDecodeTime:Mt.videoTsToSeconds(x.baseMediaDecodeTime)};x.prependedContentDuration&&(b.prependedContentDuration=Mt.videoTsToSeconds(x.prependedContentDuration)),p.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:b})}),v.on("audioSegmentTimingInfo",function(x){const b={start:{decode:Mt.videoTsToSeconds(x.start.dts),presentation:Mt.videoTsToSeconds(x.start.pts)},end:{decode:Mt.videoTsToSeconds(x.end.dts),presentation:Mt.videoTsToSeconds(x.end.pts)},baseMediaDecodeTime:Mt.videoTsToSeconds(x.baseMediaDecodeTime)};x.prependedContentDuration&&(b.prependedContentDuration=Mt.videoTsToSeconds(x.prependedContentDuration)),p.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:b})}),v.on("id3Frame",function(x){p.postMessage({action:"id3Frame",id3Frame:x})}),v.on("caption",function(x){p.postMessage({action:"caption",caption:x})}),v.on("trackinfo",function(x){p.postMessage({action:"trackinfo",trackInfo:x})}),v.on("audioTimingInfo",function(x){p.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Mt.videoTsToSeconds(x.start),end:Mt.videoTsToSeconds(x.end)}})}),v.on("videoTimingInfo",function(x){p.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Mt.videoTsToSeconds(x.start),end:Mt.videoTsToSeconds(x.end)}})}),v.on("log",function(x){p.postMessage({action:"log",log:x})})};class x8{constructor(v,x){this.options=x||{},this.self=v,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new XI.Transmuxer(this.options),KR(this.self,this.transmuxer)}pushMp4Captions(v){this.captionParser||(this.captionParser=new bR,this.captionParser.init());const x=new Uint8Array(v.data,v.byteOffset,v.byteLength),b=this.captionParser.parse(x,v.trackIds,v.timescales);this.self.postMessage({action:"mp4Captions",captions:b&&b.captions||[],logs:b&&b.logs||[],data:x.buffer},[x.buffer])}probeMp4StartTime({timescales:v,data:x}){const b=t4.startTime(v,x);this.self.postMessage({action:"probeMp4StartTime",startTime:b,data:x},[x.buffer])}probeMp4Tracks({data:v}){const x=t4.tracks(v);this.self.postMessage({action:"probeMp4Tracks",tracks:x,data:v},[v.buffer])}probeEmsgID3({data:v,offset:x}){const b=t4.getEmsgID3(v,x);this.self.postMessage({action:"probeEmsgID3",id3Frames:b,emsgData:v},[v.buffer])}probeTs({data:v,baseStartTime:x}){const b=typeof x=="number"&&!isNaN(x)?x*Mt.ONE_SECOND_IN_TS:void 0,w=HR.inspect(v,b);let E=null;w&&(E={hasVideo:w.video&&w.video.length===2||!1,hasAudio:w.audio&&w.audio.length===2||!1},E.hasVideo&&(E.videoStart=w.video[0].ptsTime),E.hasAudio&&(E.audioStart=w.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:E,data:v},[v.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(v){const x=new Uint8Array(v.data,v.byteOffset,v.byteLength);this.transmuxer.push(x)}reset(){this.transmuxer.reset()}setTimestampOffset(v){const x=v.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Mt.secondsToVideoTs(x)))}setAudioAppendStart(v){this.transmuxer.setAudioAppendStart(Math.ceil(Mt.secondsToVideoTs(v.appendStart)))}setRemux(v){this.transmuxer.setRemux(v.remux)}flush(v){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(v){this.transmuxer.alignGopsWith(v.gopsToAlignWith.slice())}}self.onmessage=function(p){if(p.data.action==="init"&&p.data.options){this.messageHandlers=new x8(self,p.data.options);return}this.messageHandlers||(this.messageHandlers=new x8(self)),p.data&&p.data.action&&p.data.action!=="init"&&this.messageHandlers[p.data.action]&&this.messageHandlers[p.data.action](p.data)}}));var JW=wD(ZW);const QW=(t,e,i)=>{const{type:r,initSegment:n,captions:s,captionStreams:a,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:u}=t.data.segment;e.buffer.push({captions:s,captionStreams:a,metadata:o});const c=t.data.segment.boxes||{data:t.data.segment.data},d={type:r,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(n.data,n.byteOffset,n.byteLength)};typeof l<"u"&&(d.videoFrameDtsTime=l),typeof u<"u"&&(d.videoFramePtsTime=u),i(d)},eG=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},tG=(t,e)=>{e.gopInfo=t.data.gopInfo},kD=t=>{const{transmuxer:e,bytes:i,audioAppendStart:r,gopsToAlignWith:n,remux:s,onData:a,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:c,onAudioSegmentTimingInfo:d,onId3:h,onCaptions:f,onDone:g,onEndedTimeline:y,onTransmuxerLog:C,isEndOfTimeline:S,segment:A,triggerSegmentEventFn:T}=t,M={buffer:[]};let D=S;const B=V=>{e.currentTransmux===t&&(V.data.action==="data"&&QW(V,M,a),V.data.action==="trackinfo"&&o(V.data.trackInfo),V.data.action==="gopInfo"&&tG(V,M),V.data.action==="audioTimingInfo"&&l(V.data.audioTimingInfo),V.data.action==="videoTimingInfo"&&u(V.data.videoTimingInfo),V.data.action==="videoSegmentTimingInfo"&&c(V.data.videoSegmentTimingInfo),V.data.action==="audioSegmentTimingInfo"&&d(V.data.audioSegmentTimingInfo),V.data.action==="id3Frame"&&h([V.data.id3Frame],V.data.id3Frame.dispatchType),V.data.action==="caption"&&f(V.data.caption),V.data.action==="endedtimeline"&&(D=!1,y()),V.data.action==="log"&&C(V.data.log),V.data.type==="transmuxed"&&(D||(e.onmessage=null,eG({transmuxedData:M,callback:g}),TD(e))))},F=()=>{const V={message:"Received an error message from the transmuxer worker",metadata:{errorType:ae.Error.StreamingFailedToTransmuxSegment,segmentInfo:au({segment:A})}};g(null,V)};if(e.onmessage=B,e.onerror=F,r&&e.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(n)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:n}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),i.byteLength){const V=i instanceof ArrayBuffer?i:i.buffer,O=i instanceof ArrayBuffer?0:i.byteOffset;T({type:"segmenttransmuxingstart",segment:A}),e.postMessage({action:"push",data:V,byteOffset:O,byteLength:i.byteLength},[V])}S&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},TD=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():kD(t.currentTransmux))},d_=(t,e)=>{t.postMessage({action:e}),TD(t)},ED=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,d_(e,t);return}e.transmuxQueue.push(d_.bind(null,e,t))},iG=t=>{ED("reset",t)},rG=t=>{ED("endTimeline",t)},AD=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,kD(t);return}t.transmuxer.transmuxQueue.push(t)},nG=t=>{const e=new JW;e.currentTransmux=null,e.transmuxQueue=[];const i=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,i.call(e)),e.postMessage({action:"init",options:t}),e};var W4={reset:iG,endTimeline:rG,transmux:AD,createTransmuxer:nG};const xh=function(t){const e=t.transmuxer,i=t.endAction||t.action,r=t.callback,n=Bi({},t,{endAction:null,transmuxer:null,callback:null}),s=a=>{a.data.action===i&&(e.removeEventListener("message",s),a.data.data&&(a.data.data=new Uint8Array(a.data.data,t.byteOffset||0,t.byteLength||a.data.data.byteLength),t.data&&(t.data=a.data.data)),r(a.data))};if(e.addEventListener("message",s),t.data){const a=t.data instanceof ArrayBuffer;n.byteOffset=a?0:t.data.byteOffset,n.byteLength=t.data.byteLength;const o=[a?t.data:t.data.buffer];e.postMessage(n,o)}else e.postMessage(n)},Qs={FAILURE:2,TIMEOUT:-101,ABORTED:-102},h5=t=>{t.forEach(e=>{e.abort()})},sG=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),aG=t=>{const e=t.target,r={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return r.bytesReceived=t.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},Vb=(t,e)=>{const{requestType:i}=e,r=Cu({requestType:i,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Qs.TIMEOUT,xhr:e,metadata:r}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Qs.ABORTED,xhr:e,metadata:r}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Qs.FAILURE,xhr:e,metadata:r}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:Qs.FAILURE,xhr:e,metadata:r}:null},h_=(t,e,i,r)=>(n,s)=>{const a=s.response,o=Vb(n,s);if(o)return i(o,t);if(a.byteLength!==16)return i({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:Qs.FAILURE,xhr:s},t);const l=new DataView(a),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let d=0;d<e.length;d++)e[d].bytes=u;const c={uri:s.uri};return r({type:"segmentkeyloadcomplete",segment:t,keyInfo:c}),i(null,t)},MD=(t,e)=>{const i=ub(t.map.bytes);if(i!=="mp4"){const r=t.map.resolvedUri||t.map.uri,n=i||"unknown";return e({internal:!0,message:`Found unsupported ${n} container for initialization segment at URL: ${r}`,code:Qs.FAILURE,metadata:{mediaType:n}})}xh({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:r,data:n})=>(t.map.bytes=n,r.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale))}),e(null))})},oG=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:i})=>(r,n)=>{const s=Vb(r,n);if(s)return e(s,t);const a=new Uint8Array(n.response);if(i({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=a,e(null,t);t.map.bytes=a,MD(t,function(o){if(o)return o.xhr=n,o.status=n.status,e(o,t);e(null,t)})},lG=({segment:t,finishProcessingFn:e,responseType:i,triggerSegmentEventFn:r})=>(n,s)=>{const a=Vb(n,s);if(a)return e(a,t);r({type:"segmentloaded",segment:t});const o=i==="arraybuffer"||!s.responseText?s.response:XW(s.responseText.substring(t.lastReachedChar||0));return t.stats=sG(s),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),e(null,t)},uG=({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})=>{const g=t.map&&t.map.tracks||{},y=!!(g.audio&&g.video);let C=r.bind(null,t,"audio","start");const S=r.bind(null,t,"audio","end");let A=r.bind(null,t,"video","start");const T=r.bind(null,t,"video","end"),M=()=>AD({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:y,onData:D=>{D.type=D.type==="combined"?"video":D.type,c(t,D)},onTrackInfo:D=>{i&&(y&&(D.isMuxed=!0),i(t,D))},onAudioTimingInfo:D=>{C&&typeof D.start<"u"&&(C(D.start),C=null),S&&typeof D.end<"u"&&S(D.end)},onVideoTimingInfo:D=>{A&&typeof D.start<"u"&&(A(D.start),A=null),T&&typeof D.end<"u"&&T(D.end)},onVideoSegmentTimingInfo:D=>{const B={pts:{start:D.start.presentation,end:D.end.presentation},dts:{start:D.start.decode,end:D.end.decode}};f({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:B}),n(D)},onAudioSegmentTimingInfo:D=>{const B={pts:{start:D.start.pts,end:D.end.pts},dts:{start:D.start.dts,end:D.end.dts}};f({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:B}),s(D)},onId3:(D,B)=>{a(t,D,B)},onCaptions:D=>{o(t,[D])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:h,onDone:(D,B)=>{d&&(D.type=D.type==="combined"?"video":D.type,f({type:"segmenttransmuxingcomplete",segment:t}),d(B,t,D))},segment:t,triggerSegmentEventFn:f});xh({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:D=>{t.bytes=e=D.data;const B=D.result;B&&(i(t,{hasAudio:B.hasAudio,hasVideo:B.hasVideo,isMuxed:y}),i=null),M()}})},DD=({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})=>{let g=new Uint8Array(e);if(PH(g)){t.isFmp4=!0;const{tracks:y}=t.map,C={isFmp4:!0,hasVideo:!!y.video,hasAudio:!!y.audio};y.audio&&y.audio.codec&&y.audio.codec!=="enca"&&(C.audioCodec=y.audio.codec),y.video&&y.video.codec&&y.video.codec!=="encv"&&(C.videoCodec=y.video.codec),y.video&&y.audio&&(C.isMuxed=!0),i(t,C);const S=(A,T)=>{c(t,{data:g,type:C.hasAudio&&!C.isMuxed?"audio":"video"}),T&&T.length&&a(t,T),A&&A.length&&o(t,A),d(null,t,{})};xh({action:"probeMp4StartTime",timescales:t.map.timescales,data:g,transmuxer:t.transmuxer,callback:({data:A,startTime:T})=>{e=A.buffer,t.bytes=g=A,C.hasAudio&&!C.isMuxed&&r(t,"audio","start",T),C.hasVideo&&r(t,"video","start",T),xh({action:"probeEmsgID3",data:g,transmuxer:t.transmuxer,offset:T,callback:({emsgData:M,id3Frames:D})=>{if(e=M.buffer,t.bytes=g=M,!y.video||!M.byteLength||!t.transmuxer){S(void 0,D);return}xh({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:g,timescales:t.map.timescales,trackIds:[y.video.id],callback:B=>{e=B.data.buffer,t.bytes=g=B.data,B.logs.forEach(function(F){h(ei(F,{stream:"mp4CaptionParser"}))}),S(B.captions,D)}})}})}});return}if(!t.transmuxer){d(null,t,{});return}if(typeof t.container>"u"&&(t.container=ub(g)),t.container!=="ts"&&t.container!=="aac"){i(t,{hasAudio:!1,hasVideo:!1}),d(null,t,{});return}uG({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})},LD=function({id:t,key:e,encryptedBytes:i,decryptionWorker:r,segment:n,doneFn:s},a){const o=u=>{if(u.data.source===t){r.removeEventListener("message",o);const c=u.data.decrypted;a(new Uint8Array(c.bytes,c.byteOffset,c.byteLength))}};r.onerror=()=>{const u="An error occurred in the decryption worker",c=au({segment:n}),d={message:u,metadata:{error:new Error(u),errorType:ae.Error.StreamingFailedToDecryptSegment,segmentInfo:c,keyInfo:{uri:n.key.resolvedUri||n.map.key.resolvedUri}}};s(d,n)},r.addEventListener("message",o);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),r.postMessage(gD({source:t,encrypted:i,key:l,iv:e.iv}),[i.buffer,l.buffer])},cG=({decryptionWorker:t,segment:e,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})=>{f({type:"segmentdecryptionstart"}),LD({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:d},g=>{e.bytes=g,f({type:"segmentdecryptioncomplete",segment:e}),DD({segment:e,bytes:e.bytes,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})})},dG=({activeXhrs:t,decryptionWorker:e,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})=>{let g=0,y=!1;return(C,S)=>{if(!y){if(C)return y=!0,h5(t),d(C,S);if(g+=1,g===t.length){const A=function(){if(S.encryptedBytes)return cG({decryptionWorker:e,segment:S,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f});DD({segment:S,bytes:S.bytes,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})};if(S.endOfAllRequests=Date.now(),S.map&&S.map.encryptedBytes&&!S.map.bytes)return f({type:"segmentdecryptionstart",segment:S}),LD({decryptionWorker:e,id:S.requestId+"-init",encryptedBytes:S.map.encryptedBytes,key:S.map.key,segment:S,doneFn:d},T=>{S.map.bytes=T,f({type:"segmentdecryptioncomplete",segment:S}),MD(S,M=>{if(M)return h5(t),d(M,S);A()})});A()}}}},hG=({loadendState:t,abortFn:e})=>i=>{i.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},pG=({segment:t,progressFn:e,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c})=>d=>{if(!d.target.aborted)return t.stats=ei(t.stats,aG(d)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(d,t)},fG=({xhr:t,xhrOptions:e,decryptionWorker:i,segment:r,abortFn:n,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:f,dataFn:g,doneFn:y,onTransmuxerLog:C,triggerSegmentEventFn:S})=>{const A=[],T=dG({activeXhrs:A,decryptionWorker:i,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:f,dataFn:g,doneFn:y,onTransmuxerLog:C,triggerSegmentEventFn:S});if(r.key&&!r.key.bytes){const V=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&V.push(r.map.key);const O=ei(e,{uri:r.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),U=h_(r,V,T,S),J={uri:r.key.resolvedUri};S({type:"segmentkeyloadstart",segment:r,keyInfo:J});const Y=t(O,U);A.push(Y)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){const Y=ei(e,{uri:r.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),ie=h_(r,[r.map.key],T,S),ce={uri:r.map.key.resolvedUri};S({type:"segmentkeyloadstart",segment:r,keyInfo:ce});const qe=t(Y,ie);A.push(qe)}const O=ei(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:c5(r.map),requestType:"segment-media-initialization"}),U=oG({segment:r,finishProcessingFn:T,triggerSegmentEventFn:S});S({type:"segmentloadstart",segment:r});const J=t(O,U);A.push(J)}const M=ei(e,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:c5(r),requestType:"segment"}),D=lG({segment:r,finishProcessingFn:T,responseType:M.responseType,triggerSegmentEventFn:S});S({type:"segmentloadstart",segment:r});const B=t(M,D);B.addEventListener("progress",pG({segment:r,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:f,dataFn:g})),A.push(B);const F={};return A.forEach(V=>{V.addEventListener("loadend",hG({loadendState:F,abortFn:n}))}),()=>h5(A)},mG=ls("CodecUtils"),gG=function(t){const e=t.attributes||{};if(e.CODECS)return Vs(e.CODECS)},BD=(t,e)=>{const i=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&i.AUDIO&&t.mediaGroups.AUDIO[i.AUDIO]},yG=(t,e)=>{if(!BD(t,e))return!0;const i=e.attributes||{},r=t.mediaGroups.AUDIO[i.AUDIO];for(const n in r)if(!r[n].uri&&!r[n].playlists)return!0;return!1},X1=function(t){const e={};return t.forEach(({mediaType:i,type:r,details:n})=>{e[i]=e[i]||[],e[i].push(zE(`${r}${n}`))}),Object.keys(e).forEach(function(i){if(e[i].length>1){mG(`multiple ${i} codecs found as attributes: ${e[i].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[i]=null;return}e[i]=e[i][0]}),e},p_=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},_h=function(t,e){const i=e.attributes||{},r=X1(gG(e)||[]);if(BD(t,e)&&!r.audio&&!yG(t,e)){const n=X1(Pj(t,i.AUDIO)||[]);n.audio&&(r.audio=n.audio)}return r},kf=ls("PlaylistSelector"),f_=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},Y1=function(t,e){if(!t)return"";const i=H.getComputedStyle(t);return i?i[e]:""},Qc=function(t,e){const i=t.slice();t.sort(function(r,n){const s=e(r,n);return s===0?i.indexOf(r)-i.indexOf(n):s})},Hb=function(t,e){let i,r;return t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||H.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(r=e.attributes.BANDWIDTH),r=r||H.Number.MAX_VALUE,i-r},vG=function(t,e){let i,r;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||H.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(r=e.attributes.RESOLUTION.width),r=r||H.Number.MAX_VALUE,i===r&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:i-r};let PD=function(t,e,i,r,n,s){if(!t)return;const a={bandwidth:e,width:i,height:r,limitRenditionByPlayerDimensions:n};let o=t.playlists;hn.isAudioOnly(t)&&(o=s.getAudioTrackPlaylists_(),a.audioOnly=!0);let l=o.map(D=>{let B;const F=D.attributes&&D.attributes.RESOLUTION&&D.attributes.RESOLUTION.width,V=D.attributes&&D.attributes.RESOLUTION&&D.attributes.RESOLUTION.height;return B=D.attributes&&D.attributes.BANDWIDTH,B=B||H.Number.MAX_VALUE,{bandwidth:B,width:F,height:V,playlist:D}});Qc(l,(D,B)=>D.bandwidth-B.bandwidth),l=l.filter(D=>!hn.isIncompatible(D.playlist));let u=l.filter(D=>hn.isEnabled(D.playlist));u.length||(u=l.filter(D=>!hn.isDisabled(D.playlist)));const c=u.filter(D=>D.bandwidth*cr.BANDWIDTH_VARIANCE<e);let d=c[c.length-1];const h=c.filter(D=>D.bandwidth===d.bandwidth)[0];if(n===!1){const D=h||u[0]||l[0];if(D&&D.playlist){let B="sortedPlaylistReps";return h&&(B="bandwidthBestRep"),u[0]&&(B="enabledPlaylistReps"),kf(`choosing ${f_(D)} using ${B} with options`,a),D.playlist}return kf("could not choose a playlist with options",a),null}const f=c.filter(D=>D.width&&D.height);Qc(f,(D,B)=>D.width-B.width);const g=f.filter(D=>D.width===i&&D.height===r);d=g[g.length-1];const y=g.filter(D=>D.bandwidth===d.bandwidth)[0];let C,S,A;y||(C=f.filter(D=>D.width>i||D.height>r),S=C.filter(D=>D.width===C[0].width&&D.height===C[0].height),d=S[S.length-1],A=S.filter(D=>D.bandwidth===d.bandwidth)[0]);let T;if(s.leastPixelDiffSelector){const D=f.map(B=>(B.pixelDiff=Math.abs(B.width-i)+Math.abs(B.height-r),B));Qc(D,(B,F)=>B.pixelDiff===F.pixelDiff?F.bandwidth-B.bandwidth:B.pixelDiff-F.pixelDiff),T=D[0]}const M=T||A||y||h||u[0]||l[0];if(M&&M.playlist){let D="sortedPlaylistReps";return T?D="leastPixelDiffRep":A?D="resolutionPlusOneRep":y?D="resolutionBestRep":h?D="bandwidthBestRep":u[0]&&(D="enabledPlaylistReps"),kf(`choosing ${f_(M)} using ${D} with options`,a),M.playlist}return kf("could not choose a playlist with options",a),null};const m_=function(){let t=this.useDevicePixelRatio&&H.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),PD(this.playlists.main,this.systemBandwidth,parseInt(Y1(this.tech_.el(),"width"),10)*t,parseInt(Y1(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},bG=function(t){let e=-1,i=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let r=this.useDevicePixelRatio&&H.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(r=this.customPixelRatio),e<0&&(e=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(e=t*this.systemBandwidth+(1-t)*e,i=this.systemBandwidth),PD(this.playlists.main,e,parseInt(Y1(this.tech_.el(),"width"),10)*r,parseInt(Y1(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.playlistController_)}},xG=function(t){const{main:e,currentTime:i,bandwidth:r,duration:n,segmentDuration:s,timeUntilRebuffer:a,currentTimeline:o,syncController:l}=t,u=e.playlists.filter(g=>!hn.isIncompatible(g));let c=u.filter(hn.isEnabled);c.length||(c=u.filter(g=>!hn.isDisabled(g)));const h=c.filter(hn.hasAttribute.bind(null,"BANDWIDTH")).map(g=>{const C=l.getSyncPoint(g,n,o,i)?1:2,A=hn.estimateSegmentRequestTime(s,r,g)*C-a;return{playlist:g,rebufferingImpact:A}}),f=h.filter(g=>g.rebufferingImpact<=0);return Qc(f,(g,y)=>Hb(y.playlist,g.playlist)),f.length?f[0]:(Qc(h,(g,y)=>g.rebufferingImpact-y.rebufferingImpact),h[0]||null)},_G=function(){const t=this.playlists.main.playlists.filter(hn.isEnabled);return Qc(t,(i,r)=>Hb(i,r)),t.filter(i=>!!_h(this.playlists.main,i).video)[0]||null},wG=t=>{let e=0,i;return t.bytes&&(i=new Uint8Array(t.bytes),t.segments.forEach(r=>{i.set(r,e),e+=r.byteLength})),i};function ID(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const SG=function(t,e,i){if(!t[i]){e.trigger({type:"usage",name:"vhs-608"});let r=i;/^cc708_/.test(i)&&(r="SERVICE"+i.split("_")[1]);const n=e.textTracks().getTrackById(r);if(n)t[i]=n;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=i,o=i,l=!1;const u=s[r];u&&(a=u.label,o=u.language,l=u.default),t[i]=e.addRemoteTextTrack({kind:"captions",id:r,default:l,label:a,language:o},!1).track}}},CG=function({inbandTextTracks:t,captionArray:e,timestampOffset:i}){if(!e)return;const r=H.WebKitDataCue||H.VTTCue;e.forEach(n=>{const s=n.stream;n.content?n.content.forEach(a=>{const o=new r(n.startTime+i,n.endTime+i,a.text);o.line=a.line,o.align="left",o.position=a.position,o.positionAlign="line-left",t[s].addCue(o)}):t[s].addCue(new r(n.startTime+i,n.endTime+i,n.text))})},kG=function(t){Object.defineProperties(t.frame,{id:{get(){return ae.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return ae.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return ae.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},TG=({inbandTextTracks:t,metadataArray:e,timestampOffset:i,videoDuration:r})=>{if(!e)return;const n=H.WebKitDataCue||H.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(c=>{const d=c.cueTime+i;typeof d!="number"||H.isNaN(d)||d<0||!(d<1/0)||!c.frames||!c.frames.length||c.frames.forEach(h=>{const f=new n(d,d,h.value||h.url||h.data||"");f.frame=h,f.value=h,kG(f),s.addCue(f)})}),!s.cues||!s.cues.length))return;const a=s.cues,o=[];for(let c=0;c<a.length;c++)a[c]&&o.push(a[c]);const l=o.reduce((c,d)=>{const h=c[d.startTime]||[];return h.push(d),c[d.startTime]=h,c},{}),u=Object.keys(l).sort((c,d)=>Number(c)-Number(d));u.forEach((c,d)=>{const h=l[c],f=isFinite(r)?r:c,g=Number(u[d+1])||f;h.forEach(y=>{y.endTime=g})})},EG={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},AG=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),MG=({inbandTextTracks:t,dateRanges:e})=>{const i=t.metadataTrack_;if(!i)return;const r=H.WebKitDataCue||H.VTTCue;e.forEach(n=>{for(const s of Object.keys(n)){if(AG.has(s))continue;const a=new r(n.startTime,n.endTime,"");a.id=n.id,a.type="com.apple.quicktime.HLS",a.value={key:EG[s],data:n[s]},(s==="scte35Out"||s==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),i.addCue(a)}n.processDateRange()})},g_=(t,e,i)=>{t.metadataTrack_||(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,ae.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},rh=function(t,e,i){let r,n;if(i&&i.cues)for(r=i.cues.length;r--;)n=i.cues[r],n.startTime>=t&&n.endTime<=e&&i.removeCue(n)},DG=function(t){const e=t.cues;if(!e)return;const i={};for(let r=e.length-1;r>=0;r--){const n=e[r],s=`${n.startTime}-${n.endTime}-${n.text}`;i[s]?t.removeCue(n):i[s]=n}},LG=(t,e,i)=>{if(typeof e>"u"||e===null||!t.length)return[];const r=Math.ceil((e-i+3)*du.ONE_SECOND_IN_TS);let n;for(n=0;n<t.length&&!(t[n].pts>r);n++);return t.slice(n)},BG=(t,e,i)=>{if(!e.length)return t;if(i)return e.slice();const r=e[0].pts;let n=0;for(n;n<t.length&&!(t[n].pts>=r);n++);return t.slice(0,n).concat(e)},PG=(t,e,i,r)=>{const n=Math.ceil((e-r)*du.ONE_SECOND_IN_TS),s=Math.ceil((i-r)*du.ONE_SECOND_IN_TS),a=t.slice();let o=t.length;for(;o--&&!(t[o].pts<=s););if(o===-1)return a;let l=o+1;for(;l--&&!(t[l].pts<=n););return l=Math.max(l,0),a.splice(l,o-l+1),a},IG=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const i=Object.keys(t).sort(),r=Object.keys(e).sort();if(i.length!==r.length)return!1;for(let n=0;n<i.length;n++){const s=i[n];if(s!==r[n]||t[s]!==e[s])return!1}return!0},RG=function(t,e,i){e=e||[];const r=[];let n=0;for(let s=0;s<e.length;s++){const a=e[s];if(t===a.timeline&&(r.push(s),n+=a.duration,n>i))return s}return r.length===0?0:r[r.length-1]},wd=1,OG=500,y_=t=>typeof t=="number"&&isFinite(t),Tf=1/60,FG=(t,e,i)=>t!=="main"||!e||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,NG=(t,e,i)=>{let r=e-cr.BACK_BUFFER_LENGTH;t.length&&(r=Math.max(r,t.start(0)));const n=e-i;return Math.min(n,r)},oc=t=>{const{startOfSegment:e,duration:i,segment:r,part:n,playlist:{mediaSequence:s,id:a,segments:o=[]},mediaIndex:l,partIndex:u,timeline:c}=t,d=o.length-1;let h="mediaIndex/partIndex increment";t.getMediaInfoForTime?h=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(h+=` with independent ${t.independent}`);const f=typeof u=="number",g=t.segment.uri?"segment":"pre-segment",y=f?eD({preloadSegment:r})-1:0;return`${g} [${s+l}/${s+d}]`+(f?` part [${u}/${y}]`:"")+` segment start/end [${r.start} => ${r.end}]`+(f?` part start/end [${n.start} => ${n.end}]`:"")+` startOfSegment [${e}] duration [${i}] timeline [${c}] selected by [${h}] playlist [${a}]`},v_=t=>`${t}TimingInfo`,$G=({segmentTimeline:t,currentTimeline:e,startOfSegment:i,buffered:r,overrideCheck:n})=>!n&&t===e?null:t<e?i:r.length?r.end(r.length-1):i,p5=({timelineChangeController:t,currentTimeline:e,segmentTimeline:i,loaderType:r,audioDisabled:n})=>{if(e===i)return!1;if(r==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==i}if(r==="main"&&n){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===i)}return!1},zG=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),i=t.pendingTimelineChange({type:"main"}),r=e&&i,n=r&&e.to!==i.to;return!!(r&&e.from!==-1&&i.from!==-1&&n)},UG=t=>{t&&(t.pause(),t.resetEverything(),t.load())},qG=t=>{const e=t.timelineChangeController_.pendingTimelineChange({type:"audio"}),i=t.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&i&&e.to<i.to},Co=t=>{const e=t.pendingSegment_;if(!e)return;if(p5({timelineChangeController:t.timelineChangeController_,currentTimeline:t.currentTimeline_,segmentTimeline:e.timeline,loaderType:t.loaderType_,audioDisabled:t.audioDisabled_})&&zG(t.timelineChangeController_)){if(t.sourceType_==="dash"&&qG(t)){t.timelineChangeController_.trigger("audioTimelineBehind");return}UG(t)}},jG=t=>{let e=0;return["video","audio"].forEach(function(i){const r=t[`${i}TimingInfo`];if(!r)return;const{start:n,end:s}=r;let a;typeof n=="bigint"||typeof s=="bigint"?a=H.BigInt(s)-H.BigInt(n):typeof n=="number"&&typeof s=="number"&&(a=s-n),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},b_=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+Zs:!1,VG=(t,e)=>{if(e!=="hls")return null;const i=jG({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!i)return null;const r=t.playlist.targetDuration,n=b_({segmentDuration:i,maxDuration:r*2}),s=b_({segmentDuration:i,maxDuration:r}),a=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${i} when the reported duration is ${t.duration} and the target duration is ${r}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return n||s?{severity:n?"warn":"info",message:a}:null},au=({type:t,segment:e})=>{if(!e)return;const i=!!(e.key||e.map&&e.map.ke),r=!!(e.map&&!e.map.bytes),n=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:n,duration:e.duration,isEncrypted:i,isMediaInitialization:r}};class f5 extends ae.EventTarget{constructor(e,i={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=ls(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(r){r!==this.state_&&(this.logger_(`${this.state_} -> ${r}`),this.state_=r,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Co(this)}),this.sourceUpdater_.on("codecschange",r=>{this.trigger(Bi({type:"codecschange"},r))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Co(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",r=>{this.trigger(Bi({type:"timelinechange"},r)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():Co(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Co(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return W4.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&H.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,H.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&W4.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return xr();if(this.loaderType_==="main"){const{hasAudio:i,hasVideo:r,isMuxed:n}=e;if(r&&i&&!this.audioDisabled_&&!n)return this.sourceUpdater_.buffered();if(r)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,i=!1){if(!e)return null;const r=G1(e);let n=this.initSegments_[r];return i&&!n&&e.bytes&&(this.initSegments_[r]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),n||e}segmentKey(e,i=!1){if(!e)return null;const r=yD(e);let n=this.keyCache_[r];this.cacheEncryptionKeys_&&i&&!n&&e.bytes&&(this.keyCache_[r]=n={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(n||e).resolvedUri};return n&&(s.bytes=n.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,i={}){if(!e)return;const r=this.playlist_,n=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=i,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(r&&(r.id?s=r.id:r.uri&&(s=r.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${H4(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-r.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}n&&(n.mediaIndex-=a,n.mediaIndex<0?(n.mediaIndex=null,n.partIndex=null):(n.mediaIndex>=0&&(n.segment=e.segments[n.mediaIndex]),n.partIndex>=0&&n.segment.parts&&(n.part=n.segment.parts[n.partIndex]))),this.syncController_.saveExpiredSegmentInfo(r,e)}pause(){this.checkBufferTimeout_&&(H.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&W4.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,i,r=()=>{},n=!1){if(i===1/0&&(i=this.duration_()),i<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const a=()=>{s--,s===0&&r()};(n||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,i,a)),(n||this.loaderType_==="main")&&(this.gopBuffer_=PG(this.gopBuffer_,e,i,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,i,a));for(const o in this.inbandTextTracks_)rh(e,i,this.inbandTextTracks_[o]);rh(e,i,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&H.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=H.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&H.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=H.setTimeout(this.monitorBufferTick_.bind(this),OG)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const i={segmentInfo:au({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:i}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,i=this.playlist_,r=this.partIndex){if(!i||!this.mediaSource_)return!1;const n=typeof e=="number"&&i.segments[e],s=e+1===i.segments.length,a=!n||!n.parts||r+1===n.parts.length;return i.endList&&this.mediaSource_.readyState==="open"&&s&&a}chooseNextRequest_(){const e=this.buffered_(),i=H4(e)||0,r=zb(e,this.currentTime_()),n=!this.hasPlayed_()&&r>=1,s=r>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||n||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=RG(this.currentTimeline_,a,i),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${o.mediaIndex}`);else if(this.mediaIndex!==null){const h=a[this.mediaIndex],f=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=h.end?h.end:i,h.parts&&h.parts[f+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=f+1):o.mediaIndex=this.mediaIndex+1}else{let h,f,g;const y=this.fetchAtBuffer_?i:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${y}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${i}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const C=this.getSyncInfoFromMediaSequenceSync_(y);if(!C){const S="No sync info found while using media sequence sync";return this.error({message:S,metadata:{errorType:ae.Error.StreamingFailedToSelectNextSegment,error:new Error(S)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${C.start} --> ${C.end})`),h=C.segmentIndex,f=C.partIndex,g=C.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const C=hn.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:y,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});h=C.segmentIndex,f=C.partIndex,g=C.startTime}o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${y}`:`currentTime ${y}`,o.mediaIndex=h,o.startOfSegment=g,o.partIndex=f,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${o.mediaIndex} `)}const l=a[o.mediaIndex];let u=l&&typeof o.partIndex=="number"&&l.parts&&l.parts[o.partIndex];if(!l||typeof o.partIndex=="number"&&!u)return null;typeof o.partIndex!="number"&&l.parts&&(o.partIndex=0,u=l.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!r&&u&&!c&&!u.independent)if(o.partIndex===0){const h=a[o.mediaIndex-1],f=h.parts&&h.parts.length&&h.parts[h.parts.length-1];f&&f.independent&&(o.mediaIndex-=1,o.partIndex=h.parts.length-1,o.independent="previous segment")}else l.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const d=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=a.length-1&&d&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,o.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(o))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const i=Math.max(e,this.mediaSequenceSync_.start);e!==i&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${i}`);const r=this.mediaSequenceSync_.getSyncInfoForTime(i);if(!r)return null;if(!r.isAppended)return r;const n=this.mediaSequenceSync_.getSyncInfoForTime(r.end);return n?(n.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),n):null}generateSegmentInfo_(e){const{independent:i,playlist:r,mediaIndex:n,startOfSegment:s,isSyncRequest:a,partIndex:o,forceTimestampOffset:l,getMediaInfoForTime:u}=e,c=r.segments[n],d=typeof o=="number"&&c.parts[o],h={requestId:"segment-loader-"+Math.random(),uri:d&&d.resolvedUri||c.resolvedUri,mediaIndex:n,partIndex:d?o:null,isSyncRequest:a,startOfSegment:s,playlist:r,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:d&&d.duration||c.duration,segment:c,part:d,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:i},f=typeof l<"u"?l:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:f});const g=H4(this.sourceUpdater_.audioBuffered());return typeof g=="number"&&(h.audioAppendStart=g-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=LG(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return $G(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const i=this.currentTime_(),r=e.bandwidth,n=this.pendingSegment_.duration,s=hn.estimateSegmentRequestTime(n,r,this.playlist_,e.bytesReceived),a=lW(this.buffered_(),i,this.vhs_.tech_.playbackRate())-1;if(s<=a)return;const o=xG({main:this.vhs_.playlists.main,currentTime:i,bandwidth:r,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const u=s-a-o.rebufferingImpact;let c=.5;a<=Zs&&(c=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||u<c)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*cr.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${oc(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,i){this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)&&this.trigger("progress")}handleTrackInfo_(e,i){const{hasAudio:r,hasVideo:n}=i,s={segmentInfo:au({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:r,hasVideo:n}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:s}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(i)||(i=i||{},IG(this.currentMediaInfo_,i)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=i,this.currentMediaInfo_=i,this.logger_("trackinfo update",i),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=i,this.hasEnoughInfoToAppend_()?this.processCallQueue_():Co(this))))}handleTimingInfo_(e,i,r,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,a=v_(i);s[a]=s[a]||{},s[a][r]=n,this.logger_(`timinginfo: ${i} - ${r} - ${n}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Co(this)}handleCaptions_(e,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(i.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,i));return}const n=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};i.forEach(a=>{s[a.stream]=s[a.stream]||{startTime:1/0,captions:[],endTime:0};const o=s[a.stream];o.startTime=Math.min(o.startTime,a.startTime+n),o.endTime=Math.max(o.endTime,a.endTime+n),o.captions.push(a)}),Object.keys(s).forEach(a=>{const{startTime:o,endTime:l,captions:u}=s[a],c=this.inbandTextTracks_;this.logger_(`adding cues from ${o} -> ${l} for ${a}`),SG(c,this.vhs_.tech_,a),rh(o,l,c[a]),CG({captionArray:u,inbandTextTracks:c,timestampOffset:n})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,i,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,i,r));return}this.addMetadataToTextTrack(r,i,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(i=>i())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(i=>i())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!p5({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,i=this.getCurrentMediaInfo_();if(!e||!i)return!1;const{hasAudio:r,hasVideo:n,isMuxed:s}=i;return!(n&&!e.videoTimingInfo||r&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||p5({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){Co(this),this.callQueue_.push(this.handleData_.bind(this,e,i));return}const r=this.pendingSegment_;if(this.setTimeMapping_(r.timeline),this.updateMediaSecondsLoaded_(r.part||r.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),r.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),r.isFmp4=e.isFmp4,r.timingInfo=r.timingInfo||{},r.isFmp4)this.trigger("fmp4"),r.timingInfo.start=r[v_(i.type)].start;else{const n=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&n&&n.hasVideo;let a;s&&(a=r.videoTimingInfo.start),r.timingInfo.start=this.trueSegmentStart_({currentStart:r.timingInfo.start,playlist:r.playlist,mediaIndex:r.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:a,videoTimingInfo:r.videoTimingInfo,audioTimingInfo:r.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(r,i.type),this.updateSourceBufferTimestampOffset_(r),r.isSyncRequest){this.updateTimingInfoEnd_(r),this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=this.chooseNextRequest_();if(n.mediaIndex!==r.mediaIndex||n.partIndex!==r.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}r.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(r,i)}}updateAppendInitSegmentStatus(e,i){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[i]!==e.playlist&&(this.appendInitSegment_[i]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:i,map:r,playlist:n}){if(r){const s=G1(r);if(this.activeInitSegmentId_===s)return null;i=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=s}return i&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=n,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,i):null}handleQuotaExceededError_({segmentInfo:e,type:i,bytes:r},n){const s=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+hu(s).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+hu(a).join(", "));const o=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,u=a.length?a.start(0):0,c=a.length?a.end(a.length-1):0;if(l-o<=wd&&c-u<=wd){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${r.byteLength}, audio buffer: ${hu(s).join(", ")}, video buffer: ${hu(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:i,bytes:r}));const h=this.currentTime_()-wd;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${h}`),this.remove(0,h,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${wd}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=H.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},wd*1e3)},!0)}handleAppendError_({segmentInfo:e,type:i,bytes:r},n){if(n){if(n.code===dD){this.handleQuotaExceededError_({segmentInfo:e,type:i,bytes:r});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",n),this.error({message:`${i} append of ${r.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:ae.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:r,data:n,bytes:s}){if(!s){const o=[n];let l=n.byteLength;r&&(o.unshift(r),l+=r.byteLength),s=wG({bytes:l,segments:o})}const a={segmentInfo:au({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:i,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:i,bytes:s}))}handleSegmentTimingInfo_(e,i,r){if(!this.pendingSegment_||i!==this.pendingSegment_.requestId)return;const n=this.pendingSegment_.segment,s=`${e}TimingInfo`;n[s]||(n[s]={}),n[s].transmuxerPrependedSeconds=r.prependedContentDuration||0,n[s].transmuxedPresentationStart=r.start.presentation,n[s].transmuxedDecodeStart=r.start.decode,n[s].transmuxedPresentationEnd=r.end.presentation,n[s].transmuxedDecodeEnd=r.end.decode,n[s].baseMediaDecodeTime=r.baseMediaDecodeTime}appendData_(e,i){const{type:r,data:n}=i;if(!n||!n.byteLength||r==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:r,initSegment:i.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:s,data:n})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){Co(this),this.loadQueue_.push(()=>{const i=Bi({},e,{forceTimestampOffset:!0});Bi(e,this.generateSegmentInfo_(i)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const i=this.createSimplifiedSegmentObj_(e),r=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),n=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,a=r||n&&s;this.logger_(`Requesting
${ID(e.uri)}
${oc(e)}`),i.map&&!i.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=fG({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:i,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:l,stream:u})=>{this.logger_(`${oc(e)} logged from transmuxer stream ${u} as a ${l}: ${o}`)},triggerSegmentEventFn:({type:o,segment:l,keyInfo:u,trackInfo:c,timingInfo:d})=>{const f={segmentInfo:au({segment:l})};u&&(f.keyInfo=u),c&&(f.trackInfo=c),d&&(f.timingInfo=d),this.trigger({type:o,metadata:f})}})}trimBackBuffer_(e){const i=NG(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);i>0&&this.remove(0,i)}createSimplifiedSegmentObj_(e){const i=e.segment,r=e.part,n=e.segment.key||e.segment.map&&e.segment.map.key,s=e.segment.map&&!e.segment.map.bytes,a={resolvedUri:r?r.resolvedUri:i.resolvedUri,byterange:r?r.byterange:i.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:n,isMediaInitialization:s},o=e.playlist.segments[e.mediaIndex-1];if(o&&o.timeline===i.timeline&&(o.videoTimingInfo?a.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(a.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),i.key){const l=i.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(i.key),a.key.iv=l}return i.map&&(a.map=this.initSegmentForMap(i.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,i){if(this.pendingSegment_.byteLength=i.bytesReceived,e<Tf){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${Tf}`);return}const r={bandwidthInfo:{from:this.bandwidth,to:i.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:r}),this.bandwidth=i.bandwidth,this.roundTrip=i.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,i,r){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,i,r));return}if(this.saveTransferStats_(i.stats),!this.pendingSegment_||i.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Qs.ABORTED)return;if(this.pause(),e.code===Qs.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,i.stats),n.endOfAllRequests=i.endOfAllRequests,r.gopInfo&&(this.gopBuffer_=BG(this.gopBuffer_,r.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(n)}setTimeMapping_(e){const i=this.syncController_.mappingForTimeline(e);i!==null&&(this.timeMapping_=i)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:i,mediaIndex:r,firstVideoFrameTimeForData:n,currentVideoTimestampOffset:s,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:l}){if(typeof e<"u")return e;if(!a)return l.start;const u=i.segments[r-1];return r===0||!u||typeof u.start>"u"||u.end!==n+s?n:o.start}waitForAppendsToComplete_(e){const i=this.getCurrentMediaInfo_(e);if(!i){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:r,hasVideo:n,isMuxed:s}=i,a=this.loaderType_==="main"&&n,o=!this.audioDisabled_&&r&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const i=FG(this.loaderType_,this.getCurrentMediaInfo_(),e);return i?(this.error({message:i,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let i=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),i=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),i=!0),i&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:i,timingInfo:r}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:i&&typeof i.transmuxedDecodeStart=="number"?i.transmuxedDecodeStart:r.start:r.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const i=this.getMediaInfo_(),n=this.loaderType_==="main"&&i&&i.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end=typeof n.end=="number"?n.end:n.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const l={segmentInfo:au({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=VG(e,this.sourceType_);if(i&&(i.severity==="warn"?ae.log.warn(i.message):this.logger_(i.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${oc(e)}`);return}this.logger_(`Appended ${oc(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const r=e.segment,n=e.part,s=r.end&&this.currentTime_()-r.end>e.playlist.targetDuration*3,a=n&&n.end&&this.currentTime_()-n.end>e.playlist.partTargetDuration*3;if(s||a){this.logger_(`bad ${s?"segment":"part"} ${oc(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Tf){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${Tf}`);return}const i=this.throughput.rate,r=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/r*8*1e3);this.throughput.rate+=(n-i)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const i=e.segment,r=i.start,n=i.end;if(!y_(r)||!y_(n))return;rh(r,n,this.segmentMetadataTrack_);const s=H.WebKitDataCue||H.VTTCue,a={custom:i.custom,dateTimeObject:i.dateTimeObject,dateTimeString:i.dateTimeString,programDateTime:i.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:r,end:n},o=JSON.stringify(a),l=new s(r,n,o);l.value=a,this.segmentMetadataTrack_.addCue(l)}}function za(){}const RD=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},HG=["video","audio"],m5=(t,e)=>{const i=e[`${t}Buffer`];return i&&i.updating||e.queuePending[t]},KG=(t,e)=>{for(let i=0;i<e.length;i++){const r=e[i];if(r.type==="mediaSource")return null;if(r.type===t)return i}return null},e0=(t,e)=>{if(e.queue.length===0)return;let i=0,r=e.queue[i];if(r.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),r.action(e),r.doneFn&&r.doneFn(),e0("audio",e),e0("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||m5(t,e))){if(r.type!==t){if(i=KG(t,e.queue),i===null)return;r=e.queue[i]}if(e.queue.splice(i,1),e.queuePending[t]=r,r.action(t,e),!r.doneFn){e.queuePending[t]=null,e0(t,e);return}}},OD=(t,e)=>{const i=e[`${t}Buffer`],r=RD(t);i&&(i.removeEventListener("updateend",e[`on${r}UpdateEnd_`]),i.removeEventListener("error",e[`on${r}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},Ks=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,wn={appendBuffer:(t,e,i)=>(r,n)=>{const s=n[`${r}Buffer`];if(Ks(n.mediaSource,s)){n.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${r}Buffer`);try{s.appendBuffer(t)}catch(a){n.logger_(`Error with code ${a.code} `+(a.code===dD?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${r}Buffer`),n.queuePending[r]=null,i(a)}}},remove:(t,e)=>(i,r)=>{const n=r[`${i}Buffer`];if(Ks(r.mediaSource,n)){r.logger_(`Removing ${t} to ${e} from ${i}Buffer`);try{n.remove(t,e)}catch{r.logger_(`Remove ${t} to ${e} from ${i}Buffer failed`)}}},timestampOffset:t=>(e,i)=>{const r=i[`${e}Buffer`];Ks(i.mediaSource,r)&&(i.logger_(`Setting ${e}timestampOffset to ${t}`),r.timestampOffset=t)},callback:t=>(e,i)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(i){ae.log.warn("Failed to call media source endOfStream",i)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(i){ae.log.warn("Failed to set media source duration",i)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const i=e[`${t}Buffer`];if(Ks(e.mediaSource,i)){e.logger_(`calling abort on ${t}Buffer`);try{i.abort()}catch(r){ae.log.warn(`Failed to abort on ${t}Buffer`,r)}}},addSourceBuffer:(t,e)=>i=>{const r=RD(t),n=Uh(e);i.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const s=i.mediaSource.addSourceBuffer(n);s.addEventListener("updateend",i[`on${r}UpdateEnd_`]),s.addEventListener("error",i[`on${r}Error_`]),i.codecs[t]=e,i[`${t}Buffer`]=s},removeSourceBuffer:t=>e=>{const i=e[`${t}Buffer`];if(OD(t,e),!!Ks(e.mediaSource,i)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(i)}catch(r){ae.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,r)}}},changeType:t=>(e,i)=>{const r=i[`${e}Buffer`],n=Uh(t);if(!Ks(i.mediaSource,r))return;const s=t.substring(0,t.indexOf(".")),a=i.codecs[e];if(a.substring(0,a.indexOf("."))===s)return;const l={codecsChangeInfo:{from:a,to:t}};i.trigger({type:"codecschange",metadata:l}),i.logger_(`changing ${e}Buffer codec from ${a} to ${t}`);try{r.changeType(n),i.codecs[e]=t}catch(u){l.errorType=ae.Error.StreamingCodecsChangeError,l.error=u,u.metadata=l,i.error_=u,i.trigger("error"),ae.log.warn(`Failed to changeType on ${e}Buffer`,u)}}},Sn=({type:t,sourceUpdater:e,action:i,doneFn:r,name:n})=>{e.queue.push({type:t,action:i,doneFn:r,name:n}),e0(t,e)},x_=(t,e)=>i=>{const r=e[`${t}Buffered`](),n=sW(r);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,n),e.queuePending[t]){const s=e.queuePending[t].doneFn;e.queuePending[t]=null,s&&s(e[`${t}Error_`])}e0(t,e)};class FD extends ae.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>e0("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=ls("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=x_("video",this),this.onAudioUpdateEnd_=x_("audio",this),this.onVideoError_=i=>{this.videoError_=i},this.onAudioError_=i=>{this.audioError_=i},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,i){Sn({type:"mediaSource",sourceUpdater:this,action:wn.addSourceBuffer(e,i),name:"addSourceBuffer"})}abort(e){Sn({type:e,sourceUpdater:this,action:wn.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){ae.log.error("removeSourceBuffer is not supported!");return}Sn({type:"mediaSource",sourceUpdater:this,action:wn.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!ae.browser.IS_FIREFOX&&H.MediaSource&&H.MediaSource.prototype&&typeof H.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return H.SourceBuffer&&H.SourceBuffer.prototype&&typeof H.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,i){if(!this.canChangeType()){ae.log.error("changeType is not supported!");return}Sn({type:e,sourceUpdater:this,action:wn.changeType(i),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(i=>{const r=e[i];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(i,r);this.canChangeType()&&this.changeType(i,r)})}appendBuffer(e,i){const{segmentInfo:r,type:n,bytes:s}=e;if(this.processedAppend_=!0,n==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,i]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const a=i;if(Sn({type:n,sourceUpdater:this,action:wn.appendBuffer(s,r||{mediaIndex:-1},a),doneFn:i,name:"appendBuffer"}),n==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${o.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,o.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return Ks(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:xr()}videoBuffered(){return Ks(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:xr()}buffered(){const e=Ks(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,i=Ks(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return i&&!e?this.audioBuffered():e&&!i?this.videoBuffered():oW(this.audioBuffered(),this.videoBuffered())}setDuration(e,i=za){Sn({type:"mediaSource",sourceUpdater:this,action:wn.duration(e),name:"duration",doneFn:i})}endOfStream(e=null,i=za){typeof e!="string"&&(e=void 0),Sn({type:"mediaSource",sourceUpdater:this,action:wn.endOfStream(e),name:"endOfStream",doneFn:i})}removeAudio(e,i,r=za){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){r();return}Sn({type:"audio",sourceUpdater:this,action:wn.remove(e,i),doneFn:r,name:"remove"})}removeVideo(e,i,r=za){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){r();return}Sn({type:"video",sourceUpdater:this,action:wn.remove(e,i),doneFn:r,name:"remove"})}updating(){return!!(m5("audio",this)||m5("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Sn({type:"audio",sourceUpdater:this,action:wn.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(Sn({type:"video",sourceUpdater:this,action:wn.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Sn({type:"audio",sourceUpdater:this,action:wn.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Sn({type:"video",sourceUpdater:this,action:wn.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),HG.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>OD(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const __=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),WG=t=>{const e=new Uint8Array(t);return Array.from(e).map(i=>i.toString(16).padStart(2,"0")).join("")},w_=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class GG extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class XG extends f5{constructor(e,i={}){super(e,i),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return xr();const e=this.subtitlesTrack_.cues,i=e[0].startTime,r=e[e.length-1].startTime;return xr([[i,r]])}initSegmentForMap(e,i=!1){if(!e)return null;const r=G1(e);let n=this.initSegments_[r];if(i&&!n&&e.bytes){const s=w_.byteLength+e.bytes.byteLength,a=new Uint8Array(s);a.set(e.bytes),a.set(w_,e.bytes.byteLength),this.initSegments_[r]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return n||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,i){rh(e,i,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const i=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",i),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,i,r){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(i.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===Qs.TIMEOUT&&this.handleTimeout_(),e.code===Qs.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,i.stats),i.key&&this.segmentKey(i.key,!0),this.state="APPENDING",this.trigger("appending");const s=n.segment;if(s.map&&(s.map.bytes=i.map.bytes),n.bytes=i.bytes,typeof H.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,i,r),()=>this.stopForError({message:"Error loading vtt.js"}));return}s.requested=!0;try{this.parseVTTCues_(n)}catch(a){this.stopForError({message:a.message,metadata:{errorType:ae.Error.StreamingVttParserError,error:a}});return}if(this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.cues.length?n.timingInfo={start:n.cues[0].startTime,end:n.cues[n.cues.length-1].endTime}:n.timingInfo={start:n.startOfSegment,end:n.startOfSegment+n.duration},n.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}n.byteLength=n.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,n.cues.forEach(a=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new H.VTTCue(a.startTime,a.endTime,a.text):a)}),DG(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let i,r=!1;if(typeof H.WebVTT!="function")throw new GG;typeof H.TextDecoder=="function"?i=new H.TextDecoder("utf8"):(i=H.WebVTT.StringDecoder(),r=!0);const n=new H.WebVTT.Parser(H,H.vttjs,i);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=e.cues.push.bind(e.cues),n.ontimestampmap=a=>{e.timestampmap=a},n.onparsingerror=a=>{ae.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;r&&(a=__(a)),n.parse(a)}let s=e.bytes;r&&(s=__(s)),n.parse(s),n.flush()}updateTimeMapping_(e,i,r){const n=e.segment;if(!i)return;if(!e.cues.length){n.empty=!0;return}const{MPEGTS:s,LOCAL:a}=e.timestampmap,l=s/du.ONE_SECOND_IN_TS-a+i.mapping;if(e.cues.forEach(u=>{const c=u.endTime-u.startTime,d=s===0?u.startTime+l:this.handleRollover_(u.startTime+l,i.time);u.startTime=Math.max(d,0),u.endTime=Math.max(d+c,0)}),!r.syncInfo){const u=e.cues[0].startTime,c=e.cues[e.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+e.mediaIndex,time:Math.min(u,c-n.duration)}}}handleRollover_(e,i){if(i===null)return e;let r=e*du.ONE_SECOND_IN_TS;const n=i*du.ONE_SECOND_IN_TS;let s;for(n<r?s=-8589934592:s=8589934592;Math.abs(r-n)>4294967296;)r+=s;return r/du.ONE_SECOND_IN_TS}}const YG=function(t,e){const i=t.cues;for(let r=0;r<i.length;r++){const n=i[r];if(e>=n.adStartTime&&e<=n.adEndTime)return n}return null},ZG=function(t,e,i=0){if(!t.segments)return;let r=i,n;for(let s=0;s<t.segments.length;s++){const a=t.segments[s];if(n||(n=YG(e,r+a.duration/2)),n){if("cueIn"in a){n.endTime=r,n.adEndTime=r,r+=a.duration,n=null;continue}if(r<n.endTime){r+=a.duration;continue}n.endTime+=a.duration}else if("cueOut"in a&&(n=new H.VTTCue(r,r+a.duration,a.cueOut),n.adStartTime=r,n.adEndTime=r+parseFloat(a.cueOut),e.addCue(n)),"cueOutCont"in a){const[o,l]=a.cueOutCont.split("/").map(parseFloat);n=new H.VTTCue(r,r+a.duration,""),n.adStartTime=r-o,n.adEndTime=n.adStartTime+l,e.addCue(n)}r+=a.duration}};class S_{constructor({start:e,end:i,segmentIndex:r,partIndex:n=null,appended:s=!1}){this.start_=e,this.end_=i,this.segmentIndex_=r,this.partIndex_=n,this.appended_=s}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class JG{constructor(e,i=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=i}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class ND{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,i){const{mediaSequence:r,segments:n}=e;if(this.isReliable_=this.isReliablePlaylist_(r,n),!!this.isReliable_)return this.updateStorage_(n,r,this.calculateBaseTime_(r,i))}getSyncInfoForTime(e){for(const{segmentSyncInfo:i,partsSyncInfo:r}of this.storage_.values())if(r.length){for(const n of r)if(n.isInRange(e))return n}else if(i.isInRange(e))return i;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,i,r){const n=new Map;let s=`
`,a=r,o=i;this.start_=a,e.forEach((l,u)=>{const c=this.storage_.get(o),d=a,h=d+l.duration,f=!!(c&&c.segmentSyncInfo&&c.segmentSyncInfo.isAppended),g=new S_({start:d,end:h,appended:f,segmentIndex:u});l.syncInfo=g;let y=a;const C=(l.parts||[]).map((S,A)=>{const T=y,M=y+S.duration,D=!!(c&&c.partsSyncInfo&&c.partsSyncInfo[A]&&c.partsSyncInfo[A].isAppended),B=new S_({start:T,end:M,appended:D,segmentIndex:u,partIndex:A});return y=M,s+=`Media Sequence: ${o}.${A} | Range: ${T} --> ${M} | Appended: ${D}
`,S.syncInfo=B,B});n.set(o,new JG(g,C)),s+=`${ID(l.resolvedUri)} | Media Sequence: ${o} | Range: ${d} --> ${h} | Appended: ${f}
`,o++,a=h}),this.end_=a,this.storage_=n,this.diagnostics_=s}calculateBaseTime_(e,i){return this.storage_.size?this.storage_.has(e)?this.storage_.get(e).segmentSyncInfo.start:i:0}isReliablePlaylist_(e,i){return e!=null&&Array.isArray(i)&&i.length}}class C_ extends ND{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,i){if(!this.storage_.size){const r=this.parent_.getSyncInfoForMediaSequence(e);return r?r.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,i)}}const QG=86400,G4=[{name:"VOD",run:(t,e,i,r,n)=>i!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,i,r,n,s)=>{const a=t.getMediaSequenceSync(s);if(!a||!a.isReliable)return null;const o=a.getSyncInfoForTime(n);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,i,r,n)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,a=null;const o=s5(e);n=n||0;for(let l=0;l<o.length;l++){const u=e.endList||n===0?l:o.length-(l+1),c=o[u],d=c.segment,h=t.timelineToDatetimeMappings[d.timeline];if(!h||!d.dateTimeObject)continue;let g=d.dateTimeObject.getTime()/1e3+h;if(d.parts&&typeof c.partIndex=="number")for(let C=0;C<c.partIndex;C++)g+=d.parts[C].duration;const y=Math.abs(n-g);if(a!==null&&(y===0||a<y))break;a=y,s={time:g,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}return s}},{name:"Segment",run:(t,e,i,r,n)=>{let s=null,a=null;n=n||0;const o=s5(e);for(let l=0;l<o.length;l++){const u=e.endList||n===0?l:o.length-(l+1),c=o[u],d=c.segment,h=c.part&&c.part.start||d&&d.start;if(d.timeline===r&&typeof h<"u"){const f=Math.abs(n-h);if(a!==null&&a<f)break;(!s||a===null||a>=f)&&(a=f,s={time:h,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,i,r,n)=>{let s=null;if(n=n||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let o=0;o<e.discontinuityStarts.length;o++){const l=e.discontinuityStarts[o],u=e.discontinuitySequence+o+1,c=t.discontinuities[u];if(c){const d=Math.abs(n-c.time);if(a!==null&&a<d)break;(!s||a===null||a>=d)&&(a=d,s={time:c.time,segmentIndex:l,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,i,r,n)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class eX extends ae.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const i=new ND,r=new C_(i),n=new C_(i);this.mediaSequenceStorage_={main:i,audio:r,vtt:n},this.logger_=ls("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,i,r,n,s){if(i!==1/0)return G4.find(({name:l})=>l==="VOD").run(this,e,i);const a=this.runStrategies_(e,i,r,n,s);if(!a.length)return null;for(const o of a){const{syncPoint:l,strategy:u}=o,{segmentIndex:c,time:d}=l;if(c<0)continue;const h=e.segments[c],f=d,g=f+h.duration;if(this.logger_(`Strategy: ${u}. Current time: ${n}. selected segment: ${c}. Time: [${f} -> ${g}]}`),n>=f&&n<g)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(a,{key:"time",value:n})}getExpiredTime(e,i){if(!e||!e.segments)return null;const r=this.runStrategies_(e,i,e.discontinuitySequence,0);if(!r.length)return null;const n=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+bh({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:n.segmentIndex,endIndex:0}))}runStrategies_(e,i,r,n,s){const a=[];for(let o=0;o<G4.length;o++){const l=G4[o],u=l.run(this,e,i,r,n,s);u&&(u.strategy=l.name,a.push({strategy:l.name,syncPoint:u}))}return a}selectSyncPoint_(e,i){let r=e[0].syncPoint,n=Math.abs(e[0].syncPoint[i.key]-i.value),s=e[0].strategy;for(let a=1;a<e.length;a++){const o=Math.abs(e[a].syncPoint[i.key]-i.value);o<n&&(n=o,r=e[a].syncPoint,s=e[a].strategy)}return this.logger_(`syncPoint for [${i.key}: ${i.value}] chosen with strategy [${s}]: [time:${r.time}, segmentIndex:${r.segmentIndex}`+(typeof r.partIndex=="number"?`,partIndex:${r.partIndex}`:"")+"]"),r}saveExpiredSegmentInfo(e,i){const r=i.mediaSequence-e.mediaSequence;if(r>QG){ae.log.warn(`Not saving expired segment info. Media sequence gap ${r} is too large.`);return}for(let n=r-1;n>=0;n--){const s=e.segments[n];if(s&&typeof s.start<"u"){i.syncInfo={mediaSequence:e.mediaSequence+n,time:s.start},this.logger_(`playlist refresh sync: [time:${i.syncInfo.time}, mediaSequence: ${i.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const i=e.segments[0],r=i.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[i.timeline]=-r}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:i}){const r=this.calculateSegmentTimeMapping_(e,e.timingInfo,i),n=e.segment;r&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:n.start}));const s=n.dateTimeObject;n.discontinuity&&i&&s&&(this.timelineToDatetimeMappings[n.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,i,r){const n=e.segment,s=e.part;let a=this.timelines[e.timeline],o,l;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-i.start},r&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,l=i.end+a.mapping;else if(a)o=i.start+a.mapping,l=i.end+a.mapping;else return!1;return s&&(s.start=o,s.end=l),(!n.start||o<n.start)&&(n.start=o),n.end=l,!0}saveDiscontinuitySyncInfo_(e){const i=e.playlist,r=e.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(i.discontinuityStarts&&i.discontinuityStarts.length)for(let n=0;n<i.discontinuityStarts.length;n++){const s=i.discontinuityStarts[n],a=i.discontinuitySequence+n+1,o=s-e.mediaIndex,l=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>l){let u;o<0?u=r.start-bh({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:e.mediaIndex,endIndex:s}):u=r.end+bh({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[a]={time:u,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class tX extends ae.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:i,to:r}){return typeof i=="number"&&typeof r=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:i,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:i,to:r}){if(typeof i=="number"&&typeof r=="number"){this.lastTimelineChanges_[e]={type:e,from:i,to:r},delete this.pendingTimelineChanges_[e];const n={timelineChangeInfo:{from:i,to:r}};this.trigger({type:"timelinechange",metadata:n})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const iX=SD(CD(function(){var t=function(){function y(){this.listeners={}}var C=y.prototype;return C.on=function(A,T){this.listeners[A]||(this.listeners[A]=[]),this.listeners[A].push(T)},C.off=function(A,T){if(!this.listeners[A])return!1;var M=this.listeners[A].indexOf(T);return this.listeners[A]=this.listeners[A].slice(0),this.listeners[A].splice(M,1),M>-1},C.trigger=function(A){var T=this.listeners[A];if(T)if(arguments.length===2)for(var M=T.length,D=0;D<M;++D)T[D].call(this,arguments[1]);else for(var B=Array.prototype.slice.call(arguments,1),F=T.length,V=0;V<F;++V)T[V].apply(this,B)},C.dispose=function(){this.listeners={}},C.pipe=function(A){this.on("data",function(T){A.push(T)})},y}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(y){return y.subarray(0,y.byteLength-y[y.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const i=function(){const y=[[[],[],[],[],[]],[[],[],[],[],[]]],C=y[0],S=y[1],A=C[4],T=S[4];let M,D,B;const F=[],V=[];let O,U,J,Y,ie,ce;for(M=0;M<256;M++)V[(F[M]=M<<1^(M>>7)*283)^M]=M;for(D=B=0;!A[D];D^=O||1,B=V[B]||1)for(Y=B^B<<1^B<<2^B<<3^B<<4,Y=Y>>8^Y&255^99,A[D]=Y,T[Y]=D,J=F[U=F[O=F[D]]],ce=J*16843009^U*65537^O*257^D*16843008,ie=F[Y]*257^Y*16843008,M=0;M<4;M++)C[M][D]=ie=ie<<24^ie>>>8,S[M][Y]=ce=ce<<24^ce>>>8;for(M=0;M<5;M++)C[M]=C[M].slice(0),S[M]=S[M].slice(0);return y};let r=null;class n{constructor(C){r||(r=i()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];let S,A,T;const M=this._tables[0][4],D=this._tables[1],B=C.length;let F=1;if(B!==4&&B!==6&&B!==8)throw new Error("Invalid aes key size");const V=C.slice(0),O=[];for(this._key=[V,O],S=B;S<4*B+28;S++)T=V[S-1],(S%B===0||B===8&&S%B===4)&&(T=M[T>>>24]<<24^M[T>>16&255]<<16^M[T>>8&255]<<8^M[T&255],S%B===0&&(T=T<<8^T>>>24^F<<24,F=F<<1^(F>>7)*283)),V[S]=V[S-B]^T;for(A=0;S;A++,S--)T=V[A&3?S:S-4],S<=4||A<4?O[A]=T:O[A]=D[0][M[T>>>24]]^D[1][M[T>>16&255]]^D[2][M[T>>8&255]]^D[3][M[T&255]]}decrypt(C,S,A,T,M,D){const B=this._key[1];let F=C^B[0],V=T^B[1],O=A^B[2],U=S^B[3],J,Y,ie;const ce=B.length/4-2;let qe,Me=4;const me=this._tables[1],be=me[0],ot=me[1],vt=me[2],$e=me[3],Je=me[4];for(qe=0;qe<ce;qe++)J=be[F>>>24]^ot[V>>16&255]^vt[O>>8&255]^$e[U&255]^B[Me],Y=be[V>>>24]^ot[O>>16&255]^vt[U>>8&255]^$e[F&255]^B[Me+1],ie=be[O>>>24]^ot[U>>16&255]^vt[F>>8&255]^$e[V&255]^B[Me+2],U=be[U>>>24]^ot[F>>16&255]^vt[V>>8&255]^$e[O&255]^B[Me+3],Me+=4,F=J,V=Y,O=ie;for(qe=0;qe<4;qe++)M[(3&-qe)+D]=Je[F>>>24]<<24^Je[V>>16&255]<<16^Je[O>>8&255]<<8^Je[U&255]^B[Me++],J=F,F=V,V=O,O=U,U=J}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(C){this.jobs.push(C),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(y){return y<<24|(y&65280)<<8|(y&16711680)>>8|y>>>24},o=function(y,C,S){const A=new Int32Array(y.buffer,y.byteOffset,y.byteLength>>2),T=new n(Array.prototype.slice.call(C)),M=new Uint8Array(y.byteLength),D=new Int32Array(M.buffer);let B,F,V,O,U,J,Y,ie,ce;for(B=S[0],F=S[1],V=S[2],O=S[3],ce=0;ce<A.length;ce+=4)U=a(A[ce]),J=a(A[ce+1]),Y=a(A[ce+2]),ie=a(A[ce+3]),T.decrypt(U,J,Y,ie,D,ce),D[ce]=a(D[ce]^B),D[ce+1]=a(D[ce+1]^F),D[ce+2]=a(D[ce+2]^V),D[ce+3]=a(D[ce+3]^O),B=U,F=J,V=Y,O=ie;return M};class l{constructor(C,S,A,T){const M=l.STEP,D=new Int32Array(C.buffer),B=new Uint8Array(C.byteLength);let F=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(D.subarray(F,F+M),S,A,B)),F=M;F<D.length;F+=M)A=new Uint32Array([a(D[F-4]),a(D[F-3]),a(D[F-2]),a(D[F-1])]),this.asyncStream_.push(this.decryptChunk_(D.subarray(F,F+M),S,A,B));this.asyncStream_.push(function(){T(null,e(B))})}static get STEP(){return 32e3}decryptChunk_(C,S,A,T){return function(){const M=o(C,S,A);T.set(M,C.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c;typeof window<"u"?c=window:typeof u<"u"?c=u:typeof self<"u"?c=self:c={};var d=c,h=function(C){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(C):C&&C.buffer instanceof ArrayBuffer},f=d.BigInt||Number;f("0x1"),f("0x100"),f("0x10000"),f("0x1000000"),f("0x100000000"),f("0x10000000000"),f("0x1000000000000"),f("0x100000000000000"),f("0x10000000000000000"),function(){var y=new Uint16Array([65484]),C=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);return C[0]===255?"big":C[0]===204?"little":"unknown"}();const g=function(y){const C={};return Object.keys(y).forEach(S=>{const A=y[S];h(A)?C[S]={bytes:A.buffer,byteOffset:A.byteOffset,byteLength:A.byteLength}:C[S]=A}),C};self.onmessage=function(y){const C=y.data,S=new Uint8Array(C.encrypted.bytes,C.encrypted.byteOffset,C.encrypted.byteLength),A=new Uint32Array(C.key.bytes,C.key.byteOffset,C.key.byteLength/4),T=new Uint32Array(C.iv.bytes,C.iv.byteOffset,C.iv.byteLength/4);new l(S,A,T,function(M,D){self.postMessage(g({source:C.source,decrypted:D}),[D.buffer])})}}));var rX=wD(iX);const nX=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},$D=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},g5=(t,e)=>{e.activePlaylistLoader=t,t.load()},sX=(t,e)=>()=>{const{segmentLoaders:{[t]:i,main:r},mediaTypes:{[t]:n}}=e,s=n.activeTrack(),a=n.getActiveGroup(),o=n.activePlaylistLoader,l=n.lastGroup_;if(!(a&&l&&a.id===l.id)&&(n.lastGroup_=a,n.lastTrack_=s,$D(i,n),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){o&&r.resetEverything();return}i.resyncLoader(),g5(a.playlistLoader,n)}},aX=(t,e)=>()=>{const{segmentLoaders:{[t]:i},mediaTypes:{[t]:r}}=e;r.lastGroup_=null,i.abort(),i.pause()},oX=(t,e)=>()=>{const{mainPlaylistLoader:i,segmentLoaders:{[t]:r,main:n},mediaTypes:{[t]:s}}=e,a=s.activeTrack(),o=s.getActiveGroup(),l=s.activePlaylistLoader,u=s.lastTrack_;if(!(u&&a&&u.id===a.id)&&(s.lastGroup_=o,s.lastTrack_=a,$D(r,s),!!o)){if(o.isMainPlaylist){if(!a||!u||a.id===u.id)return;const c=e.vhs.playlistController_,d=c.selectPlaylist();if(c.media()===d)return;s.logger_(`track change. Switching main audio from ${u.id} to ${a.id}`),i.pause(),n.resetEverything(),c.fastQualityChange_(d);return}if(t==="AUDIO"){if(!o.playlistLoader){n.setAudio(!0),n.resetEverything();return}r.setAudio(!0),n.setAudio(!1)}if(l===o.playlistLoader){g5(o.playlistLoader,s);return}r.track&&r.track(a),r.resetEverything(),g5(o.playlistLoader,s)}},Z1={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:i},excludePlaylist:r}=e,n=i.activeTrack(),s=i.activeGroup(),a=(s.filter(l=>l.default)[0]||s[0]).id,o=i.tracks[a];if(n===o){r({error:{message:"Problem encountered loading the default audio track."}});return}ae.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in i.tracks)i.tracks[l].enabled=i.tracks[l]===o;i.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:i}}=e;ae.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const r=i.activeTrack();r&&(r.mode="disabled"),i.onTrackChanged()}},k_={AUDIO:(t,e,i)=>{if(!e)return;const{tech:r,requestOptions:n,segmentLoaders:{[t]:s}}=i;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,n),(!r.paused()||a.endList&&r.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),n),r.paused()||s.load()}),e.on("error",Z1[t](t,i))},SUBTITLES:(t,e,i)=>{const{tech:r,requestOptions:n,segmentLoaders:{[t]:s},mediaTypes:{[t]:a}}=i;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,n),s.track(a.activeTrack()),(!r.paused()||o.endList&&r.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),n),r.paused()||s.load()}),e.on("error",Z1[t](t,i))}},lX={AUDIO:(t,e)=>{const{vhs:i,sourceType:r,segmentLoaders:{[t]:n},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[t]:{groups:o,tracks:l,logger_:u}},mainPlaylistLoader:c}=e,d=xp(c.main);(!a[t]||Object.keys(a[t]).length===0)&&(a[t]={main:{default:{default:!0}}},d&&(a[t].main.default.playlists=c.main.playlists));for(const h in a[t]){o[h]||(o[h]=[]);for(const f in a[t][h]){let g=a[t][h][f],y;if(d?(u(`AUDIO group '${h}' label '${f}' is a main playlist`),g.isMainPlaylist=!0,y=null):r==="vhs-json"&&g.playlists?y=new Ic(g.playlists[0],i,s):g.resolvedUri?y=new Ic(g.resolvedUri,i,s):g.playlists&&r==="dash"?y=new d5(g.playlists[0],i,s,c):y=null,g=ei({id:f,playlistLoader:y},g),k_[t](t,g.playlistLoader,e),o[h].push(g),typeof l[f]>"u"){const C=new ae.AudioTrack({id:f,kind:nX(g),enabled:!1,language:g.language,default:g.default,label:f});l[f]=C}}}n.on("error",Z1[t](t,e))},SUBTITLES:(t,e)=>{const{tech:i,vhs:r,sourceType:n,segmentLoaders:{[t]:s},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[t]:{groups:l,tracks:u}},mainPlaylistLoader:c}=e;for(const d in o[t]){l[d]||(l[d]=[]);for(const h in o[t][d]){if(!r.options_.useForcedSubtitles&&o[t][d][h].forced)continue;let f=o[t][d][h],g;if(n==="hls")g=new Ic(f.resolvedUri,r,a);else if(n==="dash"){if(!f.playlists.filter(C=>C.excludeUntil!==1/0).length)return;g=new d5(f.playlists[0],r,a,c)}else n==="vhs-json"&&(g=new Ic(f.playlists?f.playlists[0]:f.resolvedUri,r,a));if(f=ei({id:h,playlistLoader:g},f),k_[t](t,f.playlistLoader,e),l[d].push(f),typeof u[h]>"u"){const y=i.addRemoteTextTrack({id:h,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:h},!1).track;u[h]=y}}}s.on("error",Z1[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:i,main:{mediaGroups:r},mediaTypes:{[t]:{groups:n,tracks:s}}}=e;for(const a in r[t]){n[a]||(n[a]=[]);for(const o in r[t][a]){const l=r[t][a][o];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const u=i.options_.vhs&&i.options_.vhs.captionServices||{};let c={label:o,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(u[c.instreamId]&&(c=ei(c,u[c.instreamId])),c.default===void 0&&delete c.default,n[a].push(ei({id:o},l)),typeof s[o]>"u"){const d=i.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;s[o]=d}}}}},zD=(t,e)=>{for(let i=0;i<t.length;i++)if(jb(e,t[i])||t[i].playlists&&zD(t[i].playlists,e))return!0;return!1},uX=(t,e)=>i=>{const{mainPlaylistLoader:r,mediaTypes:{[t]:{groups:n}}}=e,s=r.media();if(!s)return null;let a=null;s.attributes[t]&&(a=n[s.attributes[t]]);const o=Object.keys(n);if(!a)if(t==="AUDIO"&&o.length>1&&xp(e.main))for(let l=0;l<o.length;l++){const u=n[o[l]];if(zD(u,s)){a=u;break}}else n.main?a=n.main:o.length===1&&(a=n[o[0]]);return typeof i>"u"?a:i===null||!a?null:a.filter(l=>l.id===i.id)[0]||null},cX={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:i}}}=e;for(const r in i)if(i[r].enabled)return i[r];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:i}}}=e;for(const r in i)if(i[r].mode==="showing"||i[r].mode==="hidden")return i[r];return null}},dX=(t,{mediaTypes:e})=>()=>{const i=e[t].activeTrack();return i?e[t].activeGroup(i):null},hX=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{lX[u](u,t)});const{mediaTypes:e,mainPlaylistLoader:i,tech:r,vhs:n,segmentLoaders:{["AUDIO"]:s,main:a}}=t;["AUDIO","SUBTITLES"].forEach(u=>{e[u].activeGroup=uX(u,t),e[u].activeTrack=cX[u](u,t),e[u].onGroupChanged=sX(u,t),e[u].onGroupChanging=aX(u,t),e[u].onTrackChanged=oX(u,t),e[u].getActiveGroup=dX(u,t)});const o=e.AUDIO.activeGroup();if(o){const u=(o.filter(d=>d.default)[0]||o[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}i.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanged())}),i.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"})};r.audioTracks().addEventListener("change",l),r.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),n.on("dispose",()=>{r.audioTracks().removeEventListener("change",l),r.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(const u in e.AUDIO.tracks)r.audioTracks().addTrack(e.AUDIO.tracks[u])},pX=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:za,activeTrack:za,getActiveGroup:za,onGroupChanged:za,onTrackChanged:za,lastTrack_:null,logger_:ls(`MediaGroups[${e}]`)}}),t};class T_{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=dn(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(i=>[i.ID,i])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class fX extends ae.EventTarget{constructor(e,i){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new T_,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=ls("Content Steering"),this.xhr_=e,this.getBandwidth_=i}assignTagProperties(e,i){this.manifestType_=i.serverUri?"HLS":"DASH";const r=i.serverUri||i.serverURL;if(!r){this.logger_(`steering manifest URL is ${r}, cannot request steering manifest.`),this.trigger("error");return}if(r.startsWith("data:")){this.decodeDataUriManifest_(r.substring(r.indexOf(",")+1));return}this.steeringManifest.reloadUri=dn(e,r),this.defaultPathway=i.pathwayId||i.defaultServiceLocation,this.queryBeforeStart=i.queryBeforeStart,this.proxyServerUrl_=i.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const i=this.steeringManifest.reloadUri;if(!i)return;const r=e?i:this.getRequestURI(i);if(!r){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const n={contentSteeringInfo:{uri:r}};this.trigger({type:"contentsteeringloadstart",metadata:n}),this.request_=this.xhr_({uri:r,requestType:"content-steering-manifest"},(s,a)=>{if(s){if(a.status===410){this.logger_(`manifest request 410 ${s}.`),this.logger_(`There will be no more content steering requests to ${r} this session.`),this.excludedSteeringManifestURLs.add(r);return}if(a.status===429){const u=a.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${s}.`),this.logger_(`content steering will retry in ${u} seconds.`),this.startTTLTimeout_(parseInt(u,10));return}this.logger_(`manifest failed to load ${s}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:n});let o;try{o=JSON.parse(this.request_.responseText)}catch(u){const c={errorType:ae.Error.StreamingContentSteeringParserError,error:u};this.trigger({type:"error",metadata:c})}this.assignSteeringProperties_(o);const l={contentSteeringInfo:n.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const i=new H.URL(e),r=new H.URL(this.proxyServerUrl_);return r.searchParams.set("url",encodeURI(i.toString())),this.setSteeringParams_(r.toString())}decodeDataUriManifest_(e){const i=JSON.parse(H.atob(e));this.assignSteeringProperties_(i)}setSteeringParams_(e){const i=new H.URL(e),r=this.getPathway(),n=this.getBandwidth_();if(r){const s=`_${this.manifestType_}_pathway`;i.searchParams.set(s,r)}if(n){const s=`_${this.manifestType_}_throughput`;i.searchParams.set(s,n)}return i.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const r=(n=>{for(const s of n)if(this.availablePathways_.has(s))return s;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==r&&(this.currentPathway=r,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const i=n=>this.excludedSteeringManifestURLs.has(n);if(this.proxyServerUrl_){const n=this.setProxyServerUrl_(e);if(!i(n))return n}const r=this.setSteeringParams_(e);return i(r)?null:r}startTTLTimeout_(e=this.steeringManifest.ttl){const i=e*1e3;this.ttlTimeout_=H.setTimeout(()=>{this.requestSteeringManifest()},i)}clearTTLTimeout_(){H.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new T_}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,i){return!i&&this.steeringManifest.reloadUri||i&&(dn(e,i.serverURL)!==this.steeringManifest.reloadUri||i.defaultServiceLocation!==this.defaultPathway||i.queryBeforeStart!==this.queryBeforeStart||i.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const mX=10;let Sa;const gX=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],yX=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},vX=function({currentPlaylist:t,buffered:e,currentTime:i,nextPlaylist:r,bufferLowWaterLine:n,bufferHighWaterLine:s,duration:a,bufferBasedABR:o,log:l}){if(!r)return ae.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u=`allowing switch ${t&&t.id||"null"} -> ${r.id}`;if(!t)return l(`${u} as current playlist is not set`),!0;if(r.id===t.id)return!1;const c=!!Pc(e,i).length;if(!t.endList)return!c&&typeof t.partTargetDuration=="number"?(l(`not ${u} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${u} as current playlist is live`),!0);const d=zb(e,i),h=o?cr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:cr.MAX_BUFFER_LOW_WATER_LINE;if(a<h)return l(`${u} as duration < max low water line (${a} < ${h})`),!0;const f=r.attributes.BANDWIDTH,g=t.attributes.BANDWIDTH;if(f<g&&(!o||d<s)){let y=`${u} as next bandwidth < current bandwidth (${f} < ${g})`;return o&&(y+=` and forwardBuffer < bufferHighWaterLine (${d} < ${s})`),l(y),!0}if((!o||f>g)&&d>=n){let y=`${u} as forwardBuffer >= bufferLowWaterLine (${d} >= ${n})`;return o&&(y+=` and next bandwidth > current bandwidth (${f} > ${g})`),l(y),!0}return l(`not ${u} as no switching criteria met`),!1};class bX extends ae.EventTarget{constructor(e){super();const{src:i,withCredentials:r,tech:n,bandwidth:s,externVhs:a,useCueTags:o,playlistExclusionDuration:l,enableLowInitialPlaylist:u,sourceType:c,cacheEncryptionKeys:d,bufferBasedABR:h,leastPixelDiffSelector:f,captionServices:g}=e;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:y}=e;(y===null||typeof y>"u")&&(y=1/0),Sa=a,this.bufferBasedABR=!!h,this.leastPixelDiffSelector=!!f,this.withCredentials=r,this.tech_=n,this.vhs_=n.vhs,this.player_=e.player_,this.sourceType_=c,this.useCueTags_=o,this.playlistExclusionDuration=l,this.maxPlaylistRetries=y,this.enableLowInitialPlaylist=u,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:r,maxPlaylistRetries:y,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=pX(),this.mediaSource=new H.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=xr(),this.hasPlayed_=!1,this.syncController_=new eX(e),this.segmentMetadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new rX,this.sourceUpdater_=new FD(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new tX,this.keyStatusMap_=new Map;const C={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:g,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:d,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new d5(i,this.vhs_,ei(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Ic(i,this.vhs_,ei(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new f5(ei(C,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new f5(ei(C,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new XG(ei(C,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((T,M)=>{function D(){n.off("vttjserror",B),T()}function B(){n.off("vttjsloaded",D),M()}n.one("vttjsloaded",D),n.one("vttjserror",B),n.addWebVttScript_()})}),e);const S=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new fX(this.vhs_.xhr,S),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),gX.forEach(T=>{this[T+"_"]=yX.bind(this,T)}),this.logger_=ls("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const A=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(A,()=>{const T=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-T,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),i=this.audioAppendsToLoadedData_();return e===-1||i===-1?-1:e+i}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const i=this.selectPlaylist();i&&this.shouldSwitchToMedia_(i)&&this.switchMedia_(i,e)}switchMedia_(e,i,r){const n=this.media(),s=n&&(n.id||n.uri),a=e&&(e.id||e.uri);if(s&&s!==a){this.logger_(`switch media ${s} -> ${a} from ${i}`);const o={renditionInfo:{id:a,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:i};this.trigger({type:"renditionselected",metadata:o}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${i}`})}this.mainPlaylistLoader_.media(e,r)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const i=this.mediaTypes_[e],r=i?i.activeGroup():null,n=this.contentSteeringController_.getPathway();if(r&&n){const a=(r.length?r[0].playlists:r.playlists).filter(o=>o.attributes.serviceLocation===n);a.length&&this.mediaTypes_[e].activePlaylistLoader.media(a[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=H.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(H.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),i=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return i;const r=e.mediaGroups.AUDIO,n=Object.keys(r);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const o=r.main||n.length&&r[n[0]];for(const l in o)if(o[l].default){s={label:l};break}}if(!s)return i;const a=[];for(const o in r)if(r[o][s.label]){const l=r[o][s.label];if(l.playlists&&l.playlists.length)a.push.apply(a,l.playlists);else if(l.uri)a.push(l);else if(e.playlists.length)for(let u=0;u<e.playlists.length;u++){const c=e.playlists[u];c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===o&&a.push(c)}}return a.length?a:i}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const i=this.mainPlaylistLoader_.media(),r=i.targetDuration*1.5*1e3;a5(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,i.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(i,this.requestOptions_),this.mainSegmentLoader_.load()),hX({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),i),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let i=this.mainPlaylistLoader_.media();if(!i){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let r;if(this.enableLowInitialPlaylist&&(r=this.selectInitialPlaylist()),r||(r=this.selectPlaylist()),!r||!this.shouldSwitchToMedia_(r)||(this.initialMedia_=r,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;i=this.initialMedia_}this.handleUpdatedMediaPlaylist(i)}),this.mainPlaylistLoader_.on("error",()=>{const i=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:i.playlist,error:i})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const i=this.mainPlaylistLoader_.media(),r=i.targetDuration*1.5*1e3;a5(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,this.sourceType_==="dash"&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(i,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const i=this.mainPlaylistLoader_.media();if(i.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(i)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(i=>{this.mainPlaylistLoader_.on(i,r=>{this.player_.trigger(Bi({},r))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,i){const r=e.mediaGroups||{};let n=!0;const s=Object.keys(r.AUDIO);for(const a in r.AUDIO)for(const o in r.AUDIO[a])r.AUDIO[a][o].uri||(n=!1);n&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Sa.Playlist.isAes(i)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(r.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const i=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,r=this.tech_.currentTime(),n=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),a=this.tech_.buffered();return vX({buffered:a,currentTime:r,currentPlaylist:i,nextPlaylist:e,bufferLowWaterLine:n,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const r=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.sourceType_==="dash"&&this.timelineChangeController_.on("audioTimelineBehind",()=>{const r=this.audioSegmentLoader_.pendingSegment_;if(!r||!r.segment||!r.segment.syncInfo)return;const n=r.segment.syncInfo.end+.01;this.tech_.setCurrentTime(n)}),this.mainSegmentLoader_.on("earlyabort",r=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:mX}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const r=this.getCodecsOrExclude_();r&&this.sourceUpdater_.addOrChangeSourceBuffers(r)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(r=>{this.mainSegmentLoader_.on(r,n=>{this.player_.trigger(Bi({},n))}),this.audioSegmentLoader_.on(r,n=>{this.player_.trigger(Bi({},n))}),this.subtitleSegmentLoader_.on(r,n=>{this.player_.trigger(Bi({},n))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(()=>{this.mainSegmentLoader_.load()})}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const i=this.seekable();if(!i.length)return!1;const r=i.end(0);let n=r;if(e.start){const s=e.start.timeOffset;s<0?n=Math.max(r+s,i.start(0)):n=Math.min(r,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(n)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,i=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const i=this.duration();e[e.length-1].endTime=isNaN(i)||Math.abs(i)===1/0?Number.MAX_VALUE:i}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const i=this.mainSegmentLoader_.getCurrentMediaInfo_();!i||i.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const r=this.syncController_.getExpiredTime(e,this.duration());if(r===null)return!1;const n=Sa.Playlist.playlistEnd(e,r),s=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return n-s<=Js;const o=a.end(a.length-1);return o-s<=Js&&n-o<=Js}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:i={},playlistExclusionDuration:r}){if(e=e||this.mainPlaylistLoader_.media(),r=r||i.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=i,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const n=this.mainPlaylistLoader_.main.playlists,s=n.filter(g2),a=s.length===1&&s[0]===e;if(n.length===1&&r!==1/0)return ae.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const g=this.pathwayAttribute_(e),y=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(g),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(g)},y);return}let f=!1;n.forEach(g=>{if(g===e)return;const y=g.excludeUntil;typeof y<"u"&&y!==1/0&&(f=!0,delete g.excludeUntil)}),f&&(ae.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;e.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+r*1e3,e.excludeUntil=o,i.reason&&(e.lastExcludeReason_=i.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=i.internal?this.logger_:ae.log.warn,c=i.message?" "+i.message:"";u(`${i.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${c} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const d=l.targetDuration/2*1e3||5*1e3,h=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=d;return this.switchMedia_(l,"exclude",a||h)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,i){const r=[],n=e==="all";(n||e==="main")&&r.push(this.mainPlaylistLoader_);const s=[];(n||e==="audio")&&s.push("AUDIO"),(n||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(a=>{const o=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;o&&r.push(o)}),["main","audio","subtitle"].forEach(a=>{const o=this[`${a}SegmentLoader_`];o&&(e===a||e==="all")&&r.push(o)}),r.forEach(a=>i.forEach(o=>{typeof a[o]=="function"&&a[o]()}))}setCurrentTime(e){const i=Pc(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(i&&i.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Sa.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let i=this.mainPlaylistLoader_.media();if(!i)return;let r=this.syncController_.getExpiredTime(i,this.duration());if(r===null)return;const n=this.mainPlaylistLoader_.main,s=Sa.Playlist.seekable(i,r,Sa.Playlist.liveEdgeDelay(n,i));if(s.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(i=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),r=this.syncController_.getExpiredTime(i,this.duration()),r===null||(e=Sa.Playlist.seekable(i,r,Sa.Playlist.liveEdgeDelay(n,i)),e.length===0)))return;let a,o;if(this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),o=this.seekable_.start(0)),e?e.start(0)>s.end(0)||s.start(0)>e.end(0)?this.seekable_=s:this.seekable_=xr([[e.start(0)>s.start(0)?e.start(0):s.start(0),e.end(0)<s.end(0)?e.end(0):s.end(0)]]):this.seekable_=s,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===o)return;this.logger_(`seekable updated [${JM(this.seekable_)}]`);const l={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:l}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const n=this.seekable();if(!n.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<n.end(n.length-1))&&this.sourceUpdater_.setDuration(n.end(n.length-1));return}const i=this.tech_.buffered();let r=Sa.Playlist.duration(this.mainPlaylistLoader_.media());i.length>0&&(r=Math.max(r,i.end(i.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const i=this.mediaTypes_[e].groups;for(const r in i)i[r].forEach(n=>{n.playlistLoader&&n.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,i=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),r=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!i||!r)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},i=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const r=_h(this.main(),i),n={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(n.video=r.video||e.main.videoCodec||Rj),e.main.isMuxed&&(n.video+=`,${r.audio||e.main.audioCodec||ox}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(n.audio=r.audio||e.main.audioCodec||e.audio.audioCodec||ox,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!n.audio&&!n.video){this.excludePlaylist({playlistToExclude:i,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(u,c)=>u?Ym(c):L4(c),o={};let l;if(["video","audio"].forEach(function(u){if(n.hasOwnProperty(u)&&!a(e[u].isFmp4,n[u])){const c=e[u].isFmp4?"browser":"muxer";o[c]=o[c]||[],o[c].push(n[u]),u==="audio"&&(l=c)}}),s&&l&&i.attributes.AUDIO){const u=i.attributes.AUDIO;this.main().playlists.forEach(c=>{(c.attributes&&c.attributes.AUDIO)===u&&c!==i&&(c.excludeUntil=1/0)}),this.logger_(`excluding audio group ${u} as ${l} does not support codec(s): "${n.audio}"`)}if(Object.keys(o).length){const u=Object.keys(o).reduce((c,d)=>(c&&(c+=", "),c+=`${d} does not support codec(s): "${o[d].join(",")}"`,c),"")+".";this.excludePlaylist({playlistToExclude:i,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(c=>{const d=(Vs(this.sourceUpdater_.codecs[c]||"")[0]||{}).type,h=(Vs(n[c]||"")[0]||{}).type;d&&h&&d.toLowerCase()!==h.toLowerCase()&&u.push(`"${this.sourceUpdater_.codecs[c]}" -> "${n[c]}"`)}),u.length){this.excludePlaylist({playlistToExclude:i,error:{message:`Codec switching not supported: ${u.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return n}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const i=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(i)}excludeUnsupportedVariants_(){const e=this.main().playlists,i=[];Object.keys(e).forEach(r=>{const n=e[r];if(i.indexOf(n.id)!==-1)return;i.push(n.id);const s=_h(this.main,n),a=[];s.audio&&!L4(s.audio)&&!Ym(s.audio)&&a.push(`audio codec ${s.audio}`),s.video&&!L4(s.video)&&!Ym(s.video)&&a.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&a.push(`text codec ${s.text}`),a.length&&(n.excludeUntil=1/0,this.logger_(`excluding ${n.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const i=[],r=this.main().playlists,n=X1(Vs(e)),s=p_(n),a=n.video&&Vs(n.video)[0]||null,o=n.audio&&Vs(n.audio)[0]||null;Object.keys(r).forEach(l=>{const u=r[l];if(i.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;i.push(u.id);const c=[],d=_h(this.mainPlaylistLoader_.main,u),h=p_(d);if(!(!d.audio&&!d.video)){if(h!==s&&c.push(`codec count "${h}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const f=d.video&&Vs(d.video)[0]||null,g=d.audio&&Vs(d.audio)[0]||null;f&&a&&f.type.toLowerCase()!==a.type.toLowerCase()&&c.push(`video codec "${f.type}" !== "${a.type}"`),g&&o&&g.type.toLowerCase()!==o.type.toLowerCase()&&c.push(`audio codec "${g.type}" !== "${o.type}"`)}c.length&&(u.excludeUntil=1/0,this.logger_(`excluding ${u.id}: ${c.join(" && ")}`))}})}updateAdCues_(e){let i=0;const r=this.seekable();r.length&&(i=r.start(0)),ZG(e,this.cueTagsTrack_,i)}goalBufferLength(){const e=this.tech_.currentTime(),i=cr.GOAL_BUFFER_LENGTH,r=cr.GOAL_BUFFER_LENGTH_RATE,n=Math.max(i,cr.MAX_GOAL_BUFFER_LENGTH);return Math.min(i+e*r,n)}bufferLowWaterLine(){const e=this.tech_.currentTime(),i=cr.BUFFER_LOW_WATER_LINE,r=cr.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(i,cr.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(i,cr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(i+e*r,this.bufferBasedABR?s:n)}bufferHighWaterLine(){return cr.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){g_(this.inbandTextTracks_,"com.apple.streaming",this.tech_),MG({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,i,r){const n=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();g_(this.inbandTextTracks_,e,this.tech_),TG({inbandTextTracks:this.inbandTextTracks_,metadataArray:i,timestampOffset:n,videoDuration:r})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const i of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(i));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(i=>{this.contentSteeringController_.on(i,r=>{this.trigger(Bi({},r))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const i=this.main();(this.contentSteeringController_.didDASHTagChange(i.uri,i.contentSteering)||(()=>{const s=this.contentSteeringController_.getAvailablePathways(),a=[];for(const o of i.playlists){const l=o.attributes.serviceLocation;if(l&&(a.push(l),!s.has(l)))return!0}return!!(!a.length&&s.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const r=this.main().playlists,n=new Set;let s=!1;Object.keys(r).forEach(a=>{const o=r[a],l=this.pathwayAttribute_(o),u=l&&e!==l;o.excludeUntil===1/0&&o.lastExcludeReason_==="content-steering"&&!u&&(delete o.excludeUntil,delete o.lastExcludeReason_,s=!0);const d=!o.excludeUntil&&o.excludeUntil!==1/0;!n.has(o.id)&&u&&d&&(n.add(o.id),o.excludeUntil=1/0,o.lastExcludeReason_="content-steering",this.logger_(`excluding ${o.id} for ${o.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(a=>{const o=this.mediaTypes_[a];if(o.activePlaylistLoader){const l=o.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(s=!0)}}),s&&this.changeSegmentPathway_()}handlePathwayClones_(){const i=this.main().playlists,r=this.contentSteeringController_.currentPathwayClones,n=this.contentSteeringController_.nextPathwayClones;if(r&&r.size||n&&n.size){for(const[a,o]of r.entries())n.get(a)||(this.mainPlaylistLoader_.updateOrDeleteClone(o),this.contentSteeringController_.excludePathway(a));for(const[a,o]of n.entries()){const l=r.get(a);if(!l){i.filter(c=>c.attributes["PATHWAY-ID"]===o["BASE-ID"]).forEach(c=>{this.mainPlaylistLoader_.addClonePathway(o,c)}),this.contentSteeringController_.addAvailablePathway(a);continue}this.equalPathwayClones_(l,o)||(this.mainPlaylistLoader_.updateOrDeleteClone(o,!0),this.contentSteeringController_.addAvailablePathway(a))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...n])))}}equalPathwayClones_(e,i){if(e["BASE-ID"]!==i["BASE-ID"]||e.ID!==i.ID||e["URI-REPLACEMENT"].HOST!==i["URI-REPLACEMENT"].HOST)return!1;const r=e["URI-REPLACEMENT"].PARAMS,n=i["URI-REPLACEMENT"].PARAMS;for(const s in r)if(r[s]!==n[s])return!1;for(const s in n)if(r[s]!==n[s])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const i="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(r=>{const n=this.mainPlaylistLoader_.getKeyIdSet(r);!n||!n.size||n.forEach(s=>{const a="usable",o=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===a,l=r.lastExcludeReason_===i&&r.excludeUntil===1/0;o?o&&l&&(delete r.excludeUntil,delete r.lastExcludeReason_,this.logger_(`enabling playlist ${r.id} because key ID ${s} is ${a}`)):(r.excludeUntil!==1/0&&r.lastExcludeReason_!==i&&(r.excludeUntil=1/0,r.lastExcludeReason_=i,this.logger_(`excluding playlist ${r.id} because the key ID ${s} doesn't exist in the keyStatusMap or is not ${a}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(r=>{const n=r&&r.attributes&&r.attributes.RESOLUTION&&r.attributes.RESOLUTION.height<720,s=r.excludeUntil===1/0&&r.lastExcludeReason_===i;n&&s&&(delete r.excludeUntil,ae.log.warn(`enabling non-HD playlist ${r.id} because all playlists were excluded due to ${i} key IDs`))})}addKeyStatus_(e,i){const s=(typeof e=="string"?e:WG(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${i}' with key ID ${s} added to the keyStatusMap`),this.keyStatusMap_.set(s,i)}updatePlaylistByKeyStatus(e,i){this.addKeyStatus_(e,i),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const xX=(t,e,i)=>r=>{const n=t.main.playlists[e],s=qb(n),a=g2(n);if(typeof r>"u")return a;r?delete n.disabled:n.disabled=!0;const o={renditionInfo:{id:e,bandwidth:n.attributes.BANDWIDTH,resolution:n.attributes.RESOLUTION,codecs:n.attributes.CODECS},cause:"fast-quality"};return r!==a&&!s&&(i(n),r?t.trigger({type:"renditionenabled",metadata:o}):t.trigger({type:"renditiondisabled",metadata:o})),r};class _X{constructor(e,i,r){const{playlistController_:n}=e,s=n.fastQualityChange_.bind(n);if(i.attributes){const a=i.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=i.attributes.BANDWIDTH,this.frameRate=i.attributes["FRAME-RATE"]}this.codecs=_h(n.main(),i),this.playlist=i,this.id=r,this.enabled=xX(e.playlists,i.id,s)}}const wX=function(t){t.representations=()=>{const e=t.playlistController_.main(),i=xp(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return i?i.filter(r=>!qb(r)).map((r,n)=>new _X(t,r,r.id)):[]}},E_=["seeking","seeked","pause","playing","error"];class SX extends ae.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=ls("PlaybackWatcher"),this.logger_("initialize");const i=()=>this.monitorCurrentTime_(),r=()=>this.monitorCurrentTime_(),n=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),a=this.playlistController_,o=["main","subtitle","audio"],l={};o.forEach(c=>{l[c]={reset:()=>this.resetSegmentDownloads_(c),updateend:()=>this.checkSegmentDownloads_(c)},a[`${c}SegmentLoader_`].on("appendsdone",l[c].updateend),a[`${c}SegmentLoader_`].on("playlistupdate",l[c].reset),this.tech_.on(["seeked","seeking"],l[c].reset)});const u=c=>{["main","audio"].forEach(d=>{a[`${d}SegmentLoader_`][c]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",n),this.tech_.on(E_,s),this.tech_.on("canplay",r),this.tech_.one("play",i),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",n),this.tech_.off(E_,s),this.tech_.off("canplay",r),this.tech_.off("play",i),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(c=>{a[`${c}SegmentLoader_`].off("appendsdone",l[c].updateend),a[`${c}SegmentLoader_`].off("playlistupdate",l[c].reset),this.tech_.off(["seeked","seeking"],l[c].reset)}),this.checkCurrentTimeTimeout_&&H.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&H.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=H.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const i=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=i.buffered_()}checkSegmentDownloads_(e){const i=this.playlistController_,r=i[`${e}SegmentLoader_`],n=r.buffered_(),s=uW(this[`${e}Buffered_`],n);if(this[`${e}Buffered_`]=n,s){const a={bufferedRanges:n};i.trigger({type:"bufferedrangeschanged",metadata:a}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:r.playlist_&&r.playlist_.id,buffered:hu(n)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&i.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),i=this.tech_.buffered();if(this.lastRecordedTime===e&&(!i.length||e+Js>=i.end(i.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(xr([this.lastRecordedTime,e]));const r={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:r}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const i=this.seekable(),r=this.tech_.currentTime(),n=this.afterSeekableWindow_(i,r,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(n&&(s=i.end(i.length-1)),this.beforeSeekableWindow_(i,r)){const g=i.start(0);s=g+(g===i.end(0)?0:Js)}if(typeof s<"u")return this.logger_(`Trying to seek outside of seekable at time ${r} with seekable range ${JM(i)}. Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0;const a=this.playlistController_.sourceUpdater_,o=this.tech_.buffered(),l=a.audioBuffer?a.audioBuffered():null,u=a.videoBuffer?a.videoBuffered():null,c=this.media(),d=c.partTargetDuration?c.partTargetDuration:(c.targetDuration-Zs)*2,h=[l,u];for(let g=0;g<h.length;g++){if(!h[g])continue;if(zb(h[g],r)<d)return!1}const f=Cf(o,r);return f.length===0?!1:(s=f.start(0)+Js,this.logger_(`Buffered region starts (${f.start(0)})  just beyond seek point (${r}). Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),i=this.tech_.buffered(),r=Pc(i,e);if(r.length&&e+3<=r.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${r.start(0)} -> ${r.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),i=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,i)){const o=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${i}. Seeking to live point (seekable end) ${o}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const r=this.tech_.vhs.playlistController_.sourceUpdater_,n=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:i}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const a=Cf(n,i);return a.length>0?(this.logger_(`Stopped at ${i} and seeking to ${a.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(i),!0):!1}afterSeekableWindow_(e,i,r,n=!1){if(!e.length)return!1;let s=e.end(e.length-1)+Js;const a=!r.endList,o=typeof r.partTargetDuration=="number";return a&&(o||n)&&(s=e.end(e.length-1)+r.targetDuration*3),i>s}beforeSeekableWindow_(e,i){return!!(e.length&&e.start(0)>0&&i<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:i,currentTime:r}){if(!e)return;let n;if(e.length&&i.length){const s=Pc(e,r-3),a=Pc(e,r),o=Pc(i,r);o.length&&!a.length&&s.length&&(n={start:s.end(0),end:o.end(0)})}else Cf(e,r).length||(n=this.gapFromVideoUnderflow_(e,r));return n?(this.logger_(`Encountered a gap in video from ${n.start} to ${n.end}. Seeking to current time ${r}`),!0):!1}skipTheGap_(e){const i=this.tech_.buffered(),r=this.tech_.currentTime(),n=Cf(i,r);if(this.resetTimeUpdate_(),n.length===0||r!==e)return;this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+Zs);const s={gapInfo:{from:r,to:n.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:s}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,i){const r=aW(e);for(let n=0;n<r.length;n++){const s=r.start(n),a=r.end(n);if(i-s<4&&i-s>2)return{start:s,end:a}}return null}}const CX={errorInterval:30,getSource(t){const i=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(i)}},UD=function(t,e){let i=0,r=0;const n=ei(CX,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){r&&t.currentTime(r)},a=function(c){c!=null&&(r=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(c),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},o=function(){if(Date.now()-i<n.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!n.getSource||typeof n.getSource!="function"){ae.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),n.getSource.call(t,a)},l=function(){t.off("loadedmetadata",s),t.off("error",o),t.off("dispose",l)},u=function(c){l(),UD(t,c)};t.on("error",o),t.on("dispose",l),t.reloadSourceOnError=u},kX=function(t){UD(this,t)};var qD="3.13.3",TX="7.0.3",EX="1.3.0",AX="7.1.0",MX="4.0.1";const ki={PlaylistLoader:Ic,Playlist:hn,utils:PW,STANDARD_PLAYLIST_SELECTOR:m_,INITIAL_PLAYLIST_SELECTOR:_G,lastBandwidthSelector:m_,movingAverageBandwidthSelector:bG,comparePlaylistBandwidth:Hb,comparePlaylistResolution:vG,xhr:mD()};Object.keys(cr).forEach(t=>{Object.defineProperty(ki,t,{get(){return ae.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),cr[t]},set(e){if(ae.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){ae.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}cr[t]=e}})});const jD="videojs-vhs",VD=function(t,e){const i=e.media();let r=-1;for(let n=0;n<t.length;n++)if(t[n].id===i.id){r=n;break}t.selectedIndex_=r,t.trigger({selectedIndex:r,type:"change"})},DX=function(t,e){e.representations().forEach(i=>{t.addQualityLevel(i)}),VD(t,e.playlists)};ki.canPlaySource=function(){return ae.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const LX=(t,e,i)=>{if(!t)return t;let r={};e&&e.attributes&&e.attributes.CODECS&&(r=X1(Vs(e.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(r.audio=i.attributes.CODECS);const n=Uh(r.video),s=Uh(r.audio),a={};for(const o in t)a[o]={},s&&(a[o].audioContentType=s),n&&(a[o].videoContentType=n),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(a[o].pssh=e.contentProtection[o].pssh),typeof t[o]=="string"&&(a[o].url=t[o]);return ei(t,a)},BX=(t,e)=>t.reduce((i,r)=>{if(!r.contentProtection)return i;const n=e.reduce((s,a)=>{const o=r.contentProtection[a];return o&&o.pssh&&(s[a]={pssh:o.pssh}),s},{});return Object.keys(n).length&&i.push(n),i},[]),PX=({player:t,sourceKeySystems:e,audioMedia:i,mainPlaylists:r})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const n=i?r.concat([i]):r,s=BX(n,Object.keys(e)),a=[],o=[];return s.forEach(l=>{o.push(new Promise((u,c)=>{t.tech_.one("keysessioncreated",u)})),a.push(new Promise((u,c)=>{t.eme.initializeMediaKeys({keySystems:l},d=>{if(d){c(d);return}u()})}))}),Promise.race([Promise.all(a),Promise.race(o)])},IX=({player:t,sourceKeySystems:e,media:i,audioMedia:r})=>{const n=LX(e,i,r);return n?(t.currentSource().keySystems=n,n&&!t.eme?(ae.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},HD=()=>{if(!H.localStorage)return null;const t=H.localStorage.getItem(jD);if(!t)return null;try{return JSON.parse(t)}catch{return null}},RX=t=>{if(!H.localStorage)return!1;let e=HD();e=e?ei(e,t):t;try{H.localStorage.setItem(jD,JSON.stringify(e))}catch{return!1}return e},OX=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,KD=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},WD=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},GD=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},XD=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};ki.supportsNativeHls=function(){if(!Pe||!Pe.createElement)return!1;const t=Pe.createElement("video");return ae.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(i){return/maybe|probably/i.test(t.canPlayType(i))}):!1}();ki.supportsNativeDash=function(){return!Pe||!Pe.createElement||!ae.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Pe.createElement("video").canPlayType("application/dash+xml"))}();ki.supportsTypeNatively=t=>t==="hls"?ki.supportsNativeHls:t==="dash"?ki.supportsNativeDash:!1;ki.isSupported=function(){return ae.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};ki.xhr.onRequest=function(t){KD(ki.xhr,t)};ki.xhr.onResponse=function(t){WD(ki.xhr,t)};ki.xhr.offRequest=function(t){GD(ki.xhr,t)};ki.xhr.offResponse=function(t){XD(ki.xhr,t)};const FX=ae.getComponent("Component");class YD extends FX{constructor(e,i,r){if(super(i,r.vhs),typeof r.initialBandwidth=="number"&&(this.options_.bandwidth=r.initialBandwidth),this.logger_=ls("VhsHandler"),i.options_&&i.options_.playerId){const n=ae.getPlayer(i.options_.playerId);this.player_=n}if(this.tech_=i,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Pe,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],n=>{const s=Pe.fullscreenElement||Pe.webkitFullscreenElement||Pe.mozFullScreenElement||Pe.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=ei(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const r=HD();r&&r.bandwidth&&(this.options_.bandwidth=r.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),r&&r.throughput&&(this.options_.throughput=r.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=cr.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===cr.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(r=>{typeof this.source_[r]<"u"&&(this.options_[r]=this.source_[r])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const i=this.options_.customPixelRatio;typeof i=="number"&&i>=0&&(this.customPixelRatio=i)}setOptions(e={}){this.setOptions_(e)}src(e,i){if(!e)return;this.setOptions_(),this.options_.src=OX(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=ki,this.options_.sourceType=qE(i),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.options_.player_=this.player_,this.playlistController_=new bX(this.options_);const r=ei({liveRangeSafeTimeDelta:Js},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new SX(r),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const s=ae.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),s.error(a)});const n=this.options_.bufferBasedABR?ki.movingAverageBandwidthSelector(.55):ki.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):n.bind(this),this.playlistController_.selectInitialPlaylist=ki.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const a=H.navigator.connection||H.navigator.mozConnection||H.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&a){const l=a.downlink*1e3*1e3;l>=o&&s>=o?s=Math.max(s,l):s=l}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(s+a))},set(){ae.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>hu(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>hu(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&RX({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{wX(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=H.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),PX({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(i=>{this.logger_("error while creating EME key session",i),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,i=IX({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",r=>{this.playlistController_.updatePlaylistByKeyStatus(r.keyId,r.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!i){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=ae.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{DX(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{VD(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":qD,"mux.js":TX,"mpd-parser":EX,"m3u8-parser":AX,"aes-decrypter":MX}}version(){return this.constructor.version()}canChangeType(){return FD.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&H.URL.revokeObjectURL&&(H.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,i){return zW({playlist:this.playlistController_.media(),time:e,callback:i})}seekToProgramTime(e,i,r=!0,n=2){return xD({programTime:e,playlist:this.playlistController_.media(),retryCount:n,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:i})}setupXhrHooks_(){this.xhr.onRequest=e=>{KD(this.xhr,e)},this.xhr.onResponse=e=>{WD(this.xhr,e)},this.xhr.offRequest=e=>{GD(this.xhr,e)},this.xhr.offResponse=e=>{XD(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],i=["gapjumped","playedrangeschanged"];e.forEach(r=>{this.playlistController_.on(r,n=>{this.player_.trigger(Bi({},n))})}),i.forEach(r=>{this.playbackWatcher_.on(r,n=>{this.player_.trigger(Bi({},n))})})}}const J1={name:"videojs-http-streaming",VERSION:qD,canHandleSource(t,e={}){const i=ei(ae.options,e);return J1.canPlayType(t.type,i)},handleSource(t,e,i={}){const r=ei(ae.options,i);return e.vhs=new YD(t,e,r),e.vhs.xhr=mD(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const i=qE(t);if(!i)return"";const r=J1.getOverrideNative(e);return!ki.supportsTypeNatively(i)||r?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,i=!(ae.browser.IS_ANY_SAFARI||ae.browser.IS_IOS),{overrideNative:r=i}=e;return r}},NX=()=>Ym("avc1.4d400d,mp4a.40.2");NX()&&ae.getTech("Html5").registerSourceHandler(J1,0);ae.VhsHandler=YD;ae.VhsSourceHandler=J1;ae.Vhs=ki;ae.use||ae.registerComponent("Vhs",ki);ae.options.vhs=ae.options.vhs||{};(!ae.getPlugin||!ae.getPlugin("reloadSourceOnError"))&&ae.registerPlugin("reloadSourceOnError",kX);const $X=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));var zX={exports:{}};const UX=jv($X);(function(t,e){(function(i,r){{var n=UX;t.exports=r(n.default||n)}})(Ya,function(i){var r=i.browser.IS_IOS||i.browser.IS_NATIVE_ANDROID,n=i.getTech("Tech");class s extends n{constructor(c,d){super(c,d),this.setPoster(c.poster),this.setSrc(this.options_.source,!0),this.setTimeout((function(){this.el_&&(this.el_.parentNode.className+=" vjs-youtube",r&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),s.isApiReady?this.initYTPlayer():s.apiReadyQueue.push(this))}).bind(this))}dispose(){if(this.ytPlayer)this.ytPlayer.stopVideo&&this.ytPlayer.stopVideo(),this.ytPlayer.destroy&&this.ytPlayer.destroy();else{var c=s.apiReadyQueue.indexOf(this);c!==-1&&s.apiReadyQueue.splice(c,1)}this.ytPlayer=null,this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile",""),this.el_.parentNode.removeChild(this.el_),n.prototype.dispose.call(this)}createEl(){var c=document.createElement("div");c.setAttribute("id",this.options_.techId),c.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute"),c.setAttribute("class","vjs-tech");var d=document.createElement("div");if(d.appendChild(c),!r&&!this.options_.ytControls){var h=document.createElement("div");h.setAttribute("class","vjs-iframe-blocker"),h.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),h.onclick=(function(){this.pause()}).bind(this),d.appendChild(h)}return d}initYTPlayer(){var c={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(typeof this.options_.autohide<"u"&&(c.autohide=this.options_.autohide),typeof this.options_.cc_load_policy<"u"&&(c.cc_load_policy=this.options_.cc_load_policy),typeof this.options_.ytControls<"u"&&(c.controls=this.options_.ytControls),typeof this.options_.disablekb<"u"&&(c.disablekb=this.options_.disablekb),typeof this.options_.color<"u"&&(c.color=this.options_.color),c.controls?typeof this.options_.fs<"u"&&(c.fs=this.options_.fs):c.fs=0,this.options_.source.src.indexOf("end=")!==-1){var d=this.options_.source.src.match(/end=([0-9]*)/);this.options_.end=parseInt(d[1])}if(typeof this.options_.end<"u"&&(c.end=this.options_.end),typeof this.options_.hl<"u"?c.hl=this.options_.hl:typeof this.options_.language<"u"&&(c.hl=this.options_.language.substr(0,2)),typeof this.options_.iv_load_policy<"u"&&(c.iv_load_policy=this.options_.iv_load_policy),typeof this.options_.list<"u"?c.list=this.options_.list:this.url&&typeof this.url.listId<"u"&&(c.list=this.url.listId),typeof this.options_.listType<"u"&&(c.listType=this.options_.listType),typeof this.options_.modestbranding<"u"&&(c.modestbranding=this.options_.modestbranding),typeof this.options_.playlist<"u"&&(c.playlist=this.options_.playlist),typeof this.options_.playsinline<"u"&&(c.playsinline=this.options_.playsinline),typeof this.options_.rel<"u"&&(c.rel=this.options_.rel),typeof this.options_.showinfo<"u"&&(c.showinfo=this.options_.showinfo),this.options_.source.src.indexOf("start=")!==-1){var h=this.options_.source.src.match(/start=([0-9]*)/);this.options_.start=parseInt(h[1])}if(typeof this.options_.start<"u"&&(c.start=this.options_.start),typeof this.options_.theme<"u"&&(c.theme=this.options_.theme),typeof this.options_.customVars<"u"){var f=this.options_.customVars;Object.keys(f).forEach(function(y){c[y]=f[y]})}this.activeVideoId=this.url?this.url.videoId:null,this.activeList=c.list;var g={videoId:this.activeVideoId,playerVars:c,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onPlaybackRateChange:this.onPlayerPlaybackRateChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onVolumeChange:this.onPlayerVolumeChange.bind(this),onError:this.onPlayerError.bind(this)}};typeof this.options_.enablePrivacyEnhancedMode<"u"&&this.options_.enablePrivacyEnhancedMode&&(g.host="https://www.youtube-nocookie.com"),this.ytPlayer=new YT.Player(this.options_.techId,g)}onPlayerReady(){this.options_.muted&&this.ytPlayer.mute();var c=this.ytPlayer.getAvailablePlaybackRates();c.length>1&&(this.featuresPlaybackRate=!0),this.playerReady_=!0,this.triggerReady(),this.playOnReady?this.play():this.cueOnReady&&(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)}onPlayerPlaybackQualityChange(){}onPlayerPlaybackRateChange(){this.trigger("ratechange")}onPlayerStateChange(c){var d=c.data;if(!(d===this.lastState||this.errorNumber))switch(this.lastState=d,d){case-1:this.trigger("loadstart"),this.trigger("loadedmetadata"),this.trigger("durationchange"),this.trigger("ratechange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.trigger("play"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking?this.onSeeked():this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting");break}}onPlayerVolumeChange(){this.trigger("volumechange")}onPlayerError(c){this.errorNumber=c.data,this.trigger("pause"),this.trigger("error")}error(){var c=1e3+this.errorNumber;switch(this.errorNumber){case 5:return{code:c,message:"Error while trying to play the video"};case 2:case 100:return{code:c,message:"Unable to find the video"};case 101:case 150:return{code:c,message:"Playback on other Websites has been disabled by the video owner."}}return{code:c,message:"YouTube unknown error ("+this.errorNumber+")"}}loadVideoById_(c){var d={videoId:c};this.options_.start&&(d.startSeconds=this.options_.start),this.options_.end&&(d.endSeconds=this.options_.end),this.ytPlayer.loadVideoById(d)}cueVideoById_(c){var d={videoId:c};this.options_.start&&(d.startSeconds=this.options_.start),this.options_.end&&(d.endSeconds=this.options_.end),this.ytPlayer.cueVideoById(d)}src(c){return c&&this.setSrc({src:c}),this.source}poster(){return r?null:this.poster_}setPoster(c){this.poster_=c}setSrc(c){!c||!c.src||(delete this.errorNumber,this.source=c,this.url=s.parseUrl(c.src),this.options_.poster||this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.trigger("posterchange"),this.checkHighResPoster()),this.options_.autoplay&&!r?this.isReady_?this.play():this.playOnReady=!0:this.activeVideoId!==this.url.videoId&&(this.isReady_?(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId):this.cueOnReady=!0))}autoplay(){return this.options_.autoplay}setAutoplay(c){this.options_.autoplay=c}loop(){return this.options_.loop}setLoop(c){this.options_.loop=c}play(){!this.url||!this.url.videoId||(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.loadVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))}pause(){this.ytPlayer&&this.ytPlayer.pauseVideo()}paused(){return this.ytPlayer?this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING:!0}currentTime(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0}setCurrentTime(c){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.isSeeking||(this.wasPausedBeforeSeek=this.paused()),this.ytPlayer.seekTo(c,!0),this.trigger("timeupdate"),this.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==c&&(clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=setInterval((function(){this.lastState!==YT.PlayerState.PAUSED||!this.isSeeking?clearInterval(this.checkSeekedInPauseInterval):this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),this.onSeeked())}).bind(this),250))}seeking(){return this.isSeeking}seekable(){return this.ytPlayer?i.createTimeRange(0,this.ytPlayer.getDuration()):i.createTimeRange()}onSeeked(){clearInterval(this.checkSeekedInPauseInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")}playbackRate(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1}setPlaybackRate(c){this.ytPlayer&&this.ytPlayer.setPlaybackRate(c)}duration(){return this.ytPlayer?this.ytPlayer.getDuration():0}currentSrc(){return this.source&&this.source.src}ended(){return this.ytPlayer?this.lastState===YT.PlayerState.ENDED:!1}volume(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1}setVolume(c){this.ytPlayer&&this.ytPlayer.setVolume(c*100)}muted(){return this.ytPlayer?this.ytPlayer.isMuted():!1}setMuted(c){if(this.ytPlayer)this.muted(!0);else return;c?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout(function(){this.trigger("volumechange")},50)}buffered(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return i.createTimeRange();var c=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return i.createTimeRange(0,c)}preload(){}load(){}reset(){}networkState(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 3:return 2;default:return 1}}readyState(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 5:return 1;case 3:return 2;default:return 4}}supportsFullScreen(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}checkHighResPoster(){var c="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var d=new Image;d.onload=(function(){if("naturalHeight"in d){if(d.naturalHeight<=90||d.naturalWidth<=120)return}else if(d.height<=90||d.width<=120)return;this.poster_=c,this.trigger("posterchange")}).bind(this),d.onerror=function(){},d.src=c}catch{}}}s.isSupported=function(){return!0},s.canPlaySource=function(u){return s.canPlayType(u.type)},s.canPlayType=function(u){return u==="video/youtube"},s.parseUrl=function(u){var c={videoId:null},d=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,h=u.match(d);h&&h[2].length===11&&(c.videoId=h[2]);var f=/[?&]list=([^#\&\?]+)/;return h=u.match(f),h&&h[1]&&(c.listId=h[1]),c};function a(){YT.ready(function(){s.isApiReady=!0;for(var u=0;u<s.apiReadyQueue.length;++u)s.apiReadyQueue[u].initYTPlayer()})}function o(u,c){var d=!1,h=document.createElement("script"),f=document.getElementsByTagName("script")[0];f&&(f.parentNode.insertBefore(h,f),h.onload=function(){d||(d=!0,c())},h.onreadystatechange=function(){!d&&(this.readyState==="complete"||this.readyState==="loaded")&&(d=!0,c())},h.src=u)}function l(){var u=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css",d.styleSheet?d.styleSheet.cssText=u:d.appendChild(document.createTextNode(u)),c.appendChild(d)}s.apiReadyQueue=[],typeof document<"u"&&(o("https://www.youtube.com/iframe_api",a),l()),typeof i.registerTech<"u"?i.registerTech("Youtube",s):i.registerComponent("Youtube",s)})})(zX);const qX={class:"overflow-hidden"},jX=st({__name:"VideoPlayer",props:{options:{type:Object,default:()=>({})}},setup(t){const e=t,{options:i}=Ls(e),r=Xe(null),n=Xe(null);return qi(()=>{r.value&&(n.value=ae(r.value,i.value,function(){}))}),_r(i,s=>{n.value&&n.value.src(s.sources[0])}),Ou(()=>{n.value&&n.value.dispose()}),(s,a)=>(X(),ne("div",qX,[m("video",{ref_key:"videoPlayer",ref:r,class:"video-js w-full h-full"},null,512)]))}});async function Kb(t){try{return(await en.get(`/cms/images/${t}/`)).data.meta.download_url}catch{return null}}const VX=kr("homePageStore",{state:()=>({mainSponsorExists:!1,mainSponsor:null,goldSponsors:[],silverSponsors:[],bronzeSponsors:[],nextEvent:null,stepsToParticipate:[],whyParticipate:[],slogan:"",whatIsItContent:"",videoUrl:"",titleBackgroundImage:"",socialMediaLinks:[],loading:!1}),actions:{async fetchHomePageData(){var t;this.loading=!0;try{const e=await en.get("/cms/pages/",{params:{type:"home.HomePage",fields:"slogan,sponsors,why_participate,competition,youtube_video_link,what_is_it_content,title_background_image,social_media_links,steps_to_participate,competition"}});if(!e.data||!e.data||!e.data.items[0])throw new Error("Invalid response format: missing or invalid data");const i=e.data.items[0];this.mainSponsorExists=!!i.sponsors.find(s=>s.value.sponsor_tier=="main");const r=async s=>{const a=i.sponsors.filter(o=>o.value.sponsor_tier===s).map(async o=>({sponsorName:o.value.sponsor_name,logoSrc:await Kb(o.value.sponsor_logo),logoSize:o.value.sponsor_logo_size,...s==="main"?{description:o.value.sponsor_description}:{}}));return Promise.all(a)};this.mainSponsor=this.mainSponsorExists&&(await r("main"))[0]||null,this.goldSponsors=await r("gold"),this.silverSponsors=await r("silver"),this.bronzeSponsors=await r("bronze");const{data:n}=await Ti.get(i.competition.meta.detail_url);this.nextEvent={id:n.id,title:n.title,edition:n.edition,description:n.short_description.slice(0,300),imageSrc:((t=n.picture)==null?void 0:t.meta.download_url)||"",link:"event/"+n.id},this.stepsToParticipate=i.steps_to_participate.sort((s,a)=>s.step_number-a.step_number).map(s=>({title:s.value.step_title,description:s.value.step_description})),this.whyParticipate=i.why_participate.sort((s,a)=>s.reason_number-a.reason_number).map(s=>({title:s.value.header,description:s.value.content})),this.slogan=i.slogan,this.whatIsItContent=i.what_is_it_content,this.videoUrl=i.youtube_video_link,this.titleBackgroundImage=i.title_background_image.meta.download_url,this.socialMediaLinks=i.social_media_links.map(s=>({platform:s.value.social_media_name,url:s.value.social_media_link}))}catch{Ut().addToast({title:"Error has occured",type:"error",message:"Could not fetch home page, try again later"})}finally{this.loading=!1}}}});/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:ZD,setPrototypeOf:A_,isFrozen:HX,getPrototypeOf:KX,getOwnPropertyDescriptor:WX}=Object;let{freeze:tn,seal:ns,create:JD}=Object,{apply:y5,construct:v5}=typeof Reflect<"u"&&Reflect;tn||(tn=function(e){return e});ns||(ns=function(e){return e});y5||(y5=function(e,i,r){return e.apply(i,r)});v5||(v5=function(e,i){return new e(...i)});const Ef=On(Array.prototype.forEach),M_=On(Array.prototype.pop),Sd=On(Array.prototype.push),e1=On(String.prototype.toLowerCase),X4=On(String.prototype.toString),D_=On(String.prototype.match),Cd=On(String.prototype.replace),GX=On(String.prototype.indexOf),XX=On(String.prototype.trim),vs=On(Object.prototype.hasOwnProperty),zr=On(RegExp.prototype.test),kd=YX(TypeError);function On(t){return function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return y5(t,e,r)}}function YX(t){return function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return v5(t,i)}}function Rt(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e1;A_&&A_(t,null);let r=e.length;for(;r--;){let n=e[r];if(typeof n=="string"){const s=i(n);s!==n&&(HX(e)||(e[r]=s),n=s)}t[n]=!0}return t}function ZX(t){for(let e=0;e<t.length;e++)vs(t,e)||(t[e]=null);return t}function tu(t){const e=JD(null);for(const[i,r]of ZD(t))vs(t,i)&&(Array.isArray(r)?e[i]=ZX(r):r&&typeof r=="object"&&r.constructor===Object?e[i]=tu(r):e[i]=r);return e}function Td(t,e){for(;t!==null;){const r=WX(t,e);if(r){if(r.get)return On(r.get);if(typeof r.value=="function")return On(r.value)}t=KX(t)}function i(){return null}return i}const L_=tn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Y4=tn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Z4=tn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),JX=tn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),J4=tn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),QX=tn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),B_=tn(["#text"]),P_=tn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Q4=tn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),I_=tn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Af=tn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),eY=ns(/\{\{[\w\W]*|[\w\W]*\}\}/gm),tY=ns(/<%[\w\W]*|[\w\W]*%>/gm),iY=ns(/\${[\w\W]*}/gm),rY=ns(/^data-[\-\w.\u00B7-\uFFFF]/),nY=ns(/^aria-[\-\w]+$/),QD=ns(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),sY=ns(/^(?:\w+script|data):/i),aY=ns(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),eL=ns(/^html$/i),oY=ns(/^[a-z][.\w]*(-[.\w]+)+$/i);var R_=Object.freeze({__proto__:null,MUSTACHE_EXPR:eY,ERB_EXPR:tY,TMPLIT_EXPR:iY,DATA_ATTR:rY,ARIA_ATTR:nY,IS_ALLOWED_URI:QD,IS_SCRIPT_OR_DATA:sY,ATTR_WHITESPACE:aY,DOCTYPE_NAME:eL,CUSTOM_ELEMENT:oY});const Ed={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},lY=function(){return typeof window>"u"?null:window},uY=function(e,i){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const n="data-tt-policy-suffix";i&&i.hasAttribute(n)&&(r=i.getAttribute(n));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function tL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lY();const e=et=>tL(et);if(e.version="3.1.7",e.removed=[],!t||!t.document||t.document.nodeType!==Ed.document)return e.isSupported=!1,e;let{document:i}=t;const r=i,n=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:f}=t,g=l.prototype,y=Td(g,"cloneNode"),C=Td(g,"remove"),S=Td(g,"nextSibling"),A=Td(g,"childNodes"),T=Td(g,"parentNode");if(typeof a=="function"){const et=i.createElement("template");et.content&&et.content.ownerDocument&&(i=et.content.ownerDocument)}let M,D="";const{implementation:B,createNodeIterator:F,createDocumentFragment:V,getElementsByTagName:O}=i,{importNode:U}=r;let J={};e.isSupported=typeof ZD=="function"&&typeof T=="function"&&B&&B.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Y,ERB_EXPR:ie,TMPLIT_EXPR:ce,DATA_ATTR:qe,ARIA_ATTR:Me,IS_SCRIPT_OR_DATA:me,ATTR_WHITESPACE:be,CUSTOM_ELEMENT:ot}=R_;let{IS_ALLOWED_URI:vt}=R_,$e=null;const Je=Rt({},[...L_,...Y4,...Z4,...J4,...B_]);let it=null;const Ft=Rt({},[...P_,...Q4,...I_,...Af]);let rt=Object.seal(JD(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),It=null,oe=null,Te=!0,Ee=!0,Ie=!1,wt=!0,St=!1,N=!0,z=!1,re=!1,ye=!1,pe=!1,xe=!1,Re=!1,Se=!0,Oe=!1;const De="user-content-";let at=!0,Ue=!1,Ze={},nt=null;const At=Rt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Vt=null;const $t=Rt({},["audio","video","img","source","image","track"]);let ji=null;const Ai=Rt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Mt="http://www.w3.org/1998/Math/MathML",Vi="http://www.w3.org/2000/svg",Hi="http://www.w3.org/1999/xhtml";let cs=Hi,Ji=!1,Tr=null;const Hu=Rt({},[Mt,Vi,Hi],X4);let Tl=null;const z2=["application/xhtml+xml","text/html"],U2="text/html";let Ki=null,mo=null;const q2=i.createElement("form"),Ip=function(ee){return ee instanceof RegExp||ee instanceof Function},Ku=function(){let ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(mo&&mo===ee)){if((!ee||typeof ee!="object")&&(ee={}),ee=tu(ee),Tl=z2.indexOf(ee.PARSER_MEDIA_TYPE)===-1?U2:ee.PARSER_MEDIA_TYPE,Ki=Tl==="application/xhtml+xml"?X4:e1,$e=vs(ee,"ALLOWED_TAGS")?Rt({},ee.ALLOWED_TAGS,Ki):Je,it=vs(ee,"ALLOWED_ATTR")?Rt({},ee.ALLOWED_ATTR,Ki):Ft,Tr=vs(ee,"ALLOWED_NAMESPACES")?Rt({},ee.ALLOWED_NAMESPACES,X4):Hu,ji=vs(ee,"ADD_URI_SAFE_ATTR")?Rt(tu(Ai),ee.ADD_URI_SAFE_ATTR,Ki):Ai,Vt=vs(ee,"ADD_DATA_URI_TAGS")?Rt(tu($t),ee.ADD_DATA_URI_TAGS,Ki):$t,nt=vs(ee,"FORBID_CONTENTS")?Rt({},ee.FORBID_CONTENTS,Ki):At,It=vs(ee,"FORBID_TAGS")?Rt({},ee.FORBID_TAGS,Ki):{},oe=vs(ee,"FORBID_ATTR")?Rt({},ee.FORBID_ATTR,Ki):{},Ze=vs(ee,"USE_PROFILES")?ee.USE_PROFILES:!1,Te=ee.ALLOW_ARIA_ATTR!==!1,Ee=ee.ALLOW_DATA_ATTR!==!1,Ie=ee.ALLOW_UNKNOWN_PROTOCOLS||!1,wt=ee.ALLOW_SELF_CLOSE_IN_ATTR!==!1,St=ee.SAFE_FOR_TEMPLATES||!1,N=ee.SAFE_FOR_XML!==!1,z=ee.WHOLE_DOCUMENT||!1,pe=ee.RETURN_DOM||!1,xe=ee.RETURN_DOM_FRAGMENT||!1,Re=ee.RETURN_TRUSTED_TYPE||!1,ye=ee.FORCE_BODY||!1,Se=ee.SANITIZE_DOM!==!1,Oe=ee.SANITIZE_NAMED_PROPS||!1,at=ee.KEEP_CONTENT!==!1,Ue=ee.IN_PLACE||!1,vt=ee.ALLOWED_URI_REGEXP||QD,cs=ee.NAMESPACE||Hi,rt=ee.CUSTOM_ELEMENT_HANDLING||{},ee.CUSTOM_ELEMENT_HANDLING&&Ip(ee.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(rt.tagNameCheck=ee.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ee.CUSTOM_ELEMENT_HANDLING&&Ip(ee.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(rt.attributeNameCheck=ee.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ee.CUSTOM_ELEMENT_HANDLING&&typeof ee.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(rt.allowCustomizedBuiltInElements=ee.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),St&&(Ee=!1),xe&&(pe=!0),Ze&&($e=Rt({},B_),it=[],Ze.html===!0&&(Rt($e,L_),Rt(it,P_)),Ze.svg===!0&&(Rt($e,Y4),Rt(it,Q4),Rt(it,Af)),Ze.svgFilters===!0&&(Rt($e,Z4),Rt(it,Q4),Rt(it,Af)),Ze.mathMl===!0&&(Rt($e,J4),Rt(it,I_),Rt(it,Af))),ee.ADD_TAGS&&($e===Je&&($e=tu($e)),Rt($e,ee.ADD_TAGS,Ki)),ee.ADD_ATTR&&(it===Ft&&(it=tu(it)),Rt(it,ee.ADD_ATTR,Ki)),ee.ADD_URI_SAFE_ATTR&&Rt(ji,ee.ADD_URI_SAFE_ATTR,Ki),ee.FORBID_CONTENTS&&(nt===At&&(nt=tu(nt)),Rt(nt,ee.FORBID_CONTENTS,Ki)),at&&($e["#text"]=!0),z&&Rt($e,["html","head","body"]),$e.table&&(Rt($e,["tbody"]),delete It.tbody),ee.TRUSTED_TYPES_POLICY){if(typeof ee.TRUSTED_TYPES_POLICY.createHTML!="function")throw kd('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ee.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw kd('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');M=ee.TRUSTED_TYPES_POLICY,D=M.createHTML("")}else M===void 0&&(M=uY(f,n)),M!==null&&typeof D=="string"&&(D=M.createHTML(""));tn&&tn(ee),mo=ee}},Rp=Rt({},["mi","mo","mn","ms","mtext"]),Op=Rt({},["annotation-xml"]),j2=Rt({},["title","style","font","a","script"]),Fp=Rt({},[...Y4,...Z4,...JX]),Np=Rt({},[...J4,...QX]),$p=function(ee){let Ce=T(ee);(!Ce||!Ce.tagName)&&(Ce={namespaceURI:cs,tagName:"template"});const Qe=e1(ee.tagName),Gt=e1(Ce.tagName);return Tr[ee.namespaceURI]?ee.namespaceURI===Vi?Ce.namespaceURI===Hi?Qe==="svg":Ce.namespaceURI===Mt?Qe==="svg"&&(Gt==="annotation-xml"||Rp[Gt]):!!Fp[Qe]:ee.namespaceURI===Mt?Ce.namespaceURI===Hi?Qe==="math":Ce.namespaceURI===Vi?Qe==="math"&&Op[Gt]:!!Np[Qe]:ee.namespaceURI===Hi?Ce.namespaceURI===Vi&&!Op[Gt]||Ce.namespaceURI===Mt&&!Rp[Gt]?!1:!Np[Qe]&&(j2[Qe]||!Fp[Qe]):!!(Tl==="application/xhtml+xml"&&Tr[ee.namespaceURI]):!1},sn=function(ee){Sd(e.removed,{element:ee});try{T(ee).removeChild(ee)}catch{C(ee)}},va=function(ee,Ce){try{Sd(e.removed,{attribute:Ce.getAttributeNode(ee),from:Ce})}catch{Sd(e.removed,{attribute:null,from:Ce})}if(Ce.removeAttribute(ee),ee==="is"&&!it[ee])if(pe||xe)try{sn(Ce)}catch{}else try{Ce.setAttribute(ee,"")}catch{}},gr=function(ee){let Ce=null,Qe=null;if(ye)ee="<remove></remove>"+ee;else{const er=D_(ee,/^[\r\n\t ]+/);Qe=er&&er[0]}Tl==="application/xhtml+xml"&&cs===Hi&&(ee='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ee+"</body></html>");const Gt=M?M.createHTML(ee):ee;if(cs===Hi)try{Ce=new h().parseFromString(Gt,Tl)}catch{}if(!Ce||!Ce.documentElement){Ce=B.createDocument(cs,"template",null);try{Ce.documentElement.innerHTML=Ji?D:Gt}catch{}}const lr=Ce.body||Ce.documentElement;return ee&&Qe&&lr.insertBefore(i.createTextNode(Qe),lr.childNodes[0]||null),cs===Hi?O.call(Ce,z?"html":"body")[0]:z?Ce.documentElement:lr},zp=function(ee){return F.call(ee.ownerDocument||ee,ee,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Up=function(ee){return ee instanceof d&&(typeof ee.nodeName!="string"||typeof ee.textContent!="string"||typeof ee.removeChild!="function"||!(ee.attributes instanceof c)||typeof ee.removeAttribute!="function"||typeof ee.setAttribute!="function"||typeof ee.namespaceURI!="string"||typeof ee.insertBefore!="function"||typeof ee.hasChildNodes!="function")},El=function(ee){return typeof o=="function"&&ee instanceof o},Qi=function(ee,Ce,Qe){J[ee]&&Ef(J[ee],Gt=>{Gt.call(e,Ce,Qe,mo)})},Al=function(ee){let Ce=null;if(Qi("beforeSanitizeElements",ee,null),Up(ee))return sn(ee),!0;const Qe=Ki(ee.nodeName);if(Qi("uponSanitizeElement",ee,{tagName:Qe,allowedTags:$e}),ee.hasChildNodes()&&!El(ee.firstElementChild)&&zr(/<[/\w]/g,ee.innerHTML)&&zr(/<[/\w]/g,ee.textContent)||ee.nodeType===Ed.progressingInstruction||N&&ee.nodeType===Ed.comment&&zr(/<[/\w]/g,ee.data))return sn(ee),!0;if(!$e[Qe]||It[Qe]){if(!It[Qe]&&qp(Qe)&&(rt.tagNameCheck instanceof RegExp&&zr(rt.tagNameCheck,Qe)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck(Qe)))return!1;if(at&&!nt[Qe]){const Gt=T(ee)||ee.parentNode,lr=A(ee)||ee.childNodes;if(lr&&Gt){const er=lr.length;for(let Er=er-1;Er>=0;--Er){const _n=y(lr[Er],!0);_n.__removalCount=(ee.__removalCount||0)+1,Gt.insertBefore(_n,S(ee))}}}return sn(ee),!0}return ee instanceof l&&!$p(ee)||(Qe==="noscript"||Qe==="noembed"||Qe==="noframes")&&zr(/<\/no(script|embed|frames)/i,ee.innerHTML)?(sn(ee),!0):(St&&ee.nodeType===Ed.text&&(Ce=ee.textContent,Ef([Y,ie,ce],Gt=>{Ce=Cd(Ce,Gt," ")}),ee.textContent!==Ce&&(Sd(e.removed,{element:ee.cloneNode()}),ee.textContent=Ce)),Qi("afterSanitizeElements",ee,null),!1)},Zt=function(ee,Ce,Qe){if(Se&&(Ce==="id"||Ce==="name")&&(Qe in i||Qe in q2))return!1;if(!(Ee&&!oe[Ce]&&zr(qe,Ce))){if(!(Te&&zr(Me,Ce))){if(!it[Ce]||oe[Ce]){if(!(qp(ee)&&(rt.tagNameCheck instanceof RegExp&&zr(rt.tagNameCheck,ee)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck(ee))&&(rt.attributeNameCheck instanceof RegExp&&zr(rt.attributeNameCheck,Ce)||rt.attributeNameCheck instanceof Function&&rt.attributeNameCheck(Ce))||Ce==="is"&&rt.allowCustomizedBuiltInElements&&(rt.tagNameCheck instanceof RegExp&&zr(rt.tagNameCheck,Qe)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck(Qe))))return!1}else if(!ji[Ce]){if(!zr(vt,Cd(Qe,be,""))){if(!((Ce==="src"||Ce==="xlink:href"||Ce==="href")&&ee!=="script"&&GX(Qe,"data:")===0&&Vt[ee])){if(!(Ie&&!zr(me,Cd(Qe,be,"")))){if(Qe)return!1}}}}}}return!0},qp=function(ee){return ee!=="annotation-xml"&&D_(ee,ot)},Ml=function(ee){Qi("beforeSanitizeAttributes",ee,null);const{attributes:Ce}=ee;if(!Ce)return;const Qe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:it};let Gt=Ce.length;for(;Gt--;){const lr=Ce[Gt],{name:er,namespaceURI:Er,value:_n}=lr,ba=Ki(er);let tr=er==="value"?_n:XX(_n);if(Qe.attrName=ba,Qe.attrValue=tr,Qe.keepAttr=!0,Qe.forceKeepAttr=void 0,Qi("uponSanitizeAttribute",ee,Qe),tr=Qe.attrValue,Qe.forceKeepAttr||(va(er,ee),!Qe.keepAttr))continue;if(!wt&&zr(/\/>/i,tr)){va(er,ee);continue}St&&Ef([Y,ie,ce],jp=>{tr=Cd(tr,jp," ")});const Q0=Ki(ee.nodeName);if(Zt(Q0,ba,tr)){if(Oe&&(ba==="id"||ba==="name")&&(va(er,ee),tr=De+tr),N&&zr(/((--!?|])>)|<\/(style|title)/i,tr)){va(er,ee);continue}if(M&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Er)switch(f.getAttributeType(Q0,ba)){case"TrustedHTML":{tr=M.createHTML(tr);break}case"TrustedScriptURL":{tr=M.createScriptURL(tr);break}}try{Er?ee.setAttributeNS(Er,er,tr):ee.setAttribute(er,tr),Up(ee)?sn(ee):M_(e.removed)}catch{}}}Qi("afterSanitizeAttributes",ee,null)},Wu=function et(ee){let Ce=null;const Qe=zp(ee);for(Qi("beforeSanitizeShadowDOM",ee,null);Ce=Qe.nextNode();)Qi("uponSanitizeShadowNode",Ce,null),!Al(Ce)&&(Ce.content instanceof s&&et(Ce.content),Ml(Ce));Qi("afterSanitizeShadowDOM",ee,null)};return e.sanitize=function(et){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ce=null,Qe=null,Gt=null,lr=null;if(Ji=!et,Ji&&(et="<!-->"),typeof et!="string"&&!El(et))if(typeof et.toString=="function"){if(et=et.toString(),typeof et!="string")throw kd("dirty is not a string, aborting")}else throw kd("toString is not a function");if(!e.isSupported)return et;if(re||Ku(ee),e.removed=[],typeof et=="string"&&(Ue=!1),Ue){if(et.nodeName){const _n=Ki(et.nodeName);if(!$e[_n]||It[_n])throw kd("root node is forbidden and cannot be sanitized in-place")}}else if(et instanceof o)Ce=gr("<!---->"),Qe=Ce.ownerDocument.importNode(et,!0),Qe.nodeType===Ed.element&&Qe.nodeName==="BODY"||Qe.nodeName==="HTML"?Ce=Qe:Ce.appendChild(Qe);else{if(!pe&&!St&&!z&&et.indexOf("<")===-1)return M&&Re?M.createHTML(et):et;if(Ce=gr(et),!Ce)return pe?null:Re?D:""}Ce&&ye&&sn(Ce.firstChild);const er=zp(Ue?et:Ce);for(;Gt=er.nextNode();)Al(Gt)||(Gt.content instanceof s&&Wu(Gt.content),Ml(Gt));if(Ue)return et;if(pe){if(xe)for(lr=V.call(Ce.ownerDocument);Ce.firstChild;)lr.appendChild(Ce.firstChild);else lr=Ce;return(it.shadowroot||it.shadowrootmode)&&(lr=U.call(r,lr,!0)),lr}let Er=z?Ce.outerHTML:Ce.innerHTML;return z&&$e["!doctype"]&&Ce.ownerDocument&&Ce.ownerDocument.doctype&&Ce.ownerDocument.doctype.name&&zr(eL,Ce.ownerDocument.doctype.name)&&(Er="<!DOCTYPE "+Ce.ownerDocument.doctype.name+`>
`+Er),St&&Ef([Y,ie,ce],_n=>{Er=Cd(Er,_n," ")}),M&&Re?M.createHTML(Er):Er},e.setConfig=function(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ku(et),re=!0},e.clearConfig=function(){mo=null,re=!1},e.isValidAttribute=function(et,ee,Ce){mo||Ku({});const Qe=Ki(et),Gt=Ki(ee);return Zt(Qe,Gt,Ce)},e.addHook=function(et,ee){typeof ee=="function"&&(J[et]=J[et]||[],Sd(J[et],ee))},e.removeHook=function(et){if(J[et])return M_(J[et])},e.removeHooks=function(et){J[et]&&(J[et]=[])},e.removeAllHooks=function(){J={}},e}var cY=tL();function Qn(t){return cY.sanitize(t.replace("\\",""),{ALLOWED_TAGS:["b","i","em","strong","a","p","br","ul","ol","li","span","div","h1","h2","h3","h4","h5","h6","img"],ALLOWED_ATTR:["href","src","alt","title","target","rel"],FORBID_TAGS:["script","style","iframe"],FORBID_ATTR:["style","onerror","onclick","onload"]})}const dY={class:"top-0 h-max bg-screenBlack overflow-x-hidden"},hY={class:"flex flex-col font-body text-pearl-white gap-[3rem] w-full"},pY={class:"flex flex-col gap-0","data-aos":"fade-right","data-aos-offset":"0"},fY=["innerHTML"],mY={class:"flex justify-between md:justify-start items-center w-full md:gap-[2.4rem] lg:text-body"},gY={id:"about",class:"w-full h-max scroll-pt-[30rem] grid grid-cols-1 lg:grid-cols-[4fr_5fr] gap-[6rem] lg:gap-[4rem] px-[2rem] lg:px-[12rem] xl:px-[10vw] py-[10rem]"},yY={class:"w-full h-max flex justify-center items-center"},vY={class:"text-pearl-white flex flex-col items-center lg:items-start gap-[2rem]"},bY={class:"font-base text-body text-center lg:text-left","data-aos":"fade-up"},xY={class:"flex justify-center items-center w-full lg:px-[3rem]"},_Y={class:"w-full h-max grid grid-cols-1 lg:grid-cols-[4fr_5fr] gap-y-[10rem] lg:gap-[4rem] lg:px-[12rem] xl:px-[10vw] pt-[5rem] lg:py-[5rem] relative lg:gap-y-3"},wY={class:"w-full h-max grid grid-cols-1 auto-rows-[25rem] gap-y-[2rem] relative px-[2rem] lg:px-[0rem]"},SY={class:"grid grid-cols-[4rem_1fr] grid-rows-1 gap-x-[1rem] text-pearl-white"},CY={class:"grid grid-cols-1 grid-rows-[7rem_4px_auto] gap-[1rem] h-full","data-aos":"fade-up"},kY={class:"font-heading text-subtitle lg:text-title"},TY={class:"font-body text-body"},EY={class:"grid grid-cols-[4rem_1fr] grid-rows-1 gap-x-[1rem] text-pearl-white"},AY={class:"grid grid-cols-1 grid-rows-[7rem_4px_auto] gap-[1rem] h-full","data-aos":"fade-up"},MY={class:"font-heading text-subtitle lg:text-title"},DY={class:"font-body text-body"},LY={class:"grid grid-cols-[4rem_1fr] grid-rows-1 gap-x-[1rem] text-pearl-white"},BY={class:"grid grid-cols-1 grid-rows-[7rem_4px_auto] gap-[1rem] h-full","data-aos":"fade-up","data-aos-offset":"-50"},PY={class:"font-heading text-subtitle lg:text-title"},IY={class:"font-body text-body"},RY={class:"w-full h-max grid grid-cols-1 xl:grid-cols-[4fr_6fr] gap-[4rem] lg:px-[12rem] xl:px-[10vw] pb-[10rem] lg:py-[5rem] relative gap-y-3"},OY={class:"w-full h-max px-[2rem] lg:px-[0]","data-aos":"fade-left"},FY={class:"font-heading flex flex-col justify-center items-start p-[2rem]"},NY={class:"text-screen-black text-subtitle md:text-title text-left"},$Y={class:"text-primary text-subtitle md:text-title text-left"},zY={class:"flex justify-center md:justify-end items-start p-[2rem]"},UY={class:"w-[90%] md:w-[100%] h-min rounded-[20px] overflow-hidden shadow-[-1.5rem_1.5rem_0px_0px_#FBC151]"},qY=["src"],jY={class:"md:col-span-2 px-[2rem] py-[4rem] lg:py-[0] h-full w-full flex items-center"},VY=["innerHTML"],HY={class:"bg-pearl-white text-screenBlack px-[2rem] lg:px-[12rem] xl:px-[10vw] flex flex-col gap-[6rem] lg:gap-[10rem] py-[10rem] lg:py-[15rem] [clip-path:polygon(0_5rem,100%_0,100%_calc(100%-5rem),0%_100%)]"},KY={class:"flex flex-col gap-[4rem]"},WY={class:"font-heading text-subtitle lg:text-title relative after:absolute after:left-0 after:top-[2rem] lg:after:top-[4rem] after:-z-10 after:w-full after:h-[2rem] lg:after:h-[3rem] after:bg-primary after:-skew-x-[30deg] after:scale-x-[1.1] after:translate-x-2 after:-rotate-[2deg]"},GY={class:"font-body text-body lg:text-body lg:font-semibold","data-aos":"fade-up"},XY={class:"w-full h-max bg-screenBlack"},YY={key:0,class:"w-full h-max flex flex-col gap-[5rem] lg:gap-0 lg:grid lg:grid-cols-[1fr_25rem] lg:grid-rows-1 lg:gap-x-[10rem] px-[2rem] lg:px-[12rem] xl:px-[10vw] py-[12rem] bg-pearl-white [clip-path:polygon(0_5rem,100%_0,100%_calc(100%-5rem),0%_100%)]"},ZY={class:"flex flex-col gap-[4rem]"},JY={class:"font-heading text-center text-title lg:text-heading"},QY={class:"font-body text-body lg:text-body text-center lg:text-left"},eZ={class:"w-full h-full p-[20%] lg:p-0"},tZ=["src"],iZ={key:0,class:"relative w-full h-max py-[12rem]"},rZ={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},nZ={class:"flex flex-row justify-center lg:justify-between flex-wrap"},sZ=["data-aos-delay"],aZ={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},oZ={class:"relative w-full h-full"},lZ={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},uZ={class:"relative h-full aspect-square flex justify-center items-center"},cZ=["src","alt"],dZ={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},hZ={class:"font-heading text-subtitle lg:text-subtitle text-screenBlack"},pZ={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},fZ={class:"flex flex-row-reverse justify-center lg:justify-between flex-wrap"},mZ=["data-aos-delay"],gZ={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},yZ={class:"relative w-full h-full"},vZ={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},bZ={class:"relative h-full aspect-square flex justify-center items-center"},xZ=["src","alt"],_Z={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},wZ={class:"font-heading text-body lg:text-subtitle text-screenBlack"},SZ={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},CZ={class:"flex justify-center lg:justify-between flex-wrap"},kZ=["data-aos-delay"],TZ={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},EZ={class:"relative w-full h-full"},AZ={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},MZ={class:"relative h-full aspect-square flex justify-center items-center"},DZ=["src","alt"],LZ={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},BZ={class:"font-heading text-body lg:text-body text-screenBlack"},PZ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] h-max py-[10rem] flex flex-col gap-[5rem] lg:gap-0 lg:grid lg:grid-cols-2"},IZ={class:"flex lg:flex-row justify-center items-center w-full"},RZ={class:"flex gap-[5rem]"},OZ=["href"],FZ={key:0,width:"104",height:"104",viewBox:"0 0 104 104",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},NZ={key:1,width:"104",height:"104",viewBox:"0 0 104 104",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},$Z={key:2,width:"94",height:"84",viewBox:"0 0 94 84",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},zZ={key:3,width:"257",height:"180",viewBox:"0 0 257 180",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},UZ=st({__name:"Home",setup(t){const e=VX(),i=Xe({autoplay:!1,controls:!0,sources:[{src:e.videoUrl,type:"video/youtube"}]});MF(()=>{i.value={autoplay:!1,controls:!0,sources:[{src:e.videoUrl,type:"video/youtube"}]}});const{isAuthenticated:r}=Sr();return(n,s)=>{const a=yn("RouterLink");return X(),Ot(Fn,null,{default:We(()=>{var o,l,u,c,d,h,f,g,y,C;return[m("div",dY,[m("section",{class:"top-0 flex justify-start pt-[30vh] md:pt-0 md:items-center lg:min-h-[40rem] h-[111vh] px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-no-repeat bg-cover [clip-path:polygon(0_0,100%_0,100%_90%,0%_100%)] relative",style:Zr({backgroundImage:`url(${P(e).titleBackgroundImage})`})},[m("div",hY,[m("div",pY,[s[0]||(s[0]=m("h1",{class:"font-heading text-title lg:text-heading"},"INTEGRATION BEE",-1)),s[1]||(s[1]=m("h2",{class:"font-heading text-primary text-subtitle lg:text-title"},"AUSTRIA",-1)),m("h3",{class:"text-body lg:text-title",innerHTML:P(e).slogan&&P(Qn)(P(e).slogan)},null,8,fY)]),m("div",mY,[P(r)?je("",!0):(X(),Ot(a,{key:0,to:"/sign_in",class:"rounded-2xl text-secondary bg-primary w-[16rem] h-[6rem] lg:w-[18rem] lg:h-[6rem] flex justify-center items-center text-body font-semibold"},{default:We(()=>s[2]||(s[2]=[tt("Sign in")])),_:1})),P(r)?(X(),Ot(a,{key:1,to:"/events",class:"rounded-2xl text-secondary bg-primary w-[16rem] h-[6rem] lg:w-[18rem] lg:h-[6rem] flex justify-center items-center text-body font-semibold"},{default:We(()=>s[3]||(s[3]=[tt("Events")])),_:1})):je("",!0),ge(a,{to:"#about",class:"border-pearl-white border-2 rounded-2xl w-[16rem] h-[6rem] lg:w-[18rem] lg:h-[6rem] flex justify-center items-center text-body font-semibold overflow-hidden lg:hover:text-screenBlack signUpBtn"},{default:We(()=>s[4]||(s[4]=[m("p",{class:"relative"},"Learn More",-1),m("div",{class:"signUpBtn_Bg bg-pearl-white hidden lg:flex"},null,-1)])),_:1})])]),s[5]||(s[5]=m("div",{class:"w-[5rem] aspect-square absolute left-[calc(50vw-2.5rem)] bottom-[max(15rem,20vh)] stroke-primary down-arrow"},[m("svg",{width:"61",height:"34",viewBox:"0 0 61 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M1.58545 1.35022L30.7674 30.5322L59.1498 2.14972","stroke-width":"3.7689"})])],-1))],4),m("section",gY,[m("div",yY,[m("div",vY,[s[6]||(s[6]=m("h3",{class:"font-heading text-title","data-aos":"fade-up"}," What is It ",-1)),m("p",bY,ve(P(e).whatIsItContent),1)])]),m("div",xY,[ge(jX,{options:i.value,class:"rounded-[30px] lg:rounded-3xl w-full aspect-video border-pearl-white border-4 box-content"},null,8,["options"])])]),m("section",_Y,[s[14]||(s[14]=m("div",null,[m("div",{class:"flex flex-col justify-center lg:h-[75rem] relative"},[m("div",{class:"flex flex-col items-end gap-[2rem] lg:absolute -left-[10vw] pr-[4rem]"},[m("h2",{class:"text-white font-heading text-title lg:text-heading text-center lg:text-right w-full pl-[10vw] lg:pl-[12rem]"}," 3 steps to participate "),m("div",{class:"w-full flex justify-start"},[m("div",{class:"w-auto h-auto"},[m("svg",{width:"749",height:"82",viewBox:"0 0 749 82",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full -scale-x-[1]"},[m("path",{d:"M749 0H2.8793C0.9697 0 0.146249 2.42068 1.65973 3.58513L103.039 81.5851C103.389 81.8541 103.818 82 104.259 82H749V0Z",fill:"#FBC151"})])])])])])],-1)),m("div",wY,[m("div",SY,[s[8]||(s[8]=m("div",{class:"relative pt-[calc(6rem)] z-[1]"},[m("svg",{width:"49",height:"45",viewBox:"0 0 49 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full aspect-square"},[m("path",{d:"M34.0532 0.508602L48.3827 19.7613L38.8741 41.7973L15.036 44.5807L0.706578 25.328L10.2152 3.29193L34.0532 0.508602Z",fill:"#FBC151"})])],-1)),m("div",CY,[m("h4",kY,ve((o=P(e).stepsToParticipate[0])==null?void 0:o.title),1),s[7]||(s[7]=m("div",{class:"h-[4px] bg-primary w-full"},null,-1)),m("p",TY,ve((l=P(e).stepsToParticipate[0])==null?void 0:l.description),1)])]),m("div",EY,[s[10]||(s[10]=m("div",{class:"relative pt-[calc(6rem)] z-[1]"},[m("svg",{width:"49",height:"45",viewBox:"0 0 49 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full aspect-square"},[m("path",{d:"M34.0532 0.508602L48.3827 19.7613L38.8741 41.7973L15.036 44.5807L0.706578 25.328L10.2152 3.29193L34.0532 0.508602Z",fill:"#FBC151"})])],-1)),m("div",AY,[m("h4",MY,ve((u=P(e).stepsToParticipate[1])==null?void 0:u.title),1),s[9]||(s[9]=m("div",{class:"h-[4px] bg-primary w-full"},null,-1)),m("p",DY,ve((c=P(e).stepsToParticipate[1])==null?void 0:c.description),1)])]),m("div",LY,[s[12]||(s[12]=m("div",{class:"relative pt-[calc(6rem)] z-[1]"},[m("svg",{width:"49",height:"45",viewBox:"0 0 49 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full aspect-square"},[m("path",{d:"M34.0532 0.508602L48.3827 19.7613L38.8741 41.7973L15.036 44.5807L0.706578 25.328L10.2152 3.29193L34.0532 0.508602Z",fill:"#FBC151"})])],-1)),m("div",BY,[m("h4",PY,ve((d=P(e).stepsToParticipate[2])==null?void 0:d.title),1),s[11]||(s[11]=m("div",{class:"h-[4px] bg-primary w-full"},null,-1)),m("p",IY,ve((h=P(e).stepsToParticipate[2])==null?void 0:h.description),1)])]),s[13]||(s[13]=m("div",{class:"absolute top-[calc(8rem+2px)] left-[calc(4rem-3px)] lg:left-[calc(2rem-3px)] z-0 w-[6px] h-[calc(54rem+2px)]"},[m("svg",{viewBox:"0 0 6 507",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full"},[m("path",{d:"M3 0V507",stroke:"#FBC151","stroke-width":"5","stroke-dasharray":"6 6"})])],-1))])]),m("section",RY,[s[15]||(s[15]=m("div",null,[m("div",{class:"flex flex-col justify-center h-[45rem] relative w-full"},[m("div",{class:"flex flex-col items-end gap-[2rem] absolute lg:-left-[10vw] pr-[4rem] w-full"},[m("h2",{class:"text-white font-heading text-title lg:text-heading text-center lg:text-right w-full pl-[2rem] lg:pl-[10vw]"}," Our next event: "),m("div",{class:"w-full flex justify-start"},[m("div",null,[m("svg",{width:"469",height:"82",viewBox:"0 0 469 82",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M0 0H466.793C468.478 0 469.408 1.95593 468.344 3.26264L404.847 81.2626C404.467 81.7292 403.898 82 403.296 82H0V0Z",fill:"#FBC151"})])])])])])],-1)),m("div",OY,[ge(a,{to:(f=P(e).nextEvent)==null?void 0:f.link,class:"w-full h-max lg:h-[45rem] bg-pearl-white rounded-[40px] grid grid-cols-1 md:grid-cols-[5fr_4fr] auto-rows-auto md:grid-rows-[5fr_5fr] cursor-pointer"},{default:We(()=>{var S,A,T,M;return[m("div",FY,[m("h4",NY,ve((S=P(e).nextEvent)==null?void 0:S.title),1),m("h5",$Y,ve((A=P(e).nextEvent)==null?void 0:A.edition),1)]),m("div",zY,[m("div",UY,[m("img",{src:(T=P(e).nextEvent)==null?void 0:T.imageSrc,alt:"last event picture",class:"w-full"},null,8,qY)])]),m("div",jY,[m("p",{class:"font-body text-body text-center lg:text-left",innerHTML:P(e).nextEvent&&P(Qn)((M=P(e).nextEvent)==null?void 0:M.description)},null,8,VY)])]}),_:1},8,["to"])])]),m("section",HY,[s[16]||(s[16]=m("div",{class:"w-full flex justify-center"},[m("h3",{class:"font-heading text-subtitle lg:text-heading text-center relative after:absolute after:left-0 after:top-[2rem] lg:after:top-[7.5rem] after:-z-10 after:w-full after:h-[2rem] lg:after:h-[3rem] after:bg-primary after:-skew-x-[30deg] after:scale-x-[1.1] after:translate-x-2 after:-rotate-[2deg]"}," Why Participate? ")],-1)),m("div",KY,[(X(!0),ne(yt,null,Ni(P(e).whyParticipate,(S,A)=>(X(),ne("div",{key:A,class:"w-full flex flex-col items-start gap-[2rem]","data-aos":"fade-up"},[m("h4",WY," >"+ve(S.title),1),m("p",GY,ve(S.description),1)]))),128))])]),m("section",XY,[s[29]||(s[29]=m("div",{class:"w-full h-max relative flex justify-center items-center py-[10rem]"},[m("div",{class:"relative h-[10rem] w-full flex justify-center items-center"},[m("div",{class:"w-full absolute top-[2rem] left-0 hidden xl:flex"},[m("svg",{width:"1439",height:"46",viewBox:"0 0 1439 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1439 0.809456L1213.55 9.45089C1213.06 9.46978 1212.59 9.67003 1212.23 10.0132L1194.53 27.1656C1193.22 28.4422 1194.17 30.6707 1196 30.6004L1439 21.2864V0.809456Z",fill:"#FBC151"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 45.4958L265.844 35.3061C266.355 35.2866 266.839 35.0721 267.196 34.7068L283.956 17.5904C285.221 16.2981 284.257 14.1234 282.45 14.1927L0 25.0188V45.4958Z",fill:"#FBC151"})])]),m("h3",{class:"font-heading text-center text-subtitle lg:text-heading text-pearl-white"}," Sponsors of the season ")])],-1)),P(e).mainSponsorExists?(X(),ne("div",YY,[m("div",ZY,[m("h4",JY," Main Sponsor - "+ve((g=P(e).mainSponsor)==null?void 0:g.sponsorName),1),m("p",QY,ve((y=P(e).mainSponsor)==null?void 0:y.description),1)]),m("div",eZ,[m("img",{src:(C=P(e).mainSponsor)==null?void 0:C.logoSrc,alt:"main sponsor logo",class:"w-full max-h-full"},null,8,tZ)])])):je("",!0),P(e).goldSponsors.length?(X(),ne(yt,{key:1},[P(e).silverSponsors.length||P(e).bronzeSponsors.length||P(e).mainSponsorExists?(X(),ne("div",iZ,s[17]||(s[17]=[m("div",{class:"absolute left-[70%] md:left-[50%] lg:left-[70%] xl:left-[50%] 2xl:left-auto 2xl:right-0 xl:right-0 top-[43%]"},[m("svg",{width:"782",height:"31",viewBox:"0 0 782 31",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M782 0.926632L45.1191 9.80528C44.8717 9.80826 44.627 9.85712 44.3974 9.94936L2.16181 26.9214C0.107586 27.7469 0.717887 30.8037 2.9316 30.777L782 21.3901V0.926632Z",fill:"#FBC151"})])],-1),m("div",{class:"pl-[2rem] lg:pl-[12rem]"},[m("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Gold Sponsors ")],-1)]))):je("",!0),m("div",rZ,[m("div",nZ,[(X(!0),ne(yt,null,Ni(P(e).goldSponsors,(S,A)=>(X(),ne("div",{key:A,"data-aos":"fade-left","data-aos-delay":A*50,"data-aos-offset":"20",class:"relative w-[35rem] h-[35rem]"},[s[19]||(s[19]=m("div",{class:"w-full h-full absolute z-[1]"},[m("svg",{width:"485",height:"485",viewBox:"0 0 485 485",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full"},[m("path",{d:"M315.567 73.0906L425.715 221.082L352.624 390.468L169.386 411.863L59.2388 263.872L132.329 94.4854L315.567 73.0906Z",fill:"#FBC151"}),m("path",{d:"M309.567 91.0447L407.668 222.852L342.571 373.714L179.372 392.769L81.2699 260.962L146.367 110.1L309.567 91.0447Z",fill:"#F2F1F0"})])],-1)),m("div",aZ,[m("div",oZ,[m("div",lZ,[m("div",uZ,[s[18]||(s[18]=m("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),m("img",{src:S.logoSrc,alt:`${S.sponsorName} logo`,class:"relative z-[4]",style:Zr({width:`${S.logoSize}%`,height:`${S.logoSize}%`})},null,12,cZ)])])]),m("div",dZ,[m("p",hZ,ve(S.sponsorName),1)])])],8,sZ))),128)),s[20]||(s[20]=m("div",{class:"h-[35rem] min-w-[35rem] flex items-center justify-center"},[m("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[tt("Here could "),m("br"),tt(" be your logo")])],-1))])])],64)):je("",!0),P(e).silverSponsors.length?(X(),ne(yt,{key:2},[s[24]||(s[24]=m("div",{class:"relative w-full h-max py-[12rem] flex justify-end"},[m("div",{class:"absolute right-[70%] md:right-[50%] lg:right-[70%] xl:right-[60%] 2xl:left-0 top-[43%]"},[m("svg",{width:"701",height:"29",viewBox:"0 0 701 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 29.005L658.721 21.0681C658.981 21.065 659.237 21.0114 659.476 20.9102L699.536 3.9644C701.556 3.10981 700.926 0.0961456 698.733 0.122574L0 8.54158V29.005Z",fill:"#FBC151"})])]),m("div",{class:"pr-[2rem] lg:pr-[12rem]"},[m("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Silver Sponsors ")])],-1)),m("div",pZ,[m("div",fZ,[(X(!0),ne(yt,null,Ni(P(e).silverSponsors,(S,A)=>(X(),ne("div",{key:A,"data-aos":"fade-left","data-aos-delay":A*50,"data-aos-offset":"20",class:"relative w-[30rem] h-[30rem]"},[s[22]||(s[22]=m("div",{class:"w-full h-full absolute z-[1]"},[m("svg",{width:"372",height:"372",viewBox:"0 0 372 372",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full"},[m("path",{d:"M242.067 56.0666L326.559 169.588L270.492 299.522L129.934 315.933L45.4412 202.412L101.508 72.4782L242.067 56.0666Z",fill:"#757575"}),m("path",{d:"M237.463 69.839L312.715 170.946L262.78 286.67L137.593 301.287L62.3406 200.18L112.276 84.4558L237.463 69.839Z",fill:"#F2F1F0"})])],-1)),m("div",gZ,[m("div",yZ,[m("div",vZ,[m("div",bZ,[s[21]||(s[21]=m("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),m("img",{src:S.logoSrc,alt:`${S.sponsorName} logo`,class:"relative z-[4]",style:Zr({width:`${S.logoSize}%`,height:`${S.logoSize}%`})},null,12,xZ)])])]),m("div",_Z,[m("p",wZ,ve(S.sponsorName),1)])])],8,mZ))),128)),s[23]||(s[23]=m("div",{class:"h-[30rem] min-w-[30rem] flex items-center justify-center"},[m("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[tt("Here could "),m("br"),tt(" be your logo")])],-1))])])],64)):je("",!0),P(e).bronzeSponsors.length?(X(),ne(yt,{key:3},[s[28]||(s[28]=m("div",{class:"relative w-full h-max py-[12rem] overflow-x-hidden"},[m("div",{class:"absolute left-[70%] md:left-[50%] lg:left-[70%] xl:left-[50%] 2xl:left-auto 2xl:right-0 xl:right-0 top-[43%]"},[m("svg",{width:"782",height:"31",viewBox:"0 0 782 31",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M782 0.926632L45.1191 9.80528C44.8717 9.80826 44.627 9.85712 44.3974 9.94936L2.16181 26.9214C0.107586 27.7469 0.717887 30.8037 2.9316 30.777L782 21.3901V0.926632Z",fill:"#FBC151"})])]),m("div",{class:"pl-[2rem] lg:pl-[12rem]"},[m("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Bronze Sponsors ")])],-1)),m("div",SZ,[m("div",CZ,[(X(!0),ne(yt,null,Ni(P(e).bronzeSponsors,(S,A)=>(X(),ne("div",{key:A,"data-aos":"fade-left","data-aos-delay":A*50,"data-aos-offset":"20",class:"relative w-[25rem] h-[25rem]"},[s[26]||(s[26]=m("div",{class:"w-full h-full absolute z-[1]"},[m("svg",{width:"293",height:"293",viewBox:"0 0 293 293",fill:"none",xmlns:"http://www.w3.org/2000/svg","preserve-aspect-ratio":"none",class:"w-full h-full"},[m("path",{d:"M190.66 44.16L257.209 133.574L213.049 235.914L102.34 248.84L35.7908 159.426L79.9508 57.0863L190.66 44.16Z",fill:"#CD7F32"}),m("path",{d:"M187.034 55.0074L246.306 134.643L206.975 225.791L108.373 237.304L49.1018 157.668L88.4324 66.5201L187.034 55.0074Z",fill:"#F2F1F0"})])],-1)),m("div",TZ,[m("div",EZ,[m("div",AZ,[m("div",MZ,[s[25]||(s[25]=m("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),m("img",{src:S.logoSrc,alt:`${S.sponsorName} logo`,class:"relative z-[4]",style:Zr({width:`${S.logoSize}%`,height:`${S.logoSize}%`})},null,12,DZ)])])]),m("div",LZ,[m("p",BZ,ve(S.sponsorName),1)])])],8,kZ))),128)),s[27]||(s[27]=m("div",{class:"h-[25rem] min-w-[25rem] flex items-center justify-center"},[m("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[tt("Here could "),m("br"),tt(" be your logo")])],-1))])])],64)):je("",!0)]),m("section",PZ,[s[34]||(s[34]=m("div",{class:"w-full flex text-center lg:text-left justify-center lg:justify-start items-center"},[m("h4",{class:"font-heading text-title lg:text-heading text-pearl-white relative z-[2]"},[m("span",{class:"relative z-[2] after:absolute after:left-0 after:top-[4rem] lg:after:top-[8rem] after:-z-[1] after:w-full after:h-[3rem] after:bg-primary after:-skew-x-[30deg] after:scale-x-[1.1] after:translate-x-2 after:-rotate-[2deg]"}," Follow us "),m("br"),tt(" on social Media ")])],-1)),m("div",IZ,[m("div",RZ,[(X(!0),ne(yt,null,Ni(P(e).socialMediaLinks,(S,A)=>(X(),ne("a",{key:A,href:S.url,class:"aspect-square h-[6rem] lg:h-[10rem] lg:hover:scale-110 lg:hover:rotate-12 transition-all duration-75"},[S.platform=="instagram"?(X(),ne("svg",FZ,s[30]||(s[30]=[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.584 0H91.416C98.3424 0 104 5.69591 104 12.646V91.354C104 98.3145 98.332 104 91.416 104H12.584C5.6576 104 0 98.3041 0 91.354V12.646C0 5.68546 5.668 0 12.584 0ZM11.232 42.8186H21.6216C20.54 45.9853 19.9472 49.3715 19.9472 52.904C19.9472 70.3262 34.2992 84.4458 52 84.4458C69.7008 84.4458 84.0528 70.3262 84.0528 52.904C84.0528 49.382 83.46 45.9853 82.3784 42.8186H92.768V86.6092C92.768 89.7132 90.2408 92.2424 87.1624 92.2424H16.4112C13.5616 92.2424 11.232 89.9013 11.232 87.0377V42.8186ZM75.6496 10.3049H87.724C90.4488 10.3049 92.6848 12.5519 92.6848 15.2901V26.567C92.6848 29.3052 90.4488 31.5522 87.724 31.5522H75.6496C72.9248 31.5522 70.6888 29.3052 70.6888 26.567V15.2901C70.6888 12.5519 72.9248 10.3049 75.6496 10.3049ZM52.0312 30.6848C63.5232 30.6848 72.8416 39.8609 72.8416 51.1691C72.8416 62.4773 63.5232 71.6535 52.0312 71.6535C40.5392 71.6535 31.2208 62.4773 31.2208 51.1691C31.2208 39.8609 40.5392 30.6848 52.0312 30.6848Z",fill:"#FBC151"},null,-1)]))):je("",!0),S.platform=="facebook"?(X(),ne("svg",NZ,s[31]||(s[31]=[m("path",{d:"M98.2597 0H5.74031C4.21789 0 2.75782 0.604781 1.6813 1.6813C0.604781 2.75782 0 4.21789 0 5.74031L0 98.2597C0 99.7821 0.604781 101.242 1.6813 102.319C2.75782 103.395 4.21789 104 5.74031 104H55.5547V63.7812H42.0469V48.0391H55.5547V36.4609C55.5547 23.0283 63.7589 15.7137 75.7453 15.7137C81.4836 15.7137 86.4175 16.1403 87.8516 16.3231V30.3611H79.5844C73.0641 30.3611 71.8006 33.4587 71.8006 38.0067V48.0391H87.3884L85.3572 63.7812H71.8006V104H98.2556C99.0098 104.001 99.7567 103.852 100.454 103.564C101.151 103.276 101.784 102.853 102.317 102.32C102.851 101.787 103.274 101.154 103.563 100.457C103.851 99.7606 104 99.0139 104 98.2597V5.74031C104 4.21789 103.395 2.75782 102.319 1.6813C101.242 0.604781 99.7821 0 98.2597 0Z",fill:"#FBC151"},null,-1)]))):je("",!0),S.platform=="telegram"?(X(),ne("svg",$Z,s[32]||(s[32]=[m("path",{d:"M6.46107 36.1617C31.6988 24.3084 48.5239 16.4933 56.9364 12.7177C80.9839 1.93636 85.9747 0.0638868 89.2342 0.000562376C89.951 -0.0119458 91.547 0.179093 92.5884 1.08763C93.454 1.85324 93.6974 2.88865 93.8192 3.61489C93.9274 4.34113 94.0762 5.99633 93.9544 7.2884C92.656 22.0466 87.0161 57.86 84.1488 74.3901C82.9451 81.3845 80.5511 83.7294 78.2384 83.9584C73.2071 84.4571 69.393 80.3767 64.524 76.9363C56.9094 71.5507 52.6084 68.1995 45.2103 62.9452C36.6624 56.8727 42.2077 53.5346 47.0767 48.0805C48.3481 46.6528 70.502 24.9312 70.9213 22.961C70.9754 22.7145 71.0295 21.7958 70.5156 21.3116C70.0151 20.826 69.2713 20.9922 68.7303 21.1235C67.9593 21.3101 55.8003 29.9842 32.2127 47.1443C28.7638 49.7022 25.6395 50.949 22.8263 50.8834C19.7426 50.8119 13.7916 48.9992 9.36895 47.4505C3.95894 45.5503 -0.35554 44.5455 0.0231604 41.3183C0.212511 39.6383 2.36299 37.9189 6.46107 36.1617Z",fill:"#FBC151"},null,-1)]))):je("",!0),S.platform=="youtube"?(X(),ne("svg",zZ,s[33]||(s[33]=[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M228.172 5.51149C239.215 8.49959 247.841 17.1256 250.829 28.1683C259.284 62.2027 257.331 115.955 250.993 151.303C248.005 162.346 239.379 170.972 228.337 173.96C208.471 179.378 128.515 179.378 128.515 179.378C128.515 179.378 48.56 179.378 28.6943 173.96C17.6517 170.972 9.02562 162.346 6.03753 151.303C-2.46697 117.416 -0.135623 63.631 5.87335 28.3324C8.86144 17.2898 17.4875 8.66377 28.5301 5.67567C48.3958 0.257747 128.351 0.0935669 128.351 0.0935669C128.351 0.0935669 208.307 0.0935669 228.172 5.51149ZM169.232 89.7356L102.903 128.154V51.3176L169.232 89.7356Z",fill:"#FBC151"},null,-1)]))):je("",!0)],8,OZ))),128))])])])])]}),_:1})}}}),qZ=uo(UZ,[["__scopeId","data-v-ae65f0c5"]]),jZ=kr("eventsPageStore",{state:()=>({title:"",events:[],currentPage:1,totalPages:1,totalEvents:0,loading:!1,error:null,searchQuery:""}),actions:{async fetchTitle(){try{const t=await en.get("/cms/pages/",{params:{type:"home.CompetitionsPage",fields:"title"}});this.title=t.data.items[0].title}catch{Ut().addToast({type:"error",title:"Error has occured",message:"Could not fetch title of this page."}),this.error="Failed to fetch title."}},async fetchEvents(t=1,e=""){this.loading=!0;try{let i=function(n,s){const a=new Date,o=new Date(a.getFullYear(),a.getMonth(),a.getDate()),l=new Date(n),u=new Date(l.getFullYear(),l.getMonth(),l.getDate()),c=new Date(s),d=new Date(c.getFullYear(),c.getMonth(),c.getDate());return o<u?"upcoming":o>d?"past":"ongoing"};const r=await en.get("/cms/pages/",{params:{type:"home.CompetitionPost",fields:"id,title,edition,place,picture,competition"}});this.events=r.data.items.sort((n,s)=>new Date(s.competition.event_date_start).getTime()-new Date(n.competition.event_date_start).getTime()).map(n=>{var s;return{id:n.id,name:n.title,edition:n.edition,location:n.place,date:zh(n.competition.event_date_start),pictureSrc:(s=n.picture)==null?void 0:s.meta.download_url,status:i(n.competition.event_date_start,n.competition.event_date_end)}}),this.searchQuery=e,this.error=null}catch{Ut().addToast({type:"error",title:"Error has occured",message:"Could not fetch compeitions"}),this.error="Failed to fetch events."}finally{this.loading=!1}}}}),VZ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},HZ={class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"},KZ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-pearl-white flex flex-col justify-center py-[5rem]"},WZ={class:"w-full grid grid-cols-1 lg:grid-cols-3 auto-rows-auto gap-y-[2rem] lg:gap-x-[2rem] px-[2rem] py-[5rem] overflow-x-hidden"},GZ={class:"w-full flex flex-col gap-[1rem] text-screenBlack p-4","data-aos":"fade-left","data-aos-offset":"-50"},XZ={class:"w-full aspect-[8/5] overflow-hidden rounded-3xl relative"},YZ=["src"],ZZ={key:0,class:"w-full h-full flex justify-end items-end absolute top-0 left-0 z-[10]"},JZ={class:"flex flex-col w-full px-[1rem]"},QZ={class:"font-heading text-subtitle lg:text-title relative w-max"},eJ={key:0,class:"absolute top-0 right-0 translate-x-[100%] text-body lg:text-subtitle text-[#EE1100]"},tJ={class:"flex flex-col w-full px-[1rem] gap-[1rem]"},iJ={class:"grid grid-cols-[3rem_1fr] grid-rows-1 w-full gap-[1rem]"},rJ={class:"font-body text-text-sm md:text-body text-gray"},nJ={class:"grid grid-cols-[3rem_1fr] grid-rows-1 w-full gap-[1rem]"},sJ={class:"font-body text-text-sm md:text-body text-gray"},aJ=st({__name:"Events",setup(t){const e=jZ();return Ui(e),ao(()=>{(async()=>await e.fetchEvents())()}),(i,r)=>{const n=yn("RouterLink");return X(),Ot(Fn,null,{default:We(()=>[m("div",VZ,[m("h1",HZ,ve(P(e).title),1)]),m("div",KZ,[m("div",WZ,[(X(!0),ne(yt,null,Ni(P(e).events,s=>(X(),Ot(n,{to:`/event/${s.id}`},{default:We(()=>[m("div",GZ,[m("div",XZ,[m("img",{src:s.pictureSrc,alt:"",class:Wt("w-full h-full object-cover")},null,8,YZ),s.status=="past"?(X(),ne("div",ZZ,r[0]||(r[0]=[m("div",{class:"w-full bg-white-100 bg-opacity-70 backdrop-blur-sm flex justify-center items-center px-[2rem]"},[m("span",{class:"font-heading text-subtitle lg:text-title text-screenBlack"}," PAST ")],-1)]))):je("",!0)]),m("div",JZ,[m("h2",QZ,[tt(ve(s.name)+" ",1),s.status==="ongoing"?(X(),ne("span",eJ," LIVE! ")):je("",!0)]),m("h3",{class:Wt(`font-heading text-subtitle lg:text-title relative
								${s.status=="past"?"text-gray-300 ":"text-primary"}`)},ve(s.edition),3)]),m("div",tJ,[m("div",iJ,[r[1]||(r[1]=m("div",{class:"flex justify-center items-center w-full"},[m("div",{class:"h-[3rem] aspect-square"},[m("svg",{width:"30",height:"42",viewBox:"0 0 30 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M15 42L2 22.5L15 27L28 22.5L15 42Z",fill:"#4D4D4D"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30ZM15 23C19.4183 23 23 19.4183 23 15C23 10.5817 19.4183 7 15 7C10.5817 7 7 10.5817 7 15C7 19.4183 10.5817 23 15 23Z",fill:"#4D4D4D"})])])],-1)),m("p",rJ,ve(s.location),1)]),m("div",nJ,[r[2]||(r[2]=m("div",{class:"flex justify-center items-center w-full"},[m("div",{class:"h-[2.5rem] aspect-square"},[m("svg",{width:"31",height:"31",viewBox:"0 0 31 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full w-full"},[m("circle",{cx:"15.0807",cy:"15.0807",r:"14.2581",stroke:"#4D4D4D","stroke-width":"1.64516"}),m("path",{d:"M15.0806 6.85486V15.6291L19.1935 20.0162",stroke:"#4D4D4D","stroke-width":"2.06682"})])])],-1)),m("p",sJ,ve(s.date),1)])])])]),_:2},1032,["to"]))),256))]),r[3]||(r[3]=m("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] flex justify-center py-[10rem]"},[m("p",{class:"font-body text-body lg:text-subtitle text-center"},[tt(" Want to host a competition at your university?"),m("br"),tt(" contact us at "),m("a",{href:"mailto:info@integrationbee.at?subject=Competition%20organization%20request",class:"underline"},"info@integrationbee.at")])],-1))]),r[4]||(r[4]=m("div",{class:"w-full flex items-end p-0 h-[7rem] bg-pearl-white"},[m("div",{class:"w-full h-[6rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1))]),_:1})}}}),O_=kr("newsPageStore",{state:()=>({title:"",newsItems:[],currentPage:1,totalPages:1,loading:!1,error:null,commentText:""}),actions:{async fetchNewsPage(){try{const t=await en.get("/cms/pages/",{params:{type:"home.NewsPage",fields:"title"}});this.title=t.data.items[0].title}catch{Ut().addToast({type:"error",title:"Error has occured",message:"Could not fetch news page, try again later."})}},async fetchNews(t=0){this.loading=!0;const e=10;try{const r=(await en.get("/cms/pages/",{params:{type:"home.NewsPost",fields:"title,id,text,picture",offset:t*e}})).data.items;this.newsItems=r.sort((n,s)=>new Date(s.meta.first_published_at).getTime()-new Date(n.meta.first_published_at).getTime()).map(n=>{var s;return{id:n.id,title:n.title,content:n.text,pictureSrc:(s=n.picture)==null?void 0:s.meta.download_url,date:zh(n.meta.first_published_at)}})}catch{}finally{this.loading=!1}},async postComment(t){}}}),oJ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},lJ={class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"},uJ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-pearl-white flex flex-col justify-center py-[5rem]"},cJ=["onClick"],dJ={class:"grid md:grid-cols-[1fr_20rem] grid-cols-1 gap-x-[1rem]"},hJ={class:"font-semibold"},pJ={class:"md:flex flex-wrap text-right text-body hidden"},fJ={class:"md:hidden flex"},mJ={class:"flex flex-wrap text-right text-body"},gJ=["innerHTML"],yJ={key:0,class:"w-full max-h-[50rem] overflow-hidden rounded-[1.5rem]"},vJ=["src","alt"],bJ={key:0,class:"fixed top-0 left-0 w-full h-full bg-black-100 bg-opacity-40 flex justify-center items-center z-[501]"},xJ={class:"w-full justify-center overflow-y-auto h-[100vh] px-[2rem] pt-[6rem] lg:pt-0"},_J={class:"w-full min-h-full h-max flex justify-center items-center py-[4rem]"},wJ={class:"grid md:grid-cols-[1fr_20rem] grid-cols-1 gap-x-[1rem]"},SJ={class:"font-semibold"},CJ={class:"md:flex flex-wrap text-right text-body hidden"},kJ={class:"md:hidden flex"},TJ={class:"flex flex-wrap text-right text-body"},EJ=["innerHTML"],AJ={key:0,class:"w-full h-max max-h-[50rem] overflow-hidden rounded-[0.7rem]"},MJ=["src","alt"],DJ=st({__name:"News",setup(t){const e=O_(),{commentText:i}=Ui(e);ao(()=>{O_().fetchNews()});const r=Xe(null),n=()=>{r.value=null,document.getElementsByTagName("body")[0].style.overflowY="auto",document.removeEventListener("click",n)},s=a=>{i.value="",r.value=a,document.getElementsByTagName("body")[0].style.overflowY="hidden",document.removeEventListener("click",n),document.addEventListener("click",n)};return XO("fullScreenInputRef"),(a,o)=>{const l=yn("MasonryWall");return X(),Ot(Fn,null,{default:We(()=>[m("div",oJ,[m("h1",lJ,ve(P(e).title),1)]),m("div",uJ,[ge(l,{items:P(e).newsItems,"max-columns":2,"column-width":300,gap:16},{default:We(({item:u,index:c})=>[m("div",{class:"item bg-white flex flex-col gap-[2rem] p-8 rounded-[2.5rem] text-body font-body cursor-pointer text-screenBlack",onClick:d=>{d.stopPropagation(),s(u)}},[m("div",dJ,[m("h2",hJ,ve(u.title),1),m("p",pJ,ve(u.date),1)]),m("div",fJ,[m("p",mJ,ve(u.date),1)]),m("div",null,[m("p",{class:"news-text",innerHTML:P(Qn)(u.content).split(" ").slice(0,50).join(" ")},null,8,gJ),P(Qn)(u.content).split(" ").length>300?(X(),ne(yt,{key:0},[o[1]||(o[1]=m("br",null,null,-1)),o[2]||(o[2]=m("p",null," Click to see more... ",-1))],64)):je("",!0)]),u.pictureSrc?(X(),ne("div",yJ,[m("img",{src:u.pictureSrc,alt:u.pictureAlt,class:"w-full"},null,8,vJ)])):je("",!0)],8,cJ)]),_:1},8,["items"])]),o[4]||(o[4]=m("div",{class:"w-full flex items-end p-0 h-[7rem] bg-pearl-white"},[m("div",{class:"w-full h-[5rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1)),r.value?(X(),ne("div",bJ,[o[3]||(o[3]=m("button",{class:"absolute right-[4rem] top-[4rem] aspect-square w-[2rem] lg:w-[4rem] rounded-full transition-all"},[m("svg",{width:"134",height:"134",viewBox:"0 0 134 134",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_286_9)"},[m("rect",{x:"-2.67847",y:"6.51398",width:"13",height:"184.075",rx:"6.5",transform:"rotate(-45 -2.67847 6.51398)",fill:"#F2F1F0"}),m("rect",{x:"127.482",y:"-2.67841",width:"13",height:"184.075",rx:"6.5",transform:"rotate(45 127.482 -2.67841)",fill:"#F2F1F0"})]),m("defs",null,[m("clipPath",{id:"clip0_286_9"},[m("rect",{width:"134",height:"134",fill:"white"})])])])],-1)),m("div",xJ,[m("div",_J,[m("div",{class:"item bg-white flex flex-col gap-[2rem] p-8 rounded-[2.5rem] text-body font-body overflow-auto text-screenBlack w-full md:w-[70rem]",onClick:o[0]||(o[0]=u=>{u.stopPropagation()})},[m("div",wJ,[m("h2",SJ,ve(r.value.title),1),m("p",CJ,ve(r.value.date),1)]),m("div",kJ,[m("p",TJ,ve(r.value.date),1)]),m("div",null,[m("p",{class:"news-text",innerHTML:P(Qn)(r.value.content)},null,8,EJ)]),r.value.pictureSrc?(X(),ne("div",AJ,[m("img",{src:r.value.pictureSrc,alt:r.value.pictureAlt,class:"w-full"},null,8,MJ)])):je("",!0)])])])])):je("",!0)]),_:1})}}}),LJ=uo(DJ,[["__scopeId","data-v-393a64bd"]]),BJ={class:"w-full h-[50rem] flex justify-between"},PJ={class:"w-[70vw] h-full overflow-x-hidden flex"},IJ={class:"h-[20rem] aspect-square overflow-hidden rounded-full"},RJ=["src"],OJ={class:"w-full text-center flex justify-center font-heading text-subtitle"},FJ={key:0,class:"w-full text-center flex flex-col items-center font-body text-text-sm font-semibold"},NJ=["href"],$J={key:1,class:"w-full text-center flex flex-col items-center font-body text-text-sm font-semibold"},zJ=["href"],UJ=st({__name:"ContactsCarousel",props:{teamMembers:{}},setup(t){const e=Xe(0),i=t,{teamMembers:r}=Ls(i),n=si(()=>r.value.length),s=()=>{e.value<n.value-1&&(e.value+=1)},a=()=>{e.value>0&&(e.value-=1)};return(o,l)=>(X(),ne("div",BJ,[m("div",{class:"h-full flex items-center justify-center w-[4rem]"},[m("button",{class:"w-full aspect-square",onClick:a},l[0]||(l[0]=[m("svg",{width:"22",height:"41",viewBox:"0 0 22 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full -scale-x-100"},[m("path",{d:"M2 1L19.5 20.5L2 39",stroke:"#FBC151","stroke-width":"3"})],-1)]))]),m("div",PJ,[m("div",{class:"h-full w-max flex transition-transform duration-300",style:Zr({transform:`translateX(-${e.value*70}vw)`})},[(X(!0),ne(yt,null,Ni(P(r),(u,c)=>(X(),ne("div",{key:c,class:"w-[70vw] flex flex-col items-center gap-[2rem]"},[m("div",IJ,[m("img",{src:u.imageSrc,alt:"",class:"w-full h-full"},null,8,RJ)]),m("div",OJ,[m("p",null,ve(u.name),1)]),u.tel?(X(),ne("div",FJ,[l[1]||(l[1]=m("p",null,"tel.",-1)),m("a",{href:"tel:"+u.tel.split(" ").join("")},ve(u.tel),9,NJ)])):je("",!0),u.email?(X(),ne("div",$J,[l[2]||(l[2]=m("p",null,"email",-1)),m("a",{href:"mailto:"+u.email.split(" ").join("")},ve(u.email),9,zJ)])):je("",!0)]))),128))],4)]),m("div",{class:"h-full flex items-center justify-center w-[4rem]"},[m("button",{class:"w-full aspect-square",onClick:s},l[3]||(l[3]=[m("svg",{width:"22",height:"41",viewBox:"0 0 22 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M2 1L19.5 20.5L2 39",stroke:"#FBC151","stroke-width":"3"})],-1)]))])]))}}),qJ=kr("contactPageStore",{state:()=>({title:"",aboutUsText:"",generalInqueriesEmail:"",teamMembers:[],loading:!1}),actions:{async fetchContactData(){this.loading=!0;try{const e=(await en.get("/cms/pages",{params:{type:"home.ContactsPage",fields:"title,about_us,inquiry_email,our_team"}})).data.items[0];this.title=e.title,this.aboutUsText=e.about_us,this.generalInqueriesEmail=e.inquiry_email;const i=async()=>{const r=e.our_team.map(async(n,s)=>({id:s,name:n.value.name,imageSrc:await Kb(n.value.picture),role:n.value.role,...n.value.email?{email:n.value.email}:{},...n.value.phone?{tel:n.value.phone}:{}}));return Promise.all(r)};this.teamMembers=await i()}catch{Ut().addToast({type:"error",title:"Couldn't fetch contacts",message:"try again later."})}finally{this.loading=!1}}}}),jJ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},VJ={class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"},HJ={class:"w-full py-[5rem] bg-pearl-white flex flex-col gap-[5rem] text-screenBlack font-body"},KJ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] flex flex-col gap-[2rem]"},WJ={class:"text-center lg:text-left w-full text-body"},GJ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] flex flex-col gap-[2rem]"},XJ={class:"text-center lg:text-left w-full text-body flex flex-col items-center lg:items-start"},YJ={class:"flex flex-col md:flex-row gap-[1rem]"},ZJ=["href"],JJ={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] hidden lg:flex flex-col gap-[2rem]"},QJ={class:"h-full aspect-square"},eQ=["src","alt"],tQ={class:"h-full flex-1 flex flex-col justify-between p-[2rem] text-screenBlack text-body"},iQ={class:"flex flex-col"},rQ={class:"font-heading text-subtitle"},nQ={class:"font-heading text-primary"},sQ={class:"flex flex-col"},aQ={key:0,class:"flex gap-[1rem]"},oQ=["href"],lQ={key:1,class:"flex gap-[1rem]"},uQ=["href"],cQ={class:"w-full h-max px-[2rem] lg:px-[12rem] xl:px-[10vw] flex lg:hidden gap-[2rem]"},dQ=st({__name:"Contact",setup(t){const e=qJ();return(i,r)=>(X(),Ot(Fn,null,{default:We(()=>[m("div",jJ,[m("h1",VJ,ve(P(e).title),1)]),m("div",HJ,[m("section",KJ,[r[0]||(r[0]=m("h2",{class:"font-heading text-title flex justify-center lg:justify-start w-full"},"About us",-1)),m("p",WJ,ve(P(e).aboutUsText),1)]),m("section",GJ,[r[3]||(r[3]=m("h2",{class:"font-heading text-title flex justify-center lg:justify-start w-full"}," Contact us ",-1)),m("div",XJ,[r[2]||(r[2]=m("p",null,"General Inqueries:",-1)),m("div",YJ,[r[1]||(r[1]=m("p",{class:"font-semibold"}," email: ",-1)),m("a",{href:`mailto:${P(e).generalInqueriesEmail}`,class:"underline"},ve(P(e).generalInqueriesEmail),9,ZJ)])])]),m("section",JJ,[(X(!0),ne(yt,null,Ni(P(e).teamMembers,(n,s)=>(X(),ne("div",{key:s,class:"w-full h-[22rem] bg-white-100 overflow-hidden rounded-3xl flex flex-row"},[m("div",QJ,[m("img",{src:n.imageSrc,alt:`photo of ${n.name}`,class:"w-full h-full"},null,8,eQ)]),m("div",tQ,[m("div",iQ,[m("p",rQ,ve(n.name),1),m("p",nQ,ve(n.role),1)]),m("div",sQ,[n.tel?(X(),ne("div",aQ,[r[4]||(r[4]=m("p",{class:"font-semibold"}," tel: ",-1)),m("a",{href:"tel:"+n.tel.split(" ").join(""),class:""},ve(n.tel),9,oQ)])):je("",!0),n.email?(X(),ne("div",lQ,[r[5]||(r[5]=m("p",{class:"font-semibold"}," email: ",-1)),m("a",{href:"mailto:"+n.email.split(" ").join("")},ve(n.email),9,uQ)])):je("",!0)])])]))),128))]),m("section",cQ,[ge(UJ,{teamMembers:P(e).teamMembers},null,8,["teamMembers"])])]),r[6]||(r[6]=m("div",{class:"w-full flex items-end leading-[0] p-0 h-[7rem] bg-pearl-white border-b-screenBlack"},[m("div",{class:"w-full h-[5rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1))]),_:1}))}}),hQ="modulepreload",pQ=function(t){return"/static/"+t},F_={},ze=function(e,i,r){let n=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.allSettled(i.map(l=>{if(l=pQ(l),l in F_)return;F_[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":hQ,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return n.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},N_=(t,e)=>{for(const i of Object.keys(e))t.on(i,e[i])},iL=t=>{for(const e of Object.keys(t)){const i=t[e];i&&Qo(i.cancel)&&i.cancel()}},fQ=t=>!t||typeof t.charAt!="function"?t:t.charAt(0).toUpperCase()+t.slice(1),Qo=t=>typeof t=="function",j0=(t,e,i)=>{for(const r in i){const n="set"+fQ(r);t[n]?_r(()=>i[r],(s,a)=>{t[n](s,a)}):e[n]&&_r(()=>i[r],s=>{e[n](s)})}},zu=(t,e,i={})=>{const r={...i};for(const n in t){const s=e[n],a=t[n];s&&(s&&s.custom===!0||a!==void 0&&(r[n]=a))}return r},_p=t=>{const e={},i={};for(const r in t)if(r.startsWith("on")&&!r.startsWith("onUpdate")&&r!=="onReady"){const n=r.slice(2).toLocaleLowerCase();e[n]=t[r]}else i[r]=t[r];return{listeners:e,attrs:i}},mQ=async t=>{const e=await Promise.all([ze(()=>import("./marker-icon-2x-D4k_ikNW.js"),[]),ze(()=>import("./marker-icon-C2eJqgqv.js"),[]),ze(()=>import("./marker-shadow-DU6CIJ0p.js"),[])]);delete t.Default.prototype._getIconUrl,t.Default.mergeOptions({iconRetinaUrl:e[0].default,iconUrl:e[1].default,shadowUrl:e[2].default})},Mf=t=>{const e=Xe((...r)=>console.warn(`Method ${t} has been invoked without being replaced`)),i=(...r)=>e.value(...r);return i.wrapped=e,Ln(t,i),i},Df=(t,e)=>t.wrapped.value=e,al=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||globalThis,Ka=t=>{const e=hr(t);if(e===void 0)throw new Error(`Attempt to inject ${t.description} before it was provided.`);return e},V0=Symbol("useGlobalLeaflet"),wp=Symbol("addLayer"),rL=Symbol("removeLayer"),nL=Symbol("registerControl"),gQ=Symbol("registerLayerControl"),sL=Symbol("canSetParentHtml"),aL=Symbol("setParentHtml"),oL=Symbol("setIcon"),yQ=Symbol("bindPopup"),vQ=Symbol("bindTooltip"),bQ=Symbol("unbindPopup"),xQ=Symbol("unbindTooltip"),Sp={options:{type:Object,default:()=>({}),custom:!0}},y2=t=>({options:t.options,methods:{}}),H0={...Sp,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},lL=(t,e,i)=>{const r=Ka(wp),n=Ka(rL),{options:s,methods:a}=y2(t),o=zu(t,H0,s),l=()=>r({leafletObject:e.value}),u=()=>n({leafletObject:e.value}),c={...a,setAttribution(d){u(),e.value.options.attribution=d,t.visible&&l()},setName(){u(),t.visible&&l()},setLayerType(){u(),t.visible&&l()},setVisible(d){e.value&&(d?l():u())},bindPopup(d){if(!e.value||!Qo(e.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}e.value.bindPopup(d)},bindTooltip(d){if(!e.value||!Qo(e.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}e.value.bindTooltip(d)},unbindTooltip(){e.value&&(Qo(e.value.closeTooltip)&&e.value.closeTooltip(),Qo(e.value.unbindTooltip)&&e.value.unbindTooltip())},unbindPopup(){e.value&&(Qo(e.value.closePopup)&&e.value.closePopup(),Qo(e.value.unbindPopup)&&e.value.unbindPopup())},updateVisibleProp(d){i.emit("update:visible",d)}};return Ln(yQ,c.bindPopup),Ln(vQ,c.bindTooltip),Ln(bQ,c.unbindPopup),Ln(xQ,c.unbindTooltip),oo(()=>{c.unbindPopup(),c.unbindTooltip(),u()}),{options:o,methods:c}},_Q=(t,e)=>{if(t&&e.default)return lo("div",{style:{display:"none"}},e.default())},wQ={...H0,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},uL={...wQ,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},SQ={...uL,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}};({...SQ});const K0={...Sp,position:{type:String}},CQ=(t,e)=>{const{options:i,methods:r}=y2(t),n=zu(t,K0,i),s={...r,setPosition(a){e.value&&e.value.setPosition(a)}};return oo(()=>{e.value&&e.value.remove()}),{options:n,methods:s}},kQ=t=>t.default?lo("div",{ref:"root"},t.default()):null;({...K0});({...K0});({...K0});({...K0});({...K0});const cL={...H0};({...cL});({...cL});const Wb={...H0,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number},className:{type:String}},dL=(t,e,i)=>{const{options:r,methods:n}=lL(t,e,i),s=zu(t,Wb,r),a={...n,setTileComponent(){var o;(o=e.value)==null||o.redraw()}};return oo(()=>{e.value.off()}),{options:s,methods:a}},TQ=(t,e,i,r)=>t.extend({initialize(n){this.tileComponents={},this.on("tileunload",this._unloadTile),i.setOptions(this,n)},createTile(n){const s=this._tileCoordsToKey(n);this.tileComponents[s]=e.create("div");const a=lo({setup:r,props:["coords"]},{coords:n});return BN(a,this.tileComponents[s]),this.tileComponents[s]},_unloadTile(n){const s=this._tileCoordsToKey(n.coords);this.tileComponents[s]&&(this.tileComponents[s].innerHTML="",this.tileComponents[s]=void 0)}});({...Wb});const $_={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}},EQ=st({name:"LIcon",props:{...$_,...Sp},setup(t,e){const i=Xe(),r=hr(V0),n=Ka(sL),s=Ka(aL),a=Ka(oL);let o,l,u,c,d;const h=(C,S,A)=>{const T=C&&C.innerHTML;if(!S){A&&d&&n()&&s(T);return}const{listeners:M}=_p(e.attrs);d&&l(d,M);const{options:D}=y2(t),B=zu(t,$_,D);T&&(B.html=T),d=B.html?u(B):c(B),o(d,M),a(d)},f=()=>{Ms(()=>h(i.value,!0,!1))},g=()=>{Ms(()=>h(i.value,!1,!0))},y={setIconUrl:f,setIconRetinaUrl:f,setIconSize:f,setIconAnchor:f,setPopupAnchor:f,setTooltipAnchor:f,setShadowUrl:f,setShadowRetinaUrl:f,setShadowAnchor:f,setBgPos:f,setClassName:f,setHtml:f};return qi(async()=>{const{DomEvent:C,divIcon:S,icon:A}=r?al.L:await ze(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);o=C.on,l=C.off,u=S,c=A,j0(y,{},t),new MutationObserver(g).observe(i.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),f()}),{root:i}},render(){const t=this.$slots.default?this.$slots.default():void 0;return lo("div",{ref:"root"},t)}});({...H0});function hL(t,e,i){var r,n,s;e===void 0&&(e=50),i===void 0&&(i={});var a=(r=i.isImmediate)!=null&&r,o=(n=i.callback)!=null&&n,l=i.maxWait,u=Date.now(),c=[];function d(){if(l!==void 0){var f=Date.now()-u;if(f+e>=l)return l-f}return e}var h=function(){var f=[].slice.call(arguments),g=this;return new Promise(function(y,C){var S=a&&s===void 0;if(s!==void 0&&clearTimeout(s),s=setTimeout(function(){if(s=void 0,u=Date.now(),!a){var T=t.apply(g,f);o&&o(T),c.forEach(function(M){return(0,M.resolve)(T)}),c=[]}},d()),S){var A=t.apply(g,f);return o&&o(A),y(A)}c.push({resolve:y,reject:C})})};return h.cancel=function(f){s!==void 0&&clearTimeout(s),c.forEach(function(g){return(0,g.reject)(f)}),c=[]},h}const z_={...Sp,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},AQ=st({inheritAttrs:!1,emits:["ready","update:zoom","update:center","update:bounds"],props:z_,setup(t,e){const i=Xe(),r=L0({ready:!1,layersToAdd:[],layersInControl:[]}),{options:n}=y2(t),s=zu(t,z_,n),{listeners:a,attrs:o}=_p(e.attrs),l=Mf(wp),u=Mf(rL),c=Mf(nL),d=Mf(gQ);Ln(V0,t.useGlobalLeaflet);const h=si(()=>{const S={};return t.noBlockingAnimations&&(S.animate=!1),S}),f=si(()=>{const S=h.value;return t.padding&&(S.padding=t.padding),t.paddingTopLeft&&(S.paddingTopLeft=t.paddingTopLeft),t.paddingBottomRight&&(S.paddingBottomRight=t.paddingBottomRight),S}),g={moveend:hL(S=>{r.leafletRef&&(e.emit("update:zoom",r.leafletRef.getZoom()),e.emit("update:center",r.leafletRef.getCenter()),e.emit("update:bounds",r.leafletRef.getBounds()))}),overlayadd(S){const A=r.layersInControl.find(T=>T.name===S.name);A&&A.updateVisibleProp(!0)},overlayremove(S){const A=r.layersInControl.find(T=>T.name===S.name);A&&A.updateVisibleProp(!1)}};qi(async()=>{t.useGlobalLeaflet&&(al.L=al.L||await ze(()=>import("./leaflet-src-BMsyDfX4.js").then(O=>O.l),[]));const{map:S,CRS:A,Icon:T,latLngBounds:M,latLng:D,stamp:B}=t.useGlobalLeaflet?al.L:await ze(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);try{s.beforeMapMount&&await s.beforeMapMount()}catch(O){console.error(`The following error occurred running the provided beforeMapMount hook ${O.message}`)}await mQ(T);const F=typeof s.crs=="string"?A[s.crs]:s.crs;s.crs=F||A.EPSG3857;const V={addLayer(O){O.layerType!==void 0&&(r.layerControl===void 0?r.layersToAdd.push(O):r.layersInControl.find(U=>B(U.leafletObject)===B(O.leafletObject))||(r.layerControl.addLayer(O),r.layersInControl.push(O))),O.visible!==!1&&r.leafletRef.addLayer(O.leafletObject)},removeLayer(O){O.layerType!==void 0&&(r.layerControl===void 0?r.layersToAdd=r.layersToAdd.filter(U=>U.name!==O.name):(r.layerControl.removeLayer(O.leafletObject),r.layersInControl=r.layersInControl.filter(U=>B(U.leafletObject)!==B(O.leafletObject)))),r.leafletRef.removeLayer(O.leafletObject)},registerLayerControl(O){r.layerControl=O,r.layersToAdd.forEach(U=>{r.layerControl.addLayer(U)}),r.layersToAdd=[],c(O)},registerControl(O){r.leafletRef.addControl(O.leafletObject)},setZoom(O){const U=r.leafletRef.getZoom();O!==U&&r.leafletRef.setZoom(O,h.value)},setCrs(O){const U=r.leafletRef.getBounds();r.leafletRef.options.crs=O,r.leafletRef.fitBounds(U,{animate:!1,padding:[0,0]})},fitBounds(O){r.leafletRef.fitBounds(O,f.value)},setBounds(O){if(!O)return;const U=M(O);U.isValid()&&!(r.lastSetBounds||r.leafletRef.getBounds()).equals(U,0)&&(r.lastSetBounds=U,r.leafletRef.fitBounds(U))},setCenter(O){if(O==null)return;const U=D(O),J=r.lastSetCenter||r.leafletRef.getCenter();(J.lat!==U.lat||J.lng!==U.lng)&&(r.lastSetCenter=U,r.leafletRef.panTo(U,h.value))}};Df(l,V.addLayer),Df(u,V.removeLayer),Df(c,V.registerControl),Df(d,V.registerLayerControl),r.leafletRef=_l(S(i.value,s)),j0(V,r.leafletRef,t),N_(r.leafletRef,g),N_(r.leafletRef,a),r.ready=!0,Ms(()=>e.emit("ready",r.leafletRef))}),Ou(()=>{iL(g),r.leafletRef&&(r.leafletRef.off(),r.leafletRef.remove())});const y=si(()=>r.leafletRef),C=si(()=>r.ready);return{root:i,ready:C,leafletObject:y,attrs:o}},render({attrs:t}){return t.style||(t.style={}),t.style.width||(t.style.width="100%"),t.style.height||(t.style.height="100%"),lo("div",{...t,ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),MQ=["Symbol(Comment)","Symbol(Text)"],DQ=["LTooltip","LPopup"],pL={...H0,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},LQ=(t,e,i)=>{const{options:r,methods:n}=lL(t,e,i),s=zu(t,pL,r),a={...n,setDraggable(o){e.value.dragging&&(o?e.value.dragging.enable():e.value.dragging.disable())},latLngSync(o){i.emit("update:latLng",o.latlng),i.emit("update:lat-lng",o.latlng)},setLatLng(o){if(o!=null&&e.value){const l=e.value.getLatLng();(!l||!l.equals(o))&&e.value.setLatLng(o)}}};return{options:s,methods:a}},BQ=(t,e)=>{const i=e.slots.default&&e.slots.default();return i&&i.length&&i.some(PQ)};function PQ(t){return!(MQ.includes(t.type.toString())||DQ.includes(t.type.name))}const IQ=st({name:"LMarker",props:pL,setup(t,e){const i=Xe(),r=Xe(!1),n=hr(V0),s=Ka(wp);Ln(sL,()=>{var u;return!!((u=i.value)!=null&&u.getElement())}),Ln(aL,u=>{var c,d;const h=Qo((c=i.value)==null?void 0:c.getElement)&&((d=i.value)==null?void 0:d.getElement());h&&(h.innerHTML=u)}),Ln(oL,u=>{var c;return((c=i.value)==null?void 0:c.setIcon)&&i.value.setIcon(u)});const{options:a,methods:o}=LQ(t,i,e),l={moveHandler:hL(o.latLngSync)};return qi(async()=>{const{marker:u,divIcon:c}=n?al.L:await ze(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);BQ(a,e)&&(a.icon=c({className:""})),i.value=_l(u(t.latLng,a));const{listeners:d}=_p(e.attrs);i.value.on(d),i.value.on("move",l.moveHandler),j0(o,i.value,t),s({...t,...o,leafletObject:i.value}),r.value=!0,Ms(()=>e.emit("ready",i.value))}),Ou(()=>iL(l)),{ready:r,leafletObject:i}},render(){return _Q(this.ready,this.$slots)}}),RQ={...uL,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},U_={...RQ},fL={...Sp,content:{type:String,default:null}};({...fL});({...U_,latLngs:{...U_.latLngs}});const Gb={...Wb,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:t=>typeof t=="string"?!0:Array.isArray(t)?t.every(e=>typeof e=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},OQ=(t,e,i)=>{const{options:r,methods:n}=dL(t,e,i),s=zu(t,Gb,r),a={...n};return{options:s,methods:a}},FQ=st({props:Gb,setup(t,e){const i=Xe(),r=hr(V0),n=Ka(wp),{options:s,methods:a}=OQ(t,i,e);return qi(async()=>{const{tileLayer:o}=r?al.L:await ze(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);i.value=_l(o(t.url,s));const{listeners:l}=_p(e.attrs);i.value.on(l),j0(a,i.value,t),n({...t,...a,leafletObject:i.value}),Ms(()=>e.emit("ready",i.value))}),{leafletObject:i}},render(){return null}});({...fL});({...Gb});const v2=kr("eventPageStore",{state:()=>({competitionId:null,competitionName:"",edition:"",description:"",eventPictureSrc:"",mainSponsorExists:!1,mainSponsor:{sponsorName:"",description:"",logoSrc:""},goldSponsors:[],silverSponsors:[],bronzeSponsors:[],sections:[],participatePanel:{zoom:12,coordinates:[0,0],isRegistrationOpen:!1,participantsCount:0,location:"",locationMapsUrl:"",date:""},tournamentBracket:{eightFinals:[{id:1,participant1:"",participant2:""},{id:2,participant1:"",participant2:""},{id:3,participant1:"",participant2:""},{id:4,participant1:"",participant2:""},{id:5,participant1:"",participant2:""},{id:6,participant1:"",participant2:""},{id:7,participant1:"",participant2:""},{id:8,participant1:"",participant2:""}],quarterfinals:[{id:9,participant1:"",participant2:""},{id:10,participant1:"",participant2:""},{id:11,participant1:"",participant2:""},{id:12,participant1:"",participant2:""}],semifinals:[{id:13,participant1:"",participant2:""},{id:14,participant1:"",participant2:""}],finals:[{id:15,participant1:"",participant2:""}]},loading:!1}),actions:{async fetchEventData(t){this.loading=!0;const e=Ut();try{const r=(await en.get(`/cms/pages/${t}/`)).data;this.competitionId=r.competition.id,this.competitionName=r.title,this.edition=r.edition,this.description=r.description,this.eventPictureSrc=r.picture.meta.download_url;const n=async s=>{const a=r.sponsors.filter(o=>o.value.sponsor_tier===s).map(async o=>({sponsorName:o.value.sponsor_name,logoSrc:await Kb(o.value.sponsor_logo),logoSize:o.value.sponsor_logo_size,...s==="main"?{description:o.value.sponsor_description}:{}}));return Promise.all(a)};this.mainSponsorExists=!!r.sponsors.find(s=>s.value.sponsor_tier=="main"),this.mainSponsor=this.mainSponsorExists&&(await n("main"))[0]||null,this.goldSponsors=await n("gold"),this.silverSponsors=await n("silver"),this.bronzeSponsors=await n("bronze"),this.sections=r.sections.map(s=>({title:s.value.title,text:s.value.body})),this.participatePanel={zoom:12,coordinates:[r.latitude,r.longitude],isRegistrationOpen:!r.competition.close_registration,reasonRegistrationClosed:r.competition.close_registration,participantsCount:r.competition.users_count,date:zh(r.competition.event_date_start)+"<br>"+zh(r.competition.event_date_end),location:r.place,locationMapsUrl:`https://www.google.com/maps/dir//${r.latitude},${r.longitude}`},r.competition.rounds.length&&(this.tournamentBracket.eightFinals=r.competition.rounds.find(s=>s.name==="1/8 Finals").matches.sort((s,a)=>s.sort_order-a.sort_order).map(s=>({id:s.id,participant1:s.player1,participant2:s.player2,winner:s.winner})),this.tournamentBracket.quarterfinals=r.competition.rounds.find(s=>s.name==="Quarterfinals").matches.sort((s,a)=>s.sort_order-a.sort_order).map(s=>({id:s.id,participant1:s.player1,participant2:s.player2,winner:s.winner})),this.tournamentBracket.semifinals=r.competition.rounds.find(s=>s.name==="Semifinals").matches.sort((s,a)=>s.sort_order-a.sort_order).map(s=>({id:s.id,participant1:s.player1,participant2:s.player2,winner:s.winner})),this.tournamentBracket.finals=r.competition.rounds.find(s=>s.name==="Finals").matches.sort((s,a)=>s.sort_order-a.sort_order).map(s=>({id:s.id,participant1:s.player1,participant2:s.player2,winner:s.winner})))}catch{e.addToast({type:"error",title:"Error has occured",message:"could not fetch infos about this event"})}finally{this.loading=!1}},async deregisterParticipant(){try{await wr.patch(`/competition/${this.competitionId}/`,{action:"unregister"}),Ut().addToast({type:"success",title:"Success",message:"Your participation was successfully cancelled!"})}catch{Ut().addToast({type:"error",title:"Error has occured",message:"could not deregister"})}}}}),NQ={class:"flex flex-col gap-[2rem]"},$Q={key:0,class:"w-full h-[20rem] overflow-hidden rounded-xl hidden lg:flex z-[2]"},zQ={class:"w-full grid grid-cols-[4rem_1fr]"},UQ=["innerHTML"],qQ={class:"w-full grid grid-cols-[4rem_1fr] max-w-full"},jQ=["href","innerHTML"],VQ={key:1,class:"w-full flex justify-center items-center"},HQ={class:"text-body font-body text-gray-400"},KQ={class:"w-full flex justify-center items-center"},WQ=["title"],GQ=["title"],XQ={class:"w-full flex justify-center items-center"},YQ={class:"text-body font-body"},ZQ=st({__name:"CompetitionParticipatePanel",props:{data:{}},emits:["showParticipationForm"],setup(t,{emit:e}){const i=t,{data:r}=Ls(i),n=v2(),{competitionId:s}=Ui(n),{deregisterParticipant:a,fetchEventData:o}=n,{getProfileData:l}=Sr(),{competitions:u,isAuthenticated:c}=Ui(Sr()),d=Xe(r.value.zoom),h=e,f=si(()=>u.value.find(y=>y.id==s.value)),g=async()=>{confirm("Are you sure you want to cancel your participation?")&&(await a(),await l())};return(y,C)=>(X(),ne("div",NQ,[P(r).coordinates[0]!==0||P(r).coordinates[1]!==0?(X(),ne("div",$Q,[ge(P(AQ),{"use-global-leaflet":!1,class:"h-full w-full",ref:"map",modelValue:d.value,"onUpdate:modelValue":C[0]||(C[0]=S=>d.value=S),zoom:d.value,"onUpdate:zoom":C[1]||(C[1]=S=>d.value=S),center:P(r).coordinates},{default:We(()=>[ge(P(FQ),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png","layer-type":"base",name:"OpenStreetMap"}),ge(P(IQ),{"lat-lng":P(r).coordinates},{default:We(()=>[ge(P(EQ),{"icon-size":[0,0],"icon-anchor":[25,50],class:"bg-transparent"},{default:We(()=>C[3]||(C[3]=[m("img",{src:"https://i.postimg.cc/3RJGQqj2/location-Marker.png"},null,-1)])),_:1})]),_:1},8,["lat-lng"])]),_:1},8,["modelValue","zoom","center"])])):je("",!0),m("div",zQ,[C[4]||(C[4]=sa('<div class="flex justify-center items-start pt-[0.2rem] w-full"><div class="h-[3rem] aspect-square"><svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-full w-full"><circle cx="15.0807" cy="15.0807" r="14.2581" stroke="#4D4D4D" stroke-width="1.64516"></circle><path d="M15.0806 6.85486V15.6291L19.1935 20.0162" stroke="#4D4D4D" stroke-width="2.06682"></path></svg></div></div>',1)),m("p",{class:"font-body text-body lg:text-text-sm text-gray",innerHTML:P(Qn)(P(r).date)},null,8,UQ)]),m("div",qQ,[C[5]||(C[5]=sa('<div class="flex justify-center items-start w-full"><div class="h-[4rem] aspect-square"><svg width="30" height="42" viewBox="0 0 30 42" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full"><path d="M15 42L2 22.5L15 27L28 22.5L15 42Z" fill="#4D4D4D"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30ZM15 23C19.4183 23 23 19.4183 23 15C23 10.5817 19.4183 7 15 7C10.5817 7 7 10.5817 7 15C7 19.4183 10.5817 23 15 23Z" fill="#4D4D4D"></path></svg></div></div>',1)),m("a",{href:P(r).locationMapsUrl,target:"_blank",class:"font-body text-body lg:text-text-sm text-gray max-w-full lg:hover:underline",innerHTML:P(Qn)(P(r).location)},null,8,jQ)]),P(r).isRegistrationOpen?je("",!0):(X(),ne("div",VQ,[m("p",HQ,ve(P(r).reasonRegistrationClosed),1)])),m("div",KQ,[!f.value||!P(c)?(X(),ne("button",{key:0,class:Wt({"overflow-hidden rounded-[20px] font-heading text-title  px-[4rem] pt-[0.6rem] pb-[0.4rem] relative ":!0,"bg-gray-100 text-gray-400 cursor-default":!P(r).isRegistrationOpen,"bg-primary border-primary border-4 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:hidden lg:after:flex after:bg-pearl-white lg:hover:after:scale-y-0 after:transition-transform after:duration-200 after:will-change-transform after:origin-top":P(r).isRegistrationOpen}),title:P(r).isRegistrationOpen?"take part":"registration isn't open",onClick:C[2]||(C[2]=()=>P(r).isRegistrationOpen&&h("showParticipationForm"))},C[6]||(C[6]=[m("span",{class:"relative z-[2]"}," Participate ",-1)]),10,WQ)):(X(),ne("button",{key:1,class:Wt({"overflow-hidden rounded-[20px] font-heading text-title  px-[4rem] pt-[0.6rem] pb-[0.4rem] relative ":!0,"bg-gray-100 text-gray-400 cursor-default":!P(r).isRegistrationOpen,"bg-red border-red border-4 text-pearl-white lg:hover:text-screenBlack":P(r).isRegistrationOpen}),title:P(r).isRegistrationOpen?"cancel participation":"deregistration is closed",onClick:g},C[7]||(C[7]=[m("span",{class:"relative z-[2]"}," Cancel ",-1)]),10,GQ))]),m("div",XQ,[m("p",YQ," Participants: "+ve(P(r).participantsCount),1)])]))}}),JQ=["data-aos-delay"],QQ={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},eee={class:"relative w-full h-full"},tee={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},iee={class:"relative h-full aspect-square flex justify-center items-center"},ree=["src","alt"],nee={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},see={class:"font-heading text-subtitle lg:text-subtitle text-screenBlack"},aee=st({__name:"GoldSponsorLogo",props:{logoSrc:{type:String},sponsorName:{type:String},index:{type:Number,required:!0},logoSize:{type:Number,required:!0}},setup(t){return(e,i)=>(X(),ne("div",{"data-aos":"fade-left","data-aos-delay":t.index*50,"data-aos-offset":"20",class:"relative w-[35rem] h-[35rem]"},[i[1]||(i[1]=m("div",{class:"w-full h-full absolute z-[1]"},[m("svg",{width:"485",height:"485",viewBox:"0 0 485 485",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full"},[m("path",{d:"M315.567 73.0906L425.715 221.082L352.624 390.468L169.386 411.863L59.2388 263.872L132.329 94.4854L315.567 73.0906Z",fill:"#FBC151"}),m("path",{d:"M309.567 91.0447L407.668 222.852L342.571 373.714L179.372 392.769L81.2699 260.962L146.367 110.1L309.567 91.0447Z",fill:"#F2F1F0"})])],-1)),m("div",QQ,[m("div",eee,[m("div",tee,[m("div",iee,[i[0]||(i[0]=m("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),m("img",{src:t.logoSrc,alt:`${t.sponsorName} logo`,class:"relative z-[4]",style:Zr({width:`${t.logoSize}%`,height:`${t.logoSize}%`})},null,12,ree)])])]),m("div",nee,[m("p",see,ve(t.sponsorName),1)])])],8,JQ))}}),oee={class:"row-span-4 col-span-4 grid grid-cols-1 grid-rows-3 text-text-xs lg:text-text-sm"},lee={class:"flex justify-center items-center text-center border-b-2 border-screenBlack whitespace-nowrap"},uee={class:"flex justify-center items-center text-center border-t-2 border-screenBlack whitespace-nowrap"},Ur=st({__name:"TournamentBracketItem",props:{participant1:String,participant2:String},setup(t){return(e,i)=>(X(),ne("div",oee,[m("p",lee,ve(t.participant1),1),i[0]||(i[0]=m("div",{class:"flex justify-center items-center"},[m("p",{class:"font-heading"},"vs")],-1)),m("p",uee,ve(t.participant2),1)]))}}),cee={class:"grid grid-cols-[repeat(42,1fr)] grid-rows-[repeat(28,1fr)] aspect-[42/28] font-body text-screenBlack"},dee=st({__name:"TournamentBracket",props:{data:{}},setup(t){const e=t,{data:i}=Ls(e);return(r,n)=>(X(),ne("div",cee,[ge(Ur,{class:"col-start-1 row-start-1",participant1:P(i).eightFinals[0].participant1,participant2:P(i).eightFinals[0].participant2},null,8,["participant1","participant2"]),n[0]||(n[0]=m("div",{class:"row-start-[3] col-start-[5] row-span-2 col-span-4 border-t-2 border-r-2 border-screenBlack"},null,-1)),n[1]||(n[1]=m("div",{class:"row-start-[9] col-start-[5] row-span-2 col-span-4 border-b-2 border-r-2 border-screenBlack"},null,-1)),ge(Ur,{class:"col-start-1 row-start-9",participant1:P(i).eightFinals[1].participant1,participant2:P(i).eightFinals[1].participant2},null,8,["participant1","participant2"]),ge(Ur,{class:"col-start-1 row-start-[17]",participant1:P(i).eightFinals[2].participant1,participant2:P(i).eightFinals[2].participant2},null,8,["participant1","participant2"]),n[2]||(n[2]=m("div",{class:"row-start-[19] col-start-[5] row-span-2 col-span-4 border-t-2 border-r-2 border-screenBlack"},null,-1)),n[3]||(n[3]=m("div",{class:"row-start-[25] col-start-[5] row-span-2 col-span-4 border-b-2 border-r-2 border-screenBlack"},null,-1)),ge(Ur,{class:"col-start-1 row-start-[25]",participant1:P(i).eightFinals[3].participant1,participant2:P(i).eightFinals[3].participant2},null,8,["participant1","participant2"]),ge(Ur,{class:"col-start-7 row-start-[5]",participant1:P(i).quarterfinals[0].participant1,participant2:P(i).quarterfinals[0].participant2},null,8,["participant1","participant2"]),n[4]||(n[4]=m("div",{class:"row-start-[7] col-start-[11] row-span-6 col-span-4 border-t-2 border-r-2 border-screenBlack"},null,-1)),n[5]||(n[5]=m("div",{class:"row-start-[17] col-start-[11] row-span-6 col-span-4 border-b-2 border-r-2 border-screenBlack"},null,-1)),ge(Ur,{class:"col-start-7 row-start-[21]",participant1:P(i).quarterfinals[1].participant1,participant2:P(i).quarterfinals[1].participant2},null,8,["participant1","participant2"]),ge(Ur,{class:"col-start-[13] row-start-[13]",participant1:P(i).semifinals[0].participant1,participant2:P(i).semifinals[0].participant2},null,8,["participant1","participant2"]),ge(Ur,{class:"col-start-[39] row-start-1",participant1:P(i).eightFinals[4].participant1,participant2:P(i).eightFinals[4].participant2},null,8,["participant1","participant2"]),n[6]||(n[6]=m("div",{class:"row-start-[3] col-start-[35] row-span-2 col-span-4 border-t-2 border-l-2 border-screenBlack"},null,-1)),n[7]||(n[7]=m("div",{class:"row-start-[9] col-start-[35] row-span-2 col-span-4 border-b-2 border-l-2 border-screenBlack"},null,-1)),ge(Ur,{class:"col-start-[39] row-start-9",participant1:P(i).eightFinals[5].participant1,participant2:P(i).eightFinals[5].participant2},null,8,["participant1","participant2"]),ge(Ur,{class:"col-start-[39] row-start-[17]",participant1:P(i).eightFinals[6].participant1,participant2:P(i).eightFinals[6].participant2},null,8,["participant1","participant2"]),n[8]||(n[8]=m("div",{class:"row-start-[19] col-start-[35] row-span-2 col-span-4 border-t-2 border-l-2 border-screenBlack"},null,-1)),n[9]||(n[9]=m("div",{class:"row-start-[25] col-start-[35] row-span-2 col-span-4 border-b-2 border-l-2 border-screenBlack"},null,-1)),ge(Ur,{class:"col-start-[39] row-start-[25]",participant1:P(i).eightFinals[7].participant1,participant2:P(i).eightFinals[7].participant2},null,8,["participant1","participant2"]),ge(Ur,{class:"col-start-[33] row-start-[5]",participant1:P(i).quarterfinals[2].participant1,participant2:P(i).quarterfinals[2].participant2},null,8,["participant1","participant2"]),n[10]||(n[10]=m("div",{class:"row-start-[7] col-start-[29] row-span-6 col-span-4 border-t-2 border-l-2 border-screenBlack"},null,-1)),n[11]||(n[11]=m("div",{class:"row-start-[17] col-start-[29] row-span-6 col-span-4 border-b-2 border-l-2 border-screenBlack"},null,-1)),ge(Ur,{class:"col-start-[33] row-start-[21]",participant1:P(i).quarterfinals[3].participant1,participant2:P(i).quarterfinals[3].participant2},null,8,["participant1","participant2"]),ge(Ur,{class:"col-start-[27] row-start-[13]",participant1:P(i).semifinals[1].participant1,participant2:P(i).semifinals[1].participant2},null,8,["participant1","participant2"]),n[12]||(n[12]=m("div",{class:"col-start-[19] row-start-[9] lg:row-start-[10] col-span-6 row-span-3 flex justify-center items-center"},[m("p",{class:"text-center font-heading text-body lg:text-subtitle"}," Finals ")],-1)),ge(Ur,{class:"col-start-[20] row-start-[13]",participant1:P(i).finals[0].participant1,participant2:P(i).finals[0].participant2},null,8,["participant1","participant2"]),n[13]||(n[13]=m("div",{class:"row-start-[15] col-start-[17] row-span-6 col-span-3 border-t-2 border-screenBlack"},null,-1)),n[14]||(n[14]=m("div",{class:"row-start-[15] col-start-[24] row-span-6 col-span-3 border-t-2 border-screenBlack"},null,-1))]))}}),hee=["data-aos-delay"],pee={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},fee={class:"relative w-full h-full"},mee={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},gee={class:"relative h-full aspect-square flex justify-center items-center"},yee=["src","alt"],vee={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},bee={class:"font-heading text-body lg:text-subtitle text-screenBlack"},xee=st({__name:"SilverSponsorLogo",props:{logoSrc:{type:String},sponsorName:{type:String},index:{type:Number,required:!0},logoSize:{type:Number,required:!0}},setup(t){return(e,i)=>(X(),ne("div",{"data-aos":"fade-left","data-aos-delay":t.index*50,"data-aos-offset":"20",class:"relative w-[30rem] h-[30rem]"},[i[1]||(i[1]=m("div",{class:"w-full h-full absolute z-[1]"},[m("svg",{width:"372",height:"372",viewBox:"0 0 372 372",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full"},[m("path",{d:"M242.067 56.0666L326.559 169.588L270.492 299.522L129.934 315.933L45.4412 202.412L101.508 72.4782L242.067 56.0666Z",fill:"#757575"}),m("path",{d:"M237.463 69.839L312.715 170.946L262.78 286.67L137.593 301.287L62.3406 200.18L112.276 84.4558L237.463 69.839Z",fill:"#F2F1F0"})])],-1)),m("div",pee,[m("div",fee,[m("div",mee,[m("div",gee,[i[0]||(i[0]=m("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),m("img",{src:t.logoSrc,alt:`${t.sponsorName} logo`,class:"relative z-[4]",style:Zr({width:`${t.logoSize}%`,height:`${t.logoSize}%`})},null,12,yee)])])]),m("div",vee,[m("p",bee,ve(t.sponsorName),1)])])],8,hee))}}),_ee=["data-aos-delay"],wee={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},See={class:"relative w-full h-full"},Cee={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},kee={class:"relative h-full aspect-square flex justify-center items-center"},Tee=["src","alt"],Eee={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},Aee={class:"font-heading text-body lg:text-body text-screenBlack"},Mee=st({__name:"BronzeSponsorLogo",props:{logoSrc:{type:String},sponsorName:{type:String},index:{type:Number,required:!0},logoSize:{type:Number,required:!0}},setup(t){return(e,i)=>(X(),ne("div",{"data-aos":"fade-left","data-aos-delay":t.index*50,"data-aos-offset":"20",class:"relative w-[25rem] h-[25rem]"},[i[1]||(i[1]=m("div",{class:"w-full h-full absolute z-[1]"},[m("svg",{width:"293",height:"293",viewBox:"0 0 293 293",fill:"none",xmlns:"http://www.w3.org/2000/svg","preserve-aspect-ratio":"none",class:"w-full h-full"},[m("path",{d:"M190.66 44.16L257.209 133.574L213.049 235.914L102.34 248.84L35.7908 159.426L79.9508 57.0863L190.66 44.16Z",fill:"#CD7F32"}),m("path",{d:"M187.034 55.0074L246.306 134.643L206.975 225.791L108.373 237.304L49.1018 157.668L88.4324 66.5201L187.034 55.0074Z",fill:"#F2F1F0"})])],-1)),m("div",wee,[m("div",See,[m("div",Cee,[m("div",kee,[i[0]||(i[0]=m("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),m("img",{src:t.logoSrc,alt:`${t.sponsorName} logo`,class:"relative z-[4]",style:Zr({width:`${t.logoSize}%`,height:`${t.logoSize}%`})},null,12,Tee)])])]),m("div",Eee,[m("p",Aee,ve(t.sponsorName),1)])])],8,_ee))}}),Dee={class:"relative h-[8rem] flex justify-start items-end text-body text-screenBlack"},Lee=["type","value","name"],Bee={class:"absolute w-full h-full top-0 left-0 pointer-events-none"},Pee={class:"relative w-full h-full"},Iee={class:"absolute w-full h-full top-0 left-0 origin-center scale-[1] flex justify-center items-center z-[10] rotate-45"},Ree={key:0,class:"h-[2px] w-full bg-screenBlack origin-left box-content rounded will-change-transform lg:group-hover:bg-primary"},_s=st({__name:"FormInput",props:{modelValue:{type:String},label:{type:String},type:{type:String},name:{type:String},invalid:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const i=t,{modelValue:r,label:n,invalid:s}=Ls(i),a=e,o=Xe(i.type);function l(){o.value=="password"?o.value="text":o.value="password"}const u="input"+Math.floor(Math.random()*1e5).toString();return(c,d)=>(X(),ne("div",Dee,[m("div",{class:Wt({"h-[50%] relative w-full border-b-2 has-[:focus]:border-b-primary transition-all duration-100":!0,"border-b-red":P(s),"border-b-screenBlack":!P(s)})},[m("input",{type:o.value,value:P(r),onInput:d[0]||(d[0]=h=>a("update:modelValue",h.target.value)),class:Wt(`w-full h-full outline-none font-body bg-pearl-white pl-[2rem] peer ${t.type=="password"?"pr-[7rem]":"pr-[2rem]"}`),placeholder:" ",id:u,name:t.name,autocomplete:"true"},null,42,Lee),m("label",{for:u,class:Wt({"px-[2rem] font-heading absolute w-full h-full top-0 left-0 justify-start items-center pointer-events-none peer-focus:-translate-y-[100%] transition-all duration-100 peer-[:not(:placeholder-shown)]:-translate-y-[100%] peer-[:autofill]:-translate-y-[100%] whitespace-nowrap":!0,"peer-focus:text-primary":!P(s),"text-red":P(s)})},ve(P(n)),3),t.type=="password"?(X(),ne("button",{key:0,type:"button",onClick:l,class:"absolute h-full aspect-square right-[2rem] top-0 flex justify-center items-center fill-screenBlack lg:hover:fill-primary group p-2"},[d[1]||(d[1]=sa('<svg width="25" height="17" viewBox="0 0 25 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full fill-inherit"><g clip-path="url(#clip0_352_208)"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.0429876 8.08552C2.14476 3.3236 6.90809 0 12.4477 0C17.9873 0 22.7506 3.32361 24.8524 8.08552C24.9097 8.21538 24.9097 8.36367 24.8524 8.49353C22.7506 13.2554 17.9873 16.579 12.4477 16.579C6.90809 16.579 2.14476 13.2554 0.0429875 8.49353C-0.0143292 8.36367 -0.0143291 8.21538 0.0429876 8.08552ZM18.9045 8.42096C18.9045 12.0544 15.959 14.9999 12.3255 14.9999C8.69205 14.9999 5.74656 12.0544 5.74656 8.42096C5.74656 4.78751 8.69205 1.84201 12.3255 1.84201C15.959 1.84201 18.9045 4.78751 18.9045 8.42096ZM17.6513 8.42109C17.6513 11.3625 15.2668 13.7469 12.3255 13.7469C9.38409 13.7469 6.99964 11.3625 6.99964 8.42109C6.99964 5.47973 9.38409 3.09528 12.3255 3.09528C15.2668 3.09528 17.6513 5.47973 17.6513 8.42109ZM14.6023 4.70419C14.713 4.68767 14.8241 4.73146 14.8937 4.81906L16.2905 6.57566C16.3602 6.66326 16.3778 6.78138 16.3367 6.88551L15.5139 8.97343C15.4728 9.07756 15.3794 9.15189 15.2687 9.16842L13.049 9.49975C12.9383 9.51627 12.8272 9.47248 12.7576 9.38488L11.3608 7.62828C11.2911 7.54067 11.2735 7.42256 11.3145 7.31843L12.1374 5.2305C12.1785 5.12637 12.2719 5.05205 12.3826 5.03552L14.6023 4.70419Z"></path></g><defs><clipPath id="clip0_352_208"><rect width="25" height="16.5789" fill="white"></rect></clipPath></defs></svg>',1)),m("div",Bee,[m("div",Pee,[m("div",Iee,[ge(ua,{"enter-from-class":"scale-x-0","enter-active-class":"transition-tranform duration-150","enter-to-class":"scale-x-1","leave-from-class":"scale-x-1","leave-active-class":"transition-tranform duration-150 origin-right","leave-to-class":"scale-x-0 "},{default:We(()=>[o.value=="text"?(X(),ne("div",Ree)):je("",!0)]),_:1})])])])])):je("",!0)],2)]))}});async function Oee(){try{const t=await navigator.permissions.query({name:"microphone"});return t.state==="granted"?!0:(t.state==="denied",!1)}catch{return!1}}var mL={exports:{}},e3={exports:{}},q_;function Fee(){return q_||(q_=1,function(t){function e(){const i={stop:"stop",listening:"listen",recording:"record",paused:"pause"};class r{constructor(a){this.sampleRate=a,this.sampleBlocs=[],this.length=0}push(a,o){if(this.length+=a.length,this.sampleBlocs.push(a),o!==void 0){let l=this.getDuration();l>o&&this.lTrim(l-o)}return this.length}get(){var a=new Float32Array(this.length),o=this.sampleBlocs.length,l=0;for(let u=0;u<o;++u)a.set(this.sampleBlocs[u],l),l+=this.sampleBlocs[u].length;return a}getDuration(){return this.length/this.sampleRate}lTrim(a){var o=Math.round(a*this.sampleRate);if(o>=this.length){this.sampleBlocs=[];return}for(this.length-=o;o>0&&o>=this.sampleBlocs[0].length;)o-=this.sampleBlocs[0].length,this.sampleBlocs.shift();o>0&&(this.sampleBlocs[0]=this.sampleBlocs[0].subarray(o))}rTrim(a){var o=Math.round(a*this.sampleRate);if(o>=this.length){this.sampleBlocs=[];return}for(this.length-=o;o>0&&o>=this.sampleBlocs[this.sampleBlocs.length-1].length;)o-=this.sampleBlocs[this.sampleBlocs.length-1].length,this.sampleBlocs.pop();if(o>0){let l=this.sampleBlocs.length-1;this.sampleBlocs[l]=this.sampleBlocs[l].subarray(0,this.sampleBlocs[l].length-o)}}}class n extends AudioWorkletProcessor{constructor(a){super(),this.config={autoStart:!1,autoStop:!1,timeLimit:0,onSaturate:"none",saturationThreshold:.99,startThreshold:.1,stopThreshold:.05,stopDuration:.3,marginBefore:.25,marginAfter:.25,minDuration:.15},this._isRunning=!0,this._state=i.stop,this._audioSamples=null,this._silenceSamplesCount=0,this._isSaturated=!1,this._setConfig(a.processorOptions),this.port.onmessage=o=>{switch(o.data.message){case"start":this._start();break;case"pause":this._pause();break;case"stop":this._stop();break;case"cancel":this._stop(!0);break;case"toggle":this._state===i.recording||this._state===i.listening?this.stop():this.start();break;case"close":this._isRunning=!1;break;case"setConfig":this._setConfig(o.data.extra);break}}}_setConfig(a){this.config={...this.config,...a}}_start(){if(!(this._state===i.listening||this._state===i.recording)){if(this._state===i.stop&&(this._audioSamples=new r(this.config.sampleRate),this._silenceSamplesCount=0,this._isSaturated=!1,this.config.autoStart)){this._state=i.listening;return}this._state=i.recording,this.port.postMessage({message:"started"})}}_pause(){this._state===i.stop||this._state===i.paused||(this._state===i.listening?this._state=i.stop:this._state=i.paused,this.port.postMessage({message:"paused"}))}_stop(a){a=a,this._state!==i.stop&&(a===!0?(this._audioSamples=null,this.port.postMessage({message:"canceled",reason:"asked"})):(this.config.onSaturate==="discard"||this.config.onSaturate==="cancel")&&this._isSaturated?(this._audioSamples=null,this.port.postMessage({message:"canceled",reason:"saturated"})):this._audioSamples.getDuration()<this.config.minDuration?(this._audioSamples=null,this.port.postMessage({message:"canceled",reason:"tooShort"})):this.port.postMessage({message:"stopped",record:this._audioSamples.get()}),this._state=i.stop)}process(a,o,l){if(a.length===0||a[0].length===0)return this._isRunning;this._state===i.listening?this._audioListeningProcess(new Float32Array(a[0][0])):this._state===i.recording&&this._audioRecordingProcess(new Float32Array(a[0][0]));for(let u=0;u<a[0][0].length;u++)o[0][0][u]=a[0][0][u];return this._isRunning}_audioListeningProcess(a){for(let o=0;o<a.length;o++)if(Math.abs(a[o])>this.config.startThreshold)return this._state=i.recording,this.port.postMessage({message:"started"}),this._audioRecordingProcess(a);this.config.marginBefore>0&&this._audioSamples.push(a,this.config.marginBefore),this.port.postMessage({message:"listening",samples:a})}_audioRecordingProcess(a){this._audioSamples.push(a),this.port.postMessage({message:"recording",samples:a,duration:this._audioSamples.getDuration()});for(let o=0;o<a.length;o++)if(Math.abs(a[o])>this.config.saturationThreshold){if(this.port.postMessage({message:"saturated"}),this._isSaturated=!0,this.config.onSaturate==="cancel"){this._stop();return}break}if(this.config.autoStop){let o=0;for(let l=0;l<a.length;l++){let u=Math.abs(a[l]);u>o&&(o=u)}o<this.config.stopThreshold?(this._silenceSamplesCount+=a.length,this._silenceSamplesCount>=this.config.stopDuration*this.config.sampleRate&&(this._audioSamples.rTrim(this.config.stopDuration-this.config.marginAfter),this._stop())):this._silenceSamplesCount=0}this.config.timeLimit>0&&this.config.timeLimit>=this._audioSamples.getDuration()&&this._stop()}}registerProcessor("recording-processor",n)}(function(i,r){t.exports?t.exports=r():(i.LinguaRecorder||(i.LinguaRecorder={}),i.LinguaRecorder.recordingProcessorEncapsulation=r().recordingProcessorEncapsulation)})(typeof self<"u"?self:Ya,function(){return{recordingProcessorEncapsulation:e}})}(e3)),e3.exports}var t3={exports:{}},j_;function Nee(){return j_||(j_=1,function(t){const e=[63,16128,26736,28776];class i{constructor(n,s){this.sampleRate=s,this.samples=n}setSampleRate(n){this.sampleRate=n}getSampleRate(){return this.sampleRate}getLength(){return this.samples.length}getDuration(){return this.samples.length/this.sampleRate}getSamples(){return this.samples}lTrim(n){var s=Math.round(n*this.sampleRate);if(s>=this.samples.length){this.clear();return}this.samples=this.samples.subarray(s)}rTrim(n){var s=Math.round(n*this.sampleRate);if(s>=this.samples.length){this.clear();return}this.samples=this.samples.subarray(0,this.samples.length-s)}clear(){this.samples=new Float32Array(0)}play(){var n=new window.AudioContext,s=n.createBuffer(1,this.samples.length,48e3),a=s.getChannelData(0);for(let l=0;l<this.samples.length;l++)a[l]=this.samples[l];var o=n.createBufferSource();o.buffer=s,o.connect(n.destination),o.start(0)}getBlob(){var n=new ArrayBuffer(44+this.samples.length*2),s=new DataView(n);i.writeString(s,0,"RIFF"),s.setUint32(4,32+this.samples.length*2,!0),i.writeString(s,8,"WAVE"),i.writeString(s,12,"fmt "),s.setUint32(16,16,!0),s.setUint16(20,1,!0),s.setUint16(22,1,!0),s.setUint32(24,this.sampleRate,!0),s.setUint32(28,this.sampleRate*2,!0),s.setUint16(32,2,!0),s.setUint16(34,16,!0),i.writeString(s,36,"data"),s.setUint32(40,this.samples.length*2,!0);for(let a=0;a<this.samples.length;a++){let o=parseInt(this.samples[a]*32767);e.indexOf(o)>-1&&o++,s.setInt16(44+a*2,o,!0)}return new Blob([s],{type:"audio/wav"})}getWAVE(){return this.getBlob()}getObjectURL(){return window.URL.createObjectURL(this.getBlob())}download(n){var s=document.createElement("a"),a=this.getObjectURL();n=n||"record.wav",n.toLowerCase().indexOf(".wav",n.length-4)===-1&&(n+=".wav"),s.style.display="none",s.href=a,s.download=n,document.body.appendChild(s),s.click(),setTimeout(function(){document.body.removeChild(s),window.URL.revokeObjectURL(a)},1e3)}getAudioElement(){var n=document.createElement("audio"),s=document.createElement("source");return s.src=this.getObjectURL(),s.type="audio/wav",n.appendChild(s),n}static writeString(n,s,a){for(let o=0;o<a.length;o++)n.setUint8(s+o,a.charCodeAt(o))}}(function(r,n){t.exports?t.exports=n():(r.LinguaRecorder||(r.LinguaRecorder={}),r.LinguaRecorder.AudioRecord=n().AudioRecord)})(typeof self<"u"?self:Ya,function(){return{AudioRecord:i}})}(t3)),t3.exports}(function(t){var e={};typeof AudioRecord<"u"&&typeof recordingProcessorEncapsulation<"u"?(e.recordingProcessorEncapsulation=recordingProcessorEncapsulation,e.AudioRecord=AudioRecord):t.exports&&(e.recordingProcessorEncapsulation=Fee().recordingProcessorEncapsulation,e.AudioRecord=Nee().AudioRecord);const i={stop:"stop",listening:"listen",recording:"record",paused:"pause"};class r{constructor(s){zn(this,"stream",null);zn(this,"recordProcessorConfig",{});zn(this,"audioContext",null);zn(this,"audioInput",null);zn(this,"processor",null);zn(this,"_state",i.stop);zn(this,"_isConnected",!1);zn(this,"_duration",0);zn(this,"_extraAudioNodes",[]);zn(this,"_eventHandlers",{ready:[],readyFail:[],started:[],listening:[],recording:[],saturated:[],paused:[],stopped:[],canceled:[]});zn(this,"_eventStorage",{ready:null,readyFail:null});this.setConfig(s),this._getAudioStream()}setConfig(s){return this.recordProcessorConfig={...this.recordProcessorConfig,...s},this._sendCommandToProcessor("setConfig",this.recordProcessorConfig),this}getRecordingTime(){return this._duration}getState(){return this._state}getAudioContext(){return this.audioContext}start(){return this.processor===null?this:(this._connect(),this._sendCommandToProcessor("start"))}pause(){return this._sendCommandToProcessor("pause")}stop(s){if(s===!0)this.cancel();else return this._sendCommandToProcessor("stop")}cancel(){return this._sendCommandToProcessor("cancel")}toggle(){return this._sendCommandToProcessor("toggle")}on(s,a){return s==="stoped"&&(s="stopped",console.warn("[LinguaRecorder] .on('stoped',...) is deprecated. Please use .on('stopped',...) instead.")),s in this._eventHandlers&&this._eventHandlers[s].push(a),s in this._eventStorage&&this._eventStorage[s]!==null&&a(this._eventStorage[s]),this}off(s){return s==="stoped"&&(s="stopped",console.warn("[LinguaRecorder] .off('stoped') is deprecated. Please use .off('stopped') instead.")),s in this._eventHandlers&&(this._eventHandlers[s]=[]),this}connectAudioNode(s){var a=this._isConnected;return this._isConnected&&this._disconnect(),this._extraAudioNodes.push(s),a&&this._connect(),this}disconnectAudioNode(s){for(let a=0;a<this._extraAudioNodes.length;a++)if(s===this._extraAudioNodes[a]){let o=this._isConnected;this._isConnected&&this._disconnect(),this._extraAudioNodes.splice(a,1),o&&this._connect();break}return this}close(){if(this.processor!==null)return this.off("ready").off("readyFail").off("started").off("listening").off("recording").off("saturated").off("paused").off("stopped").off("canceled"),this._eventStorage={},this._sendCommandToProcessor("close"),this._disconnect(),this.processor.port.onmessage=null,this.processor.port.close(),this.processor=null,this}_sendCommandToProcessor(s,a){return this.processor!==null&&this.processor.port.postMessage({message:s,extra:a}),this}_fire(s,a){if(s in this._eventHandlers)for(let o=0;o<this._eventHandlers[s].length;o++)this._eventHandlers[s][o](a);s in this._eventStorage&&(this._eventStorage[s]=a)}async _getAudioStream(){try{this.stream=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1})}catch(s){this._fire("readyFail",s);return}await this._initStream(),this._fire("ready",this.stream)}async _initStream(){this.audioContext=new window.AudioContext,this.audioInput=this.audioContext.createMediaStreamSource(this.stream);const s=new Blob([`(${e.recordingProcessorEncapsulation})()`],{type:"application/javascript; charset=utf-8"});await this.audioContext.audioWorklet.addModule(URL.createObjectURL(s)),this.recordProcessorConfig.sampleRate=this.audioContext.sampleRate,this.processor=new AudioWorkletNode(this.audioContext,"recording-processor",{processorOptions:this.recordProcessorConfig}),this.processor.port.onmessage=a=>{switch(a.data.message){case"started":this._state=i.recording,this._duration=0,this._fire("started");break;case"listening":this._state=i.listening,this._duration=0,this._fire("listening",a.data.samples);break;case"recording":this._state=i.recording,this._duration=a.data.duration,this._fire("recording",a.data.samples);break;case"saturated":this._fire("saturated");break;case"paused":this._state=i.paused,this._fire("paused");break;case"stopped":this._state=i.stop,this._duration=0,this._disconnect(),this._fire("stopped",new e.AudioRecord(a.data.record,this.audioContext.sampleRate));break;case"canceled":this._state=i.stop,this._duration=0,this._disconnect(),this._fire("canceled",a.data.reason);break}}}_connect(){if(!this._isConnected){var s=this.audioInput;for(let a=0;a<this._extraAudioNodes.length;a++)s.connect(this._extraAudioNodes[a]),s=this._extraAudioNodes[a];s.connect(this.processor),this._isConnected=!0}}_disconnect(){if(this._isConnected){this.audioInput.disconnect();for(let s=0;s<this._extraAudioNodes.length;s++)this._extraAudioNodes[s].disconnect();this.processor.disconnect(),this._isConnected=!1}}}(function(n,s){t.exports?t.exports=s():(n.LinguaRecorder||(n.LinguaRecorder={}),n.LinguaRecorder.LinguaRecorder=s().LinguaRecorder)})(typeof self<"u"?self:Ya,function(){return{LinguaRecorder:r}})})(mL);var $ee=mL.exports;const zee={class:"w-full h-[8rem] flex items-end"},Uee={class:"h-[50%] w-full bg-white-100 rounded-[10px] flex justify-between items-center px-[2rem] relative text-screenBlack"},qee={class:"flex-1 h-full flex items-center p-2"},jee={key:0,class:"text-body"},Vee={key:1,class:"flex w-full flex-col items-start justify-center"},Hee={class:"text-text-sm"},Kee={class:"w-full h-[3px] bg-gray-200 flex justify-start"},Wee={class:"h-full flex"},Gee={key:0,class:"h-full aspect-square p-1"},Xee={key:1,class:"h-full aspect-square p-1"},Yee={key:2,class:"h-full aspect-square p-1"},Zee={key:3,class:"h-full aspect-square p-1"},Jee={key:4,class:"h-full aspect-square p-1"},Qee=st({__name:"VoiceInput",props:{label:{type:String},modelValue:{type:Blob},invalid:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const i=t,{label:r,modelValue:n,invalid:s}=Ls(i),a=e,o=new $ee.LinguaRecorder,l=Xe(!1),u=Xe(!1),c=Xe(!1),d=Xe(null),h=Xe(null),f=Xe(0),g=Xe(0);o.on("stopped",D=>{d.value=D,h.value=new Audio(URL.createObjectURL(D.getBlob())),h.value.addEventListener("ended",T),h.value.addEventListener("timeupdate",y),h.value.addEventListener("loadedmetadata",()=>{g.value=h.value.duration}),a("update:modelValue",D.getBlob())});function y(){h.value&&h.value.duration>0&&(f.value=h.value.currentTime/h.value.duration*100)}const C=async()=>{if(!await Oee()){alert("allow access to the microphone first. It may require you to reload the page");return}o.start(),l.value=!0},S=()=>{o.stop(),l.value=!1,u.value=!0},A=()=>{c.value=!0,h.value&&h.value.play()};function T(){c.value=!1,h.value&&h.value.pause()}const M=()=>{o.cancel(),l.value=!1,u.value=!1,c.value=!1,h.value=null,d.value=null,f.value=0,g.value=0,a("update:modelValue",void 0)};return(D,B)=>(X(),ne("div",zee,[m("div",Uee,[m("p",{class:Wt({"absolute left-[2rem] text-body font-heading h-[100%] flex items-center will-change-transform transition-transform duration-100":!0,"-translate-y-[100%]":u.value||l.value,"text-red":P(s),"text-screenBlack":!P(s)})},ve(P(r)),3),m("div",qee,[l.value?(X(),ne("div",jee,B[0]||(B[0]=[m("p",null,"recording...",-1)]))):je("",!0),u.value&&g.value?(X(),ne("div",Vee,[m("p",Hee,ve(Math.ceil(f.value*g.value/100)+"/"+Math.ceil(g.value)+"s"),1),m("div",Kee,[m("div",{class:"h-full w-full bg-primary origin-left transition-transform will-change-transform duration-75",style:Zr({transform:`scaleX(${f.value/100})`})},null,4)])])):je("",!0)]),m("div",Wee,[!l.value&&!u.value?(X(),ne("div",Gee,[m("button",{type:"button",title:"record",onClick:C,class:"h-full aspect-square flex rounded-full bg-gray-50 fill-screenBlack lg:hover:fill-primary"},B[1]||(B[1]=[m("svg",{viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full fill-inherit"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.2412 23.1224L19.5364 10.2668L27.2188 10.2668L31.514 23.1224L27.3586 31.1932L19.3967 31.1932L15.2412 23.1224ZM18.624 9L28.1312 9L32.8848 23.2275L31.0825 26.728H31.9633L33.8786 23.0715L35.0008 23.6594L29.5062 34.1489L29.3284 34.4884H28.9451H24.0843V36.2176H27.9464V37.4844H18.9553V36.2176H22.8174V34.4884H17.4566H17.0566L16.8847 34.1273L11.8896 23.6378L13.0334 23.0931L14.7643 26.728H15.6728L13.8704 23.2275L18.624 9ZM16.325 27.9949H15.3676L17.8565 33.2216H28.5619L31.2997 27.9949H30.4436V27.9688L28.1312 32.46L18.624 32.46L16.325 27.9949Z"})],-1)]))])):je("",!0),l.value&&!u.value?(X(),ne("div",Xee,[m("button",{type:"button",title:"end recording",onClick:S,class:"h-full aspect-square flex rounded-full bg-gray-50 stroke-screenBlack lg:hover:stroke-primary"},B[2]||(B[2]=[m("svg",{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full stroke-inherit"},[m("rect",{x:"14.635",y:"13.635",width:"18.73",height:"19.73",rx:"1.365","stroke-width":"1.27"})],-1)]))])):je("",!0),!l.value&&u.value&&!c.value?(X(),ne("div",Yee,[m("button",{type:"button",title:"play",onClick:A,class:"h-full aspect-square flex rounded-full bg-gray-50 stroke-screenBlack lg:hover:stroke-primary"},B[3]||(B[3]=[m("svg",{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full stroke-inherit"},[m("path",{d:"M17.3069 12.416L35.3069 22.8083C35.5502 22.9487 35.5502 23.3 35.3069 23.4405L17.3069 33.8328C17.0635 33.9732 16.7594 33.7976 16.7594 33.5167L16.7594 12.7321C16.7594 12.4511 17.0635 12.2755 17.3069 12.416Z","stroke-width":"1.27"})],-1)]))])):je("",!0),!l.value&&u.value&&c.value?(X(),ne("div",Zee,[m("button",{type:"button",title:"pause",onClick:T,class:"h-full aspect-square flex rounded-full bg-gray-50 stroke-screenBlack lg:hover:stroke-primary"},B[4]||(B[4]=[m("svg",{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full stroke-inherit"},[m("rect",{x:"25.635",y:"12.635",width:"4.73",height:"21.73",rx:"1.365","stroke-width":"1.27"}),m("rect",{x:"16.635",y:"12.635",width:"4.73",height:"21.73",rx:"1.365","stroke-width":"1.27"})],-1)]))])):je("",!0),!l.value&&u.value?(X(),ne("div",Jee,[m("button",{type:"button",title:"record again",onClick:M,class:"h-full aspect-square flex rounded-full bg-gray-50 stroke-screenBlack lg:hover:stroke-primary"},B[5]||(B[5]=[m("svg",{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full stroke-inherit"},[m("path",{d:"M34 26.1228L31.671 32.274C31.4115 32.9593 30.798 33.4479 30.072 33.5473L20.5851 34.8465C19.8897 34.9417 19.1952 34.6654 18.7553 34.1185L12.7199 26.6144C12.2741 26.0601 12.1562 25.3108 12.4104 24.6464L15.9143 15.4856C16.1667 14.8257 16.7485 14.348 17.4448 14.2287L27.0095 12.5914C27.6919 12.4746 28.3862 12.719 28.845 13.2376L33.5 18.5M33.5 18.5L31.6429 12M33.5 18.5L27.7143 16.4386","stroke-width":"1.27"})],-1)]))])):je("",!0)])])]))}});function ete(t){return new Promise((e,i)=>{const r=new FileReader;r.onloadend=()=>{const n=r.result;e(n)},r.onerror=()=>{i(new Error("Failed to convert Blob to base64"))},r.readAsDataURL(t)})}const tte=kr("participationFormStore",{state:()=>({phoneNumber:"",emergencyPhoneNumber:"",studyProgram:"",namePronunciation:void 0,additionalInfo:"",acceptedRules:!1,errors:{},loading:!1}),actions:{async validateForm(){return this.errors={},this.phoneNumber.trim()?/^\+?[0-9\s\-()]{7,}$/.test(this.phoneNumber)||(this.errors.phoneNumber="Invalid phone number format."):this.errors.phoneNumber="Phone Number is required.",this.emergencyPhoneNumber.trim()?/^\+?[0-9\s\-()]{7,}$/.test(this.emergencyPhoneNumber)||(this.errors.emergencyPhoneNumber="Invalid phone number format."):this.errors.emergencyPhoneNumber="Emergency Phone Number is required.",this.studyProgram.trim()||(this.errors.studyProgram="Study Program is required."),this.namePronunciation?await this.checkIfAudioIsUnderNSeconds(this.namePronunciation,10)||(this.errors.namePronunciation="audio must be under 10 sec"):this.errors.namePronunciation="Name pronunciation is required",Object.keys(this.errors).length===0},async submitForm(){const t=Ut();this.loading=!0;try{const e=v2().competitionId,i=await ete(this.namePronunciation);(await wr.patch(`/competition/${e}/`,{action:"register",phone_number:this.phoneNumber,emergency_phone_number:this.emergencyPhoneNumber,program_of_study:this.studyProgram,name_pronunciation:i,additional_info:this.additionalInfo})).status===200&&(t.addToast({type:"success",title:"successfully registered",message:"please check your email regularly to see updates"}),this.resetForm())}catch(e){throw t.addToast({type:"error",title:"an error has occured",message:"an error has occured while submitting the form"}),e}finally{this.loading=!1}},resetForm(){this.phoneNumber="",this.emergencyPhoneNumber="",this.studyProgram="",this.namePronunciation=void 0,this.additionalInfo="",this.acceptedRules=!1,this.errors={}},prefillForm(){const t=Sr();t.phoneNumber&&(this.phoneNumber=t.phoneNumber),t.programOfStudy&&(this.studyProgram=t.programOfStudy)},async checkIfAudioIsUnderNSeconds(t,e=10){const i=new AudioContext,r=await t.arrayBuffer();return(await i.decodeAudioData(r)).duration<10}}}),ite={class:"w-full h-[max] flex flex-col gap-[2rem] items-center"},rte={class:"w-full grid grid-cols-1 lg:grid-cols-2 gap-x-[2rem] gap-y-[2rem]"},nte={class:"flex flex-col"},ste={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},ate={class:"flex flex-col"},ote={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},lte={class:"flex flex-col"},ute={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},cte={class:"flex flex-col"},dte={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},hte=st({__name:"ParticipationForm",emits:["closeForm"],setup(t,{emit:e}){const i=tte(),{phoneNumber:r,emergencyPhoneNumber:n,studyProgram:s,namePronunciation:a,errors:o}=Ui(i);ao(()=>{i.prefillForm(),document.getElementsByTagName("body")[0].style.overflowY="hidden"}),oo(()=>{document.getElementsByTagName("body")[0].style.overflowY="unset"});const l=e;v2();const{getProfileData:u}=Sr(),c=async d=>{if(d.preventDefault(),await i.validateForm())try{await i.submitForm(),await u(),window.onbeforeunload=null,l("closeForm")}catch{l("closeForm")}};return(d,h)=>(X(),ne("form",{onSubmit:c,class:"w-[90vw] lg:w-[80vw] xl:w-[50vw] min-h-[60rem] h-[80vh] lg:h-[80vh] bg-pearl-white rounded-3xl py-8 px-[4rem] overflow-y-auto font-body text-body",onClick:h[4]||(h[4]=f=>f.stopImmediatePropagation())},[m("div",ite,[h[8]||(h[8]=m("h3",{class:"text-subtitle lg:text-title font-heading text-center"}," Registration ",-1)),h[9]||(h[9]=m("h4",{class:"text-center"}," You almost there! Please provide some additional information before proceeding. ",-1)),m("div",rte,[m("div",nte,[ge(_s,{modelValue:P(r),"onUpdate:modelValue":h[0]||(h[0]=f=>Bt(r)?r.value=f:null),label:"Phone Number*",invalid:!!P(o).phoneNumber},null,8,["modelValue","invalid"]),P(o).phoneNumber?(X(),ne("div",ste,ve(P(o).phoneNumber),1)):je("",!0)]),m("div",ate,[ge(_s,{modelValue:P(n),"onUpdate:modelValue":h[1]||(h[1]=f=>Bt(n)?n.value=f:null),label:"Emergency phone number*",invalid:!!P(o).emergencyPhoneNumber},null,8,["modelValue","invalid"]),P(o).emergencyPhoneNumber?(X(),ne("div",ote,ve(P(o).emergencyPhoneNumber),1)):je("",!0)]),m("div",lte,[ge(_s,{modelValue:P(s),"onUpdate:modelValue":h[2]||(h[2]=f=>Bt(s)?s.value=f:null),label:"Study Program*",invalid:!!P(o).studyProgram},null,8,["modelValue","invalid"]),P(o).studyProgram?(X(),ne("div",ute,ve(P(o).studyProgram),1)):je("",!0)]),m("div",cte,[ge(Qee,{modelValue:P(a),"onUpdate:modelValue":h[3]||(h[3]=f=>Bt(a)?a.value=f:null),label:"Name pronunciation*",invalid:!!P(o).namePronunciation},null,8,["modelValue","invalid"]),P(o).namePronunciation?(X(),ne("div",dte,ve(P(o).namePronunciation),1)):je("",!0)]),h[5]||(h[5]=m("h5",{class:"font-heading pl-[2rem] mt-[5rem]"}," Additional info: ",-1)),h[6]||(h[6]=m("textarea",{placeholder:"Anything else you want us to know?",class:"w-full lg:col-span-2 rounded resize-none h-[10rem] py-4 px-8"},null,-1)),h[7]||(h[7]=m("button",{class:"mt-[2rem] lg:col-start-2 overflow-hidden w-[100%] rounded-3xl font-heading text-subtitle pt-[0.8rem] pb-[0.6rem] relative bg-primary border-primary border-2 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:bg-pearl-white after:transition-transform after:duration-200 after:will-change-transform after:origin-top after:scale-y-0 hover:after:scale-y-100",title:"sign up",type:"submit"},[m("span",{class:"relative z-[2]"}," Send ")],-1))])])],32))}}),pte={class:"w-full bg-screenBlack flex justify-center pt-[8rem] lg:pt-[10rem]"},fte={class:"w-full h-[20rem] lg:h-[30rem] relative"},mte=["src"],gte={class:"absolute left-0 top-0 w-full h-full flex justify-center items-center z-[3]"},yte={class:"font-heading text-pearl-white w-max flex flex-col items-center"},vte={class:"text-body lg:text-subtitle flex gap-[1rem] text-primary"},bte={class:"w-full bg-screenBlack text-screenBlack"},xte={class:"px-[2rem] bg-pearl-white lg:px-[12rem] xl:px-[10vw] pt-[4rem] pb-[5rem] min-h-[64rem] flex flex-col lg:block"},_te={class:"w-full lg:w-[48rem] lg:h-[60rem] lg:px-[6rem] pt-[2rem] pb-[6rem] lg:py-[2rem] relative lg:float-right"},wte={class:"font-heading text-title w-full text-center lg:text-left"},Ste={class:"text-primary w-full text-center lg:text-left"},Cte=["innerHTML"],kte={class:"font-heading text-title mt-[3rem] w-full text-center lg:text-left"},Tte=["innerHTML"],Ete={class:"w-full"},Ate={class:"w-full h-max bg-screenBlack overflow-x-hidden"},Mte={key:0,class:"w-full h-max flex flex-col gap-[5rem] lg:gap-0 lg:grid lg:grid-cols-[1fr_25rem] lg:grid-rows-1 lg:gap-x-[10rem] px-[2rem] lg:px-[12rem] xl:px-[10vw] py-[12rem] bg-pearl-white [clip-path:polygon(0_0,100%_0,100%_calc(100%-5rem),0%_100%)]"},Dte={class:"flex flex-col gap-[4rem]"},Lte={class:"font-heading text-center lg:text-left text-title lg:text-heading"},Bte=["innerHTML"],Pte={class:"w-full h-full p-[20%] md:p-[30%] lg:p-0 flex justify-center items-center"},Ite=["src"],Rte={key:0,class:"relative w-full h-max py-[12rem]"},Ote={key:1,class:"w-full h-[5rem]"},Fte={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},Nte={class:"flex flex-row justify-center lg:justify-between flex-wrap"},$te={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},zte={class:"flex flex-row-reverse justify-center lg:justify-between flex-wrap"},Ute={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},qte={class:"flex justify-center lg:justify-between flex-wrap"},jte={class:"w-[90%] md:w-[50rem] h-[40rem] md:h-[30rem] flex flex-col items-center justify-between py-[2rem] px-[4rem] bg-pearl-white rounded-3xl"},Vte={class:"w-full flex justify-center gap-[2rem]"},Hte=st({__name:"Event",setup(t){const e=v2(),i=Xe(!1),{isAuthenticated:r}=Ui(Sr()),n=zg(),s=Fu();ao(async()=>{try{e.$reset(),await e.fetchEventData(n.params.id)}catch{s.push("/events")}});const a=()=>{i.value=!0,r&&(window.onbeforeunload=function(){return!0})},o=()=>{(!r.value||confirm("Are you sure you want to leave this form? All entered data will be lost"))&&(i.value=!1,window.onbeforeunload=null)};return(l,u)=>{const c=yn("RouterLink");return X(),Ot(Fn,null,{default:We(()=>{var d,h,f;return[m("div",pte,[m("div",fte,[m("img",{src:P(e).eventPictureSrc,alt:"event preview photo",class:"absolute z-[1] w-full h-full top-0 left-0 object-cover",draggable:"false"},null,8,mte),u[2]||(u[2]=m("div",{class:"absolute left-0 top-0 w-full h-full bg-secondary z-[2] bg-opacity-70"},null,-1)),m("div",gte,[m("div",yte,[u[1]||(u[1]=m("h1",{class:"text-title lg:text-heading"},"Integration Bee",-1)),m("h2",vte,ve(P(e).competitionName)+" "+ve(P(e).edition),1)])])])]),m("div",null,[m("main",bte,[m("section",xte,[m("div",_te,[ge(ZQ,{data:P(e).participatePanel,class:"w-full h-full",onShowParticipationForm:a},null,8,["data"])]),m("h2",wte,[tt(ve(P(e).competitionName)+" ",1),u[3]||(u[3]=m("br",null,null,-1)),m("span",Ste,ve(P(e).edition),1)]),m("p",{class:"font-body text-body mt-[3rem] w-full text-center lg:text-left",innerHTML:P(Qn)(P(e).description)},null,8,Cte),(X(!0),ne(yt,null,Ni(P(e).sections,(g,y)=>(X(),ne(yt,{key:y},[m("h3",kte,ve(g.title),1),m("p",{class:"font-body text-body mt-[3rem] w-full text-center lg:text-left section-text",innerHTML:P(Qn)(g.text)},null,8,Tte)],64))),128)),u[4]||(u[4]=m("h3",{class:"font-heading text-title mt-[3rem] w-full text-center lg:text-left"}," Tournament Bracket ",-1)),m("div",Ete,[ge(dee,{data:P(e).tournamentBracket,class:"w-full mt-[4rem] origin-center lg:scale-[0.9]"},null,8,["data"])])]),m("section",Ate,[m("div",{class:Wt(`w-full h-max relative flex justify-center items-center bg-pearl-white ${P(e).silverSponsors.length||P(e).bronzeSponsors.length||P(e).mainSponsorExists||P(e).mainSponsorExists?"py-[10rem]":"[clip-path:polygon(0_0,100%_0,100%_calc(100%-5rem),0_100%)] pt-[10rem] pb-[15rem]"}`)},u[5]||(u[5]=[m("div",{class:"relative h-[10rem] w-full flex justify-center items-center"},[m("div",{class:"w-full absolute top-[2rem] left-0 hidden lg:flex"},[m("svg",{width:"1439",height:"46",viewBox:"0 0 1439 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1439 0.809456L1213.55 9.45089C1213.06 9.46978 1212.59 9.67003 1212.23 10.0132L1194.53 27.1656C1193.22 28.4422 1194.17 30.6707 1196 30.6004L1439 21.2864V0.809456Z",fill:"#FBC151"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 45.4958L265.844 35.3061C266.355 35.2866 266.839 35.0721 267.196 34.7068L283.956 17.5904C285.221 16.2981 284.257 14.1234 282.45 14.1927L0 25.0188V45.4958Z",fill:"#FBC151"})])]),m("h3",{class:"font-heading text-center text-title lg:text-heading text-screenBlack"}," Sponsors ")],-1)]),2),P(e).mainSponsorExists?(X(),ne("div",Mte,[m("div",Dte,[m("h4",Lte," Main sponsor - "+ve((d=P(e).mainSponsor)==null?void 0:d.sponsorName),1),m("p",{class:"font-body text-body lg:text-body text-center lg:text-left",innerHTML:P(Qn)((h=P(e).mainSponsor)==null?void 0:h.description)},null,8,Bte)]),m("div",Pte,[m("img",{src:(f=P(e).mainSponsor)==null?void 0:f.logoSrc,alt:"main sponsor logo",class:"w-full max-h-full"},null,8,Ite)])])):je("",!0),P(e).goldSponsors.length?(X(),ne(yt,{key:1},[P(e).silverSponsors.length||P(e).bronzeSponsors.length||P(e).mainSponsorExists?(X(),ne("div",Rte,u[6]||(u[6]=[m("div",{class:"absolute left-[70%] md:left-[50%] lg:left-[70%] xl:left-[50%] 2xl:left-auto 2xl:right-0 xl:right-0 top-[43%]"},[m("svg",{width:"782",height:"31",viewBox:"0 0 782 31",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M782 0.926632L45.1191 9.80528C44.8717 9.80826 44.627 9.85712 44.3974 9.94936L2.16181 26.9214C0.107586 27.7469 0.717887 30.8037 2.9316 30.777L782 21.3901V0.926632Z",fill:"#FBC151"})])],-1),m("div",{class:"pl-[2rem] lg:pl-[12rem]"},[m("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Gold Sponsors ")],-1)]))):(X(),ne("div",Ote)),m("div",Fte,[m("div",Nte,[(X(!0),ne(yt,null,Ni(P(e).goldSponsors,(g,y)=>(X(),Ot(aee,{key:y,"logo-src":g.logoSrc,"sponsor-name":g.sponsorName,index:y,"logo-size":g.logoSize},null,8,["logo-src","sponsor-name","index","logo-size"]))),128)),u[7]||(u[7]=m("div",{class:"h-[35rem] min-w-[35rem] flex items-center justify-center"},[m("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[tt("Here could "),m("br"),tt(" be your logo")])],-1))])])],64)):je("",!0),P(e).silverSponsors.length?(X(),ne(yt,{key:2},[u[9]||(u[9]=m("div",{class:"relative w-full h-max py-[12rem] flex justify-end"},[m("div",{class:"absolute right-[70%] md:right-[50%] lg:right-[70%] xl:right-[60%] 2xl:left-0 top-[43%]"},[m("svg",{width:"701",height:"29",viewBox:"0 0 701 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 29.005L658.721 21.0681C658.981 21.065 659.237 21.0114 659.476 20.9102L699.536 3.9644C701.556 3.10981 700.926 0.0961456 698.733 0.122574L0 8.54158V29.005Z",fill:"#FBC151"})])]),m("div",{class:"pr-[2rem] lg:pr-[12rem]"},[m("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Silver Sponsors ")])],-1)),m("div",$te,[m("div",zte,[(X(!0),ne(yt,null,Ni(P(e).silverSponsors,(g,y)=>(X(),Ot(xee,{key:y,"logo-src":g.logoSrc,"sponsor-name":g.sponsorName,index:y,"logo-size":g.logoSize},null,8,["logo-src","sponsor-name","index","logo-size"]))),128)),u[8]||(u[8]=m("div",{class:"h-[30rem] min-w-[30rem] flex items-center justify-center"},[m("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[tt("Here could "),m("br"),tt(" be your logo")])],-1))])])],64)):je("",!0),P(e).bronzeSponsors.length?(X(),ne(yt,{key:3},[u[11]||(u[11]=m("div",{class:"relative w-full h-max py-[12rem]"},[m("div",{class:"absolute left-[70%] md:left-[50%] lg:left-[70%] xl:left-[50%] 2xl:left-auto 2xl:right-0 xl:right-0 top-[43%]"},[m("svg",{width:"782",height:"31",viewBox:"0 0 782 31",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M782 0.926632L45.1191 9.80528C44.8717 9.80826 44.627 9.85712 44.3974 9.94936L2.16181 26.9214C0.107586 27.7469 0.717887 30.8037 2.9316 30.777L782 21.3901V0.926632Z",fill:"#FBC151"})])]),m("div",{class:"pl-[2rem] lg:pl-[12rem]"},[m("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Bronze Sponsors ")])],-1)),m("div",Ute,[m("div",qte,[(X(!0),ne(yt,null,Ni(P(e).bronzeSponsors,(g,y)=>(X(),Ot(Mee,{key:y,"logo-src":g.logoSrc,"sponsor-name":g.sponsorName,index:y,"logo-size":g.logoSize},null,8,["logo-src","sponsor-name","index","logo-size"]))),128)),u[10]||(u[10]=m("div",{class:"h-[25rem] min-w-[25rem] flex items-center justify-center"},[m("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[tt("Here could "),m("br"),tt(" be your logo")])],-1))])])],64)):je("",!0)])]),ge(ua,{"enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:We(()=>[i.value&&P(r)?(X(),ne("div",{key:0,class:"fixed z-[600] w-full h-full top-0 left-0 bg-[rgba(0,0,0,0.4)] flex justify-center items-center transition-opacity duration-100",onClick:o},[u[12]||(u[12]=m("button",{class:"absolute right-[4rem] top-[4rem] aspect-square w-[2rem] lg:w-[4rem] rounded-full transition-all"},[m("svg",{width:"134",height:"134",viewBox:"0 0 134 134",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_286_9)"},[m("rect",{x:"-2.67847",y:"6.51398",width:"13",height:"184.075",rx:"6.5",transform:"rotate(-45 -2.67847 6.51398)",fill:"#F2F1F0"}),m("rect",{x:"127.482",y:"-2.67841",width:"13",height:"184.075",rx:"6.5",transform:"rotate(45 127.482 -2.67841)",fill:"#F2F1F0"})]),m("defs",null,[m("clipPath",{id:"clip0_286_9"},[m("rect",{width:"134",height:"134",fill:"white"})])])])],-1)),ge(hte,{onCloseForm:u[0]||(u[0]=()=>{i.value=!1})})])):je("",!0)]),_:1}),ge(ua,{"enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:We(()=>[i.value&&!P(r)?(X(),ne("div",{key:0,class:"fixed z-[600] w-full h-full top-0 left-0 bg-[rgba(0,0,0,0.4)] flex justify-center items-center transition-opacity duration-100",onClick:o},[u[17]||(u[17]=m("button",{class:"absolute right-[4rem] top-[4rem] aspect-square w-[2rem] lg:w-[4rem] rounded-full transition-all"},[m("svg",{width:"134",height:"134",viewBox:"0 0 134 134",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_286_9)"},[m("rect",{x:"-2.67847",y:"6.51398",width:"13",height:"184.075",rx:"6.5",transform:"rotate(-45 -2.67847 6.51398)",fill:"#F2F1F0"}),m("rect",{x:"127.482",y:"-2.67841",width:"13",height:"184.075",rx:"6.5",transform:"rotate(45 127.482 -2.67841)",fill:"#F2F1F0"})]),m("defs",null,[m("clipPath",{id:"clip0_286_9"},[m("rect",{width:"134",height:"134",fill:"white"})])])])],-1)),m("div",jte,[u[15]||(u[15]=m("h3",{class:"font-heading text-subtitle text-screenBlack text-center"},"You have to log in first",-1)),u[16]||(u[16]=m("p",{class:"font-body text-body text-screenBlack text-center"}," you need to be signed into your account in order to participate in the event.",-1)),m("div",Vte,[ge(c,{to:"/sign_up",class:"rounded-2xl text-secondary lg:hover:bg-screenBlack-400 lg:hover:bg-opacity-15 w-[16rem] h-[6rem] lg:w-[18rem] lg:h-[6rem] flex justify-center items-center text-body font-semibold"},{default:We(()=>u[13]||(u[13]=[tt("Sign up")])),_:1}),ge(c,{to:`/sign_in?next=${P(n).path}`,class:"rounded-2xl text-secondary bg-primary w-[16rem] h-[6rem] lg:w-[18rem] lg:h-[6rem] flex justify-center items-center text-body font-semibold"},{default:We(()=>u[14]||(u[14]=[tt("Sign in")])),_:1},8,["to"])])])])):je("",!0)]),_:1})])]}),_:1})}}}),Kte=uo(Hte,[["__scopeId","data-v-5689ceb3"]]);function Wte(t){return t.replace(/([A-Z])/g,"_$1").toLowerCase()}function Gte(t){return new Promise((e,i)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result),r.onerror=n=>i(n)})}const Xte=kr("profilePageStore",{state:()=>({phoneNumber:"",institution:"",programOfStudy:"",profilePicture:null,editingField:null}),actions:{async updateProfilePicture(){if(this.profilePicture)try{const t=await Gte(this.profilePicture);await wr.put("/updateUser/",{profile_picture:t}),await Sr().getProfileData()}catch{Ut().addToast({type:"error",title:"Something went wrong",message:"could not update profile picture, try again later."})}},async updateProfileField(t,e){try{const i=Wte(t);await wr.put("/updateUser/",{[i]:e}),await Sr().getProfileData(),this.cancelEditing()}catch{Ut().addToast({type:"error",title:"Error has occured",message:"could not update profile information. try later"})}},startEditing(t){this.editingField=t;const e=Sr();this[t]=e[t]??""},cancelEditing(){this.editingField!=null&&(this[this.editingField]=""),this.editingField=null}}}),Yte={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-pearl-white flex flex-col justify-center py-[5rem]"},Zte={class:"grid grid-cols-1 lg:grid-cols-[1fr_2fr] gap-y-[4rem] lg:gap-y-0 lg:gap-x-[4rem] text-screenBlack font-body text-text-sm lg:text-body"},Jte={class:"flex flex-col items-center gap-[2rem]"},Qte={key:0,class:"w-full max-w-[30rem] flex justify-center items-center aspect-square relative before:absolute before:w-full before:h-full before:z-0 before:bg-gray-50 before:scale-[1.08] before:[clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)] before:[-webkit-clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)]"},eie={class:"relative z-[2] w-[95%] aspect-square overflow-hidden [clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)] [-webkit-clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)]"},tie=["src"],iie={class:"flex gap-[1rem] items-center cursor-pointer",for:"profilePictureInput"},rie={key:0},nie={key:1},sie={class:"flex flex-col gap-[2rem] items-center lg:items-start text-center lg:text-left"},aie={class:"font-heading text-subtitle lg:text-title"},oie={class:"flex flex-col lg:flex-row gap-[1rem] items-center"},lie={class:"flex flex-col lg:flex-row gap-[1rem] items-center"},uie={key:0,class:"flex items-center gap-[1rem] h-[3.5rem]"},cie={key:1,class:"flex items-center gap-[1rem]"},die={class:"flex flex-col lg:flex-row gap-[1rem] items-center"},hie={key:0,class:"flex items-center gap-[1rem] h-[3.5rem]"},pie={key:1,class:"flex items-center gap-[1rem]"},fie={class:"flex flex-col lg:flex-row gap-[1rem] items-center"},mie={key:0,class:"flex items-center gap-[1rem] h-[3.5rem]"},gie={key:1,class:"flex items-center gap-[1rem]"},yie={class:"flex flex-col gap-[2rem] py-[10rem] text-screenBlack font-body text-body"},vie={class:"flex flex-col lg:flex-row items-center lg:items-start text-center lg:text-left gap-[4rem]"},bie={class:"flex gap-[3rem] items-center h-[4rem] lg:h-[7rem] font-heading text-body lg:text-subtitle"},xie={key:0,class:"flex gap-[1rem] items-center h-full drop-shadow-sm"},_ie={key:1,class:"flex gap-[1rem] items-center h-full"},wie={key:2,class:"flex gap-[1rem] items-center h-full"},Sie={class:"w-full bg-white-100 overflow-y-auto rounded relative text-text-sm lg:text-body"},Cie={class:"h-max max-h-[20rem] w-full text-text-xs lg:text-body"},kie={class:"w-full h-max flex flex-col py-[1rem]"},Tie={class:"text-center font-body"},Eie={class:"text-center font-body"},Aie={class:"text-center font-body"},Mie=st({__name:"Profile",setup(t){const e=Sr(),i=Xte(),{phoneNumber:r,institution:n,programOfStudy:s,profilePicture:a,editingField:o}=Ui(i),l=u=>{a.value=u.target.files[0],confirm("Are you sure you want to update your profile picture?")&&i.updateProfilePicture()};return(u,c)=>{const d=yn("RouterLink");return X(),Ot(Fn,null,{default:We(()=>[c[35]||(c[35]=m("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},[m("h1",{class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"}," Profile ")],-1)),m("div",Yte,[m("section",Zte,[m("div",Jte,[P(e).profilePicture?(X(),ne("div",Qte,[m("div",eie,[m("img",{src:P(e).profilePicture,alt:"profile picture",class:"w-full h-full object-cover"},null,8,tie)]),c[12]||(c[12]=m("div",{class:"w-full h-full top-0 left-0 bg-primary absolute z-[1] [clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)] [-webkit-clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)]"},null,-1))])):je("",!0),m("label",iie,[P(e).profilePicture?(X(),ne("p",rie,"change profile picture")):(X(),ne("p",nie,"set profile picture")),c[13]||(c[13]=m("div",{class:"h-full aspect-square"},[m("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_326_389)"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.8809 1.39611C27.443 0.625054 28.5237 0.455652 29.2948 1.01774L30.5831 1.95691C31.3541 2.51901 31.5235 3.59974 30.9614 4.3708L30.7528 4.65694C30.4718 5.04247 29.9314 5.12717 29.5459 4.84613L26.8615 2.8892C26.4759 2.60815 26.3912 2.06779 26.6723 1.68226L26.8809 1.39611ZM26.3667 3.56898C25.9811 3.28793 25.4408 3.37263 25.1597 3.75816L21.8781 8.25973L15.796 4.74823C14.9942 4.28529 14.0063 4.28529 13.2045 4.74823L3.23866 10.502C2.43682 10.9649 1.94287 11.8205 1.94287 12.7463V24.2539C1.94287 25.1797 2.43682 26.0353 3.23866 26.4982L8.5657 29.5738L9.06491 29.6986C9.16515 29.7237 9.26762 29.7277 9.36656 29.7123C9.72123 29.9466 14.4782 26.4085 14.4782 26.4085L10.9443 23.8323C10.9443 23.8323 9.76292 27.2979 9.41792 28.9111L3.73866 25.6322C3.24622 25.3479 2.94287 24.8225 2.94287 24.2539V12.7463C2.94287 12.1777 3.24622 11.6523 3.73866 11.368L13.7045 5.61425C14.1969 5.32994 14.8036 5.32994 15.296 5.61425L21.2857 9.07239L11.5519 22.4249C11.2709 22.8104 11.3556 23.3507 11.7411 23.6318L14.4256 25.5887C14.8111 25.8698 15.3515 25.7851 15.6325 25.3995L25.64 11.6716C25.9048 11.9609 26.0576 12.3428 26.0576 12.7463V24.2539C26.0576 24.8225 25.7543 25.3479 25.2618 25.6322L15.296 31.386C15.2748 31.3982 15.2534 31.4099 15.2318 31.4211L15.8372 32.2282L25.7618 26.4982C26.5637 26.0353 27.0576 25.1797 27.0576 24.2539V12.7463C27.0576 12.0204 26.754 11.3377 26.2363 10.8536L29.2403 6.73285C29.5213 6.34732 29.4366 5.80695 29.0511 5.52591L26.3667 3.56898Z",fill:"#4D4D4D"})]),m("defs",null,[m("clipPath",{id:"clip0_326_389"},[m("rect",{width:"32",height:"32",fill:"white"})])])])],-1))]),m("input",{type:"file",class:"hidden",id:"profilePictureInput",onChange:l,accept:".jpg,.jpeg,.png,.webp"},null,32)]),m("div",sie,[m("div",null,[m("p",aie,ve(P(e).firstName)+" "+ve(P(e).lastName),1)]),m("div",oie,[c[14]||(c[14]=m("span",{class:"font-heading"},"email:",-1)),m("p",null,ve(P(e).email),1)]),m("div",lie,[c[18]||(c[18]=m("span",{class:"font-heading"},"tel:",-1)),P(o)==="phoneNumber"?(X(),ne("div",uie,[sl(m("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=h=>Bt(r)?r.value=h:null),class:"px-[2rem] py-[1rem] outline-none bg-white-100 rounded-lg"},null,512),[[vu,P(r)]]),m("button",{class:"h-full aspect-square",onClick:c[1]||(c[1]=()=>P(i).updateProfileField("phoneNumber",P(r)))},c[15]||(c[15]=[m("svg",{viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M54.25 8.87639L95.5513 32.7217C95.706 32.811 95.8013 32.9761 95.8013 33.1547V80.8453C95.8013 81.0239 95.706 81.189 95.5513 81.2783L54.25 105.124C54.0953 105.213 53.9047 105.213 53.75 105.124L12.4487 81.2783C12.294 81.189 12.1987 81.0239 12.1987 80.8453V33.1547C12.1987 32.9761 12.294 32.811 12.4487 32.7217L53.75 8.87639C53.9047 8.78707 54.0953 8.78707 54.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),m("path",{d:"M17.1122 55.5992C16.2373 54.833 16.2034 53.484 17.0388 52.6749V52.6749C17.7632 51.9732 18.8929 51.9246 19.6644 52.5742C22.9453 55.337 31.449 62.6057 36.8107 68.1665C41.9705 73.5181 48.6822 81.9154 51.2733 85.206C51.8965 85.9974 51.8123 87.1247 51.0888 87.8255V87.8255C50.2529 88.6351 48.9052 88.5575 48.1687 87.6567C45.4186 84.293 39.0563 76.6147 34.2272 71.5804C28.8828 66.0088 20.5949 58.6493 17.1122 55.5992Z",fill:"#4D4D4D"}),m("path",{d:"M94.5099 28.6203C95.3232 27.7632 95.1999 26.3859 94.2459 25.6888V25.6888C93.459 25.1138 92.3726 25.2057 91.7028 25.9137C87.7845 30.0553 74.9445 43.8124 67.5 54C60.0696 64.1683 51.1708 80.1467 48.483 85.0562C48.0157 85.9097 48.2608 86.9678 49.0465 87.5418V87.5418C50.0022 88.2402 51.3564 87.9343 51.926 86.8967C54.8875 81.5026 63.4346 66.2298 70.5 56.5C77.7984 46.4493 90.1893 33.1737 94.5099 28.6203Z",fill:"#4D4D4D"})],-1)])),m("button",{class:"h-full aspect-square",onClick:c[2]||(c[2]=()=>P(i).cancelEditing())},c[16]||(c[16]=[m("svg",{viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M57.25 8.87639L98.5513 32.7217C98.706 32.811 98.8013 32.9761 98.8013 33.1547V80.8453C98.8013 81.0239 98.706 81.189 98.5513 81.2783L57.25 105.124C57.0953 105.213 56.9047 105.213 56.75 105.124L15.4487 81.2783C15.294 81.189 15.1987 81.0239 15.1987 80.8453V33.1547C15.1987 32.9761 15.294 32.811 15.4487 32.7217L56.75 8.87639C56.9047 8.78707 57.0953 8.78707 57.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),m("rect",{x:"34.5293",y:"37.4055",width:"3.93713",height:"57.9069",rx:"1.96856",transform:"rotate(-44.0859 34.5293 37.4055)",fill:"#4D4D4D"}),m("rect",{width:"3.93713",height:"57.9069",rx:"1.96856",transform:"matrix(-0.718298 -0.695736 -0.695736 0.718298 77.8506 36.7815)",fill:"#4D4D4D"})],-1)]))])):(X(),ne("div",cie,[m("p",null,ve(P(e).phoneNumber),1),m("button",{class:"h-full aspect-square",onClick:c[3]||(c[3]=()=>P(i).startEditing("phoneNumber"))},c[17]||(c[17]=[m("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_326_389)"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.8809 1.39611C27.443 0.625054 28.5237 0.455652 29.2948 1.01774L30.5831 1.95691C31.3541 2.51901 31.5235 3.59974 30.9614 4.3708L30.7528 4.65694C30.4718 5.04247 29.9314 5.12717 29.5459 4.84613L26.8615 2.8892C26.4759 2.60815 26.3912 2.06779 26.6723 1.68226L26.8809 1.39611ZM26.3667 3.56898C25.9811 3.28793 25.4408 3.37263 25.1597 3.75816L21.8781 8.25973L15.796 4.74823C14.9942 4.28529 14.0063 4.28529 13.2045 4.74823L3.23866 10.502C2.43682 10.9649 1.94287 11.8205 1.94287 12.7463V24.2539C1.94287 25.1797 2.43682 26.0353 3.23866 26.4982L8.5657 29.5738L9.06491 29.6986C9.16515 29.7237 9.26762 29.7277 9.36656 29.7123C9.72123 29.9466 14.4782 26.4085 14.4782 26.4085L10.9443 23.8323C10.9443 23.8323 9.76292 27.2979 9.41792 28.9111L3.73866 25.6322C3.24622 25.3479 2.94287 24.8225 2.94287 24.2539V12.7463C2.94287 12.1777 3.24622 11.6523 3.73866 11.368L13.7045 5.61425C14.1969 5.32994 14.8036 5.32994 15.296 5.61425L21.2857 9.07239L11.5519 22.4249C11.2709 22.8104 11.3556 23.3507 11.7411 23.6318L14.4256 25.5887C14.8111 25.8698 15.3515 25.7851 15.6325 25.3995L25.64 11.6716C25.9048 11.9609 26.0576 12.3428 26.0576 12.7463V24.2539C26.0576 24.8225 25.7543 25.3479 25.2618 25.6322L15.296 31.386C15.2748 31.3982 15.2534 31.4099 15.2318 31.4211L15.8372 32.2282L25.7618 26.4982C26.5637 26.0353 27.0576 25.1797 27.0576 24.2539V12.7463C27.0576 12.0204 26.754 11.3377 26.2363 10.8536L29.2403 6.73285C29.5213 6.34732 29.4366 5.80695 29.0511 5.52591L26.3667 3.56898Z",fill:"#4D4D4D"})]),m("defs",null,[m("clipPath",{id:"clip0_326_389"},[m("rect",{width:"32",height:"32",fill:"white"})])])],-1)]))]))]),m("div",die,[c[22]||(c[22]=m("span",{class:"font-heading"},"Institution:",-1)),P(o)==="institution"?(X(),ne("div",hie,[sl(m("input",{type:"text","onUpdate:modelValue":c[4]||(c[4]=h=>Bt(n)?n.value=h:null),class:"px-[2rem] py-[1rem] outline-none bg-white-100 rounded-lg"},null,512),[[vu,P(n)]]),m("button",{class:"h-full aspect-square",onClick:c[5]||(c[5]=()=>P(i).updateProfileField("institution",P(n)))},c[19]||(c[19]=[m("svg",{width:"113",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M54.25 8.87639L95.5513 32.7217C95.706 32.811 95.8013 32.9761 95.8013 33.1547V80.8453C95.8013 81.0239 95.706 81.189 95.5513 81.2783L54.25 105.124C54.0953 105.213 53.9047 105.213 53.75 105.124L12.4487 81.2783C12.294 81.189 12.1987 81.0239 12.1987 80.8453V33.1547C12.1987 32.9761 12.294 32.811 12.4487 32.7217L53.75 8.87639C53.9047 8.78707 54.0953 8.78707 54.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),m("path",{d:"M17.1122 55.5992C16.2373 54.833 16.2034 53.484 17.0388 52.6749V52.6749C17.7632 51.9732 18.8929 51.9246 19.6644 52.5742C22.9453 55.337 31.449 62.6057 36.8107 68.1665C41.9705 73.5181 48.6822 81.9154 51.2733 85.206C51.8965 85.9974 51.8123 87.1247 51.0888 87.8255V87.8255C50.2529 88.6351 48.9052 88.5575 48.1687 87.6567C45.4186 84.293 39.0563 76.6147 34.2272 71.5804C28.8828 66.0088 20.5949 58.6493 17.1122 55.5992Z",fill:"#4D4D4D"}),m("path",{d:"M94.5099 28.6203C95.3232 27.7632 95.1999 26.3859 94.2459 25.6888V25.6888C93.459 25.1138 92.3726 25.2057 91.7028 25.9137C87.7845 30.0553 74.9445 43.8124 67.5 54C60.0696 64.1683 51.1708 80.1467 48.483 85.0562C48.0157 85.9097 48.2608 86.9678 49.0465 87.5418V87.5418C50.0022 88.2402 51.3564 87.9343 51.926 86.8967C54.8875 81.5026 63.4346 66.2298 70.5 56.5C77.7984 46.4493 90.1893 33.1737 94.5099 28.6203Z",fill:"#4D4D4D"})],-1)])),m("button",{class:"h-full aspect-square",onClick:c[6]||(c[6]=()=>P(i).cancelEditing())},c[20]||(c[20]=[m("svg",{width:"113",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M57.25 8.87639L98.5513 32.7217C98.706 32.811 98.8013 32.9761 98.8013 33.1547V80.8453C98.8013 81.0239 98.706 81.189 98.5513 81.2783L57.25 105.124C57.0953 105.213 56.9047 105.213 56.75 105.124L15.4487 81.2783C15.294 81.189 15.1987 81.0239 15.1987 80.8453V33.1547C15.1987 32.9761 15.294 32.811 15.4487 32.7217L56.75 8.87639C56.9047 8.78707 57.0953 8.78707 57.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),m("rect",{x:"34.5293",y:"37.4055",width:"3.93713",height:"57.9069",rx:"1.96856",transform:"rotate(-44.0859 34.5293 37.4055)",fill:"#4D4D4D"}),m("rect",{width:"3.93713",height:"57.9069",rx:"1.96856",transform:"matrix(-0.718298 -0.695736 -0.695736 0.718298 77.8506 36.7815)",fill:"#4D4D4D"})],-1)]))])):(X(),ne("div",pie,[m("p",null,ve(P(e).institution),1),m("button",{class:"h-full aspect-square",onClick:c[7]||(c[7]=()=>P(i).startEditing("institution"))},c[21]||(c[21]=[m("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_326_389)"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.8809 1.39611C27.443 0.625054 28.5237 0.455652 29.2948 1.01774L30.5831 1.95691C31.3541 2.51901 31.5235 3.59974 30.9614 4.3708L30.7528 4.65694C30.4718 5.04247 29.9314 5.12717 29.5459 4.84613L26.8615 2.8892C26.4759 2.60815 26.3912 2.06779 26.6723 1.68226L26.8809 1.39611ZM26.3667 3.56898C25.9811 3.28793 25.4408 3.37263 25.1597 3.75816L21.8781 8.25973L15.796 4.74823C14.9942 4.28529 14.0063 4.28529 13.2045 4.74823L3.23866 10.502C2.43682 10.9649 1.94287 11.8205 1.94287 12.7463V24.2539C1.94287 25.1797 2.43682 26.0353 3.23866 26.4982L8.5657 29.5738L9.06491 29.6986C9.16515 29.7237 9.26762 29.7277 9.36656 29.7123C9.72123 29.9466 14.4782 26.4085 14.4782 26.4085L10.9443 23.8323C10.9443 23.8323 9.76292 27.2979 9.41792 28.9111L3.73866 25.6322C3.24622 25.3479 2.94287 24.8225 2.94287 24.2539V12.7463C2.94287 12.1777 3.24622 11.6523 3.73866 11.368L13.7045 5.61425C14.1969 5.32994 14.8036 5.32994 15.296 5.61425L21.2857 9.07239L11.5519 22.4249C11.2709 22.8104 11.3556 23.3507 11.7411 23.6318L14.4256 25.5887C14.8111 25.8698 15.3515 25.7851 15.6325 25.3995L25.64 11.6716C25.9048 11.9609 26.0576 12.3428 26.0576 12.7463V24.2539C26.0576 24.8225 25.7543 25.3479 25.2618 25.6322L15.296 31.386C15.2748 31.3982 15.2534 31.4099 15.2318 31.4211L15.8372 32.2282L25.7618 26.4982C26.5637 26.0353 27.0576 25.1797 27.0576 24.2539V12.7463C27.0576 12.0204 26.754 11.3377 26.2363 10.8536L29.2403 6.73285C29.5213 6.34732 29.4366 5.80695 29.0511 5.52591L26.3667 3.56898Z",fill:"#4D4D4D"})]),m("defs",null,[m("clipPath",{id:"clip0_326_389"},[m("rect",{width:"32",height:"32",fill:"white"})])])],-1)]))]))]),m("div",fie,[c[26]||(c[26]=m("span",{class:"font-heading"},"Program of studies:",-1)),P(o)==="programOfStudy"?(X(),ne("div",mie,[sl(m("input",{type:"text","onUpdate:modelValue":c[8]||(c[8]=h=>Bt(s)?s.value=h:null),class:"px-[2rem] py-[1rem] bg-white-100 rounded-lg"},null,512),[[vu,P(s)]]),m("button",{class:"h-full aspect-square",onClick:c[9]||(c[9]=()=>P(i).updateProfileField("programOfStudy",P(s)))},c[23]||(c[23]=[m("svg",{width:"113",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M54.25 8.87639L95.5513 32.7217C95.706 32.811 95.8013 32.9761 95.8013 33.1547V80.8453C95.8013 81.0239 95.706 81.189 95.5513 81.2783L54.25 105.124C54.0953 105.213 53.9047 105.213 53.75 105.124L12.4487 81.2783C12.294 81.189 12.1987 81.0239 12.1987 80.8453V33.1547C12.1987 32.9761 12.294 32.811 12.4487 32.7217L53.75 8.87639C53.9047 8.78707 54.0953 8.78707 54.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),m("path",{d:"M17.1122 55.5992C16.2373 54.833 16.2034 53.484 17.0388 52.6749V52.6749C17.7632 51.9732 18.8929 51.9246 19.6644 52.5742C22.9453 55.337 31.449 62.6057 36.8107 68.1665C41.9705 73.5181 48.6822 81.9154 51.2733 85.206C51.8965 85.9974 51.8123 87.1247 51.0888 87.8255V87.8255C50.2529 88.6351 48.9052 88.5575 48.1687 87.6567C45.4186 84.293 39.0563 76.6147 34.2272 71.5804C28.8828 66.0088 20.5949 58.6493 17.1122 55.5992Z",fill:"#4D4D4D"}),m("path",{d:"M94.5099 28.6203C95.3232 27.7632 95.1999 26.3859 94.2459 25.6888V25.6888C93.459 25.1138 92.3726 25.2057 91.7028 25.9137C87.7845 30.0553 74.9445 43.8124 67.5 54C60.0696 64.1683 51.1708 80.1467 48.483 85.0562C48.0157 85.9097 48.2608 86.9678 49.0465 87.5418V87.5418C50.0022 88.2402 51.3564 87.9343 51.926 86.8967C54.8875 81.5026 63.4346 66.2298 70.5 56.5C77.7984 46.4493 90.1893 33.1737 94.5099 28.6203Z",fill:"#4D4D4D"})],-1)])),m("button",{class:"h-full aspect-square",onClick:c[10]||(c[10]=()=>P(i).cancelEditing())},c[24]||(c[24]=[m("svg",{width:"113",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M57.25 8.87639L98.5513 32.7217C98.706 32.811 98.8013 32.9761 98.8013 33.1547V80.8453C98.8013 81.0239 98.706 81.189 98.5513 81.2783L57.25 105.124C57.0953 105.213 56.9047 105.213 56.75 105.124L15.4487 81.2783C15.294 81.189 15.1987 81.0239 15.1987 80.8453V33.1547C15.1987 32.9761 15.294 32.811 15.4487 32.7217L56.75 8.87639C56.9047 8.78707 57.0953 8.78707 57.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),m("rect",{x:"34.5293",y:"37.4055",width:"3.93713",height:"57.9069",rx:"1.96856",transform:"rotate(-44.0859 34.5293 37.4055)",fill:"#4D4D4D"}),m("rect",{width:"3.93713",height:"57.9069",rx:"1.96856",transform:"matrix(-0.718298 -0.695736 -0.695736 0.718298 77.8506 36.7815)",fill:"#4D4D4D"})],-1)]))])):(X(),ne("div",gie,[m("p",null,ve(P(e).programOfStudy),1),m("button",{class:"h-full aspect-square",onClick:c[11]||(c[11]=()=>P(i).startEditing("programOfStudy"))},c[25]||(c[25]=[m("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_326_389)"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.8809 1.39611C27.443 0.625054 28.5237 0.455652 29.2948 1.01774L30.5831 1.95691C31.3541 2.51901 31.5235 3.59974 30.9614 4.3708L30.7528 4.65694C30.4718 5.04247 29.9314 5.12717 29.5459 4.84613L26.8615 2.8892C26.4759 2.60815 26.3912 2.06779 26.6723 1.68226L26.8809 1.39611ZM26.3667 3.56898C25.9811 3.28793 25.4408 3.37263 25.1597 3.75816L21.8781 8.25973L15.796 4.74823C14.9942 4.28529 14.0063 4.28529 13.2045 4.74823L3.23866 10.502C2.43682 10.9649 1.94287 11.8205 1.94287 12.7463V24.2539C1.94287 25.1797 2.43682 26.0353 3.23866 26.4982L8.5657 29.5738L9.06491 29.6986C9.16515 29.7237 9.26762 29.7277 9.36656 29.7123C9.72123 29.9466 14.4782 26.4085 14.4782 26.4085L10.9443 23.8323C10.9443 23.8323 9.76292 27.2979 9.41792 28.9111L3.73866 25.6322C3.24622 25.3479 2.94287 24.8225 2.94287 24.2539V12.7463C2.94287 12.1777 3.24622 11.6523 3.73866 11.368L13.7045 5.61425C14.1969 5.32994 14.8036 5.32994 15.296 5.61425L21.2857 9.07239L11.5519 22.4249C11.2709 22.8104 11.3556 23.3507 11.7411 23.6318L14.4256 25.5887C14.8111 25.8698 15.3515 25.7851 15.6325 25.3995L25.64 11.6716C25.9048 11.9609 26.0576 12.3428 26.0576 12.7463V24.2539C26.0576 24.8225 25.7543 25.3479 25.2618 25.6322L15.296 31.386C15.2748 31.3982 15.2534 31.4099 15.2318 31.4211L15.8372 32.2282L25.7618 26.4982C26.5637 26.0353 27.0576 25.1797 27.0576 24.2539V12.7463C27.0576 12.0204 26.754 11.3377 26.2363 10.8536L29.2403 6.73285C29.5213 6.34732 29.4366 5.80695 29.0511 5.52591L26.3667 3.56898Z",fill:"#4D4D4D"})]),m("defs",null,[m("clipPath",{id:"clip0_326_389"},[m("rect",{width:"32",height:"32",fill:"white"})])])],-1)]))]))])])]),m("section",yie,[m("div",vie,[c[33]||(c[33]=m("h2",{class:"font-heading text-subtitle lg:text-title"}," Competitions history ",-1)),m("div",bie,[P(e).wins.golds?(X(),ne("div",xie,[c[27]||(c[27]=m("div",{class:"aspect-square h-full flex items-center"},[m("svg",{width:"247",height:"155",viewBox:"0 0 247 155",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_340_462)"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M131.058 31.6221L137.984 27.6229V9.20763L122.036 0L106.088 9.20763V27.6229L113.145 31.6968L83.6712 78.2648L46.0733 73.661L14.1108 55.8357L20.0195 50.338L18.492 36.6113L8.48221 30.7768L0 38.6691L1.52752 52.3958L7.2701 55.743L22.287 115.095C22.287 115.095 82.7879 130.516 122.036 130.441C160.69 130.368 220.251 115.095 220.251 115.095L239.986 58.6125L245.292 55.7967L247.366 42.1418L239.205 33.9178L228.97 39.3487L226.897 53.0036L231.149 57.2887L199.534 73.661L161.169 78.2648L131.058 31.6221ZM24.5889 125.838C24.5889 125.838 82.7528 140.881 122.036 140.416C160.216 139.965 217.182 125.838 217.182 125.838C217.182 125.838 214.113 135.045 211.811 138.114C209.509 141.184 159.034 154.773 122.036 154.995C83.5579 155.226 33.0292 141.951 30.7273 139.649C29.1927 138.114 24.5889 125.838 24.5889 125.838Z",fill:"#FBC151"})]),m("defs",null,[m("clipPath",{id:"clip0_340_462"},[m("rect",{width:"247",height:"155",fill:"white"})])])])],-1)),c[28]||(c[28]=m("span",null,":",-1)),m("span",null,ve(P(e).wins.golds),1)])):je("",!0),P(e).wins.silvers?(X(),ne("div",_ie,[c[29]||(c[29]=m("div",{class:"aspect-square h-full flex items-center p-3 drop-shadow-sm"},[m("svg",{width:"292",height:"292",viewBox:"0 0 292 292",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M90.4479 280.739C91.5597 282.138 93.3338 282.837 95.1014 282.573L234.389 261.766C236.156 261.502 237.648 260.315 238.303 258.653L289.943 127.523C290.597 125.862 290.316 123.978 289.206 122.58L201.552 12.2614C200.44 10.8622 198.666 10.1627 196.899 10.4267L57.6109 31.2345C55.8439 31.4984 54.352 32.6851 53.6973 34.3475L2.057 165.477C1.40286 167.138 1.68395 169.022 2.7945 170.42L90.4479 280.739Z",fill:"#4D4D4D"}),m("path",{d:"M97.8056 269L227.806 249.561L276 127.061L194.194 24L64.1944 43.4394L16 165.939L97.8056 269Z",fill:"#C8C8C8"})])],-1)),c[30]||(c[30]=m("span",null,":",-1)),m("span",null,ve(P(e).wins.silvers),1)])):je("",!0),P(e).wins.bronzes?(X(),ne("div",wie,[c[31]||(c[31]=m("div",{class:"aspect-square h-full flex items-center p-3 drop-shadow-sm"},[m("svg",{width:"292",height:"292",viewBox:"0 0 292 292",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M90.4479 280.739C91.5597 282.138 93.3338 282.837 95.1014 282.573L234.389 261.766C236.156 261.502 237.648 260.315 238.303 258.653L289.943 127.523C290.597 125.862 290.316 123.978 289.206 122.58L201.552 12.2614C200.44 10.8622 198.666 10.1627 196.899 10.4267L57.6109 31.2345C55.8439 31.4984 54.352 32.6851 53.6973 34.3475L2.057 165.477C1.40286 167.138 1.68395 169.022 2.7945 170.42L90.4479 280.739Z",fill:"#CD7F32"}),m("path",{d:"M97.8056 269L227.806 249.561L276 127.061L194.194 24L64.1944 43.4394L16 165.939L97.8056 269Z",fill:"#F5C37E"})])],-1)),c[32]||(c[32]=m("span",null,":",-1)),m("span",null,ve(P(e).wins.bronzes),1)])):je("",!0)])]),m("div",Sie,[c[34]||(c[34]=m("div",{class:"grid grid-cols-[2fr_6fr_4fr] py-[1rem] shadow-md sticky top-0 bg-pearl-white-50"},[m("h3",{class:"text-center font-heading"}," Date "),m("h3",{class:"text-center font-heading"}," Competition "),m("h3",{class:"text-center font-heading"}," Result ")],-1)),m("div",Cie,[m("div",kie,[(X(!0),ne(yt,null,Ni(P(e).competitions,(h,f)=>(X(),Ot(d,{key:f,to:h.link,class:"grid grid-cols-[2fr_6fr_4fr] py-[1rem] lg:hover:bg-white-400"},{default:We(()=>[m("p",Tie,ve(h.date.split(" ").slice(0,3).join(" ")),1),m("p",Eie,ve(h.name),1),m("p",Aie,ve(h.result),1)]),_:2},1032,["to"]))),128))])])])])]),c[36]||(c[36]=m("div",{class:"w-full flex items-end p-0 h-[6rem] bg-pearl-white"},[m("div",{class:"w-full h-[6rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1))]),_:1})}}}),Die=uo(Mie,[["__scopeId","data-v-1623d25d"]]),Lie=kr("signUpPageStore",{state:()=>({email:"",firstName:"",lastName:"",institution:"",password:"",isTermsAccepted:!1,loading:!1,errors:{}}),actions:{validateForm(){return this.errors={},this.isTermsAccepted||(this.errors.isTermsAccepted="This field is required"),this.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)||(this.errors.email="Invalid email address."):this.errors.email="Email is required.",this.firstName.trim()||(this.errors.firstName="First Name is required."),this.lastName.trim()||(this.errors.lastName="Last Name is required."),this.password.trim()?this.password.length<8&&(this.errors.password="Password must be at least 8 characters long."):this.errors.password="Password is required.",Object.keys(this.errors).length===0},async initializeSignUp(){try{const t=await en.post("/register/",{first_name:this.firstName,last_name:this.lastName,school:this.institution,email:this.email,password:this.password,...this.institution?{institution:this.institution}:{}});Ut().addToast({type:"info",title:"Check your e-mail",message:"We sent a message to the e-mail you provided, use the link there to validate your e-mail address",duration:1e4})}catch(t){throw Ut().addToast({type:"error",title:"Error has occured",message:"try again later",duration:1e4}),t}}}}),Bie={class:"inline-flex items-center cursor-pointer"},Pie={class:"w-9 h-9 text-screenBlack absolute top-[-4px] left-[-3px] origin-center scale-[1.3]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},Iie=st({__name:"CheckBox",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const i=t,r=e,n=Xe(i.modelValue);_r(()=>i.modelValue,a=>{n.value=a});const s=()=>{r("update:modelValue",n.value)};return(a,o)=>(X(),ne("label",Bie,[sl(m("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=l=>n.value=l),onChange:s,class:"hidden"},null,544),[[EN,n.value]]),m("span",{class:Wt(["relative w-8 h-8 border-2 rounded-full transition-all duration-300 flex items-center justify-center overflow-visible",[n.value?"bg-primary border-primary":"bg-white border-gray-300"]])},[(X(),ne("svg",Pie,[m("path",{d:"M5 13l4 4L19 7",class:Wt(n.value?"draw-checkmark":"undraw-checkmark")},null,2)]))],2)]))}}),Rie=uo(Iie,[["__scopeId","data-v-f14c039b"]]),Oie={class:"w-full flex flex-col bg-pearl-white gap-[4rem] py-[5rem] text-body font-body text-screenBlack"},Fie={class:"w-full flex justify-center"},Nie={class:"flex flex-col w-full"},$ie={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},zie={class:"flex flex-col w-full"},Uie={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},qie={class:"flex flex-col w-full"},jie={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},Vie={class:"flex flex-col w-full"},Hie={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},Kie={class:"flex flex-col w-full"},Wie={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},Gie={class:"flex flex-col w-full gap-[1rem] py-[2rem]"},Xie={class:"flex items-center justify-center gap-[2rem]"},Yie={key:0,class:"text-text-sm font-body text-center text-red pl-[0rem]"},Zie={class:"w-full flex justify-center mt-[4rem]"},Jie=["disabled"],Qie={class:"relative z-[2]"},ere={class:"flex text-center items-center flex-col text-body font-body gap-2"},tre=st({__name:"SignUp",setup(t){Xe("");const e=Lie(),{email:i,password:r,firstName:n,lastName:s,institution:a,isTermsAccepted:o,errors:l}=Ui(e),u=Fu(),c=async d=>{if(d.preventDefault(),e.validateForm())try{await e.initializeSignUp(),u.push("/sign_in"),e.$reset()}catch{}};return(d,h)=>{const f=yn("RouterLink");return X(),Ot(Fn,null,{default:We(()=>[h[11]||(h[11]=m("div",{class:"w-full h-[8rem] lg:h-[10rem] bg-screenBlack"},null,-1)),m("div",Oie,[h[10]||(h[10]=m("div",{class:"flex items-center justify-between"},[m("div",{class:"w-[10vw] lg:w-[30vw] h-[4rem] rounded-r-[2px] bg-primary"}),m("h1",{class:"font-heading text-subtitle lg:text-title text-center"}," Create new profile "),m("div",{class:"w-[10vw] lg:w-[30vw] h-[4rem] rounded-l-[2px] bg-primary"})],-1)),m("div",Fie,[m("form",{onSubmit:c,class:"w-full lg:w-[30%] px-[2rem] flex flex-col gap-[2rem]"},[m("div",Nie,[ge(_s,{modelValue:P(i),"onUpdate:modelValue":h[0]||(h[0]=g=>Bt(i)?i.value=g:null),class:"w-full",type:"text",label:"E-mail",name:"email",invalid:!!P(l).email},null,8,["modelValue","invalid"]),P(l).email?(X(),ne("div",$ie,ve(P(l).email),1)):je("",!0)]),m("div",zie,[ge(_s,{modelValue:P(n),"onUpdate:modelValue":h[1]||(h[1]=g=>Bt(n)?n.value=g:null),class:"w-full",type:"text",label:"First Name",name:"first name",invalid:!!P(l).firstName},null,8,["modelValue","invalid"]),P(l).firstName?(X(),ne("div",Uie,ve(P(l).firstName),1)):je("",!0)]),m("div",qie,[ge(_s,{modelValue:P(s),"onUpdate:modelValue":h[2]||(h[2]=g=>Bt(s)?s.value=g:null),class:"w-full",type:"text",label:"Last Name",name:"last name",invalid:!!P(l).lastName},null,8,["modelValue","invalid"]),P(l).lastName?(X(),ne("div",jie,ve(P(l).lastName),1)):je("",!0)]),m("div",Vie,[ge(_s,{modelValue:P(a),"onUpdate:modelValue":h[3]||(h[3]=g=>Bt(a)?a.value=g:null),class:"w-full",type:"text",label:"Institution",name:"institution",invalid:!!P(l).institution},null,8,["modelValue","invalid"]),P(l).institution?(X(),ne("div",Hie,ve(P(l).institution),1)):je("",!0)]),m("div",Kie,[ge(_s,{modelValue:P(r),"onUpdate:modelValue":h[4]||(h[4]=g=>Bt(r)?r.value=g:null),class:"w-full",type:"password",label:"Password",name:"password",invalid:!!P(l).password},null,8,["modelValue","invalid"]),P(l).password?(X(),ne("div",Wie,ve(P(l).password),1)):je("",!0)]),m("div",Gie,[m("div",Xie,[ge(Rie,{modelValue:P(o),"onUpdate:modelValue":h[5]||(h[5]=g=>Bt(o)?o.value=g:null)},null,8,["modelValue"]),m("p",{class:Wt(`${P(l).isTermsAccepted?"text-red":"text-screenBlack"}`)},[h[7]||(h[7]=tt("I accept ")),ge(f,{to:"/terms_of_use",class:"underline lg:hover:text-primary lg:transition-colors"},{default:We(()=>h[6]||(h[6]=[tt("Terms of use")])),_:1})],2)]),P(l).isTermsAccepted?(X(),ne("div",Yie,ve(P(l).isTermsAccepted),1)):je("",!0)]),m("div",Zie,[m("button",{class:"overflow-hidden w-[90%] rounded-3xl font-heading text-subtitle pt-[0.8rem] pb-[0.6rem] relative bg-primary border-primary border-2 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:bg-pearl-white after:transition-transform after:duration-200 after:will-change-transform after:origin-top after:scale-y-0 hover:after:scale-y-100",title:"sign up",type:"submit",disabled:P(e).loading},[m("span",Qie,ve(P(e).loading?"loading...":"Sign Up"),1)],8,Jie)]),m("div",ere,[h[9]||(h[9]=m("p",null,"already have an account?",-1)),ge(f,{to:"sign_in",class:"lg:hover:underline text-primary"},{default:We(()=>h[8]||(h[8]=[tt("click here to sign in")])),_:1})])],32)])]),h[12]||(h[12]=m("div",{class:"w-full flex items-end p-0 h-[6rem] bg-pearl-white"},[m("div",{class:"w-full h-[6rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1))]),_:1})}}}),gL=kr("useSignInPageStore",{state:()=>({email:"",password:"",loading:!1,errors:{},resetPasswordEmail:"",resetPasswordEmailError:""}),actions:{validateForm(){return this.errors={},this.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)||(this.errors.email="Invalid email address."):this.errors.email="Email is required.",this.password.trim()||(this.errors.password="Password is required."),Object.keys(this.errors).length===0},async initializeAuth(t="/"){const e=Sr();try{await e.requestLogin(this.email,this.password),await e.getProfileData(),z6.push(t),gL().$reset()}catch{}},async initializePasswordReset(){try{if(this.resetPasswordEmailError="",!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.resetPasswordEmail)){this.resetPasswordEmailError="invalid email";return}await en.post("/request-password-reset/",{email:this.resetPasswordEmail}),Ut().addToast({type:"info",title:"Check your email",message:"we've sent recovery link to your e-mail, follow it to continue.",duration:1e4})}catch(t){t.status==404?Ut().addToast({type:"error",title:"User doesn't exist",message:"User with fiven email doesn't exist. Check spelling or create a new account."}):Ut().addToast({type:"error",title:"Something went wrong",message:"error has occured, try again later"})}}}}),ire={class:"w-full flex flex-col bg-pearl-white gap-[4rem] py-[5rem] text-body font-body text-screenBlack"},rre={class:"w-full flex justify-center"},nre={class:"flex flex-col w-full"},sre={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},are={class:"flex flex-col w-full"},ore={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},lre={class:"w-full flex justify-center gap-[2rem] mt-[5rem]"},ure=["disabled"],cre={class:"relative z-[2]"},dre={class:"flex flex-col w-full justify-center items-center gap-8"},hre={class:"flex flex-col items-start gap-4 w-ful"},pre={key:0,class:"text-red"},fre={class:"flex justify-end w-full"},mre=["disabled"],gre=st({__name:"SignIn",setup(t){const e=gL(),{email:i,password:r,errors:n,resetPasswordEmail:s}=Ui(e),o=zg().query;qi(()=>{o&&o.emailVerified&&o.emailVerified=="true"&&Ut().addToast({type:"success",title:"Email verified",message:"Your email was successfully verified. You can sign into your account now.",duration:1e4})});const l=h=>{var f,g;if(h.preventDefault(),e.validateForm()){let y="/myprofile";"next"in o&&((f=o.next)==null?void 0:f.toString())!==void 0&&(y=(g=o.next)==null?void 0:g.toString()),e.initializeAuth(y)}},u=Xe(!1),c=()=>{u.value=!0,document.getElementsByTagName("body")[0].style.overflowY="hidden"};function d(){u.value=!1,document.getElementsByTagName("body")[0].style.overflowY="unset"}return(h,f)=>{const g=yn("RouterLink");return X(),Ot(Fn,null,{default:We(()=>[f[10]||(f[10]=m("div",{class:"w-full h-[8rem] lg:h-[10rem] bg-screenBlack"},null,-1)),m("div",ire,[f[6]||(f[6]=m("div",{class:"flex items-center justify-between"},[m("div",{class:"w-[10vw] lg:w-[30vw] h-[4rem] rounded-r-[2px] bg-primary"}),m("h1",{class:"font-heading text-subtitle lg:text-title text-center"}," Sign in "),m("div",{class:"w-[10vw] lg:w-[30vw] h-[4rem] rounded-l-[2px] bg-primary"})],-1)),m("div",rre,[m("form",{onSubmit:l,class:"w-full lg:w-[30%] px-[2rem] flex flex-col gap-[2rem]"},[m("div",nre,[ge(_s,{modelValue:P(i),"onUpdate:modelValue":f[0]||(f[0]=y=>Bt(i)?i.value=y:null),class:"w-full",type:"text",label:"E-mail",name:"email",invalid:!!P(n).email},null,8,["modelValue","invalid"]),P(n).email?(X(),ne("div",sre,ve(P(n).email),1)):je("",!0)]),m("div",are,[ge(_s,{modelValue:P(r),"onUpdate:modelValue":f[1]||(f[1]=y=>Bt(r)?r.value=y:null),class:"w-full",type:"password",label:"Password",name:"password",invalid:!!P(n).password},null,8,["modelValue","invalid"]),P(n).password?(X(),ne("div",ore,ve(P(n).password),1)):je("",!0)]),m("div",lre,[ge(g,{to:"/sign_up",class:"overflow-hidden w-[90%] rounded-3xl font-heading text-subtitle pt-[0.8rem] pb-[0.6rem] text-primary lg:hidden flex justify-center",title:"sign in"},{default:We(()=>f[5]||(f[5]=[m("span",{class:"relative z-[2]"}," Sign up ",-1)])),_:1}),m("button",{class:"overflow-hidden w-[90%] rounded-3xl font-heading text-subtitle pt-[0.8rem] pb-[0.6rem] relative bg-primary border-primary border-2 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:bg-pearl-white after:transition-transform after:duration-200 after:will-change-transform after:origin-top after:scale-y-0 lg:hover:after:scale-y-100",title:"sign in",type:"submit",disabled:P(e).loading},[m("span",cre,ve(P(e).loading?"loading...":"sign in"),1)],8,ure)]),m("div",{class:"flex text-center items-center flex-col text-body font-body gap-2 mt-[1rem]"},[m("button",{onClick:c,type:"button",class:"lg:hover:underline text-screen-black"}," Forgot password? ")])],32)])]),f[11]||(f[11]=m("div",{class:"w-full flex items-end p-0 h-[6rem] bg-pearl-white"},[m("div",{class:"w-full h-[6rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1)),u.value?(X(),ne("div",{key:0,onClick:d,class:"fixed w-full h-full top-0 left-0 z-[500] bg-screenBlack bg-opacity-40"},[f[9]||(f[9]=m("button",{class:"absolute right-[4rem] top-[4rem] aspect-square w-[2rem] lg:w-[4rem] rounded-full transition-all"},[m("svg",{width:"134",height:"134",viewBox:"0 0 134 134",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("g",{"clip-path":"url(#clip0_286_9)"},[m("rect",{x:"-2.67847",y:"6.51398",width:"13",height:"184.075",rx:"6.5",transform:"rotate(-45 -2.67847 6.51398)",fill:"#F2F1F0"}),m("rect",{x:"127.482",y:"-2.67841",width:"13",height:"184.075",rx:"6.5",transform:"rotate(45 127.482 -2.67841)",fill:"#F2F1F0"})]),m("defs",null,[m("clipPath",{id:"clip0_286_9"},[m("rect",{width:"134",height:"134",fill:"white"})])])])],-1)),m("div",{onClick:f[4]||(f[4]=y=>y.stopImmediatePropagation()),class:"absolute w-[90vw] md:w-[40rem] h-[30rem] rounded-3xl shadow-lg left-[50%] -translate-x-[50%] top-[calc(50%-15rem)] bg-pearl-white flex flex-col justify-center items-center text-screenBlack text-body font-body px-[2rem]"},[m("div",dre,[f[8]||(f[8]=m("h3",{class:"font-heading text-subtitle"},"Password recovery",-1)),m("div",hre,[f[7]||(f[7]=m("p",null,"provide your email.",-1)),sl(m("input",{"onUpdate:modelValue":f[2]||(f[2]=y=>Bt(s)?s.value=y:null),type:"text",placeholder:"email",class:"px-6 py-4 outline-none rounded-2xl w-full"},null,512),[[vu,P(s)]]),P(e).resetPasswordEmailError?(X(),ne("p",pre,ve(P(e).resetPasswordEmailError),1)):je("",!0)]),m("div",fre,[m("button",{onClick:f[3]||(f[3]=(...y)=>P(e).initializePasswordReset&&P(e).initializePasswordReset(...y)),class:Wt(`px-6 py-4 rounded-2xl font-semibold transition-colors ${P(s)?"bg-primary lg:hover:bg-transparent":"bg-gray-200"}`),disabled:!P(s)}," recover ",10,mre)])])])])):je("",!0)]),_:1})}}}),yre=kr("imprintPageStore",{state:()=>({text:null,loading:!1}),actions:{async fetchImprint(){this.loading=!0;try{const t=await en.get("/cms/pages",{params:{type:"home.ImprintPage",fields:"imprint"}});this.text=Qn(t.data.items[0].imprint)}catch{}finally{this.loading=!1}}}}),vre=["innerHTML"],bre=st({__name:"Imprint",setup(t){const e=yre();return ao(()=>{e.fetchImprint()}),(i,r)=>(X(),Ot(Fn,null,{default:We(()=>[r[0]||(r[0]=m("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},[m("h1",{class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"}," Imprint ")],-1)),m("div",{class:"w-full py-[10rem] px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-pearl-white font-body text-body",innerHTML:P(e).text},null,8,vre)]),_:1}))}}),xre=kr("termsOfUsePageStore",{state:()=>({text:null,loading:!1}),actions:{async fetchTermsOfUse(){this.loading=!0;try{const t=await en.get("/cms/pages",{params:{type:"home.TermsOfUsePage",fields:"terms_of_use"}});this.text=Qn(t.data.items[0].terms_of_use)}catch{}finally{this.loading=!1}}}}),_re=["innerHTML"],wre=st({__name:"TermsOfUse",setup(t){const e=xre();return ao(()=>{e.fetchTermsOfUse()}),(i,r)=>(X(),Ot(Fn,null,{default:We(()=>[r[0]||(r[0]=m("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},[m("h1",{class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"}," Terms of use ")],-1)),m("div",{class:"w-full py-[10rem] px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-pearl-white font-body text-body",innerHTML:P(e).text},null,8,_re)]),_:1}))}}),Sre={class:"bg-pearl-white py-[10rem] flex flex-col items-center justify-center font-body text-body text-screenBlack px-[2rem] lg:px-[12rem] xl:px-[10vw]"},Cre={class:"w-full lg:w-[30vw] flex flex-col items-center gap-[2rem]"},kre=["disabled","title"],Tre=st({__name:"PasswordReset",setup(t){const e=zg(),i=Fu(),r=Xe(""),n=Sr(),s=async()=>{try{if(!e.query.token){Ut().addToast({type:"error",title:"Action not allowed",message:"You cannot perform this action, go to sign in page and request resetting a password"});return}await n.resetPassword(r.value,e.query.token),i.push("/sign_in")}catch{}};return(a,o)=>(X(),Ot(Fn,null,{default:We(()=>[o[3]||(o[3]=m("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},null,-1)),m("div",Sre,[m("div",Cre,[o[1]||(o[1]=m("h1",{class:"font-heading text-subtitle lg:text-title"},"Reset password",-1)),o[2]||(o[2]=m("p",null,"provide new password",-1)),ge(_s,{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=l=>r.value=l),type:"password",label:"new password",class:"w-full"},null,8,["modelValue"]),m("button",{onClick:s,class:Wt(`w-full text-subtitle font-heading rounded-2xl pt-4 pb-2 ${r.value?"bg-primary":"bg-gray-200"}`),disabled:P(n).passwordResetRequest.status=="loading"||!r.value,title:r.value?"confirm":"new password not provided",type:"button"},ve(P(n).passwordResetRequest.status!="loading"?"confirm":"loading..."),11,kre)])])]),_:1}))}}),Ere={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex flex-col justify-center py-[2rem]"},Are={class:"w-full flex flex-row justify-center flex-wrap gap-y-[2rem] lg:gap-x-[2rem] px-[2rem] py-[5rem] overflow-x-hidden"},Mre={class:"h-max md:h-[52rem] w-full md:w-[45rem] bg-pearl-white rounded-[30px] items-center flex flex-col p-[2rem] md:p-[4rem] gap-[1rem] md:gap-[2rem]"},Dre=["src","alt"],Lre={class:"text-screenBlack text-subtitle md:text-title font-heading text-center w-full"},Bre={class:"font-body font-medium text-screenBlack-400 text-center text-body mt-[1rem]"},Pre=st({__name:"Games",setup(t){const e=[{name:"Integration gym",description:"Solve daily integral, hit streaks and bee the best!",pictureSrc:"https://i.ibb.co/D5QpqPX/cover-integration-gym.png",url:"integration_gym"}];return(i,r)=>{const n=yn("RouterLink");return X(),Ot(Fn,null,{default:We(()=>[r[2]||(r[2]=m("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center gap-[2rem] pt-[10rem] pb-[2rem] lg:pt-[16rem]"},[m("svg",{width:"81",height:"64",viewBox:"0 0 81 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M38.6415 6.77979L31.0516 2.74416C30.5601 2.48283 30.0555 2.27114 29.5434 2.10732C20.5338 -1.35005 10.1525 2.37665 5.50641 11.1147C0.480628 20.5668 -3.41312 29.3064 6.039 34.3321C12.4693 37.7512 23.4195 38.5706 31.3463 35.7692L42.9004 41.9126C45.0105 50.0507 51.8132 58.6706 58.2434 62.0896C67.6955 67.1154 72.7636 59.0002 77.7893 49.5481C82.8151 40.096 79.2269 28.3593 69.7748 23.3335C69.5272 23.2019 69.2781 23.0762 69.0277 22.9564C68.8664 22.8573 68.701 22.7627 68.5316 22.6726L63.0451 19.7554L57.8596 29.5078C57.1685 30.8077 55.5544 31.3012 54.2544 30.61L34.5583 20.1374C33.2584 19.4462 32.7649 17.8321 33.4561 16.5322L38.6415 6.77979ZM34.339 17.0017L39.2898 7.6907L61.9274 19.7274L56.9767 29.0383C56.5448 29.8506 55.5362 30.159 54.7239 29.7271L35.0278 19.2545C34.2155 18.8226 33.9071 17.814 34.339 17.0017ZM65.6995 35.1483C64.1681 34.3341 63.8918 31.8589 64.706 30.3276C65.5203 28.7962 67.4218 28.2149 68.9531 29.0291C70.4844 29.8434 71.0658 31.7448 70.2516 33.2762C69.4373 34.8075 67.2308 35.9625 65.6995 35.1483ZM58.606 41.801C59.4202 40.2697 61.6267 39.1147 63.1581 39.9289C64.6894 40.7431 64.9657 43.2183 64.1515 44.7496C63.3373 46.281 61.4358 46.8623 59.9044 46.0481C58.3731 45.2339 57.7917 43.3324 58.606 41.801ZM62.0382 36.2677C61.224 37.7991 58.7488 38.0754 57.2175 37.2612C55.6861 36.4469 55.1048 34.5455 55.919 33.0141C56.7332 31.4828 58.6347 30.9014 60.1661 31.7157C61.6974 32.5299 62.8524 34.7364 62.0382 36.2677ZM68.6912 43.3617C67.1598 42.5475 66.0048 40.341 66.8191 38.8096C67.6333 37.2783 70.1084 37.002 71.6398 37.8162C73.1711 38.6304 73.7525 40.5319 72.9382 42.0633C72.124 43.5946 70.2225 44.1759 68.6912 43.3617ZM26.0894 7.46415C25.0332 6.90261 23.7219 7.30353 23.1604 8.35964L21.5335 11.4193L18.4738 9.79242C17.4177 9.23088 16.1063 9.6318 15.5448 10.6879L14.3247 12.9826C13.7631 14.0387 14.164 15.3501 15.2201 15.9116L18.2799 17.5385L16.6531 20.598C16.0916 21.6541 16.4925 22.9655 17.5486 23.527L19.8433 24.7471C20.8994 25.3086 22.2107 24.9077 22.7723 23.8516L24.399 20.7921L27.4585 22.4189C28.5146 22.9804 29.826 22.5795 30.3875 21.5234L31.6076 19.2287C32.1691 18.1726 31.7682 16.8612 30.7121 16.2997L27.6527 14.6729L29.2795 11.6133C29.8411 10.5572 29.4401 9.2458 28.384 8.68426L26.0894 7.46415Z",fill:"#FBC151"})]),m("h1",{class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"}," Games "),m("svg",{width:"81",height:"64",viewBox:"0 0 81 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M38.6415 6.77979L31.0516 2.74416C30.5601 2.48283 30.0555 2.27114 29.5434 2.10732C20.5338 -1.35005 10.1525 2.37665 5.50641 11.1147C0.480628 20.5668 -3.41312 29.3064 6.039 34.3321C12.4693 37.7512 23.4195 38.5706 31.3463 35.7692L42.9004 41.9126C45.0105 50.0507 51.8132 58.6706 58.2434 62.0896C67.6955 67.1154 72.7636 59.0002 77.7893 49.5481C82.8151 40.096 79.2269 28.3593 69.7748 23.3335C69.5272 23.2019 69.2781 23.0762 69.0277 22.9564C68.8664 22.8573 68.701 22.7627 68.5316 22.6726L63.0451 19.7554L57.8596 29.5078C57.1685 30.8077 55.5544 31.3012 54.2544 30.61L34.5583 20.1374C33.2584 19.4462 32.7649 17.8321 33.4561 16.5322L38.6415 6.77979ZM34.339 17.0017L39.2898 7.6907L61.9274 19.7274L56.9767 29.0383C56.5448 29.8506 55.5362 30.159 54.7239 29.7271L35.0278 19.2545C34.2155 18.8226 33.9071 17.814 34.339 17.0017ZM65.6995 35.1483C64.1681 34.3341 63.8918 31.8589 64.706 30.3276C65.5203 28.7962 67.4218 28.2149 68.9531 29.0291C70.4844 29.8434 71.0658 31.7448 70.2516 33.2762C69.4373 34.8075 67.2308 35.9625 65.6995 35.1483ZM58.606 41.801C59.4202 40.2697 61.6267 39.1147 63.1581 39.9289C64.6894 40.7431 64.9657 43.2183 64.1515 44.7496C63.3373 46.281 61.4358 46.8623 59.9044 46.0481C58.3731 45.2339 57.7917 43.3324 58.606 41.801ZM62.0382 36.2677C61.224 37.7991 58.7488 38.0754 57.2175 37.2612C55.6861 36.4469 55.1048 34.5455 55.919 33.0141C56.7332 31.4828 58.6347 30.9014 60.1661 31.7157C61.6974 32.5299 62.8524 34.7364 62.0382 36.2677ZM68.6912 43.3617C67.1598 42.5475 66.0048 40.341 66.8191 38.8096C67.6333 37.2783 70.1084 37.002 71.6398 37.8162C73.1711 38.6304 73.7525 40.5319 72.9382 42.0633C72.124 43.5946 70.2225 44.1759 68.6912 43.3617ZM26.0894 7.46415C25.0332 6.90261 23.7219 7.30353 23.1604 8.35964L21.5335 11.4193L18.4738 9.79242C17.4177 9.23088 16.1063 9.6318 15.5448 10.6879L14.3247 12.9826C13.7631 14.0387 14.164 15.3501 15.2201 15.9116L18.2799 17.5385L16.6531 20.598C16.0916 21.6541 16.4925 22.9655 17.5486 23.527L19.8433 24.7471C20.8994 25.3086 22.2107 24.9077 22.7723 23.8516L24.399 20.7921L27.4585 22.4189C28.5146 22.9804 29.826 22.5795 30.3875 21.5234L31.6076 19.2287C32.1691 18.1726 31.7682 16.8612 30.7121 16.2997L27.6527 14.6729L29.2795 11.6133C29.8411 10.5572 29.4401 9.2458 28.384 8.68426L26.0894 7.46415Z",fill:"#FBC151"})])],-1)),m("div",Ere,[m("div",Are,[(X(),ne(yt,null,Ni(e,s=>ge(n,{to:`/game/${s.url}`},{default:We(()=>[m("div",Mre,[m("img",{src:s.pictureSrc,alt:`${s.name} - icon`,class:"aspect-[11/5] w-full rounded-[10px] bg-screenBlack"},null,8,Dre),m("h2",Lre,ve(s.name),1),r[0]||(r[0]=m("button",{class:"overflow-hidden rounded-[10px] font-heading text-subtitle md:text-title border-box w-[95%] pt-[0.4rem] pb-[0rem] relative bg-primary border-primary border-[3px] text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:bg-pearl-white after:transition-transform after:duration-200 after:will-change-transform after:origin-top after:scale-y-0 lg:hover:after:scale-y-100"},[m("span",{class:"relative z-[2]"}," PLAY ")],-1)),m("p",Bre,ve(s.description),1)])]),_:2},1032,["to"])),64))]),r[1]||(r[1]=m("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] flex justify-center pt-[2rem] pb-[10rem] text-pearl-white"},[m("p",{class:"font-body text-body lg:text-subtitle text-center"},[tt(" Have an idea for a fun game?"),m("br"),tt(" reach out to us: "),m("a",{href:"mailto:info@integrationbee.at?subject=Competition%20organization%20request",class:"underline"},"info@integrationbee.at")])],-1))])]),_:1})}}}),Ire=st({__name:"Presenting",setup(t){return(e,i)=>(X(),Ot(P(sE)))}}),yL=kr("presenting",{state:()=>({competitions:[],currentSeriesName:"",series:[],currentIntegralIndex:0,timePerIntegral:180,tieBreakers:[],currentTieBreakerIndex:0}),actions:{async fetchCompetitions(){try{const t=await wr.get("/competitions/");this.competitions=t.data}catch{Ut().addToast({type:"error",title:"could not fetch competitions",message:""})}},async fetchSeries(t,e){try{const r=(await wr.get(`/competitions/${t}/series/${e}/`)).data;this.currentSeriesName=r.series_name,this.series=r.integrals.map(n=>({...n,isTieBreaker:!1})),this.currentIntegralIndex=0}catch{Ut().addToast({type:"error",title:"Error during fetching series",message:"series could not be fetched, try later."})}},async fetchTieBreakers(t){try{const i=(await wr.get(`/competitions/${t}/tie-breakers/`)).data;this.tieBreakers=i.integrals.map(r=>({...r,isTieBreaker:!0})),this.currentTieBreakerIndex=0}catch{Ut().addToast({type:"error",title:"Error during fetching tie-breakers",message:"tie-breakers could not be fetched, try later."})}},addCurrentTieBreaker(){if(this.currentTieBreakerIndex<this.tieBreakers.length){const t=this.tieBreakers[this.currentTieBreakerIndex];this.series.splice(this.currentIntegralIndex+1,0,t),this.tieBreakers.length-1!==this.currentTieBreakerIndex?this.currentTieBreakerIndex+=1:Ut().addToast({type:"warning",title:"Last tie-breaker",message:"this was the last tie-breaker."}),Ut().addToast({type:"info",title:"Tie breaker was added.",message:"next integral will be a tie breaker, current series will continue afterwards."})}else Ut().addToast({type:"warning",title:"No more Tie Breakers available",message:""})}}}),Rre={class:"w-full h-[100vh] bg-pearl-white min-h-[50rem] min-w-[120rem] px-[2rem] xl:px-[12rem] flex flex-col font-body text-body text-screenBlack py-[2rem]"},Ore={class:"w-full h-[10rem] flex justify-start items-center"},Fre={class:"h-full w-max min-w-[5rem] rounded-full border-4 border-primary flex items-center"},Nre={class:"aspect-square h-full p-[1rem]"},$re={class:"grid grid-cols-2 py-[5rem] gap-x-[2rem]"},zre={class:"bg-white h-[calc(100vh-30rem)] min-h-[25rem] w-full rounded-xl overflow-y-auto px-[1rem] py-[1rem] col-start-1 col-span-1"},Ure={class:"w-full h-max flex flex-col gap-[1rem]"},qre=["onClick"],jre={class:"text-center"},Vre={class:"col-start-2 col-span-1 h-[calc(100vh-30rem)] min-h-[25rem] flex flex-col-reverse justify-between"},Hre={class:"flex flex-col gap-[2rem]"},Kre={key:1,class:"flex justify-center font-heading text-title w-full rounded-xl bg-gray-100 py-[1rem]"},Wre={key:0,class:"bg-white h-[calc(100vh-55rem)] w-full rounded-xl overflow-y-auto px-[1rem] py-[1rem]"},Gre={class:"w-full h-max flex flex-col gap-[1rem]"},Xre=["onClick"],Yre={class:"text-center"},Zre=st({__name:"MainMenu",setup(t){const e=yL(),i=Xe(null),r=Xe(null);return qi(async()=>{await e.fetchCompetitions()}),(n,s)=>{const a=yn("RouterLink");return X(),ne("div",Rre,[m("header",Ore,[m("div",Fre,[m("div",Nre,[ge(a,{to:"/",class:"w-full h-full p-[1rem] bg-white flex rounded-full transition-transform duration-[.8s] hover:rotate-[360deg]"},{default:We(()=>s[0]||(s[0]=[m("svg",{width:"69",height:"68",viewBox:"0 0 69 68",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full w-full"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M59.4828 33.7849L51.3108 54.5169L25.3814 58.3861L9.06592 37.8652L13.2027 27.3704C14.3404 27.2488 15.5733 27.1797 16.906 27.1797C22.0917 27.1797 26.0562 28.9823 30.2511 30.8896C34.9633 33.0321 39.9662 35.3068 47.3172 35.3068C52.2665 35.3068 56.3178 34.6415 59.4828 33.7849Z",fill:"#FBC151"}),m("path",{d:"M19.7919 14.8718L43.9564 11.266L59.1614 30.3902L50.2019 53.1202L26.0374 56.726L10.8324 37.6018L19.7919 14.8718Z",stroke:"#001D37","stroke-width":"3.09071"}),m("path",{d:"M1.70068 31.8987C1.70068 31.8987 5.89532 27.1797 16.9062 27.1797C27.9172 27.1797 33.4226 35.3068 47.3174 35.3068C61.2121 35.3068 68.0284 30.0635 68.0284 30.0635",stroke:"#001D37","stroke-width":"3.09071"})],-1)])),_:1})]),s[1]||(s[1]=m("h1",{class:"font-heading text-title pl-[2rem] pr-[4rem]"},"Integral Presenting",-1))])]),m("main",$re,[s[4]||(s[4]=m("h2",{class:"text-title font-heading col-start-1 col-span-1 pl-[1rem]"}," Competitions ",-1)),m("div",zre,[m("div",Ure,[(X(!0),ne(yt,null,Ni(P(e).competitions,(o,l)=>(X(),ne("div",{key:l,onClick:()=>i.value=o.id.toString(),class:Wt(`w-full h-[5rem] rounded-lg  flex justify-center items-center cursor-pointer transition-colors hover:bg-gray-100 ${i.value==o.id.toString()?"bg-gray-100":"bg-pearl-white"}`)},[m("p",jre,ve(o.name),1)],10,qre))),128))])]),s[5]||(s[5]=m("h2",{class:"text-title font-heading col-start-2 col-span-1 row-start-1 pl-[1rem]"}," Series ",-1)),m("div",Vre,[m("div",Hre,[i.value!==null&&r.value!==null?(X(),Ot(a,{key:0,to:`/presenting/series_presentation/${i.value}/${r.value}`,class:"flex justify-center font-heading text-title w-full rounded-xl bg-primary py-[1rem]"},{default:We(()=>s[2]||(s[2]=[tt(" Start presenting ")])),_:1},8,["to"])):(X(),ne("div",Kre," Start presenting ")),s[3]||(s[3]=m("a",{href:"/admin/",class:"flex justify-center font-heading text-title w-full rounded-xl border-4 border-primary py-[1rem]"}," Go to admin ",-1))]),i.value!==null?(X(),ne("div",Wre,[m("div",Gre,[(X(!0),ne(yt,null,Ni(P(e).competitions.find(o=>o.id.toString()==i.value).series,(o,l)=>(X(),ne("div",{key:l,onClick:()=>{r.value=o.id},class:Wt(`w-full h-[5rem] rounded-lg flex justify-center items-center cursor-pointer transition-colors hover:bg-gray-100 ${r.value==o.id.toString()?"bg-gray-100":"bg-pearl-white"}`)},[m("p",Yre,ve(o.series_name),1)],10,Xre))),128))])])):je("",!0)])])])}}});class An{constructor(e,i,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=i,this.end=r}static range(e,i){return i?!e||!e.loc||!i.loc||e.loc.lexer!==i.loc.lexer?null:new An(e.loc.lexer,e.loc.start,i.loc.end):e&&e.loc}}class es{constructor(e,i){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=i}range(e,i){return new es(i,An.range(this,e))}}class Be{constructor(e,i){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,n,s,a=i&&i.loc;if(a&&a.start<=a.end){var o=a.lexer.input;n=a.start,s=a.end,n===o.length?r+=" at end of input: ":r+=" at position "+(n+1)+": ";var l=o.slice(n,s).replace(/[^]/g,"$&̲"),u;n>15?u="…"+o.slice(n-15,n):u=o.slice(0,n);var c;s+15<o.length?c=o.slice(s,s+15)+"…":c=o.slice(s),r+=u+l+c}var d=new Error(r);return d.name="ParseError",d.__proto__=Be.prototype,d.position=n,n!=null&&s!=null&&(d.length=s-n),d.rawMessage=e,d}}Be.prototype.__proto__=Error.prototype;var Jre=function(e,i){return e.indexOf(i)!==-1},Qre=function(e,i){return e===void 0?i:e},ene=/([A-Z])/g,tne=function(e){return e.replace(ene,"-$1").toLowerCase()},ine={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},rne=/[&><"']/g;function nne(t){return String(t).replace(rne,e=>ine[e])}var vL=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},sne=function(e){var i=vL(e);return i.type==="mathord"||i.type==="textord"||i.type==="atom"},ane=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},one=function(e){var i=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return i?i[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(i[1])?null:i[1].toLowerCase():"_relative"},lt={contains:Jre,deflt:Qre,escape:nne,hyphenate:tne,getBaseElem:vL,isCharacterBox:sne,protocolFromUrl:one},t1={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function lne(t){if(t.default)return t.default;var e=t.type,i=Array.isArray(e)?e[0]:e;if(typeof i!="string")return i.enum[0];switch(i){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Xb{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var i in t1)if(t1.hasOwnProperty(i)){var r=t1[i];this[i]=e[i]!==void 0?r.processor?r.processor(e[i]):e[i]:lne(r)}}reportNonstrict(e,i,r){var n=this.strict;if(typeof n=="function"&&(n=n(e,i,r)),!(!n||n==="ignore")){if(n===!0||n==="error")throw new Be("LaTeX-incompatible input and strict mode is set to 'error': "+(i+" ["+e+"]"),r);n==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(i+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+i+" ["+e+"]"))}}useStrictBehavior(e,i,r){var n=this.strict;if(typeof n=="function")try{n=n(e,i,r)}catch{n="error"}return!n||n==="ignore"?!1:n===!0||n==="error"?!0:n==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(i+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+i+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var i=lt.protocolFromUrl(e.url);if(i==null)return!1;e.protocol=i}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class ko{constructor(e,i,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=i,this.cramped=r}sup(){return Ws[une[this.id]]}sub(){return Ws[cne[this.id]]}fracNum(){return Ws[dne[this.id]]}fracDen(){return Ws[hne[this.id]]}cramp(){return Ws[pne[this.id]]}text(){return Ws[fne[this.id]]}isTight(){return this.size>=2}}var Yb=0,Q1=1,t0=2,Wa=3,Xh=4,Yn=5,C0=6,Jr=7,Ws=[new ko(Yb,0,!1),new ko(Q1,0,!0),new ko(t0,1,!1),new ko(Wa,1,!0),new ko(Xh,2,!1),new ko(Yn,2,!0),new ko(C0,3,!1),new ko(Jr,3,!0)],une=[Xh,Yn,Xh,Yn,C0,Jr,C0,Jr],cne=[Yn,Yn,Yn,Yn,Jr,Jr,Jr,Jr],dne=[t0,Wa,Xh,Yn,C0,Jr,C0,Jr],hne=[Wa,Wa,Yn,Yn,Jr,Jr,Jr,Jr],pne=[Q1,Q1,Wa,Wa,Yn,Yn,Jr,Jr],fne=[Yb,Q1,t0,Wa,t0,Wa,t0,Wa],pt={DISPLAY:Ws[Yb],TEXT:Ws[t0],SCRIPT:Ws[Xh],SCRIPTSCRIPT:Ws[C0]},b5=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function mne(t){for(var e=0;e<b5.length;e++)for(var i=b5[e],r=0;r<i.blocks.length;r++){var n=i.blocks[r];if(t>=n[0]&&t<=n[1])return i.name}return null}var i1=[];b5.forEach(t=>t.blocks.forEach(e=>i1.push(...e)));function bL(t){for(var e=0;e<i1.length;e+=2)if(t>=i1[e]&&t<=i1[e+1])return!0;return!1}var lc=80,gne=function(e,i){return"M95,"+(622+e+i)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},yne=function(e,i){return"M263,"+(601+e+i)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},vne=function(e,i){return"M983 "+(10+e+i)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},bne=function(e,i){return"M424,"+(2398+e+i)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+i+`
h400000v`+(40+e)+"h-400000z"},xne=function(e,i){return"M473,"+(2713+e+i)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+i+"h400000v"+(40+e)+"H1017.7z"},_ne=function(e){var i=e/2;return"M400000 "+e+" H0 L"+i+" 0 l65 45 L145 "+(e-80)+" H400000z"},wne=function(e,i,r){var n=r-54-i-e;return"M702 "+(e+i)+"H400000"+(40+e)+`
H742v`+n+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+i+"H400000v"+(40+e)+"H742z"},Sne=function(e,i,r){i=1e3*i;var n="";switch(e){case"sqrtMain":n=gne(i,lc);break;case"sqrtSize1":n=yne(i,lc);break;case"sqrtSize2":n=vne(i,lc);break;case"sqrtSize3":n=bne(i,lc);break;case"sqrtSize4":n=xne(i,lc);break;case"sqrtTall":n=wne(i,lc,r)}return n},Cne=function(e,i){switch(e){case"⎜":return"M291 0 H417 V"+i+" H291z M291 0 H417 V"+i+" H291z";case"∣":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z";case"∥":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z"+("M367 0 H410 V"+i+" H367z M367 0 H410 V"+i+" H367z");case"⎟":return"M457 0 H583 V"+i+" H457z M457 0 H583 V"+i+" H457z";case"⎢":return"M319 0 H403 V"+i+" H319z M319 0 H403 V"+i+" H319z";case"⎥":return"M263 0 H347 V"+i+" H263z M263 0 H347 V"+i+" H263z";case"⎪":return"M384 0 H504 V"+i+" H384z M384 0 H504 V"+i+" H384z";case"⏐":return"M312 0 H355 V"+i+" H312z M312 0 H355 V"+i+" H312z";case"‖":return"M257 0 H300 V"+i+" H257z M257 0 H300 V"+i+" H257z"+("M478 0 H521 V"+i+" H478z M478 0 H521 V"+i+" H478z");default:return""}},V_={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},kne=function(e,i){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+i+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+i+" v1759 h84z";case"vert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+" v585 h43z";case"doublevert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+` v585 h43z
M367 15 v585 v`+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+i+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+i+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+i+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v602 h84z
M403 1759 V0 H319 V1759 v`+i+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v602 h84z
M347 1759 V0 h-84 V1759 v`+i+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(i+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(i+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(i+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(i+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Cp{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return lt.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),i=0;i<this.children.length;i++)e.appendChild(this.children[i].toNode());return e}toMarkup(){for(var e="",i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e}toText(){var e=i=>i.toText();return this.children.map(e).join("")}}var ea={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Lf={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},H_={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Tne(t,e){ea[t]=e}function Zb(t,e,i){if(!ea[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),n=ea[e][r];if(!n&&t[0]in H_&&(r=H_[t[0]].charCodeAt(0),n=ea[e][r]),!n&&i==="text"&&bL(r)&&(n=ea[e][77]),n)return{depth:n[0],height:n[1],italic:n[2],skew:n[3],width:n[4]}}var i3={};function Ene(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!i3[e]){var i=i3[e]={cssEmPerMu:Lf.quad[e]/18};for(var r in Lf)Lf.hasOwnProperty(r)&&(i[r]=Lf[r][e])}return i3[e]}var Ane=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],K_=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],W_=function(e,i){return i.size<2?e:Ane[e-1][i.size-1]};class Ra{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Ra.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=K_[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var i={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);return new Ra(i)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:W_(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:K_[e-1]})}havingBaseStyle(e){e=e||this.style.text();var i=W_(Ra.BASESIZE,e);return this.size===i&&this.textSize===Ra.BASESIZE&&this.style===e?this:this.extend({style:e,size:i})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ra.BASESIZE?["sizing","reset-size"+this.size,"size"+Ra.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Ene(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ra.BASESIZE=6;var x5={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Mne={ex:!0,em:!0,mu:!0},xL=function(e){return typeof e!="string"&&(e=e.unit),e in x5||e in Mne||e==="ex"},Ci=function(e,i){var r;if(e.unit in x5)r=x5[e.unit]/i.fontMetrics().ptPerEm/i.sizeMultiplier;else if(e.unit==="mu")r=i.fontMetrics().cssEmPerMu;else{var n;if(i.style.isTight()?n=i.havingStyle(i.style.text()):n=i,e.unit==="ex")r=n.fontMetrics().xHeight;else if(e.unit==="em")r=n.fontMetrics().quad;else throw new Be("Invalid unit: '"+e.unit+"'");n!==i&&(r*=n.sizeMultiplier/i.sizeMultiplier)}return Math.min(e.number*r,i.maxSize)},Fe=function(e){return+e.toFixed(4)+"em"},pl=function(e){return e.filter(i=>i).join(" ")},_L=function(e,i,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},i){i.style.isTight()&&this.classes.push("mtight");var n=i.getColor();n&&(this.style.color=n)}},wL=function(e){var i=document.createElement(e);i.className=pl(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(i.style[r]=this.style[r]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&i.setAttribute(n,this.attributes[n]);for(var s=0;s<this.children.length;s++)i.appendChild(this.children[s].toNode());return i},SL=function(e){var i="<"+e;this.classes.length&&(i+=' class="'+lt.escape(pl(this.classes))+'"');var r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=lt.hyphenate(n)+":"+this.style[n]+";");r&&(i+=' style="'+lt.escape(r)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(i+=" "+s+'="'+lt.escape(this.attributes[s])+'"');i+=">";for(var a=0;a<this.children.length;a++)i+=this.children[a].toMarkup();return i+="</"+e+">",i};class kp{constructor(e,i,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,_L.call(this,e,r,n),this.children=i||[]}setAttribute(e,i){this.attributes[e]=i}hasClass(e){return lt.contains(this.classes,e)}toNode(){return wL.call(this,"span")}toMarkup(){return SL.call(this,"span")}}class Jb{constructor(e,i,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,_L.call(this,i,n),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,i){this.attributes[e]=i}hasClass(e){return lt.contains(this.classes,e)}toNode(){return wL.call(this,"a")}toMarkup(){return SL.call(this,"a")}}class Dne{constructor(e,i,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=i,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return lt.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var i in this.style)this.style.hasOwnProperty(i)&&(e.style[i]=this.style[i]);return e}toMarkup(){var e='<img src="'+lt.escape(this.src)+'"'+(' alt="'+lt.escape(this.alt)+'"'),i="";for(var r in this.style)this.style.hasOwnProperty(r)&&(i+=lt.hyphenate(r)+":"+this.style[r]+";");return i&&(e+=' style="'+lt.escape(i)+'"'),e+="'/>",e}}var Lne={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class ss{constructor(e,i,r,n,s,a,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=i||0,this.depth=r||0,this.italic=n||0,this.skew=s||0,this.width=a||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=mne(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Lne[this.text])}hasClass(e){return lt.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),i=null;this.italic>0&&(i=document.createElement("span"),i.style.marginRight=Fe(this.italic)),this.classes.length>0&&(i=i||document.createElement("span"),i.className=pl(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(i=i||document.createElement("span"),i.style[r]=this.style[r]);return i?(i.appendChild(e),i):e}toMarkup(){var e=!1,i="<span";this.classes.length&&(e=!0,i+=' class="',i+=lt.escape(pl(this.classes)),i+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=lt.hyphenate(n)+":"+this.style[n]+";");r&&(e=!0,i+=' style="'+lt.escape(r)+'"');var s=lt.escape(this.text);return e?(i+=">",i+=s,i+="</span>",i):s}}class to{constructor(e,i){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=i||{}}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&i.setAttribute(r,this.attributes[r]);for(var n=0;n<this.children.length;n++)i.appendChild(this.children[n].toNode());return i}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="'+lt.escape(this.attributes[i])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class fl{constructor(e,i){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=i}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"path");return this.alternate?i.setAttribute("d",this.alternate):i.setAttribute("d",V_[this.pathName]),i}toMarkup(){return this.alternate?'<path d="'+lt.escape(this.alternate)+'"/>':'<path d="'+lt.escape(V_[this.pathName])+'"/>'}}class _5{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&i.setAttribute(r,this.attributes[r]);return i}toMarkup(){var e="<line";for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="'+lt.escape(this.attributes[i])+'"');return e+="/>",e}}function G_(t){if(t instanceof ss)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function Bne(t){if(t instanceof kp)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var Pne={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Ine={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},gi={math:{},text:{}};function _(t,e,i,r,n,s){gi[t][n]={font:e,group:i,replace:r},s&&r&&(gi[t][r]=gi[t][n])}var k="math",ke="text",L="main",K="ams",wi="accent-token",Ye="bin",rn="close",W0="inner",ht="mathord",Zi="op-token",Nn="open",b2="punct",W="rel",ho="spacing",Q="textord";_(k,L,W,"≡","\\equiv",!0);_(k,L,W,"≺","\\prec",!0);_(k,L,W,"≻","\\succ",!0);_(k,L,W,"∼","\\sim",!0);_(k,L,W,"⊥","\\perp");_(k,L,W,"⪯","\\preceq",!0);_(k,L,W,"⪰","\\succeq",!0);_(k,L,W,"≃","\\simeq",!0);_(k,L,W,"∣","\\mid",!0);_(k,L,W,"≪","\\ll",!0);_(k,L,W,"≫","\\gg",!0);_(k,L,W,"≍","\\asymp",!0);_(k,L,W,"∥","\\parallel");_(k,L,W,"⋈","\\bowtie",!0);_(k,L,W,"⌣","\\smile",!0);_(k,L,W,"⊑","\\sqsubseteq",!0);_(k,L,W,"⊒","\\sqsupseteq",!0);_(k,L,W,"≐","\\doteq",!0);_(k,L,W,"⌢","\\frown",!0);_(k,L,W,"∋","\\ni",!0);_(k,L,W,"∝","\\propto",!0);_(k,L,W,"⊢","\\vdash",!0);_(k,L,W,"⊣","\\dashv",!0);_(k,L,W,"∋","\\owns");_(k,L,b2,".","\\ldotp");_(k,L,b2,"⋅","\\cdotp");_(k,L,Q,"#","\\#");_(ke,L,Q,"#","\\#");_(k,L,Q,"&","\\&");_(ke,L,Q,"&","\\&");_(k,L,Q,"ℵ","\\aleph",!0);_(k,L,Q,"∀","\\forall",!0);_(k,L,Q,"ℏ","\\hbar",!0);_(k,L,Q,"∃","\\exists",!0);_(k,L,Q,"∇","\\nabla",!0);_(k,L,Q,"♭","\\flat",!0);_(k,L,Q,"ℓ","\\ell",!0);_(k,L,Q,"♮","\\natural",!0);_(k,L,Q,"♣","\\clubsuit",!0);_(k,L,Q,"℘","\\wp",!0);_(k,L,Q,"♯","\\sharp",!0);_(k,L,Q,"♢","\\diamondsuit",!0);_(k,L,Q,"ℜ","\\Re",!0);_(k,L,Q,"♡","\\heartsuit",!0);_(k,L,Q,"ℑ","\\Im",!0);_(k,L,Q,"♠","\\spadesuit",!0);_(k,L,Q,"§","\\S",!0);_(ke,L,Q,"§","\\S");_(k,L,Q,"¶","\\P",!0);_(ke,L,Q,"¶","\\P");_(k,L,Q,"†","\\dag");_(ke,L,Q,"†","\\dag");_(ke,L,Q,"†","\\textdagger");_(k,L,Q,"‡","\\ddag");_(ke,L,Q,"‡","\\ddag");_(ke,L,Q,"‡","\\textdaggerdbl");_(k,L,rn,"⎱","\\rmoustache",!0);_(k,L,Nn,"⎰","\\lmoustache",!0);_(k,L,rn,"⟯","\\rgroup",!0);_(k,L,Nn,"⟮","\\lgroup",!0);_(k,L,Ye,"∓","\\mp",!0);_(k,L,Ye,"⊖","\\ominus",!0);_(k,L,Ye,"⊎","\\uplus",!0);_(k,L,Ye,"⊓","\\sqcap",!0);_(k,L,Ye,"∗","\\ast");_(k,L,Ye,"⊔","\\sqcup",!0);_(k,L,Ye,"◯","\\bigcirc",!0);_(k,L,Ye,"∙","\\bullet",!0);_(k,L,Ye,"‡","\\ddagger");_(k,L,Ye,"≀","\\wr",!0);_(k,L,Ye,"⨿","\\amalg");_(k,L,Ye,"&","\\And");_(k,L,W,"⟵","\\longleftarrow",!0);_(k,L,W,"⇐","\\Leftarrow",!0);_(k,L,W,"⟸","\\Longleftarrow",!0);_(k,L,W,"⟶","\\longrightarrow",!0);_(k,L,W,"⇒","\\Rightarrow",!0);_(k,L,W,"⟹","\\Longrightarrow",!0);_(k,L,W,"↔","\\leftrightarrow",!0);_(k,L,W,"⟷","\\longleftrightarrow",!0);_(k,L,W,"⇔","\\Leftrightarrow",!0);_(k,L,W,"⟺","\\Longleftrightarrow",!0);_(k,L,W,"↦","\\mapsto",!0);_(k,L,W,"⟼","\\longmapsto",!0);_(k,L,W,"↗","\\nearrow",!0);_(k,L,W,"↩","\\hookleftarrow",!0);_(k,L,W,"↪","\\hookrightarrow",!0);_(k,L,W,"↘","\\searrow",!0);_(k,L,W,"↼","\\leftharpoonup",!0);_(k,L,W,"⇀","\\rightharpoonup",!0);_(k,L,W,"↙","\\swarrow",!0);_(k,L,W,"↽","\\leftharpoondown",!0);_(k,L,W,"⇁","\\rightharpoondown",!0);_(k,L,W,"↖","\\nwarrow",!0);_(k,L,W,"⇌","\\rightleftharpoons",!0);_(k,K,W,"≮","\\nless",!0);_(k,K,W,"","\\@nleqslant");_(k,K,W,"","\\@nleqq");_(k,K,W,"⪇","\\lneq",!0);_(k,K,W,"≨","\\lneqq",!0);_(k,K,W,"","\\@lvertneqq");_(k,K,W,"⋦","\\lnsim",!0);_(k,K,W,"⪉","\\lnapprox",!0);_(k,K,W,"⊀","\\nprec",!0);_(k,K,W,"⋠","\\npreceq",!0);_(k,K,W,"⋨","\\precnsim",!0);_(k,K,W,"⪹","\\precnapprox",!0);_(k,K,W,"≁","\\nsim",!0);_(k,K,W,"","\\@nshortmid");_(k,K,W,"∤","\\nmid",!0);_(k,K,W,"⊬","\\nvdash",!0);_(k,K,W,"⊭","\\nvDash",!0);_(k,K,W,"⋪","\\ntriangleleft");_(k,K,W,"⋬","\\ntrianglelefteq",!0);_(k,K,W,"⊊","\\subsetneq",!0);_(k,K,W,"","\\@varsubsetneq");_(k,K,W,"⫋","\\subsetneqq",!0);_(k,K,W,"","\\@varsubsetneqq");_(k,K,W,"≯","\\ngtr",!0);_(k,K,W,"","\\@ngeqslant");_(k,K,W,"","\\@ngeqq");_(k,K,W,"⪈","\\gneq",!0);_(k,K,W,"≩","\\gneqq",!0);_(k,K,W,"","\\@gvertneqq");_(k,K,W,"⋧","\\gnsim",!0);_(k,K,W,"⪊","\\gnapprox",!0);_(k,K,W,"⊁","\\nsucc",!0);_(k,K,W,"⋡","\\nsucceq",!0);_(k,K,W,"⋩","\\succnsim",!0);_(k,K,W,"⪺","\\succnapprox",!0);_(k,K,W,"≆","\\ncong",!0);_(k,K,W,"","\\@nshortparallel");_(k,K,W,"∦","\\nparallel",!0);_(k,K,W,"⊯","\\nVDash",!0);_(k,K,W,"⋫","\\ntriangleright");_(k,K,W,"⋭","\\ntrianglerighteq",!0);_(k,K,W,"","\\@nsupseteqq");_(k,K,W,"⊋","\\supsetneq",!0);_(k,K,W,"","\\@varsupsetneq");_(k,K,W,"⫌","\\supsetneqq",!0);_(k,K,W,"","\\@varsupsetneqq");_(k,K,W,"⊮","\\nVdash",!0);_(k,K,W,"⪵","\\precneqq",!0);_(k,K,W,"⪶","\\succneqq",!0);_(k,K,W,"","\\@nsubseteqq");_(k,K,Ye,"⊴","\\unlhd");_(k,K,Ye,"⊵","\\unrhd");_(k,K,W,"↚","\\nleftarrow",!0);_(k,K,W,"↛","\\nrightarrow",!0);_(k,K,W,"⇍","\\nLeftarrow",!0);_(k,K,W,"⇏","\\nRightarrow",!0);_(k,K,W,"↮","\\nleftrightarrow",!0);_(k,K,W,"⇎","\\nLeftrightarrow",!0);_(k,K,W,"△","\\vartriangle");_(k,K,Q,"ℏ","\\hslash");_(k,K,Q,"▽","\\triangledown");_(k,K,Q,"◊","\\lozenge");_(k,K,Q,"Ⓢ","\\circledS");_(k,K,Q,"®","\\circledR");_(ke,K,Q,"®","\\circledR");_(k,K,Q,"∡","\\measuredangle",!0);_(k,K,Q,"∄","\\nexists");_(k,K,Q,"℧","\\mho");_(k,K,Q,"Ⅎ","\\Finv",!0);_(k,K,Q,"⅁","\\Game",!0);_(k,K,Q,"‵","\\backprime");_(k,K,Q,"▲","\\blacktriangle");_(k,K,Q,"▼","\\blacktriangledown");_(k,K,Q,"■","\\blacksquare");_(k,K,Q,"⧫","\\blacklozenge");_(k,K,Q,"★","\\bigstar");_(k,K,Q,"∢","\\sphericalangle",!0);_(k,K,Q,"∁","\\complement",!0);_(k,K,Q,"ð","\\eth",!0);_(ke,L,Q,"ð","ð");_(k,K,Q,"╱","\\diagup");_(k,K,Q,"╲","\\diagdown");_(k,K,Q,"□","\\square");_(k,K,Q,"□","\\Box");_(k,K,Q,"◊","\\Diamond");_(k,K,Q,"¥","\\yen",!0);_(ke,K,Q,"¥","\\yen",!0);_(k,K,Q,"✓","\\checkmark",!0);_(ke,K,Q,"✓","\\checkmark");_(k,K,Q,"ℶ","\\beth",!0);_(k,K,Q,"ℸ","\\daleth",!0);_(k,K,Q,"ℷ","\\gimel",!0);_(k,K,Q,"ϝ","\\digamma",!0);_(k,K,Q,"ϰ","\\varkappa");_(k,K,Nn,"┌","\\@ulcorner",!0);_(k,K,rn,"┐","\\@urcorner",!0);_(k,K,Nn,"└","\\@llcorner",!0);_(k,K,rn,"┘","\\@lrcorner",!0);_(k,K,W,"≦","\\leqq",!0);_(k,K,W,"⩽","\\leqslant",!0);_(k,K,W,"⪕","\\eqslantless",!0);_(k,K,W,"≲","\\lesssim",!0);_(k,K,W,"⪅","\\lessapprox",!0);_(k,K,W,"≊","\\approxeq",!0);_(k,K,Ye,"⋖","\\lessdot");_(k,K,W,"⋘","\\lll",!0);_(k,K,W,"≶","\\lessgtr",!0);_(k,K,W,"⋚","\\lesseqgtr",!0);_(k,K,W,"⪋","\\lesseqqgtr",!0);_(k,K,W,"≑","\\doteqdot");_(k,K,W,"≓","\\risingdotseq",!0);_(k,K,W,"≒","\\fallingdotseq",!0);_(k,K,W,"∽","\\backsim",!0);_(k,K,W,"⋍","\\backsimeq",!0);_(k,K,W,"⫅","\\subseteqq",!0);_(k,K,W,"⋐","\\Subset",!0);_(k,K,W,"⊏","\\sqsubset",!0);_(k,K,W,"≼","\\preccurlyeq",!0);_(k,K,W,"⋞","\\curlyeqprec",!0);_(k,K,W,"≾","\\precsim",!0);_(k,K,W,"⪷","\\precapprox",!0);_(k,K,W,"⊲","\\vartriangleleft");_(k,K,W,"⊴","\\trianglelefteq");_(k,K,W,"⊨","\\vDash",!0);_(k,K,W,"⊪","\\Vvdash",!0);_(k,K,W,"⌣","\\smallsmile");_(k,K,W,"⌢","\\smallfrown");_(k,K,W,"≏","\\bumpeq",!0);_(k,K,W,"≎","\\Bumpeq",!0);_(k,K,W,"≧","\\geqq",!0);_(k,K,W,"⩾","\\geqslant",!0);_(k,K,W,"⪖","\\eqslantgtr",!0);_(k,K,W,"≳","\\gtrsim",!0);_(k,K,W,"⪆","\\gtrapprox",!0);_(k,K,Ye,"⋗","\\gtrdot");_(k,K,W,"⋙","\\ggg",!0);_(k,K,W,"≷","\\gtrless",!0);_(k,K,W,"⋛","\\gtreqless",!0);_(k,K,W,"⪌","\\gtreqqless",!0);_(k,K,W,"≖","\\eqcirc",!0);_(k,K,W,"≗","\\circeq",!0);_(k,K,W,"≜","\\triangleq",!0);_(k,K,W,"∼","\\thicksim");_(k,K,W,"≈","\\thickapprox");_(k,K,W,"⫆","\\supseteqq",!0);_(k,K,W,"⋑","\\Supset",!0);_(k,K,W,"⊐","\\sqsupset",!0);_(k,K,W,"≽","\\succcurlyeq",!0);_(k,K,W,"⋟","\\curlyeqsucc",!0);_(k,K,W,"≿","\\succsim",!0);_(k,K,W,"⪸","\\succapprox",!0);_(k,K,W,"⊳","\\vartriangleright");_(k,K,W,"⊵","\\trianglerighteq");_(k,K,W,"⊩","\\Vdash",!0);_(k,K,W,"∣","\\shortmid");_(k,K,W,"∥","\\shortparallel");_(k,K,W,"≬","\\between",!0);_(k,K,W,"⋔","\\pitchfork",!0);_(k,K,W,"∝","\\varpropto");_(k,K,W,"◀","\\blacktriangleleft");_(k,K,W,"∴","\\therefore",!0);_(k,K,W,"∍","\\backepsilon");_(k,K,W,"▶","\\blacktriangleright");_(k,K,W,"∵","\\because",!0);_(k,K,W,"⋘","\\llless");_(k,K,W,"⋙","\\gggtr");_(k,K,Ye,"⊲","\\lhd");_(k,K,Ye,"⊳","\\rhd");_(k,K,W,"≂","\\eqsim",!0);_(k,L,W,"⋈","\\Join");_(k,K,W,"≑","\\Doteq",!0);_(k,K,Ye,"∔","\\dotplus",!0);_(k,K,Ye,"∖","\\smallsetminus");_(k,K,Ye,"⋒","\\Cap",!0);_(k,K,Ye,"⋓","\\Cup",!0);_(k,K,Ye,"⩞","\\doublebarwedge",!0);_(k,K,Ye,"⊟","\\boxminus",!0);_(k,K,Ye,"⊞","\\boxplus",!0);_(k,K,Ye,"⋇","\\divideontimes",!0);_(k,K,Ye,"⋉","\\ltimes",!0);_(k,K,Ye,"⋊","\\rtimes",!0);_(k,K,Ye,"⋋","\\leftthreetimes",!0);_(k,K,Ye,"⋌","\\rightthreetimes",!0);_(k,K,Ye,"⋏","\\curlywedge",!0);_(k,K,Ye,"⋎","\\curlyvee",!0);_(k,K,Ye,"⊝","\\circleddash",!0);_(k,K,Ye,"⊛","\\circledast",!0);_(k,K,Ye,"⋅","\\centerdot");_(k,K,Ye,"⊺","\\intercal",!0);_(k,K,Ye,"⋒","\\doublecap");_(k,K,Ye,"⋓","\\doublecup");_(k,K,Ye,"⊠","\\boxtimes",!0);_(k,K,W,"⇢","\\dashrightarrow",!0);_(k,K,W,"⇠","\\dashleftarrow",!0);_(k,K,W,"⇇","\\leftleftarrows",!0);_(k,K,W,"⇆","\\leftrightarrows",!0);_(k,K,W,"⇚","\\Lleftarrow",!0);_(k,K,W,"↞","\\twoheadleftarrow",!0);_(k,K,W,"↢","\\leftarrowtail",!0);_(k,K,W,"↫","\\looparrowleft",!0);_(k,K,W,"⇋","\\leftrightharpoons",!0);_(k,K,W,"↶","\\curvearrowleft",!0);_(k,K,W,"↺","\\circlearrowleft",!0);_(k,K,W,"↰","\\Lsh",!0);_(k,K,W,"⇈","\\upuparrows",!0);_(k,K,W,"↿","\\upharpoonleft",!0);_(k,K,W,"⇃","\\downharpoonleft",!0);_(k,L,W,"⊶","\\origof",!0);_(k,L,W,"⊷","\\imageof",!0);_(k,K,W,"⊸","\\multimap",!0);_(k,K,W,"↭","\\leftrightsquigarrow",!0);_(k,K,W,"⇉","\\rightrightarrows",!0);_(k,K,W,"⇄","\\rightleftarrows",!0);_(k,K,W,"↠","\\twoheadrightarrow",!0);_(k,K,W,"↣","\\rightarrowtail",!0);_(k,K,W,"↬","\\looparrowright",!0);_(k,K,W,"↷","\\curvearrowright",!0);_(k,K,W,"↻","\\circlearrowright",!0);_(k,K,W,"↱","\\Rsh",!0);_(k,K,W,"⇊","\\downdownarrows",!0);_(k,K,W,"↾","\\upharpoonright",!0);_(k,K,W,"⇂","\\downharpoonright",!0);_(k,K,W,"⇝","\\rightsquigarrow",!0);_(k,K,W,"⇝","\\leadsto");_(k,K,W,"⇛","\\Rrightarrow",!0);_(k,K,W,"↾","\\restriction");_(k,L,Q,"‘","`");_(k,L,Q,"$","\\$");_(ke,L,Q,"$","\\$");_(ke,L,Q,"$","\\textdollar");_(k,L,Q,"%","\\%");_(ke,L,Q,"%","\\%");_(k,L,Q,"_","\\_");_(ke,L,Q,"_","\\_");_(ke,L,Q,"_","\\textunderscore");_(k,L,Q,"∠","\\angle",!0);_(k,L,Q,"∞","\\infty",!0);_(k,L,Q,"′","\\prime");_(k,L,Q,"△","\\triangle");_(k,L,Q,"Γ","\\Gamma",!0);_(k,L,Q,"Δ","\\Delta",!0);_(k,L,Q,"Θ","\\Theta",!0);_(k,L,Q,"Λ","\\Lambda",!0);_(k,L,Q,"Ξ","\\Xi",!0);_(k,L,Q,"Π","\\Pi",!0);_(k,L,Q,"Σ","\\Sigma",!0);_(k,L,Q,"Υ","\\Upsilon",!0);_(k,L,Q,"Φ","\\Phi",!0);_(k,L,Q,"Ψ","\\Psi",!0);_(k,L,Q,"Ω","\\Omega",!0);_(k,L,Q,"A","Α");_(k,L,Q,"B","Β");_(k,L,Q,"E","Ε");_(k,L,Q,"Z","Ζ");_(k,L,Q,"H","Η");_(k,L,Q,"I","Ι");_(k,L,Q,"K","Κ");_(k,L,Q,"M","Μ");_(k,L,Q,"N","Ν");_(k,L,Q,"O","Ο");_(k,L,Q,"P","Ρ");_(k,L,Q,"T","Τ");_(k,L,Q,"X","Χ");_(k,L,Q,"¬","\\neg",!0);_(k,L,Q,"¬","\\lnot");_(k,L,Q,"⊤","\\top");_(k,L,Q,"⊥","\\bot");_(k,L,Q,"∅","\\emptyset");_(k,K,Q,"∅","\\varnothing");_(k,L,ht,"α","\\alpha",!0);_(k,L,ht,"β","\\beta",!0);_(k,L,ht,"γ","\\gamma",!0);_(k,L,ht,"δ","\\delta",!0);_(k,L,ht,"ϵ","\\epsilon",!0);_(k,L,ht,"ζ","\\zeta",!0);_(k,L,ht,"η","\\eta",!0);_(k,L,ht,"θ","\\theta",!0);_(k,L,ht,"ι","\\iota",!0);_(k,L,ht,"κ","\\kappa",!0);_(k,L,ht,"λ","\\lambda",!0);_(k,L,ht,"μ","\\mu",!0);_(k,L,ht,"ν","\\nu",!0);_(k,L,ht,"ξ","\\xi",!0);_(k,L,ht,"ο","\\omicron",!0);_(k,L,ht,"π","\\pi",!0);_(k,L,ht,"ρ","\\rho",!0);_(k,L,ht,"σ","\\sigma",!0);_(k,L,ht,"τ","\\tau",!0);_(k,L,ht,"υ","\\upsilon",!0);_(k,L,ht,"ϕ","\\phi",!0);_(k,L,ht,"χ","\\chi",!0);_(k,L,ht,"ψ","\\psi",!0);_(k,L,ht,"ω","\\omega",!0);_(k,L,ht,"ε","\\varepsilon",!0);_(k,L,ht,"ϑ","\\vartheta",!0);_(k,L,ht,"ϖ","\\varpi",!0);_(k,L,ht,"ϱ","\\varrho",!0);_(k,L,ht,"ς","\\varsigma",!0);_(k,L,ht,"φ","\\varphi",!0);_(k,L,Ye,"∗","*",!0);_(k,L,Ye,"+","+");_(k,L,Ye,"−","-",!0);_(k,L,Ye,"⋅","\\cdot",!0);_(k,L,Ye,"∘","\\circ",!0);_(k,L,Ye,"÷","\\div",!0);_(k,L,Ye,"±","\\pm",!0);_(k,L,Ye,"×","\\times",!0);_(k,L,Ye,"∩","\\cap",!0);_(k,L,Ye,"∪","\\cup",!0);_(k,L,Ye,"∖","\\setminus",!0);_(k,L,Ye,"∧","\\land");_(k,L,Ye,"∨","\\lor");_(k,L,Ye,"∧","\\wedge",!0);_(k,L,Ye,"∨","\\vee",!0);_(k,L,Q,"√","\\surd");_(k,L,Nn,"⟨","\\langle",!0);_(k,L,Nn,"∣","\\lvert");_(k,L,Nn,"∥","\\lVert");_(k,L,rn,"?","?");_(k,L,rn,"!","!");_(k,L,rn,"⟩","\\rangle",!0);_(k,L,rn,"∣","\\rvert");_(k,L,rn,"∥","\\rVert");_(k,L,W,"=","=");_(k,L,W,":",":");_(k,L,W,"≈","\\approx",!0);_(k,L,W,"≅","\\cong",!0);_(k,L,W,"≥","\\ge");_(k,L,W,"≥","\\geq",!0);_(k,L,W,"←","\\gets");_(k,L,W,">","\\gt",!0);_(k,L,W,"∈","\\in",!0);_(k,L,W,"","\\@not");_(k,L,W,"⊂","\\subset",!0);_(k,L,W,"⊃","\\supset",!0);_(k,L,W,"⊆","\\subseteq",!0);_(k,L,W,"⊇","\\supseteq",!0);_(k,K,W,"⊈","\\nsubseteq",!0);_(k,K,W,"⊉","\\nsupseteq",!0);_(k,L,W,"⊨","\\models");_(k,L,W,"←","\\leftarrow",!0);_(k,L,W,"≤","\\le");_(k,L,W,"≤","\\leq",!0);_(k,L,W,"<","\\lt",!0);_(k,L,W,"→","\\rightarrow",!0);_(k,L,W,"→","\\to");_(k,K,W,"≱","\\ngeq",!0);_(k,K,W,"≰","\\nleq",!0);_(k,L,ho," ","\\ ");_(k,L,ho," ","\\space");_(k,L,ho," ","\\nobreakspace");_(ke,L,ho," ","\\ ");_(ke,L,ho," "," ");_(ke,L,ho," ","\\space");_(ke,L,ho," ","\\nobreakspace");_(k,L,ho,null,"\\nobreak");_(k,L,ho,null,"\\allowbreak");_(k,L,b2,",",",");_(k,L,b2,";",";");_(k,K,Ye,"⊼","\\barwedge",!0);_(k,K,Ye,"⊻","\\veebar",!0);_(k,L,Ye,"⊙","\\odot",!0);_(k,L,Ye,"⊕","\\oplus",!0);_(k,L,Ye,"⊗","\\otimes",!0);_(k,L,Q,"∂","\\partial",!0);_(k,L,Ye,"⊘","\\oslash",!0);_(k,K,Ye,"⊚","\\circledcirc",!0);_(k,K,Ye,"⊡","\\boxdot",!0);_(k,L,Ye,"△","\\bigtriangleup");_(k,L,Ye,"▽","\\bigtriangledown");_(k,L,Ye,"†","\\dagger");_(k,L,Ye,"⋄","\\diamond");_(k,L,Ye,"⋆","\\star");_(k,L,Ye,"◃","\\triangleleft");_(k,L,Ye,"▹","\\triangleright");_(k,L,Nn,"{","\\{");_(ke,L,Q,"{","\\{");_(ke,L,Q,"{","\\textbraceleft");_(k,L,rn,"}","\\}");_(ke,L,Q,"}","\\}");_(ke,L,Q,"}","\\textbraceright");_(k,L,Nn,"{","\\lbrace");_(k,L,rn,"}","\\rbrace");_(k,L,Nn,"[","\\lbrack",!0);_(ke,L,Q,"[","\\lbrack",!0);_(k,L,rn,"]","\\rbrack",!0);_(ke,L,Q,"]","\\rbrack",!0);_(k,L,Nn,"(","\\lparen",!0);_(k,L,rn,")","\\rparen",!0);_(ke,L,Q,"<","\\textless",!0);_(ke,L,Q,">","\\textgreater",!0);_(k,L,Nn,"⌊","\\lfloor",!0);_(k,L,rn,"⌋","\\rfloor",!0);_(k,L,Nn,"⌈","\\lceil",!0);_(k,L,rn,"⌉","\\rceil",!0);_(k,L,Q,"\\","\\backslash");_(k,L,Q,"∣","|");_(k,L,Q,"∣","\\vert");_(ke,L,Q,"|","\\textbar",!0);_(k,L,Q,"∥","\\|");_(k,L,Q,"∥","\\Vert");_(ke,L,Q,"∥","\\textbardbl");_(ke,L,Q,"~","\\textasciitilde");_(ke,L,Q,"\\","\\textbackslash");_(ke,L,Q,"^","\\textasciicircum");_(k,L,W,"↑","\\uparrow",!0);_(k,L,W,"⇑","\\Uparrow",!0);_(k,L,W,"↓","\\downarrow",!0);_(k,L,W,"⇓","\\Downarrow",!0);_(k,L,W,"↕","\\updownarrow",!0);_(k,L,W,"⇕","\\Updownarrow",!0);_(k,L,Zi,"∐","\\coprod");_(k,L,Zi,"⋁","\\bigvee");_(k,L,Zi,"⋀","\\bigwedge");_(k,L,Zi,"⨄","\\biguplus");_(k,L,Zi,"⋂","\\bigcap");_(k,L,Zi,"⋃","\\bigcup");_(k,L,Zi,"∫","\\int");_(k,L,Zi,"∫","\\intop");_(k,L,Zi,"∬","\\iint");_(k,L,Zi,"∭","\\iiint");_(k,L,Zi,"∏","\\prod");_(k,L,Zi,"∑","\\sum");_(k,L,Zi,"⨂","\\bigotimes");_(k,L,Zi,"⨁","\\bigoplus");_(k,L,Zi,"⨀","\\bigodot");_(k,L,Zi,"∮","\\oint");_(k,L,Zi,"∯","\\oiint");_(k,L,Zi,"∰","\\oiiint");_(k,L,Zi,"⨆","\\bigsqcup");_(k,L,Zi,"∫","\\smallint");_(ke,L,W0,"…","\\textellipsis");_(k,L,W0,"…","\\mathellipsis");_(ke,L,W0,"…","\\ldots",!0);_(k,L,W0,"…","\\ldots",!0);_(k,L,W0,"⋯","\\@cdots",!0);_(k,L,W0,"⋱","\\ddots",!0);_(k,L,Q,"⋮","\\varvdots");_(k,L,wi,"ˊ","\\acute");_(k,L,wi,"ˋ","\\grave");_(k,L,wi,"¨","\\ddot");_(k,L,wi,"~","\\tilde");_(k,L,wi,"ˉ","\\bar");_(k,L,wi,"˘","\\breve");_(k,L,wi,"ˇ","\\check");_(k,L,wi,"^","\\hat");_(k,L,wi,"⃗","\\vec");_(k,L,wi,"˙","\\dot");_(k,L,wi,"˚","\\mathring");_(k,L,ht,"","\\@imath");_(k,L,ht,"","\\@jmath");_(k,L,Q,"ı","ı");_(k,L,Q,"ȷ","ȷ");_(ke,L,Q,"ı","\\i",!0);_(ke,L,Q,"ȷ","\\j",!0);_(ke,L,Q,"ß","\\ss",!0);_(ke,L,Q,"æ","\\ae",!0);_(ke,L,Q,"œ","\\oe",!0);_(ke,L,Q,"ø","\\o",!0);_(ke,L,Q,"Æ","\\AE",!0);_(ke,L,Q,"Œ","\\OE",!0);_(ke,L,Q,"Ø","\\O",!0);_(ke,L,wi,"ˊ","\\'");_(ke,L,wi,"ˋ","\\`");_(ke,L,wi,"ˆ","\\^");_(ke,L,wi,"˜","\\~");_(ke,L,wi,"ˉ","\\=");_(ke,L,wi,"˘","\\u");_(ke,L,wi,"˙","\\.");_(ke,L,wi,"¸","\\c");_(ke,L,wi,"˚","\\r");_(ke,L,wi,"ˇ","\\v");_(ke,L,wi,"¨",'\\"');_(ke,L,wi,"˝","\\H");_(ke,L,wi,"◯","\\textcircled");var CL={"--":!0,"---":!0,"``":!0,"''":!0};_(ke,L,Q,"–","--",!0);_(ke,L,Q,"–","\\textendash");_(ke,L,Q,"—","---",!0);_(ke,L,Q,"—","\\textemdash");_(ke,L,Q,"‘","`",!0);_(ke,L,Q,"‘","\\textquoteleft");_(ke,L,Q,"’","'",!0);_(ke,L,Q,"’","\\textquoteright");_(ke,L,Q,"“","``",!0);_(ke,L,Q,"“","\\textquotedblleft");_(ke,L,Q,"”","''",!0);_(ke,L,Q,"”","\\textquotedblright");_(k,L,Q,"°","\\degree",!0);_(ke,L,Q,"°","\\degree");_(ke,L,Q,"°","\\textdegree",!0);_(k,L,Q,"£","\\pounds");_(k,L,Q,"£","\\mathsterling",!0);_(ke,L,Q,"£","\\pounds");_(ke,L,Q,"£","\\textsterling",!0);_(k,K,Q,"✠","\\maltese");_(ke,K,Q,"✠","\\maltese");var X_='0123456789/@."';for(var r3=0;r3<X_.length;r3++){var Y_=X_.charAt(r3);_(k,L,Q,Y_,Y_)}var Z_='0123456789!@*()-=+";:?/.,';for(var n3=0;n3<Z_.length;n3++){var J_=Z_.charAt(n3);_(ke,L,Q,J_,J_)}var eg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var s3=0;s3<eg.length;s3++){var Bf=eg.charAt(s3);_(k,L,ht,Bf,Bf),_(ke,L,Q,Bf,Bf)}_(k,K,Q,"C","ℂ");_(ke,K,Q,"C","ℂ");_(k,K,Q,"H","ℍ");_(ke,K,Q,"H","ℍ");_(k,K,Q,"N","ℕ");_(ke,K,Q,"N","ℕ");_(k,K,Q,"P","ℙ");_(ke,K,Q,"P","ℙ");_(k,K,Q,"Q","ℚ");_(ke,K,Q,"Q","ℚ");_(k,K,Q,"R","ℝ");_(ke,K,Q,"R","ℝ");_(k,K,Q,"Z","ℤ");_(ke,K,Q,"Z","ℤ");_(k,L,ht,"h","ℎ");_(ke,L,ht,"h","ℎ");var gt="";for(var qr=0;qr<eg.length;qr++){var Mi=eg.charAt(qr);gt=String.fromCharCode(55349,56320+qr),_(k,L,ht,Mi,gt),_(ke,L,Q,Mi,gt),gt=String.fromCharCode(55349,56372+qr),_(k,L,ht,Mi,gt),_(ke,L,Q,Mi,gt),gt=String.fromCharCode(55349,56424+qr),_(k,L,ht,Mi,gt),_(ke,L,Q,Mi,gt),gt=String.fromCharCode(55349,56580+qr),_(k,L,ht,Mi,gt),_(ke,L,Q,Mi,gt),gt=String.fromCharCode(55349,56684+qr),_(k,L,ht,Mi,gt),_(ke,L,Q,Mi,gt),gt=String.fromCharCode(55349,56736+qr),_(k,L,ht,Mi,gt),_(ke,L,Q,Mi,gt),gt=String.fromCharCode(55349,56788+qr),_(k,L,ht,Mi,gt),_(ke,L,Q,Mi,gt),gt=String.fromCharCode(55349,56840+qr),_(k,L,ht,Mi,gt),_(ke,L,Q,Mi,gt),gt=String.fromCharCode(55349,56944+qr),_(k,L,ht,Mi,gt),_(ke,L,Q,Mi,gt),qr<26&&(gt=String.fromCharCode(55349,56632+qr),_(k,L,ht,Mi,gt),_(ke,L,Q,Mi,gt),gt=String.fromCharCode(55349,56476+qr),_(k,L,ht,Mi,gt),_(ke,L,Q,Mi,gt))}gt="𝕜";_(k,L,ht,"k",gt);_(ke,L,Q,"k",gt);for(var Nl=0;Nl<10;Nl++){var To=Nl.toString();gt=String.fromCharCode(55349,57294+Nl),_(k,L,ht,To,gt),_(ke,L,Q,To,gt),gt=String.fromCharCode(55349,57314+Nl),_(k,L,ht,To,gt),_(ke,L,Q,To,gt),gt=String.fromCharCode(55349,57324+Nl),_(k,L,ht,To,gt),_(ke,L,Q,To,gt),gt=String.fromCharCode(55349,57334+Nl),_(k,L,ht,To,gt),_(ke,L,Q,To,gt)}var w5="ÐÞþ";for(var a3=0;a3<w5.length;a3++){var Pf=w5.charAt(a3);_(k,L,ht,Pf,Pf),_(ke,L,Q,Pf,Pf)}var If=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Q_=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Rne=function(e,i){var r=e.charCodeAt(0),n=e.charCodeAt(1),s=(r-55296)*1024+(n-56320)+65536,a=i==="math"?0:1;if(119808<=s&&s<120484){var o=Math.floor((s-119808)/26);return[If[o][2],If[o][a]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[Q_[l][2],Q_[l][a]]}else{if(s===120485||s===120486)return[If[0][2],If[0][a]];if(120486<s&&s<120782)return["",""];throw new Be("Unsupported character: "+e)}},x2=function(e,i,r){return gi[r][e]&&gi[r][e].replace&&(e=gi[r][e].replace),{value:e,metrics:Zb(e,i,r)}},bs=function(e,i,r,n,s){var a=x2(e,i,r),o=a.metrics;e=a.value;var l;if(o){var u=o.italic;(r==="text"||n&&n.font==="mathit")&&(u=0),l=new ss(e,o.height,o.depth,u,o.skew,o.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+i+"' and mode '"+r+"'")),l=new ss(e,0,0,0,0,0,s);if(n){l.maxFontSize=n.sizeMultiplier,n.style.isTight()&&l.classes.push("mtight");var c=n.getColor();c&&(l.style.color=c)}return l},One=function(e,i,r,n){return n===void 0&&(n=[]),r.font==="boldsymbol"&&x2(e,"Main-Bold",i).metrics?bs(e,"Main-Bold",i,r,n.concat(["mathbf"])):e==="\\"||gi[i][e].font==="main"?bs(e,"Main-Regular",i,r,n):bs(e,"AMS-Regular",i,r,n.concat(["amsrm"]))},Fne=function(e,i,r,n,s){return s!=="textord"&&x2(e,"Math-BoldItalic",i).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Nne=function(e,i,r){var n=e.mode,s=e.text,a=["mord"],o=n==="math"||n==="text"&&i.font,l=o?i.font:i.fontFamily,u="",c="";if(s.charCodeAt(0)===55349&&([u,c]=Rne(s,n)),u.length>0)return bs(s,u,n,i,a.concat(c));if(l){var d,h;if(l==="boldsymbol"){var f=Fne(s,n,i,a,r);d=f.fontName,h=[f.fontClass]}else o?(d=EL[l].fontName,h=[l]):(d=Rf(l,i.fontWeight,i.fontShape),h=[l,i.fontWeight,i.fontShape]);if(x2(s,d,n).metrics)return bs(s,d,n,i,a.concat(h));if(CL.hasOwnProperty(s)&&d.slice(0,10)==="Typewriter"){for(var g=[],y=0;y<s.length;y++)g.push(bs(s[y],d,n,i,a.concat(h)));return TL(g)}}if(r==="mathord")return bs(s,"Math-Italic",n,i,a.concat(["mathnormal"]));if(r==="textord"){var C=gi[n][s]&&gi[n][s].font;if(C==="ams"){var S=Rf("amsrm",i.fontWeight,i.fontShape);return bs(s,S,n,i,a.concat("amsrm",i.fontWeight,i.fontShape))}else if(C==="main"||!C){var A=Rf("textrm",i.fontWeight,i.fontShape);return bs(s,A,n,i,a.concat(i.fontWeight,i.fontShape))}else{var T=Rf(C,i.fontWeight,i.fontShape);return bs(s,T,n,i,a.concat(T,i.fontWeight,i.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},$ne=(t,e)=>{if(pl(t.classes)!==pl(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var i=t.classes[0];if(i==="mbin"||i==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var n in e.style)if(e.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;return!0},zne=t=>{for(var e=0;e<t.length-1;e++){var i=t[e],r=t[e+1];i instanceof ss&&r instanceof ss&&$ne(i,r)&&(i.text+=r.text,i.height=Math.max(i.height,r.height),i.depth=Math.max(i.depth,r.depth),i.italic=r.italic,t.splice(e+1,1),e--)}return t},Qb=function(e){for(var i=0,r=0,n=0,s=0;s<e.children.length;s++){var a=e.children[s];a.height>i&&(i=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>n&&(n=a.maxFontSize)}e.height=i,e.depth=r,e.maxFontSize=n},un=function(e,i,r,n){var s=new kp(e,i,r,n);return Qb(s),s},kL=(t,e,i,r)=>new kp(t,e,i,r),Une=function(e,i,r){var n=un([e],[],i);return n.height=Math.max(r||i.fontMetrics().defaultRuleThickness,i.minRuleThickness),n.style.borderBottomWidth=Fe(n.height),n.maxFontSize=1,n},qne=function(e,i,r,n){var s=new Jb(e,i,r,n);return Qb(s),s},TL=function(e){var i=new Cp(e);return Qb(i),i},jne=function(e,i){return e instanceof Cp?un([],[e],i):e},Vne=function(e){if(e.positionType==="individualShift"){for(var i=e.children,r=[i[0]],n=-i[0].shift-i[0].elem.depth,s=n,a=1;a<i.length;a++){var o=-i[a].shift-s-i[a].elem.depth,l=o-(i[a-1].elem.height+i[a-1].elem.depth);s=s+o,r.push({type:"kern",size:l}),r.push(i[a])}return{children:r,depth:n}}var u;if(e.positionType==="top"){for(var c=e.positionData,d=0;d<e.children.length;d++){var h=e.children[d];c-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}u=c}else if(e.positionType==="bottom")u=-e.positionData;else{var f=e.children[0];if(f.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-f.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-f.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},Hne=function(e,i){for(var{children:r,depth:n}=Vne(e),s=0,a=0;a<r.length;a++){var o=r[a];if(o.type==="elem"){var l=o.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var u=un(["pstrut"],[]);u.style.height=Fe(s);for(var c=[],d=n,h=n,f=n,g=0;g<r.length;g++){var y=r[g];if(y.type==="kern")f+=y.size;else{var C=y.elem,S=y.wrapperClasses||[],A=y.wrapperStyle||{},T=un(S,[u,C],void 0,A);T.style.top=Fe(-s-f-C.depth),y.marginLeft&&(T.style.marginLeft=y.marginLeft),y.marginRight&&(T.style.marginRight=y.marginRight),c.push(T),f+=C.height+C.depth}d=Math.min(d,f),h=Math.max(h,f)}var M=un(["vlist"],c);M.style.height=Fe(h);var D;if(d<0){var B=un([],[]),F=un(["vlist"],[B]);F.style.height=Fe(-d);var V=un(["vlist-s"],[new ss("​")]);D=[un(["vlist-r"],[M,V]),un(["vlist-r"],[F])]}else D=[un(["vlist-r"],[M])];var O=un(["vlist-t"],D);return D.length===2&&O.classes.push("vlist-t2"),O.height=h,O.depth=-d,O},Kne=(t,e)=>{var i=un(["mspace"],[],e),r=Ci(t,e);return i.style.marginRight=Fe(r),i},Rf=function(e,i,r){var n="";switch(e){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=e}var s;return i==="textbf"&&r==="textit"?s="BoldItalic":i==="textbf"?s="Bold":i==="textit"?s="Italic":s="Regular",n+"-"+s},EL={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},AL={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Wne=function(e,i){var[r,n,s]=AL[e],a=new fl(r),o=new to([a],{width:Fe(n),height:Fe(s),style:"width:"+Fe(n),viewBox:"0 0 "+1e3*n+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=kL(["overlay"],[o],i);return l.height=s,l.style.height=Fe(s),l.style.width=Fe(n),l},se={fontMap:EL,makeSymbol:bs,mathsym:One,makeSpan:un,makeSvgSpan:kL,makeLineSpan:Une,makeAnchor:qne,makeFragment:TL,wrapFragment:jne,makeVList:Hne,makeOrd:Nne,makeGlue:Kne,staticSvg:Wne,svgData:AL,tryCombineChars:zne},Si={number:3,unit:"mu"},$l={number:4,unit:"mu"},Ca={number:5,unit:"mu"},Gne={mord:{mop:Si,mbin:$l,mrel:Ca,minner:Si},mop:{mord:Si,mop:Si,mrel:Ca,minner:Si},mbin:{mord:$l,mop:$l,mopen:$l,minner:$l},mrel:{mord:Ca,mop:Ca,mopen:Ca,minner:Ca},mopen:{},mclose:{mop:Si,mbin:$l,mrel:Ca,minner:Si},mpunct:{mord:Si,mop:Si,mrel:Ca,mopen:Si,mclose:Si,mpunct:Si,minner:Si},minner:{mord:Si,mop:Si,mbin:$l,mrel:Ca,mopen:Si,mpunct:Si,minner:Si}},Xne={mord:{mop:Si},mop:{mord:Si,mop:Si},mbin:{},mrel:{},mopen:{},mclose:{mop:Si},mpunct:{},minner:{mop:Si}},ML={},tg={},ig={};function Ke(t){for(var{type:e,names:i,props:r,handler:n,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:n},l=0;l<i.length;++l)ML[i[l]]=o;e&&(s&&(tg[e]=s),a&&(ig[e]=a))}function Uu(t){var{type:e,htmlBuilder:i,mathmlBuilder:r}=t;Ke({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:i,mathmlBuilder:r})}var rg=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},$i=function(e){return e.type==="ordgroup"?e.body:[e]},io=se.makeSpan,Yne=["leftmost","mbin","mopen","mrel","mop","mpunct"],Zne=["rightmost","mrel","mclose","mpunct"],Jne={display:pt.DISPLAY,text:pt.TEXT,script:pt.SCRIPT,scriptscript:pt.SCRIPTSCRIPT},Qne={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ar=function(e,i,r,n){n===void 0&&(n=[null,null]);for(var s=[],a=0;a<e.length;a++){var o=Kt(e[a],i);if(o instanceof Cp){var l=o.children;s.push(...l)}else s.push(o)}if(se.tryCombineChars(s),!r)return s;var u=i;if(e.length===1){var c=e[0];c.type==="sizing"?u=i.havingSize(c.size):c.type==="styling"&&(u=i.havingStyle(Jne[c.style]))}var d=io([n[0]||"leftmost"],[],i),h=io([n[1]||"rightmost"],[],i),f=r==="root";return e9(s,(g,y)=>{var C=y.classes[0],S=g.classes[0];C==="mbin"&&lt.contains(Zne,S)?y.classes[0]="mord":S==="mbin"&&lt.contains(Yne,C)&&(g.classes[0]="mord")},{node:d},h,f),e9(s,(g,y)=>{var C=S5(y),S=S5(g),A=C&&S?g.hasClass("mtight")?Xne[C][S]:Gne[C][S]:null;if(A)return se.makeGlue(A,u)},{node:d},h,f),s},e9=function t(e,i,r,n,s){n&&e.push(n);for(var a=0;a<e.length;a++){var o=e[a],l=DL(o);if(l){t(l.children,i,r,null,s);continue}var u=!o.hasClass("mspace");if(u){var c=i(o,r.node);c&&(r.insertAfter?r.insertAfter(c):(e.unshift(c),a++))}u?r.node=o:s&&o.hasClass("newline")&&(r.node=io(["leftmost"])),r.insertAfter=(d=>h=>{e.splice(d+1,0,h),a++})(a)}n&&e.pop()},DL=function(e){return e instanceof Cp||e instanceof Jb||e instanceof kp&&e.hasClass("enclosing")?e:null},ese=function t(e,i){var r=DL(e);if(r){var n=r.children;if(n.length){if(i==="right")return t(n[n.length-1],"right");if(i==="left")return t(n[0],"left")}}return e},S5=function(e,i){return e?(i&&(e=ese(e,i)),Qne[e.classes[0]]||null):null},Yh=function(e,i){var r=["nulldelimiter"].concat(e.baseSizingClasses());return io(i.concat(r))},Kt=function(e,i,r){if(!e)return io();if(tg[e.type]){var n=tg[e.type](e,i);if(r&&i.size!==r.size){n=io(i.sizingClasses(r),[n],i);var s=i.sizeMultiplier/r.sizeMultiplier;n.height*=s,n.depth*=s}return n}else throw new Be("Got group of unknown type: '"+e.type+"'")};function Of(t,e){var i=io(["base"],t,e),r=io(["strut"]);return r.style.height=Fe(i.height+i.depth),i.depth&&(r.style.verticalAlign=Fe(-i.depth)),i.children.unshift(r),i}function C5(t,e){var i=null;t.length===1&&t[0].type==="tag"&&(i=t[0].tag,t=t[0].body);var r=ar(t,e,"root"),n;r.length===2&&r[1].hasClass("tag")&&(n=r.pop());for(var s=[],a=[],o=0;o<r.length;o++)if(a.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var l=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,a.push(r[o]),r[o].hasClass("nobreak")&&(l=!0);l||(s.push(Of(a,e)),a=[])}else r[o].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(Of(a,e)),a=[]),s.push(r[o]));a.length>0&&s.push(Of(a,e));var u;i?(u=Of(ar(i,e,!0)),u.classes=["tag"],s.push(u)):n&&s.push(n);var c=io(["katex-html"],s);if(c.setAttribute("aria-hidden","true"),u){var d=u.children[0];d.style.height=Fe(c.height+c.depth),c.depth&&(d.style.verticalAlign=Fe(-c.depth))}return c}function LL(t){return new Cp(t)}class Xn{constructor(e,i,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=i||[],this.classes=r||[]}setAttribute(e,i){this.attributes[e]=i}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&e.setAttribute(i,this.attributes[i]);this.classes.length>0&&(e.className=pl(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="',e+=lt.escape(this.attributes[i]),e+='"');this.classes.length>0&&(e+=' class ="'+lt.escape(pl(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class wh{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return lt.escape(this.toText())}toText(){return this.text}}class tse{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Fe(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Fe(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Le={MathNode:Xn,TextNode:wh,SpaceNode:tse,newDocumentFragment:LL},as=function(e,i,r){return gi[i][e]&&gi[i][e].replace&&e.charCodeAt(0)!==55349&&!(CL.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=gi[i][e].replace),new Le.TextNode(e)},e6=function(e){return e.length===1?e[0]:new Le.MathNode("mrow",e)},t6=function(e,i){if(i.fontFamily==="texttt")return"monospace";if(i.fontFamily==="textsf")return i.fontShape==="textit"&&i.fontWeight==="textbf"?"sans-serif-bold-italic":i.fontShape==="textit"?"sans-serif-italic":i.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(i.fontShape==="textit"&&i.fontWeight==="textbf")return"bold-italic";if(i.fontShape==="textit")return"italic";if(i.fontWeight==="textbf")return"bold";var r=i.font;if(!r||r==="mathnormal")return null;var n=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(lt.contains(["\\imath","\\jmath"],s))return null;gi[n][s]&&gi[n][s].replace&&(s=gi[n][s].replace);var a=se.fontMap[r].fontName;return Zb(s,a,n)?se.fontMap[r].variant:null},xn=function(e,i,r){if(e.length===1){var n=hi(e[0],i);return r&&n instanceof Xn&&n.type==="mo"&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var s=[],a,o=0;o<e.length;o++){var l=hi(e[o],i);if(l instanceof Xn&&a instanceof Xn){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&a.type==="mn"){var u=l.children[0];if(u instanceof wh&&u.text==="."){a.children.push(...l.children);continue}}else if(a.type==="mi"&&a.children.length===1){var c=a.children[0];if(c instanceof wh&&c.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof wh&&d.text.length>0&&(d.text=d.text.slice(0,1)+"̸"+d.text.slice(1),s.pop())}}}s.push(l),a=l}return s},ml=function(e,i,r){return e6(xn(e,i,r))},hi=function(e,i){if(!e)return new Le.MathNode("mrow");if(ig[e.type]){var r=ig[e.type](e,i);return r}else throw new Be("Got group of unknown type: '"+e.type+"'")};function t9(t,e,i,r,n){var s=xn(t,i),a;s.length===1&&s[0]instanceof Xn&&lt.contains(["mrow","mtable"],s[0].type)?a=s[0]:a=new Le.MathNode("mrow",s);var o=new Le.MathNode("annotation",[new Le.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new Le.MathNode("semantics",[a,o]),u=new Le.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var c=n?"katex":"katex-mathml";return se.makeSpan([c],[u])}var BL=function(e){return new Ra({style:e.displayMode?pt.DISPLAY:pt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},PL=function(e,i){if(i.displayMode){var r=["katex-display"];i.leqno&&r.push("leqno"),i.fleqn&&r.push("fleqn"),e=se.makeSpan(r,[e])}return e},ise=function(e,i,r){var n=BL(r),s;if(r.output==="mathml")return t9(e,i,n,r.displayMode,!0);if(r.output==="html"){var a=C5(e,n);s=se.makeSpan(["katex"],[a])}else{var o=t9(e,i,n,r.displayMode,!1),l=C5(e,n);s=se.makeSpan(["katex"],[o,l])}return PL(s,r)},rse=function(e,i,r){var n=BL(r),s=C5(e,n),a=se.makeSpan(["katex"],[s]);return PL(a,r)},nse={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},sse=function(e){var i=new Le.MathNode("mo",[new Le.TextNode(nse[e.replace(/^\\/,"")])]);return i.setAttribute("stretchy","true"),i},ase={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},ose=function(e){return e.type==="ordgroup"?e.body.length:1},lse=function(e,i){function r(){var o=4e5,l=e.label.slice(1);if(lt.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,c=ose(u.base),d,h,f;if(c>5)l==="widehat"||l==="widecheck"?(d=420,o=2364,f=.42,h=l+"4"):(d=312,o=2340,f=.34,h="tilde4");else{var g=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][g],d=[0,239,300,360,420][g],f=[0,.24,.3,.3,.36,.42][g],h=l+g):(o=[0,600,1033,2339,2340][g],d=[0,260,286,306,312][g],f=[0,.26,.286,.3,.306,.34][g],h="tilde"+g)}var y=new fl(h),C=new to([y],{width:"100%",height:Fe(f),viewBox:"0 0 "+o+" "+d,preserveAspectRatio:"none"});return{span:se.makeSvgSpan([],[C],i),minWidth:0,height:f}}else{var S=[],A=ase[l],[T,M,D]=A,B=D/1e3,F=T.length,V,O;if(F===1){var U=A[3];V=["hide-tail"],O=[U]}else if(F===2)V=["halfarrow-left","halfarrow-right"],O=["xMinYMin","xMaxYMin"];else if(F===3)V=["brace-left","brace-center","brace-right"],O=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+F+" children.");for(var J=0;J<F;J++){var Y=new fl(T[J]),ie=new to([Y],{width:"400em",height:Fe(B),viewBox:"0 0 "+o+" "+D,preserveAspectRatio:O[J]+" slice"}),ce=se.makeSvgSpan([V[J]],[ie],i);if(F===1)return{span:ce,minWidth:M,height:B};ce.style.height=Fe(B),S.push(ce)}return{span:se.makeSpan(["stretchy"],S,i),minWidth:M,height:B}}}var{span:n,minWidth:s,height:a}=r();return n.height=a,n.style.height=Fe(a),s>0&&(n.style.minWidth=Fe(s)),n},use=function(e,i,r,n,s){var a,o=e.height+e.depth+r+n;if(/fbox|color|angl/.test(i)){if(a=se.makeSpan(["stretchy",i],[],s),i==="fbox"){var l=s.color&&s.getColor();l&&(a.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(i)&&u.push(new _5({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(i)&&u.push(new _5({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new to(u,{width:"100%",height:Fe(o)});a=se.makeSvgSpan([],[c],s)}return a.height=o,a.style.height=Fe(o),a},ro={encloseSpan:use,mathMLnode:sse,svgSpan:lse};function Lt(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function i6(t){var e=_2(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function _2(t){return t&&(t.type==="atom"||Ine.hasOwnProperty(t.type))?t:null}var r6=(t,e)=>{var i,r,n;t&&t.type==="supsub"?(r=Lt(t.base,"accent"),i=r.base,t.base=i,n=Bne(Kt(t,e)),t.base=r):(r=Lt(t,"accent"),i=r.base);var s=Kt(i,e.havingCrampedStyle()),a=r.isShifty&&lt.isCharacterBox(i),o=0;if(a){var l=lt.getBaseElem(i),u=Kt(l,e.havingCrampedStyle());o=G_(u).skew}var c=r.label==="\\c",d=c?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),h;if(r.isStretchy)h=ro.svgSpan(r,e),h=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Fe(2*o)+")",marginLeft:Fe(2*o)}:void 0}]},e);else{var f,g;r.label==="\\vec"?(f=se.staticSvg("vec",e),g=se.svgData.vec[1]):(f=se.makeOrd({mode:r.mode,text:r.label},e,"textord"),f=G_(f),f.italic=0,g=f.width,c&&(d+=f.depth)),h=se.makeSpan(["accent-body"],[f]);var y=r.label==="\\textcircled";y&&(h.classes.push("accent-full"),d=s.height);var C=o;y||(C-=g/2),h.style.left=Fe(C),r.label==="\\textcircled"&&(h.style.top=".2em"),h=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-d},{type:"elem",elem:h}]},e)}var S=se.makeSpan(["mord","accent"],[h],e);return n?(n.children[0]=S,n.height=Math.max(S.height,n.height),n.classes[0]="mord",n):S},IL=(t,e)=>{var i=t.isStretchy?ro.mathMLnode(t.label):new Le.MathNode("mo",[as(t.label,t.mode)]),r=new Le.MathNode("mover",[hi(t.base,e),i]);return r.setAttribute("accent","true"),r},cse=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Ke({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var i=rg(e[0]),r=!cse.test(t.funcName),n=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:n,base:i}},htmlBuilder:r6,mathmlBuilder:IL});Ke({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var i=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:i}},htmlBuilder:r6,mathmlBuilder:IL});Ke({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:i,funcName:r}=t,n=e[0];return{type:"accentUnder",mode:i.mode,label:r,base:n}},htmlBuilder:(t,e)=>{var i=Kt(t.base,e),r=ro.svgSpan(t,e),n=t.label==="\\utilde"?.12:0,s=se.makeVList({positionType:"top",positionData:i.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:n},{type:"elem",elem:i}]},e);return se.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var i=ro.mathMLnode(t.label),r=new Le.MathNode("munder",[hi(t.base,e),i]);return r.setAttribute("accentunder","true"),r}});var Ff=t=>{var e=new Le.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Ke({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,i){var{parser:r,funcName:n}=t;return{type:"xArrow",mode:r.mode,label:n,body:e[0],below:i[0]}},htmlBuilder(t,e){var i=e.style,r=e.havingStyle(i.sup()),n=se.wrapFragment(Kt(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";n.classes.push(s+"-arrow-pad");var a;t.below&&(r=e.havingStyle(i.sub()),a=se.wrapFragment(Kt(t.below,r,e),e),a.classes.push(s+"-arrow-pad"));var o=ro.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(n.depth>.25||t.label==="\\xleftequilibrium")&&(u-=n.depth);var c;if(a){var d=-e.fontMetrics().axisHeight+a.height+.5*o.height+.111;c=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:a,shift:d}]},e)}else c=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:u},{type:"elem",elem:o,shift:l}]},e);return c.children[0].children[0].children[1].classes.push("svg-align"),se.makeSpan(["mrel","x-arrow"],[c],e)},mathmlBuilder(t,e){var i=ro.mathMLnode(t.label);i.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var n=Ff(hi(t.body,e));if(t.below){var s=Ff(hi(t.below,e));r=new Le.MathNode("munderover",[i,s,n])}else r=new Le.MathNode("mover",[i,n])}else if(t.below){var a=Ff(hi(t.below,e));r=new Le.MathNode("munder",[i,a])}else r=Ff(),r=new Le.MathNode("mover",[i,r]);return r}});var dse=se.makeSpan;function RL(t,e){var i=ar(t.body,e,!0);return dse([t.mclass],i,e)}function OL(t,e){var i,r=xn(t.body,e);return t.mclass==="minner"?i=new Le.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(i=r[0],i.type="mi"):i=new Le.MathNode("mi",r):(t.isCharacterBox?(i=r[0],i.type="mo"):i=new Le.MathNode("mo",r),t.mclass==="mbin"?(i.attributes.lspace="0.22em",i.attributes.rspace="0.22em"):t.mclass==="mpunct"?(i.attributes.lspace="0em",i.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(i.attributes.lspace="0em",i.attributes.rspace="0em"):t.mclass==="minner"&&(i.attributes.lspace="0.0556em",i.attributes.width="+0.1111em")),i}Ke({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:i,funcName:r}=t,n=e[0];return{type:"mclass",mode:i.mode,mclass:"m"+r.slice(5),body:$i(n),isCharacterBox:lt.isCharacterBox(n)}},htmlBuilder:RL,mathmlBuilder:OL});var w2=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Ke({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:i}=t;return{type:"mclass",mode:i.mode,mclass:w2(e[0]),body:$i(e[1]),isCharacterBox:lt.isCharacterBox(e[1])}}});Ke({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:i,funcName:r}=t,n=e[1],s=e[0],a;r!=="\\stackrel"?a=w2(n):a="mrel";var o={type:"op",mode:n.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:$i(n)},l={type:"supsub",mode:s.mode,base:o,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:i.mode,mclass:a,body:[l],isCharacterBox:lt.isCharacterBox(l)}},htmlBuilder:RL,mathmlBuilder:OL});Ke({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"pmb",mode:i.mode,mclass:w2(e[0]),body:$i(e[0])}},htmlBuilder(t,e){var i=ar(t.body,e,!0),r=se.makeSpan([t.mclass],i,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var i=xn(t.body,e),r=new Le.MathNode("mstyle",i);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var hse={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},i9=()=>({type:"styling",body:[],mode:"math",style:"display"}),r9=t=>t.type==="textord"&&t.text==="@",pse=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function fse(t,e,i){var r=hse[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return i.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var n=i.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},a=i.callFunction("\\Big",[s],[]),o=i.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[n,a,o]};return i.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return i.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return i.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function mse(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var i=t.fetch().text;if(i==="&"||i==="\\\\")t.consume();else if(i==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Be("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],n=[r],s=0;s<e.length;s++){for(var a=e[s],o=i9(),l=0;l<a.length;l++)if(!r9(a[l]))o.body.push(a[l]);else{r.push(o),l+=1;var u=i6(a[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var d=0;d<2;d++){for(var h=!0,f=l+1;f<a.length;f++){if(pse(a[f],u)){h=!1,l=f;break}if(r9(a[f]))throw new Be("Missing a "+u+" character to complete a CD arrow.",a[f]);c[d].body.push(a[f])}if(h)throw new Be("Missing a "+u+" character to complete a CD arrow.",a[l])}else throw new Be('Expected one of "<>AV=|." after @',a[l]);var g=fse(u,c,t),y={type:"styling",body:[g],mode:"math",style:"display"};r.push(y),o=i9()}s%2===0?r.push(o):r.shift(),r=[],n.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var C=new Array(n[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:n,arraystretch:1,addJot:!0,rowGaps:[null],cols:C,colSeparationType:"CD",hLinesBeforeRow:new Array(n.length+1).fill([])}}Ke({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:r}=t;return{type:"cdlabel",mode:i.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var i=e.havingStyle(e.style.sup()),r=se.wrapFragment(Kt(t.label,i,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=Fe(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var i=new Le.MathNode("mrow",[hi(t.label,e)]);return i=new Le.MathNode("mpadded",[i]),i.setAttribute("width","0"),t.side==="left"&&i.setAttribute("lspace","-1width"),i.setAttribute("voffset","0.7em"),i=new Le.MathNode("mstyle",[i]),i.setAttribute("displaystyle","false"),i.setAttribute("scriptlevel","1"),i}});Ke({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:i}=t;return{type:"cdlabelparent",mode:i.mode,fragment:e[0]}},htmlBuilder(t,e){var i=se.wrapFragment(Kt(t.fragment,e),e);return i.classes.push("cd-vert-arrow"),i},mathmlBuilder(t,e){return new Le.MathNode("mrow",[hi(t.fragment,e)])}});Ke({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:i}=t,r=Lt(e[0],"ordgroup"),n=r.body,s="",a=0;a<n.length;a++){var o=Lt(n[a],"textord");s+=o.text}var l=parseInt(s),u;if(isNaN(l))throw new Be("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new Be("\\@char with invalid code point "+s);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:i.mode,text:u}}});var FL=(t,e)=>{var i=ar(t.body,e.withColor(t.color),!1);return se.makeFragment(i)},NL=(t,e)=>{var i=xn(t.body,e.withColor(t.color)),r=new Le.MathNode("mstyle",i);return r.setAttribute("mathcolor",t.color),r};Ke({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:i}=t,r=Lt(e[0],"color-token").color,n=e[1];return{type:"color",mode:i.mode,color:r,body:$i(n)}},htmlBuilder:FL,mathmlBuilder:NL});Ke({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:i,breakOnTokenText:r}=t,n=Lt(e[0],"color-token").color;i.gullet.macros.set("\\current@color",n);var s=i.parseExpression(!0,r);return{type:"color",mode:i.mode,color:n,body:s}},htmlBuilder:FL,mathmlBuilder:NL});Ke({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,i){var{parser:r}=t,n=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:n&&Lt(n,"size").value}},htmlBuilder(t,e){var i=se.makeSpan(["mspace"],[],e);return t.newLine&&(i.classes.push("newline"),t.size&&(i.style.marginTop=Fe(Ci(t.size,e)))),i},mathmlBuilder(t,e){var i=new Le.MathNode("mspace");return t.newLine&&(i.setAttribute("linebreak","newline"),t.size&&i.setAttribute("height",Fe(Ci(t.size,e)))),i}});var k5={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},$L=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Be("Expected a control sequence",t);return e},gse=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},zL=(t,e,i,r)=>{var n=t.gullet.macros.get(i.text);n==null&&(i.noexpand=!0,n={tokens:[i],numArgs:0,unexpandable:!t.gullet.isExpandable(i.text)}),t.gullet.macros.set(e,n,r)};Ke({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:i}=t;e.consumeSpaces();var r=e.fetch();if(k5[r.text])return(i==="\\global"||i==="\\\\globallong")&&(r.text=k5[r.text]),Lt(e.parseFunction(),"internal");throw new Be("Invalid token after macro prefix",r)}});Ke({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,r=e.gullet.popToken(),n=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(n))throw new Be("Expected a control sequence",r);for(var s=0,a,o=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),o[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Be('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new Be('Argument number "'+r.text+'" out of order');s++,o.push([])}else{if(r.text==="EOF")throw new Be("Expected a macro definition");o[s].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return a&&l.unshift(a),(i==="\\edef"||i==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(n,{tokens:l,numArgs:s,delimiters:o},i===k5[i]),{type:"internal",mode:e.mode}}});Ke({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,r=$L(e.gullet.popToken());e.gullet.consumeSpaces();var n=gse(e);return zL(e,r,n,i==="\\\\globallet"),{type:"internal",mode:e.mode}}});Ke({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,r=$L(e.gullet.popToken()),n=e.gullet.popToken(),s=e.gullet.popToken();return zL(e,r,s,i==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(n),{type:"internal",mode:e.mode}}});var nh=function(e,i,r){var n=gi.math[e]&&gi.math[e].replace,s=Zb(n||e,i,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+i+".");return s},n6=function(e,i,r,n){var s=r.havingBaseStyle(i),a=se.makeSpan(n.concat(s.sizingClasses(r)),[e],r),o=s.sizeMultiplier/r.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=s.sizeMultiplier,a},UL=function(e,i,r){var n=i.havingBaseStyle(r),s=(1-i.sizeMultiplier/n.sizeMultiplier)*i.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Fe(s),e.height-=s,e.depth+=s},yse=function(e,i,r,n,s,a){var o=se.makeSymbol(e,"Main-Regular",s,n),l=n6(o,i,n,a);return r&&UL(l,n,i),l},vse=function(e,i,r,n){return se.makeSymbol(e,"Size"+i+"-Regular",r,n)},qL=function(e,i,r,n,s,a){var o=vse(e,i,s,n),l=n6(se.makeSpan(["delimsizing","size"+i],[o],n),pt.TEXT,n,a);return r&&UL(l,n,pt.TEXT),l},o3=function(e,i,r){var n;i==="Size1-Regular"?n="delim-size1":n="delim-size4";var s=se.makeSpan(["delimsizinginner",n],[se.makeSpan([],[se.makeSymbol(e,i,r)])]);return{type:"elem",elem:s}},l3=function(e,i,r){var n=ea["Size4-Regular"][e.charCodeAt(0)]?ea["Size4-Regular"][e.charCodeAt(0)][4]:ea["Size1-Regular"][e.charCodeAt(0)][4],s=new fl("inner",Cne(e,Math.round(1e3*i))),a=new to([s],{width:Fe(n),height:Fe(i),style:"width:"+Fe(n),viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*i),preserveAspectRatio:"xMinYMin"}),o=se.makeSvgSpan([],[a],r);return o.height=i,o.style.height=Fe(i),o.style.width=Fe(n),{type:"elem",elem:o}},T5=.008,Nf={type:"kern",size:-1*T5},bse=["|","\\lvert","\\rvert","\\vert"],xse=["\\|","\\lVert","\\rVert","\\Vert"],jL=function(e,i,r,n,s,a){var o,l,u,c,d="",h=0;o=u=c=e,l=null;var f="Size1-Regular";e==="\\uparrow"?u=c="⏐":e==="\\Uparrow"?u=c="‖":e==="\\downarrow"?o=u="⏐":e==="\\Downarrow"?o=u="‖":e==="\\updownarrow"?(o="\\uparrow",u="⏐",c="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="‖",c="\\Downarrow"):lt.contains(bse,e)?(u="∣",d="vert",h=333):lt.contains(xse,e)?(u="∥",d="doublevert",h=556):e==="["||e==="\\lbrack"?(o="⎡",u="⎢",c="⎣",f="Size4-Regular",d="lbrack",h=667):e==="]"||e==="\\rbrack"?(o="⎤",u="⎥",c="⎦",f="Size4-Regular",d="rbrack",h=667):e==="\\lfloor"||e==="⌊"?(u=o="⎢",c="⎣",f="Size4-Regular",d="lfloor",h=667):e==="\\lceil"||e==="⌈"?(o="⎡",u=c="⎢",f="Size4-Regular",d="lceil",h=667):e==="\\rfloor"||e==="⌋"?(u=o="⎥",c="⎦",f="Size4-Regular",d="rfloor",h=667):e==="\\rceil"||e==="⌉"?(o="⎤",u=c="⎥",f="Size4-Regular",d="rceil",h=667):e==="("||e==="\\lparen"?(o="⎛",u="⎜",c="⎝",f="Size4-Regular",d="lparen",h=875):e===")"||e==="\\rparen"?(o="⎞",u="⎟",c="⎠",f="Size4-Regular",d="rparen",h=875):e==="\\{"||e==="\\lbrace"?(o="⎧",l="⎨",c="⎩",u="⎪",f="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="⎫",l="⎬",c="⎭",u="⎪",f="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(o="⎧",c="⎩",u="⎪",f="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(o="⎫",c="⎭",u="⎪",f="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(o="⎧",c="⎭",u="⎪",f="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(o="⎫",c="⎩",u="⎪",f="Size4-Regular");var g=nh(o,f,s),y=g.height+g.depth,C=nh(u,f,s),S=C.height+C.depth,A=nh(c,f,s),T=A.height+A.depth,M=0,D=1;if(l!==null){var B=nh(l,f,s);M=B.height+B.depth,D=2}var F=y+T+M,V=Math.max(0,Math.ceil((i-F)/(D*S))),O=F+V*D*S,U=n.fontMetrics().axisHeight;r&&(U*=n.sizeMultiplier);var J=O/2-U,Y=[];if(d.length>0){var ie=O-y-T,ce=Math.round(O*1e3),qe=kne(d,Math.round(ie*1e3)),Me=new fl(d,qe),me=(h/1e3).toFixed(3)+"em",be=(ce/1e3).toFixed(3)+"em",ot=new to([Me],{width:me,height:be,viewBox:"0 0 "+h+" "+ce}),vt=se.makeSvgSpan([],[ot],n);vt.height=ce/1e3,vt.style.width=me,vt.style.height=be,Y.push({type:"elem",elem:vt})}else{if(Y.push(o3(c,f,s)),Y.push(Nf),l===null){var $e=O-y-T+2*T5;Y.push(l3(u,$e,n))}else{var Je=(O-y-T-M)/2+2*T5;Y.push(l3(u,Je,n)),Y.push(Nf),Y.push(o3(l,f,s)),Y.push(Nf),Y.push(l3(u,Je,n))}Y.push(Nf),Y.push(o3(o,f,s))}var it=n.havingBaseStyle(pt.TEXT),Ft=se.makeVList({positionType:"bottom",positionData:J,children:Y},it);return n6(se.makeSpan(["delimsizing","mult"],[Ft],it),pt.TEXT,n,a)},u3=80,c3=.08,d3=function(e,i,r,n,s){var a=Sne(e,n,r),o=new fl(e,a),l=new to([o],{width:"400em",height:Fe(i),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return se.makeSvgSpan(["hide-tail"],[l],s)},_se=function(e,i){var r=i.havingBaseSizing(),n=WL("\\surd",e*r.sizeMultiplier,KL,r),s=r.sizeMultiplier,a=Math.max(0,i.minRuleThickness-i.fontMetrics().sqrtRuleThickness),o,l=0,u=0,c=0,d;return n.type==="small"?(c=1e3+1e3*a+u3,e<1?s=1:e<1.4&&(s=.7),l=(1+a+c3)/s,u=(1+a)/s,o=d3("sqrtMain",l,c,a,i),o.style.minWidth="0.853em",d=.833/s):n.type==="large"?(c=(1e3+u3)*Sh[n.size],u=(Sh[n.size]+a)/s,l=(Sh[n.size]+a+c3)/s,o=d3("sqrtSize"+n.size,l,c,a,i),o.style.minWidth="1.02em",d=1/s):(l=e+a+c3,u=e+a,c=Math.floor(1e3*e+a)+u3,o=d3("sqrtTall",l,c,a,i),o.style.minWidth="0.742em",d=1.056),o.height=u,o.style.height=Fe(l),{span:o,advanceWidth:d,ruleWidth:(i.fontMetrics().sqrtRuleThickness+a)*s}},VL=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],wse=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],HL=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Sh=[0,1.2,1.8,2.4,3],Sse=function(e,i,r,n,s){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),lt.contains(VL,e)||lt.contains(HL,e))return qL(e,i,!1,r,n,s);if(lt.contains(wse,e))return jL(e,Sh[i],!1,r,n,s);throw new Be("Illegal delimiter: '"+e+"'")},Cse=[{type:"small",style:pt.SCRIPTSCRIPT},{type:"small",style:pt.SCRIPT},{type:"small",style:pt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],kse=[{type:"small",style:pt.SCRIPTSCRIPT},{type:"small",style:pt.SCRIPT},{type:"small",style:pt.TEXT},{type:"stack"}],KL=[{type:"small",style:pt.SCRIPTSCRIPT},{type:"small",style:pt.SCRIPT},{type:"small",style:pt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Tse=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},WL=function(e,i,r,n){for(var s=Math.min(2,3-n.style.size),a=s;a<r.length&&r[a].type!=="stack";a++){var o=nh(e,Tse(r[a]),"math"),l=o.height+o.depth;if(r[a].type==="small"){var u=n.havingBaseStyle(r[a].style);l*=u.sizeMultiplier}if(l>i)return r[a]}return r[r.length-1]},GL=function(e,i,r,n,s,a){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var o;lt.contains(HL,e)?o=Cse:lt.contains(VL,e)?o=KL:o=kse;var l=WL(e,i,o,n);return l.type==="small"?yse(e,l.style,r,n,s,a):l.type==="large"?qL(e,l.size,r,n,s,a):jL(e,i,r,n,s,a)},Ese=function(e,i,r,n,s,a){var o=n.fontMetrics().axisHeight*n.sizeMultiplier,l=901,u=5/n.fontMetrics().ptPerEm,c=Math.max(i-o,r+o),d=Math.max(c/500*l,2*c-u);return GL(e,d,!0,n,s,a)},Ga={sqrtImage:_se,sizedDelim:Sse,sizeToMaxHeight:Sh,customSizedDelim:GL,leftRightDelim:Ese},n9={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Ase=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function S2(t,e){var i=_2(t);if(i&&lt.contains(Ase,i.text))return i;throw i?new Be("Invalid delimiter '"+i.text+"' after '"+e.funcName+"'",t):new Be("Invalid delimiter type '"+t.type+"'",t)}Ke({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var i=S2(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:n9[t.funcName].size,mclass:n9[t.funcName].mclass,delim:i.text}},htmlBuilder:(t,e)=>t.delim==="."?se.makeSpan([t.mclass]):Ga.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(as(t.delim,t.mode));var i=new Le.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?i.setAttribute("fence","true"):i.setAttribute("fence","false"),i.setAttribute("stretchy","true");var r=Fe(Ga.sizeToMaxHeight[t.size]);return i.setAttribute("minsize",r),i.setAttribute("maxsize",r),i}});function s9(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ke({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=t.parser.gullet.macros.get("\\current@color");if(i&&typeof i!="string")throw new Be("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:S2(e[0],t).text,color:i}}});Ke({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=S2(e[0],t),r=t.parser;++r.leftrightDepth;var n=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=Lt(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:n,left:i.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{s9(t);for(var i=ar(t.body,e,!0,["mopen","mclose"]),r=0,n=0,s=!1,a=0;a<i.length;a++)i[a].isMiddle?s=!0:(r=Math.max(i[a].height,r),n=Math.max(i[a].depth,n));r*=e.sizeMultiplier,n*=e.sizeMultiplier;var o;if(t.left==="."?o=Yh(e,["mopen"]):o=Ga.leftRightDelim(t.left,r,n,e,t.mode,["mopen"]),i.unshift(o),s)for(var l=1;l<i.length;l++){var u=i[l],c=u.isMiddle;c&&(i[l]=Ga.leftRightDelim(c.delim,r,n,c.options,t.mode,[]))}var d;if(t.right===".")d=Yh(e,["mclose"]);else{var h=t.rightColor?e.withColor(t.rightColor):e;d=Ga.leftRightDelim(t.right,r,n,h,t.mode,["mclose"])}return i.push(d),se.makeSpan(["minner"],i,e)},mathmlBuilder:(t,e)=>{s9(t);var i=xn(t.body,e);if(t.left!=="."){var r=new Le.MathNode("mo",[as(t.left,t.mode)]);r.setAttribute("fence","true"),i.unshift(r)}if(t.right!=="."){var n=new Le.MathNode("mo",[as(t.right,t.mode)]);n.setAttribute("fence","true"),t.rightColor&&n.setAttribute("mathcolor",t.rightColor),i.push(n)}return e6(i)}});Ke({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=S2(e[0],t);if(!t.parser.leftrightDepth)throw new Be("\\middle without preceding \\left",i);return{type:"middle",mode:t.parser.mode,delim:i.text}},htmlBuilder:(t,e)=>{var i;if(t.delim===".")i=Yh(e,[]);else{i=Ga.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};i.isMiddle=r}return i},mathmlBuilder:(t,e)=>{var i=t.delim==="\\vert"||t.delim==="|"?as("|","text"):as(t.delim,t.mode),r=new Le.MathNode("mo",[i]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var s6=(t,e)=>{var i=se.wrapFragment(Kt(t.body,e),e),r=t.label.slice(1),n=e.sizeMultiplier,s,a=0,o=lt.isCharacterBox(t.body);if(r==="sout")s=se.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/n,a=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=Ci({number:.6,unit:"pt"},e),u=Ci({number:.35,unit:"ex"},e),c=e.havingBaseSizing();n=n/c.sizeMultiplier;var d=i.height+i.depth+l+u;i.style.paddingLeft=Fe(d/2+l);var h=Math.floor(1e3*d*n),f=_ne(h),g=new to([new fl("phase",f)],{width:"400em",height:Fe(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});s=se.makeSvgSpan(["hide-tail"],[g],e),s.style.height=Fe(d),a=i.depth+l+u}else{/cancel/.test(r)?o||i.classes.push("cancel-pad"):r==="angl"?i.classes.push("anglpad"):i.classes.push("boxpad");var y=0,C=0,S=0;/box/.test(r)?(S=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),y=e.fontMetrics().fboxsep+(r==="colorbox"?0:S),C=y):r==="angl"?(S=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),y=4*S,C=Math.max(0,.25-i.depth)):(y=o?.2:0,C=y),s=ro.encloseSpan(i,r,y,C,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=Fe(S)):r==="angl"&&S!==.049&&(s.style.borderTopWidth=Fe(S),s.style.borderRightWidth=Fe(S)),a=i.depth+C,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var A;if(t.backgroundColor)A=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:i,shift:0}]},e);else{var T=/cancel|phase/.test(r)?["svg-align"]:[];A=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:T}]},e)}return/cancel/.test(r)&&(A.height=i.height,A.depth=i.depth),/cancel/.test(r)&&!o?se.makeSpan(["mord","cancel-lap"],[A],e):se.makeSpan(["mord"],[A],e)},a6=(t,e)=>{var i=0,r=new Le.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[hi(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(i=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*i+"pt"),r.setAttribute("height","+"+2*i+"pt"),r.setAttribute("lspace",i+"pt"),r.setAttribute("voffset",i+"pt"),t.label==="\\fcolorbox"){var n=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+n+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};Ke({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,i){var{parser:r,funcName:n}=t,s=Lt(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:r.mode,label:n,backgroundColor:s,body:a}},htmlBuilder:s6,mathmlBuilder:a6});Ke({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,i){var{parser:r,funcName:n}=t,s=Lt(e[0],"color-token").color,a=Lt(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:r.mode,label:n,backgroundColor:a,borderColor:s,body:o}},htmlBuilder:s6,mathmlBuilder:a6});Ke({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"enclose",mode:i.mode,label:"\\fbox",body:e[0]}}});Ke({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:r}=t,n=e[0];return{type:"enclose",mode:i.mode,label:r,body:n}},htmlBuilder:s6,mathmlBuilder:a6});Ke({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:i}=t;return{type:"enclose",mode:i.mode,label:"\\angl",body:e[0]}}});var XL={};function ma(t){for(var{type:e,names:i,props:r,handler:n,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:n},l=0;l<i.length;++l)XL[i[l]]=o;s&&(tg[e]=s),a&&(ig[e]=a)}var YL={};function I(t,e){YL[t]=e}function a9(t){var e=[];t.consumeSpaces();var i=t.fetch().text;for(i==="\\relax"&&(t.consume(),t.consumeSpaces(),i=t.fetch().text);i==="\\hline"||i==="\\hdashline";)t.consume(),e.push(i==="\\hdashline"),t.consumeSpaces(),i=t.fetch().text;return e}var C2=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Be("{"+t.envName+"} can be used only in display mode.")};function o6(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Cl(t,e,i){var{hskipBeforeAndAfter:r,addJot:n,cols:s,arraystretch:a,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:d,leqno:h}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var f=t.gullet.expandMacroAsText("\\arraystretch");if(f==null)a=1;else if(a=parseFloat(f),!a||a<0)throw new Be("Invalid \\arraystretch: "+f)}t.gullet.beginGroup();var g=[],y=[g],C=[],S=[],A=l!=null?[]:void 0;function T(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function M(){A&&(t.gullet.macros.get("\\df@tag")?(A.push(t.subparse([new es("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):A.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(T(),S.push(a9(t));;){var D=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),D={type:"ordgroup",mode:t.mode,body:D},i&&(D={type:"styling",mode:t.mode,style:i,body:[D]}),g.push(D);var B=t.fetch().text;if(B==="&"){if(d&&g.length===d){if(u||o)throw new Be("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(B==="\\end"){M(),g.length===1&&D.type==="styling"&&D.body[0].body.length===0&&(y.length>1||!c)&&y.pop(),S.length<y.length+1&&S.push([]);break}else if(B==="\\\\"){t.consume();var F=void 0;t.gullet.future().text!==" "&&(F=t.parseSizeGroup(!0)),C.push(F?F.value:null),M(),S.push(a9(t)),g=[],y.push(g),T()}else throw new Be("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:n,arraystretch:a,body:y,cols:s,rowGaps:C,hskipBeforeAndAfter:r,hLinesBeforeRow:S,colSeparationType:o,tags:A,leqno:h}}function l6(t){return t.slice(0,1)==="d"?"display":"text"}var ga=function(e,i){var r,n,s=e.body.length,a=e.hLinesBeforeRow,o=0,l=new Array(s),u=[],c=Math.max(i.fontMetrics().arrayRuleWidth,i.minRuleThickness),d=1/i.fontMetrics().ptPerEm,h=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var f=i.havingStyle(pt.SCRIPT).sizeMultiplier;h=.2778*(f/i.sizeMultiplier)}var g=e.colSeparationType==="CD"?Ci({number:3,unit:"ex"},i):12*d,y=3*d,C=e.arraystretch*g,S=.7*C,A=.3*C,T=0;function M(xe){for(var Re=0;Re<xe.length;++Re)Re>0&&(T+=.25),u.push({pos:T,isDashed:xe[Re]})}for(M(a[0]),r=0;r<e.body.length;++r){var D=e.body[r],B=S,F=A;o<D.length&&(o=D.length);var V=new Array(D.length);for(n=0;n<D.length;++n){var O=Kt(D[n],i);F<O.depth&&(F=O.depth),B<O.height&&(B=O.height),V[n]=O}var U=e.rowGaps[r],J=0;U&&(J=Ci(U,i),J>0&&(J+=A,F<J&&(F=J),J=0)),e.addJot&&(F+=y),V.height=B,V.depth=F,T+=B,V.pos=T,T+=F+J,l[r]=V,M(a[r+1])}var Y=T/2+i.fontMetrics().axisHeight,ie=e.cols||[],ce=[],qe,Me,me=[];if(e.tags&&e.tags.some(xe=>xe))for(r=0;r<s;++r){var be=l[r],ot=be.pos-Y,vt=e.tags[r],$e=void 0;vt===!0?$e=se.makeSpan(["eqn-num"],[],i):vt===!1?$e=se.makeSpan([],[],i):$e=se.makeSpan([],ar(vt,i,!0),i),$e.depth=be.depth,$e.height=be.height,me.push({type:"elem",elem:$e,shift:ot})}for(n=0,Me=0;n<o||Me<ie.length;++n,++Me){for(var Je=ie[Me]||{},it=!0;Je.type==="separator";){if(it||(qe=se.makeSpan(["arraycolsep"],[]),qe.style.width=Fe(i.fontMetrics().doubleRuleSep),ce.push(qe)),Je.separator==="|"||Je.separator===":"){var Ft=Je.separator==="|"?"solid":"dashed",rt=se.makeSpan(["vertical-separator"],[],i);rt.style.height=Fe(T),rt.style.borderRightWidth=Fe(c),rt.style.borderRightStyle=Ft,rt.style.margin="0 "+Fe(-c/2);var It=T-Y;It&&(rt.style.verticalAlign=Fe(-It)),ce.push(rt)}else throw new Be("Invalid separator type: "+Je.separator);Me++,Je=ie[Me]||{},it=!1}if(!(n>=o)){var oe=void 0;(n>0||e.hskipBeforeAndAfter)&&(oe=lt.deflt(Je.pregap,h),oe!==0&&(qe=se.makeSpan(["arraycolsep"],[]),qe.style.width=Fe(oe),ce.push(qe)));var Te=[];for(r=0;r<s;++r){var Ee=l[r],Ie=Ee[n];if(Ie){var wt=Ee.pos-Y;Ie.depth=Ee.depth,Ie.height=Ee.height,Te.push({type:"elem",elem:Ie,shift:wt})}}Te=se.makeVList({positionType:"individualShift",children:Te},i),Te=se.makeSpan(["col-align-"+(Je.align||"c")],[Te]),ce.push(Te),(n<o-1||e.hskipBeforeAndAfter)&&(oe=lt.deflt(Je.postgap,h),oe!==0&&(qe=se.makeSpan(["arraycolsep"],[]),qe.style.width=Fe(oe),ce.push(qe)))}}if(l=se.makeSpan(["mtable"],ce),u.length>0){for(var St=se.makeLineSpan("hline",i,c),N=se.makeLineSpan("hdashline",i,c),z=[{type:"elem",elem:l,shift:0}];u.length>0;){var re=u.pop(),ye=re.pos-Y;re.isDashed?z.push({type:"elem",elem:N,shift:ye}):z.push({type:"elem",elem:St,shift:ye})}l=se.makeVList({positionType:"individualShift",children:z},i)}if(me.length===0)return se.makeSpan(["mord"],[l],i);var pe=se.makeVList({positionType:"individualShift",children:me},i);return pe=se.makeSpan(["tag"],[pe],i),se.makeFragment([l,pe])},Mse={c:"center ",l:"left ",r:"right "},ya=function(e,i){for(var r=[],n=new Le.MathNode("mtd",[],["mtr-glue"]),s=new Le.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var o=e.body[a],l=[],u=0;u<o.length;u++)l.push(new Le.MathNode("mtd",[hi(o[u],i)]));e.tags&&e.tags[a]&&(l.unshift(n),l.push(n),e.leqno?l.unshift(s):l.push(s)),r.push(new Le.MathNode("mtr",l))}var c=new Le.MathNode("mtable",r),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",Fe(d));var h="",f="";if(e.cols&&e.cols.length>0){var g=e.cols,y="",C=!1,S=0,A=g.length;g[0].type==="separator"&&(h+="top ",S=1),g[g.length-1].type==="separator"&&(h+="bottom ",A-=1);for(var T=S;T<A;T++)g[T].type==="align"?(f+=Mse[g[T].align],C&&(y+="none "),C=!0):g[T].type==="separator"&&C&&(y+=g[T].separator==="|"?"solid ":"dashed ",C=!1);c.setAttribute("columnalign",f.trim()),/[sd]/.test(y)&&c.setAttribute("columnlines",y.trim())}if(e.colSeparationType==="align"){for(var M=e.cols||[],D="",B=1;B<M.length;B++)D+=B%2?"0em ":"1em ";c.setAttribute("columnspacing",D.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var F="",V=e.hLinesBeforeRow;h+=V[0].length>0?"left ":"",h+=V[V.length-1].length>0?"right ":"";for(var O=1;O<V.length-1;O++)F+=V[O].length===0?"none ":V[O][0]?"dashed ":"solid ";return/[sd]/.test(F)&&c.setAttribute("rowlines",F.trim()),h!==""&&(c=new Le.MathNode("menclose",[c]),c.setAttribute("notation",h.trim())),e.arraystretch&&e.arraystretch<1&&(c=new Le.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},ZL=function(e,i){e.envName.indexOf("ed")===-1&&C2(e);var r=[],n=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",a=Cl(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:o6(e.envName),emptySingleRow:!0,colSeparationType:n,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(i[0]&&i[0].type==="ordgroup"){for(var c="",d=0;d<i[0].body.length;d++){var h=Lt(i[0].body[d],"textord");c+=h.text}o=Number(c),l=o*2}var f=!l;a.body.forEach(function(S){for(var A=1;A<S.length;A+=2){var T=Lt(S[A],"styling"),M=Lt(T.body[0],"ordgroup");M.body.unshift(u)}if(f)l<S.length&&(l=S.length);else{var D=S.length/2;if(o<D)throw new Be("Too many math in a row: "+("expected "+o+", but got "+D),S[0])}});for(var g=0;g<l;++g){var y="r",C=0;g%2===1?y="l":g>0&&f&&(C=1),r[g]={type:"align",align:y,pregap:C,postgap:0}}return a.colSeparationType=f?"align":"alignat",a};ma({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var i=_2(e[0]),r=i?[e[0]]:Lt(e[0],"ordgroup").body,n=r.map(function(a){var o=i6(a),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new Be("Unknown column alignment: "+l,a)}),s={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return Cl(t.parser,s,l6(t.envName))},htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],i="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:i}]};if(t.envName.charAt(t.envName.length-1)==="*"){var n=t.parser;if(n.consumeSpaces(),n.fetch().text==="["){if(n.consume(),n.consumeSpaces(),i=n.fetch().text,"lcr".indexOf(i)===-1)throw new Be("Expected l or c or r",n.nextToken);n.consume(),n.consumeSpaces(),n.expect("]"),n.consume(),r.cols=[{type:"align",align:i}]}}var s=Cl(t.parser,r,l6(t.envName)),a=Math.max(0,...s.body.map(o=>o.length));return s.cols=new Array(a).fill({type:"align",align:i}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},i=Cl(t.parser,e,"script");return i.colSeparationType="small",i},htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var i=_2(e[0]),r=i?[e[0]]:Lt(e[0],"ordgroup").body,n=r.map(function(a){var o=i6(a),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new Be("Unknown column alignment: "+l,a)});if(n.length>1)throw new Be("{subarray} can contain only one column");var s={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Cl(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new Be("{subarray} can contain only one column");return s},htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},i=Cl(t.parser,e,l6(t.envName));return{type:"leftright",mode:t.mode,body:[i],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:ZL,htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){lt.contains(["gather","gather*"],t.envName)&&C2(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:o6(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Cl(t.parser,e,"display")},htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:ZL,htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){C2(t);var e={autoTag:o6(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Cl(t.parser,e,"display")},htmlBuilder:ga,mathmlBuilder:ya});ma({type:"array",names:["CD"],props:{numArgs:0},handler(t){return C2(t),mse(t.parser)},htmlBuilder:ga,mathmlBuilder:ya});I("\\nonumber","\\gdef\\@eqnsw{0}");I("\\notag","\\nonumber");Ke({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Be(t.funcName+" valid only within array environment")}});var o9=XL;Ke({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:i,funcName:r}=t,n=e[0];if(n.type!=="ordgroup")throw new Be("Invalid environment name",n);for(var s="",a=0;a<n.body.length;++a)s+=Lt(n.body[a],"textord").text;if(r==="\\begin"){if(!o9.hasOwnProperty(s))throw new Be("No such environment: "+s,n);var o=o9[s],{args:l,optArgs:u}=i.parseArguments("\\begin{"+s+"}",o),c={mode:i.mode,envName:s,parser:i},d=o.handler(c,l,u);i.expect("\\end",!1);var h=i.nextToken,f=Lt(i.parseFunction(),"environment");if(f.name!==s)throw new Be("Mismatch: \\begin{"+s+"} matched by \\end{"+f.name+"}",h);return d}return{type:"environment",mode:i.mode,name:s,nameGroup:n}}});var JL=(t,e)=>{var i=t.font,r=e.withFont(i);return Kt(t.body,r)},QL=(t,e)=>{var i=t.font,r=e.withFont(i);return hi(t.body,r)},l9={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ke({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:i,funcName:r}=t,n=rg(e[0]),s=r;return s in l9&&(s=l9[s]),{type:"font",mode:i.mode,font:s.slice(1),body:n}},htmlBuilder:JL,mathmlBuilder:QL});Ke({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:i}=t,r=e[0],n=lt.isCharacterBox(r);return{type:"mclass",mode:i.mode,mclass:w2(r),body:[{type:"font",mode:i.mode,font:"boldsymbol",body:r}],isCharacterBox:n}}});Ke({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:r,breakOnTokenText:n}=t,{mode:s}=i,a=i.parseExpression(!0,n),o="math"+r.slice(1);return{type:"font",mode:s,font:o,body:{type:"ordgroup",mode:i.mode,body:a}}},htmlBuilder:JL,mathmlBuilder:QL});var eB=(t,e)=>{var i=e;return t==="display"?i=i.id>=pt.SCRIPT.id?i.text():pt.DISPLAY:t==="text"&&i.size===pt.DISPLAY.size?i=pt.TEXT:t==="script"?i=pt.SCRIPT:t==="scriptscript"&&(i=pt.SCRIPTSCRIPT),i},u6=(t,e)=>{var i=eB(t.size,e.style),r=i.fracNum(),n=i.fracDen(),s;s=e.havingStyle(r);var a=Kt(t.numer,s,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<l?l:a.depth}s=e.havingStyle(n);var u=Kt(t.denom,s,e),c,d,h;t.hasBarLine?(t.barSize?(d=Ci(t.barSize,e),c=se.makeLineSpan("frac-line",e,d)):c=se.makeLineSpan("frac-line",e),d=c.height,h=c.height):(c=null,d=0,h=e.fontMetrics().defaultRuleThickness);var f,g,y;i.size===pt.DISPLAY.size||t.size==="display"?(f=e.fontMetrics().num1,d>0?g=3*h:g=7*h,y=e.fontMetrics().denom1):(d>0?(f=e.fontMetrics().num2,g=h):(f=e.fontMetrics().num3,g=3*h),y=e.fontMetrics().denom2);var C;if(c){var A=e.fontMetrics().axisHeight;f-a.depth-(A+.5*d)<g&&(f+=g-(f-a.depth-(A+.5*d))),A-.5*d-(u.height-y)<g&&(y+=g-(A-.5*d-(u.height-y)));var T=-(A-.5*d);C=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:c,shift:T},{type:"elem",elem:a,shift:-f}]},e)}else{var S=f-a.depth-(u.height-y);S<g&&(f+=.5*(g-S),y+=.5*(g-S)),C=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:a,shift:-f}]},e)}s=e.havingStyle(i),C.height*=s.sizeMultiplier/e.sizeMultiplier,C.depth*=s.sizeMultiplier/e.sizeMultiplier;var M;i.size===pt.DISPLAY.size?M=e.fontMetrics().delim1:i.size===pt.SCRIPTSCRIPT.size?M=e.havingStyle(pt.SCRIPT).fontMetrics().delim2:M=e.fontMetrics().delim2;var D,B;return t.leftDelim==null?D=Yh(e,["mopen"]):D=Ga.customSizedDelim(t.leftDelim,M,!0,e.havingStyle(i),t.mode,["mopen"]),t.continued?B=se.makeSpan([]):t.rightDelim==null?B=Yh(e,["mclose"]):B=Ga.customSizedDelim(t.rightDelim,M,!0,e.havingStyle(i),t.mode,["mclose"]),se.makeSpan(["mord"].concat(s.sizingClasses(e)),[D,se.makeSpan(["mfrac"],[C]),B],e)},c6=(t,e)=>{var i=new Le.MathNode("mfrac",[hi(t.numer,e),hi(t.denom,e)]);if(!t.hasBarLine)i.setAttribute("linethickness","0px");else if(t.barSize){var r=Ci(t.barSize,e);i.setAttribute("linethickness",Fe(r))}var n=eB(t.size,e.style);if(n.size!==e.style.size){i=new Le.MathNode("mstyle",[i]);var s=n.size===pt.DISPLAY.size?"true":"false";i.setAttribute("displaystyle",s),i.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var o=new Le.MathNode("mo",[new Le.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(i),t.rightDelim!=null){var l=new Le.MathNode("mo",[new Le.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return e6(a)}return i};Ke({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:i,funcName:r}=t,n=e[0],s=e[1],a,o=null,l=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",l=")";break;case"\\\\bracefrac":a=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:i.mode,continued:!1,numer:n,denom:s,hasBarLine:a,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:u6,mathmlBuilder:c6});Ke({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:i,funcName:r}=t,n=e[0],s=e[1];return{type:"genfrac",mode:i.mode,continued:!0,numer:n,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Ke({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:i,token:r}=t,n;switch(i){case"\\over":n="\\frac";break;case"\\choose":n="\\binom";break;case"\\atop":n="\\\\atopfrac";break;case"\\brace":n="\\\\bracefrac";break;case"\\brack":n="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:n,token:r}}});var u9=["display","text","script","scriptscript"],c9=function(e){var i=null;return e.length>0&&(i=e,i=i==="."?null:i),i};Ke({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:i}=t,r=e[4],n=e[5],s=rg(e[0]),a=s.type==="atom"&&s.family==="open"?c9(s.text):null,o=rg(e[1]),l=o.type==="atom"&&o.family==="close"?c9(o.text):null,u=Lt(e[2],"size"),c,d=null;u.isBlank?c=!0:(d=u.value,c=d.number>0);var h="auto",f=e[3];if(f.type==="ordgroup"){if(f.body.length>0){var g=Lt(f.body[0],"textord");h=u9[Number(g.text)]}}else f=Lt(f,"textord"),h=u9[Number(f.text)];return{type:"genfrac",mode:i.mode,numer:r,denom:n,continued:!1,hasBarLine:c,barSize:d,leftDelim:a,rightDelim:l,size:h}},htmlBuilder:u6,mathmlBuilder:c6});Ke({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:i,funcName:r,token:n}=t;return{type:"infix",mode:i.mode,replaceWith:"\\\\abovefrac",size:Lt(e[0],"size").value,token:n}}});Ke({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:i,funcName:r}=t,n=e[0],s=ane(Lt(e[1],"infix").size),a=e[2],o=s.number>0;return{type:"genfrac",mode:i.mode,numer:n,denom:a,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:u6,mathmlBuilder:c6});var tB=(t,e)=>{var i=e.style,r,n;t.type==="supsub"?(r=t.sup?Kt(t.sup,e.havingStyle(i.sup()),e):Kt(t.sub,e.havingStyle(i.sub()),e),n=Lt(t.base,"horizBrace")):n=Lt(t,"horizBrace");var s=Kt(n.base,e.havingBaseStyle(pt.DISPLAY)),a=ro.svgSpan(n,e),o;if(n.isOver?(o=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=se.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),r){var l=se.makeSpan(["mord",n.isOver?"mover":"munder"],[o],e);n.isOver?o=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):o=se.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return se.makeSpan(["mord",n.isOver?"mover":"munder"],[o],e)},Dse=(t,e)=>{var i=ro.mathMLnode(t.label);return new Le.MathNode(t.isOver?"mover":"munder",[hi(t.base,e),i])};Ke({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:r}=t;return{type:"horizBrace",mode:i.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:tB,mathmlBuilder:Dse});Ke({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,r=e[1],n=Lt(e[0],"url").url;return i.settings.isTrusted({command:"\\href",url:n})?{type:"href",mode:i.mode,href:n,body:$i(r)}:i.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var i=ar(t.body,e,!1);return se.makeAnchor(t.href,[],i,e)},mathmlBuilder:(t,e)=>{var i=ml(t.body,e);return i instanceof Xn||(i=new Xn("mrow",[i])),i.setAttribute("href",t.href),i}});Ke({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,r=Lt(e[0],"url").url;if(!i.settings.isTrusted({command:"\\url",url:r}))return i.formatUnsupportedCmd("\\url");for(var n=[],s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),n.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:i.mode,font:"\\texttt",body:n};return{type:"href",mode:i.mode,href:r,body:$i(o)}}});Ke({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:i}=t;return{type:"hbox",mode:i.mode,body:$i(e[0])}},htmlBuilder(t,e){var i=ar(t.body,e,!1);return se.makeFragment(i)},mathmlBuilder(t,e){return new Le.MathNode("mrow",xn(t.body,e))}});Ke({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:r,token:n}=t,s=Lt(e[0],"raw").string,a=e[1];i.settings.strict&&i.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(r){case"\\htmlClass":l.class=s,o={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,o={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,o={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var u=s.split(","),c=0;c<u.length;c++){var d=u[c].split("=");if(d.length!==2)throw new Be("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return i.settings.isTrusted(o)?{type:"html",mode:i.mode,attributes:l,body:$i(a)}:i.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var i=ar(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var n=se.makeSpan(r,i,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&n.setAttribute(s,t.attributes[s]);return n},mathmlBuilder:(t,e)=>ml(t.body,e)});Ke({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t;return{type:"htmlmathml",mode:i.mode,html:$i(e[0]),mathml:$i(e[1])}},htmlBuilder:(t,e)=>{var i=ar(t.html,e,!1);return se.makeFragment(i)},mathmlBuilder:(t,e)=>ml(t.mathml,e)});var h3=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!i)throw new Be("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(i[1]+i[2]),unit:i[3]};if(!xL(r))throw new Be("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Ke({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,i)=>{var{parser:r}=t,n={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(i[0])for(var l=Lt(i[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var d=u[c].split("=");if(d.length===2){var h=d[1].trim();switch(d[0].trim()){case"alt":o=h;break;case"width":n=h3(h);break;case"height":s=h3(h);break;case"totalheight":a=h3(h);break;default:throw new Be("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var f=Lt(e[0],"url").url;return o===""&&(o=f,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:r.mode,alt:o,width:n,height:s,totalheight:a,src:f}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var i=Ci(t.height,e),r=0;t.totalheight.number>0&&(r=Ci(t.totalheight,e)-i);var n=0;t.width.number>0&&(n=Ci(t.width,e));var s={height:Fe(i+r)};n>0&&(s.width=Fe(n)),r>0&&(s.verticalAlign=Fe(-r));var a=new Dne(t.src,t.alt,s);return a.height=i,a.depth=r,a},mathmlBuilder:(t,e)=>{var i=new Le.MathNode("mglyph",[]);i.setAttribute("alt",t.alt);var r=Ci(t.height,e),n=0;if(t.totalheight.number>0&&(n=Ci(t.totalheight,e)-r,i.setAttribute("valign",Fe(-n))),i.setAttribute("height",Fe(r+n)),t.width.number>0){var s=Ci(t.width,e);i.setAttribute("width",Fe(s))}return i.setAttribute("src",t.src),i}});Ke({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:i,funcName:r}=t,n=Lt(e[0],"size");if(i.settings.strict){var s=r[1]==="m",a=n.value.unit==="mu";s?(a||i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+n.value.unit+" units")),i.mode!=="math"&&i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:i.mode,dimension:n.value}},htmlBuilder(t,e){return se.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var i=Ci(t.dimension,e);return new Le.SpaceNode(i)}});Ke({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:r}=t,n=e[0];return{type:"lap",mode:i.mode,alignment:r.slice(5),body:n}},htmlBuilder:(t,e)=>{var i;t.alignment==="clap"?(i=se.makeSpan([],[Kt(t.body,e)]),i=se.makeSpan(["inner"],[i],e)):i=se.makeSpan(["inner"],[Kt(t.body,e)]);var r=se.makeSpan(["fix"],[]),n=se.makeSpan([t.alignment],[i,r],e),s=se.makeSpan(["strut"]);return s.style.height=Fe(n.height+n.depth),n.depth&&(s.style.verticalAlign=Fe(-n.depth)),n.children.unshift(s),n=se.makeSpan(["thinbox"],[n],e),se.makeSpan(["mord","vbox"],[n],e)},mathmlBuilder:(t,e)=>{var i=new Le.MathNode("mpadded",[hi(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";i.setAttribute("lspace",r+"width")}return i.setAttribute("width","0px"),i}});Ke({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:i,parser:r}=t,n=r.mode;r.switchMode("math");var s=i==="\\("?"\\)":"$",a=r.parseExpression(!1,s);return r.expect(s),r.switchMode(n),{type:"styling",mode:r.mode,style:"text",body:a}}});Ke({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Be("Mismatched "+t.funcName)}});var d9=(t,e)=>{switch(e.style.size){case pt.DISPLAY.size:return t.display;case pt.TEXT.size:return t.text;case pt.SCRIPT.size:return t.script;case pt.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Ke({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:i}=t;return{type:"mathchoice",mode:i.mode,display:$i(e[0]),text:$i(e[1]),script:$i(e[2]),scriptscript:$i(e[3])}},htmlBuilder:(t,e)=>{var i=d9(t,e),r=ar(i,e,!1);return se.makeFragment(r)},mathmlBuilder:(t,e)=>{var i=d9(t,e);return ml(i,e)}});var iB=(t,e,i,r,n,s,a)=>{t=se.makeSpan([],[t]);var o=i&&lt.isCharacterBox(i),l,u;if(e){var c=Kt(e,r.havingStyle(n.sup()),r);u={elem:c,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-c.depth)}}if(i){var d=Kt(i,r.havingStyle(n.sub()),r);l={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-d.height)}}var h;if(u&&l){var f=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+a;h=se.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Fe(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Fe(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var g=t.height-a;h=se.makeVList({positionType:"top",positionData:g,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Fe(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},r)}else if(u){var y=t.depth+a;h=se.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Fe(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var C=[h];if(l&&s!==0&&!o){var S=se.makeSpan(["mspace"],[],r);S.style.marginRight=Fe(s),C.unshift(S)}return se.makeSpan(["mop","op-limits"],C,r)},rB=["\\smallint"],G0=(t,e)=>{var i,r,n=!1,s;t.type==="supsub"?(i=t.sup,r=t.sub,s=Lt(t.base,"op"),n=!0):s=Lt(t,"op");var a=e.style,o=!1;a.size===pt.DISPLAY.size&&s.symbol&&!lt.contains(rB,s.name)&&(o=!0);var l;if(s.symbol){var u=o?"Size2-Regular":"Size1-Regular",c="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(c=s.name.slice(1),s.name=c==="oiint"?"\\iint":"\\iiint"),l=se.makeSymbol(s.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),c.length>0){var d=l.italic,h=se.staticSvg(c+"Size"+(o?"2":"1"),e);l=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:h,shift:o?.08:0}]},e),s.name="\\"+c,l.classes.unshift("mop"),l.italic=d}}else if(s.body){var f=ar(s.body,e,!0);f.length===1&&f[0]instanceof ss?(l=f[0],l.classes[0]="mop"):l=se.makeSpan(["mop"],f,e)}else{for(var g=[],y=1;y<s.name.length;y++)g.push(se.mathsym(s.name[y],s.mode,e));l=se.makeSpan(["mop"],g,e)}var C=0,S=0;return(l instanceof ss||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(C=(l.height-l.depth)/2-e.fontMetrics().axisHeight,S=l.italic),n?iB(l,i,r,e,a,S,C):(C&&(l.style.position="relative",l.style.top=Fe(C)),l)},Tp=(t,e)=>{var i;if(t.symbol)i=new Xn("mo",[as(t.name,t.mode)]),lt.contains(rB,t.name)&&i.setAttribute("largeop","false");else if(t.body)i=new Xn("mo",xn(t.body,e));else{i=new Xn("mi",[new wh(t.name.slice(1))]);var r=new Xn("mo",[as("⁡","text")]);t.parentIsSupSub?i=new Xn("mrow",[i,r]):i=LL([i,r])}return i},Lse={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Ke({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:i,funcName:r}=t,n=r;return n.length===1&&(n=Lse[n]),{type:"op",mode:i.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:G0,mathmlBuilder:Tp});Ke({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:i}=t,r=e[0];return{type:"op",mode:i.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:$i(r)}},htmlBuilder:G0,mathmlBuilder:Tp});var Bse={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Ke({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:i}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:i}},htmlBuilder:G0,mathmlBuilder:Tp});Ke({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:i}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:i}},htmlBuilder:G0,mathmlBuilder:Tp});Ke({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:i}=t,r=i;return r.length===1&&(r=Bse[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:G0,mathmlBuilder:Tp});var nB=(t,e)=>{var i,r,n=!1,s;t.type==="supsub"?(i=t.sup,r=t.sub,s=Lt(t.base,"operatorname"),n=!0):s=Lt(t,"operatorname");var a;if(s.body.length>0){for(var o=s.body.map(d=>{var h=d.text;return typeof h=="string"?{type:"textord",mode:d.mode,text:h}:d}),l=ar(o,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof ss&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=se.makeSpan(["mop"],l,e)}else a=se.makeSpan(["mop"],[],e);return n?iB(a,i,r,e,e.style,0,0):a},Pse=(t,e)=>{for(var i=xn(t.body,e.withFont("mathrm")),r=!0,n=0;n<i.length;n++){var s=i[n];if(!(s instanceof Le.SpaceNode))if(s instanceof Le.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof Le.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=i.map(c=>c.toText()).join("");i=[new Le.TextNode(o)]}var l=new Le.MathNode("mi",i);l.setAttribute("mathvariant","normal");var u=new Le.MathNode("mo",[as("⁡","text")]);return t.parentIsSupSub?new Le.MathNode("mrow",[l,u]):Le.newDocumentFragment([l,u])};Ke({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:i,funcName:r}=t,n=e[0];return{type:"operatorname",mode:i.mode,body:$i(n),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:nB,mathmlBuilder:Pse});I("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Uu({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?se.makeFragment(ar(t.body,e,!1)):se.makeSpan(["mord"],ar(t.body,e,!0),e)},mathmlBuilder(t,e){return ml(t.body,e,!0)}});Ke({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:i}=t,r=e[0];return{type:"overline",mode:i.mode,body:r}},htmlBuilder(t,e){var i=Kt(t.body,e.havingCrampedStyle()),r=se.makeLineSpan("overline-line",e),n=e.fontMetrics().defaultRuleThickness,s=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:3*n},{type:"elem",elem:r},{type:"kern",size:n}]},e);return se.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var i=new Le.MathNode("mo",[new Le.TextNode("‾")]);i.setAttribute("stretchy","true");var r=new Le.MathNode("mover",[hi(t.body,e),i]);return r.setAttribute("accent","true"),r}});Ke({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,r=e[0];return{type:"phantom",mode:i.mode,body:$i(r)}},htmlBuilder:(t,e)=>{var i=ar(t.body,e.withPhantom(),!1);return se.makeFragment(i)},mathmlBuilder:(t,e)=>{var i=xn(t.body,e);return new Le.MathNode("mphantom",i)}});Ke({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,r=e[0];return{type:"hphantom",mode:i.mode,body:r}},htmlBuilder:(t,e)=>{var i=se.makeSpan([],[Kt(t.body,e.withPhantom())]);if(i.height=0,i.depth=0,i.children)for(var r=0;r<i.children.length;r++)i.children[r].height=0,i.children[r].depth=0;return i=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},e),se.makeSpan(["mord"],[i],e)},mathmlBuilder:(t,e)=>{var i=xn($i(t.body),e),r=new Le.MathNode("mphantom",i),n=new Le.MathNode("mpadded",[r]);return n.setAttribute("height","0px"),n.setAttribute("depth","0px"),n}});Ke({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,r=e[0];return{type:"vphantom",mode:i.mode,body:r}},htmlBuilder:(t,e)=>{var i=se.makeSpan(["inner"],[Kt(t.body,e.withPhantom())]),r=se.makeSpan(["fix"],[]);return se.makeSpan(["mord","rlap"],[i,r],e)},mathmlBuilder:(t,e)=>{var i=xn($i(t.body),e),r=new Le.MathNode("mphantom",i),n=new Le.MathNode("mpadded",[r]);return n.setAttribute("width","0px"),n}});Ke({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:i}=t,r=Lt(e[0],"size").value,n=e[1];return{type:"raisebox",mode:i.mode,dy:r,body:n}},htmlBuilder(t,e){var i=Kt(t.body,e),r=Ci(t.dy,e);return se.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:i}]},e)},mathmlBuilder(t,e){var i=new Le.MathNode("mpadded",[hi(t.body,e)]),r=t.dy.number+t.dy.unit;return i.setAttribute("voffset",r),i}});Ke({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Ke({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,i){var{parser:r}=t,n=i[0],s=Lt(e[0],"size"),a=Lt(e[1],"size");return{type:"rule",mode:r.mode,shift:n&&Lt(n,"size").value,width:s.value,height:a.value}},htmlBuilder(t,e){var i=se.makeSpan(["mord","rule"],[],e),r=Ci(t.width,e),n=Ci(t.height,e),s=t.shift?Ci(t.shift,e):0;return i.style.borderRightWidth=Fe(r),i.style.borderTopWidth=Fe(n),i.style.bottom=Fe(s),i.width=r,i.height=n+s,i.depth=-s,i.maxFontSize=n*1.125*e.sizeMultiplier,i},mathmlBuilder(t,e){var i=Ci(t.width,e),r=Ci(t.height,e),n=t.shift?Ci(t.shift,e):0,s=e.color&&e.getColor()||"black",a=new Le.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",Fe(i)),a.setAttribute("height",Fe(r));var o=new Le.MathNode("mpadded",[a]);return n>=0?o.setAttribute("height",Fe(n)):(o.setAttribute("height",Fe(n)),o.setAttribute("depth",Fe(-n))),o.setAttribute("voffset",Fe(n)),o}});function sB(t,e,i){for(var r=ar(t,e,!1),n=e.sizeMultiplier/i.sizeMultiplier,s=0;s<r.length;s++){var a=r[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(i)):r[s].classes[a+1]==="reset-size"+e.size&&(r[s].classes[a+1]="reset-size"+i.size),r[s].height*=n,r[s].depth*=n}return se.makeFragment(r)}var h9=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Ise=(t,e)=>{var i=e.havingSize(t.size);return sB(t.body,i,e)};Ke({type:"sizing",names:h9,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:i,funcName:r,parser:n}=t,s=n.parseExpression(!1,i);return{type:"sizing",mode:n.mode,size:h9.indexOf(r)+1,body:s}},htmlBuilder:Ise,mathmlBuilder:(t,e)=>{var i=e.havingSize(t.size),r=xn(t.body,i),n=new Le.MathNode("mstyle",r);return n.setAttribute("mathsize",Fe(i.sizeMultiplier)),n}});Ke({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,i)=>{var{parser:r}=t,n=!1,s=!1,a=i[0]&&Lt(i[0],"ordgroup");if(a)for(var o="",l=0;l<a.body.length;++l){var u=a.body[l];if(o=u.text,o==="t")n=!0;else if(o==="b")s=!0;else{n=!1,s=!1;break}}else n=!0,s=!0;var c=e[0];return{type:"smash",mode:r.mode,body:c,smashHeight:n,smashDepth:s}},htmlBuilder:(t,e)=>{var i=se.makeSpan([],[Kt(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return i;if(t.smashHeight&&(i.height=0,i.children))for(var r=0;r<i.children.length;r++)i.children[r].height=0;if(t.smashDepth&&(i.depth=0,i.children))for(var n=0;n<i.children.length;n++)i.children[n].depth=0;var s=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},e);return se.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var i=new Le.MathNode("mpadded",[hi(t.body,e)]);return t.smashHeight&&i.setAttribute("height","0px"),t.smashDepth&&i.setAttribute("depth","0px"),i}});Ke({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,i){var{parser:r}=t,n=i[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:n}},htmlBuilder(t,e){var i=Kt(t.body,e.havingCrampedStyle());i.height===0&&(i.height=e.fontMetrics().xHeight),i=se.wrapFragment(i,e);var r=e.fontMetrics(),n=r.defaultRuleThickness,s=n;e.style.id<pt.TEXT.id&&(s=e.fontMetrics().xHeight);var a=n+s/4,o=i.height+i.depth+a+n,{span:l,ruleWidth:u,advanceWidth:c}=Ga.sqrtImage(o,e),d=l.height-u;d>i.height+i.depth+a&&(a=(a+d-i.height-i.depth)/2);var h=l.height-i.height-a-u;i.style.paddingLeft=Fe(c);var f=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:-(i.height+h)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var g=e.havingStyle(pt.SCRIPTSCRIPT),y=Kt(t.index,g,e),C=.6*(f.height-f.depth),S=se.makeVList({positionType:"shift",positionData:-C,children:[{type:"elem",elem:y}]},e),A=se.makeSpan(["root"],[S]);return se.makeSpan(["mord","sqrt"],[A,f],e)}else return se.makeSpan(["mord","sqrt"],[f],e)},mathmlBuilder(t,e){var{body:i,index:r}=t;return r?new Le.MathNode("mroot",[hi(i,e),hi(r,e)]):new Le.MathNode("msqrt",[hi(i,e)])}});var p9={display:pt.DISPLAY,text:pt.TEXT,script:pt.SCRIPT,scriptscript:pt.SCRIPTSCRIPT};Ke({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:i,funcName:r,parser:n}=t,s=n.parseExpression(!0,i),a=r.slice(1,r.length-5);return{type:"styling",mode:n.mode,style:a,body:s}},htmlBuilder(t,e){var i=p9[t.style],r=e.havingStyle(i).withFont("");return sB(t.body,r,e)},mathmlBuilder(t,e){var i=p9[t.style],r=e.havingStyle(i),n=xn(t.body,r),s=new Le.MathNode("mstyle",n),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=a[t.style];return s.setAttribute("scriptlevel",o[0]),s.setAttribute("displaystyle",o[1]),s}});var Rse=function(e,i){var r=e.base;if(r)if(r.type==="op"){var n=r.limits&&(i.style.size===pt.DISPLAY.size||r.alwaysHandleSupSub);return n?G0:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(i.style.size===pt.DISPLAY.size||r.limits);return s?nB:null}else{if(r.type==="accent")return lt.isCharacterBox(r.base)?r6:null;if(r.type==="horizBrace"){var a=!e.sub;return a===r.isOver?tB:null}else return null}else return null};Uu({type:"supsub",htmlBuilder(t,e){var i=Rse(t,e);if(i)return i(t,e);var{base:r,sup:n,sub:s}=t,a=Kt(r,e),o,l,u=e.fontMetrics(),c=0,d=0,h=r&&lt.isCharacterBox(r);if(n){var f=e.havingStyle(e.style.sup());o=Kt(n,f,e),h||(c=a.height-f.fontMetrics().supDrop*f.sizeMultiplier/e.sizeMultiplier)}if(s){var g=e.havingStyle(e.style.sub());l=Kt(s,g,e),h||(d=a.depth+g.fontMetrics().subDrop*g.sizeMultiplier/e.sizeMultiplier)}var y;e.style===pt.DISPLAY?y=u.sup1:e.style.cramped?y=u.sup3:y=u.sup2;var C=e.sizeMultiplier,S=Fe(.5/u.ptPerEm/C),A=null;if(l){var T=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof ss||T)&&(A=Fe(-a.italic))}var M;if(o&&l){c=Math.max(c,y,o.depth+.25*u.xHeight),d=Math.max(d,u.sub2);var D=u.defaultRuleThickness,B=4*D;if(c-o.depth-(l.height-d)<B){d=B-(c-o.depth)+l.height;var F=.8*u.xHeight-(c-o.depth);F>0&&(c+=F,d-=F)}var V=[{type:"elem",elem:l,shift:d,marginRight:S,marginLeft:A},{type:"elem",elem:o,shift:-c,marginRight:S}];M=se.makeVList({positionType:"individualShift",children:V},e)}else if(l){d=Math.max(d,u.sub1,l.height-.8*u.xHeight);var O=[{type:"elem",elem:l,marginLeft:A,marginRight:S}];M=se.makeVList({positionType:"shift",positionData:d,children:O},e)}else if(o)c=Math.max(c,y,o.depth+.25*u.xHeight),M=se.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:o,marginRight:S}]},e);else throw new Error("supsub must have either sup or sub.");var U=S5(a,"right")||"mord";return se.makeSpan([U],[a,se.makeSpan(["msupsub"],[M])],e)},mathmlBuilder(t,e){var i=!1,r,n;t.base&&t.base.type==="horizBrace"&&(n=!!t.sup,n===t.base.isOver&&(i=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[hi(t.base,e)];t.sub&&s.push(hi(t.sub,e)),t.sup&&s.push(hi(t.sup,e));var a;if(i)a=r?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===pt.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===pt.DISPLAY||u.limits)?a="munderover":a="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===pt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===pt.DISPLAY)?a="munder":a="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===pt.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===pt.DISPLAY)?a="mover":a="msup"}return new Le.MathNode(a,s)}});Uu({type:"atom",htmlBuilder(t,e){return se.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var i=new Le.MathNode("mo",[as(t.text,t.mode)]);if(t.family==="bin"){var r=t6(t,e);r==="bold-italic"&&i.setAttribute("mathvariant",r)}else t.family==="punct"?i.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&i.setAttribute("stretchy","false");return i}});var aB={mi:"italic",mn:"normal",mtext:"normal"};Uu({type:"mathord",htmlBuilder(t,e){return se.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var i=new Le.MathNode("mi",[as(t.text,t.mode,e)]),r=t6(t,e)||"italic";return r!==aB[i.type]&&i.setAttribute("mathvariant",r),i}});Uu({type:"textord",htmlBuilder(t,e){return se.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var i=as(t.text,t.mode,e),r=t6(t,e)||"normal",n;return t.mode==="text"?n=new Le.MathNode("mtext",[i]):/[0-9]/.test(t.text)?n=new Le.MathNode("mn",[i]):t.text==="\\prime"?n=new Le.MathNode("mo",[i]):n=new Le.MathNode("mi",[i]),r!==aB[n.type]&&n.setAttribute("mathvariant",r),n}});var p3={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},f3={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Uu({type:"spacing",htmlBuilder(t,e){if(f3.hasOwnProperty(t.text)){var i=f3[t.text].className||"";if(t.mode==="text"){var r=se.makeOrd(t,e,"textord");return r.classes.push(i),r}else return se.makeSpan(["mspace",i],[se.mathsym(t.text,t.mode,e)],e)}else{if(p3.hasOwnProperty(t.text))return se.makeSpan(["mspace",p3[t.text]],[],e);throw new Be('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var i;if(f3.hasOwnProperty(t.text))i=new Le.MathNode("mtext",[new Le.TextNode(" ")]);else{if(p3.hasOwnProperty(t.text))return new Le.MathNode("mspace");throw new Be('Unknown type of space "'+t.text+'"')}return i}});var f9=()=>{var t=new Le.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Uu({type:"tag",mathmlBuilder(t,e){var i=new Le.MathNode("mtable",[new Le.MathNode("mtr",[f9(),new Le.MathNode("mtd",[ml(t.body,e)]),f9(),new Le.MathNode("mtd",[ml(t.tag,e)])])]);return i.setAttribute("width","100%"),i}});var m9={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},g9={"\\textbf":"textbf","\\textmd":"textmd"},Ose={"\\textit":"textit","\\textup":"textup"},y9=(t,e)=>{var i=t.font;if(i){if(m9[i])return e.withTextFontFamily(m9[i]);if(g9[i])return e.withTextFontWeight(g9[i]);if(i==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(Ose[i])};Ke({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:i,funcName:r}=t,n=e[0];return{type:"text",mode:i.mode,body:$i(n),font:r}},htmlBuilder(t,e){var i=y9(t,e),r=ar(t.body,i,!0);return se.makeSpan(["mord","text"],r,i)},mathmlBuilder(t,e){var i=y9(t,e);return ml(t.body,i)}});Ke({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"underline",mode:i.mode,body:e[0]}},htmlBuilder(t,e){var i=Kt(t.body,e),r=se.makeLineSpan("underline-line",e),n=e.fontMetrics().defaultRuleThickness,s=se.makeVList({positionType:"top",positionData:i.height,children:[{type:"kern",size:n},{type:"elem",elem:r},{type:"kern",size:3*n},{type:"elem",elem:i}]},e);return se.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var i=new Le.MathNode("mo",[new Le.TextNode("‾")]);i.setAttribute("stretchy","true");var r=new Le.MathNode("munder",[hi(t.body,e),i]);return r.setAttribute("accentunder","true"),r}});Ke({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:i}=t;return{type:"vcenter",mode:i.mode,body:e[0]}},htmlBuilder(t,e){var i=Kt(t.body,e),r=e.fontMetrics().axisHeight,n=.5*(i.height-r-(i.depth+r));return se.makeVList({positionType:"shift",positionData:n,children:[{type:"elem",elem:i}]},e)},mathmlBuilder(t,e){return new Le.MathNode("mpadded",[hi(t.body,e)],["vcenter"])}});Ke({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,i){throw new Be("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var i=v9(t),r=[],n=e.havingStyle(e.style.text()),s=0;s<i.length;s++){var a=i[s];a==="~"&&(a="\\textasciitilde"),r.push(se.makeSymbol(a,"Typewriter-Regular",t.mode,n,["mord","texttt"]))}return se.makeSpan(["mord","text"].concat(n.sizingClasses(e)),se.tryCombineChars(r),n)},mathmlBuilder(t,e){var i=new Le.TextNode(v9(t)),r=new Le.MathNode("mtext",[i]);return r.setAttribute("mathvariant","monospace"),r}});var v9=t=>t.body.replace(/ /g,t.star?"␣":" "),il=ML,oB=`[ \r
	]`,Fse="\\\\[a-zA-Z@]+",Nse="\\\\[^\uD800-\uDFFF]",$se="("+Fse+")"+oB+"*",zse=`\\\\(
|[ \r	]+
?)[ \r	]*`,E5="[̀-ͯ]",Use=new RegExp(E5+"+$"),qse="("+oB+"+)|"+(zse+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(E5+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(E5+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+$se)+("|"+Nse+")");class b9{constructor(e,i){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=i,this.tokenRegex=new RegExp(qse,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,i){this.catcodes[e]=i}lex(){var e=this.input,i=this.tokenRegex.lastIndex;if(i===e.length)return new es("EOF",new An(this,i,i));var r=this.tokenRegex.exec(e);if(r===null||r.index!==i)throw new Be("Unexpected character: '"+e[i]+"'",new es(e[i],new An(this,i,i+1)));var n=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[n]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new es(n,new An(this,i,this.tokenRegex.lastIndex))}}class jse{constructor(e,i){e===void 0&&(e={}),i===void 0&&(i={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=i,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Be("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var i in e)e.hasOwnProperty(i)&&(e[i]==null?delete this.current[i]:this.current[i]=e[i])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,i,r){if(r===void 0&&(r=!1),r){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=i)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}i==null?delete this.current[e]:this.current[e]=i}}var Vse=YL;I("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});I("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});I("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});I("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});I("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var i=t.future();return e[0].length===1&&e[0][0].text===i.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});I("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");I("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var x9={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};I("\\char",function(t){var e=t.popToken(),i,r="";if(e.text==="'")i=8,e=t.popToken();else if(e.text==='"')i=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Be("\\char` missing argument");r=e.text.charCodeAt(0)}else i=10;if(i){if(r=x9[e.text],r==null||r>=i)throw new Be("Invalid base-"+i+" digit "+e.text);for(var n;(n=x9[t.future().text])!=null&&n<i;)r*=i,r+=n,t.popToken()}return"\\@char{"+r+"}"});var d6=(t,e,i)=>{var r=t.consumeArg().tokens;if(r.length!==1)throw new Be("\\newcommand's first argument must be a macro name");var n=r[0].text,s=t.isDefined(n);if(s&&!e)throw new Be("\\newcommand{"+n+"} attempting to redefine "+(n+"; use \\renewcommand"));if(!s&&!i)throw new Be("\\renewcommand{"+n+"} when command "+n+" does not yet exist; use \\newcommand");var a=0;if(r=t.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var o="",l=t.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=t.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new Be("Invalid number of arguments: "+o);a=parseInt(o),r=t.consumeArg().tokens}return t.macros.set(n,{tokens:r,numArgs:a}),""};I("\\newcommand",t=>d6(t,!1,!0));I("\\renewcommand",t=>d6(t,!0,!1));I("\\providecommand",t=>d6(t,!0,!0));I("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(i=>i.text).join("")),""});I("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(i=>i.text).join("")),""});I("\\show",t=>{var e=t.popToken(),i=e.text;return console.log(e,t.macros.get(i),il[i],gi.math[i],gi.text[i]),""});I("\\bgroup","{");I("\\egroup","}");I("~","\\nobreakspace");I("\\lq","`");I("\\rq","'");I("\\aa","\\r a");I("\\AA","\\r A");I("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");I("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");I("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");I("ℬ","\\mathscr{B}");I("ℰ","\\mathscr{E}");I("ℱ","\\mathscr{F}");I("ℋ","\\mathscr{H}");I("ℐ","\\mathscr{I}");I("ℒ","\\mathscr{L}");I("ℳ","\\mathscr{M}");I("ℛ","\\mathscr{R}");I("ℭ","\\mathfrak{C}");I("ℌ","\\mathfrak{H}");I("ℨ","\\mathfrak{Z}");I("\\Bbbk","\\Bbb{k}");I("·","\\cdotp");I("\\llap","\\mathllap{\\textrm{#1}}");I("\\rlap","\\mathrlap{\\textrm{#1}}");I("\\clap","\\mathclap{\\textrm{#1}}");I("\\mathstrut","\\vphantom{(}");I("\\underbar","\\underline{\\text{#1}}");I("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');I("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");I("\\ne","\\neq");I("≠","\\neq");I("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");I("∉","\\notin");I("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");I("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");I("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");I("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");I("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");I("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");I("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");I("⟂","\\perp");I("‼","\\mathclose{!\\mkern-0.8mu!}");I("∌","\\notni");I("⌜","\\ulcorner");I("⌝","\\urcorner");I("⌞","\\llcorner");I("⌟","\\lrcorner");I("©","\\copyright");I("®","\\textregistered");I("️","\\textregistered");I("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');I("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');I("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');I("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');I("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");I("⋮","\\vdots");I("\\varGamma","\\mathit{\\Gamma}");I("\\varDelta","\\mathit{\\Delta}");I("\\varTheta","\\mathit{\\Theta}");I("\\varLambda","\\mathit{\\Lambda}");I("\\varXi","\\mathit{\\Xi}");I("\\varPi","\\mathit{\\Pi}");I("\\varSigma","\\mathit{\\Sigma}");I("\\varUpsilon","\\mathit{\\Upsilon}");I("\\varPhi","\\mathit{\\Phi}");I("\\varPsi","\\mathit{\\Psi}");I("\\varOmega","\\mathit{\\Omega}");I("\\substack","\\begin{subarray}{c}#1\\end{subarray}");I("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");I("\\boxed","\\fbox{$\\displaystyle{#1}$}");I("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");I("\\implies","\\DOTSB\\;\\Longrightarrow\\;");I("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var _9={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};I("\\dots",function(t){var e="\\dotso",i=t.expandAfterFuture().text;return i in _9?e=_9[i]:(i.slice(0,4)==="\\not"||i in gi.math&&lt.contains(["bin","rel"],gi.math[i].group))&&(e="\\dotsb"),e});var h6={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};I("\\dotso",function(t){var e=t.future().text;return e in h6?"\\ldots\\,":"\\ldots"});I("\\dotsc",function(t){var e=t.future().text;return e in h6&&e!==","?"\\ldots\\,":"\\ldots"});I("\\cdots",function(t){var e=t.future().text;return e in h6?"\\@cdots\\,":"\\@cdots"});I("\\dotsb","\\cdots");I("\\dotsm","\\cdots");I("\\dotsi","\\!\\cdots");I("\\dotsx","\\ldots\\,");I("\\DOTSI","\\relax");I("\\DOTSB","\\relax");I("\\DOTSX","\\relax");I("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");I("\\,","\\tmspace+{3mu}{.1667em}");I("\\thinspace","\\,");I("\\>","\\mskip{4mu}");I("\\:","\\tmspace+{4mu}{.2222em}");I("\\medspace","\\:");I("\\;","\\tmspace+{5mu}{.2777em}");I("\\thickspace","\\;");I("\\!","\\tmspace-{3mu}{.1667em}");I("\\negthinspace","\\!");I("\\negmedspace","\\tmspace-{4mu}{.2222em}");I("\\negthickspace","\\tmspace-{5mu}{.277em}");I("\\enspace","\\kern.5em ");I("\\enskip","\\hskip.5em\\relax");I("\\quad","\\hskip1em\\relax");I("\\qquad","\\hskip2em\\relax");I("\\tag","\\@ifstar\\tag@literal\\tag@paren");I("\\tag@paren","\\tag@literal{({#1})}");I("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Be("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});I("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");I("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");I("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");I("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");I("\\newline","\\\\\\relax");I("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var lB=Fe(ea["Main-Regular"][84][1]-.7*ea["Main-Regular"][65][1]);I("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+lB+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");I("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+lB+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");I("\\hspace","\\@ifstar\\@hspacer\\@hspace");I("\\@hspace","\\hskip #1\\relax");I("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");I("\\ordinarycolon",":");I("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");I("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');I("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');I("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');I("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');I("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');I("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');I("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');I("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');I("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');I("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');I("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');I("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');I("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');I("∷","\\dblcolon");I("∹","\\eqcolon");I("≔","\\coloneqq");I("≕","\\eqqcolon");I("⩴","\\Coloneqq");I("\\ratio","\\vcentcolon");I("\\coloncolon","\\dblcolon");I("\\colonequals","\\coloneqq");I("\\coloncolonequals","\\Coloneqq");I("\\equalscolon","\\eqqcolon");I("\\equalscoloncolon","\\Eqqcolon");I("\\colonminus","\\coloneq");I("\\coloncolonminus","\\Coloneq");I("\\minuscolon","\\eqcolon");I("\\minuscoloncolon","\\Eqcolon");I("\\coloncolonapprox","\\Colonapprox");I("\\coloncolonsim","\\Colonsim");I("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");I("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");I("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");I("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");I("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");I("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");I("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");I("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");I("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");I("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");I("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");I("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");I("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");I("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");I("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");I("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");I("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");I("\\nleqq","\\html@mathml{\\@nleqq}{≰}");I("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");I("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");I("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");I("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");I("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");I("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");I("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");I("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");I("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");I("\\imath","\\html@mathml{\\@imath}{ı}");I("\\jmath","\\html@mathml{\\@jmath}{ȷ}");I("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");I("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");I("⟦","\\llbracket");I("⟧","\\rrbracket");I("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");I("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");I("⦃","\\lBrace");I("⦄","\\rBrace");I("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");I("⦵","\\minuso");I("\\darr","\\downarrow");I("\\dArr","\\Downarrow");I("\\Darr","\\Downarrow");I("\\lang","\\langle");I("\\rang","\\rangle");I("\\uarr","\\uparrow");I("\\uArr","\\Uparrow");I("\\Uarr","\\Uparrow");I("\\N","\\mathbb{N}");I("\\R","\\mathbb{R}");I("\\Z","\\mathbb{Z}");I("\\alef","\\aleph");I("\\alefsym","\\aleph");I("\\Alpha","\\mathrm{A}");I("\\Beta","\\mathrm{B}");I("\\bull","\\bullet");I("\\Chi","\\mathrm{X}");I("\\clubs","\\clubsuit");I("\\cnums","\\mathbb{C}");I("\\Complex","\\mathbb{C}");I("\\Dagger","\\ddagger");I("\\diamonds","\\diamondsuit");I("\\empty","\\emptyset");I("\\Epsilon","\\mathrm{E}");I("\\Eta","\\mathrm{H}");I("\\exist","\\exists");I("\\harr","\\leftrightarrow");I("\\hArr","\\Leftrightarrow");I("\\Harr","\\Leftrightarrow");I("\\hearts","\\heartsuit");I("\\image","\\Im");I("\\infin","\\infty");I("\\Iota","\\mathrm{I}");I("\\isin","\\in");I("\\Kappa","\\mathrm{K}");I("\\larr","\\leftarrow");I("\\lArr","\\Leftarrow");I("\\Larr","\\Leftarrow");I("\\lrarr","\\leftrightarrow");I("\\lrArr","\\Leftrightarrow");I("\\Lrarr","\\Leftrightarrow");I("\\Mu","\\mathrm{M}");I("\\natnums","\\mathbb{N}");I("\\Nu","\\mathrm{N}");I("\\Omicron","\\mathrm{O}");I("\\plusmn","\\pm");I("\\rarr","\\rightarrow");I("\\rArr","\\Rightarrow");I("\\Rarr","\\Rightarrow");I("\\real","\\Re");I("\\reals","\\mathbb{R}");I("\\Reals","\\mathbb{R}");I("\\Rho","\\mathrm{P}");I("\\sdot","\\cdot");I("\\sect","\\S");I("\\spades","\\spadesuit");I("\\sub","\\subset");I("\\sube","\\subseteq");I("\\supe","\\supseteq");I("\\Tau","\\mathrm{T}");I("\\thetasym","\\vartheta");I("\\weierp","\\wp");I("\\Zeta","\\mathrm{Z}");I("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");I("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");I("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");I("\\bra","\\mathinner{\\langle{#1}|}");I("\\ket","\\mathinner{|{#1}\\rangle}");I("\\braket","\\mathinner{\\langle{#1}\\rangle}");I("\\Bra","\\left\\langle#1\\right|");I("\\Ket","\\left|#1\\right\\rangle");var uB=t=>e=>{var i=e.consumeArg().tokens,r=e.consumeArg().tokens,n=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=d=>h=>{t&&(h.macros.set("|",a),n.length&&h.macros.set("\\|",o));var f=d;if(!d&&n.length){var g=h.future();g.text==="|"&&(h.popToken(),f=!0)}return{tokens:f?n:r,numArgs:0}};e.macros.set("|",l(!1)),n.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,c=e.expandTokens([...s,...u,...i]);return e.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};I("\\bra@ket",uB(!1));I("\\bra@set",uB(!0));I("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");I("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");I("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");I("\\angln","{\\angl n}");I("\\blue","\\textcolor{##6495ed}{#1}");I("\\orange","\\textcolor{##ffa500}{#1}");I("\\pink","\\textcolor{##ff00af}{#1}");I("\\red","\\textcolor{##df0030}{#1}");I("\\green","\\textcolor{##28ae7b}{#1}");I("\\gray","\\textcolor{gray}{#1}");I("\\purple","\\textcolor{##9d38bd}{#1}");I("\\blueA","\\textcolor{##ccfaff}{#1}");I("\\blueB","\\textcolor{##80f6ff}{#1}");I("\\blueC","\\textcolor{##63d9ea}{#1}");I("\\blueD","\\textcolor{##11accd}{#1}");I("\\blueE","\\textcolor{##0c7f99}{#1}");I("\\tealA","\\textcolor{##94fff5}{#1}");I("\\tealB","\\textcolor{##26edd5}{#1}");I("\\tealC","\\textcolor{##01d1c1}{#1}");I("\\tealD","\\textcolor{##01a995}{#1}");I("\\tealE","\\textcolor{##208170}{#1}");I("\\greenA","\\textcolor{##b6ffb0}{#1}");I("\\greenB","\\textcolor{##8af281}{#1}");I("\\greenC","\\textcolor{##74cf70}{#1}");I("\\greenD","\\textcolor{##1fab54}{#1}");I("\\greenE","\\textcolor{##0d923f}{#1}");I("\\goldA","\\textcolor{##ffd0a9}{#1}");I("\\goldB","\\textcolor{##ffbb71}{#1}");I("\\goldC","\\textcolor{##ff9c39}{#1}");I("\\goldD","\\textcolor{##e07d10}{#1}");I("\\goldE","\\textcolor{##a75a05}{#1}");I("\\redA","\\textcolor{##fca9a9}{#1}");I("\\redB","\\textcolor{##ff8482}{#1}");I("\\redC","\\textcolor{##f9685d}{#1}");I("\\redD","\\textcolor{##e84d39}{#1}");I("\\redE","\\textcolor{##bc2612}{#1}");I("\\maroonA","\\textcolor{##ffbde0}{#1}");I("\\maroonB","\\textcolor{##ff92c6}{#1}");I("\\maroonC","\\textcolor{##ed5fa6}{#1}");I("\\maroonD","\\textcolor{##ca337c}{#1}");I("\\maroonE","\\textcolor{##9e034e}{#1}");I("\\purpleA","\\textcolor{##ddd7ff}{#1}");I("\\purpleB","\\textcolor{##c6b9fc}{#1}");I("\\purpleC","\\textcolor{##aa87ff}{#1}");I("\\purpleD","\\textcolor{##7854ab}{#1}");I("\\purpleE","\\textcolor{##543b78}{#1}");I("\\mintA","\\textcolor{##f5f9e8}{#1}");I("\\mintB","\\textcolor{##edf2df}{#1}");I("\\mintC","\\textcolor{##e0e5cc}{#1}");I("\\grayA","\\textcolor{##f6f7f7}{#1}");I("\\grayB","\\textcolor{##f0f1f2}{#1}");I("\\grayC","\\textcolor{##e3e5e6}{#1}");I("\\grayD","\\textcolor{##d6d8da}{#1}");I("\\grayE","\\textcolor{##babec2}{#1}");I("\\grayF","\\textcolor{##888d93}{#1}");I("\\grayG","\\textcolor{##626569}{#1}");I("\\grayH","\\textcolor{##3b3e40}{#1}");I("\\grayI","\\textcolor{##21242c}{#1}");I("\\kaBlue","\\textcolor{##314453}{#1}");I("\\kaGreen","\\textcolor{##71B307}{#1}");var cB={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Hse{constructor(e,i,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=i,this.expansionCount=0,this.feed(e),this.macros=new jse(Vse,i.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new b9(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var i,r,n;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;i=this.popToken(),{tokens:n,end:r}=this.consumeArg(["]"])}else({tokens:n,start:i,end:r}=this.consumeArg());return this.pushToken(new es("EOF",r.loc)),this.pushTokens(n),i.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var i=[],r=e&&e.length>0;r||this.consumeSpaces();var n=this.future(),s,a=0,o=0;do{if(s=this.popToken(),i.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new Be("Extra }",s)}else if(s.text==="EOF")throw new Be("Unexpected end of input in a macro argument, expected '"+(e&&r?e[o]:"}")+"'",s);if(e&&r)if((a===0||a===1&&e[o]==="{")&&s.text===e[o]){if(++o,o===e.length){i.splice(-o,o);break}}else o=0}while(a!==0||r);return n.text==="{"&&i[i.length-1].text==="}"&&(i.pop(),i.shift()),i.reverse(),{tokens:i,start:n,end:s}}consumeArgs(e,i){if(i){if(i.length!==e+1)throw new Be("The length of delimiters doesn't match the number of args!");for(var r=i[0],n=0;n<r.length;n++){var s=this.popToken();if(r[n]!==s.text)throw new Be("Use of the macro doesn't match its definition",s)}}for(var a=[],o=0;o<e;o++)a.push(this.consumeArg(i&&i[o+1]).tokens);return a}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Be("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var i=this.popToken(),r=i.text,n=i.noexpand?null:this._getExpansion(r);if(n==null||e&&n.unexpandable){if(e&&n==null&&r[0]==="\\"&&!this.isDefined(r))throw new Be("Undefined control sequence: "+r);return this.pushToken(i),!1}this.countExpansion(1);var s=n.tokens,a=this.consumeArgs(n.numArgs,n.delimiters);if(n.numArgs){s=s.slice();for(var o=s.length-1;o>=0;--o){var l=s[o];if(l.text==="#"){if(o===0)throw new Be("Incomplete placeholder at end of macro body",l);if(l=s[--o],l.text==="#")s.splice(o+1,1);else if(/^[1-9]$/.test(l.text))s.splice(o,2,...a[+l.text-1]);else throw new Be("Not a valid argument number",l)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new es(e)]):void 0}expandTokens(e){var i=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var n=this.stack.pop();n.treatAsRelax&&(n.noexpand=!1,n.treatAsRelax=!1),i.push(n)}return this.countExpansion(i.length),i}expandMacroAsText(e){var i=this.expandMacro(e);return i&&i.map(r=>r.text).join("")}_getExpansion(e){var i=this.macros.get(e);if(i==null)return i;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var n=typeof i=="function"?i(this):i;if(typeof n=="string"){var s=0;if(n.indexOf("#")!==-1)for(var a=n.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var o=new b9(n,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var c={tokens:l,numArgs:s};return c}return n}isDefined(e){return this.macros.has(e)||il.hasOwnProperty(e)||gi.math.hasOwnProperty(e)||gi.text.hasOwnProperty(e)||cB.hasOwnProperty(e)}isExpandable(e){var i=this.macros.get(e);return i!=null?typeof i=="string"||typeof i=="function"||!i.unexpandable:il.hasOwnProperty(e)&&!il[e].primitive}}var w9=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,$f=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),m3={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},S9={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class k2{constructor(e,i){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Hse(e,i,this.mode),this.settings=i,this.leftrightDepth=0}expect(e,i){if(i===void 0&&(i=!0),this.fetch().text!==e)throw new Be("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());i&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var i=this.nextToken;this.consume(),this.gullet.pushToken(new es("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=i,r}parseExpression(e,i){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var n=this.fetch();if(k2.endOfExpression.indexOf(n.text)!==-1||i&&n.text===i||e&&il[n.text]&&il[n.text].infix)break;var s=this.parseAtom(i);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var i=-1,r,n=0;n<e.length;n++)if(e[n].type==="infix"){if(i!==-1)throw new Be("only one infix operator per group",e[n].token);i=n,r=e[n].replaceWith}if(i!==-1&&r){var s,a,o=e.slice(0,i),l=e.slice(i+1);o.length===1&&o[0].type==="ordgroup"?s=o[0]:s={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[s,e[i],a],[]):u=this.callFunction(r,[s,a],[]),[u]}else return e}handleSupSubscript(e){var i=this.fetch(),r=i.text;this.consume(),this.consumeSpaces();var n=this.parseGroup(e);if(!n)throw new Be("Expected group after '"+r+"'",i);return n}formatUnsupportedCmd(e){for(var i=[],r=0;r<e.length;r++)i.push({type:"textord",mode:"text",text:e[r]});var n={type:"text",mode:this.mode,body:i},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]};return s}parseAtom(e){var i=this.parseGroup("atom",e);if(this.mode==="text")return i;for(var r,n;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(i&&i.type==="op"){var a=s.text==="\\limits";i.limits=a,i.alwaysHandleSupSub=!0}else if(i&&i.type==="operatorname")i.alwaysHandleSupSub&&(i.limits=s.text==="\\limits");else throw new Be("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new Be("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(n)throw new Be("Double subscript",s);n=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new Be("Double superscript",s);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if($f[s.text]){var u=w9.test(s.text),c=[];for(c.push(new es($f[s.text])),this.consume();;){var d=this.fetch().text;if(!$f[d]||w9.test(d)!==u)break;c.unshift(new es($f[d])),this.consume()}var h=this.subparse(c);u?n={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||n?{type:"supsub",mode:this.mode,base:i,sup:r,sub:n}:i}parseFunction(e,i){var r=this.fetch(),n=r.text,s=il[n];if(!s)return null;if(this.consume(),i&&i!=="atom"&&!s.allowedInArgument)throw new Be("Got function '"+n+"' with no arguments"+(i?" as "+i:""),r);if(this.mode==="text"&&!s.allowedInText)throw new Be("Can't use function '"+n+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new Be("Can't use function '"+n+"' in math mode",r);var{args:a,optArgs:o}=this.parseArguments(n,s);return this.callFunction(n,a,o,r,e)}callFunction(e,i,r,n,s){var a={funcName:e,parser:this,token:n,breakOnTokenText:s},o=il[e];if(o&&o.handler)return o.handler(a,i,r);throw new Be("No function handler for "+e)}parseArguments(e,i){var r=i.numArgs+i.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var n=[],s=[],a=0;a<r;a++){var o=i.argTypes&&i.argTypes[a],l=a<i.numOptionalArgs;(i.primitive&&o==null||i.type==="sqrt"&&a===1&&s[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)s.push(u);else if(u!=null)n.push(u);else throw new Be("Null argument, please report this as a bug")}return{args:n,optArgs:s}}parseGroupOfType(e,i,r){switch(i){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,i);case"hbox":{var n=this.parseArgumentGroup(r,"text");return n!=null?{type:"styling",mode:n.mode,body:[n],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new Be("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new Be("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Be("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,i){var r=this.gullet.scanArgument(i);if(r==null)return null;for(var n="",s;(s=this.fetch()).text!=="EOF";)n+=s.text,this.consume();return this.consume(),r.text=n,r}parseRegexGroup(e,i){for(var r=this.fetch(),n=r,s="",a;(a=this.fetch()).text!=="EOF"&&e.test(s+a.text);)n=a,s+=n.text,this.consume();if(s==="")throw new Be("Invalid "+i+": '"+r.text+"'",r);return r.range(n,s)}parseColorGroup(e){var i=this.parseStringGroup("color",e);if(i==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(i.text);if(!r)throw new Be("Invalid color: '"+i.text+"'",i);var n=r[0];return/^[0-9a-f]{6}$/i.test(n)&&(n="#"+n),{type:"color-token",mode:this.mode,color:n}}parseSizeGroup(e){var i,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?i=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):i=this.parseStringGroup("size",e),!i)return null;!e&&i.text.length===0&&(i.text="0pt",r=!0);var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(i.text);if(!n)throw new Be("Invalid size: '"+i.text+"'",i);var s={number:+(n[1]+n[2]),unit:n[3]};if(!xL(s))throw new Be("Invalid unit: '"+s.unit+"'",i);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var i=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),i==null)return null;var r=i.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,i){var r=this.gullet.scanArgument(e);if(r==null)return null;var n=this.mode;i&&this.switchMode(i),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return i&&this.switchMode(n),a}parseGroup(e,i){var r=this.fetch(),n=r.text,s;if(n==="{"||n==="\\begingroup"){this.consume();var a=n==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:An.range(r,l),body:o,semisimple:n==="\\begingroup"||void 0}}else if(s=this.parseFunction(i,e)||this.parseSymbol(),s==null&&n[0]==="\\"&&!cB.hasOwnProperty(n)){if(this.settings.throwOnError)throw new Be("Undefined control sequence: "+n,r);s=this.formatUnsupportedCmd(n),this.consume()}return s}formLigatures(e){for(var i=e.length-1,r=0;r<i;++r){var n=e[r],s=n.text;s==="-"&&e[r+1].text==="-"&&(r+1<i&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:An.range(n,e[r+2]),text:"---"}),i-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:An.range(n,e[r+1]),text:"--"}),i-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:An.range(n,e[r+1]),text:s+s}),i-=1)}}parseSymbol(){var e=this.fetch(),i=e.text;if(/^\\verb[^a-zA-Z]/.test(i)){this.consume();var r=i.slice(5),n=r.charAt(0)==="*";if(n&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Be(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:n}}S9.hasOwnProperty(i[0])&&!gi[this.mode][i[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+i[0]+'" used in math mode',e),i=S9[i[0]]+i.slice(1));var s=Use.exec(i);s&&(i=i.substring(0,s.index),i==="i"?i="ı":i==="j"&&(i="ȷ"));var a;if(gi[this.mode][i]){this.settings.strict&&this.mode==="math"&&w5.indexOf(i)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+i[0]+'" used in math mode',e);var o=gi[this.mode][i].group,l=An.range(e),u;if(Pne.hasOwnProperty(o)){var c=o;u={type:"atom",mode:this.mode,family:c,loc:l,text:i}}else u={type:o,mode:this.mode,loc:l,text:i};a=u}else if(i.charCodeAt(0)>=128)this.settings.strict&&(bL(i.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+i[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+i[0]+'"'+(" ("+i.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:An.range(e),text:i};else return null;if(this.consume(),s)for(var d=0;d<s[0].length;d++){var h=s[0][d];if(!m3[h])throw new Be("Unknown accent ' "+h+"'",e);var f=m3[h][this.mode]||m3[h].text;if(!f)throw new Be("Accent "+h+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:An.range(e),label:f,isStretchy:!1,isShifty:!0,base:a}}return a}}k2.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var p6=function(e,i){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new k2(e,i);delete r.gullet.macros.current["\\df@tag"];var n=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!i.displayMode)throw new Be("\\tag works only in display equations");n=[{type:"tag",mode:"text",body:n,tag:r.subparse([new es("\\df@tag")])}]}return n},dB=function(e,i,r){i.textContent="";var n=f6(e,r).toNode();i.appendChild(n)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),dB=function(){throw new Be("KaTeX doesn't work in quirks mode.")});var Kse=function(e,i){var r=f6(e,i).toMarkup();return r},Wse=function(e,i){var r=new Xb(i);return p6(e,r)},hB=function(e,i,r){if(r.throwOnError||!(e instanceof Be))throw e;var n=se.makeSpan(["katex-error"],[new ss(i)]);return n.setAttribute("title",e.toString()),n.setAttribute("style","color:"+r.errorColor),n},f6=function(e,i){var r=new Xb(i);try{var n=p6(e,r);return ise(n,e,r)}catch(s){return hB(s,e,r)}},Gse=function(e,i){var r=new Xb(i);try{var n=p6(e,r);return rse(n,e,r)}catch(s){return hB(s,e,r)}},m6={version:"0.16.11",render:dB,renderToString:Kse,ParseError:Be,SETTINGS_SCHEMA:t1,__parse:Wse,__renderToDomTree:f6,__renderToHTMLTree:Gse,__setFontMetrics:Tne,__defineSymbol:_,__defineFunction:Ke,__defineMacro:I,__domTree:{Span:kp,Anchor:Jb,SymbolNode:ss,SvgNode:to,PathNode:fl,LineNode:_5}};function g6(t){return t=t.trim(),t=t.replace(/^\\\[(.*?)\\\]$/s,"$1"),t=Xse(t),t=t.replace(/\\displaystyle/g,""),t=t.replace(/%.*$/gm,""),t=t.replace(/\\label\{.*?\}/g,""),t=t.replace(/\\ref\{.*?\}/g,""),t}function Xse(t){const e=/\\displaystyle\{/g;let i;for(;(i=e.exec(t))!==null;){const r=i.index,n=r+i[0].length-1,s=Yse(t,n);if(s!==-1){const a=t.substring(n+1,s);t=t.slice(0,r)+a+t.slice(s+1),e.lastIndex=r+a.length}else break}return t}function Yse(t,e){let i=[];for(let r=e;r<t.length;r++)if(t[r]==="{")i.push("{");else if(t[r]==="}"&&(i.pop(),i.length===0))return r;return-1}function y6(t,e=16,i=36,r=50){const n={"\\int":2,"\\pmatrix":5,"\\text":1,"\\sin":1,"\\tan":1,"\\left":.5,"\\right":.5,"\\cdot":.2,"\\,":0};let s=0;for(const[u,c]of Object.entries(n)){const d=(t.match(new RegExp(u,"g"))||[]).length;s+=d*c}const a=t.replace(/\\[a-zA-Z]+/g,"").length;s+=a/10;const o=Math.sqrt(r/Math.max(s,r)),l=e*o;return Math.max(l,i)}const Zse={class:"fixed top-0 left-0 h-full w-full bg-black z-[100]"},Jse={key:0,class:"flex items-center justify-center h-full w-full"},Qse={key:1,class:"w-full"},eae=["innerHTML"],tae={class:"w-full h-[10rem] flex justify-center items-center mt-[3rem]"},C9=60,iae=st({__name:"FullScreenIntegral",props:{integral:{type:String,required:!0},author:{type:String},totalTime:{type:Number}},emits:["close"],setup(t,{emit:e}){const i=e,r=t,n=Xe(`text-[${C9}px]`),s=si(()=>{const g=g6(r.integral);return n.value=`text-[${y6(g,C9)}px]`,m6.renderToString(g,{throwOnError:!1,displayMode:!0})}),a=Xe(3),o=Xe(!1);let l=null,u=null;const c=Xe(r.totalTime),d=Xe(!1),h=()=>{u=setInterval(()=>{c.value?c.value--:(u&&clearInterval(u),d.value=!0)},1e3),d.value=!1},f=()=>{u&&clearInterval(u),d.value=!0};return qi(()=>{l=setInterval(()=>{a.value>1?a.value--:(l&&clearInterval(l),o.value=!0,h())},1e3)}),(g,y)=>(X(),ne("div",Zse,[m("button",{onClick:y[0]||(y[0]=C=>i("close")),class:"w-[5rem] aspect-square fixed right-[5rem] top-[5rem] fill-white"},y[2]||(y[2]=[sa('<svg width="134" height="134" viewBox="0 0 134 134" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full"><g clip-path="url(#clip0_286_9)"><rect x="-2.67847" y="6.51398" width="13" height="184.075" rx="6.5" transform="rotate(-45 -2.67847 6.51398)" fill="#F2F1F0"></rect><rect x="127.482" y="-2.67841" width="13" height="184.075" rx="6.5" transform="rotate(45 127.482 -2.67841)" fill="#F2F1F0"></rect></g><defs><clipPath id="clip0_286_9"><rect width="134" height="134" fill="white"></rect></clipPath></defs></svg>',1)])),ge(ua,{mode:"out-in","enter-active-class":"transition-opacity duration-500","leave-active-class":"transition-opacity duration-500","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:We(()=>[(X(),ne("div",{key:o.value?"content":"countdown"},[o.value?(X(),ne("div",Qse,[m("div",{class:Wt(["bg-white flex justify-center items-center text-black w-[70vw] h-[30rem] rounded-xl mx-auto mt-[10rem]",n.value])},[m("div",{innerHTML:s.value},null,8,eae)],2),m("div",tae,[m("div",{class:Wt(`h-full w-[30rem] flex justify-end items-center text-title font-heading ${c.value&&c.value>10?"text-white":"text-red"}`)},[m("p",null,ve(c.value&&Math.floor(c.value/60)+":"+(c.value%60<10?"0":"")+c.value%60),1),d.value?(X(),ne("button",{key:1,onClick:h,class:"h-[70%] aspect-square flex justify-center ml-[2rem]"},y[4]||(y[4]=[m("svg",{width:"32",height:"35",viewBox:"0 0 32 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full"},[m("path",{d:"M0.952706 1.36705C0.952706 0.597251 1.78604 0.116126 2.45271 0.501026L30.5477 16.7217C31.2144 17.1066 31.2144 18.0688 30.5477 18.4537L2.45271 34.6744C1.78604 35.0593 0.952707 34.5782 0.952707 33.8084L0.952706 1.36705Z",fill:"white"})],-1)]))):(X(),ne("button",{key:0,onClick:f,class:"h-[70%] aspect-square flex justify-center ml-[2rem]"},y[3]||(y[3]=[m("svg",{width:"28",height:"42",viewBox:"0 0 28 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full"},[m("rect",{x:"16.8864",y:"0.337891",width:"10.8162",height:"41.4622",rx:"2.35135",fill:"white"}),m("rect",{x:"0.662109",y:"0.337891",width:"10.8162",height:"41.4622",rx:"2.35135",fill:"white"})],-1)]))),m("button",{onClick:y[1]||(y[1]=()=>{f(),c.value=t.totalTime}),class:"h-[70%] aspect-square flex justify-center -ml-[1rem]"},y[5]||(y[5]=[m("svg",{width:"43",height:"44",viewBox:"0 0 43 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full"},[m("path",{d:"M40.0135 26.3365L35.8101 37.2872C35.5022 38.0894 34.7813 38.6598 33.9297 38.7748L16.4613 41.1346C15.6506 41.2441 14.8412 40.9243 14.3242 40.2903L3.25641 26.7162C2.72198 26.0607 2.58072 25.1687 2.88647 24.3802L9.29868 7.84342C9.59826 7.07082 10.2824 6.51295 11.0995 6.37497L28.659 3.40988C29.4542 3.27561 30.2627 3.55819 30.8011 4.15857L39.1584 13.478M39.1584 13.478L35.9826 2.51355M39.1584 13.478L29.2644 10.0007",stroke:"white","stroke-width":"4.7027","stroke-linecap":"round"})],-1)]))],2)])])):(X(),ne("div",Jse,[ge(ua,{mode:"out-in","enter-active-class":"transition-all duration-300","leave-active-class":"transition-all duration-300","enter-from-class":"opacity-0 scale-50","enter-to-class":"opacity-100 scale-100","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-50"},{default:We(()=>[(X(),ne("div",{key:a.value,class:"font-heading text-heading text-white text-center mt-[50vh] -translate-y-[50%]"},ve(a.value),1))]),_:1})]))]))]),_:1})]))}}),rae={class:"fixed top-0 left-0 h-full w-full bg-black z-[100]"},nae={class:"w-full"},sae=["innerHTML"],k9=60,aae=st({__name:"FullScreenSolution",props:{solution:{type:String,required:!0}},emits:["close"],setup(t,{emit:e}){const i=e,r=t,n=Xe(`text-[${k9}px]`),s=si(()=>{const a=g6(r.solution);return n.value=`text-[${y6(a,k9)}px]`,m6.renderToString(a,{throwOnError:!1,displayMode:!0})});return(a,o)=>(X(),ne("div",rae,[m("button",{onClick:o[0]||(o[0]=l=>i("close")),class:"w-[5rem] aspect-square fixed right-[5rem] top-[5rem] fill-white"},o[1]||(o[1]=[sa('<svg width="134" height="134" viewBox="0 0 134 134" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full"><g clip-path="url(#clip0_286_9)"><rect x="-2.67847" y="6.51398" width="13" height="184.075" rx="6.5" transform="rotate(-45 -2.67847 6.51398)" fill="#F2F1F0"></rect><rect x="127.482" y="-2.67841" width="13" height="184.075" rx="6.5" transform="rotate(45 127.482 -2.67841)" fill="#F2F1F0"></rect></g><defs><clipPath id="clip0_286_9"><rect width="134" height="134" fill="white"></rect></clipPath></defs></svg>',1)])),m("div",null,[m("div",nae,[m("div",{class:Wt(["bg-white flex justify-center items-center text-black w-[70vw] h-[30rem] rounded-xl mx-auto mt-[10rem]",n.value])},[m("div",{innerHTML:s.value},null,8,sae)],2)])])]))}}),oae={class:"px-[2rem] xl:px-[12rem] 2xl:px-[calc(50vw-65rem)] bg-pearl-white h-screen flex flex-col text-screenBlack font-body text-body overflow-x-hidden"},lae={class:"fixed top-0 left-0 z-[20] py-[4rem] flex items-center justify-start px-[2rem] xl:px-[12rem] 2xl:px-[calc(50vw-65rem)]"},uae={class:"w-max flex justify-start items-center bg-white p-6 rounded-xl"},cae={class:"relative flex flex-col justify-center flex-1 w-full"},dae={class:"w-full h-[10rem] flex justify-center items-center"},hae={class:"flex gap-[2rem] items-center"},pae={class:"flex px-[16rem] mt-[5rem]"},fae={class:"flex flex-col w-max"},mae={class:"font-heading text-heading text-primary"},gae={class:"flex justify-start items-center gap-[2rem]"},yae={class:"font-heading text-heading text-nowrap"},vae={class:"flex-1 h-full flex flex-col justify-between pt-[1rem] pb-[2rem]"},bae={class:"w-full flex justify-center items-center mt-[5rem] gap-[2rem]"},xae=st({__name:"SeriesPresentation",setup(t){Fu();const e=zg(),i=yL(),{currentSeriesName:r,series:n,timePerIntegral:s,tieBreakers:a,currentIntegralIndex:o,currentTieBreakerIndex:l}=Ui(i);qi(async()=>{await i.fetchSeries(e.params.competition,e.params.series),await i.fetchTieBreakers(e.params.competition)}),oo(()=>{i.$reset()});const u=si(()=>n.value[o.value]),c=si({get:()=>s.value,set:T=>{i.timePerIntegral=Number(T)}}),d=si({get:()=>l.value,set:T=>{(!Number(T)||Number(T)>=a.value.length)&&Ut().addToast({type:"error",title:"Tie-breaker doesn't exist",message:`Tie breaker nr ${T} doesn't exist. the number should be between 0 and ${a.value.length-1}`}),i.currentTieBreakerIndex=Number(T)}}),h=["translate-x-[150%]","translate-x-0","translate-x-0","-translate-x-[150%]"],f=["-translate-x-[150%]","translate-x-0","translate-x-0","translate-x-[150%]"],g=Xe(h),y=Xe(!1),C=Xe(!1),S=()=>{g.value=h,i.currentIntegralIndex<i.series.length-1&&i.currentIntegralIndex++},A=()=>{g.value=f,i.currentIntegralIndex&&i.currentIntegralIndex--};return(T,M)=>{const D=yn("RouterLink");return X(),ne("div",oae,[m("header",lae,[m("div",uae,[ge(D,{to:"/presenting",class:"flex justify-center items-center h-full aspect-square stroke-screenBlack hover:stroke-primary"},{default:We(()=>M[7]||(M[7]=[m("svg",{width:"41",height:"41",viewBox:"0 0 41 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M8.54098 21.5V39H33.1311V21.5M2.5 18L20.5 2.5L39 18","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1})])]),m("main",cae,[m("div",dae,[m("div",hae,[M[8]||(M[8]=sa('<div class="h-full aspect-square flex justify-center items-center"><svg width="50" height="54" viewBox="0 0 50 54" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-full"><circle cx="24.9193" cy="28.9193" r="22.3826" stroke="#242424" stroke-width="5.0734"></circle><path d="M24.9189 15.3268V29.8253L31.7151 37.0746" stroke="#242424" stroke-width="6.37371"></path><rect x="2" y="9.36597" width="11" height="8" rx="3" transform="rotate(-35.3609 2 9.36597)" fill="#242424"></rect><rect width="11" height="9.81894" rx="3" transform="matrix(-0.815523 -0.578725 -0.578725 0.815523 46.6533 6.88257)" fill="#242424"></rect></svg></div>',1)),sl(m("input",{type:"text",class:"bg-white font-semibold text-subtitle w-[15rem] px-[2rem] py-[1rem] text-center rounded-xl outline-none","onUpdate:modelValue":M[0]||(M[0]=B=>c.value=B),placeholder:"sec."},null,512),[[vu,c.value]])])]),m("div",pae,[ge(ua,{"enter-from-class":g.value[0],"enter-active-class":"transition-transform duration-200","enter-to-class":g.value[1],"leave-from-class":g.value[2],"leave-active-class":"transition-transform duration-200","leave-to-class":g.value[3],mode:"out-in"},{default:We(()=>[(X(),ne("div",{key:u.value,class:"flex w-full gap-[4rem]"},[m("div",fae,[m("h1",mae,ve(u.value.isTieBreaker?"Tie-breaker":P(r)),1),m("div",gae,[m("h2",yae," Integral "+ve(P(o)+1)+". ",1),M[9]||(M[9]=m("div",{class:"aspect-square h-full flex justify-center items-start"},[m("svg",{width:"93",height:"86",viewBox:"0 0 93 86",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-[80%]"},[m("rect",{x:"7.50806",y:"42.3372",width:"61.3789",height:"42.746",rx:"5.48026",fill:"#242424"}),m("path",{d:"M75.4629 57.2213C75.4629 56.4827 75.8348 55.7938 76.4523 55.3886L89.6049 46.7571C91.0627 45.8005 92.9997 46.8462 92.9997 48.5898V81.1281C92.9997 82.8499 91.1058 83.8995 89.6458 82.987L76.4932 74.7666C75.8523 74.366 75.4629 73.6635 75.4629 72.9077V57.2213Z",fill:"#242424"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M53.9941 38.3618C64.5875 38.3618 73.175 29.7742 73.175 19.1809C73.175 8.58758 64.5875 0 53.9941 0C43.4008 0 34.8132 8.58758 34.8132 19.1809C34.8132 29.7742 43.4008 38.3618 53.9941 38.3618ZM58.2602 13.4779C57.3474 12.3784 55.9173 11.8494 54.5087 12.0901L51.5845 12.59C50.1759 12.8308 49.0027 13.8047 48.5069 15.145L47.4777 17.9274C46.9819 19.2677 47.2388 20.7707 48.1516 21.8702L50.0466 24.1527C50.9594 25.2522 52.3895 25.7812 53.7982 25.5404L56.7223 25.0406C58.131 24.7998 59.3041 23.8258 59.7999 22.4855L60.8292 19.7032C61.3249 18.3629 61.068 16.8599 60.1552 15.7604L58.2602 13.4779Z",fill:"#242424"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.7006 37.9004C21.2673 37.9004 27.4013 31.7665 27.4013 24.1998C27.4013 16.6331 21.2673 10.4991 13.7006 10.4991C6.13399 10.4991 0 16.6331 0 24.1998C0 31.7665 6.13399 37.9004 13.7006 37.9004ZM16.7093 20.2401C16.1099 19.5182 15.171 19.1709 14.2462 19.3291L11.7386 19.7578C10.8137 19.916 10.0435 20.5555 9.71806 21.4355L8.83558 23.8215C8.51011 24.7015 8.67884 25.6883 9.2782 26.4101L10.9033 28.3674C11.5027 29.0892 12.4416 29.4365 13.3664 29.2784L15.874 28.8496C16.7989 28.6915 17.5691 28.052 17.8945 27.172L18.777 24.7859C19.1025 23.906 18.9338 22.9192 18.3344 22.1973L16.7093 20.2401Z",fill:"#242424"})])],-1))])]),m("div",vae,[m("button",{onClick:M[1]||(M[1]=()=>{y.value=!0}),class:"font-heading text-title px-[4rem] pt-[0.6rem] pb-[0.4rem] bg-primary rounded-[20px]"}," Present "),m("button",{onClick:M[2]||(M[2]=()=>{C.value=!0}),class:"overflow-hidden rounded-[20px] font-heading text-title px-[4rem] pt-[0.6rem] pb-[0.4rem] relative bg-primary border-primary border-4 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:hidden lg:after:flex after:bg-pearl-white lg:hover:after:scale-y-0 after:transition-transform after:duration-200 after:will-change-transform after:origin-top"},M[10]||(M[10]=[m("span",{class:"relative z-[2]"},"Solution",-1)]))])]))]),_:1},8,["enter-from-class","enter-to-class","leave-from-class","leave-to-class"])]),m("div",bae,[m("button",{onClick:M[3]||(M[3]=()=>{P(i).addCurrentTieBreaker()}),class:"overflow-hidden rounded-[20px] font-heading text-title px-[4rem] pt-[0.6rem] pb-[0.4rem] relative bg-red border-red border-4 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:hidden lg:after:flex after:bg-pearl-white lg:hover:after:scale-y-0 after:transition-transform after:duration-200 after:will-change-transform after:origin-top"},M[11]||(M[11]=[m("span",{class:"relative z-[2]"},"Introduce a Tie Breaker",-1)])),M[12]||(M[12]=m("p",{class:"font-heading text-title ml-[4rem]"},"Nr.",-1)),sl(m("input",{type:"text",class:"bg-white font-semibold text-subtitle w-[10rem] px-[2rem] py-[1rem] text-center rounded-xl outline-none","onUpdate:modelValue":M[4]||(M[4]=B=>d.value=B),placeholder:"nr"},null,512),[[vu,d.value]])]),m("button",{onClick:A,class:"absolute left-0 top-[50%] -translate-y-[50%] cursor-pointer h-[8rem] transition-transform will-change-transform hover:scale-[1.1]"},M[13]||(M[13]=[m("svg",{width:"47",height:"83",viewBox:"0 0 47 83",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"-scale-x-[100%] h-full"},[m("path",{d:"M19.319 0H0L26.5276 40.7869L0 83H19.319L47 40.7869L19.319 0Z",fill:"#FBC151"})],-1)])),m("button",{onClick:S,class:"absolute right-0 top-[50%] -translate-y-[50%] cursor-pointer h-[8rem] transition-transform will-change-transform hover:scale-[1.1]"},M[14]||(M[14]=[m("svg",{width:"47",height:"83",viewBox:"0 0 47 83",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full"},[m("path",{d:"M19.319 0H0L26.5276 40.7869L0 83H19.319L47 40.7869L19.319 0Z",fill:"#FBC151"})],-1)]))]),y.value?(X(),Ot(iae,{key:0,onClose:M[5]||(M[5]=()=>{y.value=!1}),author:u.value.original_author,integral:u.value.integral,totalTime:P(s)},null,8,["author","integral","totalTime"])):je("",!0),C.value?(X(),Ot(aae,{key:1,onClose:M[6]||(M[6]=()=>{C.value=!1}),solution:u.value.integral_answer},null,8,["solution"])):je("",!0)])}}}),_ae={key:1},wae=st({__name:"Flag",props:{country:{}},setup(t){const e=t,i=Object.assign({"/src/assets/flags/SearchIcon.svg":()=>ze(()=>import("./SearchIcon-C4ljLp0w.js"),[]),"/src/assets/flags/armenia.svg":()=>ze(()=>import("./armenia-Dvvrn8A0.js"),[]),"/src/assets/flags/austria.svg":()=>ze(()=>import("./austria-BflPe7Ws.js"),[]),"/src/assets/flags/azerbaijan.svg":()=>ze(()=>import("./azerbaijan-dBhHS0im.js"),[]),"/src/assets/flags/bahamas.svg":()=>ze(()=>import("./bahamas-BOuSAkcZ.js"),[]),"/src/assets/flags/bashkortostan.svg":()=>ze(()=>import("./bashkortostan-Bw8YkFBg.js"),[]),"/src/assets/flags/belarus.svg":()=>ze(()=>import("./belarus-DJQj6uY6.js"),[]),"/src/assets/flags/belgium.svg":()=>ze(()=>import("./belgium-BKHgfMV_.js"),[]),"/src/assets/flags/bosnia_and_herzegovina.svg":()=>ze(()=>import("./bosnia_and_herzegovina-CeqzkvG5.js"),[]),"/src/assets/flags/brazil.svg":()=>ze(()=>import("./brazil-JVgg1808.js"),[]),"/src/assets/flags/bulgaria.svg":()=>ze(()=>import("./bulgaria-DysIaxN7.js"),[]),"/src/assets/flags/canada.svg":()=>ze(()=>import("./canada-D7XKv9OL.js"),[]),"/src/assets/flags/china.svg":()=>ze(()=>import("./china-NRh4l7aU.js"),[]),"/src/assets/flags/colombia.svg":()=>ze(()=>import("./colombia-BE2iR3cp.js"),[]),"/src/assets/flags/cuba.svg":()=>ze(()=>import("./cuba-BemoUw1N.js"),[]),"/src/assets/flags/czech_republic.svg":()=>ze(()=>import("./czech_republic-Fj-j2nHL.js"),[]),"/src/assets/flags/denmark.svg":()=>ze(()=>import("./denmark-IQLPzVyw.js"),[]),"/src/assets/flags/england.svg":()=>ze(()=>import("./england-Ct11C8Ix.js"),[]),"/src/assets/flags/estonia.svg":()=>ze(()=>import("./estonia-DsUYtl8O.js"),[]),"/src/assets/flags/faroe_islands.svg":()=>ze(()=>import("./faroe_islands-BW4QSb9a.js"),[]),"/src/assets/flags/finland.svg":()=>ze(()=>import("./finland-C_9Ow5Kg.js"),[]),"/src/assets/flags/france.svg":()=>ze(()=>import("./france-CpzsbdIH.js"),[]),"/src/assets/flags/germany.svg":()=>ze(()=>import("./germany-DDoNMl3v.js"),[]),"/src/assets/flags/greece.svg":()=>ze(()=>import("./greece-Dw86sDQh.js"),[]),"/src/assets/flags/honduras.svg":()=>ze(()=>import("./honduras-D46BfEIX.js"),[]),"/src/assets/flags/hungary.svg":()=>ze(()=>import("./hungary-B84Dy4qH.js"),[]),"/src/assets/flags/iceland.svg":()=>ze(()=>import("./iceland-DjZXLhfM.js"),[]),"/src/assets/flags/ireland.svg":()=>ze(()=>import("./ireland-Un8BNyGC.js"),[]),"/src/assets/flags/israel.svg":()=>ze(()=>import("./israel-Ba2uRm1u.js"),[]),"/src/assets/flags/italy.svg":()=>ze(()=>import("./italy-oa7cafZK.js"),[]),"/src/assets/flags/japan.svg":()=>ze(()=>import("./japan-NopvqHzO.js"),[]),"/src/assets/flags/latvia.svg":()=>ze(()=>import("./latvia-C3T6w_Ty.js"),[]),"/src/assets/flags/lithuania.svg":()=>ze(()=>import("./lithuania-D6jIBWx7.js"),[]),"/src/assets/flags/luxemburg.svg":()=>ze(()=>import("./luxemburg-DDZykfz8.js"),[]),"/src/assets/flags/malta.svg":()=>ze(()=>import("./malta-BBqJRsNU.js"),[]),"/src/assets/flags/mauritius.svg":()=>ze(()=>import("./mauritius-BaOb-FL5.js"),[]),"/src/assets/flags/moldova.svg":()=>ze(()=>import("./moldova-BruZ00i6.js"),[]),"/src/assets/flags/monaco.svg":()=>ze(()=>import("./monaco-OKDcsN8e.js"),[]),"/src/assets/flags/morocco.svg":()=>ze(()=>import("./morocco--l1qALdK.js"),[]),"/src/assets/flags/netherlands.svg":()=>ze(()=>import("./netherlands-oUH7i6HZ.js"),[]),"/src/assets/flags/nigeria.svg":()=>ze(()=>import("./nigeria-CDWH9VQ3.js"),[]),"/src/assets/flags/no_affiliation.svg":()=>ze(()=>import("./no_affiliation-CJC99tOu.js"),[]),"/src/assets/flags/north_macedonia.svg":()=>ze(()=>import("./north_macedonia-DOMd0DmW.js"),[]),"/src/assets/flags/northern_ireland.svg":()=>ze(()=>import("./northern_ireland-pW4SujkO.js"),[]),"/src/assets/flags/norway.svg":()=>ze(()=>import("./norway-D9S21X1-.js"),[]),"/src/assets/flags/palestine.svg":()=>ze(()=>import("./palestine-D9qFpL0-.js"),[]),"/src/assets/flags/panama.svg":()=>ze(()=>import("./panama-CFIHA1Q-.js"),[]),"/src/assets/flags/peru.svg":()=>ze(()=>import("./peru-DAkMkI9U.js"),[]),"/src/assets/flags/philippines.svg":()=>ze(()=>import("./philippines-h0P5QWq-.js"),[]),"/src/assets/flags/poland.svg":()=>ze(()=>import("./poland-CSQ4LJFw.js"),[]),"/src/assets/flags/portugal.svg":()=>ze(()=>import("./portugal-BrPT7r-H.js"),[]),"/src/assets/flags/republic_of_tatarstan.svg":()=>ze(()=>import("./republic_of_tatarstan-D3xEnZ-j.js"),[]),"/src/assets/flags/romania.svg":()=>ze(()=>import("./romania-sE7mA1I3.js"),[]),"/src/assets/flags/russian_federation.svg":()=>ze(()=>import("./russian_federation-CDdySACt.js"),[]),"/src/assets/flags/san_marino.svg":()=>ze(()=>import("./san_marino-CaFV7o0q.js"),[]),"/src/assets/flags/saudi_arabia.svg":()=>ze(()=>import("./saudi_arabia-CfXJGF8J.js"),[]),"/src/assets/flags/scotland.svg":()=>ze(()=>import("./scotland-aakM5Sik.js"),[]),"/src/assets/flags/slovakia.svg":()=>ze(()=>import("./slovakia-D7It2L-l.js"),[]),"/src/assets/flags/slovenia.svg":()=>ze(()=>import("./slovenia-hbWMNKHW.js"),[]),"/src/assets/flags/south korea.svg":()=>ze(()=>import("./south korea-BPG_OifN.js"),[]),"/src/assets/flags/spain.svg":()=>ze(()=>import("./spain-BP0e1inu.js"),[]),"/src/assets/flags/sweden.svg":()=>ze(()=>import("./sweden-Y330Z3Ep.js"),[]),"/src/assets/flags/switzerland.svg":()=>ze(()=>import("./switzerland-B2aRDBv4.js"),[]),"/src/assets/flags/turkey.svg":()=>ze(()=>import("./turkey-dCGIikky.js"),[]),"/src/assets/flags/ukraine.svg":()=>ze(()=>import("./ukraine-CYlptAmm.js"),[]),"/src/assets/flags/united_arab_emirates.svg":()=>ze(()=>import("./united_arab_emirates-DM3MnNVb.js"),[]),"/src/assets/flags/united_kingdom.svg":()=>ze(()=>import("./united_kingdom-BfA18kXg.js"),[]),"/src/assets/flags/united_states.svg":()=>ze(()=>import("./united_states-p5lU0xtw.js"),[]),"/src/assets/flags/vatican.svg":()=>ze(()=>import("./vatican--ieodkGO.js"),[]),"/src/assets/flags/vietnam.svg":()=>ze(()=>import("./vietnam-Cf6xzgfk.js"),[])}),r=e.country.toLowerCase().replace(/\s+/g,"_"),n=si(()=>{const s=`${r}.svg`,a=Object.keys(i).find(o=>o.endsWith(s));return a?ZO(i[a]):(console.error(`Flag for country "${e.country}" not found.`),null)});return(s,a)=>(X(),ne("div",null,[n.value?(X(),Ot(oF(n.value),{key:0,class:"block w-full h-full"})):(X(),ne("div",_ae,ve(P(r)),1))]))}}),Sae={class:"mr-2 w-min-0 text-ellipsis whitespace-nowrap overflow-hidden max-w-full"},Cae={key:0,class:"absolute z-30 left-0 mt-2 max-h-[16rem] overflow-hidden overflow-y-auto w-max bg-white rounded-[inherit] shadow-lg ring-opacity-5 focus:outline-none"},kae=["onClick"],T9=st({__name:"Select",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(t,{emit:e}){const i=e,r=Xe(!1),n=Xe(null);function s(){r.value=!r.value}function a(l){i("update:modelValue",l),r.value=!1}function o(l){n.value&&!n.value.contains(l.target)&&(r.value=!1)}return qi(()=>{document.addEventListener("click",o)}),oo(()=>{document.removeEventListener("click",o)}),(l,u)=>(X(),ne("div",{ref_key:"dropdownRef",ref:n,class:"relative inline-block text-left"},[m("button",{onClick:s,class:"inline-flex items-center justify-between px-6 py-2 bg-white h-full w-full text-gray-700 rounded-[inherit] hover:bg-gray-50 focus:outline-none overflow-hidden"},[m("span",Sae,ve(l.modelValue),1),u[0]||(u[0]=m("svg",{class:"h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"})],-1))]),r.value?(X(),ne("div",Cae,[m("ul",null,[(X(!0),ne(yt,null,Ni(l.options,c=>(X(),ne("li",{key:c,onClick:d=>a(c),class:"cursor-pointer px-6 py-3 text-gray-700 transition-colors duration-100 hover:bg-gray-100"},ve(c),9,kae))),128))])])):je("",!0)],512))}}),Tae=kr("rankingsStore",{state:()=>({eloRankings:[],gymRankings:[],currentPage:1,totalPages:1,totalPlayers:0,pageSize:20,searchQuery:"",selectedRegion:"All",selectedRankingType:"Integration Bee",availableRegions:["All"],loading:!1,error:null}),getters:{currentRankings:t=>t.selectedRankingType==="Integration Bee"?t.eloRankings:t.gymRankings,uniqueRegions:t=>{const i=(t.selectedRankingType==="Integration Bee"?t.eloRankings:t.gymRankings).map(r=>r.region).filter(Boolean);return["All",...Array.from(new Set(i))]},uniqueInstitutions:t=>{const i=(t.selectedRankingType==="Integration Bee"?t.eloRankings:t.gymRankings).map(r=>r.institution).filter(Boolean);return Array.from(new Set(i))},hasNextPage:t=>t.currentPage<t.totalPages,hasPreviousPage:t=>t.currentPage>1,rankingApiUrl:t=>t.selectedRankingType==="Integration Bee"?"/eloUserData/":"/gymUserData/"},actions:{async fetchRankings(t,e=1,i="",r="All"){this.loading=!0,this.error=null;try{const n=t==="Integration Bee"?"/eloUserData/":"/gymUserData/",s={page:e,page_size:this.pageSize};i&&(s.search=i),r&&r!=="All"&&(s.region=r);const a=await wr.get(n,{params:s});console.log(a.data);const o=(e-1)*this.pageSize+1,l=a.data.results.map((u,c)=>({id:u.id,first_name:u.first_name,last_name:u.last_name,username:u.username||"",institution:u.institution,region:u.region,elo_rating:u.elo_rating,ranking_gym:u.ranking_gym,rank:o+c}));t==="Integration Bee"?this.eloRankings=l:this.gymRankings=l,this.totalPlayers=a.data.count,this.totalPages=Math.ceil(a.data.count/this.pageSize),this.currentPage=e,this.searchQuery=i,this.selectedRegion=r,this.selectedRankingType=t,this.updateAvailableRegions()}catch(n){this.error="Failed to fetch rankings",Ut().addToast({type:"error",title:"Error fetching rankings",message:"Could not load the rankings data. Please try again."}),console.error("Error fetching rankings:",n)}finally{this.loading=!1}},async fetchAllRegions(){try{const[t,e]=await Promise.all([wr.get("/eloUserData/",{params:{page_size:1e3}}),wr.get("/gymUserData/",{params:{page_size:1e3}})]),i=[...t.data.results,...e.data.results],r=new Set(["All"]);i.forEach(n=>{n.region&&r.add(n.region)}),this.availableRegions=Array.from(r).sort()}catch(t){console.error("Error fetching regions:",t),this.availableRegions=["All","Austria","Germany","Italy","Spain","France","United Kingdom"]}},updateAvailableRegions(){const t=this.selectedRankingType==="Integration Bee"?this.eloRankings:this.gymRankings,e=new Set(["All"]);t.forEach(i=>{i.region&&e.add(i.region)}),this.availableRegions=Array.from(e).sort()},async changePage(t){t>=1&&t<=this.totalPages&&await this.fetchRankings(this.selectedRankingType,t,this.searchQuery,this.selectedRegion)},async nextPage(){this.hasNextPage&&await this.changePage(this.currentPage+1)},async previousPage(){this.hasPreviousPage&&await this.changePage(this.currentPage-1)},async searchPlayers(t){this.currentPage=1,await this.fetchRankings(this.selectedRankingType,1,t,this.selectedRegion)},async filterByRegion(t){this.currentPage=1,await this.fetchRankings(this.selectedRankingType,1,this.searchQuery,t)},async switchRankingType(t){this.currentPage=1,this.searchQuery="",this.selectedRegion="All",await this.fetchRankings(t,1)},resetFilters(){this.searchQuery="",this.selectedRegion="All",this.currentPage=1}}}),Eae={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] flex flex-col bg-screenBlack font-body text-body text-screenBlack"},Aae={class:"flex flex-col lg:grid lg:grid-cols-[3fr_2fr_8fr] h-max lg:h-[5rem] gap-4"},Mae={class:"font-heading text-pearl-white flex items-center justify-start gap-4"},Dae={class:"font-heading text-pearl-white flex items-center justify-start gap-4"},Lae={class:"flex items-center relative justify-end h-[5rem]"},Bae=["disabled"],Pae=["disabled"],Iae={class:"z-20 top-0 grid grid-cols-[4rem_2fr_1fr_2fr_2fr] md:grid-cols-[8rem_2fr_1fr_2fr_1fr] text-text-xs md:text-text-sm xl:text-body overflow-y-auto text-pearl-white py-[2rem] gutterStable"},Rae={class:"flex justify-center items-center gap-2"},Oae={class:"w-full max-h-[70rem] overflow-x-auto overflow-y-auto bg-pearl-white rounded gutterStable"},Fae={key:0,class:"flex justify-center items-center py-12"},Nae={key:1,class:"flex justify-center items-center py-12"},$ae={class:"text-red font-heading text-body-lg"},zae={key:2,class:"flex justify-center items-center py-12"},Uae={key:3},qae={class:"flex justify-center items-center"},jae={class:"flex justify-center items-center text-center"},Vae={class:"flex justify-center items-center"},Hae=["title"],Kae={class:"block w-full overflow-hidden whitespace-nowrap text-ellipsis"},Wae={class:"flex justify-center items-center"},Gae={class:"w-full flex justify-center items-center py-[2rem]"},Xae={class:"flex gap-[2rem] items-center justify-center h-[4rem]"},Yae=["disabled"],Zae={class:"w-max px-[1rem] bg-pearl-white rounded-xl h-full flex justify-center items-center font-heading"},Jae=["disabled"],Qae={class:"w-full flex justify-center items-center pb-[2rem]"},eoe={class:"text-pearl-white font-body text-text-sm"},toe=st({__name:"Rankings",setup(t){const e=Tae(),{currentRankings:i,availableRegions:r,loading:n,error:s,currentPage:a,totalPages:o,totalPlayers:l,hasNextPage:u,hasPreviousPage:c,selectedRankingType:d,selectedRegion:h,searchQuery:f}=Ui(e),g=Xe(""),y=Xe("All"),C=Xe("Integration Bee"),S=si(()=>i.value.map((D,B)=>{var F,V;return{nr:D.rank||(a.value-1)*20+B+1,name:`${D.first_name} ${D.last_name}`,result:d.value==="Integration Bee"?((F=D.elo_rating)==null?void 0:F.toString())||"0":((V=D.ranking_gym)==null?void 0:V.toString())||"0",school:D.institution||"No affiliation",region:D.region||"No affiliation",profilePicture:null}}));_r(C,async D=>{await e.switchRankingType(D)}),_r(y,async D=>{await e.filterByRegion(D)});const A=async()=>{await e.nextPage()},T=async()=>{await e.previousPage()},M=async()=>{n.value||await e.searchPlayers(g.value)};return qi(async()=>{await e.fetchAllRegions(),await e.fetchRankings("Integration Bee",1)}),(D,B)=>(X(),Ot(Fn,null,{default:We(()=>[B[15]||(B[15]=m("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] 2xl:px-[calc(50vw-70rem)] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},[m("h1",{class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"}," Rankings ")],-1)),m("div",Eae,[m("div",Aae,[m("div",Mae,[B[3]||(B[3]=tt(" Category: ")),ge(T9,{modelValue:C.value,"onUpdate:modelValue":B[0]||(B[0]=F=>C.value=F),options:["Integration Bee","Integration Gym"],class:"h-full text-body w-[18rem] rounded-[15px]"},null,8,["modelValue"])]),m("div",Dae,[B[4]||(B[4]=tt(" Region: ")),ge(T9,{modelValue:y.value,"onUpdate:modelValue":B[1]||(B[1]=F=>y.value=F),options:P(r),class:"h-full text-body w-[12rem] rounded-[15px]"},null,8,["modelValue","options"])]),m("div",Lae,[sl(m("input",{"onUpdate:modelValue":B[2]||(B[2]=F=>g.value=F),type:"text",class:"rounded-[15px] bg-pearl-white font-body text-body w-full h-full pl-[1rem] pr-[4rem] max-w-[60rem]",placeholder:"Find integrators...",disabled:P(n)},null,8,Bae),[[vu,g.value]]),m("button",{onClick:M,disabled:P(n),class:"absolute right-[1rem] top-[50%] -translate-y-[50%] h-[3.5rem] w-[3.5rem]",title:"Search"},B[5]||(B[5]=[m("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("circle",{cx:"17.2961",cy:"17.2961",r:"15.7961",stroke:"#242424","stroke-width":"3"}),m("path",{d:"M27.5068 30.4541L30.4539 27.5071L43.5978 40.651C43.9883 41.0415 43.9883 41.6747 43.5978 42.0652L42.065 43.598C41.6745 43.9886 41.0413 43.9886 40.6508 43.598L27.5068 30.4541Z",fill:"#242424"})],-1)]),8,Pae)])]),m("div",Iae,[B[7]||(B[7]=m("div",{class:"flex justify-center items-center"},"#",-1)),B[8]||(B[8]=m("div",{class:"flex justify-center items-center"},"name",-1)),m("div",Rae,[tt(ve(P(d)==="Integration Bee"?"Rating":"Gym Rating")+" ",1),B[6]||(B[6]=m("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"hidden md:flex"},[m("path",{d:"M16.4692 3.77109L23.4637 11.1924L20.5339 20.9605L10.6096 23.3072L3.61513 15.8859L6.54491 6.11786L16.4692 3.77109Z",stroke:"#F2F1F0","stroke-width":"1.17031"}),m("path",{d:"M12.6043 15.7582C12.6043 15.3624 12.6631 14.9879 12.7808 14.6348C12.9092 14.271 13.1393 13.8538 13.4709 13.383C13.8561 12.8373 14.1182 12.3666 14.2573 11.9707C14.3964 11.5748 14.466 11.1575 14.466 10.7189C14.466 10.3337 14.3911 10.0555 14.2413 9.88432C14.0915 9.70244 13.8722 9.61149 13.5833 9.61149C13.2944 9.61149 13.0751 9.70244 12.9253 9.88432C12.7755 10.0555 12.7006 10.3337 12.7006 10.7189V11.9386H11.0315V10.8312C11.0315 9.92177 11.2508 9.22632 11.6895 8.74485C12.1282 8.25268 12.7701 8.00659 13.6154 8.00659C14.4713 8.00659 15.1186 8.25268 15.5573 8.74485C16.0067 9.22632 16.2314 9.92177 16.2314 10.8312C16.2314 11.3234 16.1404 11.7995 15.9585 12.2596C15.7873 12.7089 15.4878 13.2172 15.0598 13.7842C14.7174 14.2443 14.4767 14.6295 14.3376 14.9398C14.2092 15.2393 14.145 15.5336 14.145 15.8224V16.4323H12.6043V15.7582ZM12.524 17.7002H14.2252V19.4014H12.524V17.7002Z",fill:"white"})],-1))]),B[9]||(B[9]=m("div",{class:"flex justify-center items-center"},"school",-1)),B[10]||(B[10]=m("div",{class:"flex justify-center items-center"},"region",-1))]),m("div",Oae,[P(n)?(X(),ne("div",Fae,B[11]||(B[11]=[m("div",{class:"text-screenBlack font-heading text-body-lg"},"Loading rankings...",-1)]))):P(s)?(X(),ne("div",Nae,[m("div",$ae,ve(P(s)),1)])):S.value.length===0?(X(),ne("div",zae,B[12]||(B[12]=[m("div",{class:"text-screenBlack font-heading text-body-lg"},"No players found",-1)]))):(X(),ne("div",Uae,[(X(!0),ne(yt,null,Ni(S.value,(F,V)=>(X(),ne("div",{key:`${F.nr}-${F.name}`,class:"grid grid-cols-[4rem_2fr_1fr_2fr_2fr] md:grid-cols-[8rem_2fr_1fr_2fr_1fr] text-text-xs md:text-text-sm xl:text-body text-screenBlack py-6 even:bg-pearl-white-300"},[m("div",qae,ve(F.nr),1),m("div",jae,ve(F.name),1),m("div",Vae,ve(F.result),1),m("div",{class:"flex justify-center items-center text-center min-w-0 w-full",title:F.school},[m("span",Kae,ve(F.school),1)],8,Hae),m("div",Wae,[ge(wae,{country:F.region,class:"w-[3rem] lg:w-[4rem] shadow-md overflow-hidden rounded-sm",title:F.region},null,8,["country","title"])])]))),128))]))]),m("div",Gae,[m("div",Xae,[m("button",{onClick:T,disabled:!P(c)||P(n),class:Wt(["h-[80%] transition-all duration-200",P(c)&&!P(n)?"lg:hover:scale-[110%] cursor-pointer":"opacity-50 cursor-not-allowed"]),title:"previous page"},B[13]||(B[13]=[m("svg",{width:"15",height:"30",viewBox:"0 0 15 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M15 0H10L0 15L10 30H15L5 15L15 0Z",fill:"#F2F1F0"}),m("path",{d:"M0 15L10 30H15L5 15H0Z",fill:"#D9D9D9"})],-1)]),10,Yae),m("div",Zae,[m("p",null,ve(P(a))+" / "+ve(P(o)||1),1)]),m("button",{onClick:A,disabled:!P(u)||P(n),class:Wt(["h-[80%] transition-all duration-200",P(u)&&!P(n)?"lg:hover:scale-[110%] cursor-pointer":"opacity-50 cursor-not-allowed"]),title:"next page"},B[14]||(B[14]=[m("svg",{width:"15",height:"30",viewBox:"0 0 15 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[m("path",{d:"M0 0H5L15 15L5 30H0L10 15L0 0Z",fill:"#F2F1F0"}),m("path",{d:"M15 15L5 30H0L10 15H15Z",fill:"#D9D9D9"})],-1)]),10,Jae)])]),m("div",Qae,[m("div",eoe," Showing "+ve(S.value.length)+" of "+ve(P(l))+" players ",1)])])]),_:1}))}}),ioe=uo(toe,[["__scopeId","data-v-4357241e"]]),roe={class:"fixed top-0 w-full px-[1rem] lg:px-[2rem] xl:px-[10vw] font-body z-30 h-[8rem] lg:h-[10rem] text-secondary py-4"},noe={class:"w-full h-full bg-screenBlack lg:bg-pearl-white lg:bg-opacity-90 lg:backdrop-blur-sm rounded-xl lg:rounded-3xl shadow-md px-8 lg:px-6"},soe={class:"relative h-full flex items-center justify-between font-heading text-subtitle"},aoe={class:"flex items-center gap-4"},ooe=st({__name:"GamingHeader",setup(t){const e=B0(),{isRulesVisible:i}=Ui(e),r=Sr();Ui(r);const n=Fu(),s=Xe(!1),a=Xe(!1),o=Xe(""),l=h=>{o.value=h,a.value=!0,document.getElementsByTagName("body")[0].style.overflowY="hidden"},u=()=>{a.value=!1,o.value="",document.getElementsByTagName("body")[0].style.overflowY="unset"},c=()=>{console.log("Confirming quit with route:",o.value);const h=o.value;u(),console.log("About to navigate to:",h),n.push(h).then(()=>{console.log("Navigation successful")}).catch(f=>{console.error("Navigation failed:",f)})},d=h=>{l(h)};return document.addEventListener("click",()=>{s.value=!1}),(h,f)=>(X(),ne(yt,null,[m("div",roe,[m("div",noe,[m("div",soe,[m("div",null,[m("a",{href:"#",draggable:"false",class:"flex items-center gap-3 lg:hover:bg-screenBlack-400 lg:hover:bg-opacity-15 lg:transition-all lg:duration-100 rounded-[10px] px-2 py-2",onClick:f[0]||(f[0]=Dc(g=>d("/"),["prevent"]))},f[5]||(f[5]=[m("span",{class:"h-[3rem] w-[3rem] lg:h-[4rem] lg:w-[4rem]"},[m("svg",{width:"41",height:"41",viewBox:"0 0 41 41",class:"w-full h-full stroke-pearl-white lg:stroke-screenBlack",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M8.04098 21V38.5H32.6311V21M2 17.5L20 2L38.5 17.5","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)]))]),m("div",aoe,[m("a",{href:"#",draggable:"false",class:"flex items-center gap-3 lg:hover:bg-screenBlack-400 lg:hover:bg-opacity-15 lg:transition-all lg:duration-100 rounded-[10px] px-4 py-2",onClick:f[1]||(f[1]=Dc(g=>d("/rankings"),["prevent"]))},f[6]||(f[6]=[sa('<span class="h-[3rem] w-[3rem] lg:h-[4rem] lg:w-[4rem] p-1"><svg width="37" height="36" viewBox="0 0 37 36" class="w-full h-full fill-pearl-white lg:fill-screenBlack" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="22" height="10" rx="2"></rect><rect y="13" width="32" height="10" rx="2"></rect><rect y="26" width="37" height="10" rx="2"></rect></svg></span><p class="hidden lg:flex">Leaderboards</p>',2)])),m("button",{title:"show rules","aria-label":"show rules",class:"flex items-center gap-3 lg:hover:bg-screenBlack-400 lg:hover:bg-opacity-15 lg:transition-all lg:duration-100 rounded-[5px] rounded-[10px] px-4 py-2",onClick:f[2]||(f[2]=g=>i.value=!P(i)),draggable:"false"},f[7]||(f[7]=[sa('<span class="h-[3rem] w-[3rem] lg:h-[4rem] lg:w-[4rem]"><svg width="58" height="53" viewBox="0 0 58 53" class="w-full h-full" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M55.5488 23.1529L45.1348 47.8804L18.5146 51.2232L2.30762 29.8423L12.7217 5.11478L39.3418 1.77103L55.5488 23.1529Z" class="stroke-pearl-white lg:stroke-screenBlack" stroke-width="2.89231"></path><path d="M26.6406 30.9964C26.6406 30.018 26.7861 29.0925 27.0769 28.2199C27.3943 27.3209 27.9628 26.2896 28.7825 25.1261C29.7344 23.7776 30.3822 22.6141 30.726 21.6357C31.0697 20.6574 31.2416 19.6261 31.2416 18.542C31.2416 17.5901 31.0565 16.9026 30.6863 16.4795C30.3161 16.03 29.7741 15.8052 29.0601 15.8052C28.3462 15.8052 27.8041 16.03 27.4339 16.4795C27.0637 16.9026 26.8786 17.5901 26.8786 18.542V21.5564H22.7536V18.8196C22.7536 16.572 23.2957 14.8533 24.3798 13.6634C25.464 12.447 27.0505 11.8388 29.1395 11.8388C31.2548 11.8388 32.8546 12.447 33.9387 13.6634C35.0493 14.8533 35.6046 16.572 35.6046 18.8196C35.6046 20.036 35.3799 21.2127 34.9303 22.3497C34.5073 23.4603 33.7669 24.7163 32.7092 26.1177C31.863 27.2548 31.2681 28.2067 30.9243 28.9735C30.607 29.7139 30.4484 30.4411 30.4484 31.155V32.6622H26.6406V30.9964ZM26.4423 35.7957H30.6467V40H26.4423V35.7957Z" class="fill-pearl-white lg:fill-screenBlack"></path></svg></span><p class="hidden lg:flex"> Rules </p>',2)])),m("a",{href:"#",draggable:"false",class:"flex items-center gap-3 lg:hover:bg-screenBlack-400 lg:hover:bg-opacity-15 lg:transition-all lg:duration-100 rounded-[5px] rounded-[10px] px-4 py-2",onClick:f[3]||(f[3]=Dc(g=>d("/myprofile"),["prevent"]))},f[8]||(f[8]=[m("span",{class:"h-[3rem] w-[3rem] lg:h-[4rem] lg:w-[4rem]"},[m("svg",{width:"45",height:"43",viewBox:"0 0 45 43",class:"w-full h-full fill-pearl-white lg:fill-screenBlack",xmlns:"http://www.w3.org/2000/svg"},[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40254 24.0217L10.2674 5.35599L30.3648 2.83425L42.5974 18.9783L37.1086 32.005V31.958C37.1086 31.2435 36.7274 30.5833 36.1086 30.226L24.2332 23.3698C23.6144 23.0125 22.852 23.0125 22.2332 23.3698L10.3579 30.226C9.73907 30.5833 9.35787 31.2435 9.35787 31.958V33.201L2.40254 24.0217ZM9.75597 36.9234L0.539109 24.7595C0.323346 24.4747 0.275887 24.0965 0.414609 23.7673L8.69674 4.11108C8.83547 3.78185 9.1393 3.55163 9.49378 3.50715L30.6576 0.851605C31.0121 0.807124 31.3634 0.955141 31.5791 1.23989L44.4608 18.2405C44.6766 18.5253 44.724 18.9035 44.5853 19.2327L36.9516 37.3498L36.5273 38.3569L36.3032 38.8889C36.1645 39.2181 35.8606 39.4484 35.5061 39.4928L34.9398 39.5639C34.9376 39.5642 34.9354 39.5645 34.9332 39.5647L14.9151 42.0765C14.9127 42.0768 14.9102 42.0771 14.9077 42.0775L14.3423 42.1484C13.9878 42.1929 13.6366 42.0449 13.4208 41.7601L13.0799 41.3102C13.0773 41.3068 13.0747 41.3034 13.0721 41.2999L9.76379 36.9338C9.76117 36.9304 9.75856 36.9269 9.75597 36.9234ZM22.2333 9.90211C22.8521 9.54484 23.6145 9.54484 24.2333 9.90211L28.065 12.1143C28.6838 12.4716 29.065 13.1318 29.065 13.8464V18.2708C29.065 18.9853 28.6838 19.6456 28.065 20.0028L24.2333 22.2151C23.6145 22.5723 22.8521 22.5723 22.2333 22.2151L18.4016 20.0028C17.7828 19.6456 17.4016 18.9853 17.4016 18.2708V13.8464C17.4016 13.1318 17.7828 12.4716 18.4016 12.1143L22.2333 9.90211Z"})])],-1),m("p",{class:"hidden lg:flex"},"Profile",-1)]))])])])]),a.value?(X(),ne("div",{key:0,class:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex justify-center items-center z-[502]",onClick:u},[m("div",{class:"bg-white rounded-3xl p-8 max-w-[50rem] w-full mx-4 text-screenBlack font-body",onClick:f[4]||(f[4]=Dc(()=>{},["stop"]))},[m("div",{class:"flex flex-col gap-8 text-center"},[f[9]||(f[9]=sa('<div class="flex justify-center"><div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 9V13M12 17H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="#EF4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></div><div><h3 class="font-heading text-subtitle text-screenBlack mb-2">Quit Game?</h3><p class="text-body text-gray-600">Are you sure you want to quit the game? Your progress might be lost.</p></div>',2)),m("div",{class:"flex gap-4"},[m("button",{draggable:"false",onClick:u,class:"flex-1 bg-gray-200 text-screenBlack py-3 px-6 rounded-xl font-heading text-body lg:hover:bg-gray-300 transition-colors duration-100"}," Stay "),m("button",{draggable:"false",onClick:c,class:"flex-1 bg-red-500 text-white py-3 px-6 rounded-xl font-heading text-body lg:hover:bg-red-600 transition-colors duration-100"}," Quit Game ")])])])])):je("",!0)],64))}}),loe=st({__name:"GamingLayout",setup(t){const e=B0();return Ui(e),(i,r)=>(X(),ne("div",null,[(X(),Ot(lT,null,[ge(ooe)],1024)),m("main",null,[Bg(i.$slots,"default")]),ge(DE)]))}});var uoe=Object.defineProperty,coe=Object.defineProperties,doe=Object.getOwnPropertyDescriptors,ng=Object.getOwnPropertySymbols,pB=Object.prototype.hasOwnProperty,fB=Object.prototype.propertyIsEnumerable,E9=(t,e,i)=>e in t?uoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,q=(t,e)=>{for(var i in e||(e={}))pB.call(e,i)&&E9(t,i,e[i]);if(ng)for(var i of ng(e))fB.call(e,i)&&E9(t,i,e[i]);return t},Z=(t,e)=>coe(t,doe(e)),A9=t=>typeof t=="symbol"?t:t+"",sg=(t,e)=>{var i={};for(var r in t)pB.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&ng)for(var r of ng(t))e.indexOf(r)<0&&fB.call(t,r)&&(i[r]=t[r]);return i};function mr(t){return Array.isArray(t)}var hoe={en:{"keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.alphabetic":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.cut to clipboard":"Cut to Clipboard","tooltip.paste from clipboard":"Paste from Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.menu":"Menu","tooltip.undo":"Undo","menu.borders":"Borders","menu.insert matrix":"Insert Matrix","menu.array.add row above":"Add Row Before","menu.array.add row below":"Add Row After","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows","menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","menu.insert":"Insert","menu.insert.abs":"Absolute Value","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"n<sup>th</sup> Root","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Logarithm base a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Calculus","menu.insert.derivative":"Derivative","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"n<sup>th</sup> derivative","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Integral","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Sum","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Product","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Complex Numbers","menu.insert.modulus":"Modulus","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Argument","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Real Part","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Imaginary Part","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Conjugate","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Blackboard","tooltip.bold":"Bold","tooltip.italic":"Italic","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligraphic","tooltip.typewriter":"Typewriter","tooltip.roman-upright":"Roman Upright","tooltip.row-by-col":"%@ × %@","menu.font-style":"Font Style","menu.accent":"Accent","menu.decoration":"Decoration","menu.color":"Color","menu.background-color":"Background","menu.evaluate":"Evaluate","menu.simplify":"Simplify","menu.solve":"Solve","menu.solve-for":"Solve for %@","menu.cut":"Cut","menu.copy":"Copy","menu.copy-as-latex":"Copy as LaTeX","menu.copy-as-ascii-math":"Copy as ASCII Math","menu.copy-as-mathml":"Copy as MathML","menu.paste":"Paste","menu.select-all":"Select All","color.red":"Red","color.orange":"Orange","color.yellow":"Yellow","color.lime":"Lime","color.green":"Green","color.teal":"Teal","color.cyan":"Cyan","color.blue":"Blue","color.indigo":"Indigo","color.purple":"Purple","color.magenta":"Magenta","color.black":"Black","color.dark-grey":"Dark Grey","color.grey":"Grey","color.light-grey":"Light Grey","color.white":"White"},ar:{"keyboard.tooltip.symbols":"حرف او رمز","keyboard.tooltip.greek":"حروف يونانية","keyboard.tooltip.numeric":"الرقمية","keyboard.tooltip.alphabetic":"رموز الاحرف الرومانية","tooltip.copy to clipboard":"نسخ إلى الحافظة","tooltip.cut to clipboard":"قص إلى الحافظة","tooltip.paste from clipboard":"لصق من الحافظة","tooltip.redo":"الإعادة","tooltip.toggle virtual keyboard":"تبديل لوحة المفاتيح الإفتراضية","tooltip.undo":"إلغاء","menu.insert matrix":"أدخل المصفوفة","menu.borders":"محددات المصفوفة","menu.array.add row above":"أضف صفًا بعد ذلك","menu.array.add row below":"أضف الصف قبل","menu.array.add column after":"أضف العمود بعد ذلك","menu.array.add column before":"أضف العمود قبل","menu.array.delete row":"احذف صف","menu.array.delete rows":"حذف الصفوف المحددة","menu.array.delete column":"حذف العمود","menu.array.delete columns":"حذف الأعمدة المحددة","menu.mode":"وضع","menu.mode-math":"رياضيات","menu.mode-text":"نص","menu.mode-latex":"لاتكس","tooltip.blackboard":"سبورة","tooltip.bold":"عريض","tooltip.italic":"مائل","tooltip.fraktur":"فراكتور","tooltip.script":"سكريبت","tooltip.caligraphic":"كاليجرافيك","tooltip.typewriter":"آلة كاتبة","tooltip.roman-upright":"روماني مستقيم","tooltip.row-by-col":"%@ × %@","menu.font-style":"نمط الخط","menu.accent":"تشكيل","menu.decoration":"زخرفة","menu.color":"لون","menu.background-color":"الخلفية","menu.evaluate":"تقييم","menu.simplify":"تبسيط","menu.solve":"حل","menu.solve-for":"حل لـ %@","menu.cut":"قص","menu.copy":"نسخ","menu.copy-as-latex":"نسخ كـ LaTeX","menu.copy-as-ascii-math":"نسخ كـ ASCII Math","menu.copy-as-mathml":"نسخ كـ MathML","menu.paste":"لصق","menu.select-all":"تحديد الكل","color.red":"أحمر","color.orange":"برتقالي","color.yellow":"أصفر","color.lime":"ليموني","color.green":"أخضر","color.teal":"سماوي","color.cyan":"سماوي فاتح","color.blue":"أزرق","color.indigo":"نيلي","color.purple":"بنفسجي","color.magenta":"أرجواني","color.black":"أسود","color.dark-grey":"رمادي غامق","color.grey":"رمادي","color.light-grey":"رمادي فاتح","color.white":"أبيض"},de:{"keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.alphabetic":"Römische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einfügen","menu.borders":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzufügen nach","menu.array.add row below":"Zeile hinzufügen vor","menu.array.add column after":"Spalte hinzufügen nach","menu.array.add column before":"Spalte hinzufügen vor","menu.array.delete row":"Zeile löschen","menu.array.delete rows":"Ausgewählte Zeilen löschen","menu.array.delete column":"Spalte löschen","menu.array.delete columns":"Ausgewählte Spalten löschen","menu.mode":"Modus","menu.mode-math":"Mathematik","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tafel","tooltip.bold":"Fett","tooltip.italic":"Kursiv","tooltip.fraktur":"Fraktur","tooltip.script":"Skript","tooltip.caligraphic":"Kalligraphie","tooltip.typewriter":"Schreibmaschine","tooltip.roman-upright":"Römisch aufrecht","tooltip.row-by-col":"%@ × %@","menu.font-style":"Schriftstil","menu.accent":"Akzent","menu.decoration":"Dekoration","menu.color":"Farbe","menu.background-color":"Hintergrund","menu.evaluate":"Auswerten","menu.simplify":"Vereinfachen","menu.solve":"Lösen","menu.solve-for":"Lösen für %@","menu.cut":"Ausschneiden","menu.copy":"Kopieren","menu.copy-as-latex":"Als LaTeX kopieren","menu.copy-as-ascii-math":"Als ASCII Math kopieren","menu.copy-as-mathml":"Als MathML kopieren","menu.paste":"Einfügen","menu.select-all":"Alles auswählen","color.red":"Rot","color.orange":"Orange","color.yellow":"Gelb","color.lime":"Limette","color.green":"Grün","color.teal":"Blaugrün","color.cyan":"Cyan","color.blue":"Blau","color.indigo":"Indigo","color.purple":"Lila","color.magenta":"Magenta","color.black":"Schwarz","color.dark-grey":"Dunkelgrau","color.grey":"Grau","color.light-grey":"Hellgrau","color.white":"Weiß"},el:{"keyboard.tooltip.symbols":"σύμβολα","keyboard.tooltip.greek":"ελληνικά γράμματα","keyboard.tooltip.numeric":"Αριθμητικός","keyboard.tooltip.alphabetic":"Ρωμαϊκά γράμματα","tooltip.copy to clipboard":"Αντιγραφή στο πρόχειρο","tooltip.redo":"Ξανακάνω","tooltip.toggle virtual keyboard":"Εναλλαγή εικονικού πληκτρολογίου","tooltip.undo":"Ξεκάνω","menu.insert matrix":"Εισαγωγή μήτρα","menu.borders":"Οριοθέτες μήτρα","menu.array.add row above":"Προσθήκη σειράς μετά","menu.array.add row below":"Προσθήκη σειράς πριν","menu.array.add column after":"Προσθήκη στήλης μετά","menu.array.add column before":"Προσθήκη στήλης πριν","menu.array.delete row":"Διαγραφή σειράς","menu.array.delete rows":"Διαγραφή επιλεγμένων σειρών","menu.array.delete column":"Διαγραφή στήλης","menu.array.delete columns":"Διαγραφή επιλεγμένων στηλών","menu.mode":"Λειτουργία","menu.mode-math":"Μαθηματικά","menu.mode-text":"Κείμενο","menu.mode-latex":"LaTeX","tooltip.blackboard":"Πίνακας","tooltip.bold":"Έντονη","tooltip.italic":"Πλάγια","tooltip.fraktur":"Φράκτουρ","tooltip.script":"Σενάριο","tooltip.caligraphic":"Καλλιγραφική","tooltip.typewriter":"Μηχανή γραφής","tooltip.roman-upright":"Ρωμαϊκό Κατακόρυφο","tooltip.row-by-col":"%@ × %@","menu.font-style":"Στυλ γραμματοσειράς","menu.accent":"Τόνος","menu.decoration":"Διακόσμηση","menu.color":"Χρώμα","menu.background-color":"Χρώμα φόντου","menu.evaluate":"Αξιολόγηση","menu.simplify":"Απλοποίηση","menu.solve":"Λύση","menu.solve-for":"Λύση για %@","menu.cut":"Αποκοπή","menu.copy":"Αντιγραφή","menu.copy-as-latex":"Αντιγραφή ως LaTeX","menu.copy-as-ascii-math":"Αντιγραφή ως ASCII Math","menu.copy-as-mathml":"Αντιγραφή ως MathML","menu.paste":"Επικόλληση","menu.select-all":"Επιλογή όλων","color.red":"Κόκκινο","color.orange":"Πορτοκαλί","color.yellow":"Κίτρινο","color.lime":"Λαχανί","color.green":"Πράσινο","color.teal":"Κυανό","color.cyan":"Γαλάζιο","color.blue":"Μπλε","color.indigo":"Ινδικό","color.purple":"Μωβ","color.magenta":"Ματζέντα","color.black":"Μαύρο","color.dark-grey":"Σκούρο Γκρι","color.grey":"Γκρι","color.light-grey":"Ανοιχτό Γκρι","color.white":"Λευκό"},es:{"keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"Añadir Matriz","menu.borders":"Delimitadores de Matriz","menu.array.add row above":"Añadir Línea Antes","menu.array.add row below":"Añadir Línea Despues","menu.array.add column after":"Añadir Columna Despues","menu.array.add column before":"Añadir Columna Antes","menu.array.delete row":"Borrar Línea","menu.array.delete rows":"Borrar Líneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","menu.mode":"Modo","menu.mode-math":"Matemáticas","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Pizarra","tooltip.bold":"Negrita","tooltip.italic":"Cursiva","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligráfico","tooltip.typewriter":"Máquina de escribir","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@ × %@","menu.font-style":"Estilo de fuente","menu.accent":"Acento","menu.decoration":"Decoración","menu.color":"Color","menu.background-color":"Fondo","menu.evaluate":"Evaluar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Cortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Pegar","menu.select-all":"Seleccionar todo","color.red":"Rojo","color.orange":"Naranja","color.yellow":"Amarillo","color.lime":"Lima","color.green":"Verde","color.teal":"Verde azulado","color.cyan":"Cian","color.blue":"Azul","color.indigo":"Índigo","color.purple":"Morado","color.magenta":"Magenta","color.black":"Negro","color.dark-grey":"Gris oscuro","color.grey":"Gris","color.light-grey":"Gris claro","color.white":"Blanco"},fr:{"keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.numeric":"Numérique","keyboard.tooltip.alphabetic":"Lettres romaines","tooltip.menu":"Menu","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rétablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler","menu.insert matrix":"Insérer une Matrice","menu.borders":"Bords","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Après","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Après","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes Sélectionées","menu.array.delete column":"Enlever une Colone","menu.array.delete columns":"Enlever les Colonnes Sélectionées","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tableau noir","tooltip.bold":"Gras","tooltip.italic":"Italique","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Calligraphique","tooltip.typewriter":"Machine à écrire","tooltip.roman-upright":"Romain droit","tooltip.row-by-col":"%@ × %@","menu.font-style":"Style de police","menu.accent":"Accent","menu.decoration":"Décoration","menu.color":"Couleur","menu.background-color":"Arrière-plan","menu.evaluate":"Évaluer","menu.simplify":"Simplifier","menu.solve":"Résoudre","menu.solve-for":"Résoudre pour %@","menu.cut":"Couper","menu.copy":"Copier","menu.copy-as-latex":"Copier en LaTeX","menu.copy-as-ascii-math":"Copier en ASCII Math","menu.copy-as-mathml":"Copier en MathML","menu.paste":"Coller","menu.select-all":"Sélectionner tout","color.red":"Rouge","color.orange":"Orange","color.yellow":"Jaune","color.lime":"Citron vert","color.green":"Vert","color.teal":"Turquoise","color.cyan":"Cyan","color.blue":"Bleu","color.indigo":"Indigo","color.purple":"Violet","color.magenta":"Magenta","color.black":"Noir","color.dark-grey":"Gris foncé","color.grey":"Gris","color.light-grey":"Gris clair","color.white":"Blanc"},he:{"keyboard.tooltip.symbols":"סמלים","keyboard.tooltip.greek":"אותיות יווניות","keyboard.tooltip.numeric":"מספרי","keyboard.tooltip.alphabetic":"מכתבים רומיים","tooltip.copy to clipboard":"העתק ללוח","tooltip.redo":"לַעֲשׂוֹת שׁוּב","tooltip.toggle virtual keyboard":"החלף את המקלדת הווירטואלית","tooltip.undo":"לבטל","menu.insert matrix":"הכנס מטריקס","menu.borders":"מפרידי מטריקס","menu.array.add row above":"הוסף שורה אחרי","menu.array.add row below":"הוסף שורה לפני","menu.array.add column after":"הוסף עמודה אחרי","menu.array.add column before":"הוסף עמודה לפני","menu.array.delete row":"מחק שורה","menu.array.delete rows":"מחק שורות שנבחרו","menu.array.delete column":"מחק עמודה","menu.array.delete columns":"מחק עמודות שנבחרו","menu.mode":"מצב","menu.mode-math":"מתמטיקה","menu.mode-text":"טקסט","menu.mode-latex":"LaTeX","tooltip.blackboard":"לוח שחור","tooltip.bold":"מודגש","tooltip.italic":"נטוי","tooltip.fraktur":"פרקטור","tooltip.script":"כתב","tooltip.caligraphic":"קליגרפי","tooltip.typewriter":"מכונת כתיבה","tooltip.roman-upright":"רומי ישר","tooltip.row-by-col":"%@ × %@","menu.font-style":"סגנון גופן","menu.accent":"צליל","menu.decoration":"קישוט","menu.color":"צבע","menu.background-color":"רקע","menu.evaluate":"חשב","menu.simplify":"פשט","menu.solve":"פתור","menu.solve-for":"פתור עבור %@","menu.cut":"גזור","menu.copy":"העתק","menu.copy-as-latex":"העתק כ־LaTeX","menu.copy-as-ascii-math":"העתק כ־ASCII Math","menu.copy-as-mathml":"העתק כ־MathML","menu.paste":"הדבק","menu.select-all":"בחר הכל","color.red":"אדום","color.orange":"כתום","color.yellow":"צהוב","color.lime":"ירוק ליים","color.green":"ירוק","color.teal":"טיל","color.cyan":"ציאן","color.blue":"כחול","color.indigo":"אינדיגו","color.purple":"סגול","color.magenta":"מגנטה","color.black":"שחור","color.dark-grey":"אפור כהה","color.grey":"אפור","color.light-grey":"אפור בהיר","color.white":"לבן"},it:{"keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere Greche","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.alphabetic":"Lettere Romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.cut to clipboard":"Taglia negli appunti","tooltip.paste from clipboard":"Incolla dagli appunti","tooltip.redo":"Ripeti","tooltip.toggle virtual keyboard":"Attiva/Disattiva Tastiera Virtuale","tooltip.menu":"Menu","tooltip.undo":"Annulla","menu.borders":"Bordi","menu.insert matrix":"Inserisci Matrice","menu.array.add row above":"Aggiungi Riga Prima","menu.array.add row below":"Aggiungi Riga Dopo","menu.array.add column after":"Aggiungi Colonna Dopo","menu.array.add column before":"Aggiungi Colonna Prima","menu.array.delete row":"Elimina Riga","menu.array.delete rows":"Elimina Righe Selezionate","menu.array.delete column":"Elimina Colonna","menu.array.delete columns":"Elimina Colonne Selezionate","menu.mode":"Modalità","menu.mode-math":"Matematica","menu.mode-text":"Testo","menu.mode-latex":"LaTeX","menu.insert":"Inserisci","menu.insert.abs":"Valore Assoluto","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"Radice n-esima","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Logaritmo in base a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Calcolo","menu.insert.derivative":"Derivata","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"Derivata n-esima","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Integrale","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Somma","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Prodotto","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Numeri Complessi","menu.insert.modulus":"Modulo","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Argomento","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Parte Reale","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Parte Immaginaria","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Coniugato","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Lavagna","tooltip.bold":"Grassetto","tooltip.italic":"Corsivo","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Calligrafico","tooltip.typewriter":"Macchina da Scrivere","tooltip.roman-upright":"Romano Dritto","tooltip.row-by-col":"%@ × %@","menu.font-style":"Stile del Carattere","menu.accent":"Accento","menu.decoration":"Decorazione","menu.color":"Colore","menu.background-color":"Sfondo","menu.evaluate":"Valuta","menu.simplify":"Semplifica","menu.solve":"Risolvi","menu.solve-for":"Risolvi per %@","menu.cut":"Taglia","menu.copy":"Copia","menu.copy-as-latex":"Copia come LaTeX","menu.copy-as-ascii-math":"Copia come ASCII Math","menu.copy-as-mathml":"Copia come MathML","menu.paste":"Incolla","menu.select-all":"Seleziona Tutto","color.red":"Rosso","color.orange":"Arancione","color.yellow":"Giallo","color.lime":"Lime","color.green":"Verde","color.teal":"Verde Acqua","color.cyan":"Ciano","color.blue":"Blu","color.indigo":"Indaco","color.purple":"Viola","color.magenta":"Magenta","color.black":"Nero","color.dark-grey":"Grigio Scuro","color.grey":"Grigio","color.light-grey":"Grigio Chiaro","color.white":"Bianco"},ja:{"keyboard.tooltip.symbols":"シンボル","keyboard.tooltip.greek":"ギリシャ文字","keyboard.tooltip.numeric":"数値","keyboard.tooltip.alphabetic":"ローマ字","tooltip.menu":"メニュー","tooltip.copy to clipboard":"クリップボードにコピー","tooltip.redo":"やり直し","tooltip.toggle virtual keyboard":"仮想キーボードの切り替え","tooltip.undo":"元に戻す","menu.insert matrix":"マトリックスを挿入","menu.borders":"行列区切り文字","menu.array.add row above":"後に行を追加","menu.array.add row below":"前に行を追加","menu.array.add column after":"後に列を追加","menu.array.add column before":"前に列を追加","menu.array.delete row":"行を削除","menu.array.delete rows":"選択した行を削除する","menu.array.delete column":"列を削除","menu.array.delete columns":"選択した列を削除する","menu.mode":"モード","menu.mode-math":"数式","menu.mode-text":"テキスト","menu.mode-latex":"LaTeX","tooltip.blackboard":"黒板","tooltip.bold":"太字","tooltip.italic":"イタリック","tooltip.fraktur":"フラクトゥール","tooltip.script":"スクリプト","tooltip.caligraphic":"カリグラフィック","tooltip.typewriter":"タイプライター","tooltip.roman-upright":"ローマ直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"フォントスタイル","menu.accent":"アクセント","menu.decoration":"装飾","menu.color":"色","menu.background-color":"背景","menu.evaluate":"評価","menu.simplify":"簡略化","menu.solve":"解く","menu.solve-for":"%@ を解く","menu.cut":"切り取り","menu.copy":"コピー","menu.copy-as-latex":"LaTeXとしてコピー","menu.copy-as-ascii-math":"ASCII Mathとしてコピー","menu.copy-as-mathml":"MathMLとしてコピー","menu.paste":"貼り付け","menu.select-all":"すべて選択","color.red":"赤","color.orange":"オレンジ","color.yellow":"黄色","color.lime":"ライム","color.green":"緑","color.teal":"ティール","color.cyan":"シアン","color.blue":"青","color.indigo":"インディゴ","color.purple":"紫","color.magenta":"マゼンタ","color.black":"黒","color.dark-grey":"濃いグレー","color.grey":"グレー","color.light-grey":"薄いグレー","color.white":"白"},ko:{"keyboard.tooltip.symbols":"기호","keyboard.tooltip.greek":"그리스 문자","keyboard.tooltip.numeric":"숫자","keyboard.tooltip.alphabetic":"로마 문자","tooltip.copy to clipboard":"클립 보드에 복사","tooltip.redo":"다시 하다","tooltip.toggle virtual keyboard":"가상 키보드 전환","tooltip.undo":"실행 취소","menu.insert matrix":"매트릭스 삽입","menu.borders":"행렬 구분 기호","menu.array.add row above":"뒤에 행 추가","menu.array.add row below":"앞에 행 추가","menu.array.add column after":"뒤에 열 추가","menu.array.add column before":"앞에 열 추가","menu.array.delete row":"행 삭제","menu.array.delete rows":"선택한 행 삭제","menu.array.delete column":"열 삭제","menu.array.delete columns":"선택한 열 삭제","menu.mode":"モード","menu.mode-math":"数式","menu.mode-text":"テキスト","menu.mode-latex":"LaTeX","tooltip.blackboard":"칠판","tooltip.bold":"굵게","tooltip.italic":"이탤릭","tooltip.fraktur":"프랙투어","tooltip.script":"스크립트","tooltip.caligraphic":"캘리그래픽","tooltip.typewriter":"타자기","tooltip.roman-upright":"로마 직립","tooltip.row-by-col":"%@ × %@","menu.font-style":"글꼴 스타일","menu.accent":"악센트","menu.decoration":"장식","menu.color":"색상","menu.background-color":"배경","menu.evaluate":"평가","menu.simplify":"간소화","menu.solve":"해결","menu.solve-for":"%@에 대해 해결","menu.cut":"잘라내기","menu.copy":"복사","menu.copy-as-latex":"LaTeX로 복사","menu.copy-as-ascii-math":"ASCII Math로 복사","menu.copy-as-mathml":"MathML로 복사","menu.paste":"붙여넣기","menu.select-all":"모두 선택","color.red":"빨강","color.orange":"주황","color.yellow":"노랑","color.lime":"라임","color.green":"초록","color.teal":"청록","color.cyan":"청색","color.blue":"파랑","color.indigo":"남색","color.purple":"보라","color.magenta":"자홍","color.black":"검정","color.dark-grey":"진한 회색","color.grey":"회색","color.light-grey":"연한 회색","color.white":"흰색"},pl:{"keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.alphabetic":"Litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.cut to clipboard":"Wytnij ze Schowka","tooltip.paste from clipboard":"Wklej ze Schowka","tooltip.redo":"Przywróć","tooltip.toggle virtual keyboard":"Przełącz klawiaturę wirtualną","tooltip.menu":"Menu","tooltip.undo":"Cofnij","menu.borders":"Ograniczniki macierzy","menu.insert matrix":"Wstaw macierz","menu.array.add row above":"Dodaj wiersz przed","menu.array.add row below":"Dodaj wiersz po","menu.array.add column after":"Dodaj kolumnę po","menu.array.add column before":"Dodaj kolumnę przed","menu.array.delete row":"Usuń wiersz","menu.array.delete rows":"Usuń wybrane wiersze","menu.array.delete column":"Usuń kolumnę","menu.array.delete columns":"Usuń wybrane kolumny","menu.mode":"Tryb","menu.mode-math":"Formuła","menu.mode-text":"Tekst","menu.mode-latex":"LaTeX","menu.insert":"Wstaw","menu.insert.abs":"Wartość bezwzględna","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"Pierwiastek n-tego stopnia","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Logarytm o podstawie a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Rachunek różniczkowy i całkowy","menu.insert.derivative":"Pochodna","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"Pochodna n-tego rzędu","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Całka","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Suma","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Iloczyn","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Liczby zespolone","menu.insert.modulus":"Moduł","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Argument","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Część rzeczywista","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Część urojona","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Sprzężenie","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Tablica","tooltip.bold":"Pogrubienie","tooltip.italic":"Kursywa","tooltip.fraktur":"Fraktura","tooltip.script":"Skrypt","tooltip.caligraphic":"Kaligraficzny","tooltip.typewriter":"Maszynowy","tooltip.roman-upright":"Rzymski prosto","tooltip.row-by-col":"%@ × %@","menu.font-style":"Styl czcionki","menu.accent":"Akcent","menu.decoration":"Dekoracja","menu.color":"Kolor","menu.background-color":"Tło","menu.evaluate":"Oblicz","menu.simplify":"Uprość","menu.solve":"Rozwiąż","menu.solve-for":"Rozwiąż dla %@","menu.cut":"Wytnij","menu.copy":"Kopiuj","menu.copy-as-latex":"Kopiuj jako LaTeX","menu.copy-as-ascii-math":"Kopiuj jako ASCII Math","menu.copy-as-mathml":"Kopiuj jako MathML","menu.paste":"Wklej","menu.select-all":"Zaznacz wszystko","color.red":"Czerwony","color.orange":"Pomarańczowy","color.yellow":"Żółty","color.lime":"Limetkowy","color.green":"Zielony","color.teal":"Turkusowy","color.cyan":"Cyjan","color.blue":"Niebieski","color.indigo":"Indygo","color.purple":"Fioletowy","color.magenta":"Magenta","color.black":"Czarny","color.dark-grey":"Ciemnoszary","color.grey":"Szary","color.light-grey":"Jasnoszary","color.white":"Biały"},pt:{"keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar para área de transferência","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.borders":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes","menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","menu.mode":"Modo","menu.mode-math":"Fórmula","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Quadro Negro","tooltip.bold":"Negrito","tooltip.italic":"Itálico","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligráfico","tooltip.typewriter":"Máquina de Escrever","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@ × %@","menu.font-style":"Estilo da Fonte","menu.accent":"Acento","menu.decoration":"Decoração","menu.color":"Cor","menu.background-color":"Cor de Fundo","menu.evaluate":"Avaliar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Recortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Colar","menu.select-all":"Selecionar Tudo","color.red":"Vermelho","color.orange":"Laranja","color.yellow":"Amarelo","color.lime":"Verde Lima","color.green":"Verde","color.teal":"Verde-azulado","color.cyan":"Ciano","color.blue":"Azul","color.indigo":"Índigo","color.purple":"Roxo","color.magenta":"Magenta","color.black":"Preto","color.dark-grey":"Cinza Escuro","color.grey":"Cinza","color.light-grey":"Cinza Claro","color.white":"Branco"},uk:{"keyboard.tooltip.symbols":"Символи","keyboard.tooltip.greek":"Грецькі літери","keyboard.tooltip.numeric":"Числовий","keyboard.tooltip.alphabetic":"Римські літери","tooltip.copy to clipboard":"Копіювати в буфер обміну","tooltip.cut to clipboard":"Вирізати в буфер обміну","tooltip.paste from clipboard":"Вставити з буфера обміну","tooltip.redo":"Повторити","tooltip.toggle virtual keyboard":"Переключити віртуальну клавіатуру","tooltip.menu":"Меню","tooltip.undo":"Скасувати","menu.borders":"Межі","menu.insert matrix":"Вставити матрицю","menu.array.add row above":"Додати рядок перед","menu.array.add row below":"Додати рядок після","menu.array.add column after":"Додати стовпець після","menu.array.add column before":"Додати стовпець перед","menu.array.delete row":"Видалити рядок","menu.array.delete rows":"Видалити вибрані рядки","menu.array.delete column":"Видалити стовпець","menu.array.delete columns":"Видалити вибрані стовпці","menu.mode":"Режим","menu.mode-math":"Математика","menu.mode-text":"Текст","menu.mode-latex":"LaTeX","menu.insert":"Вставити","menu.insert.abs":"Абсолютне значення","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"Корінь n-го степеня","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Логарифм за основою a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Обчислення","menu.insert.derivative":"Похідна","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"Похідна n-го порядку","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Інтеграл","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Сума","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Добуток","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Комплексні числа","menu.insert.modulus":"Модуль","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Аргумент","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Дійсна частина","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Уявна частина","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Спряжене число","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Дошка","tooltip.bold":"Жирний","tooltip.italic":"Курсив","tooltip.fraktur":"Фрактурний","tooltip.script":"Рукописний","tooltip.caligraphic":"Каліграфічний","tooltip.typewriter":"Друкарський","tooltip.roman-upright":"Прямий римський","tooltip.row-by-col":"%@ × %@","menu.font-style":"Стиль шрифту","menu.accent":"Акцент","menu.decoration":"Оформлення","menu.color":"Колір","menu.background-color":"Фон","menu.evaluate":"Обчислити","menu.simplify":"Спростити","menu.solve":"Розв’язати","menu.solve-for":"Розв’язати для %@","menu.cut":"Вирізати","menu.copy":"Копіювати","menu.copy-as-latex":"Копіювати як LaTeX","menu.copy-as-ascii-math":"Копіювати як ASCII Math","menu.copy-as-mathml":"Копіювати як MathML","menu.paste":"Вставити","menu.select-all":"Вибрати все","color.red":"Червоний","color.orange":"Помаранчевий","color.yellow":"Жовтий","color.lime":"Лаймовий","color.green":"Зелений","color.teal":"Бірюзовий","color.cyan":"Синьо-зелений","color.blue":"Синій","color.indigo":"Індиго","color.purple":"Фіолетовий","color.magenta":"Пурпурний","color.black":"Чорний","color.dark-grey":"Темно-сірий","color.grey":"Сірий","color.light-grey":"Світло-сірий","color.white":"Білий"},"zh-cn":{"keyboard.tooltip.symbols":"符号","keyboard.tooltip.greek":"希腊字母","keyboard.tooltip.numeric":"数字","keyboard.tooltip.alphabetic":"罗马字母","tooltip.copy to clipboard":"复制到剪贴板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切换虚拟键盘","tooltip.undo":"撤消","menu.insert matrix":"插入矩阵","menu.borders":"矩阵分隔符","menu.array.add row above":"在后面添加行","menu.array.add row below":"在前面添加行","menu.array.add column after":"在后面添加列r","menu.array.add column before":"在前面添加列","menu.array.delete row":"删除行","menu.array.delete rows":"删除选定行","menu.array.delete column":"删除列","menu.array.delete columns":"删除选定的列","menu.mode":"模式","menu.mode-math":"数学","menu.mode-text":"文本","menu.mode-latex":"LaTeX","tooltip.blackboard":"黑板","tooltip.bold":"粗体","tooltip.italic":"斜体","tooltip.fraktur":"Fraktur","tooltip.script":"脚本","tooltip.caligraphic":"草书","tooltip.typewriter":"打字机","tooltip.roman-upright":"罗马直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"字体样式","menu.accent":"重音","menu.decoration":"装饰","menu.color":"颜色","menu.background-color":"背景","menu.evaluate":"计算","menu.simplify":"简化","menu.solve":"求解","menu.solve-for":"求解 %@","menu.cut":"剪切","menu.copy":"复制","menu.copy-as-latex":"复制为 LaTeX","menu.copy-as-ascii-math":"复制为 ASCII Math","menu.copy-as-mathml":"复制为 MathML","menu.paste":"粘贴","menu.select-all":"全选","color.red":"红色","color.orange":"橙色","color.yellow":"黄色","color.lime":"绿黄色","color.green":"绿色","color.teal":"青色","color.cyan":"蓝绿色","color.blue":"蓝色","color.indigo":"靛蓝色","color.purple":"紫色","color.magenta":"洋红色","color.black":"黑色","color.dark-grey":"深灰色","color.grey":"灰色","color.light-grey":"浅灰色","color.white":"白色"},"zh-tw":{"keyboard.tooltip.symbols":"符號","keyboard.tooltip.greek":"希臘字母","keyboard.tooltip.numeric":"數字","keyboard.tooltip.alphabetic":"羅馬字母","tooltip.copy to clipboard":"複製到剪貼板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切換虛擬鍵盤","tooltip.undo":"撤消","menu.insert matrix":"插入矩陣","menu.borders":"矩陣分隔符","menu.array.add row above":"在後面添加行","menu.array.add row below":"在前面添加行","menu.array.add column after":"在後面添加列","menu.array.add column before":"在前面添加列","menu.array.delete row":"刪除行","menu.array.delete rows":"刪除選定行","menu.array.delete column":"刪除列","menu.array.delete columns":"刪除選定的列","menu.mode":"模式","menu.mode-math":"數學","menu.mode-text":"文本","menu.mode-latex":"LaTeX","tooltip.blackboard":"黑板","tooltip.bold":"粗體","tooltip.italic":"斜體","tooltip.fraktur":"Fraktur","tooltip.script":"腳本","tooltip.caligraphic":"草書","tooltip.typewriter":"打字機","tooltip.roman-upright":"羅馬直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"字體樣式","menu.accent":"重音","menu.decoration":"裝飾","menu.color":"顏色","menu.background-color":"背景","menu.evaluate":"計算","menu.simplify":"簡化","menu.solve":"求解","menu.solve-for":"求解 %@","menu.cut":"剪下","menu.copy":"複製","menu.copy-as-latex":"複製為 LaTeX","menu.copy-as-ascii-math":"複製為 ASCII Math","menu.copy-as-mathml":"複製為 MathML","menu.paste":"貼上","menu.select-all":"全選","color.red":"紅色","color.orange":"橙色","color.yellow":"黃色","color.lime":"綠黃色","color.green":"綠色","color.teal":"青色","color.cyan":"藍綠色","color.blue":"藍色","color.indigo":"靛藍色","color.purple":"紫色","color.magenta":"洋紅色","color.black":"黑色","color.dark-grey":"深灰色","color.grey":"灰色","color.light-grey":"淺灰色","color.white":"白色"}};function os(){return"window"in globalThis&&"document"in globalThis}function mB(){return"matchMedia"in window?window.matchMedia("(pointer: coarse)").matches:"ontouchstart"in window||navigator.maxTouchPoints>0}function poe(){try{return window.self!==window.top}catch{return!0}}function gB(){return typeof navigator.vibrate=="function"}function X0(){var t,e;if(!os())return"other";let i=(e=(t=navigator.userAgentData)==null?void 0:t.platform)!=null?e:navigator.platform;return/^mac/i.test(i)?navigator.maxTouchPoints===5?"ios":"macos":/^win/i.test(i)?"windows":/android/i.test(navigator.userAgent)?"android":/iphone|ipod|ipad/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":"other"}function foe(){if(!os())return!0;if(/firefox/i.test(navigator.userAgent)){let t=navigator.userAgent.match(/firefox\/(\d+)/i);return t?parseInt(t[1])>=78:!1}if(/trident/i.test(navigator.userAgent))return!1;if(/edge/i.test(navigator.userAgent)){let t=navigator.userAgent.match(/edg\/(\d+)/i);return t?parseInt(t[1])>=79:!1}return!0}function M9(){return HTMLElement.prototype.hasOwnProperty("popover")}var Ct={strings:hoe,_locale:"",_dirty:!1,_subscribers:[],_numberFormatter:void 0,get locale(){return Ct._locale||(Ct._locale=os()?navigator.language.slice(0,5):"en-US"),Ct._locale},set locale(t){Ct._locale=t,Ct._numberFormatter=void 0,Ct.dirty=!0},get numberFormatter(){if(!Ct._numberFormatter)try{Ct._numberFormatter=new Intl.NumberFormat(Ct.locale)}catch{try{Ct._numberFormatter=new Intl.NumberFormat(Ct.locale.slice(0,2))}catch{Ct._numberFormatter=new Intl.NumberFormat("en-US")}}return Ct._numberFormatter},merge(t,e){if(typeof t=="string"&&e)Ct.strings[t]=q(q({},Ct.strings[t]),e),Ct.dirty=!0;else for(let i of Object.keys(t))Ct.merge(i,t[i])},get dirty(){return Ct._dirty},set dirty(t){Ct._dirty||Ct._dirty===t||(Ct._dirty=!0,setTimeout(()=>{Ct._dirty=!1,this._subscribers.forEach(e=>e==null?void 0:e())},0))},subscribe(t){return Ct._subscribers.push(t),Ct._subscribers.length-1},unsubscribe(t){t<0||t>=Ct._subscribers.length||(Ct._subscribers[t]=void 0)},update(t){let e=t.querySelectorAll("[data-l10n-tooltip]");for(let i of e){let r=i.getAttribute("data-l10n-tooltip");if(r){let n=ft(r);n&&i.setAttribute("data-tooltip",n)}}e=t.querySelectorAll("[data-l10n-arial-label]");for(let i of e){let r=i.getAttribute("data-l10n-arial-label");if(r){let n=ft(r);n&&i.setAttribute("aria-label",n)}}}};function ft(t,...e){if(t===void 0)return;let i="",r=Ct.locale;Ct.strings[r]&&(i=Ct.strings[r][t]);let n=r.slice(0,2);if(!i&&Ct.strings[n]&&(i=Ct.strings[n][t]),i||(i=Ct.strings.en[t]),!i)return;let s=/(%@|%([0-9]+)\$@)/g,a=s.exec(i),o=0;for(;a;){if(e[o++]){let l=a[2]?parseInt(a[2],10)-1:o-1,u=e[l];typeof u=="number"&&(u=Ct.numberFormatter.format(u)),i=i.replace(a[1],u)}a=s.exec(i)}return i=i.replace(/%%/g,"%"),i}var moe={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",m9:"#843D99"},goe={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},ku={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",cyan:"#b8e5c9",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},Tu={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",cyan:"#13a7ec",blue:"#0d80f2",indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},yB={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},yoe={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"};function T2(t){var e,i,r,n,s,a;let o=t.split("!"),l,u,c,d=255,h=255,f=255,g=-1,y=o.length>0&&o[0].startsWith("-");y&&(o[0]=o[0].slice(1));for(let C=0;C<o.length;C++){l=d,u=h,c=f;let S=(e=o[C].trim().match(/^([A-Za-z\d-]+)/))==null?void 0:e[1],A=S==null?void 0:S.toLowerCase(),T=S&&(a=(s=(n=(r=(i=Tu[A])!=null?i:Tu[yB[S]])!=null?r:goe[S])!=null?n:yoe[S])!=null?s:moe[S])!=null?a:o[C].trim(),M=T.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if(M!=null&&M[1]&&M[2]&&M[3])d=Math.max(0,Math.min(255,Number.parseInt(M[1],16))),h=Math.max(0,Math.min(255,Number.parseInt(M[2],16))),f=Math.max(0,Math.min(255,Number.parseInt(M[3],16)));else if(M=T.match(/^#([\da-f]{3})$/i),M!=null&&M[1]){let D=Number.parseInt(M[1][0],16),B=Number.parseInt(M[1][1],16),F=Number.parseInt(M[1][2],16);d=Math.max(0,Math.min(255,D*16+D)),h=Math.max(0,Math.min(255,B*16+B)),f=Math.max(0,Math.min(255,F*16+F))}else if(M=T.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),M!=null&&M[1]&&M[2]&&M[3])d=Math.max(0,Math.min(255,Number.parseInt(M[1]))),h=Math.max(0,Math.min(255,Number.parseInt(M[2]))),f=Math.max(0,Math.min(255,Number.parseInt(M[3])));else return;g>=0&&(d=(1-g)*d+g*l,h=(1-g)*h+g*u,f=(1-g)*f+g*c,g=-1),C+1<o.length&&(g=Math.max(0,Math.min(100,Number.parseInt(o[++C])))/100)}return g>=0&&(d=g*d+(1-g)*l,h=g*h+(1-g)*u,f=g*f+(1-g)*c),y&&(d=255-d,h=255-h,f=255-f),"#"+("00"+Math.round(d).toString(16)).slice(-2)+("00"+Math.round(h).toString(16)).slice(-2)+("00"+Math.round(f).toString(16)).slice(-2)}function v6(t){var e,i;return t=t.trim(),(i=(e=ku[t.toLowerCase()])!=null?e:ku[yB[t]])!=null?i:T2(t)}function voe(t){if(!t||t[0]!=="#")return;t=t.slice(1);let e;return t.length<=4?(e={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)},t.length===4&&(e.a=parseInt(t[3]+t[3],16)/255)):(e={r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)},t.length===8&&(e.a=parseInt(t[6]+t[7],16)/255)),e&&e.a===void 0&&(e.a=1),e}function g3(t,e,i){return i<0&&(i+=6),i>=6&&(i-=6),i<1?(e-t)*i+t:i<3?e:i<4?(e-t)*(4-i)+t:t}function boe(t){let[e,i,r]=[t.h,t.s,t.l];e=(e+360)%360/60,r=Math.max(0,Math.min(r,1)),i=Math.max(0,Math.min(i,1));let n=r<=.5?r*(i+1):r+i-r*i,s=r*2-n;return{r:Math.round(255*g3(s,n,e+2)),g:Math.round(255*g3(s,n,e)),b:Math.round(255*g3(s,n,e-2))}}function y3(t){return t<0?0:t>255?255:Math.round(t)}function xoe(t){let{r:e,g:i,b:r}=t,n=((1<<24)+(y3(e)<<16)+(y3(i)<<8)+y3(r)).toString(16).slice(1);return n[0]===n[1]&&n[2]===n[3]&&n[4]===n[5]&&n[6]===n[7]&&(n=n[0]+n[2]+n[4]),"#"+n}function _oe(t){let{r:e,g:i,b:r}=t;e=e/255,i=i/255,r=r/255;let n=Math.min(e,i,r),s=Math.max(e,i,r),a=s-n,o,l;s===n?o=0:e===s?o=(i-r)/a:i===s?o=2+(r-e)/a:r===s&&(o=4+(e-i)/a),o=Math.min(o*60,360),o<0&&(o+=360);let u=(n+s)/2;return s===n?l=0:u<=.5?l=a/(s+n):l=a/(2-s-n),{h:o,s:l,l:u}}function woe(t){let e=voe(t);if(!e)return t;let{h:i,s:r,l:n}=_oe(e);return r+=.1,n-=.1,xoe(boe({h:i,s:r,l:n}))}var vB={60:"\\lt",62:"\\gt",111:"o",38:"\\&",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",10178:"\\perp",10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},A5={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},bB=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120822,len:10,offset:48,variant:"monospace"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"}];function M5(t,e,i){if(!/[A-Za-z\d]/.test(t)||(i==="up"&&(i=void 0),!e&&!i))return;let r=t.codePointAt(0);if(r===void 0)return t;for(let n of bB)if((!e||n.variant===e)&&(!i||n.style===i)&&r>=n.offset&&r<n.offset+n.len){let s=n.start+r-n.offset;return String.fromCodePoint(A5[s]||s)}}function Soe(t){var e;if((t<119808||t>120831)&&(t<8448||t>8527))return{char:String.fromCodePoint(t)};for(let i in A5)if(A5[i]===t){t=(e=i.codePointAt(0))!=null?e:0;break}for(let i of bB)if(t>=i.start&&t<i.start+i.len)return{char:String.fromCodePoint(t-i.start+i.offset),variant:i.variant,style:i.style};return{char:String.fromCodePoint(t)}}function Coe(t){var e;if("{}<>[]$&*#^_%:'˜".includes(t)||t.length>1)return;let i=(e=t.codePointAt(0))!=null?e:0,r=vB[i];if(r)return r;let{char:n,variant:s,style:a}=Soe(i);if(!(!s&&!a)){switch(r=n,s){case"double-struck":r=`\\mathbb{${r}}`;break;case"fraktur":r=`\\mathfrak{${r}}`;break;case"script":r=`\\mathscr{${r}}`;break;case"sans-serif":r=`\\mathsf{${r}}`;break;case"monospace":r=`\\mathtt{${r}}`;break;case"calligraphic":r=`\\mathcal{${r}}`;break}switch(a){case"bold":r=`\\mathbf{${r}}`;break;case"italic":r=`\\mathit{${r}}`;break;case"bolditalic":r=`\\mathbfit{${r}}`;break}return r}}function Ne(t){return t?Array.isArray(t)?t:typeof t=="object"&&"group"in t?t.group:[]:[]}var Zh={},ag=q({},vB),i0={},b6={},koe={darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",Uarr:"\\Uparrow",C:"\\mathbb{C}",H:"\\mathbb{H}",N:"\\mathbb{N}",Q:"\\mathbb{Q}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",doublecap:"\\Cap",doublecup:"\\Cup",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",hAar:"\\Leftrightarrow",harr:"\\leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",Kappa:"\\mathrm{K}",larr:"\\leftarrow",Larr:"\\Leftarrow",lArr:"\\Leftarrow",lrarr:"\\leftrightarrow",Lrarr:"\\Leftrightarrow",lrArr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",part:"\\partial",plusmn:"\\pm",rarr:"\\rightarrow",Rarr:"\\Rightarrow",rArr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",restriction:"\\upharpoonright",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",varcoppa:"\\coppa",weierp:"\\wp",Zeta:"\\mathrm{Z}"},Toe={varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1,captureSelection:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},Eoe={bra:{def:"\\mathinner{\\langle{#1}|}",args:1,captureSelection:!1},ket:{def:"\\mathinner{|{#1}\\rangle}",args:1,captureSelection:!1},braket:{def:"\\mathinner{\\langle{#1}\\rangle}",args:1,captureSelection:!1},set:{def:"\\mathinner{\\lbrace #1 \\rbrace}",args:1,captureSelection:!1},Bra:{def:"\\left\\langle #1\\right|",args:1,captureSelection:!1},Ket:{def:"\\left|#1\\right\\rangle",args:1,captureSelection:!1},Braket:{def:"\\left\\langle{#1}\\right\\rangle",args:1,captureSelection:!1},Set:{def:"\\left\\lbrace #1 \\right\\rbrace",args:1,captureSelection:!1}},Aoe={strut:{primitive:!0,def:"\\phantom{\\rule[0.3\\baselineskip]{0}{0.7\\baselineskip}}",args:0,captureSelection:!0},iff:{primitive:!0,captureSelection:!0,def:"\\;\\Longleftrightarrow\\;}"},nicefrac:"^{#1}\\!\\!/\\!_{#2}",phase:{def:"\\enclose{phasorangle}{#1}",args:1,captureSelection:!1},rd:"\\mathrm{d}",rD:"\\mathrm{D}",odif:"\\mathrm{d}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",capitalDifferentialD:"\\mathrm{D}",mathstrut:{def:"\\vphantom{(}",primitive:!0},angl:"\\enclose{actuarial}{#1}",angln:"\\enclose{actuarial}{n}",anglr:"\\enclose{actuarial}{r}",anglk:"\\enclose{actuarial}{k}",mathtools:{primitive:!0,package:{ordinarycolon:":",vcentcolon:"\\mathrel{\\mathop\\ordinarycolon}",dblcolon:'{\\mathop{\\char"2237}}',coloneqq:'{\\mathop{\\char"2254}}',Coloneqq:'{\\mathop{\\char"2a74}}',coloneq:'{\\mathop{\\char"2254}}',Coloneq:'{\\mathop{\\char"2A74}}',eqqcolon:'{\\mathop{\\char"2255}}',Eqqcolon:'{\\mathop{\\char"3D\\char"2237}}',eqcolon:'{\\mathop{\\char"2255}}',Eqcolon:'{\\mathop{\\char"3D\\char"2237}}',colonapprox:'{\\mathop{\\char"003A\\char"2248}}',Colonapprox:'{\\mathop{\\char"2237\\char"2248}}',colonsim:'{\\mathop{\\char"3A\\char"223C}}',Colonsim:'{\\mathop{\\char"2237\\char"223C}}',colondash:"\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",Colondash:"\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}"}},ratio:"\\vcentcolon",coloncolon:"\\dblcolon",colonequals:"\\coloneq",coloncolonequals:"\\Coloneq",equalscolon:"\\eqcolon",equalscoloncolon:"\\Eqcolon",colonminus:"\\colondash",coloncolonminus:"\\Colondash",minuscolon:"\\dashcolon",minuscoloncolon:"\\Dashcolon",coloncolonapprox:"\\Colonapprox",coloncolonsim:"\\Colonsim",simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",simcoloncolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcoloncolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",notni:"\\mathrel{\\char`∌}",limsup:"\\operatorname*{lim\\,sup}",liminf:"\\operatorname*{lim\\,inf}",injlim:"\\operatorname*{inj\\,lim}",projlim:"\\operatorname*{proj\\,lim}",varlimsup:"\\operatorname*{\\overline{lim}}",varliminf:"\\operatorname*{\\underline{lim}}",varinjlim:"\\operatorname*{\\underrightarrow{lim}}",varprojlim:"\\operatorname*{\\underleftarrow{lim}}",argmin:"\\operatorname*{arg\\,min}",argmax:"\\operatorname*{arg\\,max}",plim:"\\mathop{\\operatorname{plim}}\\limits",tripledash:{def:"\\vphantom{-}\\raise{4mu}{\\mkern1.5mu\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2mu}}",expand:!0},"braket.sty":{package:Eoe},"amsmath.sty":{package:Toe,primitive:!0},"texvc.sty":{package:koe,primitive:!1}},Rc={" ":32,"\\!":33,"\\#":35,"\\$":36,"\\%":37,"\\&":38,"\\_":95,"-":45,"\\textunderscore":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\textbraceleft":123,"\\textbraceright":125,"\\lbrace":123,"\\rbrace":125,"\\lbrack":91,"\\rbrack":93,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,"\\textdaggerdbl":8225,"–":8211,"—":8212,"‘":8216,"’":8217,"“":8220,"”":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},Moe=/[\w!@*()-=+{}\[\]\\';:?/.,~<>`|$%#&^" ]/,D5,Jh;foe()?(D5=new RegExp("\\p{Letter}","u"),Jh=new RegExp("[0-9\\p{Letter}]","u")):(D5=/[a-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒößÖẞìíòúÌÍÒÚáñÁÑ]/,Jh=/[\da-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒößÖẞìíòúÌÍÒÚáñÁÑ]/);function L5(t,e,i="mord",r){e!==void 0&&(Zh[t]={definitionType:"symbol",type:i,variant:r,codepoint:e},ag[e]||(ag[e]=t))}function or(t,e,i){if(typeof t=="string"){for(let r=0;r<t.length;r++){let n=t.charAt(r);L5(n,n.codePointAt(0))}return}for(let[r,n,s,a]of t)L5(r,n,s??e,a??i)}function xB(t,e){for(let i=t;i<=e;i++)L5(String.fromCodePoint(i),i)}function Doe(t){var e;return(e=b6[t])!=null?e:null}function Loe(t,e){var i,r;if(e.length===0||e==="\\"||!e.startsWith("\\"))return[];let n=[];for(let a in i0)a.startsWith(e)&&!i0[a].infix&&n.push({match:a,frequency:(i=i0[a].frequency)!=null?i:0});for(let a in Zh)a.startsWith(e)&&n.push({match:a,frequency:(r=Zh[a].frequency)!=null?r:0});let s=e.substring(1);for(let a of Object.keys(t.options.macros))a.startsWith(s)&&n.push({match:"\\"+a,frequency:0});return n.sort((a,o)=>{var l,u;return a.frequency===o.frequency?a.match.length===o.match.length?a.match<o.match?-1:1:a.match.length-o.match.length:((l=o.frequency)!=null?l:0)-((u=a.frequency)!=null?u:0)}),n.map(a=>a.match)}function D9(t){let e="auto",i=t.match(/:([^=]+)/);return i&&(e=i[1].trim()),e}function og(t){if(!t)return[];let e=[],i=t.split("]");if(i[0].startsWith("[")){e.push({isOptional:!0,type:D9(i[0].slice(1))});for(let r=1;r<=i.length;r++)e.push(...og(i[r]))}else if(i=t.split("}"),i[0].startsWith("{")){e.push({isOptional:!1,type:D9(i[0].slice(1))});for(let r=1;r<=i.length;r++)e.push(...og(i[r]))}return e}function _B(t){if(!t)return"";let e="",i=!0;for(let r of t)typeof r.value=="string"?e+=r.value:i=!1;return i?e:""}function po(t,e,i){typeof t=="string"&&(t=[t]);let r={tabular:!0,rootOnly:!1,params:og(e),createAtom:i};for(let n of t)b6[n]=r}function x6(t,e,i){var r;typeof t=="string"&&(t=[t]);let n={tabular:(r=i==null?void 0:i.tabular)!=null?r:!1,rootOnly:!0,params:[],createAtom:e};for(let s of t)b6[s]=n}function fe(t,e,i){var r,n;i||(i={});let s={definitionType:"function",params:og(e),ifMode:i.ifMode,isFunction:(r=i.isFunction)!=null?r:!1,applyMode:i.applyMode,infix:(n=i.infix)!=null?n:!1,parse:i.parse,createAtom:i.createAtom,applyStyle:i.applyStyle,serialize:i.serialize,render:i.render};if(typeof t=="string")i0["\\"+t]=s;else for(let a of t)i0["\\"+a]=s}var zf;function _6(t){return zf||(zf=B5(Aoe)),t?B5(q(q({},zf),t)):zf}function L9(t,e){var i,r,n,s;if(typeof t=="string"){let a=0,o=t;return/(^|[^\\])#1/.test(o)&&(a=1),/(^|[^\\])#2/.test(o)&&(a=2),/(^|[^\\])#3/.test(o)&&(a=3),/(^|[^\\])#4/.test(o)&&(a=4),/(^|[^\\])#5/.test(o)&&(a=5),/(^|[^\\])#6/.test(o)&&(a=6),/(^|[^\\])#7/.test(o)&&(a=7),/(^|[^\\])#8/.test(o)&&(a=8),/(^|[^\\])#9/.test(o)&&(a=9),{expand:(i=e==null?void 0:e.expand)!=null?i:!0,captureSelection:(r=e==null?void 0:e.captureSelection)!=null?r:!0,args:a,def:o}}return q({expand:(n=e==null?void 0:e.expand)!=null?n:!0,captureSelection:(s=e==null?void 0:e.captureSelection)!=null?s:!0,args:0},t)}function B5(t){if(!t)return{};let e={};for(let i of Object.keys(t)){let r=t[i];if(r==null)delete e[i];else if(typeof r=="object"&&"package"in r)for(let n of Object.keys(r.package))e[n]=L9(r.package[n],{expand:!r.primitive,captureSelection:r.captureSelection});else e[i]=L9(r)}return e}function br(t,e="math"){if(!t||t.length===0)return null;let i=null;if(t.startsWith("\\")){if(i=i0[t],i)return!i.ifMode||i.ifMode===e?i:null;e==="math"?i=Zh[t]:Rc[t]&&(i={definitionType:"symbol",type:"mord",codepoint:Rc[t]})}else if(e==="math"){if(i=Zh[t],!i&&t.length===1){let r=SB("math",t.codePointAt(0));return r.startsWith("\\")?Z(q({},br(r,"math")),{command:r}):null}}else Rc[t]?i={definitionType:"symbol",type:"mord",codepoint:Rc[t]}:e==="text"&&(i={definitionType:"symbol",type:"mord",codepoint:t.codePointAt(0)});return i??null}function wB(t,e){if(!t.startsWith("\\"))return null;let i=t.slice(1);return e[i]}function SB(t,e){return e===void 0?"":t==="math"&&ag[e]?ag[e]:t==="text"&&Object.keys(Rc).find(r=>Rc[r]===e)||String.fromCodePoint(e)}var jn=[0,.68889,0,0,.72222],zl=[0,.68889,0,0,.66667],v3=[0,.68889,0,0,.77778],Uf=[0,.68889,0,0,.61111],B9=[.16667,.68889,0,0,.77778],Ad=[0,.68889,0,0,.55556],jt=[0,0,0,0,.25],P9=[0,.825,0,0,2.33334],I9=[0,.9,0,0,2.33334],qf=[0,.68889,0,0,.54028],b3=[-.03598,.46402,0,0,.5],Ar=[-.13313,.36687,0,0,1],jf=[.01354,.52239,0,0,1],R9=[.01354,.52239,0,0,1.11111],O9=[0,.54986,0,0,1],Vf=[0,.69224,0,0,.5],x3=[0,.43056,0,0,1],Eo=[.08198,.58198,0,0,.77778],Hf=[.19444,.69224,0,0,.41667],Kf=[.1808,.675,0,0,1],F9=[.19444,.69224,0,0,.83334],N9=[.13667,.63667,0,0,1],$9=[-.064,.437,0,0,1.334],Ao=[.08167,.58167,0,0,.77778],Md=[0,.69224,0,0,.72222],_3=[0,.69224,0,0,.66667],Wf=[-.13313,.36687,0,0,.77778],z9=[.06062,.54986,0,0,.77778],Gf=[0,.69224,0,0,.77778],uc=[.25583,.75583,0,0,.77778],Os=[.25142,.75726,0,0,.77778],cc=[.20576,.70576,0,0,.77778],fs=[.30274,.79383,0,0,.77778],Dd=[.22958,.72958,0,0,.77778],U9=[.1808,.675,0,0,.77778],Fs=[.13667,.63667,0,0,.77778],an=[.13597,.63597,0,0,.77778],Mo=[.03517,.54986,0,0,.77778],dc=[0,.675,0,0,.77778],q9=[.19444,.69224,0,0,.61111],j9=[0,.54986,0,0,.76042],V9=[0,.54986,0,0,.66667],Do=[.0391,.5391,0,0,.77778],H9=[.03517,.54986,0,0,1.33334],K9=[.38569,.88569,0,0,.77778],Xf=[.23222,.74111,0,0,.77778],W9=[.19444,.69224,0,0,.77778],G9=[0,.37788,0,0,.5],Yf=[0,.54986,0,0,.72222],X9=[0,.69224,0,0,.83334],Y9=[.11111,.69224,0,0,.66667],hc=[.26167,.75726,0,0,.77778],Z9=[.48256,.98256,0,0,.77778],J9=[.28481,.79383,0,0,.77778],Q9=[.08167,.58167,0,0,.22222],ew=[.08167,.58167,0,0,.38889],tw=[0,.43056,.04028,0,.66667],iw=[.41951,.91951,0,0,.77778],rw=[.24982,.74947,0,0,.38865],nw=[.08319,.58283,0,0,.75623],sw=[0,.10803,0,0,.27764],w3=[0,.47534,0,0,.50181],Ld=[.18906,.47534,0,0,.50181],aw=[0,.69141,0,0,.50181],ow=[.24982,.74947,0,0,.27764],S3=[0,.69141,0,0,.21471],Zf=[.25,.75,0,0,.44722],Vn=[0,.64444,0,0,.575],pc=[.08556,.58556,0,0,.89444],Jf=[0,.69444,0,0,.89444],Qf=[0,.68611,0,0,.9],C3=[0,.68611,0,0,.86944],Lo=[.25,.75,0,0,.575],em=[.25,.75,0,0,.31944],Ul=[0,.69444,0,0,.63889],fc=[0,.69444,0,0,.31944],lw=[0,.44444,0,0,.63889],uw=[0,.44444,0,0,.51111],Bo=[0,.69444,0,0,.575],ms=[.13333,.63333,0,0,.89444],cw=[0,.44444,0,0,.31944],dw=[0,.69444,0,0,.86944],hw=[0,.68611,0,0,.69166],tm=[0,.68611,0,0,.83055],k3=[0,.68611,0,0,.89444],T3=[0,.69444,0,0,.60278],pw=[.19444,.69444,0,0,.51111],fw=[0,.69444,0,0,.83055],Ns=[-.10889,.39111,0,0,1.14999],mw=[.19444,.69444,0,0,.575],Bd=[.19444,.69444,0,0,1.14999],gw=[.19444,.69444,0,0,.70277],yw=[.05556,.75,0,0,.575],E3=[0,.68611,0,0,.95833],vw=[.08556,.58556,0,0,.76666],A3=[-.02639,.47361,0,0,.575],bw=[0,.44444,0,0,.89444],ql=[0,.55556,0,0,.76666],xw=[-.10889,.39111,0,0,.89444],M3=[.00222,.50222,0,0,.89444],Po=[.19667,.69667,0,0,.89444],_w=[.08556,.58556,0,0,1.14999],D3=[0,.69444,0,0,.70277],im=[-.02778,.47222,0,0,.575],rm=[.25,.75,0,0,.51111],ww=[-.13889,.36111,0,0,1.14999],Sw=[.19444,.69444,0,0,1.02222],nm=[.12963,.69444,0,0,.89444],Cw=[.19444,.69444,0,0,.44722],Io=[0,.64444,.13167,0,.59111],kw=[.19444,.64444,.13167,0,.59111],L3=[0,.68611,.17208,0,.8961],Tw=[.19444,.44444,.105,0,.53222],Ew=[0,.44444,.085,0,.82666],Aw=[0,.69444,.06709,0,.59111],sm=[0,.69444,.12945,0,.35555],Mw=[0,.69444,0,0,.94888],B3=[0,.69444,.11472,0,.59111],Dw=[0,.68611,.10778,0,.88555],Lw=[0,.69444,.07939,0,.62055],am=[0,.69444,.12417,0,.30667],Ro=[0,.64444,.13556,0,.51111],Bw=[.19444,.64444,.13556,0,.51111],om=[0,.68333,.16389,0,.74333],Pw=[.19444,.43056,.08847,0,.46],Iw=[0,.43056,.07514,0,.71555],Rw=[0,.69444,.06646,0,.51111],Ow=[0,.69444,0,0,.83129],Fw=[0,.69444,.1225,0,.51111],Nw=[0,.68333,.09403,0,.76666],$w=[0,.68333,.11111,0,.76666],zw=[0,.69444,.06961,0,.51444],ka=[0,.69444,0,0,.27778],mc=[.25,.75,0,0,.38889],Hn=[0,.64444,0,0,.5],jl=[0,.69444,0,0,.77778],Vl=[0,.68333,0,0,.75],Pd=[0,.68333,0,0,.77778],Uw=[0,.68333,0,0,.68056],Id=[0,.68333,0,0,.72222],Ta=[.25,.75,0,0,.5],lm=[.25,.75,0,0,.27778],Wi=[0,.69444,0,0,.5],gc=[0,.69444,0,0,.55556],P3=[0,.43056,0,0,.44445],Rd=[0,.43056,0,0,.5],qw=[.19444,.43056,0,0,.55556],jw=[0,.43056,0,0,.55556],Kn=[.08333,.58333,0,0,.77778],Vw=[0,.43056,0,0,.27778],Hw=[0,.66786,0,0,.27778],Kw=[0,.69444,0,0,.75],Ww=[0,.66786,0,0,.5],Gw=[0,.68333,0,0,.625],I3=[.19444,.69444,0,0,.44445],Od=[0,.69444,0,0,.72222],Xw=[.19444,.69444,0,0,.5],Fd=[.19444,.69444,0,0,1],Yw=[.011,.511,0,0,1.126],R3=[.19444,.69444,0,0,.61111],O3=[.05556,.75,0,0,.5],Zw=[0,.68333,0,0,.83334],Jw=[.0391,.5391,0,0,.66667],F3=[-.05555,.44445,0,0,.5],Qw=[0,.43056,0,0,.77778],Hl=[0,.55556,0,0,.66667],um=[-.03625,.46375,0,0,.77778],eS=[-.01688,.48312,0,0,.77778],tS=[.0391,.5391,0,0,1],Oo=[0,.69444,0,0,.61111],cm=[-.03472,.46528,0,0,.5],dm=[.25,.75,0,0,.44445],iS=[-.14236,.35764,0,0,1],hm=[.244,.744,0,0,.412],rS=[.19444,.69444,0,0,.88889],pm=[.12963,.69444,0,0,.77778],nS=[.19444,.69444,0,0,.38889],sS=[.011,.511,0,0,1.638],aS=[.19444,.69444,0,0,0],fm=[0,.44444,0,0,.575],Nd=[.19444,.44444,0,0,.575],oS=[0,.68611,0,0,.75555],lS=[0,.69444,0,0,.66759],uS=[0,.68611,0,0,.80555],cS=[0,.68611,.08229,0,.98229],dS=[0,.68611,0,0,.76666],hS=[0,.44444,0,0,.58472],pS=[.19444,.44444,0,0,.6118],$d=[.19444,.43056,0,0,.5],fS=[0,.68333,.02778,.08334,.76278],mS=[0,.68333,.08125,.05556,.83125],gS=[0,.43056,0,.05556,.48472],yS=[.19444,.43056,0,.08334,.51702],vS=[.25,.75,0,0,.42778],yr=[0,.69444,0,0,.55],Ea=[0,.69444,0,0,.73334],Fo=[0,.69444,0,0,.79445],bS=[0,.69444,0,0,.51945],N3=[0,.69444,0,0,.70278],xS=[0,.69444,0,0,.76389],_S=[.25,.75,0,0,.34306],$3=[0,.69444,0,0,.56111],wS=[0,.69444,0,0,.25556],SS=[.19444,.45833,0,0,.56111],CS=[0,.45833,0,0,.56111],mm=[0,.69444,0,0,.30556],kS=[0,.69444,0,0,.58056],TS=[0,.69444,0,0,.67223],z3=[0,.69444,0,0,.85556],U3=[0,.69444,0,0,.55834],$s=[0,.65556,.11156,0,.5],q3=[0,.69444,.08094,0,.70834],j3=[.17014,0,0,0,.44445],ES=[0,.69444,.0799,0,.5],AS=[0,.69444,0,0,.73752],MS=[0,.69444,.09205,0,.5],DS=[0,.69444,.09031,0,.77778],V3=[0,.69444,.07816,0,.27778],LS=[0,.69444,.00316,0,.5],BS=[.19444,.69444,0,0,.83334],PS=[.05556,.75,0,0,.83334],IS=[0,.75,0,0,.5],RS=[.125,.08333,0,0,.27778],OS=[0,.08333,0,0,.27778],zs=[0,.65556,0,0,.5],H3=[0,.69444,0,0,.47222],Aa=[0,.69444,0,0,.66667],FS=[0,.69444,0,0,.59722],K3=[0,.69444,0,0,.54167],W3=[0,.69444,0,0,.70834],NS=[.25,.75,0,0,.28889],G3=[0,.69444,0,0,.51667],$S=[0,.44444,0,0,.44445],zS=[.19444,.44444,0,0,.51667],US=[0,.44444,0,0,.38333],qS=[0,.44444,0,0,.51667],jS=[0,.69444,0,0,.83334],VS=[.35001,.85,0,0,.45834],HS=[.35001,.85,0,0,.57778],KS=[.35001,.85,0,0,.41667],WS=[.35001,.85,0,0,.58334],gm=[0,.72222,0,0,.55556],GS=[1e-5,.6,0,0,.66667],XS=[1e-5,.6,0,0,.77778],YS=[.25001,.75,0,0,.94445],ZS=[.306,.805,.19445,0,.47222],JS=[.30612,.805,.19445,0,.47222],yc=[.25001,.75,0,0,.83334],vc=[.35001,.85,0,0,.47222],X3=[.25001,.75,0,0,1.11111],QS=[.65002,1.15,0,0,.59722],eC=[.65002,1.15,0,0,.81111],tC=[.65002,1.15,0,0,.47222],iC=[.65002,1.15,0,0,.66667],ym=[0,.75,0,0,1],rC=[.55001,1.05,0,0,1.27778],nC=[.862,1.36,.44445,0,.55556],sC=[.86225,1.36,.44445,0,.55556],bc=[.55001,1.05,0,0,1.11111],vm=[.65002,1.15,0,0,.52778],aC=[.65002,1.15,0,0,.61111],Y3=[.55001,1.05,0,0,1.51112],oC=[.95003,1.45,0,0,.73611],lC=[.95003,1.45,0,0,1.04445],uC=[.95003,1.45,0,0,.52778],bm=[.95003,1.45,0,0,.75],xm=[0,.75,0,0,1.44445],_m=[.95003,1.45,0,0,.58334],cC=[1.25003,1.75,0,0,.79167],dC=[1.25003,1.75,0,0,1.27778],hC=[1.25003,1.75,0,0,.58334],wm=[1.25003,1.75,0,0,.80556],Sm=[0,.825,0,0,1.8889],Cm=[1.25003,1.75,0,0,.63889],km=[.64502,1.155,0,0,.875],pC=[1e-5,.6,0,0,.875],Z3=[-99e-5,.601,0,0,.66667],Tm=[.64502,1.155,0,0,.66667],fC=[1e-5,.9,0,0,.88889],mC=[.65002,1.15,0,0,.88889],gC=[.90001,0,0,0,.88889],yC=[-.00499,.605,0,0,1.05556],Em=[0,.12,0,0,.45],He=[0,.61111,0,0,.525],gs=[.08333,.69444,0,0,.525],vC=[-.08056,.53055,0,0,.525],bC=[-.05556,.55556,0,0,.525],jr=[0,.43056,0,0,.525],zd=[.22222,.43056,0,0,.525],xC=[0,0,0,0,.525],Boe={"AMS-Regular":{32:jt,65:jn,66:zl,67:jn,68:jn,69:zl,70:Uf,71:v3,72:v3,73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:v3,76:zl,77:[0,.68889,0,0,.94445],78:jn,79:B9,80:Uf,81:B9,82:jn,83:Ad,84:zl,85:jn,86:jn,87:[0,.68889,0,0,1],88:jn,89:jn,90:zl,107:Ad,160:jt,165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:Ad,295:qf,710:P9,732:I9,770:P9,771:I9,989:Ao,1008:tw,8245:[0,.54986,0,0,.275],8463:qf,8487:jn,8498:Ad,8502:zl,8503:[0,.68889,0,0,.44445],8504:zl,8513:[0,.68889,0,0,.63889],8592:b3,8594:b3,8602:Ar,8603:Ar,8606:jf,8608:jf,8610:R9,8611:R9,8619:O9,8620:O9,8621:[-.13313,.37788,0,0,1.38889],8622:Ar,8624:Vf,8625:Vf,8630:x3,8631:x3,8634:Eo,8635:Eo,8638:Hf,8639:Hf,8642:Hf,8643:Hf,8644:Kf,8646:Kf,8647:Kf,8648:F9,8649:Kf,8650:F9,8651:jf,8652:jf,8653:Ar,8654:Ar,8655:Ar,8666:N9,8667:N9,8669:[-.13313,.37788,0,0,1],8672:$9,8674:$9,8705:[0,.825,0,0,.5],8708:Ad,8709:Ao,8717:[0,.43056,0,0,.42917],8722:b3,8724:[.08198,.69224,0,0,.77778],8726:Ao,8733:Gf,8736:Md,8737:Md,8738:[.03517,.52239,0,0,.72222],8739:Q9,8740:[.25142,.74111,0,0,.27778],8741:ew,8742:[.25142,.74111,0,0,.5],8756:_3,8757:_3,8764:Wf,8765:[-.13313,.37788,0,0,.77778],8769:Wf,8770:um,8774:fs,8776:eS,8778:Ao,8782:z9,8783:z9,8785:Eo,8786:Eo,8787:Eo,8790:Gf,8791:Dd,8796:[.08198,.91667,0,0,.77778],8806:uc,8807:uc,8808:Os,8809:Os,8812:[.25583,.75583,0,0,.5],8814:cc,8815:cc,8816:fs,8817:fs,8818:Dd,8819:Dd,8822:U9,8823:U9,8828:Fs,8829:Fs,8830:Dd,8831:Dd,8832:cc,8833:cc,8840:fs,8841:fs,8842:an,8843:an,8847:Mo,8848:Mo,8858:Eo,8859:Eo,8861:Eo,8862:dc,8863:dc,8864:dc,8865:dc,8872:[0,.69224,0,0,.61111],8873:Md,8874:[0,.69224,0,0,.88889],8876:Uf,8877:Uf,8878:jn,8879:jn,8882:Mo,8883:Mo,8884:Fs,8885:Fs,8888:[0,.54986,0,0,1.11111],8890:qw,8891:q9,8892:q9,8901:[0,.54986,0,0,.27778],8903:Ao,8905:Ao,8906:Ao,8907:Gf,8908:Gf,8909:[-.03598,.46402,0,0,.77778],8910:j9,8911:j9,8912:Mo,8913:Mo,8914:V9,8915:V9,8916:_3,8918:Do,8919:Do,8920:H9,8921:H9,8922:K9,8923:K9,8926:Fs,8927:Fs,8928:fs,8929:fs,8934:Xf,8935:Xf,8936:Xf,8937:Xf,8938:cc,8939:cc,8940:fs,8941:fs,8994:W9,8995:W9,9416:[.15559,.69224,0,0,.90222],9484:Vf,9488:Vf,9492:G9,9496:G9,9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:dc,9633:dc,9650:Yf,9651:Yf,9654:Mo,9660:Yf,9661:Yf,9664:Mo,9674:Y9,9733:[.19444,.69224,0,0,.94445],10003:X9,10016:X9,10731:Y9,10846:[.19444,.75583,0,0,.61111],10877:Fs,10878:Fs,10885:uc,10886:uc,10887:an,10888:an,10889:hc,10890:hc,10891:Z9,10892:Z9,10901:Fs,10902:Fs,10933:Os,10934:Os,10935:hc,10936:hc,10937:hc,10938:hc,10949:uc,10950:uc,10955:J9,10956:J9,57350:Q9,57351:ew,57352:Ao,57353:tw,57356:Os,57357:Os,57358:iw,57359:fs,57360:fs,57361:iw,57366:Os,57367:Os,57368:Os,57369:Os,57370:an,57371:an},"Caligraphic-Regular":{32:jt,65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:jt},"Fraktur-Regular":{32:jt,33:[0,.69141,0,0,.29574],34:S3,38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:rw,41:rw,42:[0,.62119,0,0,.27764],43:nw,44:sw,45:nw,46:sw,47:[.24982,.74947,0,0,.50181],48:w3,49:w3,50:w3,51:Ld,52:Ld,53:Ld,54:aw,55:Ld,56:aw,57:Ld,58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:ow,93:ow,94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:jt,8216:S3,8217:S3,58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:jt,33:[0,.69444,0,0,.35],34:T3,35:[.19444,.69444,0,0,.95833],36:yw,37:[.05556,.75,0,0,.95833],38:Jf,39:fc,40:Zf,41:Zf,42:[0,.75,0,0,.575],43:ms,44:[.19444,.15556,0,0,.31944],45:US,46:[0,.15556,0,0,.31944],47:Lo,48:Vn,49:Vn,50:Vn,51:Vn,52:Vn,53:Vn,54:Vn,55:Vn,56:Vn,57:Vn,58:cw,59:[.19444,.44444,0,0,.31944],60:pc,61:xw,62:pc,63:[0,.69444,0,0,.54305],64:Jf,65:C3,66:[0,.68611,0,0,.81805],67:tm,68:[0,.68611,0,0,.88194],69:oS,70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:Qf,73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:hw,77:[0,.68611,0,0,1.09166],78:Qf,79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:C3,89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:em,92:Lo,93:em,94:Bo,95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:Ul,99:uw,100:Ul,101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:Ul,105:fc,106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:fc,109:[0,.44444,0,0,.95833],110:lw,111:fm,112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:lw,118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:uw,123:Lo,124:em,125:Lo,126:[.35,.34444,0,0,.575],160:jt,163:[0,.69444,0,0,.86853],168:Bo,172:[0,.44444,0,0,.76666],176:dw,177:ms,184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:ms,216:[.04861,.73472,0,0,.89444],223:FS,230:[0,.44444,0,0,.83055],247:ms,248:[.09722,.54167,0,0,.575],305:cw,338:[0,.68611,0,0,1.16944],339:bw,567:[.19444,.44444,0,0,.35139],710:Bo,711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:Bo,715:Bo,728:Bo,729:fc,730:dw,732:Bo,733:Bo,915:hw,916:E3,920:k3,923:uS,926:dS,928:Qf,931:tm,933:k3,934:tm,936:k3,937:tm,8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:fc,8217:fc,8220:T3,8221:T3,8224:pw,8225:pw,8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:lS,8465:fw,8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:fw,8501:D3,8592:Ns,8593:mw,8594:Ns,8595:mw,8596:Ns,8597:Lo,8598:Bd,8599:Bd,8600:Bd,8601:Bd,8636:Ns,8637:Ns,8640:Ns,8641:Ns,8656:Ns,8657:gw,8658:Ns,8659:gw,8660:Ns,8661:[.25,.75,0,0,.70277],8704:Ul,8706:[0,.69444,.06389,0,.62847],8707:Ul,8709:yw,8711:E3,8712:vw,8715:vw,8722:ms,8723:ms,8725:Lo,8726:Lo,8727:im,8728:A3,8729:A3,8730:[.18,.82,0,0,.95833],8733:bw,8734:[0,.44444,0,0,1.14999],8736:Md,8739:em,8741:Lo,8743:ql,8744:ql,8745:ql,8746:ql,8747:[.19444,.69444,.12778,0,.56875],8764:xw,8768:[.19444,.69444,0,0,.31944],8771:M3,8776:[.02444,.52444,0,0,.89444],8781:M3,8801:M3,8804:Po,8805:Po,8810:_w,8811:_w,8826:pc,8827:pc,8834:pc,8835:pc,8838:Po,8839:Po,8846:ql,8849:Po,8850:Po,8851:ql,8852:ql,8853:ms,8854:ms,8855:ms,8856:ms,8857:ms,8866:D3,8867:D3,8868:Jf,8869:Jf,8900:A3,8901:[-.02639,.47361,0,0,.31944],8902:im,8968:rm,8969:rm,8970:rm,8971:rm,8994:ww,8995:ww,9651:Sw,9657:im,9661:Sw,9667:im,9711:Bd,9824:nm,9825:nm,9826:nm,9827:nm,9837:[0,.75,0,0,.44722],9838:Cw,9839:Cw,10216:Zf,10217:Zf,10815:Qf,10927:Po,10928:Po,57376:aS},"Main-BoldItalic":{32:jt,33:[0,.69444,.11417,0,.38611],34:Lw,35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:sm,40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:Io,49:Io,50:Io,51:Io,52:kw,53:Io,54:Io,55:kw,56:Io,57:Io,58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:B3,64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:L3,73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:L3,79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:Aw,95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:Tw,104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:Tw,114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:jt,168:[0,.69444,.11473,0,.59111],176:Mw,184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:Ew,248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:Ew,567:[.19444,.44444,.04611,0,.385],710:Aw,711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:sm,730:Mw,732:B3,733:B3,915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:L3,931:[0,.68611,.11431,0,.82666],933:Dw,934:[0,.68611,.05632,0,.82666],936:Dw,937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:sm,8217:sm,8220:[0,.69444,.16772,0,.62055],8221:Lw},"Main-Italic":{32:jt,33:am,34:zw,35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:am,40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:Ro,49:Ro,50:Ro,51:Ro,52:Bw,53:Ro,54:Ro,55:Bw,56:Ro,57:Ro,58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:Fw,64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:om,73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:om,79:Nw,80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:om,86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:Rw,95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:Pw,104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:Pw,114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:jt,168:[0,.66786,.10474,0,.51111],176:Ow,184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:Iw,248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:Iw,710:Rw,711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:Ow,732:[0,.66786,.11585,0,.51111],733:Fw,915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:Nw,923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:om,931:[0,.68333,.12028,0,.71555],933:$w,934:[0,.68333,.05986,0,.71555],936:$w,937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:am,8217:am,8220:[0,.69444,.1685,0,.51444],8221:zw,8463:qf},"Main-Regular":{32:jt,33:ka,34:Wi,35:BS,36:O3,37:PS,38:jl,39:ka,40:mc,41:mc,42:IS,43:Kn,44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:Ta,48:Hn,49:Hn,50:Hn,51:Hn,52:Hn,53:Hn,54:Hn,55:Hn,56:Hn,57:Hn,58:Vw,59:[.19444,.43056,0,0,.27778],60:Do,61:Wf,62:Do,63:H3,64:jl,65:Vl,66:[0,.68333,0,0,.70834],67:Id,68:[0,.68333,0,0,.76389],69:Uw,70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:Vl,73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:Pd,76:Gw,77:[0,.68333,0,0,.91667],78:Vl,79:Pd,80:Uw,81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:Id,85:Vl,86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:Vl,89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:lm,92:Ta,93:lm,94:Wi,95:[.31,.12056,.02778,0,.5],97:Rd,98:gc,99:P3,100:gc,101:P3,102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:gc,105:Hw,106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:ka,109:[0,.43056,0,0,.83334],110:jw,111:Rd,112:qw,113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:jw,118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:P3,123:Ta,124:lm,125:Ta,126:[.35,.31786,0,0,.5],160:jt,163:[0,.69444,0,0,.76909],167:I3,168:Ww,172:[0,.43056,0,0,.66667],176:Kw,177:Kn,182:R3,184:j3,198:[0,.68333,0,0,.90278],215:Kn,216:[.04861,.73194,0,0,.77778],223:Wi,230:[0,.43056,0,0,.72222],247:Kn,248:[.09722,.52778,0,0,.5],305:Vw,338:[0,.68333,0,0,1.01389],339:Qw,567:[.19444,.43056,0,0,.30556],710:Wi,711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:Wi,715:Wi,728:Wi,729:Hw,730:Kw,732:Ww,733:Wi,915:Gw,916:Zw,920:Pd,923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:Vl,931:Id,933:Pd,934:Id,936:Pd,937:Id,8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:ka,8217:ka,8220:Wi,8221:Wi,8224:I3,8225:I3,8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:qf,8465:Od,8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:Od,8501:Oo,8592:Ar,8593:Xw,8594:Ar,8595:Xw,8596:Ar,8597:Ta,8598:Fd,8599:Fd,8600:Fd,8601:Fd,8614:[.011,.511,0,0,1],8617:Yw,8618:Yw,8636:Ar,8637:Ar,8640:Ar,8641:Ar,8652:[.011,.671,0,0,1],8656:Ar,8657:R3,8658:Ar,8659:R3,8660:Ar,8661:[.25,.75,0,0,.61111],8704:gc,8706:[0,.69444,.05556,.08334,.5309],8707:gc,8709:O3,8711:Zw,8712:Jw,8715:Jw,8722:Kn,8723:Kn,8725:Ta,8726:Ta,8727:cm,8728:F3,8729:F3,8730:[.2,.8,0,0,.83334],8733:Qw,8734:x3,8736:Md,8739:lm,8741:Ta,8743:Hl,8744:Hl,8745:Hl,8746:Hl,8747:[.19444,.69444,.11111,0,.41667],8764:Wf,8768:[.19444,.69444,0,0,.27778],8771:um,8773:[-.022,.589,0,0,1],8776:eS,8781:um,8784:[-.133,.67,0,0,.778],8801:um,8804:an,8805:an,8810:tS,8811:tS,8826:Do,8827:Do,8834:Do,8835:Do,8838:an,8839:an,8846:Hl,8849:an,8850:an,8851:Hl,8852:Hl,8853:Kn,8854:Kn,8855:Kn,8856:Kn,8857:Kn,8866:Oo,8867:Oo,8868:jl,8869:jl,8872:[.249,.75,0,0,.867],8900:F3,8901:[-.05555,.44445,0,0,.27778],8902:cm,8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:dm,8969:dm,8970:dm,8971:dm,8994:iS,8995:iS,9136:hm,9137:hm,9651:rS,9657:cm,9661:rS,9667:cm,9711:Fd,9824:pm,9825:pm,9826:pm,9827:pm,9837:[0,.75,0,0,.38889],9838:nS,9839:nS,10216:mc,10217:mc,10222:hm,10223:hm,10229:[.011,.511,0,0,1.609],10230:sS,10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:sS,10815:Vl,10927:an,10928:an,57376:aS},"Math-BoldItalic":{32:jt,48:fm,49:fm,50:fm,51:Nd,52:Nd,53:Nd,54:Vn,55:Nd,56:Vn,57:Nd,65:C3,66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:cS,73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:oS,77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:lS,105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:hS,112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:jt,915:[0,.68611,.15972,0,.65694],916:E3,920:[0,.68611,.03194,0,.86722],923:uS,926:[0,.68611,.07458,0,.84125],928:cS,931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:dS,936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:hS,960:[0,.44444,.03704,0,.68241],961:pS,962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:pS,1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:jt,48:Rd,49:Rd,50:Rd,51:$d,52:$d,53:$d,54:Hn,55:$d,56:Hn,57:$d,65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:mS,73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:fS,80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:gS,112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:jt,915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:fS,923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:mS,931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:gS,960:[0,.43056,.03588,0,.57003],961:yS,962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:yS,1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:jt,33:[0,.69444,0,0,.36667],34:U3,35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:mm,40:vS,41:vS,42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:yr,49:yr,50:yr,51:yr,52:yr,53:yr,54:yr,55:yr,56:yr,57:yr,58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:bS,64:Ea,65:Ea,66:Ea,67:N3,68:Fo,69:[0,.69444,0,0,.64167],70:Oo,71:Ea,72:Fo,73:[0,.69444,0,0,.33056],74:bS,75:xS,76:kS,77:[0,.69444,0,0,.97778],78:Fo,79:Fo,80:N3,81:[.10556,.69444,0,0,.79445],82:N3,83:Oo,84:Ea,85:xS,86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:Ea,89:[0,.69444,.0275,0,.73334],90:TS,91:_S,93:_S,94:yr,95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:$3,99:[0,.45833,0,0,.48889],100:$3,101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:$3,105:wS,106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:wS,109:[0,.45833,0,0,.86667],110:CS,111:[0,.45833,0,0,.55],112:SS,113:SS,114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:CS,118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:jt,168:yr,176:Ea,180:yr,184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:yr,711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:yr,729:mm,730:Ea,732:yr,733:yr,915:kS,916:[0,.69444,0,0,.91667],920:z3,923:TS,926:Ea,928:Fo,931:Fo,933:z3,934:Fo,936:z3,937:Fo,8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:mm,8217:mm,8220:U3,8221:U3},"SansSerif-Italic":{32:jt,33:[0,.69444,.05733,0,.31945],34:LS,35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:V3,40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:RS,45:[0,.44444,.01946,0,.33333],46:OS,47:[.25,.75,.13164,0,.5],48:$s,49:$s,50:$s,51:$s,52:$s,53:$s,54:$s,55:$s,56:$s,57:$s,58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:Aa,66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:q3,73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:K3,77:[0,.69444,.08094,0,.875],78:q3,79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:ES,95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:jt,168:[0,.67937,.06385,0,.5],176:AS,184:j3,305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:ES,711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:MS,715:Wi,728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:AS,732:[0,.67659,.08826,0,.5],733:MS,915:[0,.69444,.13372,0,.54167],916:jS,920:[0,.69444,.07555,0,.77778],923:Oo,926:[0,.69444,.12816,0,.66667],928:q3,931:[0,.69444,.11983,0,.72222],933:DS,934:[0,.69444,.04603,0,.72222],936:DS,937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:V3,8217:V3,8220:[0,.69444,.14205,0,.5],8221:LS},"SansSerif-Regular":{32:jt,33:[0,.69444,0,0,.31945],34:Wi,35:BS,36:O3,37:PS,38:[0,.69444,0,0,.75834],39:ka,40:mc,41:mc,42:IS,43:Kn,44:RS,45:[0,.44444,0,0,.33333],46:OS,47:Ta,48:zs,49:zs,50:zs,51:zs,52:zs,53:zs,54:zs,55:zs,56:zs,57:zs,58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:H3,64:Aa,65:Aa,66:Aa,67:Ul,68:[0,.69444,0,0,.72223],69:FS,70:[0,.69444,0,0,.56945],71:Aa,72:W3,73:ka,74:H3,75:[0,.69444,0,0,.69445],76:K3,77:[0,.69444,0,0,.875],78:W3,79:[0,.69444,0,0,.73611],80:Ul,81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:gc,84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:Aa,89:[0,.69444,.025,0,.66667],90:Oo,91:NS,93:NS,94:Wi,95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:G3,99:$S,100:G3,101:$S,102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:G3,105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:qS,111:[0,.44444,0,0,.5],112:zS,113:zS,114:[0,.44444,.01389,0,.34167],115:US,116:[0,.57143,0,0,.36111],117:qS,118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:jt,168:[0,.67937,0,0,.5],176:Aa,184:j3,305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:Wi,711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:Wi,715:Wi,728:Wi,729:[0,.67937,0,0,.27778],730:Aa,732:[0,.67659,0,0,.5],733:Wi,915:K3,916:jS,920:jl,923:Oo,926:Aa,928:W3,931:Od,933:jl,934:Od,936:jl,937:Od,8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:ka,8217:ka,8220:Wi,8221:Wi},"Script-Regular":{32:jt,65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:jt},"Size1-Regular":{32:jt,40:VS,41:VS,47:HS,91:KS,92:HS,93:KS,123:WS,125:WS,160:jt,710:gm,732:gm,770:gm,771:gm,8214:[-99e-5,.601,0,0,.77778],8593:GS,8595:GS,8657:XS,8659:XS,8719:YS,8720:YS,8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:JS,8748:ZS,8749:ZS,8750:JS,8896:yc,8897:yc,8898:yc,8899:yc,8968:vc,8969:vc,8970:vc,8971:vc,9168:Z3,10216:vc,10217:vc,10752:X3,10753:X3,10754:X3,10756:yc,10758:yc},"Size2-Regular":{32:jt,40:QS,41:QS,47:eC,91:tC,92:eC,93:tC,123:iC,125:iC,160:jt,710:ym,732:ym,770:ym,771:ym,8719:rC,8720:rC,8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:sC,8748:nC,8749:nC,8750:sC,8896:bc,8897:bc,8898:bc,8899:bc,8968:vm,8969:vm,8970:vm,8971:vm,10216:aC,10217:aC,10752:Y3,10753:Y3,10754:Y3,10756:bc,10758:bc},"Size3-Regular":{32:jt,40:oC,41:oC,47:lC,91:uC,92:lC,93:uC,123:bm,125:bm,160:jt,710:xm,732:xm,770:xm,771:xm,8730:[.95003,1.45,0,0,1],8968:_m,8969:_m,8970:_m,8971:_m,10216:bm,10217:bm},"Size4-Regular":{32:jt,40:cC,41:cC,47:dC,91:hC,92:dC,93:hC,123:wm,125:wm,160:jt,710:Sm,732:Sm,770:Sm,771:Sm,8730:[1.25003,1.75,0,0,1],8968:Cm,8969:Cm,8970:Cm,8971:Cm,9115:km,9116:pC,9117:km,9118:km,9119:pC,9120:km,9121:Tm,9122:Z3,9123:Tm,9124:Tm,9125:Z3,9126:Tm,9127:fC,9128:mC,9129:gC,9130:[0,.3,0,0,.88889],9131:fC,9132:mC,9133:gC,9143:[.88502,.915,0,0,1.05556],10216:wm,10217:wm,57344:yC,57345:yC,57680:Em,57681:Em,57682:Em,57683:Em},"Typewriter-Regular":{32:xC,33:He,34:He,35:He,36:gs,37:gs,38:He,39:He,40:gs,41:gs,42:[0,.52083,0,0,.525],43:vC,44:[.13889,.125,0,0,.525],45:vC,46:[0,.125,0,0,.525],47:gs,48:He,49:He,50:He,51:He,52:He,53:He,54:He,55:He,56:He,57:He,58:jr,59:[.13889,.43056,0,0,.525],60:bC,61:[-.19549,.41562,0,0,.525],62:bC,63:He,64:He,65:He,66:He,67:He,68:He,69:He,70:He,71:He,72:He,73:He,74:He,75:He,76:He,77:He,78:He,79:He,80:He,81:[.13889,.61111,0,0,.525],82:He,83:He,84:He,85:He,86:He,87:He,88:He,89:He,90:He,91:gs,92:gs,93:gs,94:He,95:[.09514,0,0,0,.525],96:He,97:jr,98:He,99:jr,100:He,101:jr,102:He,103:zd,104:He,105:He,106:[.22222,.61111,0,0,.525],107:He,108:He,109:jr,110:jr,111:jr,112:zd,113:zd,114:jr,115:jr,116:[0,.55358,0,0,.525],117:jr,118:jr,119:jr,120:jr,121:zd,122:jr,123:gs,124:gs,125:gs,126:He,127:He,160:xC,176:He,184:[.19445,0,0,0,.525],305:jr,567:zd,711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:He,715:He,728:He,730:He,770:He,771:He,776:He,915:He,916:He,920:He,923:He,926:He,928:He,931:He,933:He,934:He,936:He,937:He,8216:He,8217:He,8242:He,9251:[.11111,.21944,0,0,.525]}},Poe=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,k0=10,Ts=.25,Ioe=1.2,ol=.431,_C={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[ol,ol,ol],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.5,.732,.925],num2:[.394,.384,.5],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[Ts,Ts,Ts],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},P5=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],w6=5,wC={" ":" ","​":" ",Å:"A",Ç:"C",Ð:"D",Þ:"o",å:"a",ç:"c",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Oc(t,e){t===void 0&&(t=77);let i=Boe[e][t];if(i)return{defaultMetrics:!1,depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]};if(t===11034)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0,width:.8};let r=String.fromCodePoint(t);if(r in wC)t=wC[r].codePointAt(0);else if(Poe.test(r))return t=77,{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0,width:1};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0,width:.8}}var I5={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],longrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],longleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],longleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],longrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],longleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],longleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],longRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716],longLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},R5={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},SC={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:`m 529 160
  c -179 0 -524 -115 -524 -115
  c -5 -1 -9 -5 -9 -10
  c 0 -1 1 -2 1 -3
  l 4 -22
  c 1 -5 5 -9 11 -9
  h 2
  s 338 93 512 92
  c 174 0 513 -92 513 -92
  h 2
  c 5 0 9 4 11 9
  l 5 22
  c 1 6 -2 12 -8 13
  c 0 0 -342 115 -520 115
  z
  `,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,widetilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,widetilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,widetilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,widetilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};function Roe(t){if(R5[t]){let[u,c,d]=R5[t],h=`<span class="ML__stretchy" style="height:${d}em"><svg width="100%" height="${d}em" viewBox="0 0 ${u} ${c}" preserveAspectRatio="none" ><path fill="currentcolor" d="${SC[t]}"></path></svg></span>`;return`<span style="display:inline-block;height:${Math.floor(100*d/2)/100}em;min-width:0">${h}</span>`}let[e,i,r,n]=I5[t],s,a,o=r/1e3;e.length===3?(s=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],a=["xMinYMin","xMidYMin","xMaxYMin"]):e.length===2?(s=["slice-1-of-2","slice-2-of-2"],a=["xMinYMin","xMaxYMin"]):(s=["slice-1-of-1"],a=[n]);let l=e.map((u,c)=>`<span class="${s[c]}" style=height:${o}em><svg width=400em height=${o}em viewBox="0 0 400000 ${r}" preserveAspectRatio="${a[c]} slice"><path fill="currentcolor" d="${SC[u]}"></path></svg></span>`).join("");return`<span style="display:inline-block;height:${o}em;min-width:${i}em;">${l}</span>`}function Ooe(t){return I5[t]?I5[t][2]/1e3:R5[t][2]}function Foe(t){let e=[];for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r===13&&t.charCodeAt(i+1)===10&&(r=10,i++),(r===13||r===12)&&(r=10),r===0&&(r=65533),r>=55296&&r<=56319){let n=t.charCodeAt(i+1);if(n>=56320&&n<=57343){let s=r-55296,a=n-56320;r=2**16+s*2**10+a,i++}}e.push(r)}return e}var r1=8205,Noe=[[r1,1],[65038,2],[127995,5],[129456,4],[917536,96]],Am,CC=[127462,127487];function kC(t){var e;if(Am===void 0){Am={};for(let i of Noe)for(let r=i[0];r<=i[0]+i[1]-1;r++)Am[r]=!0}return(e=Am[t])!=null?e:!1}function $oe(t){return t>=CC[0]&&t<=CC[1]}function CB(t){if(/^[\u0020-\u00FF]*$/.test(t))return t;let e=[],i=Foe(t),r=0;for(;r<i.length;){let n=i[r++],s=i[r];if(s===r1){let a=r-1;for(r+=2;i[r]===r1;)r+=2;e.push(String.fromCodePoint(...i.slice(a,r-a+1)))}else if(kC(s)){let a=r-1;for(;kC(i[r]);)r+=i[r]===r1?2:1;e.push(String.fromCodePoint(...i.slice(a,2*r-a-1)))}else $oe(n)?(r+=1,e.push(String.fromCodePoint(...i.slice(r-2,2)))):e.push(String.fromCodePoint(n))}return e}var zoe=class{constructor(t){this.obeyspaces=!1,this.pos=0,this.s=CB(t)}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(t){let e=typeof this.s=="string"?t.exec(this.s.slice(this.pos)):t.exec(this.s.slice(this.pos).join(""));return e!=null&&e[0]?(this.pos+=e[0].length,e[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"<space>";let t=this.get();if(t==="\\"){if(!this.end()){let e=this.match(/^[a-zA-Z\*]+/);return e?this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/):e=this.get(),"\\"+e}}else{if(t==="{")return"<{>";if(t==="}")return"<}>";if(t==="^"){if(this.peek()==="^"){this.get();let e=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(e)return String.fromCodePoint(Number.parseInt(e.slice(e.lastIndexOf("^")+1),16))}return t}else if(t==="#"){if(!this.end()){let e=!1;if(/[\d?@]/.test(this.peek())&&(e=!0,this.pos+1<this.s.length)){let i=this.s[this.pos+1];e=/[^\dA-Za-z]/.test(i)}return e?"#"+this.get():"#"}}else if(t==="$")return this.peek()==="$"?(this.get(),"<$$>"):"<$>"}return t}};function Uoe(t,e){var i,r,n,s;let a=[],o=t.next();if(o&&o!=="\\relax"){if(o==="\\noexpand")o=t.next(),o&&a.push(o);else if(o==="\\obeyspaces")t.obeyspaces=!0;else if(o==="\\bgroup")a.push("<{>");else if(o==="\\egroup")a.push("<}>");else if(o==="\\string"){if(o=t.next(),o)if(o.startsWith("\\"))for(let l of o)a.push(l==="\\"?"\\backslash":l);else o==="<{>"?a.push("\\{"):o==="<space>"?a.push("~"):o==="<}>"&&a.push("\\}")}else if(o==="\\csname"){for(;t.peek()==="<space>";)t.next();let l="",u=!1,c=[];do{if(c.length===0)if(/^#[\d?@]$/.test(t.peek())){let d=t.get().slice(1);c=Qh((r=(i=e==null?void 0:e(d))!=null?i:e==null?void 0:e("?"))!=null?r:"\\placeholder{}",e),o=c[0]}else o=t.next(),c=o?[o]:[];u=c.length===0,!u&&o==="\\endcsname"&&(u=!0,c.shift()),u||(u=o==="<$>"||o==="<$$>"||o==="<{>"||o==="<}>"||typeof o=="string"&&o.length>1&&o.startsWith("\\")),u||(l+=c.shift())}while(!u);l&&a.push("\\"+l),a.push(...c)}else if(o!=="\\endcsname")if(o.length>1&&o.startsWith("#")){let l=o.slice(1);a.push(...Qh((s=(n=e==null?void 0:e(l))!=null?n:e==null?void 0:e("?"))!=null?s:"\\placeholder{}",e))}else a.push(o)}return a}function Qh(t,e=null){if(!t)return[];let i=[],r="";for(let a of t.toString().split(/\r?\n/)){r&&i.push(r),r=" ";let o=a.match(/((?:\\%)|[^%])*/);o!==null&&i.push(o[0])}let n=new zoe(i.join("")),s=[];do s.push(...Uoe(n,e));while(!n.end());return s}function kt(t){let e="",i=[];for(let r of t)r&&(e&&/^[a-zA-Z\*]/.test(r)&&i.push(e),i.push(r),/^\\[a-zA-Z]+\*?[\"\'][^\ ]+$/.test(r)&&i.push(" "),e=/\\[a-zA-Z]+\*?$/.test(r)?" ":"");return i.join("")}function ti(t,...e){return t.startsWith("\\"),e.length===0?t:kt([t,...e.map(i=>`{${i}}`)])}function Kl(t){return kt(t.map(e=>{var i;return(i={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[e])!=null?i:e}))}var kB=class sh{constructor(e){sh._registry[e]=this}static createAtom(e,i,r){return sh._registry[e].createAtom(i,br(i,e),r)}static serialize(e,i){var r;if(!e||e.length===0)return"";if((r=i.skipStyles)!=null&&r){let n=[];for(let s of TB(e)){let a=sh._registry[s[0].mode];n.push(...a.serialize(s,i))}return kt(n)}return kt(joe(e,i))}static getFont(e,i,r){return sh._registry[e].getFont(i,r)}};kB._registry={};var Mn=kB;function TB(t){let e=[],i=[],r="NONE";for(let n of t)n.type!=="first"&&(n.mode!==r?(i.length>0&&e.push(i),i=[n],r=n.mode):i.push(n));return i.length>0&&e.push(i),e}function O5(t){if(!t||t.mode!=="math")return"";let{style:e}=t;return!e||!e.variantStyle?"":e.variantStyle==="bold"||e.variantStyle==="bolditalic"?"bold":""}function F5(t){if(!t)return"";let{style:e}=t;if(!e)return"";let i=e.variant;return i===void 0?"normal":(!["calligraphic","fraktur","double-struck","script","monospace","sans-serif"].includes(i)&&e.variantStyle&&e.variantStyle!=="up"&&(i+="-"+e.variantStyle),i)}function fo(t,e){let i=[],r=[],n;for(let s of t){if(s.type==="first")continue;let a;e==="variant"?a=F5(s):e==="bold"?a=O5(s):a=s.style[e],a===n?r.push(s):(r.length>0&&i.push(r),r=[s],n=a)}return r.length>0&&i.push(r),i}function TC(t,e){var i;let{parent:r}=t[0],n=r==null?void 0:r.style.color,s=[];for(let a of TB(t)){let o=e.defaultMode;for(let l of fo(a,"color")){let u=l[0].style,c=Mn._registry[l[0].mode].serialize(l,Z(q({},e),{defaultMode:o==="text"?"text":"math"}));!e.skipStyles&&u.color&&u.color!=="none"&&(!r||n!==u.color)?s.push(ti("\\textcolor",(i=u.verbatimColor)!=null?i:u.color,kt(c))):s.push(kt(c))}}return s}function qoe(t,e){let{parent:i}=t[0],r=i==null?void 0:i.style.backgroundColor;return fo(t,"backgroundColor").map(n=>{var s;if(n.length>0||n[0].type!=="box"){let a=n[0].style;if(a.backgroundColor&&a.backgroundColor!=="none"&&(!i||r!==a.backgroundColor))return ti("\\colorbox",(s=a.verbatimBackgroundColor)!=null?s:a.backgroundColor,kt(TC(n,Z(q({},e),{defaultMode:"text"}))))}return kt(TC(n,e))})}function joe(t,e){if(t.length===0)return[];let{parent:i}=t[0],r=i==null?void 0:i.style.fontSize,n=[];for(let s of fo(t,"fontSize")){let a=s[0].style.fontSize,o=qoe(s,e);o&&(a&&a!=="auto"&&(!i||r!==a)?n.push(["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][a],...o):n.push(...o))}return n}function N5(t){return t?{mord:"ord",mbin:"bin",mop:"op",mrel:"rel",mopen:"open",mclose:"close",mpunct:"punct",minner:"inner",spacing:"ignore",latex:"latex",composition:"inner",error:"inner",placeholder:"ord",supsub:"ignore"}[t]:void 0}function Ep(t){if(t.length===0)return"ord";let e=N5(t[0].type),i=N5(t[t.length-1].type);return e&&e===i?e:"ord"}function Ud(t,e){if(typeof t=="string")return t;if(typeof t=="number"){let i=Math.ceil(100*t)/100;return i===0?"0":i.toString()+(e??"")}return""}var Ae=class EB{constructor(e,i){var r,n,s,a,o;if(typeof e=="number"?this.value=String.fromCodePoint(e):typeof e=="string"?this.value=e:mr(e)?this.children=e.filter(u=>u!==null):e&&e instanceof EB&&(this.children=[e]),this.children)for(let u of this.children)u.parent=this;this.type=(r=i==null?void 0:i.type)!=null?r:"ignore",this.isSelected=(i==null?void 0:i.isSelected)===!0,i!=null&&i.caret&&(this.caret=i.caret),this.classes=(n=i==null?void 0:i.classes)!=null?n:"",this.isTight=(s=i==null?void 0:i.isTight)!=null?s:!1,i!=null&&i.attributes&&(this.attributes=i.attributes);let l=i==null?void 0:i.fontFamily;i!=null&&i.style&&this.value&&(l=(o=Mn.getFont((a=i.mode)!=null?a:"math",this,Z(q({variant:"normal"},i.style),{letterShapeStyle:i.letterShapeStyle})))!=null?o:void 0),l||(l="Main-Regular"),this._height=0,this._depth=0,this._width=0,this.hasExplicitWidth=!1,this.skew=0,this.italic=0,this.maxFontSize=0,this.scale=1,(i==null?void 0:i.maxFontSize)!==void 0&&(this.maxFontSize=i.maxFontSize),Voe(this,l)}set atomID(e){e===void 0||e.length===0||(this.id=e)}selected(e){if(this.isSelected!==e&&(this.isSelected=e,this.children))for(let i of this.children)i.selected(e)}setStyle(e,i,r){if(i===void 0)return;let n=Ud(i,r);n.length>0&&(this.cssProperties||(this.cssProperties={}),this.cssProperties[e]=n)}setTop(e){Number.isFinite(e)&&Math.abs(e)>.01&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=Ud(e,"em"),this.height-=e,this.depth+=e)}get left(){var e;return(e=this.cssProperties)!=null&&e["margin-left"]?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-left"]=Ud(e,"em")))}set right(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=Ud(e,"em")))}set bottom(e){Number.isFinite(e)&&(e===0?this.cssProperties&&delete this.cssProperties["margin-bottom"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-bottom"]=Ud(e,"em")))}get width(){return this._width*this.scale}set width(e){this._width=e,this.hasExplicitWidth=!0}set softWidth(e){}get height(){return this._height*this.scale}set height(e){this._height=e}get depth(){return this._depth*this.scale}set depth(e){this._depth=e}wrap(e){let i=e.parent;if(!i)return this;e.isPhantom&&this.setStyle("opacity",0);let r=e.color;r&&r!==i.color&&this.setStyle("color",r);let n=e.backgroundColor;this.isSelected&&(n=woe(n)),n&&n!==i.backgroundColor&&(this.setStyle("background-color",n),this.setStyle("display","inline-block"));let s=e.scalingFactor;return this.scale=s,this.skew*=s,this.italic*=s,this}toMarkup(){var e,i,r,n;let s=(e=this.value)!=null?e:"";if(this.children)for(let f of this.children)s+=f.toMarkup();let a="";if(this.svgBody)a=Roe(this.svgBody);else if(this.svgOverlay){a='<span style="',a+="display: inline-block;",a+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`,a+=`vertical-align:${Math.floor(100*this.depth)/100}em;`,a+='">',a+=s,a+="</span>",a+='<svg style="position:absolute;overflow:visible;',a+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`;let f=(i=this.cssProperties)==null?void 0:i.padding;f?(a+=`top:${f};`,a+=`left:${f};`,a+=`width:calc(100% - 2 * ${f} );`):a+="top:0;left:0;width:100%;",a+="z-index:2;",a+='"',this.svgStyle&&(a+=this.svgStyle),a+=` viewBox="0 0 ${Math.floor(100*this.width)/100} ${Math.floor(100*(this.height+this.depth))/100}"`,a+=`>${this.svgOverlay}</svg>`}let o=[],l=this.classes.split(" ");l.push((r={latex:"ML__raw-latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])!=null?r:""),this.caret==="latex"&&l.push("ML__latex-caret"),this.isSelected&&l.push("ML__selected");let u=l.length===1?l[0]:l.filter((f,g,y)=>f.length>0&&y.indexOf(f)===g).join(" ");if(u.length>0&&o.push(`class=${xc(`"${u}"`)}`),this.id&&o.push(` data-atom-id=${xc(this.id)}`),this.cssId&&o.push(` id=${xc(`"${this.cssId.replace(/ /g,"-")}"`)}`),this.attributes&&o.concat(Object.keys(this.attributes).map(f=>`${J3(f)}=${xc(this.attributes[f])}`)),this.htmlData){let f=this.htmlData.split(",");for(let g of f){let y=g.match(/([^=]+)=(.+$)/);if(y){let C=J3(y[1]);if(C)if(C==="href"){let S=new URL(y[2]);if(S.protocol!=="http:"&&S.protocol!=="https:")throw new Error(`Invalid URL: ${y[2]}`);o.push(`href="${y[2].replace(/"/g,"&quot;")}"`)}else o.push(`data-${C}=${xc(y[2])}`)}else{let C=J3(g);C&&o.push(`data-${C} `)}}}let c=(n=this.cssProperties)!=null?n:{};this.hasExplicitWidth&&c.width===void 0&&(c.width=`${Math.ceil(this._width*100)/100}em`);let d=Object.keys(c).map(f=>`${f}:${c[f]}`);if(this.scale!==void 0&&this.scale!==1&&(s.length>0||a.length>0)&&d.push(`font-size: ${Math.ceil(this.scale*1e4)/100}%`),this.htmlStyle)for(let f of this.htmlStyle.split(";")){let g=f.match(/([^:]+):(.+$)/);if(g){let y=g[1].trim().replace(/ /g,"-");y&&d.push(`${y}:${g[2]}`)}}d.length>0&&o.push(`style=${xc(d.join(";"))}`);let h="";return o.length>0||a.length>0?h=`<span ${o.join(" ")}>${s}${a}</span>`:h=s,this.caret==="text"?h+='<span class="ML__text-caret"></span>':this.caret==="math"&&(h+='<span class="ML__caret"></span>'),h}tryCoalesceWith(e){if(this.svgBody||!this.value||e.svgBody||!e.value)return!1;let i=this.children&&this.children.length>0,r=e.children&&e.children.length>0;if(i||r)return!1;if(e.cssProperties||this.cssProperties){for(let l of["border","border-left","border-right","border-right-width","left","margin","margin-left","margin-right","padding","position","width"])if(e.cssProperties&&l in e.cssProperties||this.cssProperties&&l in this.cssProperties)return!1}let n=this.cssProperties?Object.keys(this.cssProperties).length:0,s=e.cssProperties?Object.keys(e.cssProperties).length:0;if(n!==s)return!1;if(n>0){for(let l of Object.keys(this.cssProperties))if(this.cssProperties[l]!==e.cssProperties[l])return!1}let a=this.classes.trim().replace(/\s+/g," ").split(" "),o=e.classes.trim().replace(/\s+/g," ").split(" ");if(a.length!==o.length)return!1;a.sort(),o.sort();for(let[l,u]of a.entries())if(u==="ML__vertical-separator"||u!==o[l])return!1;return this.value+=e.value,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this._width=this._width+e._width,this.maxFontSize=Math.max(this.maxFontSize,e.maxFontSize),this.italic=e.italic,!0}};function $5(t){if(!t||t.length===0)return[];t[0].children=$5(t[0].children);let e=[t[0]];for(let i=1;i<t.length;i++)e[e.length-1].tryCoalesceWith(t[i])||(t[i].children=$5(t[i].children),e.push(t[i]));return e}function E2(t){return t.children&&(t.children=$5(t.children)),t}function A2(t,e){if(!t)return new Ae(null,e);let i=new Ae(null,{classes:"ML__strut",type:"ignore"});i.setStyle("height",Math.max(0,t.height),"em");let r=[i];if(t.depth!==0){let n=new Ae(null,{classes:"ML__strut--bottom",type:"ignore"});n.setStyle("height",t.height+t.depth,"em"),n.setStyle("vertical-align",-t.depth,"em"),r.push(n)}return r.push(t),new Ae(r,Z(q({},e),{type:"lift"}))}function n1(t){let e=Ooe(t)/2,i=new Ae(null,{maxFontSize:0});return i.height=e+.166,i.depth=e-.166,i.svgBody=t,i}function Voe(t,e){var i;if(t.type==="latex"){t.height=.9,t.depth=.2,t._width=1;return}if(t.value){t.height=-1/0,t.depth=-1/0,t._width=0,t.skew=-1/0,t.italic=-1/0;for(let r=0;r<t.value.length;r++){let n=Oc(t.value.codePointAt(r),e);t.height=Math.max(t.height,n.height),t.depth=Math.max(t.depth,n.depth),t._width+=n.width,t.skew=n.skew,t.italic=n.italic}return}if(t.children&&t.children.length>0){let r=-1/0,n=-1/0,s=0;for(let a of t.children)a.height>r&&(r=a.height),a.depth>n&&(n=a.depth),s=Math.max(s,(i=a.maxFontSize)!=null?i:0);t.height=r,t.depth=n,t._width=t.children.reduce((a,o)=>a+o.width,0),t.maxFontSize=s}}function J3(t){if(t=t.trim().replace(/ /g,"-"),t.length===0)throw new Error("Invalid empty attribute name");if(/[\x20\x09\x0a\x0c\x0d"'>/=\x00-\x1f]/.test(t))throw new Error(`Invalid attribute name "${t}"`);return t}function xc(t){if(t=t.trim(),t.startsWith('"')&&t.endsWith('"')){if(/"/.test(t.slice(1,-1)))throw new Error(`Invalid attribute value: ${t}`);return t}if(t.startsWith("'")&&t.endsWith("'")){if(/'/.test(t.slice(1,-1)))throw new Error(`Invalid attribute value: ${t}`);return t}if(t.length===0)throw new Error("Invalid empty attribute value");return`"${t.replace(/"/g,"&quot;")}"`}function Hoe(t){if("individualShift"in t){let e=t.individualShift,i=e[0];if(i==null)return[null,0];let r=[i],n=-i.shift-i.box.depth,s=n;for(let a=1;a<e.length;a++){let o=e[a],l=-o.shift-s-o.box.depth,u=l-(i.box.height+i.box.depth);s=s+l,r.push(u),r.push(o),i=o}return[r,n]}if("top"in t){let e=t.top;for(let i of t.children)e-=typeof i=="number"?i:i.box.height+i.box.depth;return[t.children,e]}else{if("bottom"in t)return[t.children,-t.bottom];if("firstBaseline"in t){let e=t.firstBaseline[0];if(typeof e=="number")throw new Error("First child must be an element.");return[t.firstBaseline,-e.box.depth]}else if("shift"in t){let e=t.children[0];if(typeof e=="number")throw new Error("First child must be an element.");return[t.children,-e.box.depth-t.shift]}}return[null,0]}function Koe(t){var e;let[i,r]=Hoe(t);if(!i)return[[],0,0];let n=new Ae(null,{classes:"ML__pstrut"}),s=0;for(let g of i)if(typeof g!="number"){let y=g.box;s=Math.max(s,y.maxFontSize,y.height)}s+=2,n.height=s,n.setStyle("height",s,"em");let a=[],o=r,l=r,u=r,c=0;for(let g of i){if(typeof g=="number")u+=g;else{let y=g.box,C=(e=g.classes)!=null?e:[],S=new Ae([n,y],{classes:C.join(" "),style:g.style});y.setStyle("height",y.height+y.depth,"em"),y.setStyle("display","inline-block"),S.setStyle("top",-s-u-y.depth,"em"),g.marginLeft&&S.setStyle("margin-left",g.marginLeft,"em"),g.marginRight&&S.setStyle("margin-right",g.marginRight,"em"),a.push(S),u+=y.height+y.depth,c=Math.max(c,S.width)}o=Math.min(o,u),l=Math.max(l,u)}a.forEach(g=>{g.softWidth=c});let d=new Ae(a,{classes:"ML__vlist"});if(d.softWidth=c,d.height=l,d.setStyle("height",l,"em"),o>=0)return[[new Ae(d,{classes:"ML__vlist-r"})],l,-o];let h=new Ae(new Ae(null),{classes:"ML__vlist"});h.height=-o,h.setStyle("height",-o,"em");let f=new Ae(8203,{classes:"ML__vlist-s",maxFontSize:0});return f.softWidth=0,f.height=0,f.depth=0,[[new Ae([d,f],{classes:"ML__vlist-r"}),new Ae(h,{classes:"ML__vlist-r"})],l,-o]}var zi=class extends Ae{constructor(t,e){var i;let[r,n,s]=Koe(t);super(r.length===1?r[0]:r,{type:e==null?void 0:e.type,classes:((i=e==null?void 0:e.classes)!=null?i:"")+" ML__vlist-t"+(r.length===2?" ML__vlist-t2":"")}),this.height=n,this.depth=s,this.softWidth=r.reduce((a,o)=>Math.max(a,o.width),0)}};function Woe(t,e){var i,r,n,s,a;let o=t.metrics,l=new Ae(e.base),u=(i=e.baseShift)!=null?i:0,c=(r=e.slant)!=null?r:0,d=0,h=0;e.above&&(d=(n=e.aboveShift)!=null?n:Math.max(o.bigOpSpacing1,o.bigOpSpacing3-e.above.depth)),e.below&&(h=(s=e.belowShift)!=null?s:Math.max(o.bigOpSpacing2,o.bigOpSpacing4-e.below.height));let f=null;if(e.below&&e.above){let g=o.bigOpSpacing5+e.below.height+e.below.depth+h+l.depth+u;f=new zi({bottom:g,children:[o.bigOpSpacing5,{box:e.below,marginLeft:-c,classes:["ML__center"]},h,{box:l,classes:["ML__center"]},d,{box:e.above,marginLeft:c,classes:["ML__center"]},o.bigOpSpacing5]}).wrap(t)}else if(e.below&&!e.above)f=new zi({top:l.height-u,children:[o.bigOpSpacing5,{box:e.below,marginLeft:-c,classes:["ML__center"]},h,{box:l,classes:["ML__center"]}]}).wrap(t);else if(!e.below&&e.above){let g=l.depth+u;f=new zi({bottom:g,children:[{box:l,classes:["ML__center"]},d,{box:e.above,marginLeft:c,classes:["ML__center"]},o.bigOpSpacing5]}).wrap(t)}else{let g=l.depth+u;f=new zi({bottom:g,children:[{box:l},o.bigOpSpacing5]}).wrap(t)}return new Ae(f,{type:(a=e.type)!=null?a:"op"})}var S6=7,lg=6,M2=5,ou=4,r0=3,Tn=2,pu=1,Mr=0,No=class{constructor(t,e,i){this.id=t,this.sizeDelta=e,this.cramped=i;let r={"-4":2,"-3":1,0:0}[e];this.metrics=Object.keys(_C).reduce((n,s)=>Z(q({},n),{[s]:_C[s][r]}),{})}getFontSize(t){return Math.max(1,t+this.sizeDelta)}get sup(){return Gs[[Mr,pu,Mr,pu,Tn,r0,Tn,r0][this.id]]}get sub(){return Gs[[Mr,Mr,Mr,Mr,Tn,Tn,Tn,Tn][this.id]]}get fracNum(){return Gs[[Mr,pu,Mr,pu,Tn,r0,ou,M2][this.id]]}get fracDen(){return Gs[[Mr,Mr,Mr,Mr,Tn,Tn,ou,ou][this.id]]}get cramp(){return Gs[[Mr,Mr,Tn,Tn,ou,ou,lg,lg][this.id]]}get isTight(){return this.sizeDelta<0}},qd={7:new No(S6,0,!1),6:new No(lg,0,!0),5:new No(M2,0,!1),4:new No(ou,0,!0),3:new No(r0,-3,!1),2:new No(Tn,-3,!0),1:new No(pu,-4,!1),0:new No(Mr,-4,!0)},Gs=Z(q({},qd),{displaystyle:qd[S6],textstyle:qd[M2],scriptstyle:qd[r0],scriptscriptstyle:qd[pu]});function AB(t,e){var i;if(!t)return 0;let r={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:k0,bp:803/800,dd:1238/1157,pc:12,in:72.27,mu:10/18}[(i=t.unit)!=null?i:"pt"];if(Number.isFinite(e)){let n=10**e;return Math.round(t.dimension/k0*r*n)/n}return t.dimension*r}function MB(t,e){if(t===null)return 0;let i=AB(t)/k0;if(Number.isFinite(e)){let r=10**e;return Math.round(i*r)/r}return i}function Q3(t){var e;return`${t.dimension}${(e=t.unit)!=null?e:"pt"}`}function Goe(t){let e=Q3(t.glue);return t.grow&&t.grow.dimension!==0&&(e+=` plus ${Q3(t.grow)}`),t.shrink&&t.shrink.dimension!==0&&(e+=` minus ${Q3(t.shrink)}`),e}function pr(t){var e,i;if(t==null)return null;let r="";if("dimension"in t&&(r=`${t.dimension}${(e=t.unit)!=null?e:"pt"}`),"glue"in t&&(r=Goe(t)),"number"in t)if(!("base"in t)||t.base==="decimal")r=Number(t.number).toString();else if(t.base==="alpha")r=`\`${String.fromCodePoint(t.number)}`;else{let n=Math.round(t.number)>>>0;t.base==="hexadecimal"?(r=Number(n).toString(16).toUpperCase(),n<=255?r=r.padStart(2,"0"):n<=65535?r=r.padStart(4,"0"):n<=16777215?r=r.padStart(6,"0"):r=r.padStart(8,"0"),r=`"${r}`):t.base==="octal"&&(r=Number(n).toString(8),n<=63?r=r.padStart(2,"0"):n<=30583?r=r.padStart(4,"0"):r=r.padStart(8,"0"),r=`'${r}`)}return"register"in t&&("factor"in t&&(t.factor===-1?r="-":t.factor!==1&&(r=Number(t.factor).toString())),"global"in t&&t.global&&(r+="\\global"),r+=`\\${t.register}`),"string"in t&&(r=t.string),(i=t.relax)!=null&&i&&(r+="\\relax"),r}function js(t,e){return t==null?null:"number"in t?Z(q({},t),{number:t.number*e}):"register"in t?"factor"in t&&t.factor?Z(q({},t),{factor:t.factor*e}):Z(q({},t),{factor:e}):"dimension"in t?Z(q({},t),{dimension:t.dimension*e}):"glue"in t?t.shrink&&t.grow?{glue:js(t.glue,e),shrink:js(t.shrink,e),grow:js(t.grow,e)}:t.shrink?{glue:js(t.glue,e),shrink:js(t.shrink,e)}:t.grow?{glue:js(t.glue,e),grow:js(t.grow,e)}:{glue:js(t.glue,e)}:null}var Xoe={"p@":{dimension:1},"z@":{dimension:0},maxdimen:{dimension:16383.99999},hfuzz:{dimension:.1},vfuzz:{dimension:.1},overfullrule:{dimension:5},hsize:{dimension:6.5,unit:"in"},vsize:{dimension:8.9,unit:"in"},parindent:{dimension:20},maxdepth:{dimension:4},splitmaxdepth:{register:"maxdimen"},boxmaxdepth:{register:"maxdimen"},delimitershortfall:{dimension:5},nulldelimiterspace:{dimension:1.2,unit:"pt"},scriptspace:{dimension:.5},topskip:{dimension:10},splittopskip:{dimension:10},normalbaselineskip:{dimension:12},normallineskip:{dimension:1},normallineskiplimit:{dimension:0},jot:{dimension:3},doublerulesep:{dimension:2},arrayrulewidth:{dimension:.4},arraycolsep:{dimension:5},fboxsep:{dimension:3},fboxrule:{dimension:.4},"z@skip":{glue:{dimension:0},shrink:{dimension:0},grow:{dimension:0}},hideskip:{glue:{dimension:-1e3},grow:{dimension:1,unit:"fill"}},"@flushglue":{glue:{dimension:0},grow:{dimension:1,unit:"fill"}},parskip:{glue:{dimension:0},grow:{dimension:1}},abovedisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},abovedisplayshortskip:{glue:{dimension:0},grow:{dimension:3}},belowdisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},belowdisplayshortskip:{glue:{dimension:7},grow:{dimension:3},shrink:{dimension:4}},parfillskip:{glue:{dimension:0},grow:{dimension:1,unit:"fil"}},thinmuskip:{glue:{dimension:3,unit:"mu"}},medmuskip:{glue:{dimension:4,unit:"mu"},grow:{dimension:2,unit:"mu"},shrink:{dimension:4,unit:"mu"}},thickmuskip:{glue:{dimension:5,unit:"mu"},grow:{dimension:5,unit:"mu"}},smallskipamount:{glue:{dimension:3},grow:{dimension:1},shrink:{dimension:1}},medskipamount:{glue:{dimension:6},grow:{dimension:2},shrink:{dimension:3}},bigskipamount:{glue:{dimension:12},grow:{dimension:2},shrink:{dimension:4}},pretolerance:100,tolerance:200,hbadness:1e3,vbadness:1e3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1e4,doublehyphendemerits:1e4,finalhyphendemerits:5e3,adjdemerits:1e4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,baselineSkip:1.2,arraystretch:1,month:new Date().getMonth()+1,day:new Date().getDate(),year:new Date().getFullYear()};function DB(){return q({},Xoe)}function LB(){return{registers:DB(),smartFence:!1,renderPlaceholder:void 0,placeholderSymbol:"▢",letterShapeStyle:Ct.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,colorMap:T2,backgroundColorMap:v6,getMacro:t=>wB(t,_6())}}var Pt=class BB{constructor(e,i){var r,n,s,a,o,l,u,c,d,h,f,g,y,C,S;let A;e!=null&&e.parent?(this.parent=e.parent,A=e.parent,this.registers={}):(A=q(q({},LB()),(r=e==null?void 0:e.from)!=null?r:{}),this.registers=A.registers),A.atomIdsSettings&&(this.atomIdsSettings=q({},A.atomIdsSettings)),this.renderPlaceholder=A.renderPlaceholder,this.isPhantom=(a=(s=e==null?void 0:e.isPhantom)!=null?s:(n=this.parent)==null?void 0:n.isPhantom)!=null?a:!1,this.letterShapeStyle=A.letterShapeStyle,this.minFontScale=A.minFontScale,this.maxMatrixCols=A.maxMatrixCols,i!=null&&i.color&&i.color!=="none"?this.color=i.color:this.color=(l=(o=this.parent)==null?void 0:o.color)!=null?l:"",i!=null&&i.backgroundColor&&i.backgroundColor!=="none"?this.backgroundColor=i.backgroundColor:this.backgroundColor=(c=(u=this.parent)==null?void 0:u.backgroundColor)!=null?c:"",i!=null&&i.fontSize&&i.fontSize!=="auto"&&i.fontSize!==((d=this.parent)==null?void 0:d.size)?this.size=i.fontSize:this.size=(f=(h=this.parent)==null?void 0:h.size)!=null?f:w6;let T=(y=(g=this.parent)==null?void 0:g.mathstyle)!=null?y:Gs.displaystyle;if(typeof(e==null?void 0:e.mathstyle)=="string"){if(A instanceof BB)switch(e.mathstyle){case"cramp":T=T.cramp;break;case"superscript":T=T.sup;break;case"subscript":T=T.sub;break;case"numerator":T=T.fracNum;break;case"denominator":T=T.fracDen;break}switch(e.mathstyle){case"textstyle":T=Gs.textstyle;break;case"displaystyle":T=Gs.displaystyle;break;case"scriptstyle":T=Gs.scriptstyle;break;case"scriptscriptstyle":T=Gs.scriptscriptstyle;break}}this.mathstyle=T,this.smartFence=A.smartFence,this.placeholderSymbol=A.placeholderSymbol,this.colorMap=(C=A.colorMap)!=null?C:M=>M,this.backgroundColorMap=(S=A.backgroundColorMap)!=null?S:M=>M,this.getMacro=A.getMacro,this.parent!==void 0||this.registers}makeID(){if(!this.atomIdsSettings)return;if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;if(typeof this.atomIdsSettings.seed!="number")return`${Date.now().toString(36).slice(-2)}${Math.floor(Math.random()*1e5).toString(36)}`;let e=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,e}scale(e){return e*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return this.mathstyle.id===S6||this.mathstyle.id===lg}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get metrics(){return this.mathstyle.metrics}get effectiveFontSize(){return Math.max(P5[Math.max(1,this.size+this.mathstyle.sizeDelta)],this.minFontScale)}getRegister(e){var i;if((i=this.registers)!=null&&i[e])return this.registers[e];if(this.parent)return this.parent.getRegister(e)}getRegisterAsNumber(e){let i=this.getRegister(e);if(typeof i=="number")return i;if(typeof i=="string")return Number(i)}getRegisterAsGlue(e){var i;if((i=this.registers)!=null&&i[e]){let r=this.registers[e];return typeof r=="object"&&"glue"in r?r:typeof r=="object"&&"dimension"in r?{glue:{dimension:r.dimension}}:typeof r=="number"?{glue:{dimension:r}}:void 0}if(this.parent)return this.parent.getRegisterAsGlue(e)}getRegisterAsEm(e,i){return MB(this.getRegisterAsDimension(e),i)}getRegisterAsDimension(e){var i;if((i=this.registers)!=null&&i[e]){let r=this.registers[e];return typeof r=="object"&&"glue"in r?r.glue:typeof r=="object"&&"dimension"in r?r:typeof r=="number"?{dimension:r}:void 0}if(this.parent)return this.parent.getRegisterAsDimension(e)}setRegister(e,i){if(i===void 0){delete this.registers[e];return}this.registers[e]=i}evaluate(e){if(!e||!("register"in e))return e;let i=this;if("global"in e&&e.global)for(;i.parent;)i=i.parent;let r=1;"factor"in e&&e.factor!==1&&e.factor!==void 0&&(r=e.factor);let n=i.getRegister(e.register);if(n===void 0)return;if(typeof n=="string")return{string:Number(n).toString()+n};if(typeof n=="number")return{number:r*n};let s=i.evaluate(n);if(s!==void 0)return"string"in s?{string:Number(n).toString()+s.string}:"number"in s?{number:r*s.number}:"dimension"in s?Z(q({},s),{dimension:r*s.dimension}):"glue"in s?Z(q({},s),{glue:Z(q({},s.glue),{dimension:r*s.glue.dimension}),shrink:s.shrink?Z(q({},s.shrink),{dimension:r*s.shrink.dimension}):void 0,grow:s.grow?Z(q({},s.grow),{dimension:r*s.grow.dimension}):void 0}):e}toDimension(e){let i=this.evaluate(e);if(i===void 0)return null;if("dimension"in i)return i;if("glue"in i)return i.glue;if("number"in i)return{dimension:i.number};if("string"in i){let r=parseFloat(i.string),n=i.string.match(/(mm|cm|ex|px|em|bp|dd|pc|in|mu)$/);return n?{dimension:r,unit:n[0]}:{dimension:r}}return null}toEm(e,i){if(e===null)return 0;let r=this.toDimension(e);return r===null?0:AB(r,i)/k0}toNumber(e){if(e===null)return null;let i=this.evaluate(e);return i===void 0?null:"number"in i?i.number:"dimension"in i?i.dimension:"glue"in i?i.glue.dimension:"string"in i?Number(i.string):null}toColor(e){var i,r;if(e===null)return null;let n=this.evaluate(e);return n===void 0?null:"string"in n?(r=(i=this.colorMap)==null?void 0:i.call(this,n.string))!=null?r:n.string:null}toBackgroundColor(e){var i,r;if(e===null)return null;let n=this.evaluate(e);return n===void 0?null:"string"in n?(r=(i=this.backgroundColorMap)==null?void 0:i.call(this,n.string))!=null?r:n.string:null}},T0=["body","above","below","superscript","subscript"];function iu(t){return typeof t=="string"&&T0.includes(t)}function no(t){return t!==void 0&&Array.isArray(t)&&t.length===2}var ue=class Da{constructor(e){this.isRoot=!1;var i,r,n,s,a,o,l;this.type=e.type,typeof e.value=="string"&&(this.value=e.value),this.command=(r=(i=e.command)!=null?i:this.value)!=null?r:"",this.mode=(n=e.mode)!=null?n:"math",e.isFunction&&(this.isFunction=!0),(e.isRoot||this.type==="root")&&(this.isRoot=!0),e.limits&&(this.subsupPlacement=e.limits),this.style=q({},(s=e.style)!=null?s:{}),this.displayContainsHighlight=(a=e.displayContainsHighlight)!=null?a:!1,this.captureSelection=(o=e.captureSelection)!=null?o:!1,this.skipBoundary=(l=e.skipBoundary)!=null?l:!1,e.verbatimLatex!==void 0&&e.verbatimLatex!==null&&(this.verbatimLatex=e.verbatimLatex),e.args&&(this.args=e.args),e.body&&(this.body=e.body),this._changeCounter=0}static createBox(e,i,r){var n;if(!i)return null;let s=Yoe(i),a=[];for(let l of s){let u=l[0].style,c=Zoe(e,l,{style:{color:u.color,backgroundColor:u.backgroundColor,fontSize:u.fontSize}});c&&a.push(c)}if(a.length===0)return null;let o=((n=r==null?void 0:r.classes)!=null?n:"").trim();return a.length===1&&!o&&!(r!=null&&r.type)?a[0].wrap(e):new Ae(a,{classes:o,type:r==null?void 0:r.type}).wrap(e)}static serialize(e,i){return Mn.serialize(e,i)}static commonAncestor(e,i){if(e===i||e.parent===i.parent)return e.parent;let r=new WeakSet,{parent:n}=e;for(;n;)r.add(n),n=n.parent;for(n=i.parent;n;){if(r.has(n))return n;n=n.parent}}static fromJson(e){return typeof e=="string"?new Da({type:"mord",value:e,mode:"math"}):new Da(e)}toJson(){if(this._json)return this._json;let e={};if(this.type&&(e.type=this.type),this.mode!=="math"&&(e.mode=this.mode),this.command&&this.command!==this.value&&(e.command=this.command),this.value!==void 0&&(e.value=this.value),this.style&&Object.keys(this.style).length>0&&(e.style=q({},this.style)),this.verbatimLatex!==void 0&&(e.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(e.explicitSubsupPlacement=!0),this.isFunction&&(e.isFunction=!0),this.displayContainsHighlight&&(e.displayContainsHighlight=!0),this.skipBoundary&&(e.skipBoundary=!0),this.captureSelection&&(e.captureSelection=!0),this.args&&(e.args=Joe(this.args)),this._branches)for(let i of Object.keys(this._branches))this._branches[i]&&(e[i]=this._branches[i].filter(r=>r.type!=="first").map(r=>r.toJson()));return e.type==="mord"&&Object.keys(e).length===2&&"value"in e?e.value:(this._json=e,e)}get changeCounter(){return this.parent?this.parent.changeCounter:this._changeCounter}set isDirty(e){e&&(this._json=void 0,this.parent||this._changeCounter++,"verbatimLatex"in this&&(this.verbatimLatex=void 0),this._children=void 0,this.parent&&(this.parent.isDirty=!0))}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let i=br(this.command,this.mode);return i!=null&&i.serialize?i.serialize(this,e):this.body&&this.command?kt([ti(this.command,this.bodyToLatex(e)),this.supsubToLatex(e)]):this.body?kt([this.bodyToLatex(e),this.supsubToLatex(e)]):!this.value||this.value==="​"?"":this.command}bodyToLatex(e){var i;let r=(i=e.defaultMode)!=null?i:this.mode==="math"?"math":"text";return Mn.serialize(this.body,Z(q({},e),{defaultMode:r}))}aboveToLatex(e){return Mn.serialize(this.above,e)}belowToLatex(e){return Mn.serialize(this.below,e)}supsubToLatex(e){let i="";if(e=Z(q({},e),{defaultMode:"math"}),this.branch("subscript")!==void 0){let r=Mn.serialize(this.subscript,e);r.length===0?i+="_{}":r.length===1?/^[0-9]$/.test(r)?i+=`_${r}`:i+=`_{${r}}`:i+=`_{${r}}`}if(this.branch("superscript")!==void 0){let r=Mn.serialize(this.superscript,e);r.length===0?i+="^{}":r.length===1?r==="′"?i+="^\\prime ":r==="″"?i+="^\\doubleprime ":/^[0-9]$/.test(r)?i+=`^${r}`:i+=`^{${r}}`:i+=`^{${r}}`}return i}get treeDepth(){let e=1,i=this.parent;for(;i;)i=i.parent,e+=1;return e}get inCaptureSelection(){let e=this;for(;e;){if(e.captureSelection)return!0;e=e.parent}return!1}get parentPrompt(){let e=this.parent;for(;e;){if(e.type==="prompt"&&!e.captureSelection)return e;e=e.parent}return null}branch(e){if(iu(e)&&this._branches)return this._branches[e]}get branches(){if(!this._branches)return[];let e=[];for(let i of T0)this._branches[i]&&e.push(i);return e}createBranch(e){return iu(e),iu(e)?(this._branches?this._branches[e]||(this._branches[e]=[this.makeFirstAtom(e)]):this._branches={[e]:[this.makeFirstAtom(e)]},this.isDirty=!0,this._branches[e]):[]}get row(){return no(this.parentBranch)?this.parentBranch[0]:-1}get col(){return no(this.parentBranch)?this.parentBranch[1]:-1}get body(){var e;return(e=this._branches)==null?void 0:e.body}set body(e){this.setChildren(e,"body")}get superscript(){var e;return(e=this._branches)==null?void 0:e.superscript}set superscript(e){this.setChildren(e,"superscript")}get subscript(){var e;return(e=this._branches)==null?void 0:e.subscript}set subscript(e){this.setChildren(e,"subscript")}get above(){var e;return(e=this._branches)==null?void 0:e.above}set above(e){this.setChildren(e,"above")}get below(){var e;return(e=this._branches)==null?void 0:e.below}set below(e){this.setChildren(e,"below")}applyStyle(e,i){this.isDirty=!0,i!=null&&i.unstyledOnly?(e.color&&!this.style.color&&(this.style.color=e.color),e.backgroundColor&&!this.style.backgroundColor&&(this.style.backgroundColor=e.backgroundColor),e.fontFamily&&!this.style.fontFamily&&(this.style.fontFamily=e.fontFamily),e.fontShape&&!this.style.fontShape&&(this.style.fontShape=e.fontShape),e.fontSeries&&!this.style.fontSeries&&(this.style.fontSeries=e.fontSeries),e.fontSize&&!this.style.fontSize&&(this.style.fontSize=e.fontSize),e.variant&&!this.style.variant&&(this.style.variant=e.variant),e.variantStyle&&!this.style.variantStyle&&(this.style.variantStyle=e.variantStyle)):this.style=q(q({},this.style),e),this.style.fontFamily==="none"&&delete this.style.fontFamily,this.style.fontShape==="auto"&&delete this.style.fontShape,this.style.fontSeries==="auto"&&delete this.style.fontSeries,this.style.color==="none"&&(delete this.style.color,delete this.style.verbatimColor),this.style.backgroundColor==="none"&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor),this.style.fontSize==="auto"&&delete this.style.fontSize;for(let r of this.children)r.applyStyle(e,i)}getInitialBaseElement(){var e,i,r;return this.hasEmptyBranch("body")?this:((e=this.body)==null||e[0].type,(r=(i=this.body[1])==null?void 0:i.getInitialBaseElement())!=null?r:this)}getFinalBaseElement(){return this.hasEmptyBranch("body")?this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){return this.type==="leftright"||this.type==="genfrac"||this.type==="subsup"||this.type==="delim"||this.type==="array"||this.type==="surd"?!1:this.getFinalBaseElement().type==="mord"}hasEmptyBranch(e){let i=this.branch(e);return i?(i.length>0,i[0].type,i.length===1):!0}setChildren(e,i){var r;if(!e||(iu(i),!iu(i)))return;let n=((r=e[0])==null?void 0:r.type)==="first"?[...e]:[this.makeFirstAtom(i),...e];this._branches?this._branches[i]=n:this._branches={[i]:n};for(let s of e)s.parent=this,s.parentBranch=i;this.isDirty=!0}makeFirstAtom(e){let i=new Da({type:"first",mode:this.mode});return i.parent=this,i.parentBranch=e,i}addChild(e,i){e.type,this.createBranch(i).push(e),this.isDirty=!0,e.parent=this,e.parentBranch=i}addChildBefore(e,i){i.parentBranch;let r=this.createBranch(i.parentBranch);r.splice(r.indexOf(i),0,e),this.isDirty=!0,e.parent=this,e.parentBranch=i.parentBranch}addChildAfter(e,i){i.parentBranch;let r=this.createBranch(i.parentBranch);r.splice(r.indexOf(i)+1,0,e),this.isDirty=!0,e.parent=this,e.parentBranch=i.parentBranch}addChildren(e,i){let r=this.createBranch(i);for(let n of e)n.parent=this,n.parentBranch=i,r.push(n);this.isDirty=!0}addChildrenAfter(e,i){e.length===0||e[0].type,i.parentBranch;let r=this.createBranch(i.parentBranch);r.splice(r.indexOf(i)+1,0,...e),this.isDirty=!0;for(let n of e)n.parent=this,n.parentBranch=i.parentBranch;return e[e.length-1]}removeBranch(e){let i=this.branch(e);if(iu(e)&&(this._branches[e]=void 0),!i)return[];for(let s of i)s.parent=void 0,s.parentBranch=void 0;i[0].type;let[r,...n]=i;return this.isDirty=!0,n}removeChild(e){if(e.parent,e.type==="first")return;let i=this.branch(e.parentBranch),r=i.indexOf(e);i.splice(r,1),this.isDirty=!0,e.parent=void 0,e.parentBranch=void 0}get siblings(){return this.parent?this.parent.branch(this.parentBranch):[]}get firstSibling(){return this.siblings[0]}get lastSibling(){let{siblings:e}=this;return e[e.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return this.siblings.length===1}get leftSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)-1]}get rightSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)+1]}get hasChildren(){return!!(this._branches&&this.children.length>0)}get firstChild(){return this.hasChildren,this.children[0]}get lastChild(){this.hasChildren;let{children:e}=this;return e[e.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];let e=[];for(let i of T0)if(this._branches[i])for(let r of this._branches[i])e.push(...r.children),e.push(r);return this._children=e,e}render(e){if(this.type==="first"&&!e.atomIdsSettings)return null;let i=br(this.command,this.mode);if(i!=null&&i.render)return i.render(this,e);let r=new Pt({parent:e},this.style),n=this.createBox(r,{classes:this.parent?"":"ML__base"});return n?(!this.subsupPlacement&&(this.superscript||this.subscript)&&(n=this.attachSupsub(r,{base:n})),n.wrap(r)):null}attachSupsub(e,i){var r;let n=i.base,s=this.superscript,a=this.subscript;if(!s&&!a)return n;let o=null,l=null,u=(r=i.isCharacterBox)!=null?r:this.isCharacterBox(),c=0;if(s){let y=new Pt({parent:e,mathstyle:"superscript"});o=Da.createBox(y,s),u||(c=n.height-e.metrics.supDrop*y.scalingFactor)}let d=0;if(a){let y=new Pt({parent:e,mathstyle:"subscript"});l=Da.createBox(y,a),u||(d=n.depth+e.metrics.subDrop*y.scalingFactor)}let h;e.isDisplayStyle?h=e.metrics.sup1:e.isCramped?h=e.metrics.sup3:h=e.metrics.sup2;let f=.5/k0/e.scalingFactor,g=null;if(l&&o){c=Math.max(c,h,o.depth+.25*e.metrics.xHeight),d=Math.max(d,e.metrics.sub2);let y=e.metrics.defaultRuleThickness;if(c-o.depth-(l.height-d)<4*y){d=4*y-(c-o.depth)+l.height;let S=.8*e.metrics.xHeight-(c-o.depth);S>0&&(c+=S,d-=S)}let C=this.type==="extensible-symbol"&&n.italic?-n.italic:0;g=new zi({individualShift:[{box:l,shift:d,marginLeft:C},{box:o,shift:-c}]}).wrap(e)}else l&&!o?(d=Math.max(d,e.metrics.sub1,l.height-.8*ol),g=new zi({shift:d,children:[{box:l,marginRight:f,marginLeft:this.isCharacterBox()?-n.italic:0}]})):!l&&o&&(c=Math.max(c,h,o.depth+.25*ol),g=new zi({shift:-c,children:[{box:o,marginRight:f}]}));return new Ae([n,new Ae(g,{caret:this.caret,isSelected:this.isSelected,classes:"ML__msubsup"})],{type:i.type})}attachLimits(e,i){let r=this.superscript?Da.createBox(new Pt({parent:e,mathstyle:"superscript"},this.style),this.superscript):null,n=this.subscript?Da.createBox(new Pt({parent:e,mathstyle:"subscript"},this.style),this.subscript):null;return!r&&!n?i.base.wrap(e):Woe(e,Z(q({},i),{above:r,below:n}))}bind(e,i){if(!i||e.isPhantom||this.value==="​")return i;let r=this.parent;for(;r&&!r.captureSelection;)r=r.parent;return r!=null&&r.captureSelection||(this.id||(this.id=e.makeID()),i.atomID=this.id),i}createBox(e,i){var r,n,s,a;let o=(r=this.value)!=null?r:this.body,l=(n=i==null?void 0:i.boxType)!=null?n:N5(this.type),u=(s=i==null?void 0:i.classes)!=null?s:"";this.mode==="text"&&(u+=" ML__text");let c=typeof o=="string"||o===void 0?new Ae(o??null,{type:l,isSelected:this.isSelected,mode:this.mode,maxFontSize:e.scalingFactor,style:Z(q({variant:"normal"},this.style),{fontSize:Math.max(1,e.size+e.mathstyle.sizeDelta)}),letterShapeStyle:e.letterShapeStyle,classes:u}):(a=Da.createBox(e,o,{type:l,classes:u}))!=null?a:new Ae(null);return e.isTight&&(c.isTight=!0),(this.mode!=="math"||this.style.variant==="main")&&(c.italic=0),c.right=c.italic,this.bind(e,c),this.caret&&!this.superscript&&!this.subscript&&(c.caret=this.caret),c}isDigit(){var e;return this.type==="mord"&&this.value?/^[\d,\.]$/.test(this.value):this.type==="group"&&((e=this.body)==null?void 0:e.length)===2?this.body[0].type==="first"&&this.body[1].value===",":!1}asDigit(){var e;return this.type==="mord"&&this.value&&/^[\d,\.]$/.test(this.value)?this.value:this.type==="group"&&((e=this.body)==null?void 0:e.length)===2&&this.body[0].type==="first"&&this.body[1].value===","?".":""}};function Yoe(t){let e,i=[],r=[];for(let n of t)if(n.type==="first"&&r.push(n),!e&&!n.style)r.push(n);else{let s=n.style;e&&s.color===e.color&&s.backgroundColor===e.backgroundColor&&s.fontSize===e.fontSize?r.push(n):(r.length>0&&i.push(r),r=[n],e=s)}return r.length>0&&i.push(r),i}function Zoe(t,e,i){var r,n,s,a,o;if(!e||e.length===0)return null;let l=new Pt({parent:t},i.style),u=!((r=l.atomIdsSettings)!=null&&r.groupNumbers),c=[];if(e.length===1){let h=e[0],f=h.render(l);f&&(u&&h.isSelected&&f.selected(!0),c=[f])}else{let h="",f=!0;for(let g of e){(n=l.atomIdsSettings)!=null&&n.groupNumbers&&h&&(f&&g.isDigit()||!f&&ey(g))&&(l.atomIdsSettings.overrideID=h);let y=g.render(l);l.atomIdsSettings&&(l.atomIdsSettings.overrideID=void 0),y&&((s=l.atomIdsSettings)!=null&&s.groupNumbers&&((g.isDigit()||ey(g))&&(!h||f!==g.isDigit())&&(f=g.isDigit(),h=(a=g.id)!=null?a:""),h&&(!(g.isDigit()||ey(g))||!g.hasEmptyBranch("superscript")||!g.hasEmptyBranch("subscript"))&&(h="")),u&&g.isSelected&&y.selected(!0),c.push(y))}}if(c.length===0)return null;let d=new Ae(c,Z(q({isTight:l.isTight},i),{type:(o=i.type)!=null?o:"lift"}));return d.isSelected=c.every(h=>h.isSelected),d.wrap(l)}function ey(t){return t.mode==="text"}function Joe(t){return t.map(e=>e===null?"<null>":Array.isArray(e)&&e[0]instanceof ue?{atoms:e.map(i=>i.toJson())}:typeof e=="object"&&"group"in e?{group:e.group.map(i=>i.toJson())}:e)}var Y0=class PB extends ue{constructor(e,i,r){super({type:"text",command:e,mode:"text",displayContainsHighlight:!0}),this.value=i,this.verbatimLatex=i,this.applyStyle(r)}static fromJson(e){return new PB(e.command,e.value,e.style)}render(e){let i=this.createBox(e);return this.caret&&(i.caret=this.caret),i}_serialize(e){var i;return(i=this.verbatimLatex)!=null?i:SB("text",this.value.codePointAt(0))}};function Qoe(t,e){if(t.direction===e.direction){let i=t.ranges.length;if(e.ranges.length===i){let r=0;for(;r<i&&ele(t.ranges[r],e.ranges[r])==="equal";)r++;return r===i?"equal":"different"}}return"different"}function ele(t,e){return t[0]===e[0]&&t[1]===e[1]?"equal":"different"}function Cr(t){let e=1/0,i=-1/0;for(let r of t.ranges)e=Math.min(e,r[0],r[1]),i=Math.max(i,r[0],r[1]);return[e,i]}function el(t){return typeof t=="number"&&!Number.isNaN(t)}function ug(t){return Array.isArray(t)&&t.length===2}function s1(t){return t!=null&&typeof t=="object"&&"ranges"in t&&Array.isArray(t.ranges)}function tle(t,e){let i=t.at(e),r;if(i){r=i.mode;let n=i.parent;for(;!r&&n;)n&&(r=n.mode),n=n.parent}return r}function ile(t,e){if(!e)return"";if(typeof e=="string")return e;if(!t||e.after===void 0)return e.value;let i=!1,r=!1,n=!1,s=!1,a=!1,o=!1,l=!1,u=!1,c=!1,d=!1,h=!1,f=!1,g=!1,y=!1,C=!1,S=t[0],A=0;for(;S!=null&&S.type&&/^(subsup|placeholder)$/.test(S.type);)A+=1,S=t[A];return i=!S||S.type==="first",S&&(y=S.mode==="text",r=!y&&S.type==="mord"&&D5.test(S.value),n=!y&&S.type==="mord"&&/\d+$/.test(S.value),s=!y&&S.isFunction,a=S.type==="genfrac",o=S.type==="surd",l=S.type==="mbin",u=S.type==="mrel",c=S.type==="mop"||S.type==="operator"||S.type==="extensible-symbol",d=S.type==="mpunct"||S.type==="minner",h=S.type==="array",f=S.type==="mopen",g=S.type==="mclose"||S.type==="leftright",C=S.type==="space"),e.after.includes("nothing")&&i||e.after.includes("letter")&&r||e.after.includes("digit")&&n||e.after.includes("function")&&s||e.after.includes("frac")&&a||e.after.includes("surd")&&o||e.after.includes("binop")&&l||e.after.includes("relop")&&u||e.after.includes("operator")&&c||e.after.includes("punct")&&d||e.after.includes("array")&&h||e.after.includes("openfence")&&f||e.after.includes("closefence")&&g||e.after.includes("text")&&y||e.after.includes("space")&&C?e.value:""}function C6(t,e,i){return i?ile(t,i[e]):""}var IB={"&":"\\&","%":"\\%",$:"\\$","''":"^{\\doubleprime}","'''":"^{\\prime\\prime\\prime}","''''":"^{\\prime\\prime\\prime\\prime}",alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:"\\nabla",grad:"\\nabla",del:"\\partial",deg:{after:"digit+space",value:"\\degree"},infty:"\\infty","∞":"\\infty",oo:{after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"∑":"\\sum",sum:"\\sum_{#?}^{#?}",int:"\\int_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt{#?}","∆":"\\differentialD","∂":"\\differentialD",sin:"\\sin",cos:"\\cos",tan:"\\tan",arccos:"\\arccos",arcsin:"\\arcsin",arctan:"\\arctan",arctg:"\\operatorname{arctg}",arcsec:"\\operatorname{arcsec}",arccsc:"\\operatorname{arccsc}",arsinh:"\\operatorname{arsinh}",arccosh:"\\operatorname{arccosh}",arcosh:"\\operatorname{arcosh}",artanh:"\\operatorname{artanh}",arctanh:"\\operatorname{arctanh}",arcsech:"\\operatorname{arcsech}",arccsch:"\\operatorname{arccsch}",ch:"\\operatorname{ch}",cosec:"\\operatorname{cosec}",cosh:"\\cosh",cot:"\\cot",cotg:"\\operatorname{cotg}",coth:"\\coth",csc:"\\csc",ctg:"\\operatorname{ctg}",cth:"\\operatorname{cth}",sec:"\\sec",sech:"\\operatorname{sech}",sinh:"\\sinh",sh:"\\operatorname{sh}",tanh:"\\tanh",tg:"\\operatorname{tg}",th:"\\operatorname{th}",arg:"\\arg",lg:"\\lg",lb:"\\operatorname{lb}",log:"\\log_{#?}",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?\\to#?}",dx:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},AA:"\\forall",EE:"\\exists","!EE":"\\nexists","&&":"\\land",xin:{after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},sint:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\sin t"},in:{after:"nothing+letter+closefence",value:"\\in"},"!in":"\\notin",NN:"\\mathbb{N}",ZZ:"\\mathbb{Z}",QQ:"\\mathbb{Q}",RR:"\\mathbb{R}",CC:"\\mathbb{C}",xx:"\\times","+-":"\\pm","≠":"\\ne","!=":"\\ne","≥":"\\ge",">=":"\\ge","≤":"\\le","<=":"\\le","<<":"\\ll",">>":"\\gg","~~":"\\approx","≈":"\\approx","?=":"\\questeq","÷":"\\div","¬":"\\neg",":=":"\\coloneq","::":"\\Colon","(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},nu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},µ:"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega",Ω:"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\liminf_{#?}",limsup:"\\limsup_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:"\\bmod{#?}","(mod":"\\pmod{#?}",max:"\\max",min:"\\min",erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:"\\operatorname{bessel}",mean:"\\operatorname{mean}",median:"\\operatorname{median}",fft:"\\operatorname{fft}",lcm:"\\operatorname{lcm}",gcd:"\\gcd",randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:"\\operatorname{Re}",Im:"\\operatorname{Im}",mm:{after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{after:"nothing+digit+operator",value:"\\operatorname{kg}"},ft:{after:"nothing+digit+operator",value:"\\operatorname{ft}"},inch:{after:"nothing+digit+operator",value:"\\operatorname{inch}"},mi:{after:"nothing+digit+operator",value:"\\operatorname{mi}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","-->...":"\\longrightarrow\\cdots","->":"\\to","|->":"\\mapsto","-->":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\iff","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","*":"\\cdot","**":"\\star","***":"\\ast","//":"\\slash","\\\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceil","~|":"\\rceil",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail",times:"\\times",of:"\\circ",infinity:"\\infty",defint:"\\int_{#?}^{#?}",approaches:"\\to",ceil:"\\left\\lceil#?\\right\\rceil",floor:"\\left\\lfloor#?\\right\\rfloor",union:"\\cup",asterisk:"\\ast",frac:"\\frac{#?}{#?}",cbrt:"\\sqrt[3]{#?}",nthroot:"\\sqrt[#?]{#?}"};function z5(t,e){var i;let r=(i=e==null?void 0:e.format)!=null?i:"auto";return r==="auto"&&([r,t]=rle(t)),r==="ascii-math"?(t=t.replace(/\u2061/gu,""),t=t.replace(/\u3016/gu,"{"),t=t.replace(/\u3017/gu,"}"),t=t.replace(/([^\\])sinx/g,"$1\\sin x"),t=t.replace(/([^\\])cosx/g,"$1\\cos x "),t=t.replace(/\u2013/g,"-"),["ascii-math",on(t,{inlineShortcuts:e==null?void 0:e.inlineShortcuts})]):["latex",t]}function on(t,e){var i;if(t=t.trim(),!t)return"";let r=(i=e.inlineShortcuts)!=null?i:IB;if(t.startsWith("^")||t.startsWith("_")){let{match:o,rest:l}=Wl(t.slice(1),{inlineShortcuts:r,noWrap:!0});return`${t[0]}{${o}}${on(l,e)}`}let n=t.match(/^(sqrt|\u221A)(.*)/);if(n){let{match:o,rest:l}=Wl(n[2],{inlineShortcuts:r,noWrap:!0});return`\\sqrt{${o??"\\placeholder{}"}}${on(l,e)}`}if(n=t.match(/^(\\cbrt|\u221B)(.*)/),n){let{match:o,rest:l}=Wl(n[2],{inlineShortcuts:r,noWrap:!0});return`\\sqrt[3]{${o??"\\placeholder{}"}}${on(l,e)}`}if(n=t.match(/^abs(.*)/),n){let{match:o,rest:l}=Wl(n[1],{inlineShortcuts:r,noWrap:!0});return`\\left|${o??"\\placeholder{}"}\\right|${on(l,e)}`}if(n=t.match(/^["”“](.*?)["”“](.*)/),n)return`\\text{${n[1]}}${on(n[2],e)}`;if(n=t.match(/^([^a-zA-Z0-9\(\{\[\_\^\\\s"]+)(.*)/),n)return`${AC(n[1],r)}${on(n[2],e)}`;if(/^([fgh])[^a-zA-Z]/.test(t)){let{rest:o,match:l}=Wl(t.slice(1),{inlineShortcuts:r,noWrap:!0}),u="";return t[1]==="("?u=`${t[0]}\\left(${l}\\right)`:u=t[0]+l,u+on(o,e)}if(n=t.match(/^([a-zA-Z]+)(.*)/),n)return AC(n[1],r)+on(n[2],e);let{match:s,rest:a}=Wl(t,{inlineShortcuts:r,noWrap:!0});if(s&&a[0]==="/"){let o=Wl(a.slice(1),{inlineShortcuts:r,noWrap:!0});if(o.match)return`\\frac{${s}}{${o.match}}${on(o.rest,e)}`}else return t.startsWith("(")?"\\left("+s+"\\right)"+on(a,e):s+on(a,e);return n=t.match(/^(\s+)(.*)$/),n?" "+on(n[2],e):t}var EC={"[":"\\lbrack","]":"\\rbrack","{":"\\lbrace","}":"\\rbrace"};function Wl(t,e){var i,r;let n="";t=t.trim();let s=t,a=t.charAt(0),o={"(":")","{":"}","[":"]"}[a];if(o){let l=1,u=1;for(;u<t.length&&l>0;)t[u]===a&&l++,t[u]===o&&l--,u++;if(l===0){let c=on(t.substring(1,u-1),e);e.noWrap&&a==="("?n=c:n=`\\left${(i=EC[a])!=null?i:a}${c}\\right${(r=EC[o])!=null?r:o}`,s=t.slice(Math.max(0,u))}else n=t.substring(1,u),s=""}else{let l=t.match(/^([a-zA-Z]+)/);if(l){let u=C6(null,t,e.inlineShortcuts);if(u)return u=u.replace("_{#?}",""),u=u.replace("^{#?}",""),{match:u,rest:t.slice(u.length)}}if(l=t.match(/^([a-zA-Z])/),l)return{match:l[1],rest:t.slice(1)};if(l=t.match(/^(-)?\d+(\.\d*)?/),l)return{match:l[0],rest:t.slice(l[0].length)};/^\\(left|right)/.test(t)||(l=t.match(/^(\\[a-zA-Z]+)/),l&&(s=t.slice(l[1].length),n=l[1]))}return{match:n,rest:s}}function AC(t,e){let i=C6(null,t,e);return i?(i=i.replace("_{#?}",""),i=i.replace("^{#?}",""),i+=" "):i=t,i}var RB=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],["\\begin{equation*}","\\end{equation*}"]];function k6(t){let e=t.trim();for(let i of RB)if(e.startsWith(i[0])&&e.endsWith(i[1]))return[!0,e.substring(i[0].length,e.length-i[1].length)];return[!1,t]}function rle(t){if(t=t.trim(),t.length<=1)return["latex",t];let e;return[e,t]=k6(t),e?["latex",t]:t.startsWith("`")&&t.endsWith("`")?(t=t.substring(1,t.length-1),["ascii-math",t]):t.includes("\\")?["latex",t]:/\$.+\$/.test(t)?["latex",`\\text{${t}}`]:[void 0,t]}var nle="$$",sle="$$",ale=(t,e,i)=>(RB.some(r=>e.startsWith(r[0])&&e.endsWith(r[1]))||(e=`${nle} ${e} ${sle}`),e),OB=class a1{constructor(e){a1._modes[e]=this}static onPaste(e,i,r){var n;if(!i.contentEditable&&i.userSelect==="none")return i.model.announce("plonk"),!1;if(typeof r=="string"){let a=new DataTransfer;a.setData("text/plain",r),r=a}let s=new ClipboardEvent("paste",{clipboardData:r,cancelable:!0});return(n=i.host)!=null&&n.dispatchEvent(s)?a1._modes[e].onPaste(i,r):!1}static copyToClipboard(e,i){if(!e.contentEditable&&e.userSelect==="none"){e.model.announce("plonk");return}let r=e.model,n=r.selectionIsCollapsed?[0,r.lastOffset]:Cr(r.selection),s=r.getValue(n,i);navigator.clipboard.writeText(s).then(()=>{},()=>e.model.announce("plonk"))}static onCopy(e,i){var r;if(!i.clipboardData)return;if(!e.contentEditable&&e.userSelect==="none"){e.model.announce("plonk");return}let n=e.model,s=n.selectionIsCollapsed?[0,n.lastOffset]:Cr(n.selection),a=n.getAtoms(s);if(a.every(o=>o.mode==="text"||!o.mode))i.clipboardData.setData("text/plain",a.filter(o=>o instanceof Y0).map(o=>o.value).join(""));else if(a.every(o=>o.mode==="latex"))i.clipboardData.setData("text/plain",n.getAtoms(s,{includeChildren:!0}).map(o=>{var l;return(l=o.value)!=null?l:""}).join(""));else{let o;a.length===1&&a[0].verbatimLatex!==void 0?o=a[0].verbatimLatex:o=n.getValue(s,"latex-expanded"),i.clipboardData.setData("application/x-latex",o);try{i.clipboardData.setData("text/plain",e.options.onExport(e,o,s))}catch{}if(a.length===1){let l=a[0];(l.type==="root"||l.type==="group")&&(a=l.body.filter(u=>u.type!=="first"))}try{i.clipboardData.setData("application/json+mathlive",JSON.stringify(a.map(l=>l.toJson())))}catch{}if((r=window[Symbol.for("io.cortexjs.compute-engine")])!=null&&r.ComputeEngine){let l=globalThis.MathfieldElement.computeEngine;if(l)try{let u=l.jsonSerializationOptions;l.jsonSerializationOptions={metadata:["latex"]};let c=l.parse(n.getValue(s,"latex-unstyled"));l.jsonSerializationOptions=u;let d=JSON.stringify(c.json);d&&i.clipboardData.setData("application/json",d)}catch{}}}i.preventDefault()}static insert(e,i,r={}){var n;let s=r.mode==="auto"?e.mode:(n=r.mode)!=null?n:e.mode;return a1._modes[s].insert(e,i,r)}onPaste(e,i){return!1}insert(e,i,r){return!1}};OB._modes={};var Qt=OB,ole=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Home]",command:"moveToMathfieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathfieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathfieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathfieldEnd"},{key:"shift+[End]",command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",command:"moveToNextGroup"},{key:"shift+[Tab]",command:"moveToPreviousGroup"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"\\",ifMode:"math",command:["switchMode","latex","","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","","\\"]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:["complete","accept-all"]},{key:"[Enter]",ifMode:"latex",command:["complete","accept-all"]},{key:"shift+[Escape]",ifMode:"latex",command:["complete","reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"[Undo]",command:"undo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"cmd+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"ctrl+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"cmd+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"ctrl+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"cmd+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"ctrl+y",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathfieldStart"},{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathfieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","\\pi"]},{key:"alt+v",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"alt+o",ifMode:"math",command:["insert","\\emptyset"]},{key:"alt+d",ifMode:"math",command:["insert","\\differentialD"]},{key:"shift+alt+o",ifMode:"math",command:["insert","\\varnothing"]},{key:"shift+alt+d",ifMode:"math",command:["insert","\\partial"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","\\backslash"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},{key:"alt+[Space]",command:"toggleContextMenu"},{key:"alt+shift+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","",""]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","",""]},{key:"shift+alt+[KeyT]",ifMode:"math",command:["switchMode","text"]},{key:"shift+alt+[KeyT]",ifMode:"text",command:["switchMode","math"]},{key:"/",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+shift+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrack #0 \\right\\rbrack"]},{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrace #0 \\right\\rbrace"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Backspace]",ifMode:"math",command:"removeRow"},{key:"cmd+[Backspace]",ifMode:"math",command:"removeRow"},{key:"alt+[Tab]",ifMode:"math",command:"addColumnAfter"},{key:"shift+alt+[Tab]",ifMode:"math",command:"addColumnBefore"},{key:"alt+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Enter]",ifMode:"math",command:"addRowBefore"},{key:"alt+[Return]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Return]",ifMode:"math",command:"addRowBefore"},{key:"shift+[Backspace]",ifMode:"math",command:"removeColumn"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\~"]},{key:"[Backquote]",ifLayout:["windows.french","linux.french"],ifMode:"math",command:["insert","^2"]},{key:"[Backquote]",ifLayout:["windows.german","linux.german"],ifMode:"math",command:["insert","^"]},{key:"[IntlBackslash]",ifLayout:["apple.german"],ifMode:"math",command:["insert","^"]}],lle={"\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\infty":"alt+[Digit5]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};function Oa(t){var e;return((e=t.element)==null?void 0:e.mathfield)===t}function ule(t){var e,i;return(i=(e=t.querySelector(".ML__caret"))!=null?e:t.querySelector(".ML__text-caret"))!=null?i:t.querySelector(".ML__latex-caret")}function o1(t){let e=ule(t);if(!e)return null;let i=e.getBoundingClientRect();return{x:i.right,y:i.bottom,height:i.height}}function cle(t){var e;if(!t.parent)return"root";let i=(e=t.parent.id)!=null?e:"";return i+=typeof t.parentBranch=="string"?"-"+t.parentBranch:`-${t.parentBranch[0]}/${t.parentBranch[0]}`,i}function FB(t,e,i){if(!e)return null;let r=t.field.getBoundingClientRect(),n=e.right-e.left,s=e.bottom-e.top,a=Math.ceil(e.left-r.left+t.field.scrollLeft*i),o=Math.ceil(e.top-r.top);return{left:a,right:a+n,top:o,bottom:o+s}}function NB(t){let e=t.getBoundingClientRect(),i=parseInt(getComputedStyle(t).marginRight),r={top:e.top-1,bottom:e.bottom,left:e.left,right:e.right-1+i};if(t.children.length===0||t.tagName.toUpperCase()==="SVG")return r;for(let n of t.children)if(n.nodeType===1&&"atomId"in n.dataset&&!n.classList.contains("ML__pstrut")){let s=NB(n);r.left=Math.min(r.left,s.left),r.right=Math.max(r.right,s.right),r.top=Math.min(r.top,s.top),r.bottom=Math.max(r.bottom,s.bottom)}return r}function Z0(t,e){var i,r;if(!e.id)return null;let n=(r=(i=t.atomBoundsCache)==null?void 0:i.get(e.id))!=null?r:null;if(n!==null)return n;let s=t.field.querySelector(`[data-atom-id="${e.id}"]`);return n=s?NB(s):null,t.atomBoundsCache&&(n?t.atomBoundsCache.set(e.id,n):t.atomBoundsCache.delete(e.id)),n??null}function dle(t,e){let[i,r]=e,n=null;for(let s=i;s<=r;s++){let a=Z0(t,t.model.at(s));a&&(n?(n.top=Math.min(n.top,a.top),n.bottom=Math.max(n.bottom,a.bottom),n.left=Math.min(n.left,a.left),n.right=Math.max(n.right,a.right)):n=a)}return n??{top:0,bottom:0,left:0,right:0}}function hle(t,e,i){let r=new Map,n=t.field,s=n.offsetWidth,a=Math.floor(n.getBoundingClientRect().width)/s;a=isNaN(a)?1:a;for(let o of t.model.getAtoms(e,{includeChildren:!0})){if(i!=null&&i.excludeAtomsWithBackground&&o.style.backgroundColor)continue;let l=FB(t,Z0(t,o),a);if(l){let u=cle(o);if(r.has(u)){let c=r.get(u);r.set(u,{left:Math.min(c.left,l.left),right:Math.max(c.right,l.right),top:Math.min(c.top,l.top),bottom:Math.max(c.bottom,l.bottom)})}else r.set(u,l)}}return[...r.values()]}function $B(t,e){return t.model.selection.ranges.reduce((i,r)=>i.concat(...hle(t,r,e)),[])}function T6(t,e){return t==="*"||e==="none"?!0:e==="same-origin"?!window.origin||t===window.origin:typeof e=="function"?e(t):!1}function zB(t){let e=0,i=0,r=t.offsetWidth,n=t.offsetHeight;for(;t instanceof HTMLElement;)e+=t.offsetTop,i+=t.offsetLeft,t=t.offsetParent;return new DOMRect(i,e,r,n)}function UB(t,e){if(!t)return;let i=t.model.at(e);if(!i)return;let r={},n=Z0(t,i);n&&(r.bounds=new DOMRect(n.left,n.top,n.right-n.left,n.bottom-n.top)),r.depth=i.treeDepth-2,r.style=i.style;let s=i;for(;s;){if(s.command==="\\htmlData"&&s.args&&typeof s.args[0]=="string"){let a=s.args[0].split(",");for(let o of a){let l=o.match(/([^=]+)=(.+$)/);if(l){let u=l[1].trim().replace(/ /g,"-");u&&(r.data||(r.data={}),r.data[u]=l[2])}else{let u=o.trim().replace(/ /g,"-");u&&(r.data||(r.data={}),r.data[u]=void 0)}}}(s.command==="\\htmlId"||s.command==="\\cssId")&&!r.id&&s.args&&typeof s.args[0]=="string"&&(r.id=s.args[0]),s=s.parent}return(i.mode==="math"||i.mode==="text")&&(r.latex=ue.serialize([i],{defaultMode:"math"})),r}function ple(t,e){let i=t.model.at(e);for(;i;){if(i.command==="\\href"){let r=i.args[0];if(typeof r=="string")return r}i=i.parent}return""}var fle=`@keyframes ML__caret-blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}
.ML__container {
  display: inline-flex;
  flex-flow: row;
  justify-content: space-between;
  align-items: flex-end;
  min-height: 39px;
  /* Need some room for the virtual keyboard toggle */
  width: 100%;
  padding: 4px;
  box-sizing: border-box;
  /* This attribute is necessary to work around a Firefox issue where 
  where clicking multiple times on the border leads to a focused mathfield that cannot be edited until focus is lost and regained (also fixes the multiple cursor issue on firefox that can occur with the same sequence of events).
  */
  pointer-events: auto;
  /* Prevent the browser from trying to interpret touch gestures in the field */
  /* "Disabling double-tap to zoom removes the need for browsers to
        delay the generation of click events when the user taps the screen." */
  touch-action: none;
  --_caret-color: var(--caret-color, hsl(var(--_hue), 40%, 49%));
  --_selection-color: var(--selection-color, #000);
  --_selection-background-color: var(--selection-background-color, hsl(var(--_hue), 70%, 85%));
  --_text-highlight-background-color: var(--highlight-text, hsla(var(--_hue), 40%, 50%, 0.1));
  --_contains-highlight-background-color: var(--contains-highlight-background-color, hsl(var(--_hue), 40%, 95%));
  --_smart-fence-color: var(--smart-fence-color, currentColor);
  --_smart-fence-opacity: var(--smart-fence-opacity, 0.5);
  --_latex-color: var(--latex-color, hsl(var(--_hue), 80%, 40%));
  --_correct-color: var(--correct-color, #10a000);
  --_incorrect-color: var(--incorrect-color, #a01b00);
  --_composition-background-color: var(--composition-background-color, #fff1c2);
  --_composition-text-color: var(--composition-text-color, black);
  --_composition-underline-color: var(--composition-underline-color, transparent);
  --_tooltip-border: var(--tooltip-border, 1px solid transparent);
  --_tooltip-border-radius: var(--tooltip-border-radius, 8px);
  --_tooltip-background-color: var(--tooltip-background-color, #616161);
  --_tooltip-color: var(--tooltip-color, #fff);
  --_tooltip-box-shadow: var(--tooltip-box-shadow, 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2));
}
@media (forced-colors: active) {
  .ML__container {
    --_caret-color: white;
    --_selection-color: white;
    --_smart-fence-color: white;
    --_latex-color: white;
    --_correct-color: white;
    --_incorrect-color: white;
    --_composition-text-color: white;
  }
}
@media (hover: none) and (pointer: coarse) {
  :host(:not(:focus)) .ML__container {
    pointer-events: none;
  }
}
/* This is the actual field content (formula) */
.ML__content {
  display: flex;
  align-items: center;
  align-self: center;
  position: relative;
  overflow: hidden;
  padding: 2px 3px 2px 1px;
  width: 100%;
  /* Encourage the browser to use the GPU to render the field.
     Weirdly, this is required for prompts to be rendered correctly. 
   */
  isolation: isolate;
  text-shadow: var(--text-shadow);
}
.ML__content .ML__latex {
  text-shadow: var(--text-shadow);
}
.ML__content .ML__sqrt-line {
  box-shadow: var(--text-shadow);
}
.ML__content .ML__frac-line {
  box-shadow: var(--text-shadow);
}
.ML__virtual-keyboard-toggle,
.ML__menu-toggle {
  box-sizing: border-box;
  display: flex;
  align-self: center;
  align-items: center;
  flex-shrink: 0;
  flex-direction: column;
  justify-content: center;
  width: 34px;
  height: 34px;
  padding: 0;
  margin-right: 4px;
  cursor: pointer;
  /* Avoid some weird blinking with :hover */
  border-radius: 8px;
  border: 1px solid transparent;
  transition: background 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  color: hsl(var(--_hue), 40%, 50%);
  fill: currentColor;
  background: transparent;
}
.ML__virtual-keyboard-toggle:hover,
.ML__menu-toggle:hover {
  background: hsla(0, 0%, 70%, 0.3);
  color: #333;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle > span,
.ML__menu-toggle > span {
  display: flex;
  align-self: center;
  align-items: center;
}
@media (pointer: coarse) {
  .ML__virtual-keyboard-toggle,
  .ML__menu-toggle {
    min-width: 60px;
    min-height: 60px;
  }
}
/* The invisible element used to capture keyboard events. We're just trying
 really hard to make sure it doesn't show. */
.ML__keyboard-sink {
  display: inline-block;
  resize: none;
  outline: none;
  border: none;
  /* Need these for Microsoft Edge */
  position: fixed;
  clip: rect(0 0 0 0);
  /* Need this to prevent iOS Safari from auto-zooming */
  font-size: 1em;
  font-family: KaTeX_Main;
  line-height: 0.5;
  /* On Chromium, if this is 0, no keyboard events are received */
  /* Preferred over clip */
  clip-path: inset(50%);
}
[part='placeholder'] {
  color: var(--neutral-400);
}
.ML__composition {
  background: var(--_composition-background-color);
  color: var(--_composition-text-color);
  text-decoration: underline var(--_composition-underline-color);
}
.ML__caret {
  display: inline-block;
}
.ML__caret::after {
  content: '';
  visibility: hidden;
  width: 0;
  display: inline-block;
  height: 0.76em;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_caret-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.045em;
  bottom: -0.05em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__text-caret::after {
  content: '';
  visibility: hidden;
  width: 0;
  display: inline-block;
  height: 0.76em;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_caret-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.045em;
  bottom: -0.05em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__latex-caret::after {
  content: '';
  visibility: hidden;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_latex-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.019em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__focused .ML__latex-caret::after,
.ML__focused .ML__text-caret::after,
.ML__focused .ML__caret::after {
  visibility: visible;
}
.ML__focused .ML__text {
  background: var(--_text-highlight-background-color);
}
/* When using smartFence, the anticipated closing fence is displayed
with this style */
.ML__smart-fence__close {
  opacity: var(--_smart-fence-opacity);
  color: var(--_smart-fence-color);
}
.ML__focused .ML__selected,
.ML__focused .ML__selected .ML__contains-caret,
.ML__focused .ML__selected .ML__smart-fence__close,
.ML__focused .ML__selected .ML__placeholder {
  color: var(--_selection-color);
  opacity: 1;
}
.ML__selection {
  box-sizing: border-box;
  background: transparent;
}
:host(:focus) .ML__selection {
  background: var(--_selection-background-color) !important;
}
.ML__contains-caret.ML__close,
.ML__contains-caret.ML__open,
.ML__contains-caret > .ML__close,
.ML__contains-caret > .ML__open,
.ML__contains-caret .ML__sqrt-sign,
.ML__contains-caret .ML__sqrt-line {
  color: var(--_caret-color);
}
.ML__contains-highlight {
  box-sizing: border-box;
  background: transparent;
}
.ML__focused .ML__contains-highlight {
  background: var(--_contains-highlight-background-color);
}
.ML__raw-latex {
  font-family: 'Berkeley Mono', 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  font-weight: 400;
  font-size: 0.8em;
  letter-spacing: -0.05em;
  color: var(--_latex-color);
}
.ML__suggestion {
  color: var(--neutral-500);
}
.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle.is-pressed,
.ML__virtual-keyboard-toggle.is-active:hover,
.ML__virtual-keyboard-toggle.is-active {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
/* Add an attribute 'data-tooltip' to automatically show a
   tooltip over a element on hover.
*/
[data-tooltip] {
  position: relative;
}
[data-tooltip]::after {
  content: attr(data-tooltip);
  position: absolute;
  display: block;
  z-index: 2;
  pointer-events: none;
  right: auto;
  top: calc(-100% - 4px);
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  border-radius: 4px;
  background: #616161;
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  text-align: center;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-style: normal;
  font-weight: 400;
  font-size: 13px;
  /* Phone */
  opacity: 0;
  transform: scale(0.5);
}
@media only screen and (max-width: 767px) {
  [data-tooltip]::after {
    padding: 8px 16px;
    font-size: 16px;
  }
}
menu [data-tooltip]::after {
  left: 100%;
  top: 0%;
}
menu .ML__base {
  cursor: default;
}
/** Don't display if we're tracking, i.e. have the pointer down */
.tracking [data-tooltip]:hover::after {
  /* Use visibility, not display. Display will remove the after from the DOM, and the override below will not work */
  visibility: hidden;
}
/** But do display if tracking and inside a menu */
.tracking menu li[data-tooltip]:hover::after,
[data-tooltip]:hover::after {
  visibility: visible;
  opacity: 1;
  transform: scale(1);
  transition-property: opacity, scale;
  transition-duration: 0.15s;
  transition-delay: 1s;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__prompt {
  border-radius: 2px;
}
.ML__editablePromptBox {
  outline: 1px solid #acacac;
  border-radius: 2px;
  z-index: -1;
}
.ML__focused .ML__focusedPromptBox {
  outline: highlight auto 1px;
}
.ML__lockedPromptBox {
  background-color: rgba(142, 142, 141, 0.4);
  z-index: -1;
}
.ML__correctPromptBox {
  outline: 1px solid var(--_correct-color);
  box-shadow: 0 0 5px var(--_correct-color);
}
.ML__incorrectPromptBox {
  outline: 1px solid var(--_incorrect-color);
  box-shadow: 0 0 5px var(--_incorrect-color);
}
.variant-submenu {
  display: flex;
  flex-direction: column;
  padding: 8px;
}
.variant-submenu [part='menu-item'].ML__xl {
  font-size: 2rem;
  text-align: center;
  margin: 0;
}
.ML__center-menu .label {
  text-align: center;
}
.insert-matrix-submenu {
  /* Grid doesn't work on Safari */
  --_menu-item-size: 25px;
  width: calc(5 * var(--_menu-item-size));
  display: flex;
  flex-wrap: wrap;
  padding: 8px;
  align-content: center;
  justify-content: center;
}
.insert-matrix-submenu [part='menu-item'] {
  width: var(--_menu-item-size);
  height: var(--_menu-item-size);
  font-size: 21px;
  border: none;
  border-radius: 0;
  line-height: 21px;
  text-align: center;
  padding: 0;
  margin: 0;
}
.border-submenu [part='menu-item'] {
  font-size: 2rem;
  line-height: 1.2;
  text-align: center;
}
.swatches-submenu {
  --_swatch-size: 2rem;
  --_columns: 4;
  display: flex;
  flex-flow: wrap;
  padding: 8px;
  max-width: calc(var(--_columns) * (var(--_swatch-size) + 18px) + 16px);
  box-sizing: border-box;
}
.menu-swatch {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: fit-content;
  height: fit-content;
  margin: 2px;
  padding: 0;
  background: var(--neutral-200);
}
.menu-swatch > .label {
  padding: 0;
  margin: 0;
  line-height: 0;
}
.menu-swatch > .label > span {
  display: inline-block;
  margin: 6px;
  min-width: var(--_swatch-size);
  min-height: var(--_swatch-size);
  border-radius: 50%;
}
.menu-swatch.active {
  background: var(--neutral-100);
  scale: 1.4;
}
.menu-swatch.active > .label > span {
  border-radius: 2px;
}
.menu-swatch .ui-checkmark,
.menu-swatch .ui-mixedmark {
  position: absolute;
  margin: 0;
  padding: 0;
  color: white;
}
.menu-swatch.dark-contrast .ui-checkmark,
.menu-swatch.dark-contrast .ui-mixedmark {
  color: #000;
}
.ML__insert-template {
  font-size: 1em;
}
.ML__insert-label {
  opacity: 0.5;
  margin-left: 2ex;
}
`,mle=`.ML__container {
  min-height: auto !important;
  --_hue: var(--hue, 212);
  --_placeholder-color: var(--placeholder-color, hsl(var(--_hue), 40%, 49%));
  --_placeholder-opacity: var(--placeholder-opacity, 0.4);
  --_text-font-family: var(--text-font-family, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif);
}
.ML__sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  clip-path: inset(50%);
  white-space: nowrap;
  border: 0;
}
.ML__is-inline {
  display: inline-block;
}
.ML__base {
  visibility: inherit;
  display: inline-block;
  position: relative;
  cursor: text;
  padding: 0;
  margin: 0;
  box-sizing: content-box;
  border: 0;
  outline: 0;
  vertical-align: baseline;
  font-weight: inherit;
  font-family: inherit;
  font-style: inherit;
  text-decoration: none;
  width: min-content;
}
.ML__strut,
.ML__strut--bottom {
  display: inline-block;
  min-height: 0.5em;
}
.ML__small-delim {
  font-family: KaTeX_Main;
}
/* Text mode */
.ML__text {
  font-family: var(--_text-font-family);
  white-space: pre;
}
/* Use cmr for 'math upright' */
.ML__cmr {
  font-family: KaTeX_Main;
  font-style: normal;
}
.ML__mathit {
  font-family: KaTeX_Math;
  /* The KaTeX_Math font is italic by default, so the font-style below is only 
     useful when a fallback font is used
  */
  font-style: italic;
}
.ML__mathbf {
  font-family: KaTeX_Main;
  font-weight: bold;
}
/* Lowercase greek symbols should stick to math font when \\mathbf is applied 
   to match TeX idiosyncratic behavior */
.lcGreek.ML__mathbf {
  font-family: KaTeX_Math;
}
.ML__mathbfit {
  font-family: KaTeX_Math;
  font-weight: bold;
  font-style: italic;
}
.ML__ams {
  font-family: KaTeX_AMS;
}
/* Blackboard */
.ML__bb {
  font-family: KaTeX_AMS;
}
.ML__cal {
  font-family: KaTeX_Caligraphic;
}
.ML__frak {
  font-family: KaTeX_Fraktur;
}
.ML__tt {
  font-family: KaTeX_Typewriter;
}
.ML__script {
  font-family: KaTeX_Script;
}
.ML__sans {
  font-family: KaTeX_SansSerif;
}
.ML__series_ul {
  font-weight: 100;
}
.ML__series_el {
  font-weight: 100;
}
.ML__series_l {
  font-weight: 200;
}
.ML__series_sl {
  font-weight: 300;
}
.ML__series_sb {
  font-weight: 500;
}
.ML__bold {
  font-weight: 700;
}
.ML__series_eb {
  font-weight: 800;
}
.ML__series_ub {
  font-weight: 900;
}
.ML__series_uc {
  font-stretch: ultra-condensed;
}
.ML__series_ec {
  font-stretch: extra-condensed;
}
.ML__series_c {
  font-stretch: condensed;
}
.ML__series_sc {
  font-stretch: semi-condensed;
}
.ML__series_sx {
  font-stretch: semi-expanded;
}
.ML__series_x {
  font-stretch: expanded;
}
.ML__series_ex {
  font-stretch: extra-expanded;
}
.ML__series_ux {
  font-stretch: ultra-expanded;
}
.ML__it {
  font-style: italic;
}
.ML__shape_ol {
  -webkit-text-stroke: 1px black;
  text-stroke: 1px black;
  color: transparent;
}
.ML__shape_sc {
  font-variant: small-caps;
}
.ML__shape_sl {
  font-style: oblique;
}
/* First level emphasis */
.ML__emph {
  color: #bc2612;
}
/* Second level emphasis */
.ML__emph .ML__emph {
  color: #0c7f99;
}
.ML__highlight {
  color: #007cb2;
  background: #edd1b0;
}
.ML__center {
  text-align: center;
}
.ML__left {
  text-align: left;
}
.ML__right {
  text-align: right;
}
.ML__label_padding {
  padding: 0 0.5em;
}
.ML__frac-line {
  width: 100%;
  min-height: 1px;
}
.ML__frac-line:after {
  content: '';
  display: block;
  margin-top: max(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  /* There's a bug since Chrome 62 where 
      sub-pixel border lines don't draw at some zoom 
      levels (110%, 90%). 
      Setting the min-height used to work around it, but that workaround
      broke in Chrome 84 or so.
      Setting the background (and the min-height) seems to work for now.
      */
  background: currentColor;
  box-sizing: content-box;
  /* Vuetify sets the box-sizing to inherit 
            causes the fraction line to not draw at all sizes (see #26) */
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
  forced-color-adjust: preserve-parent-color;
}
@media (forced-colors: active) {
  .ML__frac-line {
    min-height: 0px;
  }
}
.ML__sqrt {
  display: inline-block;
}
.ML__sqrt-sign {
  display: inline-block;
  position: relative;
}
.ML__sqrt-line {
  display: inline-block;
  height: max(1px, 0.04em);
  width: 100%;
}
.ML__sqrt-line:before {
  content: '';
  display: block;
  margin-top: min(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  background: currentColor;
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
  forced-color-adjust: preserve-parent-color;
}
@media (forced-colors: active) {
  .ML__sqrt-line:after {
    background: white !important;
  }
}
.ML__sqrt-line:after {
  border-bottom-width: 1px;
  content: ' ';
  display: block;
  margin-top: -0.1em;
}
.ML__sqrt-index {
  margin-left: 0.27777778em;
  margin-right: -0.55555556em;
}
.ML__delim-size1 {
  font-family: KaTeX_Size1;
}
.ML__delim-size2 {
  font-family: KaTeX_Size2;
}
.ML__delim-size3 {
  font-family: KaTeX_Size3;
}
.ML__delim-size4 {
  font-family: KaTeX_Size4;
}
.ML__delim-mult .delim-size1 > span {
  font-family: KaTeX_Size1;
}
.ML__delim-mult .delim-size4 > span {
  font-family: KaTeX_Size4;
}
.ML__accent-body {
  font-family: KaTeX_Main;
}
.ML__accent-combining-char {
  position: relative;
  left: 0.24em;
}
/** The markup for a LaTeX formula, either in an editable mathfield or 
    in a static display.
*/
.ML__latex {
  display: inline-block;
  direction: ltr;
  text-align: left;
  text-indent: 0;
  text-rendering: auto;
  font-family: inherit;
  font-style: normal;
  font-size-adjust: none;
  font-stretch: normal;
  font-variant-caps: normal;
  letter-spacing: normal;
  line-height: 1.2;
  word-wrap: normal;
  word-spacing: normal;
  white-space: nowrap;
  text-shadow: none;
  -webkit-user-select: none;
  user-select: none;
  width: min-content;
  forced-color-adjust: preserve-parent-color;
}
.ML__latex .style-wrap {
  position: relative;
}
.ML__latex .ML__mfrac {
  display: inline-block;
}
.ML__latex .ML__left-right {
  display: inline-block;
}
.ML__latex .ML__vlist-t {
  display: inline-table;
  table-layout: fixed;
  border-collapse: collapse;
}
.ML__latex .ML__vlist-r {
  display: table-row;
}
.ML__latex .ML__vlist {
  display: table-cell;
  vertical-align: bottom;
  position: relative;
}
.ML__latex .ML__vlist > span {
  display: block;
  height: 0;
  position: relative;
}
.ML__latex .ML__vlist > span > span {
  display: inline-block;
}
.ML__latex .ML__vlist > span > .ML__pstrut {
  overflow: hidden;
  width: 0;
}
.ML__latex .ML__vlist-t2 {
  margin-right: -2px;
}
.ML__latex .ML__vlist-s {
  display: table-cell;
  vertical-align: bottom;
  font-size: 1px;
  width: 2px;
  min-width: 2px;
}
.ML__latex .ML__msubsup {
  text-align: left;
}
.ML__latex .ML__negativethinspace {
  display: inline-block;
  margin-left: -0.16667em;
  height: 0.71em;
}
.ML__latex .ML__thinspace {
  display: inline-block;
  width: 0.16667em;
  height: 0.71em;
}
.ML__latex .ML__mediumspace {
  display: inline-block;
  width: 0.22222em;
  height: 0.71em;
}
.ML__latex .ML__thickspace {
  display: inline-block;
  width: 0.27778em;
  height: 0.71em;
}
.ML__latex .ML__enspace {
  display: inline-block;
  width: 0.5em;
  height: 0.71em;
}
.ML__latex .ML__quad {
  display: inline-block;
  width: 1em;
  height: 0.71em;
}
.ML__latex .ML__qquad {
  display: inline-block;
  width: 2em;
  height: 0.71em;
}
.ML__latex .ML__llap,
.ML__latex .ML__rlap {
  width: 0;
  position: relative;
  display: inline-block;
}
.ML__latex .ML__llap > .ML__inner,
.ML__latex .ML__rlap > .ML__inner {
  position: absolute;
}
.ML__latex .ML__llap > .ML__fix,
.ML__latex .ML__rlap > .ML__fix {
  display: inline-block;
}
.ML__latex .ML__llap > .ML__inner {
  right: 0;
}
.ML__latex .ML__rlap > .ML__inner {
  left: 0;
}
.ML__latex .ML__rule {
  display: inline-block;
  border: solid 0;
  position: relative;
  box-sizing: border-box;
}
.ML__latex .overline .overline-line,
.ML__latex .underline .underline-line {
  width: 100%;
}
.ML__latex .overline .overline-line:before,
.ML__latex .underline .underline-line:before {
  content: '';
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  display: block;
}
.ML__latex .overline .overline-line:after,
.ML__latex .underline .underline-line:after {
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  content: '';
  display: block;
  margin-top: -1px;
}
.ML__latex .ML__stretchy {
  display: block;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__latex .ML__stretchy:before,
.ML__latex .ML__stretchy:after {
  content: '';
}
.ML__latex .ML__stretchy svg {
  display: block;
  position: absolute;
  width: 100%;
  height: inherit;
  fill: currentColor;
  stroke: currentColor;
  fill-rule: nonzero;
  fill-opacity: 1;
  stroke-width: 1;
  stroke-linecap: butt;
  stroke-linejoin: miter;
  stroke-miterlimit: 4;
  stroke-dasharray: none;
  stroke-dashoffset: 0;
  stroke-opacity: 1;
}
.ML__latex .slice-1-of-2 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__latex .slice-2-of-2 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__latex .slice-1-of-3 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__latex .slice-2-of-3 {
  display: inline-flex;
  position: absolute;
  left: 25%;
  width: 50%;
  overflow: hidden;
}
.ML__latex .slice-3-of-3 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__latex .slice-1-of-1 {
  display: inline-flex;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__latex .ML__nulldelimiter {
  display: inline-block;
}
.ML__latex .ML__op-group {
  display: inline-block;
}
.ML__latex .ML__op-symbol {
  position: relative;
}
.ML__latex .ML__op-symbol.ML__small-op {
  font-family: KaTeX_Size1;
}
.ML__latex .ML__op-symbol.ML__large-op {
  font-family: KaTeX_Size2;
}
.ML__latex:has(.ML__center_environment),
.ML__latex:has(.ML__multiline_environment),
.ML__latex:has(.ML__align_environment),
.ML__latex:has(.ML__eqnarray_environment),
.ML__latex:has(.ML__gather_environment) {
  width: 100%;
}
.ML__latex .ML__multiline_environment {
  display: inline-flex;
  width: 100%;
}
.ML__latex .ML__center_environment {
  display: inline-flex;
  width: 100%;
  justify-content: center;
}
.ML__latex .ML__align_environment,
.ML__latex .ML__eqnarray_environment,
.ML__latex .ML__gather_environment {
  display: inline-block;
}
.ML__latex .ML__mtable .ML__vertical-separator {
  display: inline-block;
  min-width: 1px;
  box-sizing: border-box;
}
.ML__latex .ML__mtable .ML__arraycolsep {
  display: inline-block;
}
.ML__latex .ML__mtable .col-align-m > .ML__vlist-t {
  text-align: center;
}
.ML__latex .ML__mtable .col-align-c > .ML__vlist-t {
  text-align: center;
}
.ML__latex .ML__mtable .col-align-l > .ML__vlist-t {
  text-align: left;
}
.ML__latex .ML__mtable .col-align-r > .ML__vlist-t {
  text-align: right;
}
[data-href] {
  cursor: pointer;
}
.ML__error {
  display: inline-block;
  background-image: radial-gradient(ellipse at center, hsl(341, 100%, 40%), rgba(0, 0, 0, 0) 70%);
  background-color: hsla(341, 100%, 40%, 0.1);
  background-repeat: repeat-x;
  background-size: 3px 3px;
  padding-bottom: 3px;
  background-position: 0 100%;
}
.ML__error > .ML__error {
  background: transparent;
  padding: 0;
}
.ML__placeholder {
  color: var(--_placeholder-color);
  opacity: var(--_placeholder-opacity);
  padding-left: 0.4ex;
  padding-right: 0.4ex;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
}
.ML__notation {
  position: absolute;
  box-sizing: border-box;
  line-height: 0;
}
/* This class is used to implement the \`\\mathtip\` and \`\\texttip\` commands
   For UI elements, see \`[data-ML__tooltip]\`
*/
.ML__tooltip-container {
  position: relative;
  transform: scale(0);
}
.ML__tooltip-container .ML__tooltip-content {
  position: fixed;
  display: inline-table;
  visibility: hidden;
  z-index: 2;
  width: max-content;
  max-width: 400px;
  padding: 12px 12px;
  border: var(--tooltip-border);
  border-radius: var(--tooltip-border-radius);
  background: var(--tooltip-background-color);
  --_selection-color: var(--tooltip-color);
  color: var(--tooltip-color);
  box-shadow: var(--tooltip-box-shadow);
  opacity: 0;
  transition: opacity 0.15s cubic-bezier(0.4, 0, 1, 1);
}
.ML__tooltip-container .ML__tooltip-content .ML__text {
  white-space: normal;
}
.ML__tooltip-container .ML__tooltip-content .ML__base {
  display: contents;
}
.ML__tooltip-container:hover .ML__tooltip-content {
  visibility: visible;
  opacity: 1;
  font-size: 0.75em;
  transform: scale(1) translate(0, 3em);
}
`,gle=`#mathlive-environment-popover.is-visible {
  visibility: visible;
}
#mathlive-environment-popover {
  --_environment-panel-height: var(--environment-panel-height, 70px);
  --_accent-color: var(--accent-color, #aaa);
  --_background: var(--environment-panel-background, #fff);
  --_button-background: var(--environment-panel-button-background, white);
  --_button-background-hover: var(--environment-panel-button-background-hover, #f5f5f7);
  --_button-background-active: var(--environment-panel-button-background-active, #f5f5f7);
  --_button-text: var(--environment-panel-button-text, #e3e4e8);
  position: absolute;
  width: calc(var(--_environment-panel-height) * 2);
  height: var(--_environment-panel-height);
  border-radius: 4px;
  border: 1.5px solid var(--_accent-color);
  background-color: var(--_background);
  box-shadow: 0 0 30px 0 var(--environment-shadow, rgba(0, 0, 0, 0.4));
  pointer-events: all;
  visibility: hidden;
}
#mathlive-environment-popover .MLEP__array-buttons {
  height: calc(var(--_environment-panel-height) * 5/4);
  width: calc(var(--_environment-panel-height) * 5/4);
  margin-left: calc(0px - var(--_environment-panel-height) * 0.16);
  margin-top: calc(0px - var(--_environment-panel-height) * 0.19);
}
#mathlive-environment-popover .MLEP__array-buttons .font {
  fill: white;
}
#mathlive-environment-popover .MLEP__array-buttons circle {
  fill: #7f7f7f;
  transition: fill 300ms;
}
#mathlive-environment-popover .MLEP__array-buttons .MLEP__array-insert-background {
  fill-opacity: 1;
  fill: var(--_background);
  stroke: var(--_accent-color);
  stroke-width: 3px;
}
#mathlive-environment-popover .MLEP__array-buttons line {
  stroke: var(--_accent-color);
  stroke-opacity: 0;
  stroke-width: 40;
  pointer-events: none;
  transition: stroke-opacity 300ms;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover circle {
  fill: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover line {
  stroke-opacity: 1;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls {
  height: 100%;
  width: 50%;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options {
  width: var(--_environment-panel-height);
  height: var(--_environment-panel-height);
  display: flex;
  flex-wrap: wrap;
  flex-direction: row;
  justify-content: space-around;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg {
  pointer-events: all;
  margin-top: 2px;
  width: calc(var(--_environment-panel-height) / 3 * 28 / 24);
  height: calc(var(--_environment-panel-height) / 3 - 2px);
  border-radius: calc(var(--_environment-panel-height) / 25);
  background-color: var(--_button-background);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg:hover {
  background-color: var(--_button-background-hover);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg line {
  stroke: var(--_button-text);
  stroke-width: 2;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg rect,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path {
  fill-opacity: 0;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active {
  pointer-events: none;
  background-color: var(--_button-background-active);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active line {
  stroke: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active circle {
  fill: var(--_accent-color);
}
`,yle=`/* The element that display info while in latex mode */
#mathlive-suggestion-popover {
  --_suggestion-zindex: var(--suggestion-zindex, 100);
  background-color: rgba(97, 97, 97);
  color: #fff;
  text-align: center;
  border-radius: 8px;
  position: fixed;
  z-index: var(--_suggestion-zindex);
  display: none;
  flex-direction: column;
  justify-content: center;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
}
#mathlive-suggestion-popover.top-tip::after {
  content: '';
  position: absolute;
  top: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-bottom: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.bottom-tip::after {
  content: '';
  position: absolute;
  bottom: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-top: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.is-animated {
  transition: all 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  animation: ML__fade-in cubic-bezier(0, 0, 0.2, 1) 0.15s;
}
#mathlive-suggestion-popover.is-visible {
  display: flex;
}
@keyframes ML__fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
/* The wrapper class for the entire content of the popover panel */
#mathlive-suggestion-popover ul {
  display: flex;
  flex-flow: column;
  list-style: none;
  margin: 0;
  padding: 0;
  align-items: flex-start;
  max-height: 400px;
  overflow-y: auto;
}
#mathlive-suggestion-popover li {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  margin: 8px;
  padding: 8px;
  width: calc(100% - 16px - 16px);
  column-gap: 1em;
  border-radius: 8px;
  cursor: pointer;
  /* Since the content can be clicked on, provide feedback on hover */
}
#mathlive-suggestion-popover li a {
  color: #5ea6fd;
  padding-top: 0.3em;
  margin-top: 0.4em;
  display: block;
}
#mathlive-suggestion-popover li a:hover {
  color: #5ea6fd;
  text-decoration: underline;
}
#mathlive-suggestion-popover li:hover,
#mathlive-suggestion-popover li.is-pressed,
#mathlive-suggestion-popover li.is-active {
  background: rgba(255, 255, 255, 0.1);
}
/* The command inside a popover (inside a #mathlive-suggestion-popover) */
.ML__popover__command {
  font-size: 1.6rem;
  font-family: KaTeX_Main;
}
.ML__popover__current {
  background: #5ea6fd;
  color: #fff;
}
.ML__popover__latex {
  font-family: 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  align-self: center;
}
/* The keyboard shortcuts for a symbol as displayed in the popover */
.ML__popover__keybinding {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 0.8em;
  opacity: 0.7;
}
/* Style for the character that joins the modifiers of a keyboard shortcut 
(usually a "+" sign)*/
.ML__shortcut-join {
  opacity: 0.5;
}
`,vle=`/* The element that displays the keys as the user type them */
#mathlive-keystroke-caption-panel {
  visibility: hidden;
  /*min-width: 160px;*/
  /*background-color: rgba(97, 97, 200, .95);*/
  background: var(--secondary, hsl(var(--_hue), 19%, 26%));
  border-color: var(--secondary-border, hsl(0, 0%, 91%));
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
  text-align: center;
  border-radius: 6px;
  padding: 16px;
  position: absolute;
  z-index: 1;
  display: flex;
  flex-direction: row-reverse;
  justify-content: center;
  --keystroke: white;
  --on-keystroke: #555;
  --keystroke-border: #f7f7f7;
}
@media (prefers-color-scheme: dark) {
  body:not([theme='light']) #mathlive-keystroke-caption-panel {
    --keystroke: hsl(var(--_hue), 50%, 30%);
    --on-keystroke: hsl(0, 0%, 98%);
    --keystroke-border: hsl(var(--_hue), 50%, 25%);
  }
}
body[theme='dark'] #mathlive-keystroke-caption-panel {
  --keystroke: hsl(var(--_hue), 50%, 30%);
  --on-keystroke: hsl(0, 0%, 98%);
  --keystroke-border: hsl(var(--_hue), 50%, 25%);
}
#mathlive-keystroke-caption-panel > span {
  min-width: 14px;
  /*height: 8px;*/
  margin: 0 8px 0 0;
  padding: 4px;
  background-color: var(--keystroke);
  color: var(--on-keystroke);
  fill: currentColor;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 1em;
  border-radius: 6px;
  border: 2px solid var(--keystroke-border);
  /*box-shadow: 0 7px 14px rgba(0,0,0,0.25), 0 5px 5px rgba(0,0,0,0.22);*/
}
`,ble=`.ML__keyboard {
  --_keyboard-height: 0;
  --_keyboard-zindex: var(--keyboard-zindex, 105);
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_padding-horizontal: var(--keyboard-padding-horizontal, 0px);
  --_padding-top: var(--keyboard-padding-top, 5px);
  --_padding-bottom: var(--keyboard-padding-bottom, 0px);
  --_row-padding-left: var(--keyboard-row-padding-left, 0px);
  --_row-padding-right: var(--keyboard-row-padding-right, 0px);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-text-active: var(--keyboard-toolbar-text-active, var(--_accent-color));
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_toolbar-font-size: var(--keyboard-toolbar-font-size, '135%');
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, #f0f0f0);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-primary-background: var(--keycap-primary-background, var(--_accent-color));
  --_keycap-primary-text: var(--keycap-primary-text, #ddd);
  --_keycap-primary-background-hover: var(--keycap-primary-background-hover, #0d80f2);
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_keycap-height: var(--keycap-height, 60px);
  /* Keycap width (incl. margin) */
  --_keycap-max-width: var(--keycap-max-width, 100px);
  --_keycap-gap: var(--keycap-gap, 8px);
  --_keycap-font-size: var(--keycap-font-size, clamp(16px, 4cqw, 24px));
  --_keycap-small-font-size: var(--keycap-small-font-size, calc(var(--keycap-font-size) * 0.8));
  --_keycap-extra-small-font-size: var(--keycap-extra-small-font-size, calc(var(--keycap-font-size) / 1.42));
  --_variant-panel-background: var(--variant-panel-background, #f0f0f0);
  --_variant-keycap-text: var(--variant-keycap-text, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
  --_variant-keycap-length: var(--variant-keycap-length, 70px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 30px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 12px);
  --_keycap-shift-font-size: var(--keycap-shift-font-size, 16px);
  --_keycap-shift-color: var(--keycap-shift-color, var(--_accent-color));
  --_box-placeholder-color: var(--box-placeholder-color, var(--_accent-color));
  --_box-placeholder-pressed-color: var(--box-placeholder-pressed-color, var(--keycap-text-pressed));
  --_keycap-glyph-size: var(--keycap-glyph-size, 20px);
  --_keycap-glyph-size-lg: var(--keycap-glyph-size-lg, 24px);
  --_keycap-glyph-size-xl: var(--keycap-glyph-size-xl, 50px);
}
.is-math-mode .MLK__rows .if-text-mode,
.is-text-mode .MLK__rows .if-math-mode {
  display: none;
}
.if-can-undo,
.if-can-redo,
.if-can-copy,
.if-can-cut,
.if-can-paste {
  opacity: 0.4;
  pointer-events: none;
}
.can-undo .if-can-undo,
.can-redo .if-can-redo,
.can-copy .if-can-copy,
.can-cut .if-can-cut,
.can-paste .if-can-paste {
  opacity: 1;
  pointer-events: all;
}
body > .ML__keyboard {
  position: fixed;
  --_padding-bottom: calc(var(--keyboard-padding-bottom, 0px) + env(safe-area-inset-bottom, 0));
}
body > .ML__keyboard.is-visible > .MLK__backdrop {
  box-shadow: 0 -5px 6px rgba(0, 0, 0, 0.08);
  border-top: 1px solid var(--_border);
}
body > .ML__keyboard.backdrop-is-transparent.is-visible > .MLK__backdrop {
  box-shadow: none;
  border: none;
}
body > .ML__keyboard.is-visible.animate > .MLK__backdrop {
  transition: 0.28s cubic-bezier(0, 0, 0.2, 1);
  transition-property: transform, opacity;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__keyboard {
  position: relative;
  overflow: hidden;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  z-index: var(--_keyboard-zindex);
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  opacity: 1;
  transform: none;
  pointer-events: none;
}
.ML__keyboard :where(div) {
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  transform: none;
}
.MLK__backdrop {
  position: absolute;
  bottom: calc(-1 * var(--_keyboard-height));
  width: 100%;
  height: var(--_keyboard-height);
  box-sizing: border-box;
  padding-top: var(--_padding-top);
  padding-bottom: var(--_padding-bottom);
  padding-left: var(--_padding-horizontal);
  padding-right: var(--_padding-horizontal);
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0);
  background: var(--_background);
}
.backdrop-is-transparent .MLK__backdrop {
  background: transparent;
}
/* If a custom layout has a custom container/backdrop
  (backdrop-is-transparent), make sure to let pointer event go through. */
.backdrop-is-transparent .MLK__plate {
  background: transparent;
  pointer-events: none;
}
/* If a custom layout has a custom container/backdrop, make sure to 
   allow pointer events on it. */
.backdrop-is-transparent .MLK__layer > div > div {
  pointer-events: all;
}
.ML__keyboard.is-visible > .MLK__backdrop {
  transform: translate(0, calc(-1 * var(--_keyboard-height)));
  opacity: 1;
  visibility: visible;
}
.caps-lock-indicator {
  display: none;
  width: 8px;
  height: 8px;
  background: #0cbc0c;
  box-shadow: inset 0 0 4px 0 #13ca13, 0 0 4px 0 #a9ef48;
  border-radius: 8px;
  right: 8px;
  top: 8px;
  position: absolute;
}
.ML__keyboard.is-caps-lock .caps-lock-indicator {
  display: block;
}
.ML__keyboard.is-caps-lock .shift {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
}
.MLK__plate {
  position: absolute;
  top: var(--_padding-top);
  left: var(--_padding-horizontal);
  width: calc(100% - 2 * var(--_padding-horizontal));
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  container-type: inline-size;
  touch-action: none;
  -webkit-user-select: none;
  user-select: none;
  pointer-events: all;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 16px;
  /* Size of toolbar labels */
  font-weight: 400;
  text-shadow: none;
}
.ML__box-placeholder {
  color: var(--_box-placeholder-color);
}
.MLK__tex {
  font-family: KaTeX_Main, KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__tex-math {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
  font-style: italic;
}
.MLK__layer {
  display: none;
  outline: none;
}
.MLK__layer.is-visible {
  display: flex;
  flex-flow: column;
}
/* Keyboard layouts are made or rows of keys... */
.MLK__rows {
  --_keycap-width: var(--keycap-width, min(var(--_keycap-max-width), 10cqw));
  display: flex;
  flex-flow: column;
  align-items: center;
  border-collapse: separate;
  clear: both;
  border: 0;
  margin: 0;
  margin-bottom: var(--_keycap-gap);
  gap: var(--_keycap-gap);
  /* If the styling include, e.g., some shadows, they will be
  cut off by the overflow. In that case, set the padding to 
  compensate. */
  padding-left: var(--_row-padding-left);
  padding-right: var(--_row-padding-right);
  overflow: visible;
  touch-action: none;
}
.MLK__rows > .MLK__row {
  display: flex;
  flex-flow: row;
  justify-content: center;
  width: 100%;
  gap: var(--_keycap-gap);
  margin: 0;
  padding: 0;
  /* For the alignment of the text on some modifiers (e.g. shift) */
  /* Extra spacing between two adjacent keys */
}
.MLK__rows > .MLK__row .tex {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .MLK__row .tex-math {
  font-family: KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .MLK__row .big-op {
  font-size: calc(1.25 * var(--_keycap-font-size));
}
.MLK__rows > .MLK__row .small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__rows > .MLK__row .bottom {
  justify-content: flex-end;
}
.MLK__rows > .MLK__row .left {
  align-items: flex-start;
  padding-left: 12px;
}
.MLK__rows > .MLK__row .right {
  align-items: flex-end;
  padding-right: 12px;
}
.MLK__rows > .MLK__row .w0 {
  width: 0;
}
.MLK__rows > .MLK__row .w5 {
  width: calc(0.5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w15 {
  width: calc(1.5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w20 {
  width: calc(2 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w40 {
  width: calc(4 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w50 {
  width: calc(5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .MLK__keycap.w50 {
  font-size: 80%;
  padding-top: 10px;
  font-weight: 100;
}
.MLK__rows > .MLK__row .separator {
  background: transparent;
  border: none;
  pointer-events: none;
}
.MLK__rows > .MLK__row .horizontal-rule {
  height: 6px;
  margin-top: 3px;
  margin-bottom: 0;
  width: 100%;
  border-radius: 0;
  border-top: var(--_horizontal-rule);
}
.MLK__rows > .MLK__row .ghost {
  background: var(--_toolbar-background);
  border: none;
  color: var(--_toolbar-text);
}
.MLK__rows > .MLK__row .ghost:hover {
  background: var(--_toolbar-background-hover);
}
.MLK__rows > .MLK__row .bigfnbutton {
  font-size: var(--_keycap-extra-small-font-size);
}
.MLK__rows > .MLK__row .shift,
.MLK__rows > .MLK__row .action {
  color: var(--_keycap-secondary-text);
  background: var(--_keycap-secondary-background);
  border-color: var(--_keycap-secondary-border);
  border-bottom-color: var(--_keycap-secondary-border-bottom);
  line-height: 0.8;
  font-size: min(1rem, var(--_keycap-small-font-size));
  font-weight: 600;
  padding: 8px 12px 8px 12px;
}
.MLK__rows > .MLK__row .shift:hover,
.MLK__rows > .MLK__row .action:hover {
  background: var(--_keycap-secondary-background-hover);
}
.MLK__rows > .MLK__row .action.primary {
  background: var(--_keycap-primary-background);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .MLK__row .action.primary:hover {
  background: var(--_keycap-primary-background-hover);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .MLK__row .shift.selected,
.MLK__rows > .MLK__row .action.selected {
  color: var(--_toolbar-text-active);
}
.MLK__rows > .MLK__row .shift.selected.is-pressed,
.MLK__rows > .MLK__row .action.selected.is-pressed,
.MLK__rows > .MLK__row .shift.selected.is-active,
.MLK__rows > .MLK__row .action.selected.is-active {
  color: white;
}
.MLK__rows > .MLK__row .warning {
  background: #cd0030;
  color: white;
}
.MLK__rows > .MLK__row .warning svg.svg-glyph {
  width: var(--_keycap-glyph-size-lg);
  height: var(--_keycap-glyph-size-lg);
  min-height: var(--_keycap-glyph-size-lg);
}
/** A regular keycap
 * Use the :where() pseudo-class to give it a very low specifity, 
 * so that it can be overriden by custom style.
 */
:where(.MLK__rows > .MLK__row div) {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: space-evenly;
  width: calc(var(--_keycap-width) - var(--_keycap-gap));
  height: var(--_keycap-height);
  box-sizing: border-box;
  padding: 0;
  vertical-align: top;
  text-align: center;
  float: left;
  color: var(--_keycap-text);
  fill: currentColor;
  font-size: var(--_keycap-font-size);
  background: var(--_keycap-background);
  border: 1px solid var(--_keycap-border);
  border-bottom-color: var(--_keycap-border-bottom);
  border-radius: 6px;
  cursor: pointer;
  touch-action: none;
  /* Keys with a variants panel */
  position: relative;
  overflow: hidden;
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
:where(.MLK__rows > .MLK__row div):hover {
  overflow: visible;
  background: var(--_keycap-background-hover);
  color: var(--_keycap-text-hover);
}
:where(.MLK__rows > .MLK__row div) .ML__latex {
  pointer-events: none;
  touch-action: none;
}
:where(.MLK__rows > .MLK__row div) svg.svg-glyph {
  margin: 8px 0;
  width: var(--_keycap-glyph-size);
  height: var(--_keycap-glyph-size);
  min-height: var(--_keycap-glyph-size);
}
:where(.MLK__rows > .MLK__row div) svg.svg-glyph-lg {
  margin: 8px 0;
  width: var(--_keycap-glyph-size-lg);
  height: var(--_keycap-glyph-size-lg);
  min-height: var(--_keycap-glyph-size-lg);
}
:where(.MLK__rows > .MLK__row div).MLK__tex-math {
  font-size: 25px;
}
:where(.MLK__rows > .MLK__row div).is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active,
:where(.MLK__rows > .MLK__row div).action.is-active,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed,
:where(.MLK__rows > .MLK__row div).action.is-pressed {
  z-index: calc(var(--_keyboard-zindex) - 5);
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active aside,
:where(.MLK__rows > .MLK__row div).action.is-active aside,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed aside,
:where(.MLK__rows > .MLK__row div).action.is-pressed aside {
  display: none;
}
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active .MLK__shift,
:where(.MLK__rows > .MLK__row div).action.is-active .MLK__shift,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed .MLK__shift,
:where(.MLK__rows > .MLK__row div).action.is-pressed .MLK__shift {
  display: none;
}
:where(.MLK__rows > .MLK__row div).shift.is-pressed,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed,
:where(.MLK__rows > .MLK__row div).action.is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
}
:where(.MLK__rows > .MLK__row div).shift.is-active,
:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active,
:where(.MLK__rows > .MLK__row div).action.is-active {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
:where(.MLK__rows > .MLK__row div) small {
  color: var(--_keycap-secondary-text);
}
:where(.MLK__rows > .MLK__row div) aside {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 10px;
  line-height: 10px;
  color: var(--_keycap-secondary-text);
}
/* Add an attribute 'data-tooltip' to display a tooltip on hover.
Note there are a different set of tooltip rules for the keyboard toggle
(it's in a different CSS tree) */
.ML__keyboard [data-tooltip] {
  position: relative;
}
.ML__keyboard [data-tooltip]::after {
  position: absolute;
  display: inline-table;
  content: attr(data-tooltip);
  top: inherit;
  bottom: 100%;
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  background: #616161;
  color: #fff;
  text-align: center;
  z-index: 2;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  border-radius: 2px;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-weight: 400;
  font-size: 12px;
  transition: all 0.15s cubic-bezier(0.4, 0, 1, 1) 1s;
  opacity: 0;
  transform: scale(0.5);
}
.ML__keyboard [data-tooltip]:hover {
  position: relative;
}
.ML__keyboard [data-tooltip]:hover::after {
  opacity: 1;
  transform: scale(1);
}
.MLK__toolbar {
  align-self: center;
  display: flex;
  flex-flow: row;
  justify-content: space-between;
  width: 100%;
  max-width: 996px;
  min-height: 32px;
  /* Icons for undo/redo, etc. */
}
.MLK__toolbar svg {
  height: 20px;
  width: 20px;
}
.MLK__toolbar > .left {
  position: relative;
  display: flex;
  justify-content: flex-start;
  flex-flow: row;
}
.MLK__toolbar > .right {
  display: flex;
  justify-content: flex-end;
  flex-flow: row;
}
.MLK__toolbar > div > div {
  /* "button" in the toolbar */
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--_toolbar-text);
  fill: currentColor;
  background: var(--_toolbar-background);
  font-size: var(--_toolbar-font-size);
  padding: 4px 15px;
  cursor: pointer;
  width: max-content;
  min-width: 42px;
  min-height: 34px;
  border: none;
  padding-left: 10px;
  padding-right: 10px;
  padding-bottom: 8px;
  padding-top: 8px;
  margin-top: 0;
  margin-bottom: 4px;
  margin-left: 4px;
  margin-right: 4px;
  border-radius: 8px;
  box-shadow: none;
  border-bottom: 2px solid transparent;
}
.MLK__toolbar > div > div:not(.disabled):not(.selected):hover {
  background: var(--_toolbar-background-hover);
}
.MLK__toolbar > div > div.disabled svg,
.MLK__toolbar > div > div.disabled:hover svg,
.MLK__toolbar > div > div.disabled.is-pressed svg {
  color: var(--_toolbar-text);
  opacity: 0.2;
}
.MLK__toolbar > div > div:hover,
.MLK__toolbar > div > div:active,
.MLK__toolbar > div > div.is-pressed,
.MLK__toolbar > div > div.is-active {
  color: var(--_toolbar-text-active);
}
.MLK__toolbar > div > div.selected {
  color: var(--_toolbar-text-active);
  background: var(--_toolbar-background-selected);
  border-radius: 0;
  border-bottom-color: var(--_toolbar-text-active);
  padding-bottom: 4px;
  margin-bottom: 8px;
}
/* This is the element that displays variants on press+hold */
.MLK__variant-panel {
  visibility: hidden;
  position: fixed;
  display: flex;
  flex-flow: row wrap-reverse;
  justify-content: center;
  align-content: center;
  margin: 0;
  padding: 0;
  bottom: auto;
  top: 0;
  box-sizing: content-box;
  transform: none;
  z-index: calc(var(--_keyboard-zindex) + 1);
  touch-action: none;
  max-width: 350px;
  background: var(--_variant-panel-background);
  text-align: center;
  border-radius: 6px;
  padding: 6px;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
  transition: none;
}
.MLK__variant-panel.is-visible {
  visibility: visible;
}
.MLK__variant-panel.compact {
  --_variant-keycap-length: var(--variant-keycap-length, 50px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 10px);
}
.MLK__variant-panel .item {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: center;
  font-size: var(--_variant-keycap-font-size);
  height: var(--_variant-keycap-length);
  width: var(--_variant-keycap-length);
  margin: 0;
  box-sizing: border-box;
  border-radius: 5px;
  border: 1px solid transparent;
  background: transparent;
  pointer-events: all;
  cursor: pointer;
  color: var(--_variant-keycap-text);
  fill: currentColor;
}
@media (max-height: 412px) {
  .MLK__variant-panel .item {
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
.MLK__variant-panel .item .ML__latex {
  pointer-events: none;
}
.MLK__variant-panel .item:hover {
  color: var(--_keycap-text-hover);
}
.MLK__variant-panel .item.is-active {
  background: var(--_variant-keycap-background-active);
  color: var(--_variant-keycap-text-active);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
.MLK__variant-panel .item.is-pressed {
  background: var(--_variant-keycap-background-pressed);
  color: var(--_variant-keycap-text-pressed);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
.MLK__variant-panel .item.small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__variant-panel .item.swatch-button {
  box-sizing: border-box;
  background: #fbfbfb;
}
.MLK__variant-panel .item.swatch-button > span {
  display: inline-block;
  margin: 6px;
  width: calc(100% - 12px);
  height: calc(100% - 12px);
  border-radius: 50%;
}
.MLK__variant-panel .item.swatch-button:hover {
  background: #f0f0f0;
}
.MLK__variant-panel .item.swatch-button:hover > span {
  border-radius: 2px;
}
.MLK__variant-panel .item.box > div,
.MLK__variant-panel .item.box > span {
  border: 1px dashed rgba(0, 0, 0, 0.24);
}
.MLK__variant-panel .item .warning {
  min-height: 60px;
  min-width: 60px;
  background: #cd0030;
  color: white;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 5px;
}
.MLK__variant-panel .item .warning.is-pressed,
.MLK__variant-panel .item .warning.is-active {
  background: red;
}
.MLK__variant-panel .item .warning svg.svg-glyph {
  width: var(--_keycap-glyph-size-xl);
  height: var(--_keycap-glyph-size-xl);
}
.MLK__variant-panel .item aside {
  font-size: var(--_variant-keycap-aside-font-size);
  line-height: 12px;
  opacity: 0.78;
  padding-top: 2px;
  width: 100%;
  text-align: center;
  text-wrap: wrap;
}
.MLK__keycap {
  position: relative;
}
.MLK__shift {
  display: block;
  position: absolute;
  right: 4px;
  top: 4px;
  font-size: var(--_keycap-shift-font-size);
  color: var(--_keycap-shift-color);
}
.hide-shift .MLK__shift {
  display: none;
}
@media (max-width: 414px) {
  .MLK__variant-panel {
    max-width: 350px;
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
/* @xs breakpoint: iPhone 5 */
@container (max-width: 414px) {
  .MLK__rows {
    --_keycap-gap: max(var(--_keycap-gap, 2px), 2px);
    --_keycap-height: max(var(--_keycap-height), 42px);
    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width)), 10cqw), 62px));
  }
  .MLK__toolbar > div > div {
    font-size: 100%;
    margin-left: 2px;
    margin-right: 2px;
  }
  .MLK__rows .shift,
  .MLK__rows .action {
    font-size: 65%;
  }
  .MLK__rows .warning svg.svg-glyph {
    width: 14px;
    height: 14px;
    min-height: 14px;
  }
}
@container (max-width: 744px) {
  .MLK__rows {
    --_keycap-gap: max(var(--keycap-gap, 2px), 2px);
    --_keycap-height: max(var(--keycap-height, 52px), 52px);
    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width), 10cqw), 62px));
  }
  .MLK__toolbar > div > div {
    padding-left: 0;
    padding-right: 0;
  }
  .MLK__tooltip::after {
    padding: 8px 16px;
    font-size: 16px;
  }
  .MLK__rows > .MLK__row > div.fnbutton {
    font-size: 16px;
  }
  .MLK__rows > .MLK__row > div.bigfnbutton {
    font-size: calc(var(--_keycap-extra-small-font-size) / 1.55);
  }
  .MLK__rows > .MLK__row > div.small {
    font-size: 13px;
  }
  .MLK__rows > .MLK__row > div > aside {
    display: none;
  }
  .MLK__shift {
    display: none;
  }
}
/* Medium breakpoint: larger phones */
@container (max-width: 768px) {
  .MLK__rows {
    --_keycap-height: max(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .MLK__row > div > small {
    font-size: 14px;
  }
}
@media (max-height: 768px) {
  .MLK__rows {
    --_keycap-height: max(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .MLK__row > div > small {
    font-size: 14px;
  }
}
@container (max-width: 1444px) {
  .MLK__rows .if-wide {
    display: none;
  }
}
@media (prefers-color-scheme: dark) {
  .ML__keyboard {
    --_accent-color: var(--keyboard-accent-color, #0b5c9c);
    --_background: var(--keyboard-background, #151515);
    --_border: var(--keyboard-border, transparent);
    --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
    --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
    --keyboard-toolbar-background-hover: #303030;
    --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
    --_keycap-background: var(--keycap-background, #1f2022);
    --_keycap-background-hover: var(--keycap-background-hover, #2f3032);
    --_keycap-border: var(--_keycap-border, transparent);
    --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
    --_keycap-text: var(--keycap-text, #e3e4e8);
    --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
    --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
    --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
    --keycap-secondary-border: transparent;
    --keycap-secondary-border-bottom: transparent;
    --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
    --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
    --_variant-panel-background: var(--variant-panel-background, #303030);
    --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
  }
}
/* Same as the media query, but with a class */
[theme='dark'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0b5c9c);
  --_background: var(--keyboard-background, #151515);
  --_border: var(--keyboard-border, transparent);
  --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
  --keyboard-toolbar-background-hover: #303030;
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
  --_keycap-background: var(--keycap-background, #1f2022);
  --_keycap-background-hover: var(--keycap-background-hover, #2f3032);
  --_keycap-border: var(--_keycap-border, transparent);
  --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
  --_keycap-text: var(--keycap-text, #e3e4e8);
  --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
  --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
  --keycap-secondary-border: transparent;
  --keycap-secondary-border-bottom: transparent;
  --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
  --_variant-panel-background: var(--variant-panel-background, #303030);
  --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
}
[theme='light'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, white);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--_keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--_keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_variant-panel-background: var(--variant-panel-background, #f0f0f0);
  --_variant-keycap-text: var(--variant-keycap-textvar, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
}
`,xle=`:host {
  --primary-color: #5898ff;
  --primary-color-dimmed: #c0c0f0;
  --primary-color-dark: var(--blue-500);
  --primary-color-light: var(--blue-100);
  --primary-color-reverse: #ffffff;
  --secondary-color: #ff8a65;
  --secondary-color-dimmed: #f0d5c5;
  --secondary-color-dark: var(--orange-500);
  --secondary-color-light: var(--orange-100);
  --secondary-color-reverse: #ffffff;
  --link-color: #5898ff;
  --link-color-dimmed: #c5c5c5;
  --link-color-dark: #121212;
  --link-color-light: #e2e2e2;
  --link-color-reverse: #ffffff;
  --semantic-blue: var(--blue-700);
  --semantic-red: var(--red-400);
  --semantic-orange: var(--orange-400);
  --semantic-green: var(--green-700);
  --neutral-100: #f5f5f5;
  --neutral-200: #eeeeee;
  --neutral-300: #e0e0e0;
  --neutral-400: #bdbdbd;
  --neutral-500: #9e9e9e;
  --neutral-600: #757575;
  --neutral-700: #616161;
  --neutral-800: #424242;
  --neutral-900: #212121;
  --red-25: #fff8f7;
  --red-50: #fff1ef;
  --red-100: #ffeae6;
  --red-200: #ffcac1;
  --red-300: #ffa495;
  --red-400: #ff7865;
  --red-500: #f21c0d;
  --red-600: #e50018;
  --red-700: #d30024;
  --red-800: #bd002c;
  --red-900: #a1002f;
  --orange-25: #fffbf8;
  --orange-50: #fff7f1;
  --orange-100: #fff3ea;
  --orange-200: #ffe1c9;
  --orange-300: #ffcca2;
  --orange-400: #ffb677;
  --orange-500: #fe9310;
  --orange-600: #f58700;
  --orange-700: #ea7c00;
  --orange-800: #dc6d00;
  --orange-900: #ca5b00;
  --brown-25: #fff8ef;
  --brown-50: #fff1df;
  --brown-100: #ffe9ce;
  --brown-200: #ebcca6;
  --brown-300: #cdaf8a;
  --brown-400: #af936f;
  --brown-500: #856a47;
  --brown-600: #7f5e34;
  --brown-700: #78511f;
  --brown-800: #6e4200;
  --brown-900: #593200;
  --yellow-25: #fffdf9;
  --yellow-50: #fffcf2;
  --yellow-100: #fffaec;
  --yellow-200: #fff2ce;
  --yellow-300: #ffe8ab;
  --yellow-400: #ffdf85;
  --yellow-500: #ffcf33;
  --yellow-600: #f1c000;
  --yellow-700: #dfb200;
  --yellow-800: #c9a000;
  --yellow-900: #ad8a00;
  --lime-25: #f4ffee;
  --lime-50: #e9ffdd;
  --lime-100: #ddffca;
  --lime-200: #a8fb6f;
  --lime-300: #94e659;
  --lime-400: #80d142;
  --lime-500: #63b215;
  --lime-600: #45a000;
  --lime-700: #268e00;
  --lime-800: #007417;
  --lime-900: #005321;
  --green-25: #f5fff5;
  --green-50: #ebffea;
  --green-100: #e0ffdf;
  --green-200: #a7ffa7;
  --green-300: #5afa65;
  --green-400: #45e953;
  --green-500: #17cf36;
  --green-600: #00b944;
  --green-700: #00a34a;
  --green-800: #008749;
  --green-900: #00653e;
  --teal-25: #f3ffff;
  --teal-50: #e6fffe;
  --teal-100: #d9fffe;
  --teal-200: #8dfffe;
  --teal-300: #57f4f4;
  --teal-400: #43e5e5;
  --teal-500: #17cfcf;
  --teal-600: #00c2c0;
  --teal-700: #00b5b1;
  --teal-800: #00a49e;
  --teal-900: #009087;
  --cyan-25: #f7fcff;
  --cyan-50: #eff8ff;
  --cyan-100: #e7f5ff;
  --cyan-200: #c2e6ff;
  --cyan-300: #95d5ff;
  --cyan-400: #61c4ff;
  --cyan-500: #13a7ec;
  --cyan-600: #069eda;
  --cyan-700: #0095c9;
  --cyan-800: #0088b2;
  --cyan-900: #0a7897;
  --blue-25: #f7faff;
  --blue-50: #eef5ff;
  --blue-100: #e5f1ff;
  --blue-200: #bfdbff;
  --blue-300: #92c2ff;
  --blue-400: #63a8ff;
  --blue-500: #0d80f2;
  --blue-600: #0077db;
  --blue-700: #006dc4;
  --blue-800: #0060a7;
  --blue-900: #005086;
  --indigo-25: #f8f7ff;
  --indigo-50: #f1efff;
  --indigo-100: #eae7ff;
  --indigo-200: #ccc3ff;
  --indigo-300: #ac99ff;
  --indigo-400: #916aff;
  --indigo-500: #63c;
  --indigo-600: #5a21b2;
  --indigo-700: #4e0b99;
  --indigo-800: #3b0071;
  --indigo-900: #220040;
  --purple-25: #fbf7ff;
  --purple-50: #f8f0ff;
  --purple-100: #f4e8ff;
  --purple-200: #e4c4ff;
  --purple-300: #d49aff;
  --purple-400: #c36aff;
  --purple-500: #a219e6;
  --purple-600: #9000c4;
  --purple-700: #7c009f;
  --purple-800: #600073;
  --purple-900: #3d0043;
  --magenta-25: #fff8fb;
  --magenta-50: #fff2f6;
  --magenta-100: #ffebf2;
  --magenta-200: #ffcddf;
  --magenta-300: #ffa8cb;
  --magenta-400: #ff7fb7;
  --magenta-500: #eb4799;
  --magenta-600: #da3689;
  --magenta-700: #c82179;
  --magenta-800: #b00065;
  --magenta-900: #8a004c;
}
@media (prefers-color-scheme: dark) {
  :host {
    --semantic-blue: var(--blue-700);
    --semantic-red: var(--red-400);
    --semantic-orange: var(--orange-400);
    --semantic-green: var(--green-700);
    --semantic-bg-blue: var(--blue-25);
    --semantic-bg-red: var(--red-25);
    --semantic-bg-orange: var(--orange-25);
    --semantic-bg-green: var(--green-25);
    --neutral-100: #121212;
    --neutral-200: #424242;
    --neutral-300: #616161;
    --neutral-400: #757575;
    --neutral-500: #9e9e9e;
    --neutral-600: #bdbdbd;
    --neutral-700: #e0e0e0;
    --neutral-800: #eeeeee;
    --neutral-900: #f5f5f5;
  }
}
:host([theme='dark']) {
  --semantic-blue: var(--blue-700);
  --semantic-red: var(--red-400);
  --semantic-orange: var(--orange-400);
  --semantic-green: var(--green-700);
  --semantic-bg-blue: var(--blue-25);
  --semantic-bg-red: var(--red-25);
  --semantic-bg-orange: var(--orange-25);
  --semantic-bg-green: var(--green-25);
  --neutral-100: #121212;
  --neutral-200: #424242;
  --neutral-300: #616161;
  --neutral-400: #757575;
  --neutral-500: #9e9e9e;
  --neutral-600: #bdbdbd;
  --neutral-700: #e0e0e0;
  --neutral-800: #eeeeee;
  --neutral-900: #f5f5f5;
}
/* @media (prefers-color-scheme: dark) {
  :host {
      --label-color: #fff;
      --active-label-color: #000;
      --menu-bg: #525252;
      --active-bg: #5898ff;
      --active-bg-dimmed: #5c5c5c;
  }
} */
:host {
  --ui-font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
  --ui-font-size: 14px;
  --ui-line-height: 1.5;
  --ui-letter-spacing: 0.007em;
  --mono-font-family: 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono', 'Source Code Pro', Menlo, Monaco, 'Courier New', monospace;
  --ui-layer-1: var(--neutral-100);
  --ui-layer-2: var(--neutral-200);
  --ui-layer-3: var(--neutral-300);
  --ui-layer-4: var(--neutral-400);
  --ui-layer-5: var(--neutral-500);
  --ui-layer-6: var(--neutral-600);
  --ui-border-color: var(--primary-color);
  --ui-border-radius: 4px;
  --ui-text: var(--neutral-900);
  --ui-text-secondary: var(--neutral-700);
  --ui-text-placeholder: var(--neutral-500);
  --ui-text-muted: var(--neutral-300);
  /** A field is a UI element in which a user can type data, for
  * example an input or textarea element.
  */
  --ui-field-bg: var(--neutral-100);
  --ui-field-bg-hover: var(--neutral-100);
  --ui-field-bg-disabled: var(--neutral-300);
  --ui-field-bg-invalid: var(--red-100);
  --ui-field-bg-focus: var(--neutral-100);
  --ui-field-border: 0.5px solid var(--border-color);
  --ui-field-border-hover: 0.5px solid var(--border-color);
  --ui-field-border-disabled: 0.5px solid var(--border-color);
  --ui-field-border-invalid: 0.5px solid var(--border-color);
  --ui-field-border-focus: 0.5px solid var(--border-color);
  --ui-menu-bg: var(--neutral-100);
  --ui-menu-text: var(--neutral-900);
  --ui-menu-bg-hover: var(--neutral-200);
  --ui-menu-text-hover: var(--neutral-900);
  /** The \`active\` state is used for the state of menu items
  * when they are selected.
  */
  --ui-menu-bg-active: var(--primary-color);
  --ui-menu-text-active: var(--primary-color-reverse);
  /** The \`active-muted\` set is used for the state of
  * submenus when they are open.
  */
  --ui-menu-bg-active-muted: var(--neutral-300);
  --ui-menu-text-active-muted: var(--neutral-900);
  /* --ui-menu-shadow: 0 1px 2px 0 rgba(60, 64, 67, 0.302),
0 2px 6px 2px rgba(60, 64, 67, 0.149); */
  --ui-menu-shadow: 0 0 2px rgba(0, 0, 0, 0.5), 0 0 20px rgba(0, 0, 0, 0.2);
  --ui-menu-divider: 0.5px solid #c7c7c7;
  /* var(--neutral-300); */
  --ui-menu-z-index: 10000;
  --page-bg: var(--neutral-100);
  --content-bg: var(--neutral-200);
}
@media (prefers-color-scheme: dark) {
  :host {
    --ui-menu-bg: var(--neutral-200);
  }
}
:host([theme='dark']) {
  --ui-menu-bg: var(--neutral-200);
}
/* PingFang SC is a macOS font. Microsoft Yahei is a Windows font. 
  Noto  is a Linux/Android font.
*/
:lang(zh-cn),
:lang(zh-sg),
:lang(zh-my),
:lang(zh) {
  --ui-font-family: -apple-system, system-ui, 'PingFang SC', 'Hiragino Sans GB', 'Noto Sans CJK SC', 'Noto Sans SC', 'Noto Sans', 'Microsoft Yahei UI', 'Microsoft YaHei New', 'Microsoft Yahei', '微软雅黑', SimSun, '宋体', STXihei, '华文细黑', sans-serif;
}
:lang(zh-tw),
:lang(zh-hk),
:lang(zh-mo) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans', 'Microsoft JhengHei UI', 'Microsoft JhengHei', '微軟正黑體', '新細明體', 'PMingLiU', '細明體', 'MingLiU', sans-serif;
}
:lang(ja),
:lang(ja-jp),
:lang(ja-jp-mac) {
  --ui-font-family: -apple-system, system-ui, 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Noto Sans CJK JP', 'Noto Sans JP', 'Noto Sans', '游ゴシック', '游ゴシック体', YuGothic, 'Yu Gothic', 'メイリオ', Meiryo, 'ＭＳ Ｐゴシック', 'MS PGothic', sans-serif;
}
:lang(ko),
:lang(ko-kr),
:lang(ko-kr-std) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR', 'Noto Sans', 'Malgun Gothic', '맑은 고딕', 'Apple SD Gothic Neo', '애플 SD 산돌고딕 Neo', 'Apple SD 산돌고딕 Neo', '돋움', Dotum, sans-serif;
}
:lang(ko-kr-apple) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR', 'Noto Sans', 'Apple SD Gothic Neo', '애플 SD 산돌고딕 Neo', 'Apple SD 산돌고딕 Neo', '돋움', Dotum, sans-serif;
}
:lang(zh-cn),
:lang(zh-sg),
:lang(zh-my),
:lang(zh),
:lang(zh-tw),
:lang(zh-hk),
:lang(zh-mo),
:lang(ja),
:lang(ja-jp),
:lang(ja-jp-mac),
:lang(ko),
:lang(ko-kr),
:lang(ko-kr-std),
:lang(ko-kr-apple) {
  --ui-font-size: 1rem;
  --ui-line-height: 1.7;
  --ui-letter-spacing: 0;
}
:dir(rtl) {
  --ui-line-height: auto;
  --ui-letter-spacing: 0;
}
`,_le=`.ui-menu *,
.ui-menu ::before,
.ui-menu ::after {
  box-sizing: border-box;
}
.ui-menu {
  display: none;
  color-scheme: light dark;
  -webkit-user-select: none;
  /* Important: Safari iOS doesn't respect user-select */
  user-select: none;
  cursor: default;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: rgba(0 0 0 0);
  --active-label-color: #fff;
  /* ui-menu-text-active */
  --label-color: #121212;
  /* ui-menu-text */
  --menu-bg: #e2e2e2;
  /* ui-menu-background */
  --active-bg: #5898ff;
  /* ui-menu-background-active */
  --active-bg-dimmed: #c5c5c5;
  /* ui-menu-background-active-muted */
}
/** Use the :where pseudo selector to make the specificity of the
 * selector 0, so that it can be overridden by the user.
 */
:where(.ui-menu-container) {
  position: absolute;
  overflow: visible;
  width: auto;
  height: auto;
  z-index: 10000;
  border-radius: 8px;
  background: var(--ui-menu-bg);
  box-shadow: var(--ui-menu-shadow);
  list-style: none;
  padding: 6px 0 6px 0;
  margin: 0;
  user-select: none;
  cursor: default;
  color: var(--ui-menu-text);
  font-weight: normal;
  font-style: normal;
  text-shadow: none;
  text-transform: none;
  letter-spacing: 0;
  outline: none;
  opacity: 1;
  /* The [popover] elements have a 1px solid black border. Ugh. */
  border: none;
  width: fit-content;
  height: fit-content;
}
:where(.ui-menu-container > li) {
  display: flex;
  flex-flow: row;
  align-items: center;
  padding: 1px 7px 1px 7px;
  margin-top: 0;
  margin-left: 6px;
  margin-right: 6px;
  border-radius: 4px;
  white-space: nowrap;
  position: relative;
  outline: none;
  fill: currentColor;
  user-select: none;
  cursor: default;
  text-align: left;
  color: inherit;
  font-family: var(--ui-font-family);
  font-size: var(--ui-font-size);
  line-height: var(--ui-line-height);
  letter-spacing: var(--ui-letter-spacing);
}
:where(.ui-menu-container > li > .label) {
  display: flex;
  align-items: center;
  justify-content: space-between;
  appearance: none;
  background: none;
  outline: none;
  width: 100%;
  margin: 0;
  padding: 1px 2px 1px 1px;
  overflow: visible;
  border: 1px solid transparent;
  white-space: nowrap;
  text-align: start;
  align-content: center;
}
:where(.ui-menu-container > li:has(.heading)) {
  margin-top: 0.5em;
}
:where(.ui-menu-container > li > .label.heading) {
  font-weight: bold;
  opacity: 0.4;
}
:where(.ui-menu-container > li.indent > .label) {
  margin-inline-start: 12px;
}
:where(.ui-menu-container > li > .label.indent) {
  margin-inline-start: 12px;
}
:where(.ui-menu-container > li[role='divider']) {
  border-bottom: 1px solid var(--ui-menu-divider);
  border-radius: 0;
  padding: 0;
  margin-left: 15px;
  margin-right: 15px;
  padding-top: 5px;
  margin-bottom: 5px;
  width: calc(100% - 30px);
  /** 100% - (margin-left + margin-right) */
}
:where(.ui-menu-container > li[aria-disabled='true']) {
  opacity: 0.5;
}
:where(.ui-menu-container > li.active) {
  background: var(--ui-menu-bg-active);
  background: -apple-system-control-accent;
  color: var(--ui-menu-text-active);
}
:where(.ui-menu-container > li.active.is-submenu-open) {
  background: var(--ui-menu-bg-active-muted);
  color: inherit;
}
:where(.ui-menu-container > li[aria-haspopup='true'] > .label) {
  padding-inline-end: 0;
}
:where(.ui-menu-container > li[aria-haspopup='true'].active::after) {
  color: var(--ui-menu-text-active);
}
/** Keyboard shortcut */
:where(.ui-menu-container > li > kbd) {
  font-family: var(--ui-font-family);
  margin-inline-start: 12px;
  opacity: 0.4;
}
:where(.ui-menu-container > li.active > kbd) {
  opacity: 0.85;
}
.ui-trailing-chevron {
  display: flex;
  margin-inline-start: 24px;
  width: 10px;
  height: 10px;
  margin-bottom: 4px;
}
.ui-trailing-chevron:dir(rtl) {
  transform: scaleX(-1);
}
.ui-checkmark {
  display: flex;
  margin-inline-end: -11px;
  margin-inline-start: -4px;
  margin-top: 2px;
  width: 16px;
  height: 16px;
}
.ui-mixedmark {
  display: flex;
  margin-inline-end: -11px;
  margin-inline-start: -4px;
  margin-top: 2px;
  width: 16px;
  height: 16px;
}
`,ru;function lu(t){let e="";switch(t){case"mathfield-element":e=`
    :host { display: inline-block; background-color: field; color: fieldtext; border-width: 1px; border-style: solid; border-color: #acacac; border-radius: 2px;}
    :host([hidden]) { display: none; }
    :host([disabled]), :host([disabled]:focus), :host([disabled]:focus-within) { outline: none; opacity:  .5; }
    :host(:focus), :host(:focus-within) {
      outline: Highlight auto 1px;    /* For Firefox */
      outline: -webkit-focus-ring-color auto 1px;
    }
    :host([readonly]:focus), :host([readonly]:focus-within),
    :host([read-only]:focus), :host([read-only]:focus-within) {
      outline: none;
    }`;break;case"core":e=mle;break;case"mathfield":e=fle;break;case"environment-popover":e=gle;break;case"suggestion-popover":e=yle;break;case"keystroke-caption":e=vle;break;case"virtual-keyboard":e=ble;break;case"ui":e=xle;break;case"menu":e=_le;break}return e}function Ac(t){return ru||(ru={}),ru[t]||(ru[t]=new CSSStyleSheet,ru[t].replaceSync(lu(t))),ru[t]}var Ua;function gl(t){var e;try{if(!("adoptedStyleSheets"in document)){if(window.document.getElementById(`mathlive-style-${t}`))return;let i=window.document.createElement("style");i.id=`mathlive-style-${t}`,i.append(window.document.createTextNode(lu(t))),window.document.head.appendChild(i);return}if(Ua||(Ua={}),((e=Ua[t])!=null?e:0)!==0)Ua[t]+=1;else{let i=Ac(t);document.adoptedStyleSheets=[...document.adoptedStyleSheets,i],Ua[t]=1}}catch(i){console.error("Error injecting stylesheet",t,i)}}function yl(t){if("adoptedStyleSheets"in document&&Ua!=null&&Ua[t]&&(Ua[t]-=1,Ua[t]<=0)){let e=ru[t];document.adoptedStyleSheets=document.adoptedStyleSheets.filter(i=>i!==e)}}var D2=class qB extends ue{constructor(e){var i;super(Z(q({},e),{type:"accent",body:(i=e.body)!=null?i:void 0})),e.accentChar?this.accent=e.accentChar:this.svgAccent=e==null?void 0:e.svgAccent,this.skipBoundary=!0,this.captureSelection=!0}static fromJson(e){return new qB(e)}toJson(){return Z(q({},super.toJson()),{accentChar:this.accent,svgAccent:this.svgAccent})}render(e){var i;let r=new Pt({parent:e,mathstyle:"cramp"},this.style),n=(i=ue.createBox(r,this.body))!=null?i:new Ae("▢",{style:this.style}),s=0;!this.hasEmptyBranch("body")&&this.body.length===2&&this.body[1].isCharacterBox()&&(s=n.skew);let a=Math.min(n.height,ol),o;if(this.svgAccent)o=n1(this.svgAccent),a=r.metrics.bigOpSpacing1-a;else if(this.accent){let u=new Ae(this.accent,{fontFamily:"Main-Regular"});u.italic=0;let c=this.accent===8407||this.accent===8411||this.accent===8412?" ML__accent-combining-char":"";o=new Ae(u,{classes:"ML__accent-body"+c})}o=new zi({shift:0,children:[{box:new Ae(n)},-a,{box:o,marginLeft:n.left+2*s,classes:["ML__center"]}]});let l=new Ae(o,{type:"lift"});return this.caret&&(l.caret=this.caret),this.bind(r,l.wrap(r)),this.attachSupsub(r,{base:l})}},L2={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},cg=Object.fromEntries(Object.entries(L2).map(([t,e])=>[e,t]));function B2(t){var e;return(e={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"∣":8739,"∥":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[t])!=null?e:t.codePointAt(0)}function wle(t,e,i,r){var n;let s=new Ae(B2(t),{fontFamily:"Main-Regular",isSelected:r.isSelected,classes:"ML__small-delim "+((n=r.classes)!=null?n:"")}).wrap(e);return i&&s.setTop((1-e.scalingFactor)*Ts),s}function jB(t,e,i,r,n){var s,a;let o=new Pt({parent:r,mathstyle:"textstyle"},n==null?void 0:n.style),l=new Ae(B2(t),{fontFamily:`Size${e}-Regular`,isSelected:n.isSelected,classes:((s=n.classes)!=null?s:"")+` ML__delim-size${e}`,type:(a=n.type)!=null?a:"ignore"}).wrap(o);return i&&l.setTop((1-o.scalingFactor)*Ts),l}function VB(t,e,i,r,n){var s;let a,o,l,u;a=l=u=B2(t),o=null;let c="Size1-Regular";t==="\\vert"||t==="\\lvert"||t==="\\rvert"||t==="\\mvert"||t==="\\mid"?l=a=u=8739:t==="\\Vert"||t==="\\lVert"||t==="\\rVert"||t==="\\mVert"||t==="\\|"?l=a=u=8741:t==="\\uparrow"?l=u=9168:t==="\\Uparrow"?l=u=8214:t==="\\downarrow"?a=l=9168:t==="\\Downarrow"?a=l=8214:t==="\\updownarrow"?(a=8593,l=9168,u=8595):t==="\\Updownarrow"?(a=8657,l=8214,u=8659):t==="["||t==="\\lbrack"?(a=9121,l=9122,u=9123,c="Size4-Regular"):t==="]"||t==="\\rbrack"?(a=9124,l=9125,u=9126,c="Size4-Regular"):t==="\\lfloor"||t==="⌊"?(l=a=9122,u=9123,c="Size4-Regular"):t==="\\lceil"||t==="⌈"?(a=9121,l=u=9122,c="Size4-Regular"):t==="\\rfloor"||t==="⌋"?(l=a=9125,u=9126,c="Size4-Regular"):t==="\\rceil"||t==="⌉"?(a=9124,l=u=9125,c="Size4-Regular"):t==="("||t==="\\lparen"?(a=9115,l=9116,u=9117,c="Size4-Regular"):t===")"||t==="\\rparen"?(a=9118,l=9119,u=9120,c="Size4-Regular"):t==="\\{"||t==="\\lbrace"?(a=9127,o=9128,u=9129,l=9130,c="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(a=9131,o=9132,u=9133,l=9130,c="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(a=9127,u=9129,l=9130,c="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(a=9131,u=9133,l=9130,c="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(a=9127,u=9133,l=9130,c="Size4-Regular"):t==="\\rmoustache"||t==="⎱"?(a=9131,u=9129,l=9130,c="Size4-Regular"):t==="\\surd"?(a=57345,u=9143,l=57344,c="Size4-Regular"):t==="\\ulcorner"?(a=9484,l=u=32):t==="\\urcorner"?(a=9488,l=u=32):t==="\\llcorner"?(u=9492,l=a=32):t==="\\lrcorner"&&(a=9496,l=a=32);let d=Oc(a,c),h=d.height+d.depth,f=Oc(l,c),g=f.height+f.depth,y=Oc(u,c),C=y.height+y.depth,S=0,A=1;if(o!==null){let ie=Oc(o,c);S=ie.height+ie.depth,A=2}let T=h+C+S,M=Math.max(0,Math.ceil((e-T)/(A*g))),D=T+M*A*g,B=Ts;i&&(B=B*r.scalingFactor);let F=D/2-B,V=.008,O=[];O.push({box:new Ae(u,{fontFamily:c})}),O.push(-V);let U=new Ae(l,{fontFamily:c});if(o===null)for(let ie=0;ie<M;ie++)O.push({box:U});else{for(let ie=0;ie<M;ie++)O.push({box:U});O.push(-V),O.push({box:new Ae(o,{fontFamily:c})}),O.push(-V);for(let ie=0;ie<M;ie++)O.push({box:U})}O.push(-V),O.push({box:new Ae(a,{fontFamily:c})});let J="";c==="Size1-Regular"?J=" delim-size1":c==="Size4-Regular"&&(J=" delim-size4");let Y=new zi({bottom:F,children:O},{classes:J});return new Ae(Y,Z(q({},n??{}),{classes:((s=n==null?void 0:n.classes)!=null?s:"")+" ML__delim-mult"}))}var HB=new Set(["(",")","\\lparen","\\rparen","[","]","\\lbrack","\\rbrack","\\{","\\}","\\lbrace","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd","⌊","⌋","⌈","⌉"]),Sle=new Set(["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","⟮","⟯","⎰","⎱"]),KB=new Set(["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"]),Cle=[0,1.2,1.8,2.4,3];function kle(t,e,i,r){return t===void 0||t==="."?Pu(i,r.classes):(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),HB.has(t)||KB.has(t)?jB(t,e,!1,i,r):Sle.has(t)?VB(t,Cle[e],!1,i,r):null)}var Tle=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Ele=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],Ale=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function Mle(t){return t.type==="small"?"Main-Regular":t.type==="large"?"Size"+t.size+"-Regular":(t.type,"Size4-Regular")}function Dle(t,e,i,r){let n={"-4":0,"-3":1,0:2}[r.mathstyle.sizeDelta];for(let s=n;s<i.length&&i[s].type!=="stack";s++){let a=Oc(t,Mle(i[s]));if(a.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};let o=a.height+a.depth;if(i[s].type==="small"&&(i[s].mathstyle==="scriptscriptstyle"?o*=Math.max(P5[Math.max(1,r.size-2)],r.minFontScale):i[s].mathstyle==="scriptstyle"&&(o*=Math.max(P5[Math.max(1,r.size-1)],r.minFontScale))),o>e)return i[s]}return i[i.length-1]}function dg(t,e,i,r,n,s){if(!e||e.length===0||e===".")return Pu(n);e==="<"||e==="\\lt"?e="\\langle":(e===">"||e==="\\gt")&&(e="\\rangle");let a;KB.has(e)?a=Tle:HB.has(e)?a=Ale:a=Ele;let o=Dle(B2(e),i,a,n),l=new Pt({parent:n,mathstyle:o.mathstyle},s==null?void 0:s.style);return o.type==="small"?wle(e,l,r,Z(q({},s),{type:t})):o.type==="large"?jB(e,o.size,r,l,Z(q({},s),{type:t})):(o.type,VB(e,i,r,l,Z(q({},s),{type:t})))}function ep(t,e,i,r,n,s){if(e===".")return Pu(n,s==null?void 0:s.classes);let a=Ts*n.scalingFactor,o=901,l=5/k0,u=Math.max(i-a,r+a),c=Math.max(u/500*o,2*u-l);return dg(t,e,c,!0,n,s)}function Pu(t,e){let i=new Ae(null,{classes:" ML__nulldelimiter "+(e??""),type:"ignore"});return i.width=t.getRegisterAsEm("nulldelimiterspace"),i.wrap(new Pt({parent:t,mathstyle:"textstyle"}))}var fa=class WB extends ue{constructor(e){var i;super({type:"placeholder",command:"\\placeholder",mode:(i=e==null?void 0:e.mode)!=null?i:"math",style:e==null?void 0:e.style}),this.captureSelection=!0}static fromJson(e){return new WB(e)}toJson(){return super.toJson()}render(e){let i;return this.value=e.placeholderSymbol,typeof e.renderPlaceholder=="function"?i=e.renderPlaceholder(e):i=this.createBox(e),this.caret&&(i.classes+=" ML__placeholder-selected"),i}_serialize(e){return e.skipPlaceholders?"":"\\placeholder{}"}},GB=["matrix","matrix*","pmatrix","pmatrix*","bmatrix","bmatrix*","Bmatrix","Bmatrix*","vmatrix","vmatrix*","Vmatrix","Vmatrix*"],U5=["cases","dcases","rcases"],XB=["align","align*","aligned","gather","gather*","gathered","split"],Lle=["array","subequations","eqnarray"];function Ble(t){return XB.includes(t)||U5.includes(t)||U5.includes(t)||GB.includes(t)||Lle.includes(t)}function YB(t){return GB.includes(t)}function Ple(t){return U5.includes(t)}function Ile(t){return XB.includes(t)}function Rle(t,e,i){let r=0;for(let u of i.columns)"align"in u&&(r+=1);r=Math.max(r,i.minColumns);let n=0,s=[];for(let u of e){n=Math.max(n,Math.min(u.length,r));let c=0;for(;c<u.length;){let d=[],h=Math.min(u.length,c+r);for(;c<h;)d.push(Ole(u[c],t.mode)),c+=1;if(d.length<i.minColumns)for(;d.length<i.minColumns;)d.push([new ue({type:"first",mode:t.mode})]);s.push(d)}}!t.isMultiline&&s.length>0&&s[s.length-1].length===1&&Fle(s[s.length-1][0])&&s.pop();let a=[];for(let u of s){if(u.length!==n)for(let c=u.length;c<n;c++)t.isMultiline?u.push([new ue({type:"first",mode:t.mode})]):u.push([new ue({type:"first",mode:t.mode}),new fa]);a.push(u)}let o=0,l=0;for(let u of a){l=0;for(let c of u){for(let d of c)d.parent=t,d.parentBranch=[o,l];l+=1}o+=1}return t.isDirty=!0,a}function Ole(t,e){return t.length===0?[new ue({type:"first",mode:e})]:t[0].type!=="first"?[new ue({type:"first",mode:e}),...t]:(t.slice(1).some(i=>i.type==="first"),t)}function Fle(t){return t.length===1&&t[0].type==="first"}var Tt=class ZB extends ue{get isMultiline(){let e=this.environmentName;return["lines","multline","multline*","align","split","gather","gathered"].includes(e)}constructor(e,i,r,n={}){var s,a,o,l;if(super({type:"array",isRoot:n.isRoot}),this.environmentName=e,n.columns)n.columns.length===0?this.colFormat=[{align:"l"}]:this.colFormat=[...n.columns];else if(n.minColumns){let u=[];for(let c=0;c<n.minColumns;c++)u.push({align:"l"});this.colFormat=u}else this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}];this.minColumns=(s=n.minColumns)!=null?s:1,this.minRows=(a=n.minRows)!=null?a:1,this.maxRows=(o=n.maxRows)!=null?o:1/0,this._rows=Rle(this,i,{columns:this.colFormat,minColumns:this.minColumns,minRows:this.minRows,maxRows:this.maxRows}),this.rowGaps=r,n.arraycolsep!==void 0&&(this.arraycolsep=n.arraycolsep),this.colSeparationType=n.colSeparationType,n.arraystretch!==void 0&&(this.arraystretch=n.arraystretch),n.mathstyleName&&(this.mathstyleName=n.mathstyleName),n.leftDelim&&(this.leftDelim=n.leftDelim),n.rightDelim&&(this.rightDelim=n.rightDelim),this.classes=(l=n.classes)!=null?l:[]}static fromJson(e){return new ZB(e.environmentName,e.array,e.rowGaps,e)}toJson(){let e=Z(q({},super.toJson()),{environmentName:this.environmentName,array:this._rows.map(i=>i.map(r=>r.map(n=>n.toJson()))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType,minColumns:this.minColumns,minRows:this.minRows,maxRows:this.maxRows});return this.arraystretch!==void 0&&(e.arraystretch=this.arraystretch),this.arraycolsep!==void 0&&(e.arraycolsep=this.arraycolsep),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.isRoot&&(e.isRoot=!0),e.minColumns=this.minColumns,e.minRows=this.minRows,e.maxRows=this.maxRows,this.mathstyleName&&(e.mathstyleName=this.mathstyleName),this.classes.length>0&&(e.classes=this.classes),e}branch(e){var i;if(no(e))return(i=this._rows[e[0]][e[1]])!=null?i:void 0}createBranch(e){var i;return no(e)?(this.isDirty=!0,(i=this.branch(e))!=null?i:[]):[]}get rowCount(){return this._rows.length}get colCount(){return this._rows[0].length}get maxColumns(){return this.colFormat.filter(e=>!!e.align).length}removeBranch(e){if(iu(e))return super.removeBranch(e);let[i,...r]=this.branch(e);return i.type,this._rows[e[0]][e[1]]=void 0,r.forEach(n=>{n.parent=void 0,n.parentBranch=void 0}),this.isDirty=!0,r}get hasChildren(){return this.children.length>0}get children(){let e=[];for(let i of this._rows)for(let r of i)if(r)for(let n of r)e.push(...n.children),e.push(n);return[...e,...super.children]}render(e){var i,r,n,s,a,o;let l=new Pt({parent:e,mathstyle:this.mathstyleName},this.style),u=l.getRegisterAsEm("arrayrulewidth"),c=l.getRegisterAsEm("arraycolsep"),d=l.getRegisterAsEm("doublerulesep"),h=(r=(i=this.arraystretch)!=null?i:l.getRegisterAsNumber("arraystretch"))!=null?r:1,f=typeof this.arraycolsep=="number"?this.arraycolsep:c;this.colSeparationType==="small"&&(f=.2778*(new Pt({parent:e,mathstyle:"scriptstyle"}).scalingFactor/e.scalingFactor));let g=h*Ioe,y=.7*g,C=.3*g,S=0,A=[],T=0,M=this._rows.length;for(let me=0;me<M;++me){let be=this._rows[me];T=Math.max(T,be.length);let ot=new Pt({parent:l,mathstyle:this.mathstyleName},this.style),vt=y/ot.scalingFactor,$e=C/ot.scalingFactor,Je={cells:[],height:0,depth:0,pos:0};for(let Ft of be){let rt=(n=ue.createBox(ot,Ft,{type:"ignore"}))!=null?n:new Ae(null,{type:"ignore"});$e=Math.max($e,rt.depth),vt=Math.max(vt,rt.height),Je.cells.push(rt)}let it=(s=MB(this.rowGaps[me]))!=null?s:0;it>0&&(it+=C,$e=Math.max($e,it),it=0),me<M-1&&!YB(this.environmentName)&&this.environmentName!=="cases"&&this.environmentName!=="array"&&($e+=l.getRegisterAsEm("jot")),Je.height=vt,Je.depth=$e,S+=vt,Je.pos=S,S+=$e+it,A.push(Je)}let D=S/2+Ts,B=[];for(let me=0;me<T;me++){let be=[];for(let ot of A){let vt=ot.cells[me];vt&&(vt.depth=ot.depth,vt.height=ot.height,be.push({box:vt,shift:ot.pos-D}))}be.length>0&&B.push(new zi({individualShift:be}))}let F=[],V=!1,O=!1,U=0,J=!this.leftDelim,{colFormat:Y}=this;for(let me of Y){if("align"in me&&U>=B.length)break;if("align"in me)V?F.push(Dm(2*f)):(O||J)&&F.push(Dm(f)),F.push(new Ae(B[U],{classes:"col-align-"+me.align})),U++,V=!0,O=!1,J=!1;else if("gap"in me){if(typeof me.gap=="number")F.push(Dm(me.gap));else{let be=Nle(e,A,D,me.gap);be&&F.push(be)}V=!1,O=!1,J=!1}else if("separator"in me){let be=new Ae(null,{classes:"ML__vertical-separator"});be.height=S,be.setStyle("height",S,"em"),be.setStyle("border-right",`${u}em ${me.separator} currentColor`),be.setStyle("vertical-align",-(S-D),"em");let ot=0;O?ot=d-u:V&&(ot=f-u),be.left=ot,F.push(be),V=!1,O=!0,J=!1}}V&&!this.rightDelim&&F.push(Dm(f));let ie=new Ae(F,{classes:["ML__mtable",...this.classes].join(" ")});if((!this.leftDelim||this.leftDelim===".")&&(!this.rightDelim||this.rightDelim==="."))return this.caret&&(ie.caret=this.caret),this.bind(e,ie);let ce=ie.height,qe=ie.depth,Me=this.bind(e,new Ae([this.bind(e,ep("open",(a=this.leftDelim)!=null?a:".",ce,qe,l,{isSelected:this.isSelected})),ie,this.bind(e,ep("close",(o=this.rightDelim)!=null?o:".",ce,qe,l,{isSelected:this.isSelected}))],{type:"ord"}));return Me?(Me.setStyle("display","inline-block"),this.caret&&(Me.caret=this.caret),this.bind(e,this.attachSupsub(e,{base:Me}))):null}_serialize(e){var i;let r=[];if(this.environmentName==="lines"?r.push("\\displaylines{"):r.push(`\\begin{${this.environmentName}}`),this.environmentName==="array"){if(r.push("{"),this.colFormat!==void 0)for(let n of this.colFormat)"align"in n&&typeof n.align=="string"?r.push(n.align):"separator"in n&&n.separator==="solid"?r.push("|"):"separator"in n&&n.separator==="dashed"&&r.push(":");r.push("}")}for(let n=0;n<this._rows.length;n++){for(let s=0;s<this._rows[n].length;s++)s>0&&r.push(" & "),r.push(ue.serialize(this._rows[n][s],e));if(n<this._rows.length-1){let s=this.rowGaps[n];s!=null&&s.dimension?r.push(`\\\\[${s.dimension} ${(i=s.unit)!=null?i:"pt"}] `):r.push("\\\\ ")}}return this.environmentName==="lines"?r.push("}"):r.push(`\\end{${this.environmentName}}`),kt(r)}forEachCell(e){for(let i=0;i<this.rowCount;i++)for(let r=0;r<this.colCount;r++)e(this._rows[i][r],i,r)}getCell(e,i){var r;return(r=this._rows[e])==null?void 0:r[i]}setCell(e,i,r){this.type==="array"&&Array.isArray(this._rows)&&this._rows[e][i];for(let s of this._rows[e][i])s.parent=void 0,s.parentBranch=void 0;let n=[new ue({type:"first",mode:this.mode}),...r.filter(s=>s.type!=="first")];this._rows[e][i]=n,Gl(this),this.isDirty=!0}addRowBefore(e){this.type==="array"&&Array.isArray(this._rows),this._rows.splice(e,0,new Array(this.colCount).fill(Mm(this,!this.isMultiline))),Gl(this),this.isDirty=!0}addRowAfter(e){this.type==="array"&&Array.isArray(this._rows),this._rows.splice(e+1,0,new Array(this.colCount).fill(Mm(this,!this.isMultiline))),Gl(this),this.isDirty=!0}removeRow(e){this.type==="array"&&Array.isArray(this._rows)&&this.rowCount>e;let i=this._rows.splice(e,1);for(let r of i)for(let n of r)if(n)for(let s of n)s.parent=void 0,s.parentBranch=void 0;Gl(this),this.isDirty=!0}addColumnBefore(e){this.type==="array"&&Array.isArray(this._rows);for(let i of this._rows)i.splice(e,0,Mm(this));Gl(this),this.isDirty=!0}addColumnAfter(e){this.type==="array"&&Array.isArray(this._rows);for(let i of this._rows)i.splice(e+1,0,Mm(this));Gl(this),this.isDirty=!0}addColumn(){this.addColumnAfter(this.colCount-1)}removeColumn(e){this.type==="array"&&Array.isArray(this._rows)&&this.colCount>e;for(let i of this._rows){let r=i.splice(e,1);for(let n of r)if(n)for(let s of n)s.parent=void 0,s.parentBranch=void 0}Gl(this),this.isDirty=!0}get cells(){let e=[];for(let i of this._rows)for(let r of i)r&&e.push(r.filter(n=>n.type!=="first"));return e}get rows(){return this._rows}};function Mm(t,e=!1){let i=new ue({type:"first",mode:t.mode});i.parent=t;let r=[i];if(e){let n=new fa;n.parent=t,r.push(n)}return r}function Gl(t){for(let e=0;e<t.rowCount;e++)for(let i=0;i<t.colCount;i++){let r=t.getCell(e,i);if(r)for(let n of r)n&&(n.parent=t,n.parentBranch=[e,i])}}function Dm(t){let e=new Ae(null,{classes:"ML__arraycolsep"});return e.width=t,e}function Nle(t,e,i,r){if(!r)return null;let n=[];for(let s of e){let a=ue.createBox(t,r,{type:"ignore"});a&&(a.depth=s.depth,a.height=s.height,n.push({box:a,shift:s.pos-i}))}return new zi({individualShift:n}).wrap(t)}var vl=class JB extends ue{constructor(e){super({mode:e.mode,command:e.command,style:e.style,body:e.body,type:"box"}),this.framecolor=e.framecolor,this.backgroundcolor=e.backgroundcolor,this.padding=e.padding,this.offset=e.offset,this.border=e.border}static fromJson(e){return new JB(e)}toJson(){return Z(q({},super.toJson()),{framecolor:this.framecolor,backgroundcolor:this.backgroundcolor,padding:this.padding,offset:this.offset,border:this.border})}render(e){var i,r,n,s;let a=ue.createBox(e,this.body,{type:"lift"});if(!a)return null;let o=e.toEm((i=this.offset)!=null?i:{dimension:0});a.depth+=o,a.setStyle("display","inline-block"),a.setStyle("position","relative"),a.setStyle("height",Math.floor(100*a.height+a.depth)/100,"em"),a.setStyle("vertical-align",-Math.floor(100*a.height)/100,"em");let l=new Pt({parent:e},this.style),u=l.toEm((r=this.padding)!=null?r:{register:"fboxsep"}),c=new Ae(null,{classes:"ML__box"});c.height=a.height+u,c.depth=a.depth+u,c.setStyle("box-sizing","border-box"),c.setStyle("position","absolute"),c.setStyle("top",-u+.3,"em"),c.setStyle("left",0),c.setStyle("height",c.height+c.depth,"em"),c.setStyle("width","100%"),this.backgroundcolor&&c.setStyle("background-color",(n=l.toColor(this.backgroundcolor))!=null?n:"transparent"),this.framecolor&&c.setStyle("border",`${l.getRegisterAsEm("fboxrule",2)}em solid ${(s=l.toColor(this.framecolor))!=null?s:"black"}`),this.border&&c.setStyle("border",this.border);let d=new Ae([c,a],{type:"lift"});return d.setStyle("display","inline-block"),d.setStyle("position","relative"),d.setStyle("line-height",0),d.height=a.height+u+(o>0?o:0),d.depth=a.depth+u+(o<0?-o:0),d.setStyle("padding-left",u,"em"),d.setStyle("padding-right",u,"em"),d.setStyle("height",Math.floor(100*(a.height+a.depth+2*u+Math.abs(o)))/100,"em"),d.setStyle("margin-top",-u,"em"),d.setStyle("top",Math.floor(100*(a.depth-a.height+2*u-o))/100,"em"),d.setStyle("vertical-align",Math.floor(100*(a.depth+2*u))/100,"em"),this.caret&&(d.caret=this.caret),this.attachSupsub(e,{base:d})}_serialize(e){return e.skipStyles?kt([this.bodyToLatex(e),this.supsubToLatex(e)]):super._serialize(e)}},QB=class eP extends ue{constructor(e,i){var r;super({type:"composition",mode:(r=i==null?void 0:i.mode)!=null?r:"math",value:e})}static fromJson(e){return new eP(e.value,e)}toJson(){return super.toJson()}render(e){let i=new Ae(this.value,{classes:"ML__composition",type:"composition"});return this.bind(e,i),this.caret&&(i.caret=this.caret),i}_serialize(e){return""}},nu=class tP extends ue{constructor(e){super({type:"error",value:e,command:e,mode:"math"}),this.verbatimLatex=e}static fromJson(e){return new tP(e.command)}toJson(){return super.toJson()}render(e){let i=this.createBox(e,{classes:"ML__error"});return this.caret&&(i.caret=this.caret),i}},iP=class rP extends ue{constructor(e,i){super({type:"group",mode:i}),this.body=e,this.boxType=e.length>1?"ord":"ignore",this.skipBoundary=!0,this.displayContainsHighlight=!1,e&&e.length===1&&e[0].command===","&&(this.captureSelection=!0)}static fromJson(e){return new rP(e.body,e.mode)}render(e){let i=ue.createBox(e,this.body,{type:this.boxType});return i?(this.caret&&(i.caret=this.caret),this.bind(e,i)):null}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let i=br(this.command,this.mode);return i!=null&&i.serialize?i.serialize(this,e):`{${this.bodyToLatex(e)}}`}},bi=class nP extends ue{constructor(e,i,r){super({type:"leftright",style:r.style,displayContainsHighlight:!0}),this.variant=e,this.body=i,this.leftDelim=r.leftDelim,this.rightDelim=r.rightDelim}static fromJson(e){var i;return new nP((i=e.variant)!=null?i:"",e.body,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),e}_serialize(e){var i,r;let n=this.matchingRightDelim();return this.variant==="left...right"?kt(["\\left",(i=this.leftDelim)!=null?i:".",this.bodyToLatex(e),"\\right",n]):this.variant==="mleft...mright"?kt(["\\mleft",(r=this.leftDelim)!=null?r:".",this.bodyToLatex(e),"\\mright",n]):kt([!this.leftDelim||this.leftDelim==="."?"":this.leftDelim,this.bodyToLatex(e),n])}matchingRightDelim(){var e,i;if(this.rightDelim&&this.rightDelim!=="?")return this.rightDelim;let r=(e=this.leftDelim)!=null?e:".";return(i=L2[r])!=null?i:r}render(e){var i,r;let n=new Pt({parent:e},this.style);this.body;let s=new Pt({parent:e,mathstyle:"textstyle"},this.style),a=(i=ue.createBox(n,this.body,{type:"inner"}))!=null?i:new Ae(null,{type:"inner"}),o=a.height/s.scalingFactor,l=a.depth/s.scalingFactor,u=[];if(this.leftDelim&&u.push(this.bind(s,ep("open",this.leftDelim,o,l,s,{isSelected:this.isSelected,classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),a&&(sP(a.children,this,n,o,l),u.push(a)),this.rightDelim){let f=this.containsCaret?" ML__contains-caret":"",g=this.rightDelim;g==="?"&&(n.smartFence?(g=this.matchingRightDelim(),f+=" ML__smart-fence__close"):g="."),u.push(this.bind(s,ep("close",g,o,l,s,{isSelected:this.isSelected,classes:f+" ML__close",mode:this.mode,style:this.style})))}let c=this.variant==="mleft...mright",d=this.leftSibling;d&&(!c&&d.isFunction&&(c=!0),!c&&d.type==="subsup"&&(r=d.leftSibling)!=null&&r.isFunction&&(c=!0));let h=new Ae(u,{type:c?"close":"inner",classes:"ML__left-right"});return h.setStyle("margin-top",`${-a.depth}em`),h.setStyle("height",`${a.height+a.depth}em`),this.caret&&(h.caret=this.caret),this.bind(n,h.wrap(n))}};function sP(t,e,i,r,n){if(t)for(let s=0;s<t.length;s++){let a=t[s];a.type==="middle"?(t[s]=e.bind(i,ep("inner",a.value,r,n,i,{isSelected:e.isSelected})),t[s].caret=a.caret,t[s].isSelected=a.isSelected,t[s].cssId=a.cssId,t[s].htmlData=a.htmlData,t[s].htmlStyle=a.htmlStyle,t[s].attributes=a.attributes,t[s].cssProperties=a.cssProperties):a.children&&sP(a.children,e,i,r,n)}}var aP=class oP extends ue{constructor(e,i){var r;super({type:"macro",command:e,style:i.style}),this.body=i.body,i.captureSelection===void 0?i.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=i.captureSelection,this.macroArgs=i.args,this.expand=(r=i.expand)!=null?r:!1}static fromJson(e){return new oP(e.command,e)}toJson(){let e=super.toJson();return this.expand&&(e.expand=!0),this.captureSelection!==void 0&&(e.captureSelection=this.captureSelection),this.macroArgs&&(e.args=this.macroArgs),e}_serialize(e){var i;return e.expandMacro&&this.expand?this.bodyToLatex(e):this.command+((i=this.macroArgs)!=null?i:"")}applyStyle(e,i){let r={};e.color&&(r.color=e.color),e.backgroundColor&&(r.backgroundColor=e.backgroundColor),super.applyStyle(r,i)}render(e){let i=ue.createBox(e,this.body,{type:"lift"});return i?(this.caret&&(i.caret=this.caret),this.bind(e,i)):null}},$le=class lP extends ue{constructor(){super({type:"macro-argument"})}static fromJson(e){return new lP}toJson(){return super.toJson()}_serialize(e){return""}render(e){return null}},uP=class cP extends ue{constructor(e,i,r=!1,n,s){var a;super({type:"prompt",mode:(a=s==null?void 0:s.mode)!=null?a:"math",style:s==null?void 0:s.style,command:"\\placeholder"}),this.body=n,this.correctness=i,this.placeholderId=e,this.locked=r,this.captureSelection=this.locked}static fromJson(e){return new cP(e.placeholderId,e.correctness,e.locked,e.body,e)}toJson(){let e=super.toJson();return this.placeholderId&&(e.placeholderId=this.placeholderId),this.body||delete e.body,this.body&&(e.body=this.body.filter(i=>i.type!=="first").map(i=>i.toJson())),this.correctness&&(e.correctness=this.correctness),e.locked=this.locked,e}render(e){let i=new Pt({parent:e}),r=i.getRegisterAsEm("fboxsep"),n=r,s=r,a=ue.createBox(e,this.body);if(!a)return null;a.height||(a.height=i.metrics.xHeight),a.setStyle("vertical-align",-a.height,"em"),this.correctness==="correct"?a.setStyle("color","var(--correct-color, var(--ML__correct-color))"):this.correctness==="incorrect"&&a.setStyle("color","var(--incorrect-color, var(--ML__incorrect-color))");let o=new Ae(a,{type:"ord"});o.setStyle("display","inline-block"),o.setStyle("height",a.height+a.depth,"em"),o.setStyle("vertical-align",-s,"em");let l="ML__prompt ";this.locked?l+=" ML__lockedPromptBox ":l+=" ML__editablePromptBox ",this.correctness==="correct"?l+=" ML__correctPromptBox ":this.correctness==="incorrect"&&(l+=" ML__incorrectPromptBox "),this.containsCaret&&(l+=" ML__focusedPromptBox ");let u=new Ae(null,{classes:l,attributes:{part:"prompt"}});u.height=o.height+s,u.depth=o.depth+s,u.width=o.width+2*n,u.setStyle("position","absolute"),u.setStyle("height",`calc(${o.height+o.depth+2*s}em - 2px)`),n===0&&u.setStyle("width","100%"),n!==0&&(u.setStyle("width",`calc(100% + ${2*n}em)`),u.setStyle("top",r,"em"),u.setStyle("left",-n,"em")),(!this.body||this.body.length===1)&&(u.width=3*n,u.setStyle("width",`calc(100% + ${3*n}em)`),u.setStyle("left",-1.5*n,"em"));let c="";this.correctness==="incorrect"&&(c+='<line x1="3%"  y1="97%" x2="97%" y2="3%" stroke-width="0.5" stroke="var(--incorrect-color, var(--ML__incorrect-color))" stroke-linecap="round" />'),c&&(u.svgOverlay=c);let d=new Ae([u,o],{classes:"ML__prompt-atom"});return o.setStyle("line-height",1),d.setStyle("position","relative"),d.setStyle("display","inline-block"),d.setStyle("line-height",0),d.height=o.height+s+.2,d.depth=o.depth+s,d.left=n,d.right=n,d.setStyle("height",o.height+s,"em"),d.setStyle("top",o.depth-o.height,"em"),d.setStyle("vertical-align",o.depth+s,"em"),d.setStyle("margin-left",.5,"em"),d.setStyle("margin-right",.5,"em"),this.caret&&(d.caret=this.caret),this.bind(i,this.attachSupsub(e,{base:d}))}_serialize(e){var i;let r=(i=this.bodyToLatex(e))!=null?i:"";if(e.skipPlaceholders)return r;let n="\\placeholder";return this.placeholderId&&(n+=`[${this.placeholderId}]`),this.correctness==="correct"?n+="[correct]":this.correctness==="incorrect"&&(n+="[incorrect]"),this.locked&&(n+="[locked]"),ti(n,r)}},P2=class dP extends ue{constructor(e){super({type:"subsup",style:e==null?void 0:e.style}),this.subsupPlacement="auto"}get children(){if(!this._children){let e=[],i=this.branch("subscript");if(i)for(let n of i)e.push(...n.children),e.push(n);let r=this.branch("superscript");if(r)for(let n of r)e.push(...n.children),e.push(n);this._children=e}return this._children}static fromJson(e){let i=new dP(e);for(let r of T0)e[r]&&i.setChildren(e[r],r);return i}render(e){var i;let r=new Pt({parent:e,isPhantom:!0}),n=this.leftSibling,s=(i=n.render(r))!=null?i:new Ae(null),a=new Ae(null);return a.height=s.height,a.depth=s.depth,this.attachSupsub(e,{base:a,isCharacterBox:n.isCharacterBox(),type:"ignore"})}_serialize(e){return this.supsubToLatex(e)}};function _c(t){return t?!/^(<$$>|<$>|<space>|<{>|<}>|#[0-9\?]|\\.+)$/.test(t):!1}var hP=class{constructor(t,e,i){this.errors=[],this.index=0,this.endCount=0;var r,n,s,a;i!=null||(i={}),this.tokens=t,this.context=e instanceof Pt&&!(i!=null&&i.parseMode)&&!i.mathstyle?e:new Pt({from:e,mathstyle:i.mathstyle},i.style),this.args=(r=i.args)!=null?r:void 0,this.smartFence=this.context.smartFence,this.parsingContext={parent:void 0,mathlist:[],style:(n=i.style)!=null?n:{},parseMode:(s=i.parseMode)!=null?s:"math",mathstyle:(a=i.mathstyle)!=null?a:"displaystyle",tabular:!1}}beginContext(t){var e,i,r,n,s,a;if(t!=null&&t.root){this.parsingContext={parent:this.parsingContext.parent,mathlist:[],style:{},parseMode:(e=t==null?void 0:t.mode)!=null?e:"math",mathstyle:(i=t==null?void 0:t.mathstyle)!=null?i:"displaystyle",tabular:(r=t==null?void 0:t.tabular)!=null?r:!1};return}let o=this.parsingContext,l={parent:o,mathlist:[],style:q({},o.style),parseMode:(n=t==null?void 0:t.mode)!=null?n:o.parseMode,mathstyle:(s=t==null?void 0:t.mathstyle)!=null?s:o.mathstyle,tabular:(a=t==null?void 0:t.tabular)!=null?a:!1};this.parsingContext=l}endContext(){this.parsingContext=this.parsingContext.parent}onError(t){this.errors.push(q({before:Kl(this.tokens.slice(this.index,this.index+10)),after:Kl(this.tokens.slice(Math.max(0,this.index-10),this.index))},t))}get mathlist(){return this.parsingContext.mathlist}set mathlist(t){this.parsingContext.mathlist=t}get parseMode(){return this.parsingContext.parseMode}set parseMode(t){this.parsingContext.parseMode=t}get tabularMode(){return this.parsingContext.tabular}get style(){let t=this.parsingContext;for(;t;){if(t.style)return q({},t.style);t=t.parent}return{}}set style(t){this.parsingContext.style=t}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}next(){this.index+=1}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}expandUnicode(){if(!this.peek()||this.parseMode!=="math")return;let t=Coe(this.peek());t&&this.tokens.splice(this.index,1,...Qh(t))}match(t){return this.tokens[this.index]===t?(this.index++,!0):!1}lastSubsupAtom(){let t;return this.mathlist.length>0&&(t=this.mathlist[this.mathlist.length-1],t.type==="subsup"||t.subsupPlacement!==void 0)||(t=new P2({style:this.style}),this.mathlist.push(t)),t}hasPattern(t){return t.test(this.tokens[this.index])}hasInfixCommand(){var t;let{index:e}=this;if(e<this.tokens.length&&this.tokens[e].startsWith("\\")){let i=br(this.tokens[e],this.parseMode);return!i||i.definitionType==="symbol"||i.ifMode&&!i.ifMode.includes(this.parseMode)?!1:(t=i.infix)!=null?t:!1}return!1}matchColumnSeparator(){return!this.tabularMode||this.peek()!=="&"?!1:(this.index++,!0)}matchRowSeparator(){if(!this.tabularMode)return!1;let t=this.peek();return t!=="\\\\"&&t!=="\\cr"&&t!=="\\tabularnewline"?!1:(this.index++,!0)}placeholder(){var t;let e=(t=this.args)==null?void 0:t.call(this,"?");return e?ts(e,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new fa({mode:this.parseMode,style:this.style})]}skipWhitespace(){for(;this.match("<space>"););}skipUntilToken(t){let e=this.tokens[this.index];for(;e&&e!==t;)e=this.tokens[++this.index];e===t&&this.index++}skipFiller(){for(;this.match("\\relax")||this.match("<space>"););}matchKeyword(t){let e=this.index,i=this.end(),r="";for(;!i;){let s=this.get();_c(s)?(r+=s,i=this.end()||r.length>=t.length):i=!0}let n=t.toUpperCase()===r.toUpperCase();return n||(this.index=e),n}scanString(){let t="";for(;!this.end();){let e=this.peek();if(e==="]")return t;if(e==="<space>")t+=" ";else if(e.startsWith("\\"))this.onError({code:"unexpected-command-in-string"}),t+=e.substring(1);else if(_c(e))t+=e;else return t;this.next()}return t}scanBalancedString(){let t="",e=this.end(),i=1;for(;!e;){let r=this.get();r==="<space>"?t+=" ":r==="<{>"?(t+="{",i+=1):r==="<}>"?(i-=1,i>0?t+="}":this.index-=1):r==="<$>"?t+="$":r==="<$$>"?t+="$$":t+=r,e=i===0||this.end()}return t}scanLiteralGroup(){var t;if(!this.match("<{>"))return"";let e="",i=1;for(;i>0&&!this.end();){let r=this.get();r==="<}>"?(i-=1,i>0&&(e+="}")):r==="<{>"?(i+=1,e+="{"):(/\\[a-zA-Z]+$/.test(e)&&/^[a-zA-Z]/.test(r)&&(e+=" "),e+=(t={"<space>":" ","<$$>":"$$","<$>":"$"}[r])!=null?t:r)}return e}scanNumber(t=!0){var e,i;let r=!1,n=this.peek();for(;n==="<space>"||n==="+"||n==="-";)this.get(),n==="-"&&(r=!r),n=this.peek();t=!!t;let s=10,a=/\d/;if(this.match("'"))s=8,a=/[0-7]/,t=!0;else if(this.match('"'))s=16,a=/[\dA-F]/,t=!0;else if(this.match("x"))s=16,a=/[\dA-Fa-f]/,t=!0;else if(this.match("`"))return n=this.get(),n?n.length===2&&n.startsWith("\\")?{number:(r?-1:1)*((e=n.codePointAt(1))!=null?e:0),base:"alpha"}:{number:(r?-1:1)*((i=n.codePointAt(0))!=null?i:0),base:"alpha"}:null;let o="";for(;this.hasPattern(a);)o+=this.get();if(!t&&(this.match(".")||this.match(",")))for(o+=".";this.hasPattern(a);)o+=this.get();let l=t?Number.parseInt(o,s):Number.parseFloat(o);return Number.isNaN(l)?null:{number:r?-l:l,base:s===16?"hexadecimal":s===8?"octal":"decimal"}}scanRegister(){var t;let e=this.index,i=this.scanNumber(!1);if(this.skipWhitespace(),this.match("\\relax"))return i;let r=!1;if(i===null)for(;;){let s=this.peek();if(s==="-")r=!r;else if(s!=="+")break;this.next(),this.skipWhitespace()}if(this.match("\\global")){this.skipWhitespace();let s=this.get();return s.startsWith("\\")?i?{register:s,global:!0,factor:(r?-1:1)*i.number}:r?{register:s,global:!0,factor:-1}:{register:s,global:!0}:(this.index=e,null)}let n=this.get();return n!=null&&n.startsWith("\\")?(n=n.substring(1),this.context.registers[n]?!r||i!==null?{register:n,factor:(r?-1:1)*((t=i==null?void 0:i.number)!=null?t:1)}:{register:n}:(this.index=e,null)):(this.index=e,null)}scanValue(){let t=this.scanRegister();if(t)return t;let e=this.index,i=this.scanGlueOrDimen();if(i&&("unit"in i||"glue"in i&&"unit"in i.glue))return i;this.index=e;let r=this.scanNumber();if(r)return r;if(this.end()||!_c(this.peek()))return null;let n=this.scanString();return n.length>0?{string:n}:null}scanDimen(){let t=this.scanNumber(!1);if(t===null)return null;let e=t.number;this.skipWhitespace(),this.matchKeyword("true"),this.skipWhitespace();let i;return this.matchKeyword("pt")?i="pt":this.matchKeyword("mm")?i="mm":this.matchKeyword("cm")?i="cm":this.matchKeyword("ex")?i="ex":this.matchKeyword("px")?i="px":this.matchKeyword("em")?i="em":this.matchKeyword("bp")?i="bp":this.matchKeyword("dd")?i="dd":this.matchKeyword("pc")?i="pc":this.matchKeyword("in")?i="in":this.matchKeyword("mu")&&(i="mu"),i?{dimension:e,unit:i}:{dimension:e}}scanGlueOrDimen(){let t=this.scanDimen();if(t===null)return null;if(this.skipWhitespace(),this.match("\\relax"))return t;let e={glue:t};if(this.matchKeyword("plus")){let i=this.scanDimen();if(i)e.grow=i;else return e}if(this.skipWhitespace(),this.match("\\relax"))return e;if(this.skipWhitespace(),this.matchKeyword("minus")){let i=this.scanDimen();if(i)e.shrink=i;else return e}return!e.grow&&!e.shrink?t:e}scanColspec(){this.skipWhitespace();let t=[];for(;!this.end()&&!(this.peek()==="<}>"||this.peek()==="]");){let e=this.get();e==="c"||e==="r"||e==="l"?t.push({align:e}):e==="|"?t.push({separator:"solid"}):e===":"?t.push({separator:"dashed"}):e==="@"&&(this.match("<{>")&&(this.beginContext({mode:"math"}),t.push({gap:this.scan(i=>i==="<}>")}),this.endContext()),this.match("<}>")||this.onError({code:"unbalanced-braces"}))}return t}scanModeSet(){let t;if(this.match("\\(")&&(t="textstyle"),!t&&this.match("\\[")&&(t="displaystyle"),!t)return null;this.beginContext({mode:"math",mathstyle:t});let e=this.scan(i=>i===(t==="displaystyle"?"\\]":"\\)"));return this.match(t==="displaystyle"?"\\]":"\\)")||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),e}scanModeShift(){let t="";if(this.match("<$>")&&(t="<$>"),!t&&this.match("<$$>")&&(t="<$$>"),!t)return null;this.beginContext({mode:"math",mathstyle:t==="<$>"?"textstyle":"displaystyle"});let e=this.scan(i=>i===t);return this.match(t)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),e}scanEnvironment(){if(!this.match("\\begin"))return null;let t=this.scanArgument("string");if(!t)return null;let e=Doe(t);if(!e)return this.onError({code:"unknown-environment",arg:t}),null;let i=[];if(e.params)for(let o of e.params)if(o.isOptional)i.push(this.scanOptionalArgument(o.type));else{let l=this.scanArgument(o.type);l||this.onError({code:"missing-argument",arg:t}),i.push(l)}this.beginContext({tabular:e.tabular,root:e.rootOnly});let r=[],n=[],s=[],a=!1;do if(this.end()&&(this.onError({code:"unbalanced-environment",arg:t}),a=!0),!a&&this.match("\\end")&&(this.scanArgument("string")!==t&&this.onError({code:"unbalanced-environment",arg:t}),a=!0),!a)if(this.matchColumnSeparator())s.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){s.push(this.mathlist),this.mathlist=[];let o=null;this.skipWhitespace(),this.match("[")&&(o=this.scanDimen(),this.skipWhitespace(),this.match("]")),n.push(o??{dimension:0}),r.push(s),s=[]}else this.mathlist.push(...this.scan(o=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline"].includes(o)));while(!a);return s.push(this.mathlist),s.length>0&&r.push(s),this.endContext(),e.rootOnly&&(this.index=this.tokens.length),e.createAtom(t,r,n,i,this.context.maxMatrixCols)}scanExpression(){let t=this.mathlist;if(this.mathlist=[],this.parseExpression()){let e=this.mathlist;return this.mathlist=t,e}return this.mathlist=t,null}scan(t){this.beginContext(),t||(t=a=>a==="<}>");let e="",i=null,r=[],n=null;for(;!this.end()&&!t(this.peek());)this.hasInfixCommand()&&!e?(e=this.get(),i=br(e,"math"),i&&(r=this.scanArguments(i)[1]),n=this.mathlist,this.mathlist=[]):this.parseExpression();let s;return e?(r.unshift(this.mathlist),n&&r.unshift(n),s=[i.createAtom({command:e,args:r,style:this.style,mode:this.parseMode})]):s=this.mathlist,this.endContext(),s}scanGroup(){let t=this.index;if(!this.match("<{>"))return null;let e=this.scan(r=>r==="<}>");if(this.match("<}>")||this.onError({code:"unbalanced-braces"}),e.length===1&&e[0].type==="placeholder")return e[0];let i=new iP(e,this.parseMode);return i.verbatimLatex=Kl(this.tokens.slice(t,this.index)),i}scanSmartFence(){if(this.skipWhitespace(),!this.match("("))return null;this.beginContext();let t=1;for(;!this.end()&&t!==0;)this.match("(")&&(t+=1),this.match(")")&&(t-=1),t!==0&&this.parseExpression();let e=new bi("",this.mathlist,{leftDelim:"(",rightDelim:t===0?")":"?"});return this.endContext(),e}scanDelim(){this.skipWhitespace();let t=this.peek();if(!t)return this.onError({code:"unexpected-end-of-string"}),null;if(!_c(t)&&!t.startsWith("\\"))return null;this.next();let e=br(t,"math");return e?e.definitionType==="function"&&e.ifMode&&!e.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:t}),null):e.definitionType==="symbol"&&(e.type==="mopen"||e.type==="mclose")||/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(t)?t:(this.onError({code:"unexpected-delimiter",arg:t}),null):(this.onError({code:"unknown-command",arg:t}),null)}scanLeftRight(){var t;if(this.match("\\right"))return this.onError({code:"unbalanced-braces"}),new nu("\\right");if(this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),new nu("\\mright");let e="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;e="\\mright"}let i=this.scanDelim();if(!i)return this.onError({code:"unexpected-delimiter"}),new nu(e==="\\right"?"\\left":"\\mleft");for(this.beginContext();!this.end()&&!this.match(e);)this.parseExpression();let r=this.mathlist;this.endContext();let n=(t=this.scanDelim())!=null?t:".";return new bi(e==="\\right"?"left...right":"mleft...mright",r,{leftDelim:i,rightDelim:n,style:this.style})}parseSupSub(){if(this.parseMode!=="math")return!1;let t=this.peek();if(t!=="^"&&t!=="_"&&t!=="'")return!1;let e=this.lastSubsupAtom();for(;t==="^"||t==="_"||t==="'";)this.match("'")?this.match("'")?e.addChild(new ue({type:"mord",command:"\\doubleprime",mode:"math",value:"′′"}),"superscript"):e.addChild(new ue({type:"mord",command:"\\prime",mode:"math",value:"′"}),"superscript"):(this.match("^")||this.match("_"))&&e.addChildren(Ne(this.scanArgument("expression")),t==="_"?"subscript":"superscript"),t=this.peek();return!0}parseLimits(){if(this.parseMode!=="math")return!1;let t=this.match("\\limits"),e=!t&&this.match("\\nolimits"),i=!e&&!t&&this.match("\\displaylimits");if(!t&&!e&&!i)return!1;let r=this.mathlist.length>0?this.mathlist[this.mathlist.length-1]:null;return r===null?!1:(r.explicitSubsupPlacement=!0,t&&(r.subsupPlacement="over-under"),e&&(r.subsupPlacement="adjacent"),i&&(r.subsupPlacement="auto"),!0)}scanArguments(t){if(!(t!=null&&t.params))return[void 0,[]];let e,i=[],r=t.infix?2:0;for(;r<t.params.length;){let n=t.params[r];n.type==="rest"?i.push(this.scan(s=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(s))):n.isOptional?i.push(this.scanOptionalArgument(n.type)):n.type.endsWith("*")?e=n.type.slice(0,-1):i.push(this.scanArgument(n.type)),r+=1}return[e,i]}scanSymbolOrLiteral(){let t=this.peek();if(!t)return null;this.next();let e;if(_c(t)){let i=Mn.createAtom(this.parseMode,t,q({},this.style));return i?[i]:null}if(e=this.scanMacro(t),e)return[e];if(t.startsWith("\\")){let i=br(t,this.parseMode);if(!i)return this.onError({code:"unknown-command",arg:t}),[new nu(t)];if(i.definitionType==="symbol"){let r=q({},this.style);i.variant&&(r.variant=i.variant),e=new ue({type:i.type,command:t,style:r,value:String.fromCodePoint(i.codepoint),mode:this.parseMode,verbatimLatex:t})}else{if(i.applyMode||i.applyStyle||i.infix)return this.onError({code:"invalid-command",arg:t}),[new nu(t)];i.createAtom&&(e=i.createAtom({command:t,args:[],style:this.style,mode:this.parseMode}))}}return e?[e]:null}scanArgument(t){var e;this.skipFiller();let i=this.parseMode;if(t==="auto"&&(t=i),!this.match("<{>")){if(t==="string")return this.scanString();if(t==="value")return this.scanValue();if(t==="delim")return(e=this.scanDelim())!=null?e:".";if(t==="expression")return this.scanExpression();if(t==="math"){t!==i&&this.beginContext({mode:"math"});let n=this.scanSymbolOrLiteral();return t!==i&&this.endContext(),n}if(t==="text"){t!==i&&this.beginContext({mode:"text"});let n=this.scanSymbolOrLiteral();return t!==i&&this.endContext(),n}return t==="balanced-string"?null:t==="rest"?this.scan(n=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(n)):null}if(t==="text"){this.beginContext({mode:"text"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let n=this.mathlist;return this.endContext(),{group:n}}if(t==="math"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let n=this.mathlist;return this.endContext(),{group:n}}let r=null;if(t==="expression"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let n=this.mathlist;return this.endContext(),{group:n}}return t==="string"?r=this.scanString():t==="balanced-string"?r=this.scanBalancedString():t==="colspec"?r=this.scanColspec():t==="value"&&(r=this.scanValue()),this.skipUntilToken("<}>"),r}scanOptionalArgument(t){if(t=t==="auto"?this.parseMode:t,this.skipFiller(),!this.match("["))return null;let e=null;for(;!this.end()&&!this.match("]");)if(t==="string")e=this.scanString();else if(t==="value")e=this.scanValue();else if(t==="colspec")e=this.scanColspec();else if(t==="bbox"){let i={},r=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let n of r){let s=n.match(/^\s*([\d.]+)\s*([a-z]{2})/);if(s)i.padding={dimension:parseInt(s[1]),unit:s[2]};else{let a=n.match(/^\s*border\s*:\s*(.*)/);a?i.border=a[1]:i.backgroundcolor={string:n}}}e=i}else t==="math"&&(this.beginContext({mode:"math"}),e=this.mathlist.concat(this.scan(i=>i==="]")),this.endContext());return e}scanSymbolOrCommand(t){var e,i,r;if(t==="\\placeholder"){let o=this.scanOptionalArgument("string"),l=this.scanOptionalArgument("math"),u=ue.serialize(l,{defaultMode:"math"}),c=[],d;!d&&u==="correct"?d="correct":!d&&u==="incorrect"?d="incorrect":u!==""&&(c=l);let h=this.scanOptionalArgument("string")==="locked",f=this.scanArgument("auto"),g;return f&&Array.isArray(f)&&f.length>0?g=f:f&&typeof f=="object"&&"group"in f?g=f.group:g=c,o?[new uP(o,d,h,g??c,{mode:this.parseMode,style:this.style})]:[new fa({mode:this.parseMode,style:this.style})]}if(t==="\\renewcommand"||t==="\\newcommand"||t==="\\providecommand"||t==="\\def"){let o=this.index,l=this.scanLiteralGroup()||this.next();if(!l)return null;if(this.context.registers[l.substring(1)]){let u=this.scanArgument("string");u!==null&&(this.context.registers[l.substring(1)]=u);let c=kt([t,Kl(this.tokens.slice(o,this.index))]);return[new ue({type:"text",value:"",verbatimLatex:c})]}}let n=this.scanMacro(t);if(n)return[n];let s=br(t,this.parseMode);if(!s)return this.parseMode==="text"?(/[a-zA-Z]/.test((e=this.peek())!=null?e:"")&&(t+=" "),[...t].map(o=>new ue({type:"text",value:o,mode:"text",style:this.style}))):(this.onError({code:"unknown-command",arg:t}),[new nu(t)]);let a=this.index;if(s.definitionType==="symbol"){let o=q({},this.style);s.variant&&(o.variant=s.variant),n=new ue({type:s.type,command:t,style:o,value:String.fromCodePoint(s.codepoint),mode:this.parseMode})}else{if(s.ifMode&&!s.ifMode.includes(this.parseMode))return[];let o=this.parseMode;s.applyMode&&(this.parseMode=s.applyMode);let l,u=[];if(s.parse?u=s.parse(this):[l,u]=this.scanArguments(s),this.parseMode=o,s.applyMode&&!s.applyStyle&&!s.createAtom)return Ne(u[0]);if(s.infix)return this.onError({code:"too-many-infix-commands",arg:t}),null;if(typeof s.createAtom=="function")n=s.createAtom({command:t,args:u,style:this.style,mode:this.parseMode}),l&&(n.body=Ne(this.scanArgument(l)));else if(typeof s.applyStyle=="function"){let c=s.applyStyle(this.style,t,u,this.context),d=this.parseMode;if(s.applyMode&&(this.parseMode=s.applyMode),l){let h=this.style;this.style=c;let f=this.scanArgument(l);return this.style=h,this.parseMode=d,Ne(f)}this.style=c}else n=new ue({type:"mord",command:(i=s.command)!=null?i:t,style:q({},this.style),value:t,mode:(r=s.applyMode)!=null?r:this.parseMode})}if(!n)return null;if(n instanceof ue&&n.verbatimLatex===void 0&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(t)){let o=kt([t,Kl(this.tokens.slice(a,this.index))]);o&&(n.verbatimLatex=o)}if(n.verbatimLatex===null&&(n.verbatimLatex=void 0),n.isFunction&&this.smartFence){let o=this.scanSmartFence();if(o)return[n,o]}return[n]}scanSymbolCommandOrLiteral(){this.expandUnicode();let t=this.get();if(!t)return null;if(_c(t)){let e=Mn.createAtom(this.parseMode,t,q({},this.style));if(!e)return null;if(e.isFunction&&this.smartFence){let i=this.scanSmartFence();if(i)return[e,i]}return[e]}return t.startsWith("\\")?this.scanSymbolOrCommand(t):t==="<space>"?this.parseMode==="text"?[new Y0(" "," ",this.style)]:null:(t==="<}>"?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:t}),null)}scanMacro(t){var e;let i=this.context.getMacro(t);if(!i)return null;let r=this.index,n=i.args,s={"?":(e=this.args)==null?void 0:e.call(this,"?")};for(let a=1;a<=n;a++){let o=this.scanLiteralGroup();if(!o){let l=this.index;this.scanExpression(),o=Kl(this.tokens.slice(l,this.index))}s[a]=o}return new aP(t,{expand:i.expand,captureSelection:i.captureSelection,args:r===this.index?null:Kl(this.tokens.slice(r,this.index)),style:this.parsingContext.style,body:ts(i.def,{context:this.context,parseMode:this.parseMode,args:a=>s[a],mathstyle:this.parsingContext.mathstyle,style:this.parsingContext.style})})}parseExpression(){var t,e,i,r;let n=(r=(i=(e=(t=this.scanEnvironment())!=null?t:this.scanModeShift())!=null?e:this.scanModeSet())!=null?i:this.scanGroup())!=null?r:this.scanLeftRight();if(n===null){if(this.parseSupSub()||this.parseLimits())return!0;n=this.scanSymbolCommandOrLiteral()}return n?(mr(n)?this.mathlist.push(...n):this.mathlist.push(n),!0):!1}};function ts(t,e){var i,r,n,s;let a=(i=e==null?void 0:e.args)!=null?i:void 0,o=new hP(Qh(t,a),e==null?void 0:e.context,{args:a,mathstyle:(r=e==null?void 0:e.mathstyle)!=null?r:"displaystyle",parseMode:(n=e==null?void 0:e.parseMode)!=null?n:"math",style:(s=e==null?void 0:e.style)!=null?s:{}}),l=[];for(;!o.end();)l.push(...o.scan(()=>!1));return l}function zle(t,e){var i;let r=new hP(Qh(t,null),e==null?void 0:e.context,{mathstyle:"displaystyle",parseMode:(i=e==null?void 0:e.parseMode)!=null?i:"math"});for(;!r.end();)r.scan();return r.errors}var pP=class fP extends ue{constructor(e,i){super({type:"chem"},{command:e,mode:"math"});let r=ui.go(we.go(i,e==="\\pu"?"pu":"ce"),!1);this.body=ts(r),this._verbatimLatex=e+"{"+i+"}",this.arg=i,this.captureSelection=!0}static fromJson(e){return new fP(e.command,e.arg)}set verbatimLatex(e){}get verbatimLatex(){return this._verbatimLatex}toJson(){return Z(q({},super.toJson()),{arg:this.arg})}render(e){let i=ue.createBox(e,this.body,{type:"inner"});return this.caret&&(i.caret=this.caret),this.bind(e,i)}_serialize(e){return this.verbatimLatex,this.verbatimLatex}};fe(["ce","pu"],"{chemformula:balanced-string}",{createAtom:t=>{var e;return new pP(t.command,(e=t.args[0])!=null?e:"")}});var we={go:function(t,e){if(!t)return[];e===void 0&&(e="ce");var i="0",r={};r.parenthesisLevel=0,t=t.replace(/\n/g," "),t=t.replace(/[\u2212\u2013\u2014\u2010]/g,"-"),t=t.replace(/[\u2026]/g,"...");for(var n,s=10,a=[];;){n!==t?(s=10,n=t):s--;var o=we.stateMachines[e],l=o.transitions[i]||o.transitions["*"];e:for(var u=0;u<l.length;u++){var c=we.patterns.match_(l[u].pattern,t);if(c){for(var d=l[u].task,h=0;h<d.action_.length;h++){var f;if(o.actions[d.action_[h].type_])f=o.actions[d.action_[h].type_](r,c.match_,d.action_[h].option);else if(we.actions[d.action_[h].type_])f=we.actions[d.action_[h].type_](r,c.match_,d.action_[h].option);else throw["MhchemBugA","mhchem bug A. Please report. ("+d.action_[h].type_+")"];we.concatArray(a,f)}if(i=d.nextState||i,t.length>0){if(d.revisit||(t=c.remainder),!d.toContinue)break e}else return a}}if(s<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(t,e){if(e)if(Object.prototype.toString.call(e)==="[object Array]")for(var i=0;i<e.length;i++)t.push(e[i]);else t.push(e)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:(?:([eE])|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"(-)(9)^(-9)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"state of aggregation $":function(t){var e=we.patterns.findObserveGroups(t,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(e&&e.remainder.match(/^($|[\s,;\)\]\}])/))return e;var i=t.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return i?{match_:i[0],remainder:t.substr(i[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(t){return we.patterns.findObserveGroups(t,"^{","","","}")},"^($...$)":function(t){return we.patterns.findObserveGroups(t,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(t){return we.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(t){return we.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(t){return we.patterns.findObserveGroups(t,"_{","","","}")},"_($...$)":function(t){return we.patterns.findObserveGroups(t,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(t){return we.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(t){return we.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(t){return we.patterns.findObserveGroups(t,"","{","}","")},"{(...)}":function(t){return we.patterns.findObserveGroups(t,"{","","","}")},"$...$":function(t){return we.patterns.findObserveGroups(t,"","$","$","")},"${(...)}$":function(t){return we.patterns.findObserveGroups(t,"${","","","}$")},"$(...)$":function(t){return we.patterns.findObserveGroups(t,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(t){return we.patterns.findObserveGroups(t,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(t){return we.patterns.findObserveGroups(t,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(t){return we.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(t){return we.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(t){return we.patterns.findObserveGroups(t,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(t){return we.patterns.findObserveGroups(t,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(t){return we.patterns.findObserveGroups(t,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(t){return we.patterns.findObserveGroups(t,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(t){return we.patterns.findObserveGroups(t,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(t){return we.patterns.findObserveGroups(t,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(t){return we.patterns.findObserveGroups(t,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(t){return we.patterns.findObserveGroups(t,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(t){var e;if(e=t.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/),e)return{match_:e[0],remainder:t.substr(e[0].length)};var i=we.patterns.findObserveGroups(t,"","$","$","");return i&&(e=i.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/),e)?{match_:e[0],remainder:t.substr(e[0].length)}:null},amount2:function(t){return this.amount(t)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(t){if(t.match(/^\([a-z]+\)$/))return null;var e=t.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return e?{match_:e[0],remainder:t.substr(e[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(t,e,i,r,n,s,a,o,l,u){var c=function(S,A){if(typeof A=="string")return S.indexOf(A)!==0?null:A;var T=S.match(A);return T?T[0]:null},d=function(S,A,T){for(var M=0;A<S.length;){var D=S.charAt(A),B=c(S.substr(A),T);if(B!==null&&M===0)return{endMatchBegin:A,endMatchEnd:A+B.length};if(D==="{")M++;else if(D==="}"){if(M===0)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];M--}A++}return null},h=c(t,e);if(h===null||(t=t.substr(h.length),h=c(t,i),h===null))return null;var f=d(t,h.length,r||n);if(f===null)return null;var g=t.substring(0,r?f.endMatchEnd:f.endMatchBegin);if(s||a){var y=this.findObserveGroups(t.substr(f.endMatchEnd),s,a,o,l);if(y===null)return null;var C=[g,y.match_];return{match_:u?C.join(""):C,remainder:y.remainder}}else return{match_:g,remainder:t.substr(f.endMatchEnd)}},match_:function(t,e){var i=we.patterns.patterns[t];if(i===void 0)throw["MhchemBugP","mhchem bug P. Please report. ("+t+")"];if(typeof i=="function")return we.patterns.patterns[t](e);var r=e.match(i);if(r){var n;return r[2]?n=[r[1],r[2]]:r[1]?n=r[1]:n=r[0],{match_:n,remainder:e.substr(r[0].length)}}return null}},actions:{"a=":function(t,e){t.a=(t.a||"")+e},"b=":function(t,e){t.b=(t.b||"")+e},"p=":function(t,e){t.p=(t.p||"")+e},"o=":function(t,e){t.o=(t.o||"")+e},"q=":function(t,e){t.q=(t.q||"")+e},"d=":function(t,e){t.d=(t.d||"")+e},"rm=":function(t,e){t.rm=(t.rm||"")+e},"text=":function(t,e){t.text_=(t.text_||"")+e},insert:function(t,e,i){return{type_:i}},"insert+p1":function(t,e,i){return{type_:i,p1:e}},"insert+p1+p2":function(t,e,i){return{type_:i,p1:e[0],p2:e[1]}},copy:function(t,e){return e},rm:function(t,e){return{type_:"rm",p1:e||""}},text:function(t,e){return we.go(e,"text")},"{text}":function(t,e){var i=["{"];return we.concatArray(i,we.go(e,"text")),i.push("}"),i},"tex-math":function(t,e){return we.go(e,"tex-math")},"tex-math tight":function(t,e){return we.go(e,"tex-math tight")},bond:function(t,e,i){return{type_:"bond",kind_:i||e}},"color0-output":function(t,e){return{type_:"color0",color:e[0]}},ce:function(t,e){return we.go(e)},"1/2":function(t,e){var i=[];e.match(/^[+\-]/)&&(i.push(e.substr(0,1)),e=e.substr(1));var r=e.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return r[1]=r[1].replace(/\$/g,""),i.push({type_:"frac",p1:r[1],p2:r[2]}),r[3]&&(r[3]=r[3].replace(/\$/g,""),i.push({type_:"tex-math",p1:r[3]})),i},"9,9":function(t,e){return we.go(e,"9,9")}},createTransitions:function(t){var e,i,r,n,s={};for(e in t)for(i in t[e])for(r=i.split("|"),t[e][i].stateArray=r,n=0;n<r.length;n++)s[r[n]]=[];for(e in t)for(i in t[e])for(r=t[e][i].stateArray||[],n=0;n<r.length;n++){var a=t[e][i];if(a.action_){a.action_=[].concat(a.action_);for(var o=0;o<a.action_.length;o++)typeof a.action_[o]=="string"&&(a.action_[o]={type_:a.action_[o]})}else a.action_=[];for(var l=e.split("|"),u=0;u<l.length;u++)if(r[n]==="*")for(var c in s)s[c].push({pattern:l[u],task:a});else s[r[n]].push({pattern:l[u],task:a})}return s},stateMachines:{}};we.stateMachines={ce:{transitions:we.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(t,e){var i;if((t.d||"").match(/^[0-9]+$/)){var r=t.d;t.d=void 0,i=this.output(t),t.b=r}else i=this.output(t);return we.actions["o="](t,e),i},"d= kv":function(t,e){t.d=e,t.dType="kv"},"charge or bond":function(t,e){if(t.beginsWithBond){var i=[];return we.concatArray(i,this.output(t)),we.concatArray(i,we.actions.bond(t,e,"-")),i}else t.d=e},"- after o/d":function(t,e,i){var r=we.patterns.match_("orbital",t.o||""),n=we.patterns.match_("one lowercase greek letter $",t.o||""),s=we.patterns.match_("one lowercase latin letter $",t.o||""),a=we.patterns.match_("$one lowercase latin letter$ $",t.o||""),o=e==="-"&&(r&&r.remainder===""||n||s||a);o&&!t.a&&!t.b&&!t.p&&!t.d&&!t.q&&!r&&s&&(t.o="$"+t.o+"$");var l=[];return o?(we.concatArray(l,this.output(t)),l.push({type_:"hyphen"})):(r=we.patterns.match_("digits",t.d||""),i&&r&&r.remainder===""?(we.concatArray(l,we.actions["d="](t,e)),we.concatArray(l,this.output(t))):(we.concatArray(l,this.output(t)),we.concatArray(l,we.actions.bond(t,e,"-")))),l},"a to o":function(t){t.o=t.a,t.a=void 0},"sb=true":function(t){t.sb=!0},"sb=false":function(t){t.sb=!1},"beginsWithBond=true":function(t){t.beginsWithBond=!0},"beginsWithBond=false":function(t){t.beginsWithBond=!1},"parenthesisLevel++":function(t){t.parenthesisLevel++},"parenthesisLevel--":function(t){t.parenthesisLevel--},"state of aggregation":function(t,e){return{type_:"state of aggregation",p1:we.go(e,"o")}},comma:function(t,e){var i=e.replace(/\s*$/,""),r=i!==e;return r&&t.parenthesisLevel===0?{type_:"comma enumeration L",p1:i}:{type_:"comma enumeration M",p1:i}},output:function(t,e,i){var r;if(!t.r)r=[],!t.a&&!t.b&&!t.p&&!t.o&&!t.q&&!t.d&&!i||(t.sb&&r.push({type_:"entitySkip"}),!t.o&&!t.q&&!t.d&&!t.b&&!t.p&&i!==2?(t.o=t.a,t.a=void 0):!t.o&&!t.q&&!t.d&&(t.b||t.p)?(t.o=t.a,t.d=t.b,t.q=t.p,t.a=t.b=t.p=void 0):t.o&&t.dType==="kv"&&we.patterns.match_("d-oxidation$",t.d||"")?t.dType="oxidation":t.o&&t.dType==="kv"&&!t.q&&(t.dType=void 0),r.push({type_:"chemfive",a:we.go(t.a,"a"),b:we.go(t.b,"bd"),p:we.go(t.p,"pq"),o:we.go(t.o,"o"),q:we.go(t.q,"pq"),d:we.go(t.d,t.dType==="oxidation"?"oxidation":"bd"),dType:t.dType}));else{var n;t.rdt==="M"?n=we.go(t.rd,"tex-math"):t.rdt==="T"?n=[{type_:"text",p1:t.rd||""}]:n=we.go(t.rd);var s;t.rqt==="M"?s=we.go(t.rq,"tex-math"):t.rqt==="T"?s=[{type_:"text",p1:t.rq||""}]:s=we.go(t.rq),r={type_:"arrow",r:t.r,rd:n,rq:s}}for(var a in t)a!=="parenthesisLevel"&&a!=="beginsWithBond"&&delete t[a];return r},"oxidation-output":function(t,e){var i=["{"];return we.concatArray(i,we.go(e,"oxidation")),i.push("}"),i},"frac-output":function(t,e){return{type_:"frac-ce",p1:we.go(e[0]),p2:we.go(e[1])}},"overset-output":function(t,e){return{type_:"overset",p1:we.go(e[0]),p2:we.go(e[1])}},"underset-output":function(t,e){return{type_:"underset",p1:we.go(e[0]),p2:we.go(e[1])}},"underbrace-output":function(t,e){return{type_:"underbrace",p1:we.go(e[0]),p2:we.go(e[1])}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:we.go(e[1])}},"r=":function(t,e){t.r=e},"rdt=":function(t,e){t.rdt=e},"rd=":function(t,e){t.rd=e},"rqt=":function(t,e){t.rqt=e},"rq=":function(t,e){t.rq=e},operator:function(t,e,i){return{type_:"operator",kind_:i||e}}}},a:{transitions:we.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:we.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:we.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(t){if(t.text_){var e={type_:"text",p1:t.text_};for(var i in t)delete t[i];return e}}}},pq:{transitions:we.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(t,e){return{type_:"state of aggregation subscript",p1:we.go(e,"o")}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:we.go(e[1],"pq")}}}},bd:{transitions:we.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(t,e){return{type_:"color",color1:e[0],color2:we.go(e[1],"bd")}}}},oxidation:{transitions:we.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(t,e){return{type_:"roman numeral",p1:e||""}}}},"tex-math":{transitions:we.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var i in t)delete t[i];return e}}}},"tex-math tight":{transitions:we.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(t,e){t.o=(t.o||"")+"{"+e+"}"},output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var i in t)delete t[i];return e}}}},"9,9":{transitions:we.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:we.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(t,e){var i=[];return e[0]==="+-"||e[0]==="+/-"?i.push("\\pm "):e[0]&&i.push(e[0]),e[1]&&(we.concatArray(i,we.go(e[1],"pu-9,9")),e[2]&&(e[2].match(/[,.]/)?we.concatArray(i,we.go(e[2],"pu-9,9")):i.push(e[2])),(e[3]||e[4])&&(e[3]==="e"||e[4]==="*"?i.push({type_:"cdot"}):i.push({type_:"times"}))),e[5]&&i.push("10^{"+e[5]+"}"),i},"number^":function(t,e){var i=[];return e[0]==="+-"||e[0]==="+/-"?i.push("\\pm "):e[0]&&i.push(e[0]),we.concatArray(i,we.go(e[1],"pu-9,9")),i.push("^{"+e[2]+"}"),i},operator:function(t,e,i){return{type_:"operator",kind_:i||e}},space:function(){return{type_:"pu-space-1"}},output:function(t){var e,i=we.patterns.match_("{(...)}",t.d||"");i&&i.remainder===""&&(t.d=i.match_);var r=we.patterns.match_("{(...)}",t.q||"");if(r&&r.remainder===""&&(t.q=r.match_),t.d&&(t.d=t.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.d=t.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),t.q){t.q=t.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.q=t.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var n={d:we.go(t.d,"pu"),q:we.go(t.q,"pu")};t.o==="//"?e={type_:"pu-frac",p1:n.d,p2:n.q}:(e=n.d,n.d.length>1||n.q.length>1?e.push({type_:" / "}):e.push({type_:"/"}),we.concatArray(e,n.q))}else e=we.go(t.d,"pu-2");for(var s in t)delete t[s];return e}}},"pu-2":{transitions:we.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(t,e){t.rm+="^{"+e+"}"},space:function(){return{type_:"pu-space-2"}},output:function(t){var e=[];if(t.rm){var i=we.patterns.match_("{(...)}",t.rm||"");i&&i.remainder===""?e=we.go(i.match_,"pu"):e={type_:"rm",p1:t.rm}}for(var r in t)delete t[r];return e}}},"pu-9,9":{transitions:we.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){var i=t.text_.length%3;i===0&&(i=3);for(var r=t.text_.length-3;r>0;r-=3)e.push(t.text_.substr(r,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(0,i)),e.reverse()}else e.push(t.text_);for(var n in t)delete t[n];return e},"output-o":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){for(var i=t.text_.length-3,r=0;r<i;r+=3)e.push(t.text_.substr(r,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(r))}else e.push(t.text_);for(var n in t)delete t[n];return e}}}};var ui={go:function(t,e){if(!t)return"";for(var i="",r=!1,n=0;n<t.length;n++){var s=t[n];typeof s=="string"?i+=s:(i+=ui._go2(s),s.type_==="1st-level escape"&&(r=!0))}return!e&&!r&&i&&(i="{"+i+"}"),i},_goInner:function(t){return t&&ui.go(t,!0)},_go2:function(t){var e;switch(t.type_){case"chemfive":e="";var i={a:ui._goInner(t.a),b:ui._goInner(t.b),p:ui._goInner(t.p),o:ui._goInner(t.o),q:ui._goInner(t.q),d:ui._goInner(t.d)};i.a&&(i.a.match(/^[+\-]/)&&(i.a="{"+i.a+"}"),e+=i.a+"\\,"),(i.b||i.p)&&(e+="{\\vphantom{X}}",e+="^{\\hphantom{"+(i.b||"")+"}}_{\\hphantom{"+(i.p||"")+"}}",e+="{\\vphantom{X}}",e+="^{\\smash[t]{\\vphantom{2}}\\llap{"+(i.b||"")+"}}",e+="_{\\vphantom{2}\\llap{\\smash[t]{"+(i.p||"")+"}}}"),i.o&&(i.o.match(/^[+\-]/)&&(i.o="{"+i.o+"}"),e+=i.o),t.dType==="kv"?((i.d||i.q)&&(e+="{\\vphantom{X}}"),i.d&&(e+="^{"+i.d+"}"),i.q&&(e+="_{\\smash[t]{"+i.q+"}}")):t.dType==="oxidation"?(i.d&&(e+="{\\vphantom{X}}",e+="^{"+i.d+"}"),i.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+i.q+"}}")):(i.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+i.q+"}}"),i.d&&(e+="{\\vphantom{X}}",e+="^{"+i.d+"}"));break;case"rm":e="\\mathrm{"+t.p1+"}";break;case"text":t.p1.match(/[\^_]/)?(t.p1=t.p1.replace(" ","~").replace("-","\\text{-}"),e="\\mathrm{"+t.p1+"}"):e="\\text{"+t.p1+"}";break;case"roman numeral":e="\\mathrm{"+t.p1+"}";break;case"state of aggregation":e="\\mskip2mu "+ui._goInner(t.p1);break;case"state of aggregation subscript":e="\\mskip1mu "+ui._goInner(t.p1);break;case"bond":if(e=ui._getBond(t.kind_),!e)throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+t.kind_+")"];break;case"frac":var r="\\frac{"+t.p1+"}{"+t.p2+"}";e="\\mathchoice{\\textstyle"+r+"}{"+r+"}{"+r+"}{"+r+"}";break;case"pu-frac":var n="\\frac{"+ui._goInner(t.p1)+"}{"+ui._goInner(t.p2)+"}";e="\\mathchoice{\\textstyle"+n+"}{"+n+"}{"+n+"}{"+n+"}";break;case"tex-math":e=t.p1+" ";break;case"frac-ce":e="\\frac{"+ui._goInner(t.p1)+"}{"+ui._goInner(t.p2)+"}";break;case"overset":e="\\overset{"+ui._goInner(t.p1)+"}{"+ui._goInner(t.p2)+"}";break;case"underset":e="\\underset{"+ui._goInner(t.p1)+"}{"+ui._goInner(t.p2)+"}";break;case"underbrace":e="\\underbrace{"+ui._goInner(t.p1)+"}_{"+ui._goInner(t.p2)+"}";break;case"color":e="{\\color{"+t.color1+"}{"+ui._goInner(t.color2)+"}}";break;case"color0":e="\\color{"+t.color+"}";break;case"arrow":var s={rd:ui._goInner(t.rd),rq:ui._goInner(t.rq)},a=ui._getArrow(t.r);s.rd||s.rq?t.r==="<=>"||t.r==="<=>>"||t.r==="<<=>"||t.r==="<-->"?(a="\\long"+a,s.rd&&(a="\\overset{"+s.rd+"}{"+a+"}"),s.rq&&(t.r==="<-->"?a="\\underset{\\lower2mu{"+s.rq+"}}{"+a+"}":a="\\underset{\\lower6mu{"+s.rq+"}}{"+a+"}"),a=" {}\\mathrel{"+a+"}{} "):(s.rq&&(a+="[{"+s.rq+"}]"),a+="{"+s.rd+"}",a=" {}\\mathrel{\\x"+a+"}{} "):a=" {}\\mathrel{\\long"+a+"}{} ",e=a;break;case"operator":e=ui._getOperator(t.kind_);break;case"1st-level escape":e=t.p1+" ";break;case"space":e=" ";break;case"entitySkip":e="~";break;case"pu-space-1":e="~";break;case"pu-space-2":e="\\mkern3mu ";break;case"1000 separator":e="\\mkern2mu ";break;case"commaDecimal":e="{,}";break;case"comma enumeration L":e="{"+t.p1+"}\\mkern6mu ";break;case"comma enumeration M":e="{"+t.p1+"}\\mkern3mu ";break;case"comma enumeration S":e="{"+t.p1+"}\\mkern1mu ";break;case"hyphen":e="\\text{-}";break;case"addition compound":e="\\,{\\cdot}\\,";break;case"electron dot":e="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":e="{\\times}";break;case"prime":e="\\prime ";break;case"cdot":e="\\cdot ";break;case"tight cdot":e="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":e="\\times ";break;case"circa":e="{\\sim}";break;case"^":e="uparrow";break;case"v":e="downarrow";break;case"ellipsis":e="\\ldots ";break;case"/":e="/";break;case" / ":e="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return e},_getArrow:function(t){switch(t){case"->":return"rightarrow";case"→":return"rightarrow";case"⟶":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<-->":return"leftrightarrows";case"<=>":return"rightleftharpoons";case"⇌":return"rightleftharpoons";case"<=>>":return"Rightleftharpoons";case"<<=>":return"Leftrightharpoons";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(t){switch(t){case"-":return"{-}";case"1":return"{-}";case"=":return"{=}";case"2":return"{=}";case"#":return"{\\equiv}";case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\rlap{\\lower.1em{-}}\\raise.1em{\\tripledash}}";case"~=":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"~--":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"-~-":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{-}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(t){switch(t){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":return" {}\\approx{} ";case"$\\approx$":return" {}\\approx{} ";case"v":return" \\downarrow{} ";case"(v)":return" \\downarrow{} ";case"^":return" \\uparrow{} ";case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}},mP=class gP extends ue{constructor(e){super(Z(q({},e),{type:"delim"})),this.value=e.delim,this.size=e.size}static fromJson(e){return new gP(e)}toJson(){return Z(q({},super.toJson()),{delim:this.value,size:this.size})}render(e){return new Ae(this.value,{type:"middle"})}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let i=br(this.command,this.mode);return i!=null&&i.serialize?i.serialize(this,e):ti(this.command,this.value)}},yP=class vP extends ue{constructor(e){super(Z(q({},e),{type:"sizeddelim",value:e.delim})),this.delimType=e.delimType,this.size=e.size}static fromJson(e){return new vP(e)}toJson(){return Z(q({},super.toJson()),{delim:this.value,size:this.size,delimType:this.delimType})}render(e){let i=kle(this.value,this.size,e,{classes:{open:"ML__open",close:"ML__close"}[this.delimType],type:this.delimType,isSelected:this.isSelected});return i?(i=this.bind(e,i),this.caret&&(i.caret=this.caret),i):null}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let i=br(this.command,this.mode);return i!=null&&i.serialize?i.serialize(this,e):ti(this.command,this.value)}},Ap=class bP extends ue{constructor(e,i,r,n){var s,a;super({type:"enclose",command:e,style:n.style}),this.body=i,this.backgroundcolor=n.backgroundcolor,r.updiagonalarrow&&(r.updiagonalstrike=!1),r.box&&(r.left=!1,r.right=!1,r.bottom=!1,r.top=!1),this.notation=r,this.shadow=(s=n.shadow)!=null?s:"none",this.strokeWidth=(a=n.strokeWidth)!=null?a:"0.06em",this.strokeWidth||(this.strokeWidth="0.06em"),this.strokeStyle=n.strokeStyle,this.svgStrokeStyle=n.svgStrokeStyle,this.strokeColor=n.strokeColor,this.borderStyle=n.borderStyle,this.padding=n.padding,this.captureSelection=!1}static fromJson(e){return new bP(e.command,e.body,e.notation,e)}toJson(){return Z(q({},super.toJson()),{notation:this.notation,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding})}_serialize(e){var i;if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=br(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let n=(i=this.command)!=null?i:"";if(this.command==="\\enclose"){n+="{"+Object.keys(this.notation).join(" ")+"}";let s="",a="";this.backgroundcolor&&this.backgroundcolor!=="transparent"&&(s+=a+'mathbackground="'+this.backgroundcolor+'"',a=","),this.shadow&&this.shadow!=="auto"&&(s+=a+'shadow="'+this.shadow+'"',a=","),this.strokeWidth||this.strokeStyle!=="solid"?(s+=a+this.borderStyle,a=","):this.strokeColor&&this.strokeColor!=="currentColor"&&(s+=a+'mathcolor="'+this.strokeColor+'"',a=","),s&&(n+=`[${s}]`)}return ti(n,this.bodyToLatex(e))}render(e){let i=new Pt({parent:e},this.style),r=ue.createBox(i,this.body);if(!r)return null;let n=Ule(this.borderStyle),s=i.toEm(!this.padding||this.padding==="auto"?{register:"fboxsep"}:{string:this.padding});r.setStyle("position","relative"),r.setStyle("display","inline-block"),r.setStyle("top",s-r.depth,"em"),r.setStyle("height",r.height+r.depth,"em"),r.setStyle("width",r.width,"em");let a=new Ae(null,{classes:"ML__notation"}),o=r.height+r.depth+2*s,l=r.width+2*s,u="";if(this.notation.horizontalstrike&&(u+=this.line(3,50,97,50)),this.notation.verticalstrike&&(u+=this.line(50,3,50,97)),this.notation.updiagonalstrike&&(u+=this.line(3,97,97,3)),this.notation.downdiagonalstrike&&(u+=this.line(3,3,97,97)),this.notation.updiagonalarrow){u+=this.line(s.toString(),(s+r.depth+r.height).toString(),(s+r.width).toString(),s.toString());let h=.03*Math.sqrt(l*l+o*o)*1,f=r.width*h,g=(r.depth+r.height)*h,y=s+r.width,C=s;C+g-.4*f<0&&(C=.4*f-g),u+='<polygon points="',u+=`${y},${C} ${y-f-.4*g},${C+g-.4*f} `,u+=`${y-.7*f},${C+.7*g} ${y-f+.4*g},${C+g+.4*f} `,u+=`${y},${C}`,u+=`" stroke='none' fill="${this.strokeColor}"`,u+="/>"}let c=0;if(this.notation.phasorangle){let h=MC(i),f=(r.height+r.depth+2*h+s).toString(),g=(r.height+r.depth)/2;u+=this.line(s.toString(),f,(s+g+r.width).toString(),f),u+=this.line(s.toString(),f,(s+g).toString(),(s-h).toString()),o+=h,c=g,r.left+=o/2-s}if(this.notation.longdiv){let h=MC(i);o+=h,u+=this.line(s.toString(),s.toString(),(s+r.width).toString(),s.toString());let f=.3;c=f+h,r.left+=f+h,r.setTop(s+h),u+='<path d="',u+=`M ${s} ${s}  a${f} ${(r.depth+r.height+2*h)/2}, 0, 1, 1, 0 ${r.depth+r.height+2*h} "`,u+=` stroke-width="${qle(i)}" stroke="${this.strokeColor}" fill="none"`,u+="/>"}if(a.width=r.width+2*s+c,a.height=r.height+s,a.depth=r.depth+s,a.setStyle("box-sizing","border-box"),a.setStyle("left",`calc(-${n} / 2 - ${(r.width+s)/2}em)`),a.setStyle("height",`${Math.floor(100*o)/100}em`),a.setStyle("top",`calc(${n} / 2 + ${s/2-r.height}em)`),this.backgroundcolor&&a.setStyle("background-color",this.backgroundcolor),this.notation.box&&a.setStyle("border","1px solid red"),this.notation.actuarial&&(a.setStyle("border-top",this.borderStyle),a.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(a.setStyle("border-bottom",this.borderStyle),a.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(a.setStyle("border-radius","8px"),a.setStyle("border",this.borderStyle)),this.notation.circle&&(a.setStyle("border-radius","50%"),a.setStyle("border",this.borderStyle)),this.notation.top&&a.setStyle("border-top",this.borderStyle),this.notation.left&&a.setStyle("border-left",this.borderStyle),this.notation.right&&a.setStyle("border-right",this.borderStyle),this.notation.bottom&&a.setStyle("border-bottom",this.borderStyle),u){let h="";this.shadow==="auto"&&(h+="filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)"),this.shadow!=="none"&&(h+=`filter: drop-shadow(${this.shadow})`),h+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,h+=' stroke-linecap="round"',this.svgStrokeStyle&&(h+=` stroke-dasharray="${this.svgStrokeStyle}"`),a.svgStyle=h,a.svgOverlay=u}let d=new Ae([a,r]);return d.setStyle("position","relative"),d.setStyle("vertical-align",s,"em"),d.setStyle("height",`${Math.floor(100*(r.height+r.depth+2*s))/100}em`),d.setStyle("display","inline-block"),d.height=a.height,d.depth=a.depth,d.width=a.width-2*s,d.left=s,d.right=s,this.caret&&(d.caret=this.caret),d.wrap(i)}line(e,i,r,n){return`<line x1="${Lm(e)}"  y1="${Lm(i)}" x2="${Lm(r)}" y2="${Lm(n)}" vector-effect="non-scaling-stroke"></line>`}};function Lm(t){return typeof t=="number"?`${Math.floor(100*t)/100}%`:t}function Ule(t){if(!t)return"1px";let e=t.match(/([0-9][a-zA-Z\%]+)/);return e===null?"1px":e[1]}function qle(t){return(Math.floor(100*t.metrics.sqrtRuleThickness/t.scalingFactor)/100/10).toString()+"em"}function MC(t){let e=t.isDisplayStyle?ol:t.metrics.defaultRuleThickness;return t.metrics.defaultRuleThickness+t.scalingFactor*e/4}var l1={fractionNavigationOrder:"numerator-denominator"},qu=class xP extends ue{constructor(e,i,r){var n,s,a;super(Z(q({},r),{type:"genfrac",displayContainsHighlight:!0})),this.above=e,this.below=i,this.hasBarLine=(n=r==null?void 0:r.hasBarLine)!=null?n:!0,this.continuousFraction=(s=r==null?void 0:r.continuousFraction)!=null?s:!1,this.align=(a=r==null?void 0:r.align)!=null?a:"center",this.numerPrefix=r==null?void 0:r.numerPrefix,this.denomPrefix=r==null?void 0:r.denomPrefix,this.mathstyleName=r==null?void 0:r.mathstyleName,this.leftDelim=r==null?void 0:r.leftDelim,this.rightDelim=r==null?void 0:r.rightDelim}static fromJson(e){return new xP(e.above,e.below,e)}toJson(){let e={};return this.continuousFraction&&(e.continuousFraction=!0),this.align!=="center"&&(e.align=this.align),this.numerPrefix&&(e.numerPrefix=this.numerPrefix),this.denomPrefix&&(e.denomPrefix=this.denomPrefix),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.hasBarLine||(e.hasBarLine=!1),this.mathstyleName&&(e.mathstyleName=this.mathstyleName),q(q({},super.toJson()),e)}get children(){if(this._children)return this._children;let e=[];if(l1.fractionNavigationOrder==="denominator-numerator"){for(let i of this.below)e.push(...i.children),e.push(i);for(let i of this.above)e.push(...i.children),e.push(i)}else{for(let i of this.above)e.push(...i.children),e.push(i);for(let i of this.below)e.push(...i.children),e.push(i)}return this._children=e,e}render(e){var i,r;let n=new Pt({parent:e,mathstyle:this.mathstyleName},this.style),s=n.metrics,a=new Pt({parent:n,mathstyle:this.continuousFraction?"":"numerator"},this.style),o=this.numerPrefix?new Ae([new Ae(this.numerPrefix),ue.createBox(a,this.above)],{isTight:a.isTight,type:"ignore"}):(i=ue.createBox(a,this.above,{type:"ignore"}))!=null?i:new Ae(null,{type:"ignore"}),l=new Pt({parent:n,mathstyle:this.continuousFraction?"":"denominator"},this.style),u=this.denomPrefix?new Ae([new Ae(this.denomPrefix),ue.createBox(l,this.below,{type:"ignore"})]):(r=ue.createBox(l,this.below,{type:"ignore"}))!=null?r:new Ae(null,{type:"ignore"}),c=this.hasBarLine?s.defaultRuleThickness:0,d,h=0,f;n.isDisplayStyle?(d=a.metrics.num1,h=c>0?3*c:7*c,f=l.metrics.denom1):(c>0?(d=a.metrics.num2,h=c):(d=a.metrics.num3,h=3*s.defaultRuleThickness),f=l.metrics.denom2);let g=[];this.isSelected&&g.push("ML__selected");let y=o.depth,C=u.height,S;if(c<=0){let F=d-y-(C-f);F<h&&(d+=(h-F)/2,f+=(h-F)/2),S=new zi({individualShift:[{box:o,shift:-d,classes:[...g,Bm(this.align)]},{box:u,shift:f,classes:[...g,Bm(this.align)]}]}).wrap(n)}else{let F=new Ae(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});F.softWidth=Math.max(o.width,u.width),F.height=c/2,F.depth=c/2;let V=Ts+c/2;d<h+y+V&&(d=h+y+V);let O=Ts-c/2;f<h+C-O&&(f=h+C-O),S=new zi({individualShift:[{box:u,shift:f,classes:[...g,Bm(this.align)]},{box:F,shift:-O,classes:g},{box:o,shift:-d,classes:[...g,Bm(this.align)]}]}).wrap(n)}let A=n.isDisplayStyle?s.delim1:s.delim2,T=this.leftDelim?this.bind(e,dg("open",this.leftDelim,A,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})):Pu(n,"ML__open"),M=null;this.continuousFraction?M=new Ae(null,{type:"close"}):this.rightDelim?M=this.bind(e,dg("close",this.rightDelim,A,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})):M=Pu(n,"ML__close");let D=new Ae([T,S,M],{isTight:n.isTight,type:"inner",classes:"ML__mfrac"}),B=this.bind(e,D);return this.caret&&(B.caret=this.caret),this.attachSupsub(e,{base:B})}};function Bm(t){var e;return(e={left:"ML__left",right:"ML__right",center:"ML__center"}[t])!=null?e:"ML__center"}var rr=class _P extends ue{constructor(e,i){var r;super({type:"latex",value:e,mode:"latex"}),this.isSuggestion=(r=i==null?void 0:i.isSuggestion)!=null?r:!1,this.isError=!1}static fromJson(e){let i=new _P(e.value);return e.isSuggestion&&(i.isSuggestion=!0),e.isError&&(i.isError=!0),i}toJson(){let e={};return this.isSuggestion&&(e.isSuggestion=!0),this.isError&&(e.isError=!0),q({type:"latex",value:this.value},e)}render(e){let i=new Ae(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return i?(this.caret&&(i.caret=this.caret),this.bind(e,i)):null}},Ch=class wP extends ue{constructor(e=""){super({type:"latexgroup",mode:"latex"}),this.body=[...e].map(i=>new rr(i)),this.skipBoundary=!0}static fromJson(e){return new wP}toJson(){return super.toJson()}render(e){let i=ue.createBox(e,this.body);return i?(this.caret&&(i.caret=this.caret),this.bind(e,i)):null}_serialize(e){var i,r;return(r=(i=this.body)==null?void 0:i.map(n=>n.value).join(""))!=null?r:""}},E6=class SP extends ue{constructor(e,i){super(Z(q({},i),{type:"extensible-symbol",isFunction:i==null?void 0:i.isFunction})),this.value=e,this.variant=i==null?void 0:i.variant,this.subsupPlacement=i==null?void 0:i.limits}static fromJson(e){return new SP(e.symbol,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.value&&(e.symbol=this.value),e}render(e){var i;let r=e.isDisplayStyle&&this.value!=="\\smallint",n=new Ae(this.value,{fontFamily:r?"Size2-Regular":"Size1-Regular",classes:"ML__op-symbol "+(r?"ML__large-op":"ML__small-op"),type:"op",maxFontSize:e.scalingFactor,isSelected:this.isSelected});if(!n)return null;n.right=n.italic;let s=(n.height-n.depth)/2-Ts*e.scalingFactor,a=n.italic;n.setTop(s);let o=n;if(this.superscript||this.subscript){let l=(i=this.subsupPlacement)!=null?i:"auto";l==="auto"&&e.isDisplayStyle&&(l="over-under"),o=l==="over-under"?this.attachLimits(e,{base:n,baseShift:s,slant:a}):this.attachSupsub(e,{base:n})}return new Ae(this.bind(e,o),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(e)}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let i=br(this.command,this.mode);if(i!=null&&i.serialize)return i.serialize(this,e);let r=[];return r.push(this.command),this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&r.push("\\limits"),this.subsupPlacement==="adjacent"&&r.push("\\nolimits"),this.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(this.supsubToLatex(e)),kt(r)}},ju=class CP extends ue{constructor(e){let i=e.body;super(Z(q({},e),{type:"overlap",body:typeof i=="string"?[new ue({value:i})]:i,style:e==null?void 0:e.style})),this.skipBoundary=!0,this.align=e==null?void 0:e.align,this.boxType=e==null?void 0:e.boxType}static fromJson(e){return new CP(e)}toJson(){let e={};return this.align&&(e.align=this.align),this.boxType&&(e.boxType=this.boxType),q(q({},super.toJson()),e)}render(e){let i=ue.createBox(e,this.body,{classes:"ML__inner"});return i?(this.caret&&(i.caret=this.caret),this.bind(e,new Ae([i,new Ae(null,{classes:"ML__fix"})],{classes:this.align==="right"?"ML__rlap":"ML__llap",type:this.boxType}))):null}},us=class kP extends ue{constructor(e){var i,r,n,s;super({type:"overunder",command:e.command,style:e.style,mode:e.mode,body:e.body,skipBoundary:(i=e.skipBoundary)!=null?i:!0}),this.subsupPlacement=e.supsubPlacement,this.svgAbove=e.svgAbove,this.svgBelow=e.svgBelow,this.svgBody=e.svgBody,this.above=e.above,this.below=e.below,this.boxType=(r=e.boxType)!=null?r:"ord",this.paddedBody=(n=e.paddedBody)!=null?n:!1,this.paddedLabels=(s=e.paddedLabels)!=null?s:!1}static fromJson(e){return new kP(e)}toJson(){let e=super.toJson();return this.skipBoundary||(e.skipBoundary=!1),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.svgAbove&&(e.svgAbove=this.svgAbove),this.svgBelow&&(e.svgBelow=this.svgBelow),this.svgBody&&(e.svgBody=this.svgBody),this.boxType!=="ord"&&(e.boxType=this.boxType),this.paddedBody&&(e.paddedBody=!0),this.paddedLabels&&(e.paddedLabels=!0),e}render(e){let i=this.svgBody?n1(this.svgBody):ue.createBox(e,this.body,{type:"ignore"}),r=new Pt({parent:e,mathstyle:"scriptstyle"},this.style),n=null;this.svgAbove?n=n1(this.svgAbove):this.above&&(n=ue.createBox(r,this.above,{type:"ignore"}));let s=null;this.svgBelow?s=n1(this.svgBelow):this.below&&(s=ue.createBox(r,this.below,{type:"ignore"})),this.paddedBody&&(i=new Ae([Pu(e,"ML__open"),i,Pu(e,"ML__close")],{type:"ignore"}));let a=jle(e,{base:i,above:n,below:s,type:this.boxType==="bin"||this.boxType==="rel"?this.boxType:"ord",paddedAboveBelow:this.paddedLabels});return a?(this.subsupPlacement==="over-under"?a=this.attachLimits(e,{base:a,type:a.type}):a=this.attachSupsub(e,{base:a}),this.caret&&(a.caret=this.caret),this.bind(e,a)):null}};function jle(t,e){if(!e.base)return null;if(!e.above&&!e.below){let o=new Ae(e.base,{type:e.type});return o.setStyle("position","relative"),o}let i=0;e.above&&(i=t.metrics.bigOpSpacing5);let r=null,n=e.base,s=0,a=["ML__center"];if(e.paddedAboveBelow&&a.push("ML__label_padding"),e.below&&e.above){let o=t.metrics.bigOpSpacing5+e.below.height+e.below.depth+n.depth+s;r=new zi({bottom:o,children:[t.metrics.bigOpSpacing5,{box:e.below,classes:a},{box:n,classes:["ML__center"]},i,{box:e.above,classes:a},t.metrics.bigOpSpacing5]})}else e.below?r=new zi({top:n.height-s,children:[t.metrics.bigOpSpacing5,{box:e.below,classes:a},{box:n,classes:["ML__center"]}]}):e.above&&(r=new zi({bottom:n.depth+s,children:[{box:n,classes:["ML__center"]},i,{box:e.above,classes:a},t.metrics.bigOpSpacing5]}));return new Ae(r,{type:e.type})}var J0=class TP extends ue{constructor(e){var i,r,n,s;super(Z(q({},e),{type:"phantom"})),this.captureSelection=!0,this.isInvisible=(i=e.isInvisible)!=null?i:!1,this.smashDepth=(r=e.smashDepth)!=null?r:!1,this.smashHeight=(n=e.smashHeight)!=null?n:!1,this.smashWidth=(s=e.smashWidth)!=null?s:!1}static fromJson(e){return new TP(e)}toJson(){let e={};return this.isInvisible&&(e.isInvisible=!0),this.smashDepth&&(e.smashDepth=!0),this.smashHeight&&(e.smashHeight=!0),this.smashWidth&&(e.smashWidth=!0),q(q({},super.toJson()),e)}render(e){let i=new Pt({parent:e,isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return this.isInvisible,ue.createBox(i,this.body,{classes:"ML__inner"});let r=ue.createBox(this.isInvisible?i:e,this.body);if(!r)return null;if(this.smashWidth){let n=new Ae(null,{classes:"ML__fix"});return new Ae([r,n],{classes:"ML__rlap"}).wrap(e)}if(!this.smashHeight&&!this.smashDepth)return r;if(this.smashHeight&&(r.height=0),this.smashDepth&&(r.depth=0),r.children)for(let n of r.children)this.smashHeight&&(n.height=0),this.smashDepth&&(n.depth=0);return new zi({firstBaseline:[{box:r}]},{type:r.type}).wrap(e)}},Mp=class EP extends ue{constructor(e){var i;super(q({type:"spacing"},e)),this.width=e==null?void 0:e.width,this._braced=(i=e==null?void 0:e.braced)!=null?i:!1}static fromJson(e){return new EP(e)}toJson(){let e=super.toJson();return this.width!==void 0&&(e.width=this.width),this._braced&&(e.braced=!0),e}render(e){var i;if(this.command==="space")return new Ae(this.mode==="math"?null:" ");let r;if(this.width!==void 0)r=new Ae(null,{classes:"ML__mspace"}),r.left=e.toEm(this.width);else{let n=(i={"\\qquad":"ML__qquad","\\quad":"ML__quad","\\enspace":"ML__enspace","\\;":"ML__thickspace","\\:":"ML__mediumspace","\\>":"ML__mediumspace","\\,":"ML__thinspace","\\!":"ML__negativethinspace"}[this.command])!=null?i:"ML__mediumspace";r=new Ae(null,{classes:n})}return r=this.bind(e,r),this.caret&&(r.caret=this.caret),r}_serialize(e){var i;if(!e.expandMacro&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=br(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,e);let n=(i=this.command)!=null?i:"";return this.width===void 0?n:this._braced&&!("register"in this.width)?`${n}{${pr(this.width)}}`:`${n}${pr(this.width)}`}},AP=class MP extends ue{constructor(e){var i;super(Z(q({},e),{type:"surd",mode:(i=e.mode)!=null?i:"math",style:e.style,displayContainsHighlight:!0,body:e.body})),this.above=e.index}static fromJson(e){return new MP(Z(q({},e),{index:e.above}))}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let i=br(this.command,this.mode);if(i!=null&&i.serialize)return i.serialize(this,e);let r=this.command,n=this.bodyToLatex(e);return this.above&&!this.hasEmptyBranch("above")?ti(`${r}[${this.aboveToLatex(e)}]`,n):/^[0-9]$/.test(n)?`${r}${n}`:ti(r,n)}get children(){if(this._children)return this._children;let e=[];if(this.above)for(let i of this.above)e.push(...i.children),e.push(i);if(this.body)for(let i of this.body)e.push(...i.children),e.push(i);return this._children=e,e}render(e){var i;let r=new Pt({parent:e,mathstyle:"cramp"},this.style),n=(i=ue.createBox(r,this.body,{type:"inner"}))!=null?i:new Ae(null),s=r.scalingFactor,a=r.metrics.defaultRuleThickness/s,o=e.isDisplayStyle?ol:a,l=new Ae(null,{classes:"ML__sqrt-line",style:this.style});l.height=a,l.softWidth=n.width;let u=s*(a+o/4),c=Math.max(s*2*o,n.height+n.depth)+u+a,d=new Pt({parent:e},this.style),h=this.bind(d,new Ae(dg("inner","\\surd",c,!1,d,{isSelected:this.isSelected}),{isSelected:this.isSelected,classes:"ML__sqrt-sign",style:this.style}));if(!h)return null;let f=h.height+h.depth-a;f>n.height+n.depth+u&&(u=(u+f-(n.height+n.depth))/2),h.setTop(h.height-n.height-u);let g=this.bind(e,new zi({firstBaseline:[{box:new Ae(n)},u-2*a,{box:l},a]})),y=ue.createBox(new Pt({parent:e,mathstyle:"scriptscriptstyle"}),this.above,{type:"ignore"});if(!y){let A=new Ae([h,g],{classes:this.containsCaret?"ML__contains-caret":"",type:"inner"});return A.setStyle("display","inline-block"),A.setStyle("height",A.height+A.depth,"em"),this.caret&&(A.caret=this.caret),this.bind(e,A)}let C=new zi({shift:-.6*(Math.max(h.height,g.height)-Math.max(h.depth,g.depth)),children:[{box:y}]}),S=new Ae([new Ae(C,{classes:"ML__sqrt-index",type:"ignore"}),h,g],{type:"inner",classes:this.containsCaret?"ML__contains-caret":""});return S.height=h.height,S.depth=h.depth,this.caret&&(S.caret=this.caret),this.bind(e,S)}},Vle=class extends Ae{constructor(t){super(null,{type:"skip"}),this._width=t}toMarkup(){return`<span style="display:inline-block;width:${Math.ceil(this.width*100)/100}em"></span>`}};function u1(t,e){if(!t.parent)return;let i=t.parent.children,r=i.indexOf(t),n=r-1;for(;n>=0&&i[n].type==="ignore";)n-=1;if(n<0&&t.parent.parent&&t.parent.type==="lift"){u1(t.parent,e);return}r>0&&i[r-1].type==="skip"?i[r-1].width+=e:i.splice(r,0,new Vle(e))}var Hle={ord:{op:3,bin:4,rel:5,inner:3},op:{ord:3,op:3,rel:5,inner:3},bin:{ord:4,op:4,open:4,inner:4},rel:{ord:5,op:5,open:5,inner:5},close:{op:3,bin:4,rel:5,inner:3},punct:{ord:3,op:3,rel:3,open:3,punct:3,inner:3},inner:{ord:3,op:3,bin:4,rel:5,open:3,punct:3,inner:3}},Kle={ord:{op:3},op:{ord:3,op:3},close:{op:3},inner:{op:3}};function Wle(t){kh(t,(e,i)=>{i.type==="bin"&&(!e||/^(middle|bin|op|rel|open|punct)$/.test(e.type))&&(i.type="ord"),(e==null?void 0:e.type)==="bin"&&/^(rel|close|punct)$/.test(i.type)&&(e.type="ord"),i.type!=="ignore"&&(e=i)})}function Dp(t,e){if(!t.children)return t;let i=t.children;Wle(i);let r=e.getRegisterAsEm("thinmuskip"),n=e.getRegisterAsEm("medmuskip"),s=e.getRegisterAsEm("thickmuskip");return kh(i,(a,o)=>{var l,u,c;if(!a)return;let d=a.type,h=o.isTight?(l=Kle[d])!=null?l:null:(u=Hle[d])!=null?u:null,f=(c=h==null?void 0:h[o.type])!=null?c:null;f===3&&u1(o,r),f===4&&u1(o,n),f===5&&u1(o,s)}),t}function kh(t,e,i=void 0){if(!t)return i;t=[...t];for(let r of t)r.type==="lift"?i=kh(r.children,e,i):r.type==="ignore"?kh(r.children,e):(e(i,r),kh(r.children,e),i=r);return i}var A6=class DP extends ue{constructor(e){super({type:"tooltip",command:e.command,mode:e.mode,style:e.style,body:e.body,displayContainsHighlight:!0}),this.tooltip=new ue({type:"root",mode:e.content,body:e.tooltip,style:{}}),this.skipBoundary=!0,this.captureSelection=!1}static fromJson(e){return new DP(Z(q({},e),{tooltip:ll(e.tooltip)}))}toJson(){var e;let i=(e=this.tooltip.body)==null?void 0:e.filter(r=>r.type!=="first").map(r=>r.toJson());return Z(q({},super.toJson()),{tooltip:i})}render(e){let i=ue.createBox(new Pt,this.body);if(!i)return null;let r=new Pt({parent:e,mathstyle:"displaystyle"},{fontSize:w6}),n=E2(Dp(new Ae(this.tooltip.render(r),{classes:"ML__tooltip-content"}),r)),s=new Ae([n,i],{classes:"ML__tooltip-container"});return this.caret&&(s.caret=this.caret),this.bind(e,s)}},Vu=class LP extends ue{constructor(e,i){super(Z(q({},i),{type:"operator",isFunction:i==null?void 0:i.isFunction})),this.value=e,this.variant=i==null?void 0:i.variant,this.variantStyle=i==null?void 0:i.variantStyle,this.subsupPlacement=i==null?void 0:i.limits}static fromJson(e){return new LP(e.symbol,e)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.variantStyle&&(e.variantStyle=this.variantStyle),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.value&&(e.symbol=this.value),e}render(e){var i;let r=new Ae(this.value,{type:"op",mode:"math",maxFontSize:e.scalingFactor,style:{variant:this.variant,variantStyle:this.variantStyle},isSelected:this.isSelected,letterShapeStyle:e.letterShapeStyle}),n=r;if(this.superscript||this.subscript){let s=(i=this.subsupPlacement)!=null?i:"auto";n=s==="over-under"||s==="auto"&&e.isDisplayStyle?this.attachLimits(e,{base:r}):this.attachSupsub(e,{base:r})}return new Ae(this.bind(e,n),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(e)}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let i=br(this.command,this.mode);if(i!=null&&i.serialize)return i.serialize(this,e);let r=[this.command];return this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&r.push("\\limits"),this.subsupPlacement==="adjacent"&&r.push("\\nolimits"),this.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(this.supsubToLatex(e)),kt(r)}};function ll(t){if(mr(t))return t.map(r=>ll(r));if(typeof t=="string")return ue.fromJson(t);t=q({},t);for(let r of T0)t[r]&&(t[r]=ll(t[r]));t.args&&(t.args=Gle(t.args)),t.array&&(t.array=ll(t.array));let e=t.type,i;e==="accent"&&(i=D2.fromJson(t)),e==="array"&&(i=Tt.fromJson(t)),e==="box"&&(i=vl.fromJson(t)),e==="chem"&&(i=pP.fromJson(t)),e==="composition"&&(i=QB.fromJson(t)),e==="delim"&&(i=mP.fromJson(t)),e==="enclose"&&(i=Ap.fromJson(t)),e==="error"&&(i=nu.fromJson(t)),e==="extensible-symbol"&&(i=E6.fromJson(t)),e==="genfrac"&&(i=qu.fromJson(t)),e==="group"&&(i=iP.fromJson(t)),e==="latex"&&(i=rr.fromJson(t)),e==="latexgroup"&&(i=Ch.fromJson(t)),e==="leftright"&&(i=bi.fromJson(t)),e==="macro"&&(i=aP.fromJson(t)),e==="macro-argument"&&(i=$le.fromJson(t)),e==="operator"&&(i=Vu.fromJson(t)),e==="overlap"&&(i=ju.fromJson(t)),e==="overunder"&&(i=us.fromJson(t)),e==="placeholder"&&(i=fa.fromJson(t)),e==="prompt"&&(i=uP.fromJson(t)),e==="phantom"&&(i=J0.fromJson(t)),e==="sizeddelim"&&(i=yP.fromJson(t)),e==="spacing"&&(i=Mp.fromJson(t)),e==="subsup"&&(i=P2.fromJson(t)),e==="surd"&&(i=AP.fromJson(t)),e==="text"&&(i=Y0.fromJson(t)),e==="tooltip"&&(i=A6.fromJson(t)),i||(i=ue.fromJson(t));for(let r of T0)t[r]&&i.setChildren(t[r],r);return t.verbatimLatex!==void 0&&(i.verbatimLatex=t.verbatimLatex),t.subsupPlacement&&(i.subsupPlacement=t.subsupPlacement),t.explicitSubsupPlacement&&(i.explicitSubsupPlacement=!0),t.isFunction&&(i.isFunction=!0),t.skipBoundary&&(i.skipBoundary=!0),t.captureSelection&&(i.captureSelection=!0),i}function Gle(t){if(t){if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e=>e==="<null>"?null:typeof e=="object"&&"group"in e?{group:e.group.map(i=>ll(i))}:typeof e=="object"&&"atoms"in e?e.atoms.map(i=>ll(i)):e)}}function M6(t,e){!t||!e||(mr(t)?t.forEach(i=>M6(i,e)):typeof t=="object"&&t.applyStyle(e,{unstyledOnly:!0}))}function q5(t,e,i,r){function n(a,o){for(let l of s)if(l.style[a]!==o)return!1;return!0}if(e=t.normalizeRange(e),e[0]===e[1])return!1;let s=t.getAtoms(e,{includeChildren:!0});r.operation==="toggle"&&(i.color&&n("color",i.color)&&(i.color="none",delete i.verbatimColor),i.backgroundColor&&n("backgroundColor",i.backgroundColor)&&(i.backgroundColor="none",delete i.verbatimBackgroundColor),i.fontFamily&&n("fontFamily",i.fontFamily)&&(i.fontFamily="none"),i.fontSeries&&n("fontSeries",i.fontSeries)&&(i.fontSeries="auto"),i.fontShape&&n("fontShape",i.fontShape)&&(i.fontShape="auto"),i.fontSize&&n("fontSize",i.fontSize)&&(i.fontSize=w6),i.variant&&n("variant",i.variant)&&(i.variant="normal"),i.variantStyle&&n("variantStyle",i.variantStyle)&&(i.variantStyle=""));for(let a of s)a.applyStyle(i);return!0}function Xle(t){return{up:"italic",bold:"bolditalic",italic:"italic",bolditalic:"bolditalic","":"italic"}[t??""]}function I2(t){return{up:"up",bold:"bold",italic:void 0,bolditalic:"bold","":void 0}[t??""]}var DC={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic","ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams ML__bold"],"ams-italic":["AMS-Regular","ML__ams ML__it"],"ams-bolditalic":["AMS-Regular","ML__ams ML__bold ML__it"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans ML__it"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans ML__bold ML__it"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular","ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak ML__bold"],"fraktur-italic":["Fraktur-Regular","ML__frak ML__it"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak ML__bold ML__it"],monospace:["Typewriter-Regular","ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb ML__bold"],"double-struck-italic":["AMS-Regular","ML__bb ML_italic"],"double-struck-bolditalic":["AMS-Regular","ML__bb ML_bolditalic"]},j5={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^’‘]$/,monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},BP=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,Yle=/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/,Zle=[/^[a-z]$/,/^[A-Z]$/,BP,Yle],Jle={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],upright:["up","up","up","up"]},Qle=class extends Mn{constructor(){super("math")}createAtom(t,e,i){var r,n,s,a,o,l;if(e===null)return new ue({type:"mord",mode:"math",command:t,value:t,style:i});let u;try{u=(s=(n=globalThis.MathfieldElement)==null?void 0:n.isFunction((r=e.command)!=null?r:t))!=null?s:!1}catch{u=!1}if(e.definitionType==="symbol"){let d=new ue({type:(a=e.type)!=null?a:"mord",mode:"math",command:(o=e.command)!=null?o:t,value:String.fromCodePoint(e.codepoint),isFunction:u,style:i});return t.startsWith("\\")&&(d.verbatimLatex=t),d}let c=new ue({type:"mord",mode:"math",command:(l=e.command)!=null?l:t,value:t,isFunction:u,style:i});return t.startsWith("\\")&&(c.verbatimLatex=t),c}serialize(t,e){let i=eue(t,Z(q({},e),{defaultMode:"math"}));return i.length===0||e.defaultMode!=="text"?i:["$ ",...i," $"]}getFont(t,e){var i,r;if(e.variant,e.fontFamily){let[u,c]=DC[e.fontFamily];return c&&(t.classes+=" "+c),u}let{variant:n}=e,{variantStyle:s}=e;if(n==="normal"&&!s&&/[\u00A3\u0131\u0237]/.test(t.value)&&(n="main",s="italic"),n==="normal"&&!s&&t.value.length===1){let u=!1;Zle.forEach((c,d)=>{var h;c.test(t.value)&&Jle[(h=e.letterShapeStyle)!=null?h:"tex"][d]==="it"&&(u=!0)}),u&&(s=Xle(s))}s==="up"&&(s=void 0);let a=s?n+"-"+s:n,[o,l]=DC[a];if(j5[n]&&!j5[n].test(t.value)){let u=M5(t.value,n,s);return u||(u=(i=M5(t.value,n))!=null?i:t.value,t.classes+=(r={bold:" ML__bold",italic:" ML__it","bold-italic":" ML__bold ML__it"}[s??""])!=null?r:""),t.value=u,null}return BP.test(t.value)&&(t.classes+=" lcGreek"),l&&(t.classes+=" "+l),o}};function eue(t,e){return fo(t,"bold").map(i=>{if(O5(i[0])!=="bold"||O5(i[0].parent)==="bold")return kt(Pm(i,e));let r=kt(i.map(n=>{var s;return(s=n.value)!=null?s:""}));return/^[a-zA-Z0-9]+$/.test(r)?ti("\\mathbf",kt(Pm(i,e))):ti("\\bm",kt(Pm(i,e)))})}function Pm(t,e){let{parent:i}=t[0],r=F5(i);return fo(t,"variant").map(n=>{let s=F5(n[0]),a="";s&&s!==r&&(a={calligraphic:"\\mathcal","calligraphic-uo":"\\mathcal",fraktur:"\\mathfrak","fraktur-uo":"\\mathfrak","double-struck":"\\mathbb","double-struck-uo":"\\mathbb",script:"\\mathscr","script-uo":"\\mathscr",monospace:"\\mathtt","monospace-uo":"\\mathtt","sans-serif":"\\mathsf","sans-serif-uo":"\\mathsf",normal:"","normal-up":"\\mathrm","normal-italic":"\\mathnormal","normal-bold":"","normal-bolditalic":"\\mathbfit",ams:"","ams-up":"\\mathrm","ams-italic":"\\mathit","ams-bold":"","ams-bolditalic":"\\mathbfit",main:"","main-up":"\\mathrm","main-italic":"\\mathit","main-bold":"","main-bolditalic":"\\mathbfit"}[s]);let o=kt(n.map(l=>l._serialize(e)));return a?ti(a,o):o})}new Qle;function tue(t,e){return t.map(i=>i._serialize(e))}function iue(t,e){return fo(t,"fontShape").map(i=>{let r=tue(i,e),{fontShape:n}=i[0].style,s="";return n==="it"&&(s="\\textit"),n==="sl"&&(s="\\textsl"),n==="sc"&&(s="\\textsc"),n==="n"&&(s="\\textup"),!s&&n?`{${ti("\\fontshape",n)}${kt(r)}}`:s?ti(s,kt(r)):kt(r)})}function rue(t,e){return fo(t,"fontSeries").map(i=>{let r=iue(i,e),{fontSeries:n}=i[0].style,s="";return n==="b"&&(s="\\textbf"),n==="l"&&(s="\\textlf"),n==="m"&&(s="\\textmd"),n&&!s?`{${ti("\\fontseries",n)}${kt(r)}}`:s?ti(s,kt(r)):kt(r)})}function nue(t,e){return fo(t,"fontSize").map(i=>{var r,n;let s=rue(i,e),a=(n=["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][(r=i[0].style.fontSize)!=null?r:""])!=null?n:"";return a?`${a} ${kt(s)}`:kt(s)})}function sue(t,e,i){return fo(t,"fontFamily").map(r=>{var n;i=i&&!r.every(l=>l.style.fontFamily||l.style.fontShape||l.style.fontSeries||l.style.fontSize);let s=nue(r,e),{fontFamily:a}=r[0].style,o=(n={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[a??""])!=null?n:"";return o?`\\${o}{${kt(s)}}`:a?`{\\fontfamily{${r[0].style.fontFamily}} ${kt(s)}}`:i?`\\text{${kt(s)}}`:kt(s)})}var LC={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"},aue=class extends Mn{constructor(){super("text")}createAtom(t,e,i){return e&&e.definitionType==="symbol"?new Y0(t,String.fromCodePoint(e.codepoint),i??{}):null}serialize(t,e){return sue(t,Z(q({},e),{defaultMode:"text"}),e.defaultMode!=="text")}getFont(t,e){var i,r,n,s,a;let{fontFamily:o}=e;if(LC[o]?t.classes+=" "+LC[o]:o&&t.setStyle("font-family",o),e.fontShape&&(t.classes+=" ",t.classes+=(i={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[e.fontShape])!=null?i:""),e.fontSeries){let l=e.fontSeries.match(/(.?[lbm])?(.?[cx])?/);l&&(t.classes+=" ",t.classes+=(n={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[(r=l[1])!=null?r:""])!=null?n:"",t.classes+=" ",t.classes+=(a={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[(s=l[2])!=null?s:""])!=null?a:"")}return"Main-Regular"}};new aue;var oue=class extends Mn{constructor(){super("latex")}createAtom(t){return new rr(t)}serialize(t,e){return t.filter(i=>i instanceof rr&&!i.isSuggestion).map(i=>i.value)}getFont(){return null}};new oue;var lue={id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["x","X","≈","˛"],KeyC:["j","J","∆","Ô"],KeyD:["e","E","´","´"],KeyE:[".",">","≥","˘"],KeyF:["u","U","¨","¨"],KeyG:["i","I","ˆ","ˆ"],KeyH:["d","D","∂","Î"],KeyI:["c","C","ç","Ç"],KeyJ:["h","H","˙","Ó"],KeyK:["t","T","†","ˇ"],KeyL:["n","N","˜","˜"],KeyM:["m","M","µ","Â"],KeyN:["b","B","∫","ı"],KeyO:["r","R","®","‰"],KeyP:["l","L","¬","Ò"],KeyQ:["'",'"',"æ","Æ"],KeyR:["p","P","π","∏"],KeyS:["o","O","ø","Ø"],KeyT:["y","Y","¥","Á"],KeyU:["g","G","©","˝"],KeyV:["k","K","˚",""],KeyW:[",","<","≤","¯"],KeyX:["q","Q","œ","Œ"],KeyY:["f","F","ƒ","Ï"],KeyZ:[";",":","…","Ú"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","&","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["[","{","“","”"],Equal:["]","}","‘","’"],BracketLeft:["/","?","÷","¿"],BracketRight:["=","+","≠","±"],Backslash:["\\","|","«","»"],Semicolon:["s","S","ß","Í"],Quote:["-","_","–","—"],Backquote:["`","~","`","`"],Comma:["w","W","∑","„"],Period:["v","V","√","◊"],Slash:["z","Z","Ω","¸"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},V5={id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","ı"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","Î"],KeyE:["e","E","´","´"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","˝"],KeyH:["h","H","˙","Ó"],KeyI:["i","I","ˆ","ˆ"],KeyJ:["j","J","∆","Ô"],KeyK:["k","K","˚",""],KeyL:["l","L","¬","Ò"],KeyM:["m","M","µ","Â"],KeyN:["n","N","˜","˜"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®","‰"],KeyS:["s","S","ß","Í"],KeyT:["t","T","†","ˇ"],KeyU:["u","U","¨","¨"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","˛"],KeyY:["y","Y","¥","Á"],KeyZ:["z","Z","Ω","¸"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","&","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["-","_","–","—"],Equal:["=","+","≠","±"],BracketLeft:["[","{","“","”"],BracketRight:["]","}","‘","’"],Backslash:["\\","|","«","»"],Semicolon:[";",":","…","Ú"],Quote:["'",'"',"æ","Æ"],Backquote:["`","˜","`","`"],Comma:[",","<","≤","¯"],Period:[".",">","≥","˘"],Slash:["/","?","÷","¿"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},PP={id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","á","Á"],KeyB:["b","B","",""],KeyC:["c","C","©","¢"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","é","É"],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","í","Í"],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","ø","Ø"],KeyM:["m","M","µ",""],KeyN:["n","N","ñ","Ñ"],KeyO:["o","O","ó","Ó"],KeyP:["p","P","ö","Ö"],KeyQ:["q","Q","ä","Ä"],KeyR:["r","R","®",""],KeyS:["s","S","ß","§"],KeyT:["t","T","þ","Þ"],KeyU:["u","U","ú","Ú"],KeyV:["v","V","",""],KeyW:["w","W","å","Å"],KeyX:["x","X","",""],KeyY:["y","Y","ü","Ü"],KeyZ:["z","Z","æ","Æ"],Digit1:["1","!","¡","¹"],Digit2:["2","@","²",""],Digit3:["3","#","³",""],Digit4:["4","$","¤","£"],Digit5:["5","%","€",""],Digit6:["6","^","¼",""],Digit7:["7","&","½",""],Digit8:["8","*","¾",""],Digit9:["9","(","‘",""],Digit0:["0",")","’",""],Space:[" "," ","",""],Minus:["-","_","¥",""],Equal:["=","+","×","÷"],BracketLeft:["[","{","«",""],BracketRight:["]","}","»",""],Backslash:["\\","|","¬","¦"],Semicolon:[";",":","¶","°"],Quote:["'",'"',"´","¨"],Backquote:["`","~","",""],Comma:[",","<","ç","Ç"],Period:[".",">","",""],Slash:["/","?","¿",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}},IP={id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f","F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2","@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","&","7","&"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["=","+","=","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","<",",","<"],Period:[".",">",".",">"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},uue={id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","‡","Ω"],KeyB:["b","B","ß","∫"],KeyC:["c","C","©","¢"],KeyD:["d","D","∂","∆"],KeyE:["e","E","ê","Ê"],KeyF:["f","F","ƒ","·"],KeyG:["g","G","ﬁ","ﬂ"],KeyH:["h","H","Ì","Î"],KeyI:["i","I","î","ï"],KeyJ:["j","J","Ï","Í"],KeyK:["k","K","È","Ë"],KeyL:["l","L","¬","|"],KeyM:[",","?","∞","¿"],KeyN:["n","N","~","ı"],KeyO:["o","O","œ","Œ"],KeyP:["p","P","π","∏"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","®","‚"],KeyS:["s","S","Ò","∑"],KeyT:["t","T","†","™"],KeyU:["u","U","º","ª"],KeyV:["v","V","◊","√"],KeyW:["z","Z","Â","Å"],KeyX:["x","X","≈","⁄"],KeyY:["y","Y","Ú","Ÿ"],KeyZ:["w","W","‹","›"],Digit1:["&","1","","´"],Digit2:["é","2","ë","„"],Digit3:['"',"3","“","”"],Digit4:["'","4","‘","’"],Digit5:["(","5","{","["],Digit6:["§","6","¶","å"],Digit7:["è","7","«","»"],Digit8:["!","8","¡","Û"],Digit9:["ç","9","Ç","Á"],Digit0:["à","0","ø","Ø"],Space:[" "," "," "," "],Minus:[")","°","}","]"],Equal:["-","_","—","–"],BracketLeft:["^","¨","ô","Ô"],BracketRight:["$","*","€","¥"],Backslash:["`","£","@","#"],Semicolon:["m","M","µ","Ó"],Quote:["ù","%","Ù","‰"],Backquote:["<",">","≤","≥"],Comma:[";",".","…","•"],Period:[":","/","÷","\\"],Slash:["=","+","≠","±"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","•","Ÿ"],NumpadEqual:["=","=","=","="]}},cue={id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["é","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["è","7","`",""],Digit8:["_","8","\\",""],Digit9:["ç","9","^",""],Digit0:["à","0","@",""],Space:[" "," ","",""],Minus:[")","°","]",""],Equal:["=","+","}",""],BracketLeft:["^","¨","",""],BracketRight:["$","£","¤",""],Backslash:["*","µ","",""],Semicolon:["m","M","",""],Quote:["ù","%","",""],Backquote:["²","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","§","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}},due={id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@","Ω"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:[",","?","́","̋"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["z","Z","«","<"],KeyX:["x","X","»",">"],KeyY:["y","Y","←","¥"],KeyZ:["w","W","ł","Ł"],Digit1:["&","1","¹","¡"],Digit2:["é","2","~","⅛"],Digit3:['"',"3","#","£"],Digit4:["'","4","{","$"],Digit5:["(","5","[","⅜"],Digit6:["-","6","|","⅝"],Digit7:["è","7","`","⅞"],Digit8:["_","8","\\","™"],Digit9:["ç","9","^","±"],Digit0:["à","0","@","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:[")","°","]","¿"],Equal:["=","+","}","̨"],BracketLeft:["̂","̈","̈","̊"],BracketRight:["$","£","¤","̄"],Backslash:["*","µ","̀","̆"],Semicolon:["m","M","µ","º"],Quote:["ù","%","̂","̌"],Backquote:["²","~","¬","¬"],Comma:[";",".","─","×"],Period:[":","/","·","÷"],Slash:["!","§","̣","̇"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"]}},hue={id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","‹"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","™"],KeyE:["e","E","€","‰"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","Ì"],KeyH:["h","H","ª","Ó"],KeyI:["i","I","⁄","Û"],KeyJ:["j","J","º","ı"],KeyK:["k","K","∆","ˆ"],KeyL:["l","L","@","ﬂ"],KeyM:["m","M","µ","˘"],KeyN:["n","N","~","›"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","«","»"],KeyR:["r","R","®","¸"],KeyS:["s","S","‚","Í"],KeyT:["t","T","†","˝"],KeyU:["u","U","¨","Á"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","Ù"],KeyY:["z","Z","Ω","ˇ"],KeyZ:["y","Y","¥","‡"],Digit1:["1","!","¡","¬"],Digit2:["2",'"',"“","”"],Digit3:["3","§","¶","#"],Digit4:["4","$","¢","£"],Digit5:["5","%","[","ﬁ"],Digit6:["6","&","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{","˜"],Digit9:["9",")","}","·"],Digit0:["0","=","≠","¯"],Space:[" "," "," "," "],Minus:["ß","?","¿","˙"],Equal:["´","`","'","˚"],BracketLeft:["ü","Ü","•","°"],BracketRight:["+","*","±",""],Backslash:["#","'","‘","’"],Semicolon:["ö","Ö","œ","Œ"],Quote:["ä","Ä","æ","Æ"],Backquote:["<",">","≤","≥"],Comma:[",",";","∞","˛"],Period:[".",":","…","÷"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","°","„","“"],NumpadEqual:["=","=","=","="]}},pue={id:"windows.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","µ",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"²",""],Digit3:["3","§","³",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Space:[" "," ","",""],Minus:["ß","?","\\","ẞ"],Equal:["´","`","",""],BracketLeft:["ü","Ü","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["ö","Ö","",""],Quote:["ä","Ä","",""],Backquote:["^","°","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","|",""]}},fue={id:"linux.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","æ","Æ"],KeyB:["b","B","“","‘"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","€"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̣","̇"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:["m","M","µ","º"],KeyN:["n","N","”","’"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["q","Q","@","Ω"],KeyR:["r","R","¶","®"],KeyS:["s","S","ſ","ẞ"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","„","‚"],KeyW:["w","W","ł","Ł"],KeyX:["x","X","«","‹"],KeyY:["z","Z","←","¥"],KeyZ:["y","Y","»","›"],Digit1:["1","!","¹","¡"],Digit2:["2",'"',"²","⅛"],Digit3:["3","§","³","£"],Digit4:["4","$","¼","¤"],Digit5:["5","%","½","⅜"],Digit6:["6","&","¬","⅝"],Digit7:["7","/","{","⅞"],Digit8:["8","(","[","™"],Digit9:["9",")","]","±"],Digit0:["0","=","}","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["ß","?","\\","¿"],Equal:["́","̀","̧","̨"],BracketLeft:["ü","Ü","̈","̊"],BracketRight:["+","*","~","¯"],Backslash:["#","'","’","̆"],Semicolon:["ö","Ö","̋","̣"],Quote:["ä","Ä","̂","̌"],Backquote:["̂","°","′","″"],Comma:[",",";","·","×"],Period:[".",":","…","÷"],Slash:["-","_","–","—"],PrintScreen:["","","",""],PageUp:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",",","",","],IntlBackslash:["<",">","|","̱"],AltRight:["\r","\r","\r","\r"],MetaRight:[".",".",".","."]}},mue={id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","ß",""],KeyC:["c","C","©"," "],KeyD:["d","D","∂","∆"],KeyE:["e","E","€","€"],KeyF:["f","F","ƒ","ﬁ"],KeyG:["g","G","","ﬂ"],KeyH:["h","H","™"," "],KeyI:["i","I"," "," "],KeyJ:["j","J","¶","¯"],KeyK:["k","K","§","ˇ"],KeyL:["l","L"," ","˘"],KeyM:["m","M","µ","˚"],KeyN:["n","N"," ","˙"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®"," "],KeyS:["s","S","∫"," "],KeyT:["t","T","†","‡"],KeyU:["u","U"," "," "],KeyV:["v","V","√","◊"],KeyW:["w","W","æ","Æ"],KeyX:["x","X","∑","›"],KeyY:["y","Y","¥"," "],KeyZ:["z","Z","Ω","‹"],Digit1:["1","!","|","ı"],Digit2:["2",'"',"@","˝"],Digit3:["3","·","#","•"],Digit4:["4","$","¢","£"],Digit5:["5","%","∞","‰"],Digit6:["6","&","¬"," "],Digit7:["7","/","÷","⁄"],Digit8:["8","(","“","‘"],Digit9:["9",")","”","’"],Digit0:["0","=","≠","≈"],Space:[" "," "," "," "],Minus:["'","?","´","¸"],Equal:["¡","¿","‚","˛"],BracketLeft:["`","^","[","ˆ"],BracketRight:["+","*","]","±"],Backslash:["ç","Ç","}","»"],Semicolon:["ñ","Ñ","~","˜"],Quote:["´","¨","{","«"],Backquote:["<",">","≤","≥"],Comma:[",",";","„",""],Period:[".",":","…","…"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["º","ª","\\","°"]}},gue={id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","·","#",""],Digit4:["4","$","~",""],Digit5:["5","%","€",""],Digit6:["6","&","¬",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["¡","¿","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["ç","Ç","}",""],Semicolon:["ñ","Ñ","",""],Quote:["´","¨","{",""],Backquote:["º","ª","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}},yue={id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","æ","Æ"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:["m","M","µ","º"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["q","Q","@","Ω"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["w","W","ł","Ł"],KeyX:["x","X","»",">"],KeyY:["y","Y","←","¥"],KeyZ:["z","Z","«","<"],Digit1:["1","!","|","¡"],Digit2:["2",'"',"@","⅛"],Digit3:["3","·","#","£"],Digit4:["4","$","~","$"],Digit5:["5","%","½","⅜"],Digit6:["6","&","¬","⅝"],Digit7:["7","/","{","⅞"],Digit8:["8","(","[","™"],Digit9:["9",")","]","±"],Digit0:["0","=","}","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["'","?","\\","¿"],Equal:["¡","¿","̃","~"],BracketLeft:["̀","̂","[","̊"],BracketRight:["+","*","]","̄"],Backslash:["ç","Ç","}","̆"],Semicolon:["ñ","Ñ","~","̋"],Quote:["́","̈","{","{"],Backquote:["º","ª","\\","\\"],Comma:[",",";","─","×"],Period:[".",":","·","÷"],Slash:["-","_","̣","̇"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}};function RP(t){let e=t.split("+"),i={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:e.pop()};return e.includes("shift")&&(i.shift=!0),e.includes("alt")&&(i.alt=!0),e.includes("ctrl")&&(i.ctrl=!0),e.includes("cmd")&&(i.cmd=!0),e.includes("win")&&(i.win=!0),e.includes("meta")&&(i.meta=!0),i}function Fc(t){let e="";return t.shift&&(e+="shift+"),t.alt&&(e+="alt+"),t.ctrl&&(e+="ctrl+"),t.cmd&&(e+="cmd+"),t.win&&(e+="win+"),t.meta&&(e+="meta+"),e+t.key}var vue={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",f19:"[F19]"},hg=[];function D6(){switch(X0()){case"macos":case"ios":return"apple";case"windows":return"windows"}return"linux"}function kn(t){(!t.platform||t.platform===D6())&&hg.push(t)}function bue(t,e){var i;let r={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!t)return r;for(let[n,s]of Object.entries(e.mapping)){if(s[0]===t)return r.key=`[${n}]`,r;if(s[1]===t)return r.shift=!0,r.key=`[${n}]`,r;if(s[2]===t)return r.alt=!0,r.key=`[${n}]`,r;if(s[3]===t)return r.shift=!0,r.alt=!0,r.key=`[${n}]`,r}return r.key=(i=vue[t])!=null?i:"",r}function xue(t){if(t.code)return t;let e=Object.entries(tp().mapping),i=!1,r=!1,n="";for(let s=0;s<4;s++){for(let[a,o]of e)if(o[s]===t.key){n=a,s===3?(i=!0,r=!0):s===2?i=!0:s===1&&(r=!0);break}if(n)break}return new KeyboardEvent(t.type,Z(q({},t),{altKey:i,shiftKey:r,code:n}))}function _ue(t){var e,i;if(!t||t.key==="Unidentified"||t.key==="Dead")return;let r=t.shiftKey&&t.altKey?3:t.altKey?2:t.shiftKey?1:0;for(let n of hg)((e=n.mapping[t.code])==null?void 0:e[r])===t.key?n.score+=1:(i=n.mapping[t.code])!=null&&i[r]&&(n.score=0);hg.sort((n,s)=>s.score-n.score)}function tp(){return hg[0]}function wue(){switch(D6()){case"apple":return V5;case"windows":return PP;case"linux":return IP}return V5}switch(D6()){case"apple":kn(V5),kn(uue),kn(mue),kn(hue);break;case"windows":kn(PP),kn(cue),kn(gue),kn(pue);break;case"linux":kn(IP),kn(due),kn(yue),kn(fue);break}kn(lue);function L6(t){var e;let i=/macos|ios/.test(X0()),r=t.split("+"),n="";for(let s of r)n&&(n+=i?" ":'<span class="ML__shortcut-join">+</span>'),s.startsWith("[Key")?n+=s.slice(4,5):s.startsWith("Key")?n+=s.slice(3,4):s.startsWith("[Digit")?n+=s.slice(6,7):s.startsWith("Digit")?n+=s.slice(5,6):n+=(e={cmd:"⌘",meta:i?"⌘":"Ctrl",shift:i?"⇧":"Shift",alt:i?"⌥":"Alt",ctrl:i?"⌃":"Ctrl","\n":i?"⏎":"Return","[return]":i?"⏎":"Return","[enter]":i?"⌤":"Enter","[tab]":i?"⇥":"Tab","[escape]":"Esc","[backspace]":i?"⌫":"Backspace","[delete]":i?"⌦":"Del","[pageup]":i?"⇞":"Page Up","[pagedown]":i?"⇟":"Page Down","[home]":i?"⤒":"Home","[end]":i?"⤓":"End","[space]":"Space","[equal]":"=","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"=",quote:"'",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* &#128290;",numpaddivide:"/ &#128290;",numpadsubtract:"- &#128290;",numpadadd:"+ &#128290;",numpaddecimal:". &#128290;",numpadcomma:", &#128290;",help:"help",left:"⇠",up:"⇡",right:"⇢",down:"⇣","[arrowleft]":"⇠","[arrowup]":"⇡","[arrowright]":"⇢","[arrowdown]":"⇣"}[s.toLowerCase()])!=null?e:s.toUpperCase();return n}function pg(t){if(t instanceof MouseEvent||t instanceof PointerEvent)return{x:t.clientX,y:t.clientY};if(typeof TouchEvent<"u"&&t instanceof TouchEvent){let e=[...t.touches].reduce((r,n)=>({x:r.x+n.clientX,y:r.y+n.clientY}),{x:0,y:0}),i=t.touches.length;return{x:e.x/i,y:e.y/i}}}function fu(t){let e={alt:!1,control:!1,shift:!1,meta:!1};return(t instanceof MouseEvent||t instanceof PointerEvent||typeof TouchEvent<"u"&&t instanceof TouchEvent||t instanceof KeyboardEvent)&&(t.altKey&&(e.alt=!0),t.ctrlKey&&(e.control=!0),t.metaKey&&(e.meta=!0),t.shiftKey&&(e.shift=!0)),e}function Sue(t,e){return!t&&e||t&&!e?!1:!t||!e?!0:t.alt===e.alt&&t.control===e.control&&t.shift===e.shift&&t.meta===e.meta}var Cue=new Set(["Backquote","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Minus","Equal","IntlYen","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","IntlRo","Space","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadComma","NumpadDecimal","NumpadDivide","NumpadEqual","NumpadHash","NumpadMultiply","NumpadParenLeft","NumpadParenRight","NumpadStar","NumpadSubstract"]);function R2(t){return t.ctrlKey||t.metaKey||["Dead","Process"].includes(t.key)?!1:t.code===""?!0:Cue.has(t.code)}function fg(){var t;let e=document.activeElement;for(;(t=e==null?void 0:e.shadowRoot)!=null&&t.activeElement;)e=e.shadowRoot.activeElement;return e}var ws=class La{static get scrim(){return La._scrim||(La._scrim=new La),La._scrim}static open(e){La.scrim.open(e)}static close(){La.scrim.close()}static get state(){return La.scrim.state}static get element(){return La.scrim.element}constructor(e){var i,r;this.lightDismiss=(i=e==null?void 0:e.lightDismiss)!=null?i:!0,this.translucent=(r=e==null?void 0:e.translucent)!=null?r:!1,this.state="closed"}get element(){if(this._element)return this._element;let e=document.createElement("div");return e.setAttribute("role","presentation"),e.style.position="fixed",e.style.contain="content",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.zIndex="var(--scrim-zindex, 10099)",e.style.outline="none",this.translucent?(e.style.background="rgba(255, 255, 255, .2)",e.style.backdropFilter="contrast(40%)"):e.style.background="transparent",this._element=e,e}open(e){var i;if(this.state!=="closed")return;this.state="opening",this.onDismiss=e==null?void 0:e.onDismiss,this.savedActiveElement=fg();let{element:r}=this;((i=e==null?void 0:e.root)!=null?i:document.body).appendChild(r),r.addEventListener("click",this),document.addEventListener("touchmove",this,!1),document.addEventListener("scroll",this,!1);let n=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight,this.savedOverflow=document.body.style.overflow,document.body.style.overflow="hidden";let s=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=`${s+n}px`;let a=document.querySelector(".MLK__plate");if(a instanceof HTMLElement){this.savedMlkPaddingRight=a.style.paddingRight;let o=Number.parseFloat(getComputedStyle(a).paddingRight);a.style.paddingRight=`${o+n}px`}e!=null&&e.child&&r.append(e.child),this.state="open"}close(){var e,i,r,n,s;if(this.state!=="open"){this.element.parentElement;return}this.state="closing",typeof this.onDismiss=="function"&&this.onDismiss(),this.onDismiss=void 0;let{element:a}=this;a.removeEventListener("click",this),document.removeEventListener("touchmove",this,!1),document.removeEventListener("scroll",this,!1),a.remove(),document.body.style.overflow=(e=this.savedOverflow)!=null?e:"",document.body.style.marginRight=(i=this.savedMarginRight)!=null?i:"";let o=document.querySelector(".MLK__plate");o instanceof HTMLElement&&(o.style.paddingRight=(r=this.savedMlkPaddingRight)!=null?r:""),fg()!==this.savedActiveElement&&((s=(n=this.savedActiveElement)==null?void 0:n.focus)==null||s.call(n)),a.innerHTML="",this.state="closed"}handleEvent(e){this.lightDismiss&&(e.target===this._element&&e.type==="click"?(this.close(),e.preventDefault(),e.stopPropagation()):e.target===document&&(e.type==="touchmove"||e.type==="scroll")&&(this.close(),e.preventDefault(),e.stopPropagation()))}};function kue(t,e,i){let r=null,n=null,s=!1,a=!1,o=!1,l=new AbortController,u=l.signal;return t.addEventListener("keydown",c=>{if(s||c.key==="Process"||c.code==="CapsLock"||/(Control|Meta|Alt|Shift)(Left|Right)/.test(c.code)){r=null;return}r=c,n=null,i.onKeystroke(c)?t.textContent="":r=null},{capture:!0,signal:u}),t.addEventListener("keypress",c=>{s||(r&&n&&i.onKeystroke(r),n=c)},{capture:!0,signal:u}),t.addEventListener("compositionstart",c=>{t.textContent="",s=!0,i.onCompositionStart(c.data)},{capture:!0,signal:u}),t.addEventListener("compositionupdate",c=>{s&&i.onCompositionUpdate(c.data)},{capture:!0,signal:u}),t.addEventListener("compositionend",c=>{t.textContent="",s&&(s=!1,i.onCompositionEnd(c.data))},{capture:!0,signal:u}),t.addEventListener("beforeinput",c=>c.stopImmediatePropagation(),{signal:u}),t.addEventListener("input",c=>{var d;if(!s&&(t.textContent="",c.inputType!=="insertCompositionText")){if(c.inputType==="insertFromPaste"){c.preventDefault(),c.stopPropagation();return}i.onInput((d=c.data)!=null?d:""),c.preventDefault(),c.stopPropagation()}},{signal:u}),t.addEventListener("paste",c=>{t.focus({preventScroll:!0}),t.textContent="",i.onPaste(c)||c.preventDefault(),c.stopImmediatePropagation()},{signal:u}),t.addEventListener("cut",c=>i.onCut(c),{capture:!0,signal:u}),t.addEventListener("copy",c=>i.onCopy(c),{capture:!0,signal:u}),t.addEventListener("blur",c=>{var d,h;if(((h=(d=c.relatedTarget)==null?void 0:d._mathfield)==null?void 0:h.element)===e){t.focus({preventScroll:!0}),c.preventDefault(),c.stopPropagation();return}let f=!1,g=c.relatedTarget;for(;g;){if(g.classList.contains("ML__keyboard")){f=!0;break}g=g.parentElement}if(f){t.focus({preventScroll:!0}),c.preventDefault(),c.stopPropagation();return}let y=ws.state;if(y==="open"||y==="opening"){c.preventDefault(),c.stopPropagation();return}if(c.relatedTarget===c.target.getRootNode().host){c.preventDefault(),c.stopPropagation();return}o||a||(o=!0,r=null,n=null,i.onBlur(),o=!1)},{capture:!0,signal:u}),t.addEventListener("focus",c=>{o||a||(a=!0,i.onFocus(),a=!1)},{capture:!0,signal:u}),{dispose:()=>l.abort(),cancelComposition:()=>{s&&(typeof t.blur=="function"&&t.blur(),requestAnimationFrame(()=>t.focus({preventScroll:!0})))},blur:()=>{typeof t.blur=="function"&&(o=!0,t.blur(),o=!1)},focus:()=>{!a&&typeof t.focus=="function"&&(a=!0,t.focus({preventScroll:!0}),a=!1)},hasFocus:()=>fg()===t,setAriaLabel:c=>t.setAttribute("aria-label",c),setValue:c=>{var d;t.textContent!==c&&(t.textContent=c,t.style.left="-1000px",(d=window.getSelection())==null||d.selectAllChildren(t))},moveTo:(c,d)=>{t.style.top=`${d}px`,t.style.left=`${c}px`}}}function Mc(t){var e;if(!t||!R2(t))return"";let i;return t.key==="Unidentified"&&t.target&&(i=t.target.value),i=(e=i??t.key)!=null?e:t.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(i)&&(i=""),i}function OP(t){t=xue(t);let e=[];return t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),e.length===0?`[${t.code}]`:(e.push(`[${t.code}]`),e.join("+"))}function Tue(t){if(os()){let e=X0(),i=t.startsWith("!"),r=t.endsWith(e);if(i&&!r||!i&&r)return!0}return t==="!other"?!1:t==="other"}function Eue(t,e,i){if(t.length===0)return"";let r=Fc(RP(OP(i))),n=Fc({key:i.key,shift:i.shiftKey,alt:i.altKey,ctrl:i.ctrlKey,meta:i.metaKey||i.ctrlKey&&/macos|ios/.test(X0()),cmd:!1,win:!1});for(let s=t.length-1;s>=0;s--)if((t[s].key===r||t[s].key===n)&&(!t[s].ifMode||t[s].ifMode===e))return t[s].command;return""}function BC(t){let e=t;return mr(e)&&(e=e.length>0?e[0]+"("+e.slice(1).join("")+")":""),e}function Aue(t,e){let i=[];if(typeof e=="string"){let s=lle[e];mr(s)?i=s.slice():s&&i.push(s)}let r=BC(e),n=new RegExp("^"+r.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(let s of t)n.test(BC(s.command))&&i.push(s.key);return i.map(L6)}function Mue(t,e){if(t.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(t.ifPlatform))throw new Error(`Unexpected platform "${t.ifPlatform}" for keybinding ${t.key}`);if(t.ifLayout!==void 0&&(e.score===0||!t.ifLayout.includes(e.id)))return;let i=RP(t.key),r=t.ifPlatform;if(i.cmd){if(r&&r!=="macos"&&r!=="ios")throw new Error('Unexpected "cmd" modifier with platform "'+r+`"
"cmd" modifier can only be used with macOS or iOS platform.`);r||(r=X0()==="ios"?"ios":"macos"),i.win=!1,i.cmd=!1,i.meta=!0}if(i.win){if(r&&r!=="windows")throw new Error('Unexpected "win" modifier with platform "'+r+`"
"win" modifier can only be used with Windows platform.`);r="windows",i.win=!1,i.cmd=!1,i.meta=!0}if(r&&!Tue(r))return;if(/^\[.+\]$/.test(i.key))return Z(q({},t),{key:Fc(i)});let n=bue(i.key,e);if(!n)return Z(q({},t),{key:Fc(i)});if(n.shift&&i.shift||n.alt&&i.alt)throw new Error(`The keybinding ${t.key} (${H5(t.command)}) is conflicting with the key combination ${Fc(n)} using the ${e.displayName} keyboard layout`);return n.shift=n.shift||i.shift,n.alt=n.alt||i.alt,n.meta=i.meta,n.ctrl=i.ctrl,Z(q({},t),{key:Fc(n)})}function H5(t){if(Array.isArray(t)){let e=[...t];return e.shift()+"("+e.map(i=>typeof i=="string"?`"${i}"`:i.toString()).join(", ")+")"}return t}function Due(t,e){let i=[],r=[];for(let n of t)try{let s=Mue(n,e);if(!s)continue;let a=r.find(o=>o.key===s.key&&o.ifMode===s.ifMode);if(a)throw new Error(`Ambiguous key binding ${n.key} (${H5(n.command)}) matches ${a.key} (${H5(a.command)}) with the ${e.displayName} keyboard layout`);r.push(s)}catch(s){s instanceof Error&&i.push(s.message)}return[r,i]}var Lue=class extends Qt{constructor(){super("latex")}createAtom(t){return new rr(t)}onPaste(t,e){if(!e)return!1;let i=typeof e=="string"?e:e.getData("application/x-latex")||e.getData("text/plain");return i&&t.model.contentWillChange({inputType:"insertFromPaste",data:i})?(t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,i)&&(t.startRecording(),t.snapshot("paste"),t.model.contentDidChange({inputType:"insertFromPaste"}),fi(t)),t.startRecording(),!0):!1}insert(t,e,i){if(!t.contentWillChange({data:e,inputType:"insertText"}))return!1;i||(i={}),i.insertionMode||(i.insertionMode="replaceSelection"),i.selectionMode||(i.selectionMode="placeholder");let{silenceNotifications:r}=t;i.silenceNotifications&&(t.silenceNotifications=!0);let n=t.silenceNotifications;t.silenceNotifications=!0,i.insertionMode==="replaceSelection"&&!t.selectionIsCollapsed?t.deleteAtoms(Cr(t.selection)):i.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):i.insertionMode==="insertBefore"?t.collapseSelection("backward"):i.insertionMode==="insertAfter"&&t.collapseSelection("forward");let s=[];for(let l of e)Moe.test(l)&&s.push(new rr(l));let a=t.at(t.position);if(a instanceof Ch&&(a=a.lastChild),!(a.parent instanceof Ch)){let l=new Ch;a.parent.addChildAfter(l,a),a=l.firstChild}let o=a.parent.addChildrenAfter(s,a);return t.silenceNotifications=n,i.selectionMode==="before"||(i.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(o)):o&&(t.position=t.offsetOf(o))),t.contentDidChange({data:e,inputType:"insertText"}),t.silenceNotifications=r,!0}};function B6(t){return t.atoms.find(e=>e.type==="latexgroup")}function mg(t){var e,i;let r=B6(t);return(i=(e=r==null?void 0:r.body)==null?void 0:e.filter(n=>n.type==="latex"))!=null?i:[]}function FP(t,e){var i;let r=0,n=!1,s=Number.isFinite(e==null?void 0:e.before)?(i=e==null?void 0:e.before)!=null?i:0:t.lastOffset;for(;r<=s&&!n;){let l=t.at(r);n=l instanceof rr&&l.isSuggestion,n||r++}if(!n)return[void 0,void 0];let a=r,o=!1;for(;a<=s&&!o;){let l=t.at(a);o=!(l instanceof rr&&l.isSuggestion),o||a++}return[r-1,a-1]}new Lue;function Bue(t,e){t.flushInlineShortcutBuffer(),t.stopCoalescingUndo();let i=K5(t,e),{model:r}=t;return r.selectionIsCollapsed?(t.defaultStyle.fontSeries&&i.fontSeries===t.defaultStyle.fontSeries&&(i.fontSeries="auto"),i.fontShape&&i.fontShape===t.defaultStyle.fontShape&&(i.fontShape="auto"),i.color&&i.color===t.defaultStyle.color&&(i.color="none"),i.backgroundColor&&i.backgroundColor===t.defaultStyle.backgroundColor&&(i.backgroundColor="none"),i.fontSize&&i.fontSize===t.defaultStyle.fontSize&&(i.fontSize="auto"),t.defaultStyle=q(q({},t.defaultStyle),i)):t.model.deferNotifications({content:!0,type:"insertText"},()=>{r.selection.ranges.forEach(n=>q5(r,n,i,{operation:"toggle"})),t.snapshot("style-change")}),!0}nn({applyStyle:Bue},{target:"mathfield",canUndo:!0,changeContent:!0});function K5(t,e){var i,r,n,s,a,o,l,u,c,d;let h={};if(typeof e.color=="string"){let g=(r=t.colorMap((i=e.color)!=null?i:e.verbatimColor))!=null?r:"none";g!==e.color&&(h.verbatimColor=(n=e.verbatimColor)!=null?n:e.color),h.color=g}if(typeof e.backgroundColor=="string"){let g=(a=t.backgroundColorMap((s=e.backgroundColor)!=null?s:e.verbatimBackgroundColor))!=null?a:"none";g!==e.backgroundColor&&(h.verbatimBackgroundColor=(o=e.verbatimBackgroundColor)!=null?o:e.backgroundColor),h.backgroundColor=g}typeof e.fontFamily=="string"&&(h.fontFamily=e.fontFamily),typeof e.series=="string"&&(h.fontSeries=e.series),typeof e.fontSeries=="string"&&(h.fontSeries=e.fontSeries.toLowerCase()),h.fontSeries&&(h.fontSeries=(l={bold:"b",medium:"m",normal:"m"}[h.fontSeries])!=null?l:h.fontSeries),typeof e.shape=="string"&&(h.fontShape=e.shape),typeof e.fontShape=="string"&&(h.fontShape=e.fontShape.toLowerCase()),h.fontShape&&(h.fontShape=(u={italic:"it",up:"n",upright:"n",normal:"n"}[h.fontShape])!=null?u:h.fontShape),e.variant&&(h.variant=e.variant.toLowerCase()),e.variantStyle&&(h.variantStyle=e.variantStyle.toLowerCase());let f=(c=e.size)!=null?c:e.fontSize;return typeof f=="number"?h.fontSize=Math.max(1,Math.min(10,f)):typeof f=="string"&&(h.fontSize=(d={size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10}[f.toLowerCase()])!=null?d:{tiny:1,scriptsize:2,footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10}[f]),h}function P6(t,e,i){var r,n;let s=t.model;if(s.mode==="latex")return{};let a=t.styleBias;if(a==="none")return t.defaultStyle;if(s.mode==="text")return(n=(r=s.at(a==="right"?i.after:i.before))==null?void 0:r.style)!=null?n:t.defaultStyle;if(s.mode==="math"){let o=s.at(a==="right"?i.after:i.before);return o?Z(q({},o.style),{variant:"normal"}):t.defaultStyle}return{}}function E0(t){let e=t.options.onInsertStyle;if(e===null)return{};e===void 0&&(e=P6);let i=t.model,r=t.styleBias,n=i.at(i.position),s=PC(i,n,r),a=PC(i,n.rightSibling,r);return e(t,i.position,{before:s,after:a})}function PC(t,e,i){var r;return!e||e.type==="first"&&i!=="right"?-1:e.type!=="group"?t.offsetOf(e):!e.body||e.body.length<2?-1:((r=e.body)==null?void 0:r.length)===1||i!=="right"?t.offsetOf(e.body[0]):t.offsetOf(e.body[e.body.length-1])}function O2(t){let e=mg(t.model).filter(i=>i.isSuggestion);if(e.length!==0){t.model.position=t.model.offsetOf(e[0].leftSibling);for(let i of e)i.parent.removeChild(i)}}function Lp(t,e){var i;let{model:r}=t;O2(t);for(let c of mg(r))c.isError=!1;if(!r.selectionIsCollapsed||t.options.popoverPolicy==="off"){M0(t);return}let n=[],s=r.at(r.position);for(;s&&s instanceof rr&&/^[a-zA-Z\*]$/.test(s.value);)s=s.leftSibling;if(s&&s instanceof rr&&s.value==="\\")for(n.push(s),s=s.rightSibling;s&&s instanceof rr&&/^[a-zA-Z\*]$/.test(s.value);)n.push(s),s=s.rightSibling;let a=n.map(c=>c.value).join(""),o=Loe(t,a);if(o.length===0){if(/^\\[a-zA-Z\*]+$/.test(a))for(let c of n)c.isError=!0;M0(t);return}let l=(i=e==null?void 0:e.atIndex)!=null?i:0;t.suggestionIndex=l<0?o.length-1:l%o.length;let u=o[t.suggestionIndex];if(u!==a){let c=n[n.length-1];c.parent.addChildrenAfter([...u.slice(a.length-u.length)].map(d=>new rr(d,{isSuggestion:!0})),c),Eu(t,{interactive:!0})}Iue(t,o)}function IC(t){let[e,i]=FP(t,{before:t.position});if(e===void 0||i===void 0)return!1;let r=!1;return t.getAtoms([e,i]).forEach(n=>{n.isSuggestion&&(n.isSuggestion=!1,r=!0)}),r}function A0(t,e="accept",i){var r,n;M0(t);let s=B6(t.model);if(!s)return!1;if(e==="accept-suggestion"||e==="accept-all"){let u=mg(t.model).filter(c=>c.isSuggestion);if(u.length!==0){for(let c of u)c.isSuggestion=!1;t.model.position=t.model.offsetOf(u[u.length-1])}if(e==="accept-suggestion")return u.length!==0}let a=mg(t.model).filter(u=>!u.isSuggestion).map(u=>u.value).join(""),o=s.leftSibling;if(s.parent.removeChild(s),t.model.position=t.model.offsetOf(o),t.switchMode((r=i==null?void 0:i.mode)!=null?r:"math"),e==="reject")return!0;let l=q({},E0(t));return!/^[a-zA-Z0-9]$/.test(a)&&t.styleBias!=="none"&&(l.variant="normal",l.variantStyle=void 0),Qt.insert(t.model,a,{selectionMode:(n=i==null?void 0:i.selectItem)!=null&&n?"item":"placeholder",format:"latex",mode:"math",style:l}),t.snapshot(),t.model.announce("replacement"),t.switchMode("math"),!0}function F2(t){var e;let i=document.getElementById(t);return i?i.dataset.refcount=Number(Number.parseInt((e=i.dataset.refcount)!=null?e:"0")+1).toString():(i=document.createElement("div"),i.setAttribute("aria-hidden","true"),i.dataset.refcount="1",i.id=t,document.body.append(i)),i}function Bp(t){var e;let i=document.getElementById(t);if(!i)return;let r=Number.parseInt((e=i.getAttribute("data-refcount"))!=null?e:"0");r<=1?i.remove():i.dataset.refcount=Number(r-1).toString()}function Pue(t,e){let i=new Pt({from:t.context}),r=new ue({mode:"math",type:"root",body:ts(e,{context:i})}),n=E2(Dp(new Ae(r.render(i),{classes:"ML__base"}),i));return A2(n,{classes:"ML__latex"}).toMarkup()}function Iue(t,e){var i;if(e.length===0){M0(t);return}let r="";for(let[s,a]of e.entries()){let o=a,l=Pue(t,a),u=Aue(t.keybindings,o).join("<br>");r+=`<li role="button" data-command="${o}" ${s===t.suggestionIndex?"class=ML__popover__current":""}><span class="ML__popover__latex">${o}</span><span class="ML__popover__command">${l}</span>`,u&&(r+=`<span class="ML__popover__keybinding">${u}</span>`),r+="</li>"}let n=Rue(t,`<ul>${r}</ul>`);W5()&&((i=n.querySelector(".ML__popover__current"))==null||i.scrollIntoView({block:"nearest",inline:"nearest"})),setTimeout(()=>{var s;n&&!W5()&&(n.classList.add("is-visible"),N2(t),(s=n.querySelector(".ML__popover__current"))==null||s.scrollIntoView({block:"nearest",inline:"nearest"}))},32)}function W5(){let t=document.getElementById("mathlive-suggestion-popover");return t?t.classList.contains("is-visible"):!1}function N2(t,e){var i,r,n;if(!t.element||t.element.mathfield!==t||!W5())return;if(((i=t.model.at(t.model.position))==null?void 0:i.type)!=="latex"){M0(t);return}if(e!=null&&e.deferred){setTimeout(()=>N2(t),32);return}let s=o1(t.field);if(!s)return;let a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=window.innerWidth-document.documentElement.clientWidth,u=window.innerHeight-document.documentElement.clientHeight,c=(n=(r=window.mathVirtualKeyboard)==null?void 0:r.boundingRect.height)!=null?n:0,d=document.getElementById("mathlive-suggestion-popover");s.x+d.offsetWidth/2>o-l?d.style.left=`${o-d.offsetWidth-l}px`:s.x-d.offsetWidth/2<0?d.style.left="0":d.style.left=`${s.x-d.offsetWidth/2}px`;let h=s.y-s.height;a-u-c-s.y<h?(d.classList.add("ML__popover--reverse-direction"),d.classList.remove("top-tip"),d.classList.add("bottom-tip"),d.style.top=`${s.y-s.height-d.offsetHeight-15}px`):(d.classList.remove("ML__popover--reverse-direction"),d.classList.add("top-tip"),d.classList.remove("bottom-tip"),d.style.top=`${s.y+15}px`)}function M0(t){t.suggestionIndex=0,document.getElementById("mathlive-suggestion-popover")&&Bp("mathlive-suggestion-popover")}function Rue(t,e){let i=document.getElementById("mathlive-suggestion-popover");return i?Bp("mathlive-suggestion-popover"):(gl("suggestion-popover"),gl("core")),i=F2("mathlive-suggestion-popover"),i.addEventListener("pointerdown",r=>r.preventDefault()),i.addEventListener("click",r=>{let n=r.target;for(;n&&!n.dataset.command;)n=n.parentElement;n&&(A0(t,"reject"),Qt.insert(t.model,n.dataset.command,{selectionMode:"placeholder",format:"latex",mode:"math"}),t.dirty=!0,t.focus())}),i.innerHTML=globalThis.MathfieldElement.createHTML(e),i}function Oue(){document.getElementById("mathlive-suggestion-popover")&&(Bp("mathlive-suggestion-popover"),yl("suggestion-popover"),yl("core"))}function Fue(){let t=String(new Error().stack).replace(/^Error.*\n/,"").split(`
`);if(t.length===0)return console.error(`Can't use relative paths to specify assets location because the sourcefile location could not be determined (unexpected stack trace format "${new Error().stack}").`),"";let e=t[1],i=e.match(/http.*\.ts[\?:]/);return i&&(e=t[2]),i=e.match(/(https?:.*):[0-9]+:[0-9]+/),i||(i=e.match(/at (.*(\.ts))[\?:]/),i||(i=e.match(/at (.*(\.mjs|\.js))[\?:]/))),i?i[1]:(console.error(t),console.error(`Can't use relative paths to specify assets location because the source file location could not be determined (unexpected location "${e}").`),"")}var $o=null,RC,OC,ty=((OC=(RC=globalThis==null?void 0:globalThis.document)==null?void 0:RC.currentScript)==null?void 0:OC.src)||Fue();async function NP(t){if(/^(?:[a-z+]+:)?\/\//i.test(t)){try{return new URL(t).href}catch{}if(t.startsWith("//"))try{return new URL(`${window.location.protocol}${t}`).href}catch{}return t}if($o===null)try{let e=await fetch(ty,{method:"HEAD"});e.status===200&&($o=e.url,$o=$o.replace(/\/\+esm$/,"/"),$o.includes("jsdelivr.net/")&&($o+="/"))}catch{console.error(`Invalid URL "${t}" (relative to "${ty}")`)}return new URL(t,$o??ty).href}function Nue(t,e,i={}){return new FontFace(t,`url(${e}.woff2) format('woff2')`,i)}var En="not-loaded";async function $ue(){return En="not-loaded",I6()}async function I6(){var t;if(En==="not-loaded"){if(En="loading",(t=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))!=null?t:!1){En="ready";return}if(document.body.classList.remove("ML__fonts-did-not-load"),"fonts"in document){let e=["KaTeX_Main","KaTeX_Math","KaTeX_AMS","KaTeX_Caligraphic","KaTeX_Fraktur","KaTeX_SansSerif","KaTeX_Script","KaTeX_Typewriter","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4"],i=Array.from(document.fonts).map(s=>s.family);if(e.every(s=>i.includes(s))){En="ready";return}if(!globalThis.MathfieldElement.fontsDirectory){En="not-loaded";return}let r=await NP(globalThis.MathfieldElement.fontsDirectory);if(!r){document.body.classList.add("ML__fonts-did-not-load"),En="error";return}r.endsWith("/")&&(r=r.slice(0,-1));let n=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],["KaTeX_SansSerif-Regular"],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(s=>Nue(s[0].replace(/-[a-zA-Z]+$/,""),`${r}/${s[0]}`,s[1]));try{(await Promise.all(n.map(s=>{try{return s.load()}catch{}}))).forEach(s=>document.fonts.add(s)),En="ready";return}catch(s){console.error(`MathLive 0.105.3: The math fonts could not be loaded from "${r}"`,{cause:s}),document.body.classList.add("ML__fonts-did-not-load")}En="error"}}}function zue(t,e=0){let i=3735928559^e,r=1103547991^e;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);i=Math.imul(i^s,2654435761),r=Math.imul(r^s,1597334677)}return i=Math.imul(i^i>>>16,2246822507),i^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(i^i>>>13,3266489909),4294967296*(2097151&r)+(i>>>0)}function fi(t,e){!t||t.dirty||(t.resizeObserver.unobserve(t.field),t.dirty=!0,requestAnimationFrame(()=>{Oa(t)&&t.dirty&&(t.atomBoundsCache=new Map,Eu(t,e),t.atomBoundsCache=void 0,t.resizeObserver.observe(t.field),t.resizeObserverStarted=!0)}))}function Uue(t,e){var i;e=e??{};let r=new Pt({from:Z(q({},t.context),{atomIdsSettings:{seed:e.forHighlighting?zue(ue.serialize([t.model.root],{expandMacro:!1,defaultMode:t.options.defaultMode})):"random",groupNumbers:(i=e.forHighlighting)!=null?i:!1},letterShapeStyle:t.options.letterShapeStyle}),mathstyle:t.options.defaultMode==="inline-math"?"textstyle":"displaystyle"}),n=t.model.root.render(r);return A2(Dp(n,r),{classes:t.hasEditablePrompts?"ML__latex ML__prompting":"ML__latex",attributes:{translate:"no","aria-hidden":"true"}})}function $P(t,e){try{let{model:i}=t;i.root.caret=void 0,i.root.isSelected=!1,i.root.containsCaret=!0;for(let r of i.atoms)r.caret=void 0,r.isSelected=!1,r.containsCaret=!1;if(i.selectionIsCollapsed){let r=i.at(i.position);r.caret=t.model.mode;let n=r.parent;for(;n;)n.containsCaret=!0,n=n.parent}else{let r=i.getAtoms(i.selection,{includeChildren:!0});for(let n of r)n.isSelected=!0}return Uue(t,e).toMarkup()}catch(i){return console.error(i),'<span class="ML__latex" translate="no" aria-hidden="true">🚫</span>'}}function Eu(t,e){if(!Oa(t))return;e!=null||(e={});let i=t.element.querySelector("[part=virtual-keyboard-toggle]");i&&(i.style.display=t.hasEditableContent?"":"none");let r=t.field;if(!r)return;let n=t.isSelectionEditable&&t.hasFocus(),s=r.classList.contains("ML__focused");s&&!n?r.classList.remove("ML__focused"):!s&&n&&r.classList.add("ML__focused");let a=$P(t,e),o=t.element.querySelector("[part=menu-toggle]");if(o){let l=!1;(t.disabled||t.readOnly&&!t.hasEditableContent||t.userSelect==="none")&&(l=!0),!l&&r.offsetWidth<50&&(l=!0),o.style.display=l?"none":""}if(t.model.atoms.length<=1){let l=t.options.contentPlaceholder;l&&(a+=`<span part=placeholder class="ML__content-placeholder">${Gi(l)}</span>`)}r.innerHTML=globalThis.MathfieldElement.createHTML(a),gg(t,e.interactive),t.dirty=!1}function gg(t,e){let i=t.field;if(!i)return;for(let a of i.querySelectorAll(".ML__selection, .ML__contains-highlight"))a.remove();if(!(e!=null&&e)&&En!=="error"&&En!=="ready"){setTimeout(()=>{En==="ready"?gg(t):setTimeout(()=>gg(t),128)},32);return}let r=t.model,n,s=()=>{if(n!==void 0)return n;let a=i.offsetWidth,o=i.getBoundingClientRect().width;return n=Math.floor(o)/a,isNaN(n)&&(n=1),n};if(r.selectionIsCollapsed){N2(t,{deferred:!0});let a=r.at(r.position);for(;a&&a.type!=="prompt"&&!(a.containsCaret&&a.displayContainsHighlight);)a=a.parent;if(a!=null&&a.containsCaret&&a.displayContainsHighlight){let o=s(),l=FB(t,Z0(t,a),o);if(l){l.left/=o,l.right/=o,l.top/=o,l.bottom/=o;let u=document.createElement("div");u.classList.add("ML__contains-highlight"),u.style.position="absolute",u.style.left=`${l.left+1}px`,u.style.top=`${Math.ceil(l.top)}px`,u.style.width=`${Math.ceil(l.right-l.left)}px`,u.style.height=`${Math.ceil(l.bottom-l.top)}px`,i.insertBefore(u,i.childNodes[0])}}return}for(let a of que($B(t,{excludeAtomsWithBackground:!0}))){let o=s();a.left/=o,a.right/=o,a.top/=o,a.bottom/=o;let l=document.createElement("div");l.classList.add("ML__selection"),l.style.position="absolute",l.style.left=`${a.left}px`,l.style.top=`${a.top}px`,l.style.width=`${Math.ceil(a.right-a.left)}px`,l.style.height=`${Math.ceil(a.bottom-a.top-1)}px`,i.insertBefore(l,i.childNodes[0])}}function que(t){let e=[];for(let i of t){let r=!1;for(let n of e)if(i.left===n.left&&i.right===n.right&&i.top===n.top&&i.bottom===n.bottom){r=!0;break}r||e.push(i)}t=e,e=[];for(let i of t){let r=0;for(let n of t)if(i.left>=n.left&&i.right<=n.right&&i.top>=n.top&&i.bottom<=n.bottom&&(r+=1,r>1))break;r===1&&e.push(i)}return e}function zP(t){if(!t)return;let e=t.model,i=e.selection,r=ue.serialize([e.root],{expandMacro:!1,defaultMode:t.options.defaultMode});Qt.insert(e,r,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",silenceNotifications:!0,mode:"math"});let n=e.silenceNotifications;e.silenceNotifications=!0,e.selection=i,e.silenceNotifications=n,fi(t)}function FC(){for(let t of document.querySelectorAll(".ML__mathfield"))"_mathfield"in t&&zP(t._mathfield)}var UP=3,ta;function nn(t,e){e=q({target:"mathfield",canUndo:!1,audioFeedback:void 0,changeContent:!1,changeSelection:!1},e??{}),ta||(ta={});for(let i of Object.keys(t))ta[i],ta[i]=Z(q({},e),{fn:t[i]})}function R6(t){let e;if(Array.isArray(t)){if(t[0]==="performWithFeedback")return R6(t[1]);e=t[0]}else e=t;return ta[e]}function n0(t){var e;return(e=R6(t))==null?void 0:e.target}function jue(t,e){var i,r;if(e=ip(e),!e)return!1;let n,s=[],a=!1,o=!1;mr(e)?(n=e[0],s=e.slice(1)):n=e;let l=ta[n],u=l==null?void 0:l.target;if(u==="model"){if(!t.isSelectionEditable&&l!=null&&l.changeContent)return t.model.announce("plonk"),!1;/^(delete|add)/.test(n)&&(n!=="deleteBackward"&&t.flushInlineShortcutBuffer(),t.snapshot(n)),/^complete/.test(n)||O2(t),ta[n].fn(t.model,...s),Lp(t),o=!0,a=!0}else if(u==="virtual-keyboard")o=(r=(i=window.mathVirtualKeyboard)==null?void 0:i.executeCommand(e))!=null?r:!1,a=!0;else if(ta[n]){if(!t.isSelectionEditable&&l!=null&&l.changeContent)return t.model.announce("plonk"),!1;/^(undo|redo)/.test(n)&&t.flushInlineShortcutBuffer(),o=ta[n].fn(t,...s),a=!0}else throw new Error(`Unknown command "${n}"`);return u!=="virtual-keyboard"&&(!t.model.selectionIsCollapsed||l!=null&&l.changeSelection&&n!=="deleteBackward")&&(t.flushInlineShortcutBuffer(),l!=null&&l.changeContent||t.stopCoalescingUndo(),t.defaultStyle={}),o&&fi(t),a}function Vue(t,e){var i;if(!t)return!1;t.focus(),$6.keypressVibration&&gB()&&navigator.vibrate(UP);let r=R6(e);globalThis.MathfieldElement.playSound((i=r==null?void 0:r.audioFeedback)!=null?i:"keypress");let n=t.executeCommand(e);return t.scrollIntoView(),n}nn({performWithFeedback:(t,e)=>Vue(t,e)});function Hue(t){return Lp(t,{atIndex:t.suggestionIndex+1}),!1}function Kue(t){return Lp(t,{atIndex:t.suggestionIndex-1}),!1}nn({complete:A0},{target:"mathfield",audioFeedback:"return",canUndo:!0,changeContent:!0,changeSelection:!0});nn({dispatchEvent:(t,e,i)=>{var r,n;return(n=(r=t.host)==null?void 0:r.dispatchEvent(new CustomEvent(e,{detail:i})))!=null?n:!1}},{target:"mathfield"});nn({nextSuggestion:Hue,previousSuggestion:Kue},{target:"mathfield",audioFeedback:"keypress",changeSelection:!0});function ip(t){if(!t)return;if(mr(t)&&t.length>0){let i=t[0];return i=i.replace(/-\w/g,r=>r[1].toUpperCase()),i==="performWithFeedback"&&t.length===2?[i,ip(t[1])]:[i,...t.slice(1)]}if(typeof t!="string")return;let e=t.trim().match(/^([a-zA-Z0-9-]+)\((.*)\)$/);if(e){let i=e[1].replace(/-\w/g,n=>n[1].toUpperCase()),r=e[2].split(",").map(n=>n.trim());return[i,...r.map(n=>{if(/"[^"]*"/.test(n)||/'[^']*'/.test(n))return n.slice(1,-1);if(/^true$/.test(n))return!0;if(/^false$/.test(n))return!1;if(/^[-]?\d+$/.test(n))return parseInt(n,10);if(/^\{.*\}$/.test(n))try{return JSON.parse(n)}catch{return console.error("Invalid argument:",n),n}return ip(n)})]}return t.replace(/-\w/g,i=>i[1].toUpperCase())}var yg="mathlive#virtual-keyboard-message";function O6(t){var e;return t.type!=="message"?!1:((e=t.data)==null?void 0:e.type)===yg}var Wue=class qP{constructor(){this.targetOrigin=window.origin,this.originValidator="none",this._boundingRect=new DOMRect(0,0,0,0),this._isShifted=!1,window.addEventListener("message",this),this.sendMessage("proxy-created"),this.listeners={}}static get singleton(){return this._singleton||(this._singleton=new qP),this._singleton}getKeycap(e){}setKeycap(e,i){this.sendMessage("update-setting",{setKeycap:{keycap:e,value:i}})}set alphabeticLayout(e){this.sendMessage("update-setting",{alphabeticLayout:e})}set layouts(e){this.sendMessage("update-setting",{layouts:e})}get normalizedLayouts(){return[]}set editToolbar(e){this.sendMessage("update-setting",{editToolbar:e})}set container(e){throw new Error("Container inside an iframe cannot be changed")}show(e){this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:!0},bubbles:!0,cancelable:!0,composed:!0}))&&(this.sendMessage("show",e),this.dispatchEvent(new Event("virtual-keyboard-toggle")))}hide(e){this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:!1},bubbles:!0,cancelable:!0,composed:!0}))&&(this.sendMessage("hide",e),this.dispatchEvent(new Event("virtual-keyboard-toggle")))}get isShifted(){return this._isShifted}get visible(){return this._boundingRect.height>0}set visible(e){e?this.show():this.hide()}get boundingRect(){return this._boundingRect}executeCommand(e){return this.sendMessage("execute-command",{command:e}),!0}updateToolbar(e){this.sendMessage("update-toolbar",e)}update(e){this.sendMessage("update-setting",e)}connect(){this.sendMessage("connect")}disconnect(){this.sendMessage("disconnect")}addEventListener(e,i,r){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(i)||this.listeners[e].add(i)}dispatchEvent(e){return!this.listeners[e.type]||this.listeners[e.type].size===0?!0:(this.listeners[e.type].forEach(i=>{typeof i=="function"?i(e):i==null||i.handleEvent(e)}),!e.defaultPrevented)}removeEventListener(e,i,r){this.listeners[e]&&this.listeners[e].delete(i)}handleEvent(e){if(O6(e)){if(!T6(e.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");this.handleMessage(e.data)}}handleMessage(e){let{action:i}=e;if(i==="execute-command"){let{command:r}=e;n0(r)==="virtual-keyboard"&&this.executeCommand(r);return}if(i==="synchronize-proxy"){this._boundingRect=e.boundingRect,this._isShifted=e.isShifted;return}if(i==="geometry-changed"){this._boundingRect=e.boundingRect,this.dispatchEvent(new Event("geometrychange"));return}}sendMessage(e,i={}){if(!window.top)throw new DOMException("A frame does not have access to the top window and can‘t communicate with the keyboard. Review virtualKeyboardTargetOrigin and originValidator on mathfields embedded in an iframe","SecurityError");window.top.postMessage(q({type:yg,action:e},i),this.targetOrigin)}},NC={numeric:{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",rows:[[{latex:"x",shift:"y",variants:["y","z","t","r","x^2","x^n","x^{#?}","x_n","x_i","x_{#?}",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"}]},{latex:"n",shift:"a",variants:["i","j","p","k","a","u"]},"[separator-5]","[7]","[8]","[9]","[/]","[separator-5]",{latex:"\\exponentialE",shift:"\\ln",variants:["\\exp","\\times 10^{#?}","\\ln","\\log_{10}","\\log","\\lg","\\operatorname{lb}"]},{latex:"\\imaginaryI",variants:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"]},{latex:"\\pi",shift:"\\sin",variants:["\\prod",{latex:"\\theta",aside:"theta"},{latex:"\\rho",aside:"rho"},{latex:"\\tau",aside:"tau"},"\\sin","\\cos","\\tan"]}],[{label:"<",latex:"<",class:"hide-shift",shift:{latex:"\\le",label:"≤"}},{label:">",latex:">",class:"hide-shift",shift:{latex:"\\ge",label:"≥"}},"[separator-5]","[4]","[5]","[6]","[*]","[separator-5]",{class:"hide-shift",latex:"#@^2}",shift:"#@^{\\prime}}"},{latex:"#@^{#0}}",class:"hide-shift",shift:"#@_{#?}"},{class:"hide-shift",latex:"\\sqrt{#0}",shift:{latex:"\\sqrt[#0]{#?}}"}}],["[(]","[)]","[separator-5]","[1]","[2]","[3]","[-]","[separator-5]",{latex:"\\int^{\\infty}_{0}\\!#?\\,\\mathrm{d}x",class:"small hide-shift",shift:"\\int",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{class:"hide-shift",latex:"\\forall",shift:"\\exists"},{label:"[backspace]",width:1}],[{label:"[shift]",width:2},"[separator-5]","[0]","[.]","[=]","[+]","[separator-5]","[left]","[right]",{label:"[action]",width:1}]]},greek:{label:"&alpha;&beta;&gamma;",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.greek",rows:[[{label:"<i>&#x03c6;</i>",class:"MLK__tex hide-shift",insert:"\\varphi",aside:"phi var.",shift:"\\Phi"},{label:"<i>&#x03c2;</i>",class:"MLK__tex hide-shift",insert:"\\varsigma",aside:"sigma var.",shift:"\\Sigma"},{label:"<i>&#x03f5;</i>",class:"MLK__tex hide-shift",insert:"\\epsilon",aside:"epsilon",shift:'\\char"0190'},{label:"<i>&rho;</i>",class:"MLK__tex hide-shift",insert:"\\rho",aside:"rho",shift:'\\char"3A1'},{label:"<i>&tau;</i>",class:"MLK__tex hide-shift",insert:"\\tau",aside:"tau",shift:'\\char"3A4'},{label:"<i>&upsilon;</i>",class:"MLK__tex hide-shift",insert:"\\upsilon",aside:"upsilon",shift:"\\Upsilon"},{label:"<i>&theta;</i>",class:"MLK__tex hide-shift",insert:"\\theta",aside:"theta",shift:"\\Theta"},{label:"<i>&iota;</i>",class:"MLK__tex hide-shift",insert:"\\iota",aside:"iota",shift:'\\char"399'},{label:"<i>&omicron;</i>",class:"MLK__tex hide-shift",insert:"\\omicron",aside:"omicron",shift:'\\char"39F'},{label:"<i>&pi;</i>",class:"MLK__tex hide-shift",insert:"\\pi",aside:"pi",shift:"\\Pi"}],["[separator-5]",{label:"<i>&alpha;</i>",class:"MLK__tex hide-shift",insert:"\\alpha",aside:"alpha",shift:'\\char"391'},{label:"<i>&sigma;</i>",class:"MLK__tex hide-shift",insert:"\\sigma",aside:"sigma",shift:"\\Sigma"},{label:"<i>&delta;</i>",class:"MLK__tex hide-shift",insert:"\\delta",aside:"delta",shift:"\\Delta"},{latex:"\\phi",class:"MLK__tex hide-shift",insert:"\\phi",aside:"phi",shift:"\\Phi"},{label:"<i>&gamma;</i>",class:"MLK__tex hide-shift",insert:"\\gamma",aside:"gamma",shift:"\\Gamma"},{label:"<i>&eta;</i>",class:"MLK__tex hide-shift",insert:"\\eta",aside:"eta",shift:'\\char"397'},{label:"<i>&xi;</i>",class:"MLK__tex hide-shift",insert:"\\xi",aside:"xi",shift:"\\Xi"},{label:"<i>&kappa;</i>",class:"MLK__tex hide-shift",insert:"\\kappa",aside:"kappa",shift:"\\Kappa"},{label:"<i>&lambda;</i>",class:"MLK__tex hide-shift",insert:"\\lambda",aside:"lambda",shift:"\\Lambda"},"[separator-5]"],["[shift]",{label:"<i>&zeta;</i>",class:"MLK__tex hide-shift",insert:"\\zeta",aside:"zeta",shift:'\\char"396'},{label:"<i>&chi;</i>",class:"MLK__tex hide-shift",insert:"\\chi",aside:"chi",shift:'\\char"3A7'},{label:"<i>&psi;</i>",class:"MLK__tex hide-shift",insert:"\\psi",aside:"psi",shift:"\\Psi"},{label:"<i>&omega;</i>",class:"MLK__tex hide-shift",insert:"\\omega",aside:"omega",shift:"\\Omega"},{label:"<i>&beta;</i>",class:"MLK__tex hide-shift",insert:"\\beta",aside:"beta",shift:'\\char"392'},{label:"<i>&nu;</i>",class:"MLK__tex hide-shift",insert:"\\nu",aside:"nu",shift:'\\char"39D'},{label:"<i>&mu;</i>",class:"MLK__tex hide-shift",insert:"\\mu",aside:"mu",shift:'\\char"39C'},"[backspace]"],["[separator]",{label:"<i>&#x03b5;</i>",class:"MLK__tex",insert:"\\varepsilon",aside:"epsilon var."},{label:"<i>&#x03d1;</i>",class:"MLK__tex",insert:"\\vartheta",aside:"theta var."},{label:"<i>&#x3f0;</i>",class:"MLK__tex",insert:"\\varkappa",aside:"kappa var."},{label:"<i>&#x03d6;</i>",class:"MLK__tex",insert:"\\varpi",aside:"pi var."},{label:"<i>&#x03f1;</i>",class:"MLK__tex",insert:"\\varrho",aside:"rho var."},"[left]","[right]","[action]"]]},symbols:{label:"&infin;≠∈",labelClass:"MLK__tex",tooltip:"keyboard.tooltip.symbols",rows:[[{latex:"\\sin",shift:"\\sin^{-1}",variants:[{class:"small",latex:"\\sinh"},{class:"small",latex:"\\sin^{-1}"},{class:"small",latex:"\\operatorname{arsinh}"}]},"\\ln",{latex:"\\mathrm{abs}",insert:"\\mathrm{abs}\\left(#0\\right)"},{latex:"\\rightarrow",shift:"\\Rightarrow",variants:[{latex:"\\implies",aside:"implies"},{latex:"\\to",aside:"to"},"\\dashv",{latex:"\\roundimplies",aside:"round implies"}]},{latex:"\\exists",variants:["\\nexists"],shift:"\\nexists"},{latex:"\\in",shift:"\\notin",variants:["\\notin","\\owns"]},"\\cup",{latex:"\\overrightarrow{#@}",shift:"\\overleftarrow{#@}",variants:["\\overleftarrow{#@}","\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"]},{class:"small hide-shift",latex:"\\lim_{#?}",shift:"\\lim_{x\\to\\infty}",variants:[{class:"small",latex:"\\liminf_{#?}"},{class:"small",latex:"\\limsup_{#?}"}]},"\\exponentialE"],[{latex:"\\cos",shift:"\\cos^{-1}",variants:[{class:"small",latex:"\\cosh"},{class:"small",latex:"\\cos^{-1}"},{class:"small",latex:"\\operatorname{arcosh}"}]},{latex:"\\log",shift:"\\log_{10}",variants:["\\log_{#0}","\\log_{10}"]},"\\left\\vert#0\\right\\vert",{latex:"\\larr",shift:"\\lArr",variants:[{latex:"\\impliedby",aside:"implied by"},{latex:"\\gets",aside:"gets"},"\\lArr","\\vdash",{latex:"\\models",aside:"models"}]},{latex:"\\forall",shift:"\\lnot",variants:[{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"}]},{latex:"\\ni",shift:"\\not\\owns"},"\\cap",{latex:"\\overline{#@}",shift:"\\underline{#@}",variants:["\\overbrace{#@}","\\overlinesegment{#@}","\\overleftrightarrow{#@}","\\overrightarrow{#@}","\\overleftarrow{#@}","\\overgroup{#@}","\\underbrace{#@}","\\underlinesegment{#@}","\\underleftrightarrow{#@}","\\underrightarrow{#@}","\\underleftarrow{#@}","\\undergroup{#@}"]},{class:"hide-shift small",latex:"\\int",shift:"\\iint",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\intop","\\iiint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"]},{latex:"\\pi",shift:"\\tau",variants:["\\tau"]}],[{latex:"\\tan",shift:"\\tan^{-1}",variants:[{class:"small",latex:"\\tanh"},{class:"small",latex:"\\tan^{-1}"},{class:"small",latex:"\\operatorname{artanh}"},{class:"small",latex:"\\arctan"},{class:"small",latex:"\\operatorname{arctg}"},{class:"small",latex:"\\operatorname{tg}"}]},{latex:"\\exp",insert:"\\exp\\left(#0\\right)",variants:["\\exponentialE^{#0}"]},"\\left\\Vert#0\\right\\Vert",{latex:"\\lrArr",shift:"\\leftrightarrow",variants:[{latex:"\\iff",aside:"if and only if"},"\\leftrightarrow","\\leftrightarrows","\\Leftrightarrow",{latex:"^\\biconditional",aside:"biconditional"}]},{latex:"\\vert",shift:"!"},{latex:"#@^{\\complement}",aside:"complement",variants:[{latex:"\\setminus",aside:"set minus"},{latex:"\\smallsetminus",aside:"small set minus"}]},{latex:"\\subset",shift:"\\subseteq",variants:["\\subset","\\subseteq","\\subsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsubseteq","\\supset","\\supseteq","\\supsetneq","\\supsetneqq","\\nsupset","\\nsupseteq"]},{latex:"#@^{\\prime}",shift:"#@^{\\doubleprime}",variants:["#@^{\\doubleprime}","#@\\degree"]},{latex:"\\mathrm{d}",shift:"\\partial",variants:["\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{latex:"\\infty",variants:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"]}],[{label:"[shift]",width:2},{class:"box",latex:",",shift:";",variants:[";","?"]},{class:"box",latex:"\\colon",shift:"\\Colon",variants:[{latex:"\\Colon",aside:"such that",class:"box"},{latex:":",aside:"ratio",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",aside:"",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\therefore",aside:"therefore",class:"box"},{latex:"\\because",aside:"because",class:"box"}]},{class:"box",latex:"\\cdot",aside:"centered dot",shift:"\\ast",variants:["\\circ","\\bigcirc","\\bullet","\\odot","\\oslash","\\circledcirc","\\ast","\\star","\\times","\\doteq","\\doteqdot"]},"[separator]","[left]","[right]",{label:"[backspace]",width:1,class:"action hide-shift"},{label:"[action]",width:1}]]},compact:{label:"compact",rows:[["[+]","[-]","[*]","[/]","[=]","[.]","[(]","[)]","\\sqrt{#0}","#@^{#?}"],["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[0]"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]},minimalist:{label:"minimalist",layers:[{style:`
          div.minimalist-backdrop {
            display: flex;
            justify-content: center;
          }          
          div.minimalist-container {
            --keycap-height: 40px;
            --keycap-max-width: 53px;
            --keycap-small-font-size: 12px;
            background: var(--keyboard-background);
            padding: 20px 20px 0px 20px;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            border: 1px solid var(--keyboard-border);
            box-shadow: 0 0 32px rgb(0 0 0 / 30%);
          }        
        `,backdrop:"minimalist-backdrop",container:"minimalist-container",rows:[["+","-","\\times",{latex:"\\frac{#@}{#0}",class:"small"},"=","[.]","(",")",{latex:"\\sqrt{#0}",class:"small"},{latex:"#@^{#?}",class:"small"}],["1","2","3","4","5","6","7","8","9","0"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]}]},"numeric-only":{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",id:"numeric-only",rows:[["7","8","9","[separator]",{label:"[backspace]",width:2}],["4","5","6","[separator]","[separator]","[separator]"],["1","2","3","[separator]","[separator]","[separator]"],["0",{label:"[.]",variants:[]},"-","[separator]","[left]","[right]"]]}},c1={0:["\\varnothing","\\infty"],1:["\\frac{1}{#@}","#@^{-1}","\\times 10^{#?}","\\phi","\\imaginaryI"],2:["\\frac{1}{2}","#@^2","\\sqrt2","\\exponentialE"],3:["\\frac{1}{3}","#@^3","\\sqrt3","\\pi"],4:["\\frac{1}{4}","#@^4"],5:["\\frac{1}{5}","#@^5","\\sqrt5"],6:["\\frac{1}{6}","#@^6"],7:["\\frac{1}{7}","#@^7"],8:["\\frac{1}{8}","#@^8"],9:["\\frac{1}{9}","#@^9"],".":[".",",",";","\\colon"],",":["{,}",".",";","\\colon"],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"å","à","á","â","ä","æ"],A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"Å","À","Á","Â","Ä","Æ"],b:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"},"ç"],d:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"},"è","é","ê","ë"],E:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"},"È","É","Ê","Ë"],g:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"},"ì","í","î","ï"],I:[{latex:"\\imaginaryI",aside:"imaginary i"},"Ì","Í","Î","Ï"],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\mathbb{N}",aside:"set of natural numbers"},"ñ"],o:["ø","œ","ò","ó","ô","ö"],O:["ø","Œ","Ò","Ó","Ô","Ö"],p:[{latex:"\\mathbb{P}",aside:"set of primes"}],q:[{latex:"\\mathbb{Q}",aside:"set of rational numbers"}],r:[{latex:"\\mathbb{R}",aside:"set of real numbers"}],u:["ù","ú","û","ü"],U:["Ù","Ú","Û","Ü"],z:[{latex:"\\mathbb{Z}",aside:"set of integers"}],y:["ý","ÿ"],Y:["Ÿ"],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br>⁻³⧸₁₈ em"},{latex:'\\char"203A\\,\\char"2039',insert:"\\,",aside:"thin space<br>³⧸₁₈ em"},{latex:'\\char"203A\\:\\char"2039',insert:"\\:",aside:"medium space<br>⁴⧸₁₈ em"},{latex:'\\char"203A\\;\\char"2039',insert:"\\;",aside:"thick space<br>⁵⧸₁₈ em"},{latex:'\\char"203A\\ \\char"2039',insert:"\\ ",aside:"⅓ em"},{latex:'\\char"203A\\enspace\\char"2039',insert:"\\enspace",aside:"½ em"},{latex:'\\char"203A\\quad\\char"2039',insert:"\\quad",aside:"1 em"},{latex:'\\char"203A\\qquad\\char"2039',insert:"\\qquad",aside:"2 em"}]},Th;function jP(t,e){var i,r,n,s,a;let o=kl.singleton;if(!o)return;let l=$c(t),u="";if(window.mathVirtualKeyboard.isShifted){let S=(i=o.getKeycap(l==null?void 0:l.id))==null?void 0:i.shift;typeof S=="object"&&"variants"in S&&(u=(r=S.variants)!=null?r:"")}else u=(s=(n=o.getKeycap(l==null?void 0:l.id))==null?void 0:n.variants)!=null?s:"";if(typeof u=="string"&&!G5(u)||Array.isArray(u)&&u.length===0){e==null||e();return}let c={},d="";for(let S of Xue(u)){let A=F6(S),T=Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);c[T]=A;let[M,D]=$2(A);d+=`<div id=${T} class="item ${D}">${M}</div>`}let h=document.createElement("div");h.setAttribute("aria-hidden","true"),h.className="MLK__variant-panel",h.style.height="auto";let f=Object.keys(c).length,g=5;f===1?g=1:f===2||f===4?g=2:f===3||f===5||f===6?g=3:f>=7&&f<14&&(g=4),h.style.width=`calc(var(--variant-keycap-length) * ${g} + 12px)`,h.innerHTML=$6.createHTML(d),ws.open({root:(a=o==null?void 0:o.container)==null?void 0:a.querySelector(".ML__keyboard"),child:h}),Th=new AbortController;let{signal:y}=Th,C=t==null?void 0:t.getBoundingClientRect();if(C){C.top-h.clientHeight<0&&(h.style.width="auto",f<=6?h.style.height="56px":f<=12?h.style.height="108px":f<=18?h.style.height="205px":h.classList.add("compact"));let S=Math.max(0,Math.min(window.innerWidth-h.offsetWidth,(C.left+C.right-h.offsetWidth)/2)),A=C.top-h.clientHeight+5;h.style.left=`${S}px`,h.style.top=`${A}px`,h.classList.add("is-visible"),requestAnimationFrame(()=>{var T;h.addEventListener("pointerup",M=>{let D=$c(M.target);!(D!=null&&D.id)||!c[D.id]||(X5(c[D.id]),Nc(),e==null||e(),M.preventDefault())},{capture:!0,passive:!1,signal:y}),h.addEventListener("pointerenter",M=>{let D=$c(M.target);!(D!=null&&D.id)||!c[D.id]||D.classList.add("is-active")},{capture:!0,signal:y}),h.addEventListener("pointerleave",M=>{let D=$c(M.target);M.target&&"tagName"in M.target&&typeof M.target.tagName=="string"&&M.target.tagName.toUpperCase()==="ASIDE"||!(D!=null&&D.id)||!c[D.id]||D.classList.remove("is-active")},{capture:!0,signal:y}),(T=o.getKeycap(l==null?void 0:l.id))!=null&&T.stickyVariantPanel?window.addEventListener("pointerdown",M=>{if(!(M.target instanceof Node))return;let D=h.contains(M.target);M.target===h||D||(Nc(),e==null||e())},{signal:y}):(window.addEventListener("pointercancel",()=>{Nc(),e==null||e()},{signal:y}),window.addEventListener("pointerup",()=>{Nc(),e==null||e()},{signal:y}))})}}function Nc(){Th==null||Th.abort(),Th=null,ws.state==="open"&&ws.close()}function Gue(t){if(t==="foreground-color"){let e=[];for(let i of Object.keys(Tu))e.push({class:"swatch-button",label:'<span style="border: 3px solid '+Tu[i]+'"></span>',command:["applyStyle",{color:i}]});return e}if(t==="background-color"){let e=[];for(let i of Object.keys(ku))e.push({class:"swatch-button",label:'<span style="background:'+ku[i]+'"></span>',command:["applyStyle",{backgroundColor:i}]});return e}}function G5(t){return c1[t]!==void 0}function Xue(t){var e;return typeof t!="string"?t:(c1[t]||(c1[t]=(e=Gue(t))!=null?e:[]),c1[t])}function Yue(t){return typeof t=="string"?t:Object.entries(t).map(([e,i])=>`${e}:${i} !important`).join(";")}function Zue(t){return Object.keys(t).map(e=>`${e} {${Yue(t[e])}}`).join("")}function jd(t){if(!t)return"";let e=new Pt,i=new ue({mode:"math",type:"root",body:ts(t,{context:e,args:n=>n==="@"?"{\\class{ML__box-placeholder}{\\blacksquare}}":"\\placeholder{}"})}),r=E2(Dp(new Ae(i.render(e),{classes:"ML__base"}),e));return A2(r,{classes:"ML__latex"}).toMarkup()}function Eh(t){if(Array.isArray(t))return t.map(i=>Eh(i)).flat();let e=typeof t=="string"?{markup:t}:t;return"rows"in e&&Array.isArray(e.rows)&&(e.rows=e.rows.map(i=>i.map(r=>F6(r)))),e.id!=null||(e.id="ML__layer_"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36)),[e]}function Jue(){var t,e;let i=window.mathVirtualKeyboard.alphabeticLayout;if(i==="auto"){let a=tp();a&&(i=a.virtualLayout),(!i||i==="auto")&&(i=(t={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[Ct.locale.slice(0,2)])!=null?t:"qwerty")}let r={qwerty:["qwertyuiop"," asdfghjkl ","^zxcvbnm~"],azerty:["azertyuiop","qsdfghjklm","^ wxcvbn ~"],qwertz:["qwertzuiop"," asdfghjkl ","^yxcvbnm~"],dvorak:["^  pyfgcrl ","aoeuidhtns","qjkxbmwvz~"],colemak:[" qwfpgjluy ","arstdhneio","^zxcvbkm~"]},n=(e=r[i])!=null?e:r.qwerty,s=i==="azerty"?[[{label:"1",variants:"1"},{label:"2",shift:{latex:"é"},variants:"2"},{label:"3",shift:{latex:"ù"},variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{label:"(",latex:"("},variants:"5"},{label:"6",shift:{label:")",latex:")"},variants:"6"},{label:"7",shift:{latex:"è"},variants:"7"},{label:"8",shift:{latex:"ê"},variants:"8"},{label:"9",shift:{latex:"ç"},variants:"9"},{label:"0",shift:{latex:"à"},variants:"0"}]]:[[{label:"1",variants:"1"},{label:"2",variants:"2"},{label:"3",variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{latex:"\\frac{#@}{#?}"},variants:"5"},{label:"6",shift:{latex:"#@^#?"},variants:"6"},{label:"7",variants:"7"},{label:"8",shift:{latex:"\\times"},variants:"8"},{label:"9",shift:{label:"(",latex:"("},variants:"9"},{label:"0",shift:{label:")",latex:")"},variants:"0"}]];for(let a of n){let o=[];for(let l of a)/[a-z]/.test(l)?o.push({label:l,class:"hide-shift",shift:{label:l.toUpperCase(),variants:G5(l.toUpperCase())?l.toUpperCase():void 0},variants:G5(l)?l:void 0}):l==="~"?i!=="dvorak"?o.push("[backspace]"):o.push({label:"[backspace]",width:1}):l==="^"?o.push("[shift]"):l===" "&&o.push("[separator-5]");s.push(o)}return s.push(["[-]","[+]","[=]",{label:" ",width:1.5},{label:",",shift:";",variants:".",class:"hide-shift"},"[.]","[left]","[right]",{label:"[action]",width:1.5}]),{label:"abc",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.alphabetic",layers:Eh({rows:s})}}function VP(t){if(t==="alphabetic")return Jue();if(typeof t=="string")return NC[t],VP(NC[t]);let e;if("rows"in t&&Array.isArray(t.rows)){let n=t,s=sg(n,["rows"]);e=Z(q({},s),{layers:Eh({rows:t.rows})})}else if("markup"in t&&typeof t.markup=="string"){let n=t,s=sg(n,["markup"]);e=Z(q({},s),{layers:Eh(t.markup)})}else e=q({},t),"layers"in t?e.layers=Eh(t.layers):console.error('MathLive 0.105.3: provide either a "rows", "markup" or "layers" property');let i=!1,r=!1;for(let n of e.layers)if(n.rows)for(let s of n.rows.flat()){s0(s)&&(i=!0);let a=s.command;typeof a=="string"&&["undo","redo","cut","copy","paste"].includes(a)&&(r=!0)}return(!("displayShiftedKeycaps"in t)||t.displayShiftedKeycaps===void 0)&&(e.displayShiftedKeycaps=i),(!("displayEditToolbar"in t)||t.displayEditToolbar===void 0)&&(e.displayEditToolbar=!r),e}function Que(t,e){var i,r;let n='<div class="left">';if(t.normalizedLayouts.length>1)for(let[s,a]of t.normalizedLayouts.entries()){let o=a,l=[s===e?"selected":"layer-switch"];o.tooltip&&l.push("MLK__tooltip"),o.labelClass&&l.push(...o.labelClass.split(" ")),n+=`<div class="${l.join(" ")}"`,o.tooltip&&(n+=" data-tooltip='"+((i=ft(o.tooltip))!=null?i:o.tooltip)+"' "),s!==e&&(n+=`data-layer="${o.layers[0].id}"`),n+=`>${(r=o.label)!=null?r:"untitled"}</div>`}return n+="</div>",n}function ece(t,e){let i="";if(t.editToolbar==="none")return"";let r=[];e.selectionIsCollapsed?r.push("undo","redo","pasteFromClipboard"):r.push("cutToClipboard","copyToClipboard","pasteFromClipboard");let n={undo:`<div class='action ${e.canUndo===!1?"disabled":""}'
          data-command='"undo"'
          data-tooltip='${ft("tooltip.undo")}'>
          <svg><use xlink:href='#svg-undo' /></svg>
      </div>`,redo:`<div class='action ${e.canRedo===!1?"disabled":""}'
          data-command='"redo"'
          data-tooltip='${ft("tooltip.redo")}'>
          <svg><use xlink:href='#svg-redo' /></svg>
      </div>`,cutToClipboard:`
        <div class='action'
            data-command='"cutToClipboard"'
            data-tooltip='${ft("tooltip.cut to clipboard")}'>
            <svg><use xlink:href='#svg-cut' /></svg>
        </div>
    `,copyToClipboard:`
        <div class='action'
            data-command='"copyToClipboard"'
            data-tooltip='${ft("tooltip.copy to clipboard")}'>
            <svg><use xlink:href='#svg-copy' /></svg>
        </div>
    `,pasteFromClipboard:`
        <div class='action'
            data-command='"pasteFromClipboard"'
            data-tooltip='${ft("tooltip.paste from clipboard")}'>
            <svg><use xlink:href='#svg-paste' /></svg>
        </div>
    `};return i+=r.map(s=>n[s]).join(""),i}function tce(t){for(let e of t)ice(e)}function ice(t){let e=kl.singleton;if(!e)return;let i={};if(!t.id){if(t.hasAttribute("data-label")&&(i.label=t.dataset.label),t.hasAttribute("data-latex")&&(i.latex=t.dataset.latex),t.hasAttribute("data-key")&&(i.key=t.dataset.key),t.hasAttribute("data-insert")&&(i.insert=t.dataset.insert),t.hasAttribute("data-variants")&&(i.variants=t.dataset.variants),t.hasAttribute("data-aside")&&(i.aside=t.dataset.aside),t.className&&(i.class=t.className),!i.label&&!i.latex&&!i.key&&!i.insert&&(i.latex=t.innerText,i.label=t.innerHTML),t.hasAttribute("data-command"))try{i.command=JSON.parse(t.dataset.command)}catch{}t.id=e.registerKeycap(i)}if(!t.innerHTML){let[r,n]=$2(i);t.innerHTML=globalThis.MathfieldElement.createHTML(r)}}function rce(){gl("virtual-keyboard"),gl("core"),I6()}function nce(){yl("core"),yl("virtual-keyboard")}var sce=`<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">

<symbol id="svg-delete-backward" viewBox="0 0 576 512">
  <path d="M432.1 208.1L385.9 256L432.1 303C442.3 312.4 442.3 327.6 432.1 336.1C423.6 346.3 408.4 346.3 399 336.1L352 289.9L304.1 336.1C295.6 346.3 280.4 346.3 271 336.1C261.7 327.6 261.7 312.4 271 303L318.1 256L271 208.1C261.7 199.6 261.7 184.4 271 175C280.4 165.7 295.6 165.7 304.1 175L352 222.1L399 175C408.4 165.7 423.6 165.7 432.1 175C442.3 184.4 442.3 199.6 432.1 208.1V208.1zM512 64C547.3 64 576 92.65 576 128V384C576 419.3 547.3 448 512 448H205.3C188.3 448 172 441.3 160 429.3L9.372 278.6C3.371 272.6 0 264.5 0 256C0 247.5 3.372 239.4 9.372 233.4L160 82.75C172 70.74 188.3 64 205.3 64L512 64zM528 128C528 119.2 520.8 112 512 112H205.3C201 112 196.9 113.7 193.9 116.7L54.63 256L193.9 395.3C196.9 398.3 201 400 205.3 400H512C520.8 400 528 392.8 528 384V128z"/>
</symbol>

<symbol id="svg-shift" viewBox="0 0 384 512">
  <path d="M2.438 252.3C7.391 264.2 19.06 272 32 272h80v160c0 26.51 21.49 48 48 48h64C250.5 480 272 458.5 272 432v-160H352c12.94 0 24.61-7.797 29.56-19.75c4.953-11.97 2.219-25.72-6.938-34.88l-160-176C208.4 35.13 200.2 32 192 32S175.6 35.13 169.4 41.38l-160 176C.2188 226.5-2.516 240.3 2.438 252.3zM192 86.63L313.4 224H224v208H160V224H70.63L192 86.63z"/>
</symbol>

<symbol id="svg-commit" viewBox="0 0 512 512">
  <path d="M135 432.1l-128-128C2.344 300.3 0 294.2 0 288s2.344-12.28 7.031-16.97l128-128c9.375-9.375 24.56-9.375 33.94 0s9.375 24.56 0 33.94L81.94 264H464v-208C464 42.75 474.8 32 488 32S512 42.75 512 56V288c0 13.25-10.75 24-24 24H81.94l87.03 87.03c9.375 9.375 9.375 24.56 0 33.94S144.4 442.3 135 432.1z"/>
</symbol>


<symbol id="circle-plus" viewBox="0 0 512 512"><path d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344c0 13.3 10.7 24 24 24s24-10.7 24-24V280h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V168c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"/></symbol>

<symbol id="svg-command" viewBox="0 0 640 512">
  <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>
</symbol>

<symbol id="svg-undo" viewBox="0 0 512 512">
  <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>
</symbol>
<symbol id="svg-redo" viewBox="0 0 512 512">
  <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>
</symbol>
<symbol id="svg-arrow-left" viewBox="0 0 320 512">
  <path d="M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/>
</symbol>
<symbol id="svg-arrow-right" viewBox="0 0 320 512">
  <path d="M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/>
</symbol>
<symbol id="svg-tab" viewBox="0 0 448 512">
  <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>
</symbol>
<symbol id="svg-paste" viewBox="0 0 512 512"><path d="M160 32c11.6 0 21.3 8.2 23.5 19.2C185 58.6 191.6 64 199.2 64H208c8.8 0 16 7.2 16 16V96H96V80c0-8.8 7.2-16 16-16h8.8c7.6 0 14.2-5.4 15.7-12.8C138.7 40.2 148.4 32 160 32zM64 64h2.7C65 69 64 74.4 64 80V96c0 17.7 14.3 32 32 32H224c17.7 0 32-14.3 32-32V80c0-5.6-1-11-2.7-16H256c17.7 0 32 14.3 32 32h32c0-35.3-28.7-64-64-64H210.6c-9-18.9-28.3-32-50.6-32s-41.6 13.1-50.6 32H64C28.7 32 0 60.7 0 96V384c0 35.3 28.7 64 64 64H192V416H64c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zM288 480c-17.7 0-32-14.3-32-32V192c0-17.7 14.3-32 32-32h96v56c0 22.1 17.9 40 40 40h56V448c0 17.7-14.3 32-32 32H288zM416 165.3L474.7 224H424c-4.4 0-8-3.6-8-8V165.3zM448 512c35.3 0 64-28.7 64-64V235.9c0-12.7-5.1-24.9-14.1-33.9l-59.9-59.9c-9-9-21.2-14.1-33.9-14.1H288c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H448z"/></symbol>
<symbol id="svg-cut" viewBox="0 0 512 512"><path d="M485.6 444.2L333.6 314.9C326.9 309.2 326.1 299.1 331.8 292.4C337.5 285.6 347.6 284.8 354.4 290.5L506.4 419.8C513.1 425.5 513.9 435.6 508.2 442.4C502.5 449.1 492.4 449.9 485.6 444.2zM485.7 67.76C492.5 62.07 502.5 62.94 508.2 69.69C513.9 76.45 513.1 86.55 506.3 92.24L208.5 343.1C218.3 359.7 224 379.2 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 288 112 288C141.5 288 168.4 299.4 188.4 318.1L262.2 256L188.4 193.9C168.4 212.6 141.5 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 132.8 218.3 152.3 208.5 168.9L287 235.1L485.7 67.76zM32 112C32 156.2 67.82 192 112 192C156.2 192 192 156.2 192 112C192 67.82 156.2 32 112 32C67.82 32 32 67.82 32 112zM112 480C156.2 480 192 444.2 192 400C192 355.8 156.2 320 112 320C67.82 320 32 355.8 32 400C32 444.2 67.82 480 112 480z"/></symbol>
<symbol id="svg-copy" viewBox="0 0 512 512"><path d="M272 416C263.2 416 256 423.2 256 432V448c0 17.67-14.33 32-32 32H64c-17.67 0-32-14.33-32-32V192c0-17.67 14.33-32 32-32h112C184.8 160 192 152.8 192 144C192 135.2 184.8 128 176 128H63.99c-35.35 0-64 28.65-64 64l.0098 256C0 483.3 28.65 512 64 512h160c35.35 0 64-28.65 64-64v-16C288 423.2 280.8 416 272 416zM502.6 86.63l-77.25-77.25C419.4 3.371 411.2 0 402.7 0H288C252.7 0 224 28.65 224 64v256c0 35.35 28.65 64 64 64h160c35.35 0 64-28.65 64-64V109.3C512 100.8 508.6 92.63 502.6 86.63zM416 45.25L466.7 96H416V45.25zM480 320c0 17.67-14.33 32-32 32h-160c-17.67 0-32-14.33-32-32V64c0-17.67 14.33-32 32-32h96l.0026 64c0 17.67 14.33 32 32 32H480V320z"/>
</symbol>
<symbol id="svg-angle-double-right" viewBox="0 0 512 512"><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/>
</symbol>
<symbol id="svg-angle-double-left" viewBox="0 0 512 512"><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"/>
</symbol>
<symbol id="svg-trash" viewBox="0 0 448 512">
  <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>
</symbol>
<symbol id="svg-keyboard-down" viewBox="0 0 576 512"><path d="M64 48c-8.8 0-16 7.2-16 16V240c0 8.8 7.2 16 16 16H512c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64zM0 64C0 28.7 28.7 0 64 0H512c35.3 0 64 28.7 64 64V240c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM159 359c9.4-9.4 24.6-9.4 33.9 0l95 95 95-95c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L305 505c-4.5 4.5-10.6 7-17 7s-12.5-2.5-17-7L159 393c-9.4-9.4-9.4-24.6 0-33.9zm1-167c0-8.8 7.2-16 16-16H400c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V192zM120 88h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H120c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H200c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H280c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H360c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H440c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16z"/></symbol>
</svg>`;function ace(t){t.resetKeycapRegistry(),rce();let e=document.createElement("div");e.className="ML__keyboard";let i=document.createElement("div");i.className="MLK__plate",i.innerHTML=globalThis.MathfieldElement.createHTML(sce+t.normalizedLayouts.map((a,o)=>oce(t,a,o)).join(""));let r=document.createElement("div");r.className="MLK__backdrop",r.appendChild(i),e.appendChild(r),e.addEventListener("pointerdown",uce,{passive:!1});let n=e.querySelectorAll(".ML__edit-toolbar");if(n)for(let a of n)a.addEventListener("click",o=>{var l,u;let c=o.target,d="";for(;c&&!d;)d=(l=c==null?void 0:c.getAttribute("data-command"))!=null?l:"",c=(u=c==null?void 0:c.parentElement)!=null?u:null;d&&t.executeCommand(JSON.parse(d))});tce(e.querySelectorAll(".MLK__keycap, .action, .fnbutton, .bigfnbutton"));let s=e.querySelectorAll(".MLK__layer");s.length>0;for(let a of s)a.addEventListener("pointerdown",o=>o.preventDefault());return t.currentLayer=t.latentLayer,e}function oce(t,e,i){var r;let n=[];if(!("layers"in e))return"";for(let s of e.layers)n.push(`<div tabindex="-1" class="MLK__layer" id="${s.id}">`),(t.normalizedLayouts.length>1||e.displayEditToolbar)&&(n.push("<div class='MLK__toolbar' role='toolbar'>"),n.push(Que(t,i)),((r=e.displayEditToolbar)==null||r)&&n.push('<div class="ML__edit-toolbar right"></div>'),n.push("</div>")),n.push(lce(t,s)),n.push("</div>");return n.join("")}function lce(t,e){if(typeof e=="string")return e;let i="";if(typeof e.style=="string"?i+=`<style>${e.style}</style>`:typeof e.style=="object"&&(i+=`<style>${Zue(e.style)}</style>`),e.backdrop&&(i+=`<div class='${e.backdrop}'>`),e.container&&(i+=`<div class='${e.container}'>`),e.rows){i+="<div class=MLK__rows>";for(let r of e.rows){i+='<div dir="ltr" class=MLK__row>';for(let n of r)if(n){let s=t.registerKeycap(n),[a,o]=$2(n);/(^|\s)separator/.test(o)?i+=`<div class="${o}"`:i+=`<div tabindex="-1" id="${s}" class="${o}"`,n.tooltip&&(i+=` data-tooltip="${n.tooltip}"`),i+=`>${a}</div>`}i+="</div>"}i+="</div>"}else e.markup&&(i+=e.markup);return e.container&&(i+="</div>"),e.backdrop&&(i+="</div>"),i}function $2(t,e={shifted:!1}){var i,r,n,s,a,o,l;let u="",c=(i=t.class)!=null?i:"";if(e.shifted&&s0(t)&&(c+=" is-active"),e.shifted&&"shift"in t)typeof t.shift=="string"?u=jd(t.shift):typeof t.shift=="object"&&(u=t.shift.label?t.shift.label:(r=jd(t.shift.latex||t.shift.insert||"")||t.shift.key)!=null?r:""),typeof t.shift=="object"&&(c=(s=(n=t.shift.class)!=null?n:t.class)!=null?s:"");else{if(u=t.label?t.label:(a=jd(t.latex||t.insert||"")||t.key)!=null?a:"",t.shift){let d;typeof t.shift=="string"?d=jd(t.shift):t.shift.label?d=t.shift.label:d=(o=jd(t.shift.latex||t.shift.insert||"")||t.shift.key)!=null?o:"",u+=`<span class="MLK__shift">${d}</span>`}t.aside&&(u+=`<aside>${t.aside}</aside>`)}return t.layer&&!/layer-switch/.test(c)&&(c+=" layer-switch"),/(^|\s)(separator|action|shift|fnbutton|bigfnbutton)($|\s)/.test(c)||(c+=" MLK__keycap"),!/\bw[0-9]+\b/.test(c)&&t.width&&(c+=(l={0:" w0",.5:" w5",1.5:" w15",2:" w20",5:" w50"}[t.width])!=null?l:""),[u,c||"MLK__keycap"]}var Pa={"[left]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-left /></svg>",command:"performWithFeedback(moveToPreviousChar)",shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-left /></svg>",command:"performWithFeedback(extendSelectionBackward)"}},"[right]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-right /></svg>",command:"performWithFeedback(moveToNextChar)",shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-right /></svg>",command:"performWithFeedback(extendSelectionForward)"}},"[up]":{class:"action hide-shift",label:"↑",command:"performWithFeedback(moveUp)",shift:{label:"↟",command:"performWithFeedback(extendSelectionUpward)"}},"[down]":{class:"action hide-shift",label:"↓",command:"performWithFeedback(moveDown)",shift:{label:"↡",command:"performWithFeedback(extendSelectionDownward)"}},"[return]":{class:"action hide-shift",command:"performWithFeedback(commit)",shift:{command:"performWithFeedback(addRowAfter)"},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[action]":{class:"action hide-shift",command:"performWithFeedback(commit)",shift:{label:"<svg class=svg-glyph><use xlink:href=#circle-plus /></svg>",command:"performWithFeedback(addRowAfter)"},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[hr]":{class:"separator horizontal-rule"},"[hide-keyboard]":{class:"action",command:["hideVirtualKeyboard"],width:1.5,label:"<svg class=svg-glyph-lg><use xlink:href=#svg-keyboard-down /></svg>"},"[.]":{variants:".",command:"performWithFeedback(insertDecimalSeparator)",shift:",",class:"big-op hide-shift",label:"."},"[,]":{variants:",",command:"performWithFeedback(insertDecimalSeparator)",shift:".",class:"big-op hide-shift",label:","},"[+]":{variants:[{latex:"\\sum_{#0}^{#0}",class:"small"},"\\oplus"],latex:"+",label:"+",class:"big-op hide-shift",shift:{latex:"\\sum",insert:"\\sum",class:"small"}},"[-]":{variants:["\\pm","\\ominus"],latex:"-",label:"&#x2212;",shift:"\\pm",class:"big-op hide-shift"},"[/]":{class:"big-op hide-shift",shift:{class:"",latex:"\\frac{1}{#@}"},variants:["/","\\div","\\%","\\oslash"],latex:"\\frac{#@}{#?}",label:"&divide;"},"[*]":{variants:[{latex:"\\prod_{#0}^{#0}",class:"small"},"\\otimes","\\cdot"],latex:"\\cdot",label:"&times;",shift:{latex:"\\times"},class:"big-op hide-shift"},"[=]":{variants:["\\neq","\\equiv","\\varpropto","\\thickapprox","\\lt","\\gt","\\le","\\ge"],latex:"=",label:"=",shift:{label:"≠",latex:"\\ne"},class:"big-op hide-shift"},"[backspace]":{class:"action bottom right hide-shift",width:1.5,command:"performWithFeedback(deleteBackward)",label:"<svg class=svg-glyph><use xlink:href=#svg-delete-backward /></svg>",shift:{class:"action warning",label:"<svg class=svg-glyph><use xlink:href=#svg-trash /></svg>",command:"deleteAll"}},"[undo]":{class:"ghost if-can-undo",command:"undo",label:"<svg class=svg-glyph><use xlink:href=#svg-undo /></svg>",tooltip:"tooltip.undo"},"[redo]":{class:"ghost  if-can-redo",command:"redo",label:"<svg class=svg-glyph><use xlink:href=#svg-redo /></svg>",tooltip:"tooltip.redo"},"[(]":{variants:[{latex:"\\lbrack",key:"["},"\\langle","\\lfloor","\\lceil",{latex:"\\lbrace",key:"{"}],key:"(",label:"(",shift:{label:"[",key:"["},class:"hide-shift"},"[)]":{variants:[{latex:"\\rbrack",key:"]"},"\\rangle","\\rfloor","\\rceil",{latex:"\\rbrace",key:"}"}],key:")",label:")",shift:{label:"]",latex:"\\rbrack"},class:"hide-shift"},"[0]":{variants:"0",latex:"0",label:"0",shift:"\\infty",class:"hide-shift"},"[1]":{variants:"1",latex:"1",label:"1",shift:"#@^{-1}",class:"hide-shift"},"[2]":{variants:"2",latex:"2",label:"2",shift:"#@^2",class:"hide-shift"},"[3]":{variants:"3",latex:"3",label:"3",shift:"#@^3",class:"hide-shift"},"[4]":{variants:"4",latex:"4",label:"4",shift:"#@^4",class:"hide-shift"},"[5]":{variants:"5",latex:"5",label:"5",shift:"#@^5",class:"hide-shift"},"[6]":{variants:"6",latex:"6",label:"6",shift:"#@^6",class:"hide-shift"},"[7]":{variants:"7",latex:"7",label:"7",shift:"#@^7",class:"hide-shift"},"[8]":{variants:"8",latex:"8",label:"8",shift:"#@^8",class:"hide-shift"},"[9]":{variants:"9",latex:"9",label:"9",shift:"#@^9",class:"hide-shift"},"[separator-5]":{class:"separator",width:.5},"[separator]":{class:"separator"},"[separator-10]":{class:"separator"},"[separator-15]":{class:"separator",width:1.5},"[separator-20]":{class:"separator",width:2},"[separator-50]":{class:"separator",width:5},"[shift]":{class:"shift bottom left",width:1.5,label:"<span class=caps-lock-indicator></span><svg class=svg-glyph><use xlink:href=#svg-shift /></svg>"},"[foreground-color]":{variants:"foreground-color",command:["applyStyle",{color:"red"}],label:"<span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'>"},"[background-color]":{variants:"background-color",command:["applyStyle",{backgroundColor:"yellow"}],label:"<span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span>"}};function F6(t){var e;if(typeof t=="string"){if(t==="[.]"&&globalThis.MathfieldElement.decimalSeparator===","&&(t="[,]"),!Pa[t])return{latex:t};t={label:t}}let i;return"label"in t&&t.label&&Pa[t.label]&&(i=Z(q(q({},Pa[t.label]),t),{label:Pa[t.label].label})),"key"in t&&t.key&&Pa[t.key]&&(i=Z(q(q({},Pa[t.key]),t),{key:Pa[t.key].key})),i?(i.command==="insertDecimalSeparator"&&(i.label=(e=globalThis.MathfieldElement.decimalSeparator)!=null?e:"."),(i.tooltip===void 0||i.tooltip===null||i.tooltip===!1)&&delete i.tooltip,(i.tooltip===void 0||i.tooltip===null||i.tooltip===!1)&&delete i.tooltip,(i.aside===void 0||i.aside===null||i.aside===!1)&&delete i.aside,(i.variants===void 0||i.variants===null||i.variants===!1)&&delete i.variants,(i.shift===void 0||i.shift===null||i.shift===!1)&&delete i.shift,i):t}var Ah;function uce(t){var e;if(t.button!==0)return;let i=kl.singleton;if(!i)return;let r=t.target;for(;r&&!r.getAttribute("data-layer");)r=r.parentElement;if(r){i.currentLayer=(e=r.getAttribute("data-layer"))!=null?e:"",t.preventDefault();return}let n=$c(t.target);if(!(n!=null&&n.id))return;let s=i.getKeycap(n.id);if(!s)return;t.type;let a=new AbortController,o=a.signal;n.classList.add("is-pressed"),n.addEventListener("pointerenter",Im(a),{capture:!0,signal:o}),n.addEventListener("pointerleave",Im(a),{capture:!0,signal:o}),n.addEventListener("pointercancel",Im(a),{signal:o}),n.addEventListener("pointerup",Im(a),{signal:o}),s0(s)&&(n.classList.add("is-active"),i.shiftPressCount++),s.variants&&(Ah&&clearTimeout(Ah),Ah=setTimeout(()=>{n.classList.contains("is-pressed")&&(n.classList.remove("is-pressed"),n.classList.add("is-active"),t.target&&"releasePointerCapture"in t.target&&t.target.releasePointerCapture(t.pointerId),jP(n,()=>{a.abort(),n==null||n.classList.remove("is-active")}))},s.stickyVariantPanel?0:300)),t.preventDefault()}function Im(t){return e=>{let i=$c(e.target);if(!(i!=null&&i.id))return;let r=kl.singleton;if(!r)return;let n=r.getKeycap(i.id);if(n){if(e.type==="pointerenter"&&e.target===i&&e.isPrimary&&i.classList.add("is-pressed"),e.type==="pointercancel"){i.classList.remove("is-pressed"),s0(n)&&(r.shiftPressCount--,i.classList.toggle("is-active",r.isShifted)),t.abort();return}if(e.type==="pointerleave"&&e.target===i){i.classList.remove("is-pressed"),s0(n)&&(r.shiftPressCount--,i.classList.toggle("is-active",r.isShifted));return}if(e.type==="pointerup"){Ah&&clearTimeout(Ah),s0(n)?i.classList.toggle("is-active",r.isShifted):i.classList.contains("is-pressed")&&(i.classList.remove("is-pressed"),r.isShifted&&n.shift?typeof n.shift=="string"?r.executeCommand(["insert",n.shift,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]):X5(n.shift):X5(n),r.shiftPressCount===1&&!e.shiftKey&&(r.shiftPressCount=0)),t.abort(),e.preventDefault();return}}}}function X5(t){var e;let i=t.command;!i&&t.insert&&(i=["insert",t.insert,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),!i&&t.key&&(i=["typedText",t.key,{focus:!0,feedback:!0,simulateKeystroke:!0}]),!i&&t.latex&&(i=["insert",t.latex,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),i||(i=["typedText",t.label,{focus:!0,feedback:!0,simulateKeystroke:!0}]),(e=kl.singleton)==null||e.executeCommand(i)}function cce(t){if(t.nodeType!==1)return!1;let e=t.classList;return e.contains("MLK__keycap")||e.contains("shift")||e.contains("action")||e.contains("fnbutton")||e.contains("bigfnbutton")}function $c(t){if(!t)return;let e=t;for(;e&&!cce(e);)e=e.parentElement;return e??void 0}function s0(t){return!!t.class&&/(^|\s)shift($|\s)/.test(t.class)}var kl=class HP{constructor(){this.originalContainerBottomPadding=null,this.keycapRegistry={},this._shiftPressCount=0;var e;this.targetOrigin=window.origin,this.originValidator="none",this._alphabeticLayout="auto",this._layouts=Object.freeze(["default"]),this._editToolbar="default",this._container=void 0,this._visible=!1,this._rebuilding=!1,this.observer=new ResizeObserver(i=>{this.adjustBoundingRect(),this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect})}),this.listeners={};try{(e=window.top)==null||e.addEventListener("message",this)}catch{window.addEventListener("message",this)}document.addEventListener("focusin",i=>{let r=i.target;r!=null&&r.isConnected&&setTimeout(()=>{let n=$C();n&&!n.readOnly&&n.mathVirtualKeyboardPolicy==="auto"&&mB()&&this.show({animate:!0})},300)}),document.addEventListener("focusout",i=>{i.target instanceof Iu&&i.target.mathVirtualKeyboardPolicy!=="manual"&&setTimeout(()=>{$C()||this.hide()},300)})}get currentLayer(){var e,i,r;return(r=(i=(e=this._element)==null?void 0:e.querySelector(".MLK__layer.is-visible"))==null?void 0:i.id)!=null?r:""}set currentLayer(e){var i;if(!this._element){this.latentLayer=e;return}let r=e?this._element.querySelector(`#${e}.MLK__layer`):null;r||(r=this._element.querySelector(".MLK__layer")),r&&((i=this._element.querySelector(".MLK__layer.is-visible"))==null||i.classList.remove("is-visible"),r.classList.add("is-visible")),this.render()}get shiftPressCount(){return this._shiftPressCount}set shiftPressCount(e){var i;this._shiftPressCount=e>2||e<0?0:e,(i=this._element)==null||i.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.render()}get isShifted(){return this._shiftPressCount>0}resetKeycapRegistry(){this.keycapRegistry={}}registerKeycap(e){let i="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);return this.keycapRegistry[i]=e,i}setKeycap(e,i){Pa[e]=F6(i),this.rebuild()}getKeycap(e){var i;return e?(i=Pa[e])!=null?i:this.keycapRegistry[e]:void 0}getLayer(e){let i=this.normalizedLayouts;for(let r of i)for(let n of r.layers)if(n.id===e)return n}get alphabeticLayout(){return this._alphabeticLayout}set alphabeticLayout(e){this._alphabeticLayout=e,this._normalizedLayouts=void 0,this.rebuild()}get layouts(){return this._layouts}set layouts(e){this.updateNormalizedLayouts(e),this.rebuild()}updateNormalizedLayouts(e){let i=Array.isArray(e)?[...e]:[e],r=i.findIndex(n=>n==="default");r>=0&&i.splice(r,1,"numeric","symbols","alphabetic","greek"),this._layouts=Object.freeze(i),this._normalizedLayouts=i.map(n=>VP(n))}get normalizedLayouts(){return this._normalizedLayouts||this.updateNormalizedLayouts(this._layouts),this._normalizedLayouts}get editToolbar(){return this._editToolbar}set editToolbar(e){this._editToolbar=e,this.rebuild()}get container(){return this._container===void 0?window.document.body:this._container}set container(e){this._container=e,this.rebuild()}static get singleton(){if(this._singleton===void 0)try{this._singleton=new HP}catch{this._singleton=null}return this._singleton}get style(){return this._style}addEventListener(e,i,r){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(i)||this.listeners[e].add(i)}dispatchEvent(e){return!this.listeners[e.type]||this.listeners[e.type].size===0?!0:(this.listeners[e.type].forEach(i=>{typeof i=="function"?i(e):i==null||i.handleEvent(e)}),!e.defaultPrevented)}removeEventListener(e,i,r){this.listeners[e]&&this.listeners[e].delete(i)}get element(){return this._element}set element(e){var i;this._element!==e&&((i=this._element)==null||i.remove(),this._element=e)}get visible(){return this._visible}set visible(e){e?this.show():this.hide()}get boundingRect(){var e;if(!this._visible)return new DOMRect;let i=(e=this._element)==null?void 0:e.getElementsByClassName("MLK__plate")[0];return i?i.getBoundingClientRect():new DOMRect}adjustBoundingRect(){if(!this._element)return;let e=this.boundingRect.height;if(this.container===document.body){this._element.style.setProperty("--_keyboard-height",`calc(${e}px + var(--_padding-top) + var(--_padding-bottom) + env(safe-area-inset-bottom, 0))`);let i=e-1;this.container.style.paddingBottom=this.originalContainerBottomPadding?`calc(${this.originalContainerBottomPadding} + ${i}px)`:`${i}px`}else this._element.style.setProperty("--_keyboard-height",`${e}px`)}rebuild(){if(this._rebuilding||!this._element)return;this._rebuilding=!0;let e=this.currentLayer;requestAnimationFrame(()=>{this._rebuilding=!1,this._element&&(this._element.remove(),this._element=void 0),this.visible&&(this.buildAndAttachElement(),this.currentLayer=e,this.render(),this.adjustBoundingRect(),this._element.classList.add("is-visible"))})}render(){var e;if(!this._element)return;let i=this.getLayer(this.currentLayer);this._element.classList.toggle("backdrop-is-transparent",!!(i&&(i.backdrop||i.container)));let r=this._element.querySelectorAll(".MLK__layer.is-visible .MLK__keycap, .MLK__layer.is-visible .action, .fnbutton, .MLK__layer.is-visible .bigfnbutton, .MLK__layer.is-visible .shift");if(!r)return;let n=this.isShifted;for(let s of r){let a=this.getKeycap(s.id);if(a){let[o,l]=$2(a,{shifted:n});s.innerHTML=globalThis.MathfieldElement.createHTML(o),s.className=l,n&&typeof a.shift=="object"&&(e=a.shift)!=null&&e.tooltip?s.dataset.tooltip=a.shift.tooltip:!n&&a.tooltip&&(s.dataset.tooltip=a.tooltip)}}}show(e){var i;if(this._visible)return;let r=this.container;if(r&&window.mathVirtualKeyboard&&this.stateWillChange(!0)){if(this._element||(this.buildAndAttachElement(),this.adjustBoundingRect()),!this._visible){let n=this._element.getElementsByClassName("MLK__plate")[0];if(n&&this.observer.observe(n),r===window.document.body){let s=r.style.paddingBottom;this.originalContainerBottomPadding=s;let a=n.offsetHeight-1;r.style.paddingBottom=s?`calc(${s} + ${a}px)`:`${a}px`}window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("keydown",this,{capture:!0}),window.addEventListener("keyup",this,{capture:!0}),(i=this._element)==null||i.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.currentLayer=this.latentLayer}this._visible=!0,e!=null&&e.animate?requestAnimationFrame(()=>{this._element&&(this._element.classList.add("animate"),this._element.addEventListener("transitionend",()=>{var n;return(n=this._element)==null?void 0:n.classList.remove("animate")},{once:!0}),this._element.classList.add("is-visible"),this.stateChanged())}):(this._element.classList.add("is-visible"),this.stateChanged())}}hide(e){var i;let r=this.container;if(r&&this._visible&&this.stateWillChange(!1)){if(this._visible=!1,this._element){this.latentLayer=this.currentLayer;let n=this._element.getElementsByClassName("MLK__plate")[0];n&&this.observer.unobserve(n),window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("keydown",this,{capture:!0}),window.removeEventListener("keyup",this,{capture:!0}),window.removeEventListener("contextmenu",this,{capture:!0}),Nc(),nce(),(i=this._element)==null||i.remove(),this._element=void 0,this.originalContainerBottomPadding!==null&&(r.style.paddingBottom=this.originalContainerBottomPadding)}this.stateChanged()}}get height(){var e,i;return(i=(e=this.element)==null?void 0:e.offsetHeight)!=null?i:0}buildAndAttachElement(){var e;this.element,this.element=ace(this),window.addEventListener("contextmenu",this,{capture:!0}),this.element.addEventListener("contextmenu",i=>{i.shiftKey||((i.ctrlKey||i.button===2)&&jP(i.target),i.preventDefault(),i.stopPropagation())},{capture:!0}),(e=this.container)==null||e.appendChild(this.element)}handleEvent(e){if(O6(e)){if(!T6(e.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");e.data.action==="disconnect"?this.connectedMathfieldWindow=void 0:e.data.action!=="update-setting"&&e.data.action!=="proxy-created"&&e.data.action!=="execute-command"&&(e.source,this.connectedMathfieldWindow=e.source),this.handleMessage(e.data,e.source)}if(this._element)switch(e.type){case"mouseup":case"blur":document.body.style.userSelect="",this.shiftPressCount=0;break;case"contextmenu":e.button!==2&&e.preventDefault();break;case"keydown":{e.key==="Shift"&&!e.repeat&&(this.shiftPressCount=1);break}case"keyup":{(e.key==="Shift"||!e.getModifierState("Shift")&&this.shiftPressCount!==2)&&(this.shiftPressCount=0);break}}}handleMessage(e,i){let{action:r}=e;if(r==="execute-command"){let{command:n}=e,s=n0(n);if(window.top!==void 0&&s!=="virtual-keyboard")return;this.executeCommand(n);return}if((r==="connect"||r==="show")&&this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},i),r!=="disconnect"&&window===window.top){if(r==="show"){typeof e.animate<"u"?this.show({animate:e.animate}):this.show();return}if(r==="hide"){typeof e.animate<"u"?this.hide({animate:e.animate}):this.hide();return}if(r==="update-setting"){if(e.alphabeticLayout&&(this.alphabeticLayout=e.alphabeticLayout),e.layouts&&(this.layouts=e.layouts),e.editToolbar&&(this.editToolbar=e.editToolbar),e.setKeycap){let{keycap:n,value:s}=e.setKeycap;this.setKeycap(n,s),this.render()}return}if(r==="proxy-created"){this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},i);return}}}sendMessage(e,i,r){if(i.command&&this.dispatchEvent(new CustomEvent("math-virtual-keyboard-command",{detail:i.command})),r||(r=this.connectedMathfieldWindow),this.targetOrigin===null||this.targetOrigin==="null"||r===window){window.dispatchEvent(new MessageEvent("message",{source:window,data:q({type:yg,action:e},i)}));return}if(r)r.postMessage(q({type:yg,action:e},i),{targetOrigin:this.targetOrigin});else if(e==="execute-command"&&Array.isArray(i.command)&&i.command[0]==="insert"){let n=i.command[1].split("");for(let s of n)this.dispatchEvent(new KeyboardEvent("keydown",{key:s,bubbles:!0})),this.dispatchEvent(new KeyboardEvent("keyup",{key:s,bubbles:!0}))}}stateWillChange(e){return this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:e},bubbles:!0,cancelable:!0,composed:!0}))}stateChanged(){this.dispatchEvent(new Event("virtual-keyboard-toggle")),this._visible||(this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect}))}focus(){this.sendMessage("focus",{})}blur(){this.sendMessage("blur",{})}updateToolbar(e){let i=this._element;if(!i)return;i.classList.toggle("is-math-mode",e.mode==="math"),i.classList.toggle("is-text-mode",e.mode==="text"),i.classList.toggle("can-undo",e.canUndo),i.classList.toggle("can-redo",e.canRedo),i.classList.toggle("can-copy",!e.selectionIsCollapsed),i.classList.toggle("can-copy",!e.selectionIsCollapsed),i.classList.toggle("can-paste",!0);let r=i.querySelectorAll(".ML__edit-toolbar");if(r)for(let n of r)n.innerHTML=ece(this,e)}update(e){this._style=e.style,this.updateToolbar(e)}connect(){this.connectedMathfieldWindow=window}disconnect(){this.connectedMathfieldWindow=void 0}executeCommand(e){if(e=ip(e),!e)return!1;let i,r=[],n=n0(e);return mr(e)?(i=e[0],i==="performWithFeedback"&&(n=n0(e.slice(1))),r=e.slice(1)):i=e,n==="virtual-keyboard"?ta[i].fn(void 0,...r):(this.sendMessage("execute-command",{command:e}),!1)}dispose(){window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("message",this)}};function $C(){let t=fg(),e=null;for(;t;){if("host"in t&&t.host instanceof Iu){e=t.host;break}t=t.parentNode}return e}if(os()&&!("mathVirtualKeyboard"in window))if(window===window.top){let t=kl.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>t})}else Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>Wue.singleton,configurable:!0});function vg(t){let e={};for(let i of Object.keys(t))switch(i){case"scriptDepth":let r=t.scriptDepth;if(mr(r))e.scriptDepth=[r[0],r[1]];else if(typeof r=="number")e.scriptDepth=[r,r];else if(typeof r=="string"){let[s,a]=r.split(",").map(o=>parseInt(o.trim()));e.scriptDepth=[s,a]}else throw new TypeError("Unexpected value for scriptDepth");break;case"mathVirtualKeyboardPolicy":let n=t.mathVirtualKeyboardPolicy.toLowerCase();if(n==="sandboxed"){if(window!==window.top){let s=kl.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>s})}n="manual"}e.mathVirtualKeyboardPolicy=n;break;case"letterShapeStyle":t.letterShapeStyle==="auto"?Ct.locale.startsWith("fr")?e.letterShapeStyle="french":e.letterShapeStyle="tex":e.letterShapeStyle=t.letterShapeStyle;break;case"defaultMode":["text","math","inline-math"].includes(t.defaultMode)?e.defaultMode=t.defaultMode:(console.error('MathLive 0.105.3:  valid values for defaultMode are "text", "math" or "inline-math"'),e.defaultMode="math");break;case"macros":e.macros=B5(t.macros);break;default:mr(t[i])?e[i]=[...t[i]]:typeof t[i]=="object"&&!(t[i]instanceof Element)&&i!=="computeEngine"?e[i]=q({},t[i]):e[i]=t[i]}return e}function uu(t,e){let i;typeof e=="string"?i=[e]:e===void 0?i=Object.keys(t):i=e;let r={};for(let n of i)t[n]===null?r[n]=null:mr(t[n])?r[n]=[...t[n]]:typeof t[n]=="object"&&!(t[n]instanceof Element)&&n!=="computeEngine"?r[n]=q({},t[n]):r[n]=t[n];return typeof e=="string"?r[e]:r}function d1(){return{readOnly:!1,defaultMode:"math",macros:{},registers:{},colorMap:T2,backgroundColorMap:v6,letterShapeStyle:Ct.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,isImplicitFunction:t=>["\\sin","\\cos","\\tan","\\arcsin","\\arccos","\\arctan","\\arcsec","\\arccsc","\\arsinh","\\arcosh","\\artanh","\\arcsech","\\arccsch","\\arg","\\ch","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\sec","\\sinh","\\sh","\\tanh","\\tg","\\th","\\lg","\\lb","\\log","\\ln"].includes(t),mathModeSpace:"",placeholderSymbol:"▢",contentPlaceholder:"",popoverPolicy:"auto",environmentPopoverPolicy:"off",keybindings:ole,inlineShortcuts:IB,inlineShortcutTimeout:0,mathVirtualKeyboardPolicy:"auto",virtualKeyboardTargetOrigin:window==null?void 0:window.origin,originValidator:"none",onInsertStyle:P6,onInlineShortcut:()=>"",onScrollIntoView:null,onExport:ale,value:""}}function zC(t){return t.defaultMode==="inline-math"?"math":t.defaultMode}function dce(t,e){let i=t.at(t.position);if(i.type==="composition")i.value=e;else{let{caret:r}=i;i.caret=void 0;let n=new QB(e,{mode:i.mode});n.caret=r,i.parent.addChildAfter(n,i),t.position+=1}}function hce(t){let e=t.at(t.position);e.type==="composition"&&(e.parent.removeChild(e),t.position-=1)}x6(["math","displaymath"],gn);x6("center",gn);po(["multline","multline*"],"",gn);fe("displaylines","",{parse:t=>{if(t.skipWhitespace(),!t.match("<{>"))return[];let e=[],i=[];t.mathlist.length>0&&e.push([t.mathlist]),t.beginContext({tabular:!0,root:!0});do{if(t.end()||t.match("<}>"))break;t.matchColumnSeparator()||t.matchRowSeparator()?(e.push([i]),i=[]):i.push(...t.scan(n=>["<}>","&","\\cr","\\\\","\\tabularnewline"].includes(n)))}while(!0);t.endContext(),e.push([i]);let r=t.scan();return r.length>0&&e.push([r]),e},createAtom:t=>new Tt("lines",t.args,[],{leftDelim:".",rightDelim:".",columns:[{align:"l"}],classes:["ML__multiline_environment"],isRoot:!0,minColumns:1,maxColumns:1,minRows:1})});po("split","",gn);po(["gather","gather*","gathered"],"",gn);po(["equation","equation*","subequations"],"",gn);x6(["align","align*","eqnarray"],gn,{tabular:!0});po(["aligned"],"",gn);po("array","{columns:colspec}",(t,e,i,r)=>new Tt(t,e,i,{columns:r[0],mathstyleName:"textstyle"}));po(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],"[columns:colspec]",gn);po(["smallmatrix","smallmatrix*"],"[columns:colspec]",gn);po(["cases","dcases","rcases"],"",gn);function gn(t,e=[[[]]],i=[],r=[],n){switch(t){case"math":return new Tt(t,e,i,{mathstyleName:"textstyle",isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"displaymath":return new Tt(t,e,i,{mathstyleName:"textstyle",isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"center":return new Tt(t,e,i,{columns:[{align:"c"}],classes:["ML__center_environment"],isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"multline":case"multline*":return new Tt(t,e,i,{columns:[{align:"m"}],leftDelim:".",rightDelim:".",isRoot:!0,minColumns:1,maxColumns:1,minRows:1});case"split":return new Tt(t,e,i,{columns:[{align:"r"},{align:"l"}],minColumns:2,minRows:1,isRoot:!1});case"gather":case"gather*":return new Tt(t,e,i,{columns:[{gap:.25},{align:"c"},{gap:0}],minColumns:1,maxColumns:1,minRows:1,isRoot:!0,classes:["ML__gather_environment"]});case"gathered":return new Tt(t,e,i,{columns:[{gap:.25},{align:"c"},{gap:0}],minColumns:1,maxColumns:1,minRows:1});case"equation":case"equation*":case"subequations":return new Tt(t,e,i,{columns:[{align:"c"}],isRoot:!0,minColumns:1,maxColumns:1,minRows:1});case"aligned":{let s=0;for(let l of e)s=Math.max(s,l.length);let a=[{gap:0},{align:"r"},{gap:.25},{align:"l"}],o=2;for(;o<s;)a.push({gap:1},{align:"r"},{gap:.25},{align:"l"}),o+=2;return a.push({gap:0}),new Tt(t,e,i,{arraycolsep:0,columns:a,minColumns:2,minRows:1,isRoot:t!=="aligned"})}case"eqnarray":return new Tt(t,e,i,{arraycolsep:0,columns:[{gap:0},{align:"r"},{align:"c"},{align:"l"}],minColumns:3,maxColumns:3,minRows:1,isRoot:!0,classes:["ML__eqnarray_environment"]});case"align":case"align*":return new Tt(t,e,i,{arraycolsep:0,columns:[{gap:0},{align:"r"},{gap:.25},{align:"l"}],minColumns:2,maxColumns:2,minRows:1,isRoot:!0,classes:["ML__align_environment"]});case"pmatrix":case"pmatrix*":return new Tt(t,e,i,{mathstyleName:"textstyle",leftDelim:"(",rightDelim:")",columns:Xl(r[0],n)});case"bmatrix":case"bmatrix*":return new Tt(t,e,i,{mathstyleName:"textstyle",leftDelim:"[",rightDelim:"]",columns:Xl(r[0],n)});case"Bmatrix":case"Bmatrix*":return new Tt(t,e,i,{mathstyleName:"textstyle",leftDelim:"\\lbrace",rightDelim:"\\rbrace",columns:Xl(r[0],n)});case"vmatrix":case"vmatrix*":return new Tt(t,e,i,{mathstyleName:"textstyle",leftDelim:"\\vert",rightDelim:"\\vert",columns:Xl(r[0],n)});case"Vmatrix":case"Vmatrix*":return new Tt(t,e,i,{mathstyleName:"textstyle",leftDelim:"\\Vert",rightDelim:"\\Vert",columns:Xl(r[0],n)});case"matrix":case"matrix*":return new Tt(t,e,i,{mathstyleName:"textstyle",leftDelim:".",rightDelim:".",columns:Xl(r==null?void 0:r[0],n)});case"smallmatrix":case"smallmatrix*":return new Tt(t,e,i,{mathstyleName:"scriptstyle",columns:Xl(r==null?void 0:r[0],n),colSeparationType:"small",arraystretch:.5});case"cases":case"dcases":return new Tt(t,e,i,{mathstyleName:t==="dcases"?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]});case"rcases":return new Tt(t,e,i,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]});case"lines":return new Tt(t,e,i,{leftDelim:".",rightDelim:".",columns:[{align:"l"}],isRoot:!0,minColumns:1,maxColumns:1,minRows:1})}return new Tt(t,e,i,{mathstyleName:"textstyle"})}function Xl(t,e=10){return t??Array(e).fill({align:"c"})}function pce(t){let e=t.at(t.position);for(;e&&!no(e.parentBranch);)e=e.parent;return[e.firstSibling,e.lastSibling]}function fce(t,e){let i=t.at(t.position);for(;i&&!(i.parent instanceof Tt);)i=i.parent;if(i&&i.type==="array"&&i.environmentName,!i||!(i.parent instanceof Tt)){let r=t.at(t.position);if(i=r,!i.parent.parent){let n=t.extractAtoms([t.position,t.lastOffset]),s=t.extractAtoms([0,t.position]),a;return e.endsWith("column")?(s.length===0&&(s=Om()),n.length===0&&(n=Om()),a=gn("split",[[s,n]]),t.root=a,Vd(a,0,0)?wc(t,a,0,0):Vd(a,0,1)?wc(t,a,0,1):t.position=t.offsetOf(r)):(a=gn("lines",[[s],[n]]),t.root=a,wc(t,a,1,0)),[void 0,[0,0]]}if(i.parent instanceof bi){let n=i.parent,s=t.extractAtoms([t.position,t.offsetOf(n.lastChild)]),a=t.extractAtoms([t.offsetOf(n.firstChild),t.position]);a.length===0&&(a=Om()),s.length===0&&(s=Om());let o="pmatrix",l=n.leftDelim,u=n.rightDelim;l==="("&&(u===")"||u==="?")?o="pmatrix":(l==="["||l==="\\lbrack")&&(u==="]"||u==="\\rbrack"||u==="?")?o="bmatrix":l==="\\vert"&&u==="\\vert"?o="vmatrix":l==="\\Vert"&&u==="\\Vert"?o="Vmatrix":(l==="{"||l==="\\lbrace")&&(u==="."||u==="?")&&(o="cases");let c=gn(o,e.endsWith("column")?[[a,s]]:[[a],[s]]);return n.parent.addChildBefore(c,n),n.parent.removeChild(n),Vd(c,0,0)?wc(t,c,0,0):e.endsWith("column")?Vd(c,0,1)?wc(t,c,0,1):t.position=t.offsetOf(i):Vd(c,1,0)?wc(t,c,1,0):t.position=t.offsetOf(i),[void 0,[0,0]]}}return i&&i.parent instanceof Tt?[i.parent,i.parentBranch]:[void 0,[0,0]]}function Vd(t,e,i){let r=t.getCell(e,i);return!r||r.length!==2?!1:r[1].type==="placeholder"}function mce(t,e,i,r){let n=e.getCell(i,r);return n?[t.offsetOf(n[0]),t.offsetOf(n[n.length-1])]:-1}function wc(t,e,i,r){let n=mce(t,e,i,r);typeof n!="number"&&t.setSelection(n)}function Rm(t,e,i,r,n){let s=e.getCell(i,r);s&&t.setPositionHandlingPlaceholder(t.offsetOf(s[n==="start"?0:s.length-1]))}function rp(t,e){let[i,[r,n]]=fce(t,e);if(i)switch(e){case"after row":i.addRowAfter(r),Rm(t,i,r+1,0,"end");break;case"after column":if(i.maxColumns<=i.colCount){t.announce("plonk");return}i.addColumnAfter(n),Rm(t,i,r,n+1,"end");break;case"before row":i.addRowBefore(r),Rm(t,i,r,0,"start");break;case"before column":if(i.maxColumns<=i.colCount){t.announce("plonk");return}i.addColumnBefore(n),Rm(t,i,r,n,"start");break}}function KP(t){var e;let i=t.at(t.position);if(!no(i.parentBranch)&&i.parent!==t.root&&t.root.type!=="root")return t.announce("plonk"),!1;if(!t.contentWillChange({inputType:"insertText"}))return!1;if((e=t.parentEnvironment)!=null&&e.isMultiline){t.selectionIsCollapsed||t.deleteAtoms(Cr(t.selection));let[r,n]=pce(t),s=t.extractAtoms([t.position,t.offsetOf(n)]),a=t.extractAtoms([t.offsetOf(r),t.position]),o=r.parent,[l,u]=r.parentBranch;return o.setCell(l,u,a),rp(t,"after row"),o.setCell(l+1,u,s),t.position=t.offsetOf(o.getCell(l+1,u)[0]),t.contentDidChange({inputType:"insertText"}),!0}return rp(t,"after row"),t.contentDidChange({inputType:"insertText"}),!0}function gce(t){return t.contentWillChange({inputType:"insertText"})?(rp(t,"before row"),t.contentDidChange({inputType:"insertText"}),!0):!1}function WP(t){return t.contentWillChange({inputType:"insertText"})?(rp(t,"after column"),t.contentDidChange({inputType:"insertText"}),!0):!1}function yce(t){return t.contentWillChange({inputType:"insertText"})?(rp(t,"before column"),t.contentDidChange({inputType:"insertText"}),!0):!1}function GP(t,e){if(!t.contentWillChange({}))return!1;t.mathfield.snapshot();let i=".",r=".";switch(e){case"pmatrix":case"pmatrix*":i="(",r=")";break;case"bmatrix":case"bmatrix*":i="[",r="]";break;case"Bmatrix":case"Bmatrix*":i="\\lbrace",r="\\rbrace";break;case"vmatrix":case"vmatrix*":i="\\vert",r="\\vert";break;case"Vmatrix":case"Vmatrix*":i="\\Vert",r="\\Vert";break;case"matrix":case"matrix*":i=".",r=".";break;case"cases":case"dcases":i="\\lbrace";break;case"rcases":r="\\rbrace";break}let n=t.at(t.position),s=n.type==="array"?n:t.parentEnvironment;return s.environmentName=e,s.leftDelim=i,s.rightDelim=r,t.contentDidChange({}),!0}function XP(t,e){let i=t.at(t.position);for(;i&&!(Array.isArray(i.parentBranch)&&i.parent instanceof Tt);)i=i.parent;if(Array.isArray(i==null?void 0:i.parentBranch)&&(i==null?void 0:i.parent)instanceof Tt){let r=i.parent,n=i.parentBranch,s;switch(e){case"row":if(r.rowCount>1){r.removeRow(n[0]);let a=r.getCell(Math.max(0,n[0]-1),n[1]);s=t.offsetOf(a[a.length-1])}break;case"column":if(r.colCount>r.minColumns){r.removeColumn(n[1]);let a=r.getCell(n[0],Math.max(0,n[1]-1));s=t.offsetOf(a[a.length-1])}break}s!==void 0&&t.setPositionHandlingPlaceholder(s)}}function vce(t){return t.contentWillChange({inputType:"deleteContent"})?(XP(t,"row"),t.contentDidChange({inputType:"deleteContent"}),!0):!1}function bce(t){return t.contentWillChange({inputType:"deleteContent"})?(XP(t,"column"),t.contentDidChange({inputType:"deleteContent"}),!0):!1}nn({addRowAfter:KP,addColumnAfter:WP,addRowBefore:gce,addColumnBefore:yce,removeRow:vce,removeColumn:bce,setEnvironment:GP},{target:"model",canUndo:!0,changeContent:!0,changeSelection:!0});function Om(){return[new fa]}var YP=class ZP{constructor(e){this.recording=!1,this.model=e,this.reset()}reset(){this.stack=[],this.index=-1,this.lastOp=""}startRecording(){this.recording=!0}stopRecording(){this.recording=!1}canUndo(){return this.index-1>=0}canRedo(){return this.stack.length-1>this.index}stopCoalescing(e){e&&this.index>=0&&(this.stack[this.index].selection=e),this.lastOp=""}undo(){if(!this.canUndo())return!1;let e=this.stack[this.index-1];return this.index-=1,this.lastOp="",this.model.setState(e,{silenceNotifications:!1,type:"undo"}),!0}redo(){if(!this.canRedo())return!1;let e=this.stack[this.index+1];return this.index+=1,this.lastOp="",this.model.setState(e,{silenceNotifications:!1,type:"redo"}),!0}pop(){this.canUndo()&&(this.stack.splice(this.index,this.stack.length-this.index),this.index-=1)}snapshot(e){return this.recording?(e&&e===this.lastOp&&this.pop(),this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push(this.model.getState()),this.index+=1,this.stack.length>ZP.maximumDepth&&(this.stack.shift(),this.index-=1),this.lastOp=e??"",!0):!1}};YP.maximumDepth=1e3;var xce=YP;function Y5(t,e,i){if(t.at(e).mode!=="text")return e;let r=i==="backward"?-1:1,n;if(Jh.test(t.at(e).value)){let s=e,a;do a=t.at(s).mode==="text"&&Jh.test(t.at(s).value),s+=r;while(t.at(s)&&a);n=t.at(s)?s-2*r:s-r}else if(/\s/.test(t.at(e).value)){let s=e;for(;t.at(s)&&t.at(s).mode==="text"&&/\s/.test(t.at(s).value);)s+=r;if(!t.at(s))n=s-r;else{let a=!0;do a=t.at(s).mode==="text"&&!/\s/.test(t.at(s).value),s+=r;while(t.at(s)&&a);n=t.at(s)?s-2*r:s-r}}else{let s=e;for(;t.at(s)&&t.at(s).mode==="text"&&!/\s/.test(t.at(s).value);)s+=r;n=t.at(s)?s:s-r;let a=!0;for(;t.at(s)&&a;)a=t.at(s).mode==="text"&&/\s/.test(t.at(s).value),a&&(n=s),s+=r;n=t.at(s)?s-2*r:s-r}return n-(r>0?0:1)}function zc(t,e,i){var r,n,s,a,o,l,u;let c=t.position;(r=i==null?void 0:i.extend)!=null&&r||t.collapseSelection(e);let d=t.at(t.position);if(e==="forward"&&(d.type==="subsup"?(d=d.rightSibling,d||(d=t.at(t.position+1))):d=t.at(t.position+1)),!d)return t.announce("plonk"),!1;let h=t.offsetOf(d);if(d instanceof Y0)h=Y5(t,h,e);else if(d instanceof rr)if(d.isSuggestion)for(;d&&d instanceof rr;)d.isSuggestion=!1,h=t.offsetOf(d),d=d.rightSibling;else if(e==="forward"){if(d=d.rightSibling,!d||!(d instanceof rr))return t.announce("plonk"),!1;for(;d&&d instanceof rr&&/[a-zA-Z\*]/.test(d.value);)h=t.offsetOf(d),d=d.rightSibling}else{if(d=d.leftSibling,!d||!(d instanceof rr))return t.announce("plonk"),!1;for(;d&&d instanceof rr&&/[a-zA-Z\*]/.test(d.value);)h=t.offsetOf(d),d=d.leftSibling}else if(e==="forward"&&d.type==="mopen"){let f=0;do d.type==="mopen"?f+=1:d.type==="mclose"&&(f-=1),d=d.rightSibling;while(!d.isLastSibling&&f!==0);h=t.offsetOf(d.leftSibling)}else if(e==="backward"&&d.type==="mclose"){let f=0;do d.type==="mopen"?f+=1:d.type==="mclose"&&(f-=1),d=d.leftSibling;while(!d.isFirstSibling&&f!==0);h=t.offsetOf(d)}else if(e==="backward")if(d.type==="first")for(;h>0&&d.type==="first";)h-=1,d=t.at(h);else{let f=d.type;d.type==="subsup"&&(h=t.offsetOf(t.at(h).leftSibling)),h-=1;let g=(n=t.at(h))==null?void 0:n.type;for(;h>=0&&g===f;)((s=t.at(h))==null?void 0:s.type)==="subsup"?h=t.offsetOf(t.at(h).leftSibling):h-=1,g=t.at(h).type}else{let{type:f}=d,g=(a=t.at(h))==null?void 0:a.type,{lastOffset:y}=t;for(;h<=y&&(g===f||g==="subsup");){for(;((o=t.at(h).rightSibling)==null?void 0:o.type)==="subsup";)h=t.offsetOf(t.at(h).rightSibling);h+=1,g=(l=t.at(h))==null?void 0:l.type}h-=1}if((u=i==null?void 0:i.extend)!=null&&u){if(!t.setSelection(t.anchor,h))return t.announce("plonk"),!1}else{if(h===t.position)return t.announce("plonk"),!1;t.position=h}return t.announce("move",c),t.mathfield.stopCoalescingUndo(),!0}function ia(t,e,i){var r,n;if(i=i??{extend:!1},t.mathfield.styleBias=e==="backward"?"right":"left",e!=="forward"){let[o,l]=FP(t);o!==void 0&&l!==void 0&&t.deleteAtoms([o,l])}if(e==="upward")return wce(t,i);if(e==="downward")return Sce(t,i);if(i.extend){let o=h1(t,t.position,e);o<0&&(o=0),o>t.lastOffset&&(o=t.lastOffset);let l=t.setSelection(t.anchor,o);return t.mathfield.stopCoalescingUndo(),l}if(t.selectionIsPlaceholder){t.collapseSelection(e);let o=ia(t,e);return t.mathfield.stopCoalescingUndo(),o}let s=t.position,a=s;if(t.collapseSelection(e)?(s=t.position,JP(t,s)||(s=h1(t,s,e))):s=h1(t,s,e),s<0||s>t.lastOffset){let o=!0;return t.silenceNotifications||(o=(n=(r=t.mathfield.host)==null?void 0:r.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))!=null?n:!0),o&&t.announce("plonk"),o}return t.setPositionHandlingPlaceholder(s),t.mathfield.stopCoalescingUndo(),t.announce("move",a),!0}function h1(t,e,i){return e=e+(i==="forward"?1:-1),e<0||e>t.lastOffset||JP(t,e)?e:h1(t,e,i)}function JP(t,e){var i;let r=t.at(e),n=r.parent;for(;n&&!n.inCaptureSelection;)n=n.parent;return!(n!=null&&n.inCaptureSelection||(i=r.parent)!=null&&i.skipBoundary&&(!r.isFirstSibling&&r.isLastSibling||r.type==="first")||t.mathfield.hasEditablePrompts&&!r.parentPrompt)}function _ce(t,e,i){let r=1/0,n=0;for(;n<e.length;n++){let s=e[n],a=t.getHTMLElement(s);if(!a)continue;let o=zB(a).right,l=Math.abs(i-o);if(l<=r)r=l;else break}return e[n-1]}function bg(t,e,i,r,n){let s=t.mathfield.hasEditablePrompts,a=s?i.filter(u=>u.type==="prompt"&&!u.captureSelection):i,o=zB(t.mathfield.getHTMLElement(e)).right,l=t.offsetOf(_ce(t.mathfield,a,o))-(s?1:0);if(r){let[u,c]=t.selection.ranges[0],d;l<(n==="up"?u:c)?d={ranges:[[l,c]],direction:"backward"}:d={ranges:[[u,l]],direction:"forward"},t.setSelection(d)}else t.setPositionHandlingPlaceholder(l);t.announce(`move ${n}`)}function wce(t,e){var i,r;let n=(i=e==null?void 0:e.extend)!=null?i:!1;n||t.collapseSelection("backward");let s=()=>{var l,u;let c=!0;return t.silenceNotifications||(c=(u=(l=t.mathfield.host)==null?void 0:l.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"upward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?u:!0),t.announce(c?"line":"plonk"),c},a=t.at(t.position),o=a;for(;o&&o.parentBranch!=="below"&&!(Array.isArray(o.parentBranch)&&o.parent instanceof Tt);)o=o.parent;if(Array.isArray(o==null?void 0:o.parentBranch)&&o.parent instanceof Tt){let l=o.parent;if(o.parentBranch[0]<1)return s();let u=o.parentBranch[0]-1,c=l.getCell(u,o.parentBranch[1]);if(!c.some(d=>d.type==="prompt"&&!d.captureSelection)&&t.mathfield.hasEditablePrompts)return s();bg(t,a,c,n,"up")}else if(o){let l=(r=o.parent.branch("above"))!=null?r:o.parent.createBranch("above");if(!l.some(u=>u.type==="prompt"&&u.placeholderId)&&t.mathfield.hasEditablePrompts)return s();bg(t,a,l,n,"up")}else return s();return t.mathfield.stopCoalescingUndo(),!0}function Sce(t,e){var i,r;let n=(i=e==null?void 0:e.extend)!=null?i:!1;n||t.collapseSelection("forward");let s=()=>{var l,u;let c=!0;return t.silenceNotifications||(c=(u=(l=t.mathfield.host)==null?void 0:l.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"downward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?u:!0),t.announce(c?"line":"plonk"),c},a=t.at(t.position),o=a;for(;o&&o.parentBranch!=="above"&&!(no(o.parentBranch)&&o.parent instanceof Tt);)o=o.parent;if(no(o==null?void 0:o.parentBranch)&&o.parent instanceof Tt){let l=o.parent;if(o.parentBranch[0]+1>l.rows.length-1)return s();let u=o.parentBranch[0]+1,c=l.getCell(u,o.parentBranch[1]);if(!c.some(d=>d.type==="prompt"&&!d.captureSelection)&&t.mathfield.hasEditablePrompts)return s();bg(t,a,c,n,"down")}else if(o){let l=(r=o.parent.branch("below"))!=null?r:o.parent.createBranch("below");if(!l.some(u=>u.type==="prompt")&&t.mathfield.hasEditablePrompts)return s();bg(t,a,l,n,"down")}else return s();return!0}function QP(t){let e=t.position,i=t.at(e).parent;return i!=null&&i.parent?(t.position=t.offsetOf(i),t.mathfield.stopCoalescingUndo(),t.announce("move",e),!0):(t.announce("plonk"),!1)}function Cce(t){let e=0,i=t.at(t.position),r=!1;for(;i;)(!i.hasEmptyBranch("superscript")||!i.hasEmptyBranch("subscript"))&&(e+=1),i.hasEmptyBranch("superscript")?i.hasEmptyBranch("subscript")||(r=!1):r=!0,i=i.parent;return r?e:0}function kce(t){let e=0,i=t.at(t.position),r=!1;for(;i;)(!i.hasEmptyBranch("superscript")||!i.hasEmptyBranch("subscript"))&&(e+=1),i.hasEmptyBranch("superscript")?i.hasEmptyBranch("subscript")||(r=!0):r=!1,i=i.parent;return r?e:0}function UC(t){var e;if(t.collapseSelection(),Cce(t)>=t.mathfield.options.scriptDepth[1])return t.announce("plonk"),!1;let i=t.at(t.position);return i.subsupPlacement===void 0&&(((e=i.rightSibling)==null?void 0:e.type)!=="subsup"&&i.parent.addChildAfter(new P2({style:i.style}),i),i=i.rightSibling),i.createBranch("superscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(i.superscript[0]))),!0}function qC(t){var e;if(t.collapseSelection(),kce(t)>=t.mathfield.options.scriptDepth[0])return t.announce("plonk"),!1;let i=t.at(t.position);return i.subsupPlacement===void 0&&(((e=t.at(t.position+1))==null?void 0:e.type)!=="subsup"&&i.parent.addChildAfter(new P2({style:t.at(t.position).style}),i),i=t.at(t.position+1)),i.createBranch("subscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(i.subscript[0]))),!0}function Tce(){function t(l){let u=[],c=[];return[...l.querySelectorAll(`input, select, textarea, a[href], button,
        [tabindex], audio[controls], video[controls],
        [contenteditable]:not([contenteditable="false"]), details>summary`)].filter(e).forEach((d,h)=>{let f=r(d);f===0?u.push(d):c.push({documentOrder:h,tabIndex:f,node:d})}),c.sort((d,h)=>d.tabIndex===h.tabIndex?d.documentOrder-h.documentOrder:d.tabIndex-h.tabIndex).map(d=>d.node).concat(u)}function e(l){return!(!i(l)||n(l)||r(l)<0)}function i(l){return!(l.disabled||l.type==="hidden"&&l.tagName.toUpperCase()==="INPUT"||o(l))}function r(l){var u;let c=Number.parseInt((u=l.getAttribute("tabindex"))!=null?u:"NaN",10);return Number.isNaN(c)?l.contentEditable==="true"||(l.nodeName==="AUDIO"||l.nodeName==="VIDEO")&&l.getAttribute("tabindex")===null?0:l.tabIndex:c}function n(l){return l.tagName.toUpperCase()==="INPUT"&&l.type==="radio"&&!a(l)}function s(l,u){for(let c of l)if(c.checked&&c.form===u)return c;return null}function a(l){var u;if(!l.name)return!0;let c=((u=l.form)!=null?u:l.ownerDocument).querySelectorAll('input[type="radio"][name="'+l.name+'"]'),d=s(c,l.form);return!d||d===l}function o(l){if(!os()||l===document.activeElement||l.contains(document.activeElement))return!1;if(getComputedStyle(l).visibility==="hidden")return!0;let u=l.getBoundingClientRect();if(u.width===0||u.height===0)return!0;for(;l;){if(getComputedStyle(l).display==="none")return!0;l=l.parentElement}return!1}return os()?t(document.body):[]}function Dr(t,e,i="forward"){let r=t.position;if(mr(e)){let n=t.offsetOf(e[0]),s=t.offsetOf(e[e.length-1]);return i==="forward"?t.setSelection(n,s):t.setSelection(s,n),t.announce("move",r),t.mathfield.stopCoalescingUndo(),!0}return i==="forward"?Dr(t,[e.leftSibling,e]):Dr(t,[e,e.leftSibling])}function ys(t,e){let i=t.position;if(typeof e=="number"&&(e=t.at(e)),e.type==="prompt")t.setSelection(t.offsetOf(e.firstChild),t.offsetOf(e.lastChild));else{let r=t.offsetOf(e);e.type==="placeholder"?t.setSelection(r-1,r):t.position=r}return t.announce("move",i),t.mathfield.stopCoalescingUndo(),!0}function Uc(t,e){var i,r;let n=e==="forward"?1:-1;t.at(t.anchor).type==="placeholder"&&ia(t,e);let s,a=t.at(t.anchor).parentPrompt;a?e==="forward"?s=t.offsetOf(a)+1:s=t.offsetOf(a.leftSibling):s=Math.max(t.position+n,0);let o=Z5(t,s,e);if(!o||e==="forward"&&t.offsetOf(o)<s||e==="backward"&&t.offsetOf(o)>s){if(!((r=(i=t.mathfield.host)==null?void 0:i.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))==null||r))return t.announce("plonk"),!1;let l=Tce();if(!document.activeElement||l.length<=1)return t.announce("plonk"),!1;let u=l.indexOf(document.activeElement)+n;return u<0&&(u=l.length-1),u>=l.length&&(u=0),l[u].focus(),t.mathfield.stopCoalescingUndo(),!0}return ys(t,o),!0}function Z5(t,e=0,i="forward"){return t.findAtom(r=>r.type==="placeholder"||r.type==="prompt"||!t.mathfield.readOnly&&r.treeDepth>2&&r.isFirstSibling&&r.isLastSibling,e,i)}nn({moveToOpposite:t=>{let e={superscript:"subscript",subscript:"superscript",above:"below",below:"above"},i=t.at(t.position),{parent:r}=i;if(!r)return t.announce("plonk"),!1;let n=i.parentBranch,s;if(typeof n=="string"&&(s=e[n]),!s){let o=i.subsupPlacement?qC(t):UC(t);return t.mathfield.stopCoalescingUndo(),o}r.branch(s)||r.createBranch(s);let a=t.setSelection(t.getBranchRange(t.offsetOf(r),s));return t.mathfield.stopCoalescingUndo(),a},moveBeforeParent:t=>{let{parent:e}=t.at(t.position);return e?(t.position=t.offsetOf(e),t.mathfield.stopCoalescingUndo(),!0):(t.announce("plonk"),!1)},moveAfterParent:t=>QP(t),moveToNextChar:t=>ia(t,"forward"),moveToPreviousChar:t=>ia(t,"backward"),moveUp:t=>ia(t,"upward"),moveDown:t=>ia(t,"downward"),moveToNextWord:t=>zc(t,"forward"),moveToPreviousWord:t=>zc(t,"backward"),moveToGroupStart:t=>{let e=t.offsetOf(t.at(t.position).firstSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,t.mathfield.stopCoalescingUndo(),!0)},moveToGroupEnd:t=>{let e=t.offsetOf(t.at(t.position).lastSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,t.mathfield.stopCoalescingUndo(),!0)},moveToNextGroup:t=>{var e,i,r,n;if(t.position===t.lastOffset&&t.anchor===t.lastOffset)return Uc(t,"forward");let s=t.at(t.position);if(s.mode==="text"){if(t.selectionIsCollapsed){let d=s;for(;d&&d.mode==="text";)d=d.leftSibling;let h=s;for(;((e=h.rightSibling)==null?void 0:e.mode)==="text";)h=h.rightSibling;if(d&&h)return Dr(t,[d,h])}if(s.rightSibling.mode==="text"){let d=s;for(;d&&d.mode==="text";)d=d.rightSibling;return d?(ys(t,(i=d.leftSibling)!=null?i:d),t.mathfield.switchMode("math"),!0):ys(t,t.lastOffset)}}let a=t.at(t.anchor).parentPrompt,o=a?t.offsetOf(a)+1:Math.max(t.position+1,0),l=Z5(t,o,"forward");if(l&&t.offsetOf(l)<o)return Uc(t,"forward");if(l)return ys(t,l);let u=jC(t,s,d=>d.type==="leftright"||d.type==="text","forward");if(u){if(u.mode==="text"){let d=u;for(;d&&d.mode==="text";)d=d.rightSibling;return Dr(t,[(r=u.leftSibling)!=null?r:u,(n=d.leftSibling)!=null?n:d])}return Dr(t,u)}let c=s.parent;if(c){if(c.type==="leftright"||c.type==="surd")return Dr(t,c);if(s.parentBranch==="superscript"&&c.subscript)return Dr(t,c.subscript);if(s.parentBranch==="above"&&c.below)return Dr(t,c.below);if(s.parentBranch==="superscript"||s.parentBranch==="subscript")return ys(t,c);if(s.parentBranch==="above"||s.parentBranch==="below")return Dr(t,c)}return ys(t,t.lastOffset)},moveToPreviousGroup:t=>{var e;if(t.position===0&&t.anchor===0)return Uc(t,"backward");let i=t.at(t.position),r=i.mode;if(r==="text"){if(t.selectionIsCollapsed){let o=i;for(;o&&o.mode==="text";)o=o.leftSibling;let l=i;for(;((e=l.rightSibling)==null?void 0:e.mode)==="text";)l=l.rightSibling;if(o&&l)return Dr(t,[o,l])}for(;i&&i.mode==="text";)i=i.leftSibling;return i?ys(t,i):ys(t,0)}let n=t.at(t.anchor).parentPrompt,s=n?t.offsetOf(n.leftSibling):Math.max(t.position-1,0),a=Z5(t,s,"backward");if(a&&t.offsetOf(a)>s)return Uc(t,"backward");if(a)return ys(t,a);if(r==="math"){let o=jC(t,i,u=>u.type==="leftright"||u.type==="text","backward");if(o){if(o.mode==="text"){let u=o;for(;u&&u.mode==="text";)u=u.leftSibling;return Dr(t,[o,u])}return Dr(t,o)}let l=i.parent;if(l){if(l.type==="leftright"||l.type==="surd")return Dr(t,l);if(i.parentBranch==="subscript"&&l.superscript)return Dr(t,l.superscript);if(i.parentBranch==="below"&&l.above)return Dr(t,l.above);if(i.parentBranch==="superscript"||i.parentBranch==="subscript")return ys(t,l);if(i.parentBranch==="above"||i.parentBranch==="below")return Dr(t,l)}return ys(t,0)}return!1},moveToMathfieldStart:t=>t.selectionIsCollapsed&&t.position===0?(t.announce("plonk"),!1):(t.position=0,t.mathfield.stopCoalescingUndo(),!0),moveToMathfieldEnd:t=>t.selectionIsCollapsed&&t.position===t.lastOffset?(t.announce("plonk"),!1):(t.position=t.lastOffset,t.mathfield.stopCoalescingUndo(),!0),moveToSuperscript:UC,moveToSubscript:qC},{target:"model",changeSelection:!0});nn({moveToNextPlaceholder:t=>Uc(t,"forward"),moveToPreviousPlaceholder:t=>Uc(t,"backward")},{target:"model",changeSelection:!0,audioFeedback:"return"});function jC(t,e,i,r){if(r==="forward"){let s=e.rightSibling;for(;s&&!i(s);)s=s.rightSibling;return s}let n=e.leftSibling;for(;n&&!i(n);)n=n.leftSibling;return n}function Fm(t,e,i){typeof e=="function"&&(i=e,e=1/0),e===void 0&&(e=1/0);let r=t.position,n=!1,s="";for(;!n;){let a=t.at(r);n=e===0||a===void 0||a.type==="first"||a.mode!=="math"||!(a.type&&/mord|mpunct|operator/.test(a.type)||a.type==="mop"&&/[a-zA-Z ]+/.test(a.value))||!a.hasEmptyBranch("superscript")||!a.hasEmptyBranch("subscript")||typeof i=="function"&&!i(a),n||(a.mode="text",a.command=a.value,a.verbatimLatex=void 0,s+=a.value),r-=1,e-=1}t.contentDidChange({data:s,inputType:"insertText"})}function Hd(t,e,i){typeof e=="function"&&(i=e,e=1/0),e===void 0&&(e=1/0);let r=t.position,n=!1,s=[];for(;!n;){let a=t.at(r);n=e===0||!a||a.type==="first"||a.isFirstSibling||a.mode!=="text"||a.value===" "||typeof i=="function"&&!i(a),n||(s.push(ue.serialize([a],{defaultMode:"math"})),a.mode="math"),r-=1,e-=1}N6(t),t.contentDidChange({data:kt(s),inputType:"insertText"})}function N6(t){var e;let i=t.position-1;for(;i>=0&&((e=t.at(i))==null?void 0:e.mode)==="math";)i-=1;if(!(i<0)&&t.at(i).mode==="text"&&t.at(i).value===" "&&t.at(i-1).mode==="math"){t.at(i-1).parent.removeChild(t.at(i-1));let r=t.silenceNotifications;t.silenceNotifications=!0,t.position-=1,t.silenceNotifications=r,t.contentDidChange({inputType:"deleteContent"})}}function Ece(t){let e="",i=t.position,r=!1;for(;!r;){let n=t.at(i);r=!(n&&(n.mode==="text"||n.mode==="math"&&n.type&&/mord|mpunct/.test(n.type))),r||(e=n.value+e),i-=1}return e}function Ace(t,e,i){let{model:r}=t;if(r.mode==="latex"||!r.at(r.position).isLastSibling||!i||!R2(i))return!1;let n=Mc(i);if(!r.selectionIsCollapsed)return!!(t.model.mode==="text"&&/[/_^]/.test(n));let s=Ece(r)+n;if(t.model.mode==="text"){if(e==="Esc"||/[/\\]/.test(n))return!0;if(/[\^_]/.test(n))return/(^|\s)[a-zA-Z][^_]$/.test(s)&&Hd(r,1),!0;let a={")":"(","}":"{","]":"["}[n],{parent:o}=r.at(r.position);if(a&&o instanceof bi&&o.leftDelim===a)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(s))return!1;if(/[$€£₤₺¥¤฿¢₡₧₨₹₩₱]/u.test(n))return!0;if(/(^|[^a-zA-Z'’])[a-zA-Z] $/.test(s))return Hd(r,1),!1;if(/\D\.[^\d\s]$/.test(s)){Hd(r,1);let l=r.at(r.position);return l.value="⋅",l.style.variant="normal",l.command="\\cdot",l.verbatimLatex=void 0,r.contentDidChange({data:"\\cdot",inputType:"insertText"}),!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(s)||/\.\d$/.test(s)||/\([\d+\-.]$/.test(s))return Hd(r,1),!0;if(/\([a-z][,;]$/.test(s))return Hd(r,2),!0;if(/[\d+\-=><*|]$/.test(n))return N6(r),!0}else{if(e==="[Space]")return Fm(r,void 0,a=>/[a-z][:,;.]$/.test(a.value)),!0;if(/[a-zA-Z]{3,}$/.test(s)&&!/(dxd|abc|xyz|uvw)$/.test(s))return Fm(r,void 0,a=>/[a-zA-Z]/.test(a.value)),!0;if(/(^|\W)(if)$/i.test(s))return Fm(r,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(s)&&!/(αβγ)$/.test(s))return Fm(r,void 0,a=>/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(a.value)),!0;if(n==="?"||n==="."&&!/[\d-+]\.$/.test(s))return!0}return!1}function Mce(t,e){if(!t.isSelectionEditable||!t.keystrokeCaptionVisible)return;let i=eI(),r=t.element.getBoundingClientRect();i.style.left=`${r.left}px`,i.style.top=`${r.top-64}px`,i.innerHTML=globalThis.MathfieldElement.createHTML("<span>"+(L6(e)||e)+"</span>"+i.innerHTML),i.style.visibility="visible",setTimeout(()=>{i.childNodes.length>0&&i.childNodes[i.childNodes.length-1].remove(),i.childNodes.length===0&&(i.style.visibility="hidden")},3e3)}function Dce(t){if(t.keystrokeCaptionVisible=!t.keystrokeCaptionVisible,t.keystrokeCaptionVisible){let e=eI();e.innerHTML=""}else{let e=F2("mathlive-keystroke-caption-panel");e.style.visibility="hidden"}return!1}function eI(){return document.getElementById("mathlive-keystroke-caption-panel")||(gl("keystroke-caption"),gl("core"),F2("mathlive-keystroke-caption-panel"))}function Lce(){document.getElementById("mathlive-keystroke-caption-panel")&&(Bp("mathlive-keystroke-caption-panel"),yl("core"),yl("keystroke-caption"))}function tI(t,e){var i,r,n,s;let{model:a}=t,o=OP(e);if(e.isTrusted){_ue(e);let y=tp();t.keyboardLayout!==y.id&&(t.keyboardLayout=y.id,t._keybindings=void 0)}if(clearTimeout(t.inlineShortcutBufferFlushTimer),t.inlineShortcutBufferFlushTimer=0,Mce(t,o),e.isTrusted&&e.defaultPrevented)return t.flushInlineShortcutBuffer(),!1;let l,u=0,c="",d=0,h=t.inlineShortcutBuffer;if(t.isSelectionEditable){if(a.mode==="math")if(o==="[Backspace]")t.undoManager.lastOp==="insert-shortcut"?c="undo":h.pop();else if(!R2(e))t.flushInlineShortcutBuffer();else{let y=Mc(e),C=[...(r=(i=h[h.length-1])==null?void 0:i.keystrokes)!=null?r:[],y];h.push({state:a.getState(),keystrokes:C,leftSiblings:Bce(t)}),u=0;let S="";for(;!l&&u<C.length;)d=h.length-(C.length-u),S=C.slice(u).join(""),l=C6(h[d].leftSiblings,S,t.options.inlineShortcuts),!l&&/^[a-zA-Z][a-zA-Z0-9]+?([_\^][a-zA-Z0-9\*\+\-]+?)?$/.test(S)&&(l=t.options.onInlineShortcut(t,S)),u+=1;t.flushInlineShortcutBuffer({defer:!0})}t.options.smartMode&&(l?t.switchMode("math"):Ace(t,o,e)&&(t.switchMode({math:"text",text:"math"}[a.mode]),c=""))}if(!l){if(c||(c=Eue(t.keybindings,a.mode,e)),!c&&(o==="[Enter]"||o==="[Return]")){let y=!0;return a.contentWillChange({inputType:"insertLineBreak"})&&(t.host&&(y=t.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),!y&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):((n=a.parentEnvironment)!=null&&n.isMultiline&&t.executeCommand("addRowAfter"),a.contentDidChange({inputType:"insertLineBreak"}))),y}if((!c||o==="[Space]")&&a.mode==="math"){if(o==="[Space]"){if(t.styleBias="none",t.flushInlineShortcutBuffer(),t.options.mathModeSpace)return Qt.insert(a,t.options.mathModeSpace,{format:"latex",mode:"math"}),t.snapshot("insert-space"),c="",t.dirty=!0,t.scrollIntoView(),e.preventDefault&&(e.preventDefault(),e.stopPropagation()),!1;let y=a.at(a.position+1),C=a.at(a.position-1);if((y==null?void 0:y.mode)==="text"||(C==null?void 0:C.mode)==="text")return Qt.insert(a," ",{mode:"text"}),t.snapshot("insert-space"),t.dirty=!0,t.scrollIntoView(),!1}(s=a.at(a.position))!=null&&s.isDigit()&&globalThis.MathfieldElement.decimalSeparator===","&&Mc(e)===","&&(c="insertDecimalSeparator")}}if(!l&&!c){if(a.mathfield.smartFence){if(Q5(a,Mc(e),E0(t)))return t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}else{let{parent:y}=a.at(a.position);if(y instanceof bi&&y.rightDelim==="?"&&a.at(a.position).isLastSibling&&/^[)}\]|]$/.test(o))return t.snapshot(),y.isDirty=!0,y.rightDelim=o,a.position+=1,a.selectionDidChange(),a.contentDidChange({data:Mc(e),inputType:"insertText"}),t.snapshot("insert-fence"),t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1;if(!a.selectionIsCollapsed){let C=Mc(e);if(C==="("||C==="{"||C==="["){let S={"(":"(","{":"\\lbrace","[":"\\lbrack"}[C],A={"(":")","{":"\\rbrace","[":"\\rbrack"}[C],[T,M]=Cr(a.selection);return t.snapshot(),a.position=M,Qt.insert(a,A,{format:"latex"}),a.position=T,Qt.insert(a,S,{format:"latex"}),a.setSelection(T+1,M+1),a.contentDidChange({data:C,inputType:"insertText"}),t.snapshot("insert-fence"),t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}}}return!0}let f=a.at(Math.max(a.position,a.anchor)),{parent:g}=f;if(c==="moveAfterParent"&&(g==null?void 0:g.type)==="leftright"&&f.isLastSibling&&t.options.smartFence&&Q5(a,".",t.defaultStyle)&&(c="",fi(t)),t.keyboardDelegate.cancelComposition(),c)t.executeCommand(c);else if(l){let y=E0(t);a.setState(h[d].state);let C=h[h.length-1].keystrokes;C=C.slice(u-1);for(let S of C)Qt.insert(a,S,{silenceNotifications:!0,style:y});t.snapshot("insert-shortcut"),a.setState(h[d].state),a.deferNotifications({content:!0,selection:!0,data:l,type:"insertText"},()=>(Qt.insert(a,l,{format:"latex",style:y}),N6(t.model),l.endsWith(" ")&&(t.switchMode("text"),Qt.insert(a," ",{style:y,mode:"text"})),t.snapshot(),a.selectionIsCollapsed||t.flushInlineShortcutBuffer(),!0)),t.dirty=!0,a.announce("replacement")}return t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}function J5(t,e,i){let{model:r}=t;if(!t.isSelectionEditable){r.announce("plonk");return}i!=null||(i={}),i.focus&&t.focus(),i.feedback&&globalThis.MathfieldElement.playSound("keypress"),typeof i.mode=="string"&&(t.switchMode(i.mode),t.snapshot());let n=CB(e),s=window.mathVirtualKeyboard;if(s!=null&&s.isShifted&&(n=typeof n=="string"?n.toUpperCase():n.map(a=>a.toUpperCase())),i.simulateKeystroke){let a=!0;for(let o of n)tI(t,new KeyboardEvent("keypress",{key:o}))&&(a=!1);if(a)return}if(r.mode==="latex")r.deferNotifications({content:!0,selection:!0,data:e,type:"insertText"},()=>{O2(t);for(let a of n)Qt.insert(r,a,{insertionMode:"replaceSelection"});t.snapshot("insert-latex"),Lp(t)});else if(r.mode==="text"){let a=q(q({},Ice(r)),t.defaultStyle);for(let o of n)Qt.insert(r,o,{style:a,insertionMode:"replaceSelection"});t.snapshot("insert-text")}else if(r.mode==="math")for(let a of n)Pce(t,a);t.dirty=!0,t.scrollIntoView()}function Bce(t){let e=t.model,i=[],r=e.at(Math.min(e.position,e.anchor));for(;r.type!=="first";)i.push(r),r=r.leftSibling;return i}function Pce(t,e){let i=t.model,r={"^":"moveToSuperscript",_:"moveToSubscript"," ":t.options.mathModeSpace?["insert",t.options.mathModeSpace]:"moveAfterParent"}[e];if(r){t.executeCommand(r);return}let n=q({},E0(t));!/[a-zA-Z0-9]/.test(e)&&t.styleBias!=="none"&&(n.variant="normal",n.variantStyle=void 0);let s=i.at(i.position);if(/\d/.test(e)&&t.options.smartSuperscript&&s.parentBranch==="superscript"&&s.parent.type!=="mop"&&s.parent.type!=="operator"&&s.parent.type!=="extensible-symbol"&&s.hasNoSiblings){if(!Qt.insert(i,e,{style:n,insertionMode:"replaceSelection"})){t.undoManager.pop();return}t.snapshot("insert-mord"),QP(i);return}let a=e;a==="{"?a="\\lbrace":a==="}"?a="\\rbrace":a==="&"?a="\\&":a==="#"?a="\\#":a==="$"?a="\\$":a==="%"?a="\\%":a==="~"?a="\\~":a==="\\"&&(a="\\backslash"),Qt.insert(i,a,{style:n,insertionMode:"replaceSelection"})&&t.snapshot(`insert-${i.at(i.position).type}`)}function Ice(t){var e,i,r,n;if(t.selectionIsCollapsed)return(i=(e=t.at(t.position))==null?void 0:e.style)!=null?i:{};let s=Cr(t.selection)[0];return(n=(r=t.at(s+1))==null?void 0:r.style)!=null?n:{}}function Q5(t,e,i){var r;if(!e||t.mode!=="math")return!1;let n=t.at(t.position),{parent:s}=n,a={"(":"(",")":")","{":"\\lbrace","}":"\\rbrace","[":"\\lbrack","]":"\\rbrack","|":"|"}[e];if(!a)return!1;let o=cg[a],l=L2[a];if(!t.selectionIsCollapsed){t.mathfield.snapshot();let[u,c]=Cr(t.selection),d=t.extractAtoms([u,c]),h=s.addChildrenAfter([new bi("left...right",d,{leftDelim:a,rightDelim:l})],t.at(u));return t.setSelection(t.offsetOf(h.firstChild),t.offsetOf(h.lastChild)),t.mathfield.snapshot("insert-fence"),t.contentDidChange({data:a,inputType:"insertText"}),!0}if(a==="|"){let u=s instanceof bi?s.leftDelim+s.rightDelim:"";if(u==="\\lbrace\\rbrace"||u==="\\{\\}"||u==="\\lbrace?")return t.mathfield.snapshot(),Qt.insert(t,"\\,\\middle\\vert\\,",{format:"latex",style:i}),t.mathfield.snapshot("insert-fence"),t.contentDidChange({data:a,inputType:"insertText"}),!0}if(l){if(s instanceof bi&&s.firstChild===n&&(s.leftDelim==="?"||s.leftDelim==="."))return s.leftDelim=a,s.isDirty=!0,t.mathfield.snapshot(),t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;if(!(s instanceof bi)){let h=n;for(;h&&!(h.type==="mclose"&&h.value===l);)h=h.rightSibling;if(h){t.mathfield.snapshot();let f=t.extractAtoms([t.offsetOf(n),t.offsetOf(h)]);return f.pop(),s.addChildrenAfter([new bi("left...right",f,{leftDelim:a,rightDelim:l})],n),t.position=t.offsetOf(s.firstChild)+1,t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}}let u=t.offsetOf(n.lastSibling),c;for(c=t.position;c<=u;c++){let h=t.at(c);if(h instanceof bi&&(h.leftDelim==="?"||h.leftDelim===".")&&VC(a,h.rightDelim))break}let d=t.at(c);if(c<=u&&d instanceof bi){d.leftDelim=a,t.mathfield.snapshot();let h=t.extractAtoms([t.position,c-1]);return h=h.filter(f=>f.type!=="first"),d.addChildren(h,d.parentBranch),t.position+=1,t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}if(s instanceof bi&&(s.leftDelim==="?"||s.leftDelim===".")&&VC(a,s.rightDelim)){s.isDirty=!0,s.leftDelim=a,t.mathfield.snapshot();let h=t.extractAtoms([t.offsetOf(n.firstSibling),t.position]);for(let f of h)s.parent.addChildBefore(f,s);return t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}if(!(s instanceof bi&&s.leftDelim==="|")){if(a==="("){let h=t.position-1,f=!1;for(;h>=0;){let g=t.at(h);if(g.type==="first")break;if(g.type==="mord"&&g.value&&/^[\d]$/.test(g.value)){h-=1;continue}if(g.type==="group"&&((r=g.body)==null?void 0:r.length)===2&&g.body[0].type==="first"&&g.body[1].value===","){f=!0;break}if(g.type==="mord"&&(g.value===","||g.value===".")){f=!0;break}break}if(f)return!1}if(t.mathfield.snapshot(),Qt.insert(t,`\\left${a}\\right?`,{format:"latex",style:i}),n.lastSibling.type!=="first"){let h=t.offsetOf(n.lastSibling),f=t.extractAtoms([t.position,h]);t.at(t.position).body=f,t.position-=1}return t.mathfield.snapshot("insert-fence"),!0}}if(o){if(a===")"){let g=t.position-1,y=!1;for(;g>=0;){let C=t.at(g);if(C.type==="first")break;if(C.type==="mord"&&C.value&&/^[\d]$/.test(C.value)){y=!0,g-=1;continue}break}if(y&&t.at(g).type==="mopen"&&t.at(g).value==="(")return!1}let u=n;for(;u;){if(u.type==="mopen"&&u.value===o){t.mathfield.snapshot();let g=u.leftSibling,y=t.extractAtoms([t.offsetOf(u.leftSibling),t.offsetOf(n)]);[,...y]=y;let C=new bi("left...right",y,{leftDelim:o,rightDelim:a});return s.addChildrenAfter([C],g),t.position=t.offsetOf(C),t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}u=u.leftSibling}if(s instanceof bi&&n.isLastSibling&&iy(s.leftDelim,a))return t.mathfield.snapshot(),s.isDirty=!0,s.rightDelim=a,t.position+=1,t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;let c=t.offsetOf(n.firstSibling),d;for(d=t.position;d>=c;d--){let g=t.at(d);if(g instanceof bi&&(g.rightDelim==="?"||g.rightDelim===".")&&iy(g.leftDelim,a))break}let h=t.at(d);if(d>=c&&h instanceof bi)return t.mathfield.snapshot(),h.rightDelim=a,h.addChildren(t.extractAtoms([d,t.position]),h.parentBranch),t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;if(s instanceof bi&&(s.rightDelim==="?"||s.rightDelim===".")&&iy(s.leftDelim,a))return t.mathfield.snapshot(),s.isDirty=!0,s.rightDelim=a,s.parent.addChildren(t.extractAtoms([t.position,t.offsetOf(n.lastSibling)]),s.parentBranch),t.position=t.offsetOf(s),t.contentDidChange({data:a,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;let f=s.parent;return f instanceof bi&&(f.rightDelim==="?"||f.rightDelim===".")&&t.at(t.position).isLastSibling?(t.position=t.offsetOf(f),Q5(t,a,i)):!1}return!1}function iy(t,e){return t?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(t)?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(e):L2[t]===e:!0}function VC(t,e){return e?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(e)?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(t):cg[e]===t:!0}nn({undo:t=>(t.undo(),!0),redo:t=>(t.redo(),!0),scrollIntoView:t=>(t.scrollIntoView(),!0),scrollToStart:t=>(t.field.scroll(0,0),!0),scrollToEnd:t=>{let e=t.field.getBoundingClientRect();return t.field.scroll(e.left-window.scrollX,0),!0},toggleKeystrokeCaption:Dce,toggleContextMenu:t=>{let e=t.toggleContextMenu();return e||t.model.announce("plonk"),e},plonk:t=>(t.model.announce("plonk"),!0),switchMode:(t,e,i,r)=>(t.switchMode(e,i,r),!0),insert:(t,e,i)=>t.insert(e,i),typedText:(t,e,i)=>(J5(t,e,i),!0),insertDecimalSeparator:t=>{let e=t.model;return e.mode==="math"&&globalThis.MathfieldElement.decimalSeparator===","&&e.at(Math.max(e.position,e.anchor)).isDigit()?(t.insert("{,}",{format:"latex"}),t.snapshot("insert-mord"),!0):(t.insert("."),!0)},commit:t=>{var e,i;let r=t.model;return r.contentWillChange({inputType:"insertLineBreak"})&&((e=t.host)==null||e.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),(i=r.parentEnvironment)!=null&&i.isMultiline&&t.executeCommand("addRowAfter"),r.contentDidChange({inputType:"insertLineBreak"})),!0},insertPrompt:(t,e,i)=>{let r=t.getPrompts(),n="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),s=0;for(;r.includes(n)&&s<100;){if(s===99)return console.error("could not find a unique ID after 100 tries"),!1;n="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),s++}return t.insert(`\\placeholder[${e??n}]{}`,i),!0}});nn({copyToClipboard:t=>(t.focus(),t.model.selectionIsCollapsed&&t.select(),"queryCommandSupported"in document&&document.queryCommandSupported("copy")&&document.execCommand("copy")||t.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("copy",{bubbles:!0,composed:!0})),!1)},{target:"mathfield"});nn({cutToClipboard:t=>(t.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("cut")&&document.execCommand("cut")||t.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("cut",{bubbles:!0,composed:!0})),!0),pasteFromClipboard:t=>(t.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("paste")?(document.execCommand("paste"),!0):(navigator.clipboard.readText().then(e=>{e&&t.model.contentWillChange({inputType:"insertFromPaste",data:e})?(t.stopCoalescingUndo(),t.stopRecording(),t.insert(e,{mode:t.model.mode})&&(Lp(t),t.startRecording(),t.snapshot("paste"),t.model.contentDidChange({inputType:"insertFromPaste"}),fi(t))):t.model.announce("plonk"),t.startRecording()}),!0))},{target:"mathfield",canUndo:!0,changeContent:!0,changeSelection:!0});function ev(t){let[e,i]=Cr(t.selection);if(e=HC(t,e,"backward"),i=HC(t,i,"forward"),e===i){let r=t.at(e);if(r.type==="leftright")return t.setSelection(t.offsetOf(r.firstChild)-1,i);if(r.type==="first"&&(r.parent.type==="leftright"||r.parent.type==="surd"))return t.setSelection(e-1,t.offsetOf(r.parent.lastChild)+1);t.setSelection(e-1,i)}else t.setSelection(e,i);return!0}function HC(t,e,i){var r,n,s;let a=t.at(e);if(!a)return e;let o=i==="forward"?1:-1;if(a.mode==="text"){for(;a&&!(a.mode!=="text"||!Jh.test(a.value));)e+=o,a=t.at(e);return i==="backward"?e-1:e}if(a.mode==="latex"){if(/[a-zA-Z\*]/.test(a.value))if(i==="backward")for(;a&&a.mode==="latex"&&a.value!=="\\"&&/[a-zA-Z]/.test(a.value);)e+=o,a=t.at(e);else for(;a&&a.mode==="latex"&&/[a-zA-Z\*]/.test(a.value);)e+=o,a=t.at(e);else if(a.value==="{"){if(i==="forward"){for(;a&&a.mode==="latex"&&a.value!=="}";)e+=o,a=t.at(e);return e}return e-1}else if(a.value==="}"){if(i==="backward"){for(;a&&a.mode==="latex"&&a.value!=="{";)e+=o,a=t.at(e);return e-1}return e}return e-1}if(a.mode==="math"){if(a.isDigit()){for(;(r=t.at(e+o))!=null&&r.isDigit();)e+=o;return i==="backward"?e-1:e}if(a.style.variant||a.style.variantStyle){let l=(n=t.at(e))==null?void 0:n.style;for(;l&&l.variant===a.style.variant&&l.variantStyle===a.style.variantStyle;)l=(s=t.at(e+o))==null?void 0:s.style,e+=o;return i==="backward"?e-1:e}return e}return e}nn({selectGroup:t=>{let e=ev(t);return e||t.announce("plonk"),e},selectAll:t=>t.setSelection(0,t.lastOffset),extendSelectionForward:t=>ia(t,"forward",{extend:!0}),extendSelectionBackward:t=>ia(t,"backward",{extend:!0}),extendToNextWord:t=>zc(t,"forward",{extend:!0}),extendToPreviousWord:t=>zc(t,"backward",{extend:!0}),extendSelectionUpward:t=>ia(t,"upward",{extend:!0}),extendSelectionDownward:t=>ia(t,"downward",{extend:!0}),extendToNextBoundary:t=>zc(t,"forward",{extend:!0}),extendToPreviousBoundary:t=>zc(t,"backward",{extend:!0}),extendToGroupStart:t=>{let e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).firstSibling));return e||t.announce("plonk"),e},extendToGroupEnd:t=>{let e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).lastSibling));return e||t.announce("plonk"),e},extendToMathFieldStart:t=>{let e=t.setSelection(t.anchor,0);return e||t.announce("plonk"),e},extendToMathFieldEnd:t=>{let e=t.setSelection(t.anchor,t.lastOffset);return e||t.announce("plonk"),e}},{target:"model",changeSelection:!0});var Yl=null,Kd=0,xg=class Wn{static start(e,i,r,n){var s;Wn.element=e,(s=Wn.controller)==null||s.abort(),Wn.controller=new AbortController;let a={signal:Wn.controller.signal};"PointerEvent"in window?(e.addEventListener("pointermove",r,a),e.addEventListener("pointerup",n,a),e.addEventListener("pointercancel",n,a),tv(i)&&(Wn.pointerId=i.pointerId,e.setPointerCapture(i.pointerId))):(window.addEventListener("mousemove",r,a),window.addEventListener("blur",n,a),window.addEventListener("mouseup",n,a))}static stop(){var e;(e=Wn.controller)==null||e.abort(),Wn.controller=void 0,typeof Wn.pointerId=="number"&&(Wn.element.releasePointerCapture(Wn.pointerId),Wn.pointerId=void 0)}};function tv(t){return t!==null&&globalThis.PointerEvent!==void 0&&t instanceof PointerEvent}function KC(t,e){var i;if(e.buttons>1)return;t.atomBoundsCache=new Map;let r=t,n,s=!1,a=!1,o="none",l=!1,u=!1,c=e.clientX,d=e.clientY,h=Date.now(),f=r.field,g=setInterval(()=>{l?f.scroll({top:0,left:f.scrollLeft-16}):u&&f.scroll({top:0,left:f.scrollLeft+16})},32);function y(){xg.stop(),s=!1,clearInterval(g),t.element.classList.remove("tracking"),e&&e.preventDefault()}function C(A){if(!r.hasFocus()){y();return}let T=A.clientX,M=A.clientY,D=tv(A)&&A.pointerType==="touch"?20:5;if(Date.now()<h+500&&Math.abs(c-T)<D&&Math.abs(d-M)<D){A.preventDefault(),A.stopPropagation();return}let B=f.getBoundingClientRect();u=T>B.right,l=T<B.left;let F=n;tv(A)&&(A.isPrimary||(F=p1(r,A.clientX,A.clientY,{bias:0})));let V=p1(r,T,M,{bias:T<=c?T===c?0:-1:1});F>=0&&V>=0&&(r.model.extendSelectionTo(F,V),fi(t)),a&&ev(r.model)}Yl&&Math.abs(Yl.x-c)<5&&Math.abs(Yl.y-d)<5&&Date.now()<Yl.time+500?(Kd+=1,Yl.time=h):(Yl={x:c,y:d,time:h},Kd=1);let S=f.getBoundingClientRect();if(c>=S.left&&c<=S.right&&d>=S.top&&d<=S.bottom){if(t.flushInlineShortcutBuffer(),n=p1(t,c,d,{bias:0}),n!==t.model.anchor&&(t.defaultStyle={},t.styleBias="left"),n>=0){if(t.element.classList.add("tracking"),e.shiftKey){let A=t.model.selectionIsCollapsed;t.model.extendSelectionTo(t.model.anchor,n),IC(t.model)||A?o="all":o="selection"}else t.model.at(n).type==="placeholder"?(t.model.setSelection(n-1,n),o="selection"):((i=t.model.at(n).rightSibling)==null?void 0:i.type)==="placeholder"?(t.model.setSelection(n,n+1),o="selection"):(t.model.position=n,IC(t.model)?o="all":o="selection");e.detail===3||Kd>2?(y(),(e.detail===3||Kd===3)&&(t.model.selection={ranges:[[0,t.model.lastOffset]]},o="all")):s||(s=!0,xg.start(f,e,C,y),(e.detail===2||Kd===2)&&(a=!0,ev(t.model),o="all"))}t.hasFocus()||(o="none",t.focus({preventScroll:!0}))}else Yl=null;t.stopCoalescingUndo(),o!=="none"&&(t.model.selectionIsCollapsed&&(o="all"),fi(t)),e.preventDefault()}function Rce(t,e,i){if(t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom)return 0;let r=t-(i.left+i.right)/2,n=e-(i.top+i.bottom)/2;return r*r+n*n}function iv(t,e,i,r,n){if(!i.id)return[1/0,null];if(e.has(i.id))return e.get(i.id);let s=Z0(t,i);if(!s)return[1/0,null];let a=[1/0,null],o=t.model;if(i instanceof Tt)for(let l of i.rows)for(let u of l){let c=[o.offsetOf(u[0]),o.offsetOf(u[u.length-1])],d=dle(t,c);if(n>=d.top&&n<=d.bottom)for(let h of u){let f=iv(t,e,h,r,n);f[0]<=a[0]&&(a=f)}}else if(i.hasChildren&&!i.captureSelection&&r>=s.left&&r<=s.right){let l=i.children;for(let u of l){let c=iv(t,e,u,r,n);c[0]<=a[0]&&(a=c)}}return a[1]||(a=[Rce(r,n,s),i]),e.set(i.id,a),a}function Oce(t,e,i){let[,r]=iv(t,new Map,t.model.root,e,i);return r}function p1(t,e,i,r){var n;let s=t.field.querySelector(".ML__latex").getBoundingClientRect();if(!s)return 0;if(e>s.right||i>s.bottom+8)return t.model.lastOffset;if(e<s.left||i<s.top-8)return 0;r=r??{},r.bias=(n=r.bias)!=null?n:0;let a=Oce(t,e,i),o=[],l=a;for(;l;)o.unshift(l),l=l.parent;for(let c of o)if(c.captureSelection){a=c;break}let u=t.model.offsetOf(a);if(u<0)return-1;if(a.leftSibling)if(r.bias===0&&a.type!=="placeholder"){let c=Z0(t,a);c&&e<(c.left+c.right)/2&&(u=t.model.offsetOf(a.leftSibling))}else r.bias<0&&(u=t.model.offsetOf(a.leftSibling));return u}var Fce=class extends Qt{constructor(){super("math")}onPaste(t,e){if(!e||!t.model.contentWillChange({data:typeof e=="string"?e:null,dataTransfer:typeof e=="string"?null:e,inputType:"insertFromPaste"}))return!1;let i="",r="auto",n=typeof e!="string"?e.getData("application/json+mathlive"):"";if(n)try{let s=JSON.parse(n);if(s&&Array.isArray(s)){t.snapshot();let a=ll(s),{model:o}=t;o.selectionIsCollapsed||o.deleteAtoms(Cr(o.selection));let l=o.at(o.position);if(l.parent instanceof Tt){l.parentBranch;let u=[],c=[];a[0].type==="first"&&a.shift(),a[a.length-1].type==="first"&&a.pop();for(let g of a)g.type==="first"&&c.length>0?(u.push(c),c=[g]):c.push(g);c.length>0&&u.push(c);let d=Number(l.parentBranch[0]),h=Number(l.parentBranch[1]),f=l.parent.maxColumns;for(;l.parent.colCount-h<u.length&&l.parent.colCount<f;)l.parent.addColumn();l.parent.addChildrenAfter(u[0],l);for(let g=1;g<u.length;g++)h++,h>=f&&(h=0,l.parent.addRowAfter(d),d++),l.parent.setCell(d,h,u[g])}else l.parent.addChildrenAfter(a.filter(u=>u.type!=="first"),l);return o.position=o.offsetOf(a[a.length-1]),o.contentDidChange({inputType:"insertFromPaste"}),fi(t),!0}}catch{}if(n=typeof e!="string"?e.getData("application/json"):"",n&&globalThis.MathfieldElement.computeEngine)try{let s=JSON.parse(n);if(typeof s=="object"&&"latex"in s&&s.latex&&(i=s.latex),!i){let a=globalThis.MathfieldElement.computeEngine.box(s);a&&!a.has("Error")&&(i=a.latex)}i||(r="latex")}catch{}if(!i&&typeof e!="string"&&(i=e.getData("application/x-latex"),i&&(r="latex")),i||(i=typeof e=="string"?e:e.getData("text/plain")),i){let s;return[s,i]=k6(i),r==="auto"&&s&&(r="latex"),t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,i,{format:r})&&(t.startRecording(),t.snapshot("paste"),fi(t)),t.startRecording(),!0}return!1}insert(t,e,i){var r,n;let s=typeof e=="string"?e:(n=(r=globalThis.MathfieldElement.computeEngine)==null?void 0:r.box(e).latex)!=null?n:"";if(!i.silenceNotifications&&!t.contentWillChange({data:s,inputType:"insertText"}))return!1;i.insertionMode||(i.insertionMode="replaceSelection"),i.selectionMode||(i.selectionMode="placeholder"),i.format||(i.format="auto");let{silenceNotifications:a}=t;i.silenceNotifications&&(t.silenceNotifications=!0);let o=t.silenceNotifications;t.silenceNotifications=!0;let l={"?":"\\placeholder{}","@":"\\placeholder{}"};l[0]=i.insertionMode==="replaceAll"?"":t.getValue(t.selection,"latex-unstyled"),i.insertionMode==="replaceSelection"?t.deleteAtoms(Cr(t.selection)):i.insertionMode==="replaceAll"?t.deleteAtoms():i.insertionMode==="insertBefore"?t.collapseSelection("backward"):i.insertionMode==="insertAfter"&&t.collapseSelection("forward"),!t.at(t.position).isLastSibling&&t.at(t.position+1).type==="placeholder"?t.deleteAtoms([t.position,t.position+1]):t.at(t.position).type==="placeholder"&&t.deleteAtoms([t.position-1,t.position]);let u=-1;l[0]?l["@"]=l[0]:typeof e=="string"&&/(^|[^\\])#@/.test(e)&&(u=Nce(t),u>=0&&(l["@"]=t.getValue(u,t.position,"latex"))),l[0]||(l[0]=l["?"]);let c=!1,d=C=>(c=!0,l[C]),[h,f]=WC(t,e,d,i);if(!f)return!1;let g=f.length===1&&f[0].type==="genfrac";if(g&&u>=0&&typeof t.mathfield.options.isImplicitFunction=="function"&&t.mathfield.options.isImplicitFunction(t.at(t.position).command)?(l["@"]=l["?"],c=!1,[h,f]=WC(t,e,d,i)):u>=0&&t.deleteAtoms([u,t.position]),f.length===1&&f[0].isRoot)t.root=f[0];else{let{parent:C}=t.at(t.position),S=C.hasEmptyBranch("body");if(g&&h!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&C instanceof bi&&C.leftDelim==="("&&S){let T=C.parent,M=C.parentBranch;T.removeChild(C),T.setChildren(f,M)}let A=t.at(t.position);A.parent.addChildrenAfter(f,A),h==="latex"&&typeof e=="string"&&(C==null?void 0:C.type)==="root"&&S&&!c&&(C.verbatimLatex=e)}t.silenceNotifications=o;let y=f[f.length-1];if(i.selectionMode==="placeholder"){let C=f.flatMap(S=>[S,...S.children]).find(S=>S.type==="placeholder");if(C){let S=t.offsetOf(C);t.setSelection(S-1,S),t.announce("move")}else if(y){let S=y.body,A=y.hasEmptyBranch("body");S&&A?t.setSelection(t.offsetOf(S[0]),t.offsetOf(S[S.length-1])+1):t.position=t.offsetOf(y)}}else i.selectionMode==="before"||(i.selectionMode==="after"?y&&(t.position=t.offsetOf(y)):i.selectionMode==="item"&&t.setSelection(t.anchor,t.offsetOf(y)));return t.contentDidChange({data:s,inputType:"insertText"}),t.silenceNotifications=a,!0}};function WC(t,e,i,r){var n;let s,a=[];if(typeof e!="string"||r.format==="math-json"){let o=globalThis.MathfieldElement.computeEngine;if(!o)return["math-json",[]];[s,e]=["latex",o.box(e).latex],a=ts(e,{context:t.mathfield.context})}else typeof e=="string"&&r.format==="ascii-math"?([s,e]=z5(e,{format:"ascii-math",inlineShortcuts:t.mathfield.options.inlineShortcuts}),a=ts(e,{context:t.mathfield.context}),s!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&(a=a.map(o=>_g(o)))):(r.format==="auto"||(n=r.format)!=null&&n.startsWith("latex"))&&(r.format==="auto"&&([s,e]=z5(e,{format:"auto",inlineShortcuts:t.mathfield.options.inlineShortcuts})),r.format==="latex"&&([,e]=k6(e)),a=ts(e,{context:t.mathfield.context,args:i}),r.format!=="latex"&&t.mathfield.options.removeExtraneousParentheses&&(a=a.map(o=>_g(o))));return M6(a,r.style),[s??"latex",a]}function _g(t){var e;if(t instanceof bi&&t.leftDelim!=="("&&t.rightDelim===")"){let i=(e=t.body)==null?void 0:e.filter(r=>r.type!=="first");if((i==null?void 0:i.length)===1&&i[0].type==="genfrac")return i[0]}for(let i of t.branches)t.hasEmptyBranch(i)||t.setChildren(t.branch(i).map(r=>_g(r)),i);return t instanceof Tt&&t.forEachCell((i,r,n)=>{t.setCell(r,n,i.map(s=>_g(s)))}),t}function Nce(t){let e=t.at(t.position);if(e.mode==="text"){for(;!e.isFirstSibling&&e.mode==="text";)e=e.leftSibling;return t.offsetOf(e)}let i=e,r=!1;if(e.type==="mclose"){let n=cg[e.value];for(;!e.isFirstSibling&&!(e.type==="mopen"&&e.value===n);)e=e.leftSibling;e.isFirstSibling||(e=e.leftSibling),r=!0}else e.type==="leftright"&&(e=e.leftSibling,r=!0);if(r)for(;!e.isFirstSibling&&(e.isFunction||GC(e));)e=e.leftSibling;else{let n=[];for(;!e.isFirstSibling&&(GC(e)||n.length>0);)e.type==="mclose"&&n.unshift(e.value),e.type==="mopen"&&n.length>0&&e.value===cg[n[0]]&&n.shift(),e=e.leftSibling}return i===e?-1:t.offsetOf(e)}function GC(t){return t.isDigit()?!0:t.type&&/^(mord|surd|subsup|leftright|mop|mclose)$/.test(t.type)?t.type!=="extensible-symbol":!1}new Fce;var $ce=class extends Qt{constructor(){super("text")}onPaste(t,e){if(!e)return!1;let i=typeof e=="string"?e:e.getData("text/plain");return i&&t.model.contentWillChange({inputType:"insertFromPaste",data:i})?(t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,i)&&(t.model.contentDidChange({inputType:"insertFromPaste"}),t.startRecording(),t.snapshot("paste"),fi(t)),t.startRecording(),!0):!1}insert(t,e,i={}){if(!t.contentWillChange({data:e,inputType:"insertText"}))return!1;i.insertionMode||(i.insertionMode="replaceSelection"),i.selectionMode||(i.selectionMode="placeholder"),i.format||(i.format="auto");let{silenceNotifications:r}=t;i.silenceNotifications&&(t.silenceNotifications=!0);let n=t.silenceNotifications;t.silenceNotifications=!0,i.insertionMode==="replaceSelection"&&!t.selectionIsCollapsed?t.deleteAtoms(Cr(t.selection)):i.insertionMode==="replaceAll"?(t.root.setChildren([],"body"),t.position=0):i.insertionMode==="insertBefore"?t.collapseSelection("backward"):i.insertionMode==="insertAfter"&&t.collapseSelection("forward");let s=zce(e,t.mathfield.context);if(M6(s,i.style),!s)return!1;let a=t.at(t.position),o=a.parent.addChildrenAfter(s,a);return t.silenceNotifications=n,i.selectionMode==="before"||(i.selectionMode==="item"?t.setSelection(t.anchor,t.offsetOf(o)):o&&(t.position=t.offsetOf(o))),t.contentDidChange({data:e,inputType:"insertText"}),t.silenceNotifications=r,!0}};function zce(t,e){return t=t.replace(/\\/g,"\\textbackslash "),t=t.replace(/#/g,"\\#"),t=t.replace(/\$/g,"\\$"),t=t.replace(/%/g,"\\%"),t=t.replace(/&/g,"\\&"),t=t.replace(/_/g,"\\_"),t=t.replace(/{/g,"\\textbraceleft "),t=t.replace(/}/g,"\\textbraceright "),t=t.replace(/lbrace/g,"\\textbraceleft "),t=t.replace(/rbrace/g,"\\textbraceright "),t=t.replace(/\^/g,"\\textasciicircum "),t=t.replace(/~/g,"\\textasciitilde "),t=t.replace(/£/g,"\\textsterling "),ts(t,{context:e,parseMode:"text"})}new $ce;function Vo(t){return{value:t.model.getValue(),selectionIsCollapsed:t.model.selectionIsCollapsed,canUndo:t.canUndo(),canRedo:t.canRedo(),style:Uce(t.model),mode:t.model.mode}}function Uce(t){var e;if(t.selectionIsCollapsed)return(e=t.at(t.position))==null?void 0:e.style;let i=t.getAtoms(t.selection);if(i.length===0)return{};let r=q({},i[0].style);for(let n of i)for(let[s,a]of Object.entries(n.style))r[s]!==a&&delete r[s];return r}var ri=4,Gr=20,Di=2*(Gr+ri),Nm=(t,e)=>`
  <line x1="${t+Gr}" y1="${e+Gr}" 
    x2="${t>e?t+Gr:7*Gr+10*ri}" 
    y2="${t<e?e+Gr:7*Gr+10*ri}"/>
  <svg id="plus" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.34-3.33,3.34h-6.67v6.66c0,1.84-1.49,3.34-3.33,3.34s-3.34-1.5-3.34-3.34v-6.66h-6.66c-1.84,0-3.34-1.5-3.34-3.34s1.5-3.33,3.34-3.33h6.66v-6.67c0-1.84,1.5-3.33,3.34-3.33s3.33,1.49,3.33,3.33v6.67h6.67c1.84,0,3.33,1.49,3.33,3.33Z"/>
  </svg>`,XC=(t,e)=>`
  <line x1="${t+Gr}" y1="${e+Gr}" 
    x2="${t>e?t+Gr:7*Gr+10*ri}" 
    y2="${t<e?e+Gr:7*Gr+10*ri}"/>
  <svg id="minus" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.33-3.33,3.33H10c-1.84,0-3.34-1.49-3.34-3.33s1.5-3.34,3.34-3.34h20c1.84,0,3.33,1.5,3.33,3.34Z"/>
  </svg>`,$m=(t,e,i)=>`
  <svg id="arrow" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <g transform="rotate(${i})" transform-origin="20 20">
      <path class="font" d="m17.7,7.23h4.6c.52,0,.94.42.94.94v13.82c0,.52.42.94.94.94h3.39c.83,0,1.25,1.01.66,1.6l-7.56,7.56c-.37.37-.96.37-1.32,0l-7.56-7.56c-.59-.59-.17-1.6.66-1.6h3.39c.52,0,.94-.42.94-.94v-13.82c0-.52.42-.94.94-.94Z"/>
    </g>  
  </svg>`,qce=`
<svg class="MLEP__array-buttons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
viewBox=
"-2 -2 ${8*Gr+10*ri+5} ${8*Gr+10*ri+5}">
  <rect 
      class="MLEP__array-insert-background rows"
      x="0" 
      y="${Di+ri}" 
      height="${3*Di}" 
      width="${Di}" 
      rx="${Di/2}"/>
      <rect 
      class="MLEP__array-insert-background columns"
      x="${Di+ri}" 
      y="0" 
      height="${Di}" 
      width="${3*Di}" 
      rx="${Di/2}"/>
  <g data-command='"moveDown"'>
  ${$m(2*(ri+Di),2*ri+3*Di,0)}
  </g>
  <g data-command='"moveUp"'>
  ${$m(2*(ri+Di),2*ri+Di,180)}
  </g>
  <g data-command='"moveToNextWord"'>
  ${$m(2*ri+3*Di,2*(ri+Di),-90)}
  </g>
  <g data-command='"moveToPreviousWord"'>
  ${$m(2*ri+Di,2*(ri+Di),90)}
  </g>
  <g>

  <g data-command='"addColumnBefore"'>
  ${Nm(2*ri+Di,ri)}
  </g>
  <g data-command='"removeColumn"'>
  ${XC(2*ri+2*Di,ri)}
  </g>
  <g data-command='"addColumnAfter"'>
  ${Nm(2*ri+3*Di,ri)}
  </g>
  <g data-command='"addRowBefore"'>
  ${Nm(ri,2*ri+Di)}
  </g>
  <g data-command='"removeRow"'>
  ${XC(ri,2*ri+2*Di)}
  </g>
  <g data-command='"addRowAfter"'>
    ${Nm(ri,2*ri+3*Di)}
  </g>
</svg>`,jce=t=>`
<svg id="matrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","matrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,Vce=t=>`
<svg id="pmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
data-command='["setEnvironment","pmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-3.96,4.6-3.96,11.4,0,16"/>
  <path class="cls-2" d="m22,4c3.96,4.6,3.96,11.4,0,16"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,iI=t=>`
<svg id="Bmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","Bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <path class="cls-2" d="m22,4c1.1,0,2,.9,2,2v3c0,1.66.9,3,2,3-1.1,0-2,1.34-2,3v3c0,1.1-.9,2-2,2"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,Hce=t=>`
<svg id="bmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4h-3v16h3"/>
  <path class="cls-2" d="m22,4h3v16h-3"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,Kce=t=>`
<svg id="vmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="4" y1="4" x2="4" y2="20"/>
  <line class="cls-2" x1="24" y1="4" x2="24" y2="20"/>
</svg>`,Wce=t=>`
<svg id="Vmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="-3.5 -3 35 30" 
  data-command='["setEnvironment","Vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="6" y1="4" x2="6" y2="20"/>
  <line class="cls-2" x1="22" y1="4" x2="22" y2="20"/>
  <line class="cls-2" x1="2" y1="4" x2="2" y2="20"/>
  <line class="cls-2" x1="26" y1="4" x2="26" y2="20"/>
</svg>`,Gce=t=>`
<svg id="cases" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","cases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m10,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <circle cx="13" cy="8" r="1"/>
  <circle cx="13" cy="16" r="1"/>
  <circle cx="21" cy="8" r="1"/>
  <circle cx="21" cy="16" r="1"/>
</svg>`,Xce=t=>`
<svg id="rcases" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","rcases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m18,20c1.1,0,2-.9,2-2v-3c0-1.66.9-3,2-3-1.1,0-2-1.34-2-3v-3c0-1.1-.9-2-2-2"/>
  <circle cx="15" cy="8" r="1"/>
  <circle cx="15" cy="16" r="1"/>
  <circle cx="7" cy="8" r="1"/>
  <circle cx="7" cy="16" r="1"/>
</svg>`,ry={matrix:jce,pmatrix:Vce,bmatrix:Hce,Bmatrix:iI,vmatrix:Kce,Vmatrix:Wce},ny={cases:Gce,rcases:Xce,Bmatrix:iI};function Yce(t){var e,i;let r=(e=t.model.parentEnvironment)==null?void 0:e.rows;if(!r)return;let n=0;r.forEach(f=>{(!n||f.length>n)&&(n=f.length)});let s=document.getElementById("mathlive-environment-popover");s||(s=F2("mathlive-environment-popover"),gl("environment-popover"),gl("core"),s.setAttribute("aria-hidden","true"));let a,o=s.querySelector(".MLEP__environment-controls");o?a=o:(a=document.createElement("div"),s.innerHTML="",s.appendChild(a)),a.className="MLEP__environment-controls",a.style.display="flex",a.style.width="100%",a.style.height="100%",a.style.boxSizing="border-box",a.innerHTML=qce;let l=[],u="",c=t.model.parentEnvironment.environmentName;if(YB(c)){let f=Jce(c);u=ry[f]("active");let g=ry,y=sg(g,[A9(f)]);l=Object.values(y).map(C=>C("inactive"))}else if(Ple(c)){let f=Qce(c);u=ny[f]("active");let g=ny,y=sg(g,[A9(f)]);l=Object.values(y).map(C=>C("inactive"))}else Ile(c)&&(u=ry.matrix("active"),l=Object.values(ny).map(f=>f("inactive")));let d=document.createElement("div");d.className="MLEP__environment-delimiter-controls",d.style.display="flex",d.style.flexDirection="column",d.innerHTML=`
  <div class='MLEP__array-delimiter-options'>
  ${u}
  ${l.join("")}
  </div>`,u&&a.appendChild(d),a.querySelectorAll("[data-command]").forEach(f=>{let g=f.dataset.command,y=g;try{y=JSON.parse(g)}catch{}f.addEventListener("mousedown",C=>C.preventDefault()),y&&f.addEventListener("click",()=>t.executeCommand(y))});let h=(i=t.field)==null?void 0:i.getBoundingClientRect();h&&(s.style.top=`${window.scrollY+(h.top-s.clientHeight-15)}px`,s.style.left=`${h.left+20}px`,s.classList.add("is-visible"))}function rv(){let t=document.getElementById("mathlive-environment-popover");t==null||t.classList.remove("is-visible")}function Zce(){document.getElementById("mathlive-environment-popover")&&(Bp("mathlive-environment-popover"),yl("environment-popover"),yl("core"))}function zm(t){if(!t.hasFocus())return;let e=!1;if(t.model.mode==="math"){let i=t.model.parentEnvironment;if(i!=null&&i.rows&&Ble(i.environmentName)){let r=t.options.environmentPopoverPolicy;e=r==="auto"||r==="on"}}e?Yce(t):rv()}function Jce(t){return t.replace("*","")}function Qce(t){return t==="dcases"?"cases":t}function rI(t){let e=getComputedStyle(t).direction;return e==="ltr"||e==="rtl"?e:"ltr"}function YC(t,e,i){return e==="left"||e==="leading"&&i==="ltr"||e==="trailing"&&i==="rtl"?t.left:t.right}function sy(t,e,i,r){return i==="middle"?t-e/2:i==="start"&&r==="rtl"||i==="end"&&r==="ltr"||i==="top"||i==="right"?Math.max(0,t-e):t}function e0e(t,e,i,r){return i==="middle"?t-e/2:i==="start"&&r==="ltr"||i==="end"&&r==="rtl"||i==="top"||i==="right"?t:t-e}function t0e(t,e){var i,r,n;let s=(i=rI(t))!=null?i:"ltr";t.style.position="fixed",t.style.left="",t.style.top="",t.style.right="",t.style.bottom="",t.style.height="",t.style.width="";let a=t.getBoundingClientRect(),o=Number.isFinite(e.maxHeight)?Math.min(e.maxHeight,window.innerHeight):window.innerHeight,l=Math.min(o,(r=e.height)!=null?r:a.height),u=sy(e.location.y,l,e.verticalPos,s);u+l>window.innerHeight-8&&(e.alternateLocation?(u=sy(e.alternateLocation.y,l,e.verticalPos,s),u+l>window.innerHeight-8&&(u=void 0)):u=void 0),Number.isFinite(u)||(u=Math.max(8,window.innerHeight-8-l),8+l>window.innerHeight-8&&(t.style.bottom="8px")),l=Math.min(u+l,window.innerHeight-8)-u;let c=Number.isFinite(e.maxWidth)?Math.min(e.maxWidth,window.innerWidth):window.innerWidth,d=Math.min(c,(n=e.width)!=null?n:a.width),h=sy(e.location.x,d,e.horizontalPos,s);h+d>window.innerWidth-8&&(e.alternateLocation?(h=e0e(e.alternateLocation.x,d,e.verticalPos,s),h+d>window.innerWidth-8&&(h=void 0)):h=void 0),Number.isFinite(h)||(h=Math.max(8,window.innerWidth-8-d),8+d>window.innerWidth-8&&(t.style.right="8px")),d=Math.min(h+d,window.innerWidth-8)-h,s==="rtl"?t.style.right=`${Math.ceil(window.innerWidth-h-d).toString()}px`:t.style.left=`${Math.ceil(h).toString()}px`,t.style.top=`${Math.ceil(u).toString()}px`,l!==a.height&&(t.style.height=`${Math.ceil(l).toString()}px`),d!==a.width&&(t.style.width=`${Math.ceil(d).toString()}px`)}function i0e(t,e){return Math.hypot(e.x-t.x,e.y-t.y)}function qc(t){return"submenu"in t}function Ia(t){return"type"in t&&t.type==="command"||"onMenuSelect"in t||"id"in t}function nv(t){return"type"in t&&t.type==="divider"}function ay(t){return"type"in t&&t.type==="heading"}var ZC={};function oy(t){let e=ZC[t];if(!e){let i;switch(t){case"checkmark":i=`<span aria-hidden="true" class="ui-checkmark"><svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"></path></svg>
      </span>`;break;case"trailing-chevron":i='<span aria-hidden="true" class="ui-trailing-chevron"><svg focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path></svg></span>';break;case"mixedmark":i='<span aria-hidden="true" class="ui-mixedmark"><svg xmlns="http://www.w3.org/2000/svg" width="16" viewBox="0 0 512 512"><path fill="currentColor" d="M0 256c0-13.3 10.7-24 24-24H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24z"/></svg></span>'}if(i){let r=document.createElement("template");r.innerHTML=i,ZC[t]=r,e=r}}if(e){if("content"in e)return e.content.cloneNode(!0);let i=document.createElement("svg");return i.innerHTML=e.innerHTML,i}}var JC=80,nI=class{constructor(t,e){this._className="",this._element=null;var i;this.parentMenu=e,this._declaration=t,Object.freeze(this._declaration),qc(t)?(this.type="submenu",this.submenu=new sI(t.submenu,{parentMenu:e,submenuClass:t.submenuClass,columnCount:t.columnCount})):this.type=(i=t.type)!=null?i:"command",this.hasCheck=Ia(t)&&t.checked!==void 0}get rootMenu(){return this.parentMenu.rootMenu}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}dispose(){var t,e;(t=this._abortController)==null||t.abort(),this._abortController=void 0,(e=this._element)==null||e.remove(),this._element=null,this.submenu&&this.submenu.dispose(),this.submenu=void 0}get menuItem(){return this._declaration}get label(){var t;return(t=this._label)!=null?t:""}set label(t){t===void 0&&(t=""),t!==this._label&&(this._label=t,this.dirty=!0)}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.dirty=!0)}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.element&&(t?this.element.removeAttribute("aria-disabled"):this.element.setAttribute("aria-disabled","true")),this.dirty=!0}get checked(){return this._checked}set checked(t){this._checked=t,this.dirty=!0}get tooltip(){return this._tooltip}set tooltip(t){t!==this._tooltip&&(this._tooltip=t,this.dirty=!0)}get ariaLabel(){return this._ariaLabel}set ariaLabel(t){t!==this._ariaLabel&&(this._ariaLabel=t,this.dirty=!0)}get active(){var t,e;return(e=(t=this.element)==null?void 0:t.classList.contains("active"))!=null?e:!1}set active(t){this.element&&this.element.classList.toggle("active",t)}updateState(t){var e,i,r;let n=this._declaration;if(nv(n)){this.enabled=!1,this.checked=!1;return}ay(n)&&(this.enabled=!1,this.checked=!1,this.visible=!0),Ia(n)&&(this.checked=(e=Zl(n.checked,t))!=null?e:!1),(Ia(n)||qc(n))&&(this.enabled=(i=Zl(n.enabled,t))!=null?i:!0,this.visible=(r=Zl(n.visible,t))!=null?r:!0,this.visible&&this.enabled&&this.submenu&&(this.submenu.updateState(t),this.submenu.visible||(this.visible=!1))),(Ia(n)||ay(n)||qc(n))&&(this.label=Zl(n.label,t),this._className=Zl(n.class,t),this.tooltip=Zl(n.tooltip,t),this.ariaLabel=Zl(n.ariaLabel,t)),this._element&&this.updateElement()}set dirty(t){t&&this.parentMenu&&(this.parentMenu.dirty=!0)}updateElement(){var t;if(!this.visible||!this.element)return;let e=this.element;e.textContent="",e.className="",e.className=(t=this._className)!=null?t:"",this.enabled?e.removeAttribute("aria-disabled"):e.setAttribute("aria-disabled","true"),this.checked===!0?(e.setAttribute("aria-checked","true"),e.append(oy("checkmark"))):this.checked==="mixed"?(e.setAttribute("aria-checked","mixed"),e.append(oy("mixedmark"))):e.removeAttribute("aria-checked"),this.ariaLabel&&e.setAttribute("aria-label",this.ariaLabel);let i=document.createElement("span");if(i.className=this.parentMenu.hasCheck?"label indent":"label",this.type==="heading"&&i.classList.add("heading"),i.innerHTML=this.label,e.append(i),this._tooltip&&e.setAttribute("data-tooltip",this._tooltip),Ia(this._declaration)&&this._declaration.keyboardShortcut){let r=document.createElement("kbd");r.innerHTML=L6(this._declaration.keyboardShortcut),e.append(r)}this.type==="submenu"&&e.append(oy("trailing-chevron"))}get element(){if(this._element)return this._element;if(nv(this._declaration)){let i=document.createElement("li");return i.setAttribute("part","menu-divider"),i.setAttribute("role","divider"),this._element=i,i}let t=document.createElement("li");this._element=t,(Ia(this._declaration)||ay(this._declaration)||qc(this._declaration))&&t.setAttribute("part","menu-item"),t.setAttribute("tabindex","-1"),this.hasCheck?t.setAttribute("role","menuitemcheckbox"):t.setAttribute("role","menuitem"),this.type==="submenu"&&(t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded","false"));let e=this.abortController.signal;return t.addEventListener("pointerenter",this,{signal:e}),t.addEventListener("pointerleave",this,{signal:e}),t.addEventListener("pointerup",this,{signal:e}),t.addEventListener("click",this,{signal:e}),this._element}dispatchSelect(){var t;if(!Ia(this._declaration))return;let e=new CustomEvent("menu-select",{cancelable:!0,bubbles:!0,detail:{modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data}});this.parentMenu.dispatchEvent(e)&&typeof this._declaration.onMenuSelect=="function"&&this._declaration.onMenuSelect({target:(t=this.parentMenu.host)!=null?t:void 0,modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data})}handleEvent(t){var e;if(!(!this.visible||!this.enabled)){if(t.type==="click"){this.rootMenu.state==="modal"&&this.select(),t.stopPropagation(),t.preventDefault();return}if(t.type==="pointerenter"){let i=t;this.rootMenu.cancelDelayedOperation(),this.parentMenu.isSubmenuOpen&&(e=this.parentMenu.activeMenuItem)!=null&&e.movingTowardSubmenu(i)?this.rootMenu.scheduleOperation(()=>{this.parentMenu.activeMenuItem=this,this.openSubmenu()}):(this.parentMenu.activeMenuItem=this,this.openSubmenu({withDelay:!0}));return}if(t.type==="pointerleave"){this.rootMenu.activeSubmenu===this.parentMenu&&(this.parentMenu.activeMenuItem=null);return}if(t.type==="pointerup"){this.rootMenu.state!=="modal"&&this.select(),t.stopPropagation(),t.preventDefault();return}}}select(){if(this.rootMenu.cancelDelayedOperation(),this.type==="submenu"){this.openSubmenu();return}this.active=!1,setTimeout(()=>{this.active=!0,setTimeout(()=>{this.active=!1,this.rootMenu.hide(),this.dispatchSelect()},JC)},JC)}openSubmenu(t){var e;if(this.type!=="submenu"||!this.element)return;if((e=t==null?void 0:t.withDelay)!=null&&e){this.rootMenu.scheduleOperation(()=>this.openSubmenu());return}let i=this.element.getBoundingClientRect(),r=rI(this.element);this.submenu.show({container:this.rootMenu.element.parentNode,location:{x:YC(i,"trailing",r),y:i.top-4},alternateLocation:{x:YC(i,"leading",r),y:i.top-4}})}movingTowardSubmenu(t){if(!this.element||this.type!=="submenu")return!1;let e=this.rootMenu.lastMoveEvent;if(!e)return!1;let i=t.timeStamp-e.timeStamp;if(i>500)return!1;let r=t.clientX-e.clientX;if(r0e(r,e.clientY-t.clientY,i)<=.2)return!1;let n="right";if(this.submenu.element){let s=this.submenu.element.getBoundingClientRect(),a=this.element.getBoundingClientRect();s.left<a.left+a.width/2&&(n="left")}return n==="right"?r>0:r<0}};function r0e(t,e,i){return Math.hypot(t,e)/i}function Zl(t,e){return t===void 0||typeof t!="function"?t:(e!=null||(e={alt:!1,control:!1,shift:!1,meta:!1}),t(e))}var sI=class ah{constructor(e,i){this._element=null,this._activeMenuItem=null,this._dirty=!0;var r,n;this.parentMenu=(r=i==null?void 0:i.parentMenu)!=null?r:null,this._submenuClass=i==null?void 0:i.submenuClass,this.columnCount=(n=i==null?void 0:i.columnCount)!=null?n:1,this.isSubmenuOpen=!1,this.menuItems=e}get children(){return Object.freeze([...this._menuItems])}set menuItems(e){let i=this.parentMenu;this.dispose(),this.parentMenu=i,e=[...e],this._menuItems=e.map(r=>r.onCreate?r.onCreate(r,this):new nI(r,this)),this.hasCheck=void 0,this.dirty=!0}dispose(){var e;this.hide(),this._element&&this._element.remove(),this._abortController&&this._abortController.abort(),(e=this._menuItems)==null||e.forEach(i=>i.dispose()),this._menuItems=[],this._activeMenuItem=null,this.parentMenu=null}handleEvent(e){if(e.type==="wheel"&&this._element){let i=e;this._element.scrollBy(0,i.deltaY),e.stopPropagation()}}dispatchEvent(e){return this.rootMenu.dispatchEvent(e)}get host(){return this.rootMenu.host}get rootMenu(){return this.parentMenu.rootMenu}updateState(e){var i,r,n;this._menuItems.forEach(u=>u.updateState(e));let s=this.hasCheck;this.hasCheck=this._menuItems.some(u=>u.visible&&u.hasCheck),this.hasCheck!==s&&this._menuItems.forEach(u=>u.updateState(e));let a,o=0;for(let u of this._menuItems)u.type==="heading"?(a&&o===0&&(a.visible=!1),a=u,o=0):u.type==="divider"&&a?(a.visible=o>0,a=void 0,o=0):a&&u.visible&&(o+=1);a&&(a.visible=o>0);let l=!0;for(let u of this._menuItems)u.type==="divider"?(u.visible=!l,l=!0):u.visible&&(l=!1);(i=this.activeMenuItem)!=null&&i.visible||(this.activeMenuItem=null),!((r=this.activeMenuItem)!=null&&r.enabled)&&((n=this.activeMenuItem)==null?void 0:n.type)==="submenu"&&this._activeMenuItem.submenu.hide(),this._dirty=!1}get enabled(){return this.updateIfDirty(),this._menuItems.some(e=>e.type!=="divider"&&e.visible&&e.enabled)}get visible(){return this.updateIfDirty(),this._menuItems.some(e=>e.type!=="divider"&&e.visible)}set dirty(e){this._dirty!==e&&e&&this.parentMenu&&(this._dirty=!0,this.parentMenu.dirty=!0)}updateIfDirty(){this._dirty&&this.updateState(this.rootMenu.modifiers)}updateElement(){var e;if(this._element){this._element.textContent="";for(let{element:i,visible:r}of this._menuItems)i&&r&&this._element.append(i);(e=this._element.querySelector("li:first-of-type"))==null||e.setAttribute("tabindex","0")}}get element(){if(this._element)return this._element;let e=document.createElement("menu");e.setAttribute("role","menu"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-orientation","vertical"),e.setAttribute("part","ui-menu-container"),this._submenuClass&&e.classList.add(this._submenuClass),e.classList.add("ui-menu-container"),this._abortController||(this._abortController=new AbortController);let i=this._abortController.signal;return e.addEventListener("focus",this,{signal:i}),e.addEventListener("wheel",this,{passive:!0,signal:i}),this._element=e,this.updateElement(),e}get activeMenuItem(){return this._activeMenuItem}set activeMenuItem(e){var i,r,n,s;if(this.rootMenu.cancelDelayedOperation(),e!==this._activeMenuItem){if(this.activeMenuItem){let a=this.activeMenuItem;a.active=!1,(i=a.submenu)==null||i.hide()}if(!((r=e==null?void 0:e.visible)==null||r)){this._activeMenuItem=null;return}this._activeMenuItem=e,e&&(e.active=!0)}e?(n=e.element)==null||n.focus({preventScroll:!0}):(s=this._element)==null||s.focus({preventScroll:!0})}get firstMenuItem(){this.updateIfDirty();let e=0,i=!1,r=this._menuItems;for(;!i&&e<=r.length-1;){let n=r[e];i=n.type!=="divider"&&n.visible&&n.enabled,e+=1}return i?r[e-1]:null}get lastMenuItem(){this.updateIfDirty();let e=this._menuItems,i=e.length-1,r=!1;for(;!r&&i>=0;){let n=e[i];r=n.type!=="divider"&&n.visible&&n.enabled,i-=1}return r?e[i+1]:null}nextMenuItem(e){if(e===0)return this._activeMenuItem;if(!this._activeMenuItem)return e>0?this.firstMenuItem:this.lastMenuItem;if(!this.firstMenuItem||!this.lastMenuItem||!this._activeMenuItem)return null;this.updateIfDirty();let i=this._menuItems.indexOf(this.firstMenuItem),r=this._menuItems.indexOf(this.lastMenuItem),n=this._menuItems.indexOf(this._activeMenuItem),s=1;for(;n>=i&&n<=r;){n+=e>0?1:-1;let a=this._menuItems[n];if(!a)break;if(a.visible&&a.enabled){if(s===Math.abs(e))return this._menuItems[n];s+=1}}return e>0?this.lastMenuItem:this.firstMenuItem}getMenuItemColumn(e){this.updateIfDirty();let i=this._menuItems.filter(r=>r.visible&&r.enabled).indexOf(e);return i<0?-1:i%this.columnCount}static get collator(){return ah._collator||(ah._collator=new Intl.Collator(void 0,{usage:"search",sensitivity:"base"})),ah._collator}findMenuItem(e){var i;this.updateIfDirty();let r=this._menuItems.filter(o=>o.type!=="divider"&&o.visible&&o.enabled);if(r.length===0)return null;let n=Math.max(...r.map(o=>o.label.length))-e.length;if(n<0)return null;let s=null,a=0;for(;a<n&&!s;)s=(i=r.find(o=>ah.collator.compare(e,o.label.substring(a,e.length))===0))!=null?i:null,a++;return s}show(e){return!this.visible||!e.container?!1:(this.updateElement(),e.container.appendChild(this.element),M9()&&(this.element.popover="manual",this.element.showPopover()),e.location&&t0e(this.element,{location:e.location,alternateLocation:e.alternateLocation,verticalPos:"bottom",horizontalPos:"start"}),QC(),this.element.focus({preventScroll:!0}),ek(),this.parentMenu&&(this.parentMenu.openSubmenu=this),!0)}hide(){var e,i,r,n,s,a;this.openSubmenu=null,this.activeMenuItem=null,this.parentMenu&&(this.parentMenu.openSubmenu=null),!(!((e=this._element)!=null&&e.isConnected)||!this._element.parentElement)&&(M9()&&(i=this._element)!=null&&i.popover&&this._element.hidePopover(),QC(),(n=(r=this.parentMenu)==null?void 0:r.element)==null||n.focus(),(a=(s=this._element)==null?void 0:s.parentNode)==null||a.removeChild(this._element),ek())}set openSubmenu(e){var i,r,n,s;let a=e!==null;((i=this.activeMenuItem)==null?void 0:i.type)==="submenu"&&((r=this.activeMenuItem.element)==null||r.setAttribute("aria-expanded",a.toString())),(s=(n=this.activeMenuItem)==null?void 0:n.element)==null||s.classList.toggle("is-submenu-open",a),this.isSubmenuOpen=a}};function QC(){document.addEventListener("focusin",rl,!0),document.addEventListener("focusout",rl,!0),document.addEventListener("focus",rl,!0),document.addEventListener("blur",rl,!0)}function rl(t){t.stopImmediatePropagation(),t.preventDefault()}function ek(){document.removeEventListener("focusin",rl,!0),document.removeEventListener("focusout",rl,!0),document.removeEventListener("focus",rl,!0),document.removeEventListener("blur",rl,!0)}var aI=class oI extends sI{constructor(e,i){var r;super(e),this.state="closed",this.typingBufferResetTimer=0,this.hysteresisTimer=0,this._updating=!1,this._host=(r=i==null?void 0:i.host)!=null?r:null,this.isDynamic=e.some(lI),this._modifiers={shift:!1,control:!1,alt:!1,meta:!1},this.typingBuffer="",this.state="closed"}get modifiers(){return this._modifiers}set modifiers(e){Sue(this._modifiers,e)||(this._modifiers=e,this.dirty=!0)}get activeSubmenu(){let e=this;for(;e.isSubmenuOpen;)e=e.activeMenuItem.submenu;return e}set dirty(e){this._updating||this._dirty!==e&&(this._dirty=!0,e&&setTimeout(()=>{this.updateState(this.modifiers),this.updateElement()}))}updateState(e){this._updating=!0,this.modifiers=e??this.modifiers,super.updateState(this.modifiers),this._updating=!1}handleKeyupEvent(e){this.isDynamic&&(this.modifiers=fu(e)),e.stopImmediatePropagation()}handleKeydownEvent(e){var i,r,n;if(e.key==="Tab"||e.key==="Escape"){this.hide();return}this.isDynamic&&(this.modifiers=fu(e));let s=!0,a=this.activeSubmenu,o=a.activeMenuItem;switch(e.key){case" ":case"Space":case"Return":case"Enter":o==null||o.select(fu(e));break;case"ArrowRight":if((o==null?void 0:o.type)==="submenu")o.select(fu(e)),this.activeSubmenu.activeMenuItem=this.activeSubmenu.firstMenuItem;else if(!o)a.activeMenuItem=a.firstMenuItem;else{let l=(i=a.getMenuItemColumn(o))!=null?i:-1;if(l>=0&&l<((r=a.columnCount)!=null?r:1)-1){let u=a.nextMenuItem(1);u&&(a.activeMenuItem=u)}}break;case"ArrowLeft":if(a===this.rootMenu)o||(a.activeMenuItem=a.firstMenuItem);else if((o&&(n=a.getMenuItemColumn(o))!=null?n:-1)<=0||!o){a.hide();let l=a.parentMenu.activeMenuItem;if(l){let{element:u}=l;u==null||u.focus(),u==null||u.classList.remove("is-submenu-open")}}else{let l=a.nextMenuItem(-1);l&&(a.activeMenuItem=l)}break;case"ArrowDown":a.activeMenuItem=a.nextMenuItem(a.columnCount);break;case"ArrowUp":a.activeMenuItem=a.nextMenuItem(-a.columnCount);break;case"Home":case"PageUp":a.activeMenuItem=a.firstMenuItem;break;case"End":case"PageDown":a.activeMenuItem=a.lastMenuItem;break;case"Backspace":if(this.typingBuffer&&(this.typingBuffer=this.typingBuffer.slice(0,-1),this.typingBuffer)){clearTimeout(this.typingBufferResetTimer);let l=a.findMenuItem(this.typingBuffer);l&&(a.activeMenuItem=l),this.typingBufferResetTimer=setTimeout(()=>{this.typingBuffer=""},500)}break;default:if(R2(e)){isFinite(this.typingBufferResetTimer)&&clearTimeout(this.typingBufferResetTimer),this.typingBuffer+=e.key;let l=a.findMenuItem(this.typingBuffer);l&&(a.activeMenuItem=l),this.typingBufferResetTimer=setTimeout(()=>{this.typingBuffer=""},500)}else s=!1}s&&(e.preventDefault(),e.stopPropagation())}handleEvent(e){if(e.type==="keydown")this.handleKeydownEvent(e);else if(e.type==="keyup")this.handleKeyupEvent(e);else if(e.type==="pointermove")this.lastMoveEvent=e;else if(e.type==="pointerup")Number.isFinite(this.rootMenu._openTimestamp)&&Date.now()-this.rootMenu._openTimestamp<120?this.state="modal":this.state==="modal"&&e.target===this.scrim&&this.hide();else if(e.type==="contextmenu"){e.preventDefault(),e.stopPropagation();return}super.handleEvent(e)}dispatchEvent(e){return this._host?this._host.dispatchEvent(e):!0}get host(){return this._host}get scrim(){return ws.element}connectScrim(e){let i=this.scrim;i.addEventListener("pointerup",this,!0),i.addEventListener("contextmenu",this),i.addEventListener("keydown",this),i.addEventListener("keyup",this),i.addEventListener("pointermove",this),ws.open({root:e,onDismiss:()=>this.hide()})}disconnectScrim(){let e=this.scrim;e.removeEventListener("pointerup",this,!0),e.removeEventListener("contextmenu",this),e.removeEventListener("keydown",this),e.removeEventListener("keyup",this),e.removeEventListener("pointermove",this),ws.state==="open"&&ws.scrim.close()}get rootMenu(){return this}show(e){return this._onDismiss=e==null?void 0:e.onDismiss,e!=null&&e.modifiers&&(this.modifiers=e.modifiers),this.updateState(),this.connectScrim(e==null?void 0:e.target),super.show(Z(q({},e),{container:this.scrim}))?(this._openTimestamp=Date.now(),this.state="open",!0):(this.disconnectScrim(),!1)}hide(){this.cancelDelayedOperation(),this.state!==void 0&&(this.state!=="closed"&&(this.activeMenuItem=null,ws.element.parentElement.focus(),super.hide(),this.state="closed",this.disconnectScrim()),this._onDismiss&&(this._onDismiss(),this._onDismiss=void 0))}scheduleOperation(e){this.cancelDelayedOperation();let i=oI.SUBMENU_DELAY;if(i<=0){e();return}this.hysteresisTimer=setTimeout(()=>{this.hysteresisTimer=0,e()},i)}cancelDelayedOperation(){this.hysteresisTimer&&(clearTimeout(this.hysteresisTimer),this.hysteresisTimer=0)}};aI.SUBMENU_DELAY=120;var tk=aI;function lI(t){return nv(t)?!1:typeof t.label=="function"||typeof t.ariaLabel=="function"||typeof t.tooltip=="function"||(Ia(t)||qc(t))&&(typeof t.enabled=="function"||typeof t.visible=="function")||Ia(t)&&typeof t.checked=="function"?!0:qc(t)?t.submenu.some(lI):!1}var wg=class{};wg.DELAY=300,wg.MAX_DISTANCE=10;function n0e(t){return new Promise((e,i)=>{let r=pg(t);r||e(!1);let n=r,s=setTimeout(()=>{a.abort(),e(i0e(n,r)<wg.MAX_DISTANCE)},wg.DELAY),a=new AbortController,o=a.signal;for(let l of["pointermove","pointerup","pointercancel"])window.addEventListener(l,u=>{if(u.type==="pointerup"||u.type==="pointercancel")clearTimeout(s),a.abort(),e(!1);else if(u.type==="pointermove"){let c=pg(u);c&&(n=c)}},{passive:!0,signal:o})})}async function ik(t,e,i){if(t.defaultPrevented)return!1;if(t.type==="contextmenu"){let r=t;if(i.show({target:e,location:pg(r),modifiers:fu(r)}))return t.preventDefault(),t.stopPropagation(),!0}if(t.type==="keydown"){let r=t;if(r.code==="ContextMenu"||r.code==="F10"&&r.shiftKey){let n=e==null?void 0:e.getBoundingClientRect();if(rk(e)&&n&&i.show({target:e,location:{x:Math.ceil(n.left+n.width/2),y:Math.ceil(n.top+n.height/2)},modifiers:fu(r)}))return t.preventDefault(),t.stopPropagation(),!0}}if(t.type==="pointerdown"&&t.pointerType!=="mouse"&&t.button===0){let r=t.target;for(;r&&e!==r;)r=r.parentNode;if(!r||!i.visible)return!1;let n=pg(t);if(await n0e(t))return i.state!=="closed"||!rk(e)?!1:(i.show({target:e,location:n}),!0)}return!1}function rk(t){return t.dispatchEvent(new Event("contextmenu",{cancelable:!0}))}var nk={acute:714,grave:715,dot:729,ddot:168,dddot:8411,ddddot:8412,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};fe(Object.keys(nk),"{body:auto}",{createAtom:t=>new D2(Z(q({},t),{body:Ne(t.args[0]),accentChar:nk[t.command.slice(1)]}))});fe(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:t=>{let e=_B(Ne(t.args[0]));return new D2(Z(q({},t),{body:Ne(t.args[0]),svgAccent:t.command.slice(1)+(e.length>5?"4":["1","1","2","2","3","3"][e.length])}))}});fe(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:t=>new D2(Z(q({},t),{body:Ne(t.args[0]),svgAccent:"overarc"}))});fe(["underarc","underparen"],"{body:auto}",{createAtom:t=>new us(Z(q({},t),{body:Ne(t.args[0]),svgBelow:"underarc"}))});fe("utilde","{body:auto}",{createAtom:t=>{let e=Ne(t.args[0]),i=_B(e),r="widetilde"+(i.length>5?"4":["1","1","2","2","3","3"][i.length]);return new us(Z(q({},t),{body:e,svgBelow:r,boxType:Ep(e)}))}});fe("^","{:string}",{createAtom:t=>{var e;return new ue(Z(q({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"â",e:"ê",i:"î",o:"ô",u:"û",A:"Â",E:"Ê",I:"Î",O:"Ô",U:"Û"}[t.args[0]])!=null?e:"^"}))}});fe("`","{:string}",{createAtom:t=>{var e;return new ue(Z(q({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"à",e:"è",i:"ì",o:"ò",u:"ù",A:"À",E:"È",I:"Ì",O:"Ò",U:"Ù"}[t.args[0]])!=null?e:"`"}))}});fe("'","{:string}",{createAtom:t=>{var e;return new ue(Z(q({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={a:"á",e:"é",i:"í",o:"ó",u:"ú",A:"Á",E:"É",I:"Í",O:"Ó",U:"Ú"}[t.args[0]])!=null?e:"'"}))}});fe('"',"{:string}",{createAtom:t=>{var e,i;return new ue(Z(q({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(i={a:"ä",e:"ë",i:"ï",o:"ö",u:"ü",A:"Ä",E:"Ë",I:"Ë",O:"Ö",U:"Ü"}[t.args[0]])!=null?i:'"'+t.args[0]:'"'}))}});fe(".","{:string}",{createAtom:t=>{var e,i;return new ue(Z(q({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(i={a:"ȧ",e:"ė",i:"̇i",o:"ȯ",u:"̇u",A:"Ȧ",E:"Ė",I:"İ",O:"Ȯ",U:"̇U"}[t.args[0]])!=null?i:"."+t.args[0]:"."}))}});fe("=","{:string}",{createAtom:t=>{var e,i;return new ue(Z(q({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:(e=t.args)!=null&&e[0]?(i={a:"ā",e:"ē",i:"ī",o:"ō",u:"ū",A:"Ā",E:"Ē",I:"Ī",O:"Ō",U:"Ū"}[t.args[0]])!=null?i:"="+t.args[0]:"="}))}});fe("~","{:string}",{createAtom:t=>{var e;return new ue(Z(q({type:"mord"},t),{isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={n:"ñ",N:"Ñ",a:"ã",o:"õ",A:"Ã",O:"Õ"}[t.args[0]])!=null?e:"´"}))}});fe("c","{:string}",{createAtom:t=>{var e;return new ue(Z(q({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&(e={c:"ç",C:"Ç"}[t.args[0]])!=null?e:""}))}});fe("enclose","{notation:string}[style:string]{body:auto}",{createAtom:t=>{var e,i;let r=t.args,n={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"none",svgStrokeStyle:void 0,borderStyle:void 0,style:(e=t.style)!=null?e:{}};if(r[1]){let a=r[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let o of a){let l=o.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(l)n.strokeWidth=l[1],n.strokeStyle=l[2],n.strokeColor=l[3];else{let u=o.match(/\s*([a-z]*)\s*=\s*"(.*)"/);u&&(u[1]==="mathbackground"?n.backgroundcolor=u[2]:u[1]==="mathcolor"?n.strokeColor=u[2]:u[1]==="padding"?n.padding=u[2]:u[1]==="shadow"&&(n.shadow=u[2]))}}n.strokeStyle==="dashed"?n.svgStrokeStyle="5,5":n.strokeStyle==="dotted"&&(n.svgStrokeStyle="1,5")}n.borderStyle=`${n.strokeWidth} ${n.strokeStyle} ${n.strokeColor}`;let s={};return((i=r[0])!=null?i:"").split(/[, ]/).filter(a=>a.length>0).forEach(a=>{s[a.toLowerCase()]=!0}),new Ap(t.command,Ne(r[2]),s,n)}});fe("cancel","{body:auto}",{createAtom:t=>{var e;return new Ap(t.command,Ne(t.args[0]),{updiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});fe("bcancel","{body:auto}",{createAtom:t=>{var e;return new Ap(t.command,Ne(t.args[0]),{downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});fe("xcancel","{body:auto}",{createAtom:t=>{var e;return new Ap(t.command,Ne(t.args[0]),{updiagonalstrike:!0,downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(e=t.style)!=null?e:{}})}});fe(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overlinesegment","overgroup"],"{:auto}",{createAtom:t=>{var e;return new us(Z(q({},t),{body:Ne((e=t.args)==null?void 0:e[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgAbove:t.command.slice(1)}))}});fe("overbrace","{:auto}",{createAtom:t=>new us(Z(q({},t),{body:Ne(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgAbove:t.command.slice(1)}))});fe(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:t=>new us(Z(q({},t),{body:Ne(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgBelow:t.command.slice(1)}))});fe(["underbrace"],"{:auto}",{createAtom:t=>new us(Z(q({},t),{body:Ne(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgBelow:t.command.slice(1)}))});fe(["xrightarrow","longrightarrow","xleftarrow","longleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","longleftrightarrow","xLeftrightarrow","xrightleftharpoons","longrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xleftrightarrows","longleftrightarrows","xRightleftharpoons","longRightleftharpoons","xLeftrightharpoons","longLeftrightharpoons"],"[:auto]{:auto}",{createAtom:t=>{var e,i,r,n,s;return new us(Z(q({},t),{svgBody:t.command.slice(1),above:((i=Ne((e=t.args)==null?void 0:e[1]))==null?void 0:i.length)===0?void 0:Ne((r=t.args)==null?void 0:r[1]),below:(s=Ne((n=t.args)==null?void 0:n[0]))!=null?s:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"rel"}))},serialize:(t,e)=>t.command+(t.hasEmptyBranch("below")?"":`[${t.belowToLatex(e)}]`)+`{${t.aboveToLatex(e)}}${t.supsubToLatex(e)}`});fe(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","cotg","coth","ctg","cth","csc","cosec","deg","dim","exp","gcd","hom","inf","ker","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th","arcsec","arccsc","arsinh","arcosh","artanh","arcsech","arccsch"],"",{isFunction:!0,ifMode:"math",createAtom:t=>new Vu(t.command.slice(1),Z(q({},t),{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up"}))});fe(["liminf","limsup"],"",{ifMode:"math",createAtom:t=>new Vu({"\\liminf":"lim inf","\\limsup":"lim sup"}[t.command],Z(q({},t),{limits:"over-under",variant:"main"}))});fe(["lim","mod"],"",{ifMode:"math",createAtom:t=>new Vu(t.command.slice(1),Z(q({},t),{limits:"over-under",variant:"main"}))});fe(["det","max","min"],"",{ifMode:"math",isFunction:!0,createAtom:t=>new Vu(t.command.slice(1),Z(q({},t),{limits:"over-under",isFunction:!0,variant:"main"}))});fe("ang","{:math}",{ifMode:"math",createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[0])})),serialize:(t,e)=>`\\ang{${t.bodyToLatex(e)}}`,render:(t,e)=>{let i=t.createBox(e),r=i.caret;i.caret=void 0;let n=new Ae("°",{style:Z(q({},t.style),{variant:"normal",variantStyle:"up"})});return new Ae([i,n],{type:"inner",isSelected:t.isSelected,caret:r})}});fe("sqrt","[index:auto]{radicand:expression}",{ifMode:"math",createAtom:t=>new AP(Z(q({},t),{body:Ne(t.args[1]),index:t.args[0]?Ne(t.args[0]):void 0}))});fe(["frac","dfrac","tfrac","binom","dbinom","tbinom"],"{:expression}{:expression}",{ifMode:"math",createAtom:t=>{let e=q({},t),i=t.command,r=t.args;switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":e.hasBarLine=!0;break;case"\\atopfrac":e.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":e.hasBarLine=!1,e.leftDelim="(",e.rightDelim=")";break;case"\\cfrac":e.hasBarLine=!0,e.continuousFraction=!0;break}switch(i){case"\\dfrac":case"\\dbinom":e.mathstyleName="displaystyle";break;case"\\tfrac":case"\\tbinom":e.mathstyleName="textstyle";break}return new qu(r[0]?Ne(r[0]):[new fa],r[1]?Ne(r[1]):[new fa],e)},serialize:(t,e)=>{let i=t.aboveToLatex(e),r=t.belowToLatex(e);return/^[0-9]$/.test(i)&&/^[0-9]$/.test(r)?`${t.command}${i}${r}`:ti(t.command,i,r)}});fe(["cfrac"],"[:string]{:expression}{:expression}",{ifMode:"math",createAtom:t=>{let e=q({},t),i=t.args;return e.hasBarLine=!0,e.continuousFraction=!0,i[0]==="r"&&(e.align="right"),i[0]==="l"&&(e.align="left"),new qu(i[1]?Ne(i[1]):[new fa],i[2]?Ne(i[2]):[new fa],e)},serialize:(t,e)=>{let i=t.aboveToLatex(e),r=t.belowToLatex(e);return ti(t.command,i,r)}});fe(["brace","brack"],"",{infix:!0,createAtom:t=>new qu(Ne(t.args[0]),Ne(t.args[1]),Z(q({},t),{hasBarLine:!1,leftDelim:t.command==="\\brace"?"\\lbrace":"\\lbrack",rightDelim:t.command==="\\brace"?"\\rbrace":"\\rbrack"})),serialize:(t,e)=>kt([t.aboveToLatex(e),t.command,t.belowToLatex(e)])});fe(["over","atop","choose"],"",{infix:!0,createAtom:t=>{let e,i,r=t.args;return t.command==="\\choose"&&(e="(",i=")"),new qu(Ne(r[0]),Ne(r[1]),Z(q({},t),{hasBarLine:t.command==="\\over",leftDelim:e,rightDelim:i}))},serialize:(t,e)=>kt([t.aboveToLatex(e),t.command,t.belowToLatex(e)])});fe(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0,createAtom:t=>{var e,i;let r=t.args;return new qu(Ne(r[0]),Ne(r[1]),Z(q({},t),{leftDelim:(e=r[2])!=null?e:".",rightDelim:(i=r[3])!=null?i:".",hasBarLine:!1}))},serialize:(t,e)=>`${t.aboveToLatex(e)} ${t.command}${t.leftDelim}${t.rightDelim}${t.belowToLatex(e)}`});fe("pdiff","{numerator}{denominator}",{ifMode:"math",createAtom:t=>new qu(Ne(t.args[0]),Ne(t.args[1]),Z(q({},t),{hasBarLine:!0,numerPrefix:"∂",denomPrefix:"∂"})),serialize:(t,e)=>kt([t.aboveToLatex(e),t.command,t.belowToLatex(e)])});fe(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","intop"],"",{ifMode:"math",createAtom:t=>new E6({coprod:"∐",bigvee:"⋁",bigwedge:"⋀",biguplus:"⨄",bigcap:"⋂",bigcup:"⋃",intop:"∫",prod:"∏",sum:"∑",bigotimes:"⨂",bigoplus:"⨁",bigodot:"⨀",bigsqcup:"⨆",smallint:"∫"}[t.command.slice(1)],Z(q({},t),{limits:"auto",variant:"main"}))});fe("smallint","",{ifMode:"math",createAtom:t=>new Vu("∫",Z(q({},t),{limits:"adjacent",variant:"main"}))});var sk={int:"∫",iint:"∬",iiint:"∭",oint:"∮",oiint:"∯",oiiint:"∰",intclockwise:"∱",varointclockwise:"∲",ointctrclockwise:"∳",intctrclockwise:"⨑",sqcup:"⊔",sqcap:"⊓",uplus:"⊎",wr:"≀",amalg:"⨿",Cap:"⋒",Cup:"⋓",doublecap:"⋒",doublecup:"⋓"};fe(Object.keys(sk),"",{ifMode:"math",createAtom:t=>{let e=t.command,i=sk[e.slice(1)];return new E6(i,Z(q({},t),{limits:"adjacent",variant:{"⋒":"ams","⋓":"ams"}[i]}))}});fe(["Re","Im"],"",{ifMode:"math",createAtom:t=>new Vu({"\\Re":"ℜ","\\Im":"ℑ"}[t.command],Z(q({},t),{limits:"adjacent",isFunction:!0,variant:"fraktur"}))});fe("middle","{:delim}",{ifMode:"math",createAtom:t=>{var e;return new mP(Z(q({},t),{delim:(e=t.args[0])!=null?e:"|",size:1}))}});fe("the","{:value}",{createAtom:t=>new ue(Z(q({},t),{captureSelection:!0,verbatimLatex:null})),render:(t,e)=>{var i;let r=new Pt({parent:e},t.style),n="";t.isSelected&&(n+=" ML__selected");let s=r.evaluate(t.args[0]);return new Ae(((i=pr(s))!=null?i:"").split("").map(a=>new Ae(a,{type:"ord",classes:n,mode:t.mode,isSelected:t.isSelected,style:q({variant:"main"},t.style)})),{type:"lift",style:t.style,caret:t.caret,isSelected:t.isSelected,classes:n}).wrap(r)},serialize:t=>{var e;return`\\the${(e=pr(t.args[0]))!=null?e:"\\relax"}`}});fe("mathtip","{:auto}{:math}",{createAtom:t=>new A6(Z(q({},t),{body:Ne(t.args[0]),tooltip:Ne(t.args[1]),content:"math"})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\mathtip{${t.bodyToLatex(e)}}{${ue.serialize([t.tooltip],Z(q({},e),{defaultMode:"math"}))}}`});fe("texttip","{:auto}{:text}",{createAtom:t=>new A6(Z(q({},t),{body:Ne(t.args[0]),tooltip:Ne(t.args[1]),content:"text"})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\texttip{${t.bodyToLatex(e)}}{${ue.serialize([t.tooltip],Z(q({},e),{defaultMode:"text"}))}}`});fe("error","{:math}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[0])})),serialize:(t,e)=>`\\error{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__error"})});fe("ensuremath","{:math}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[0])})),serialize:(t,e)=>`${t.command}{${t.bodyToLatex(Z(q({},e),{defaultMode:"math"}))}}`});fe("color","{:value}",{applyStyle:(t,e,i,r)=>{var n,s;return Z(q({},t),{verbatimColor:(n=pr(i[0]))!=null?n:void 0,color:r.toColor((s=i[0])!=null?s:{string:"red"})})}});fe("textcolor","{:value}{content:auto*}",{applyStyle:(t,e,i,r)=>{var n,s;return Z(q({},t),{verbatimColor:(n=pr(i[0]))!=null?n:void 0,color:r.toColor((s=i[0])!=null?s:{string:"red"})})}});fe("boxed","{content:math}",{createAtom:t=>new vl(Z(q({},t),{body:Ne(t.args[0]),framecolor:{string:"black"}}))});fe("colorbox","{:value}{:text*}",{applyStyle:(t,e,i,r)=>{var n,s;return Z(q({},t),{verbatimBackgroundColor:(n=pr(i[0]))!=null?n:void 0,backgroundColor:r.toBackgroundColor((s=i[0])!=null?s:{string:"yellow"})})}});fe("fcolorbox","{frame-color:value}{background-color:value}{content:text}",{applyMode:"text",createAtom:t=>{var e,i;return new vl(Z(q({},t),{body:Ne(t.args[2]),framecolor:(e=t.args[0])!=null?e:{string:"blue"},backgroundcolor:(i=t.args[1])!=null?i:{string:"yellow"}}))},serialize:(t,e)=>{var i,r;return e.skipStyles?t.bodyToLatex(Z(q({},e),{defaultMode:"text"})):ti(t.command,(i=pr(t.framecolor))!=null?i:"",(r=pr(t.backgroundcolor))!=null?r:"",t.bodyToLatex(Z(q({},e),{defaultMode:"text"})))}});fe("bbox","[:bbox]{body:auto}",{createAtom:t=>{var e;let i=t.args[0],r=Ne(t.args[1]);return i?new vl(Z(q({},t),{body:r,padding:i.padding,border:i.border,backgroundcolor:(e=i.backgroundcolor)!=null?e:void 0})):new vl(Z(q({},t),{body:r}))},serialize:(t,e)=>{var i,r;if(e.skipStyles)return t.bodyToLatex(e);let n=t.command;if(Number.isFinite(t.padding)||t.border!==void 0||t.backgroundcolor!==void 0){let s=[];t.padding&&s.push((i=pr(t.padding))!=null?i:""),t.border&&s.push(`border: ${t.border}`),t.backgroundcolor&&s.push((r=pr(t.backgroundcolor))!=null?r:""),n+=`[${s.join(",")}]`}return ti(n,t.bodyToLatex(e))}});fe(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[0])})),render:(t,e)=>{let i=new Pt({parent:e,mathstyle:t.command.slice(1)},t.style),r=ue.createBox(i,t.body,{type:"lift"});return t.caret&&(r.caret=t.caret),t.bind(e,r)},serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`{${kt([t.command,t.bodyToLatex(e)])}}`});fe(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{applyStyle:(t,e)=>Z(q({},t),{fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[e]})});fe("fontseries","{:string}",{ifMode:"text",applyStyle:(t,e,i)=>{var r;return Z(q({},t),{fontSeries:(r=i[0])!=null?r:"auto"})}});fe("fontshape","{:string}",{ifMode:"text",applyStyle:(t,e,i)=>{var r;return Z(q({},t),{fontShape:(r=i[0])!=null?r:"auto"})}});fe("fontfamily","{:string}",{ifMode:"text",applyStyle:(t,e,i)=>{var r;return Z(q({},t),{fontFamily:(r=i[0])!=null?r:"roman"})}});fe("selectfont","",{ifMode:"text",applyStyle:t=>t});fe("bf","{:rest*}",{applyStyle:t=>Z(q({},t),{fontSeries:"b",fontShape:"n",fontFamily:"roman"})});fe(["boldsymbol","bm","bold"],"{:math*}",{applyMode:"math",applyStyle:t=>Z(q({},t),{variantStyle:"bold"})});fe("bfseries","{:rest*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontSeries:"b"})});fe("mdseries","{:rest*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontSeries:"m"})});fe("upshape","{:rest*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontShape:"n"})});fe("slshape","{:rest*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontShape:"sl"})});fe("scshape","{:rest*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontShape:"sc"})});fe("textbf","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontSeries:"b"})});fe("textmd","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontSeries:"m"})});fe("textup","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontShape:"n"})});fe("textnormal","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontShape:"n",fontSeries:"m"})});fe("textsl","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontShape:"sl"})});fe("textit","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontShape:"it"})});fe("textsc","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontShape:"sc"})});fe("textrm","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontFamily:"roman"})});fe("textsf","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontFamily:"sans-serif"})});fe("texttt","{:text*}",{applyMode:"text",applyStyle:t=>Z(q({},t),{fontFamily:"monospace"})});fe("mathbf","{:math*}",{applyMode:"math",applyStyle:t=>Z(q({},t),{variant:"normal",variantStyle:"bold"})});fe("mathit","{:math*}",{applyMode:"math",applyStyle:t=>Z(q({},t),{variant:"main",variantStyle:"italic"})});fe("mathnormal","{:math*}",{applyMode:"math",applyStyle:t=>Z(q({},t),{variant:"normal",variantStyle:"italic"})});fe("mathbfit","{:math*}",{applyMode:"math",applyStyle:t=>Z(q({},t),{variant:"main",variantStyle:"bolditalic"})});fe("mathrm","{:math*}",{applyMode:"math",applyStyle:t=>Z(q({},t),{variant:"normal",variantStyle:"up"})});fe("mathsf","{:math*}",{applyMode:"math",applyStyle:t=>Z(q({},t),{variant:"sans-serif",variantStyle:"up"})});fe("mathtt","{:math*}",{applyMode:"math",applyStyle:t=>Z(q({},t),{variant:"monospace",variantStyle:"up"})});fe("it","{:rest*}",{applyStyle:t=>Z(q({},t),{fontSeries:"m",fontShape:"it",fontFamily:"roman",variantStyle:"italic"})});fe("rmfamily","{:rest*}",{applyStyle:t=>Z(q({},t),{fontFamily:"roman"})});fe("sffamily","{:rest*}",{applyStyle:t=>Z(q({},t),{fontFamily:"sans-serif"})});fe("ttfamily","{:rest*}",{applyStyle:t=>Z(q({},t),{fontFamily:"monospace"})});fe(["Bbb","mathbb"],"{:math*}",{applyStyle:t=>Z(q({},t),{variant:"double-struck",variantStyle:I2(t.variantStyle)})});fe(["frak","mathfrak"],"{:math*}",{applyStyle:t=>Z(q({},t),{variant:"fraktur",variantStyle:I2(t.variantStyle)})});fe("mathcal","{:math*}",{applyStyle:t=>Z(q({},t),{variant:"calligraphic",variantStyle:I2(t.variantStyle)})});fe("mathscr","{:math*}",{applyStyle:t=>Z(q({},t),{variant:"script",variantStyle:I2(t.variantStyle)})});fe("mbox","{:text}",{ifMode:"math",createAtom:t=>new ue(Z(q({},t),{type:"mord",body:Ne(t.args[0]),mode:"math"})),serialize:(t,e)=>ti("\\mbox",t.bodyToLatex(Z(q({},e),{defaultMode:"text"})))});fe("text","{:text}",{ifMode:"math",applyMode:"text"});fe(["class","htmlClass"],"{name:string}{content:auto}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[1])})),serialize:(t,e)=>!t.args[0]||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`,render:(t,e)=>{var i;return t.createBox(e,{classes:(i=t.args[0])!=null?i:""})}});fe(["cssId","htmlId"],"{id:string}{content:auto}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[1])})),serialize:(t,e)=>{var i;return!((i=t.args)!=null&&i[0])||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var i;let r=t.createBox(e);return r.cssId=(i=t.args[0])!=null?i:"",r}});fe("htmlData","{data:string}{content:auto}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[1])})),serialize:(t,e)=>{var i;return!((i=t.args)!=null&&i[0])||e.skipStyles?t.bodyToLatex(e):`\\htmlData{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var i;let r=t.createBox(e);return r.htmlData=(i=t.args[0])!=null?i:"",r}});fe(["style","htmlStyle"],"{data:string}{content:auto}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[1])})),serialize:(t,e)=>{var i;return!((i=t.args)!=null&&i[0])||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var i;let r=t.createBox(e);return r.htmlStyle=(i=t.args[0])!=null?i:"",r}});fe("href","{url:string}{content:auto}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[1])})),render:(t,e)=>{var i;let r=t.createBox(e),n=(i=t.args[0])!=null?i:"";return n&&(r.htmlData=`href=${n}`),r}});fe("em","{:rest}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[0])})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`{\\em ${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__emph",boxType:"lift"})});fe("emph","{:auto}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[1])})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\emph{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__emph",boxType:"lift"})});var ak={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};fe(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",{createAtom:t=>{var e;return new yP(Z(q({},t),{delim:(e=t.args[0])!=null?e:".",size:ak[t.command].size,delimType:ak[t.command].mclass}))}});fe(["hspace","hspace*"],"{width:value}",{createAtom:t=>{var e;return new Mp(Z(q({},t),{width:(e=t.args[0])!=null?e:{dimension:0}}))}});fe(["mkern","kern","mskip","hskip","mspace"],"{width:value}",{createAtom:t=>{var e;return new Mp(Z(q({},t),{width:(e=t.args[0])!=null?e:{dimension:0}}))}});fe("mathchoice","{:math}{:math}{:math}{:math}",{createAtom:t=>new ue(t),render:(t,e)=>{let i=0,r=e.mathstyle.id;(r===M2||r===ou)&&(i=1),(r===r0||r===Tn)&&(i=2),(r===pu||r===Mr)&&(i=3);let n=Ne(t.args[i]);return ue.createBox(e,n)},serialize:(t,e)=>`\\mathchoice{${ue.serialize(t.args[0],e)}}{${ue.serialize(t.args[1],e)}}{${ue.serialize(t.args[2],e)}}{${ue.serialize(t.args[3],e)}}`});fe("mathop","{:auto}",{createAtom:t=>new ue(Z(q({},t),{type:"mop",body:Ne(t.args[0]),limits:"over-under",isFunction:!0,captureSelection:!0})),render:(t,e)=>{var i;let r=ue.createBox(e,t.body);if(t.superscript||t.subscript){let n=(i=t.subsupPlacement)!=null?i:"auto";r=n==="over-under"||n==="auto"&&e.isDisplayStyle?t.attachLimits(e,{base:r}):t.attachSupsub(e,{base:r})}return t.caret&&(r.caret=t.caret),new Ae(t.bind(e,r),{type:"op",isSelected:t.isSelected,classes:"ML__op-group"})},serialize:(t,e)=>{let i=[ti(t.command,t.bodyToLatex(e))];return t.explicitSubsupPlacement&&(t.subsupPlacement==="over-under"&&i.push("\\limits"),t.subsupPlacement==="adjacent"&&i.push("\\nolimits"),t.subsupPlacement==="auto"&&i.push("\\displaylimits")),i.push(t.supsubToLatex(e)),kt(i)}});fe(["mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",{createAtom:t=>new ue(Z(q({},t),{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[t.command],body:Ne(t.args[0])}))});fe(["operatorname","operatorname*"],"{operator:math}",{createAtom:t=>{let e=Ne(t.args[0]).map(i=>{var r;return i.type!=="first"&&(i.type="mord",i.value=(r={"∗":"*","−":"-"}[i.value])!=null?r:i.value,i.isFunction=!1,!i.style.variant&&!i.style.variantStyle&&(i.style.variant="main",i.style.variantStyle="up")),i});return new ue(Z(q({},t),{type:"mop",body:e,isFunction:!0,limits:t.command==="\\operatorname"?"adjacent":"over-under"}))},render:(t,e)=>{var i;let r=ue.createBox(e,t.body);if(t.superscript||t.subscript){let n=(i=t.subsupPlacement)!=null?i:"auto";r=n==="over-under"||n==="auto"&&e.isDisplayStyle?t.attachLimits(e,{base:r}):t.attachSupsub(e,{base:r})}return t.caret&&(r.caret=t.caret),new Ae(t.bind(e,r),{type:"op",isSelected:t.isSelected,classes:"ML__op-group"})},serialize:(t,e)=>{let i=[ti(t.command,t.bodyToLatex(e))];return t.explicitSubsupPlacement&&(t.subsupPlacement==="over-under"&&i.push("\\limits"),t.subsupPlacement==="adjacent"&&i.push("\\nolimits"),t.subsupPlacement==="auto"&&i.push("\\displaylimits")),i.push(t.supsubToLatex(e)),kt(i)}});fe(["char","unicode"],"{charcode:value}",{createAtom:t=>new ue(Z(q({},t),{type:t.mode==="text"?"text":"mord"})),serialize:t=>{var e;return`${t.command}${pr((e=t.args[0])!=null?e:{number:10067,base:"hexadecimal"})}`},render:(t,e)=>{let i=e.evaluate(t.args[0]);return(!i||!("number"in i))&&(i={number:10067,base:"hexadecimal"}),t.value=String.fromCodePoint(i.number),t.createBox(e)}});fe("rule","[raise:value]{width:value}{thickness:value}",{createAtom:t=>new ue(t),render:(t,e)=>{var i,r,n;let s=new Pt({parent:e,mathstyle:"textstyle"},t.style),a=s.toEm((i=t.args[0])!=null?i:{dimension:0}),o=s.toEm((r=t.args[1])!=null?r:{dimension:10}),l=s.toEm((n=t.args[2])!=null?n:{dimension:10}),u=new Ae(null,{classes:"ML__rule",type:"ord"});return u.width=o,u.height=l+a,u.depth=-a,u.setStyle("border-right-width",o,"em"),u.setStyle("border-top-width",l,"em"),u.setStyle("border-color",t.style.color),u.setStyle("vertical-align",a,"em"),t.isSelected&&u.setStyle("opacity","50%"),t.bind(s,u),t.caret&&(u.caret=t.caret),u.wrap(e)},serialize:t=>`\\rule${t.args[0]?`[${pr(t.args[0])}]`:""}{${pr(t.args[1])}}{${pr(t.args[2])}}`});fe(["overline","underline"],"{:auto}",{createAtom:t=>new ue(Z(q({},t),{body:Ne(t.args[0])})),render:(t,e)=>{let i=t.command.substring(1),r=new Pt({parent:e,mathstyle:"cramp"},t.style),n=ue.createBox(r,t.body);if(!n)return null;let s=r.metrics.defaultRuleThickness/r.scalingFactor,a=new Ae(null,{classes:i+"-line"});a.height=s,a.maxFontSize=s*1.125*r.scalingFactor;let o;return i==="overline"?o=new zi({shift:0,children:[{box:n},3*s,{box:a},s]}):o=new zi({top:n.height,children:[s,{box:a},3*s,{box:n}]}),t.caret&&(o.caret=t.caret),new Ae(o,{classes:i,type:"ignore"})}});fe("overset","{:auto}{base:auto}",{createAtom:t=>{let e=Ne(t.args[1]);return new us(Z(q({},t),{above:Ne(t.args[0]),body:e,skipBoundary:!1,boxType:Ep(e)}))},serialize:(t,e)=>ti(t.command,t.aboveToLatex(e),t.bodyToLatex(e))});fe("underset","{:auto}{base:auto}",{createAtom:t=>{let e=Ne(t.args[1]);return new us(Z(q({},t),{below:Ne(t.args[0]),body:e,skipBoundary:!1,boxType:Ep(e)}))},serialize:(t,e)=>ti(t.command,t.belowToLatex(e),t.bodyToLatex(e))});fe("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:t=>{let e=Ne(t.args[2]);return new us(Z(q({},t),{above:Ne(t.args[0]),below:Ne(t.args[1]),body:e,skipBoundary:!1,boxType:Ep(e)}))},serialize:(t,e)=>ti(t.command,t.belowToLatex(e),t.bodyToLatex(e))});fe(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:t=>new us(Z(q({},t),{body:Ne(t.args[2]),above:Ne(t.args[1]),below:Ne(t.args[0]),skipBoundary:!1,boxType:t.command==="\\stackrel"?"rel":"bin"})),serialize:(t,e)=>ti(t.command,t.aboveToLatex(e),t.bodyToLatex(e))});fe("smash","[:string]{:auto}",{createAtom:t=>{var e,i,r,n;return new J0(Z(q({},t),{body:Ne(t.args[1]),smashHeight:(i=(e=t.args[0])==null?void 0:e.includes("t"))!=null?i:!0,smashDepth:(n=(r=t.args[0])==null?void 0:r.includes("b"))!=null?n:!0}))}});fe("vphantom","{:auto}",{createAtom:t=>new J0(Z(q({},t),{body:Ne(t.args[0]),isInvisible:!0,smashWidth:!0}))});fe("hphantom","{:auto}",{createAtom:t=>new J0(Z(q({},t),{body:Ne(t.args[0]),isInvisible:!0,smashHeight:!0,smashDepth:!0}))});fe("phantom","{:auto}",{createAtom:t=>new J0(Z(q({},t),{body:Ne(t.args[0]),isInvisible:!0}))});fe("mathstrut","",{createAtom:t=>new J0(Z(q({},t),{body:[new ue({value:"("})],isInvisible:!0}))});fe("not","{:math}",{createAtom:t=>{let e=Ne(t.args[0]);return e.length===0?new ue(Z(q({},t),{type:"mrel",value:""})):new ue(Z(q({},t),{body:[new ju(Z(q({},t),{body:"",align:"right"})),...e],captureSelection:!0}))},serialize:(t,e)=>{let i=t.args[0],r=i&&typeof i=="object"&&"group"in i;return t.value!==""?r?`\\not{${ue.serialize(i.group,e)}}`:`\\not${ue.serialize(i,e)}`:r?"\\not{}":"\\not"},render:(t,e)=>{if(t.value)return t.createBox(e);let i=t.args[0]&&typeof t.args[0]=="object"&&"group"in t.args[0]?"ord":Ep(Ne(t.args[0])),r=ue.createBox(e,t.body,{type:i});return t.caret&&(r.caret=t.caret),t.bind(e,r)}});fe(["ne","neq"],"",{createAtom:t=>new ue(Z(q({},t),{type:"mrel",body:[new ju(Z(q({},t),{body:"",align:"right",boxType:"rel"})),new ue(Z(q({},t),{value:"="}))],captureSelection:!0})),serialize:t=>t.command});fe("rlap","{:auto}",{createAtom:t=>new ju(Z(q({},t),{body:Ne(t.args[0]),align:"right"}))});fe("llap","{:auto}",{createAtom:t=>new ju(Z(q({},t),{body:Ne(t.args[0]),align:"left"}))});fe("mathrlap","{:math}",{createAtom:t=>new ju(Z(q({},t),{body:Ne(t.args[0]),align:"right"}))});fe("mathllap","{:math}",{createAtom:t=>new ju(Z(q({},t),{body:Ne(t.args[0]),align:"left"}))});fe("raisebox","{:value}{:text}",{createAtom:t=>{var e;return new vl(Z(q({},t),{body:Ne(t.args[1]),padding:{dimension:0},offset:(e=t.args[0])!=null?e:{dimension:0}}))},serialize:(t,e)=>{var i;return ti("\\raisebox",(i=pr(t.offset))!=null?i:"0pt",t.bodyToLatex(e))}});fe("raise","{:value}{:auto}",{createAtom:t=>{var e;return new vl(Z(q({},t),{body:Ne(t.args[1]),padding:{dimension:0},offset:(e=t.args[0])!=null?e:{dimension:0}}))},serialize:(t,e)=>{var i;return ti("\\raise",(i=pr(t.offset))!=null?i:"0pt",t.bodyToLatex(e))}});fe("lower","{:value}{:auto}",{createAtom:t=>{var e;return new vl(Z(q({},t),{body:Ne(t.args[1]),padding:{dimension:0},offset:(e=js(t.args[0],-1))!=null?e:{dimension:0}}))},serialize:(t,e)=>{var i,r;return ti("\\lower",(r=pr(js((i=t.offset)!=null?i:{dimension:0},-1)))!=null?r:"0pt",t.bodyToLatex(e))}});or("0123456789/@.?!");xB(65,90);xB(97,122);or([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],["\\top",8868],["\\bot",8869]]);or([["\\#",35],["\\&",38],["\\parallelogram",9649],["\\spadesuit",9824],["\\heartsuit",9825],["\\diamondsuit",9826],["\\clubsuit",9827],["\\flat",9837],["\\natural",9838],["\\sharp",9839]]);or([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\pounds",163],["\\euro",8364]]);or([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel");or([["\\mapsfrom",8612,"mrel"],["\\Mapsfrom",10502,"mrel"],["\\MapsTo",10503,"mrel"],["\\Yup",8516,"mord"],["\\lightning",8623,"mrel"],["\\leftarrowtriangle",8701,"mrel"],["\\rightarrowtriangle",8702,"mrel"],["\\leftrightarrowtriangle",8703,"mrel"],["\\boxdot",8865,"mbin"],["\\bigtriangleup",9651,"mbin"],["\\bigtriangledown",9661,"mbin"],["\\boxbar",9707,"mbin"],["\\Lbag",10181,"mopen"],["\\Rbag",10182,"mclose"],["\\llbracket",10214,"mopen"],["\\rrbracket",10215,"mclose"],["\\longmapsfrom",10235,"mrel"],["\\Longmapsfrom",10237,"mrel"],["\\Longmapsto",10238,"mrel"],["\\boxslash",10692,"mbin"],["\\boxbslash",10693,"mbin"],["\\boxast",10694,"mbin"],["\\boxcircle",10695,"mbin"],["\\boxbox",10696,"mbin"],["\\fatsemi",10783,"mop"],["\\leftslice",10918,"mrel"],["\\rightslice",10919,"mrel"],["\\interleave",10996,"mbin"],["\\biginterleave",11004,"mop"],["\\sslash",11005,"mbin"],["\\talloblong",11006,"mbin"]]);or([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]);or([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\twoheadrightarrowtail",10518],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nleftarrow",8602],["\\nrightarrow",8603],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\nvrightarrow",8696],["\\nvtwoheadrightarrow",10496],["\\nvrightarrowtail",10516],["\\nvtwoheadrightarrowtail",10519],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams");or([["+",43],["-",8722],["−",8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin");or([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams");or([["\\surd",8730],["\\S",167],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",937],["\\digamma",989,"mord","ams"],["\\varkappa",1008,"mord","ams"],["\\coppa",985,"mord","ams"],["\\koppa",985,"mord","ams"],["\\Coppa",984,"mord","ams"],["\\Koppa",984,"mord","ams"],["\\sampi",993,"mord","ams"],["\\Sampi",992,"mord","ams"],["\\emptyset",8709]]);or([["=",61],["<",60],["\\lt",60],[">",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\coloneqq",8788],["\\colonequals",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",10178],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel");or([["\\lnot",172],["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams");or([["\\wp",8472],["\\aleph",8501]]);or([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams");or([["\\ ",160],["~",160]],"space");fe(["!",",",":",";",">","enskip","enspace","quad","qquad"],"",{createAtom:t=>new Mp(t)});fe("space","",{createAtom:t=>new Mp(t)});or([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct");or([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner");or([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);var uI="<mo>&#x2061;</mo>",Sg="<mo>&#8290;</mo>";function f1(t){return t.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Xt(t,e){return!t||!e.generateID?"":` extid="${t}"`}function s0e(t,e,i){var r,n,s,a,o,l,u,c;let d=!1;e=e??t.atoms.length;let h="",f="",g=t.atoms[t.index],y=(r=g.style)==null?void 0:r.variant,C=(n=g.style)==null?void 0:n.variantStyle,S="";if(g.value&&(y||C)){let T=(s=M5(g.value,y,C))!=null?s:g.value;if(T!==g.value)return t.index+=1,h=`<mi${Xt(g.id,i)}>${T}</mi>`,ra(h,t,i)||(t.mathML+=h,t.lastType="mi"),!0;S=(a={upnormal:"normal",boldnormal:"bold",italicmain:"italic",bolditalicmain:"bold-italic","updouble-struck":"double-struck","double-struck":"double-struck",boldfraktur:"bold-fraktur",calligraphic:"script",upcalligraphic:"script",script:"script",boldscript:"bold-script",boldcalligraphic:"bold-script",fraktur:"fraktur","upsans-serif":"sans-serif","boldsans-serif":"bold-sans-serif","italicsans-serif":"sans-serif-italic","bolditalicsans-serif":"sans-serif-bold-italic",monospace:"monospace"}[(C??"")+(y??"")])!=null?a:"",S&&(S=` mathvariant="${S}"`)}let A={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"ℏ","\\cdotp":"⋅","\\ldots":"…","\\cdots":"⋯","\\ddots":"⋱","\\vdots":"⋮","\\ldotp":"."};if(g.command==="!")return t.index+=1,h="<mo>!</mo>",ra(h,t,i)||(t.mathML+=h,t.lastType="mo"),!0;if(A[g.command]){t.index+=1;let T=`<mi${Xt(g.id,i)}${S}>${A[g.command]}</mi>`;return(t.lastType==="mi"||t.lastType==="mn"||t.lastType==="mtext"||t.lastType==="fence")&&(T=Sg+T),ra(T,t,i)||(t.mathML+=T,t.lastType="mi"),!0}if(g.command==="\\operatorname")f=a0(g.body),t.index+=1;else if(y||C)for(;t.index<e&&(g.type==="mord"||g.type==="macro")&&!g.isDigit()&&y===((l=(o=g.style)==null?void 0:o.variant)!=null?l:"")&&C===((c=(u=g.style)==null?void 0:u.variantStyle)!=null?c:"");)f+=a0([g]),t.index+=1,g=t.atoms[t.index];else(g.type==="mord"||g.type==="macro")&&!g.isDigit()&&(f+=a0([g]),t.index+=1);if(f.length>0){d=!0,h=`<mi${S}>${f}</mi>`;let T=t.lastType;h.endsWith(">f</mi>")||h.endsWith(">g</mi>")?(h+=uI,t.lastType="applyfunction"):t.lastType=/^<mo>(.*)<\/mo>$/.test(h)?"mo":"mi",ra(h,t,i)||((T==="mi"||T==="mn"||T==="mtext"||T==="fence")&&(h=Sg+h),t.mathML+=h)}return d}function cI(t){return t.index<t.atoms.length&&t.atoms[t.index].superscript&&t.atoms[t.index].type==="subsup"}function dI(t){let e=-1,i=t.index,r=!1,n=!1;for(;i<t.atoms.length&&!r&&!n;){let s=t.atoms[i];r=!s.isDigit(),n=!r&&s.superscript!==void 0,i++}return n&&(e=i-1),e}function ra(t,e,i){var r;let n=e.atoms[e.index-1];if(!n)return!1;if(!n.superscript&&!n.subscript)if(((r=e.atoms[e.index])==null?void 0:r.type)==="subsup")n=e.atoms[e.index],e.index+=1;else return!1;let s=e.lastType;e.lastType="";let a=zt(n.superscript,i);e.lastType="";let o=zt(n.subscript,i);if(e.lastType=s,!a&&!o)return!1;let l="";return a&&o?l=`<msubsup>${t}${o}${a}</msubsup>`:a?l=`<msup>${t}${a}</msup>`:o&&(l=`<msub>${t}${o}</msub>`),e.mathML+=l,e.lastType="",!0}function a0e(t,e,i){e=e??t.atoms.length;let r=t.index,n="",s=dI(t);for(s>=0&&s<e&&(e=s);t.index<e&&t.atoms[t.index].mode==="text";)n+=t.atoms[t.index].value?t.atoms[t.index].value:" ",t.index+=1;return n.length>0?(n=`<mtext ${Xt(t.atoms[r].id,i)}>${n}</mtext>`,s<0&&cI(t)&&(s=t.index,t.index+=1),ra(n,t,i)||(t.mathML+=n,t.lastType="mtext"),!0):!1}function o0e(t,e,i){e=e??t.atoms.length;let r=t.index,n="",s=dI(t);for(s>=0&&s<e&&(e=s);t.index<e&&t.atoms[t.index].isDigit();)n+=t.atoms[t.index].asDigit(),t.index+=1;return n.length<=0?!1:(n="<mn"+Xt(t.atoms[r].id,i)+">"+n+"</mn>",s<0&&cI(t)&&(s=t.index,t.index+=1),ra(n,t,i)||(t.mathML+=n,t.lastType="mn"),!0)}function l0e(t,e,i){let r=!1;e=e??t.atoms.length;let n="",s="";if(t.index<e&&t.atoms[t.index].type==="mopen"){let a=!1,o=0,l=t.index,u=-1,c=l+1;for(;c<e&&!a;)t.atoms[c].type==="mopen"?o+=1:t.atoms[c].type==="mclose"&&(o-=1),o===-1&&(a=!0,u=c),c+=1;a&&(n="<mrow>",n+=Au(t.atoms[l],i),n+=zt(t.atoms,i,l+1,u),n+=Au(t.atoms[u],i),n+="</mrow>",t.index=u+1,(t.lastType==="mi"||t.lastType==="mn"||t.lastType==="mfrac"||t.lastType==="fence")&&(t.mathML+=Sg),ra(n,t,i)&&(r=!0,t.lastType="",n=""),s="fence")}return n.length>0&&(r=!0,t.mathML+=n,t.lastType=s),r}function u0e(t,e,i){let r=!1;e=e??t.atoms.length;let n="",s="",a=t.atoms[t.index];if(!a)return!1;let o={"\\ne":"&ne;","\\neq":"&ne;","\\pm":"&#177;","\\times":"&#215;","\\colon":":","\\vert":"|","\\Vert":"∥","\\mid":"∣","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lbrack":"[","\\rbrack":"]","\\lparen":"(","\\rparen":")","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉"};if(o[a.command]){t.index+=1;let l=`<mo${Xt(a.id,i)}>${o[a.command]}</mo>`;return ra(l,t,i)||(t.mathML+=l,t.lastType="mo"),!0}if(t.index<e&&(a.type==="mbin"||a.type==="mrel"))n+=sv(t.atoms[t.index],i),t.index+=1,s="mo";else if(t.index<e&&(a.type==="mop"||a.type==="operator"||a.type==="extensible-symbol")){if(a.subsupPlacement==="over-under"&&(a.superscript||a.subscript)){let l=Au(a,i);return a.superscript&&a.subscript?(n+="<munderover>"+l,n+=zt(a.subscript,i),n+=zt(a.superscript,i),n+="</munderover>"):a.superscript?(n+="<mover>"+l,n+=zt(a.superscript,i),n+="</mover>"):a.subscript&&(n+="<munder>"+l,n+=zt(a.subscript,i),n+="</munder>"),t.mathML+=n,t.lastType="mo",t.index+=1,!0}{let l=t.atoms[t.index],u=l.value==="\\operatorname",c=u?'<mi class="MathML-Unit"'+Xt(l.id,i)+">"+a0(l.value)+"</mi>":Au(l,i);n+=c,!u&&!/^<mo>(.*)<\/mo>$/.test(c)?(n+=uI,s="applyfunction"):s=u?"mi":"mo"}(t.lastType==="mi"||t.lastType==="mn")&&!/^<mo>(.*)<\/mo>$/.test(n)&&(n=Sg+n),t.index+=1}return n.length>0&&(r=!0,ra(n,t,i)||(t.mathML+=n,t.lastType=s)),r}function zt(t,e,i,r){e!=null||(e={});let n={atoms:[],index:i??0,mathML:"",lastType:""};if(typeof t=="number"||typeof t=="boolean")n.mathML=t.toString();else if(typeof t=="string")n.mathML=t;else if(t instanceof ue)n.mathML=sv(t,e);else if(Array.isArray(t)){n.atoms=t;let s=0;for(r=r||(t?t.length:0);n.index<r;)if(a0e(n,r,e)||o0e(n,r,e)||s0e(n,r,e)||u0e(n,r,e)||l0e(n,r,e))s+=1;else if(n.index<r){let a=sv(n.atoms[n.index],e);n.lastType==="mn"&&a.length>0&&n.atoms[n.index].type==="genfrac"&&(a="<mo>&#x2064;</mo>"+a),n.atoms[n.index].type==="genfrac"?n.lastType="mfrac":n.lastType="",n.index+=1,ra(a,n,e)?s+=1:a.length>0&&(n.mathML+=a,s+=1)}s>1&&(n.mathML="<mrow>"+n.mathML+"</mrow>")}return n.mathML}function Au(t,e){let i="",r=a0(t.value);return r&&(i="<mo"+Xt(t.id,e)+">"+r+"</mo>"),i}function a0(t){if(!t)return"";if(typeof t=="string")return f1(t);if(!Array.isArray(t)&&typeof t.body=="string")return f1(t.body);let e="";for(let i of t)typeof i.value=="string"&&(e+=i.value);return f1(e)}function sv(t,e){var i,r,n,s,a,o,l,u,c,d,h,f,g,y,C,S,A,T,M,D,B,F;if(t.mode==="text")return`<mi${Xt(t.id,e)}>${t.value}</mi>`;let V={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",longleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",longrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",longrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xleftrightarrows:"⇄",xRightleftharpoons:"⇌",longRightleftharpoons:"⇌",xLeftrightharpoons:"⇋",longLeftrightharpoons:"⇋"},O={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\>":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5},U="",J="",Y,ie,ce,qe,Me,me,{command:be}=t;if(t.command==="\\error")return`<merror${Xt(t.id,e)}>${zt(t.body,e)}</merror>`;let ot={"\\vert":"|","\\Vert":"∥","\\mid":"∣","\\lbrack":"[","\\rbrack":"]","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉"},vt={"\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};switch(t.type){case"first":break;case"group":case"root":U=zt(t.body,e);break;case"array":let $e=t;if(($e.leftDelim&&$e.leftDelim!=="."||$e.rightDelim&&$e.rightDelim!==".")&&(U+="<mrow>",$e.leftDelim&&$e.leftDelim!=="."&&(U+="<mo>"+(ot[$e.leftDelim]||$e.leftDelim)+"</mo>")),U+="<mtable",$e.colFormat){for(U+=' columnalign="',ce=0;ce<$e.colFormat.length;ce++){let Ie=$e.colFormat[ce];"align"in Ie&&(U+={l:"left",c:"center",r:"right"}[Ie.align]+" ")}U+='"'}for(U+=">",ie=0;ie<$e.rows.length;ie++){for(U+="<mtr>",Y=0;Y<$e.rows[ie].length;Y++)U+="<mtd>"+zt($e.rows[ie][Y],e)+"</mtd>";U+="</mtr>"}U+="</mtable>",($e.leftDelim&&$e.leftDelim!=="."||$e.rightDelim&&$e.rightDelim!==".")&&($e.rightDelim&&$e.rightDelim!=="."&&(U+="<mo>"+(ot[$e.leftDelim]||$e.rightDelim)+"</mo>"),U+="</mrow>");break;case"genfrac":let Je=t;(Je.leftDelim||Je.rightDelim)&&(U+="<mrow>"),Je.leftDelim&&Je.leftDelim!=="."&&(U+="<mo"+Xt(t.id,e)+">"+(ot[Je.leftDelim]||Je.leftDelim)+"</mo>"),Je.hasBarLine?(U+="<mfrac>",U+=zt(t.above,e)||"<mi>&nbsp;</mi>",U+=zt(t.below,e)||"<mi>&nbsp;</mi>",U+="</mfrac>"):(U+="<mtable"+Xt(t.id,e)+">",U+="<mtr>"+zt(t.above,e)+"</mtr>",U+="<mtr>"+zt(t.below,e)+"</mtr>",U+="</mtable>"),Je.rightDelim&&Je.rightDelim!=="."&&(U+="<mo"+Xt(t.id,e)+">"+(ot[Je.rightDelim]||Je.rightDelim)+"</mo>"),(Je.leftDelim||Je.rightDelim)&&(U+="</mrow>");break;case"surd":t.hasEmptyBranch("above")?(U+="<msqrt"+Xt(t.id,e)+">",U+=zt(t.body,e),U+="</msqrt>"):(U+="<mroot"+Xt(t.id,e)+">",U+=zt(t.body,e),U+=zt(t.above,e),U+="</mroot>");break;case"leftright":let it=t,Ft=it.leftDelim;U="<mrow>",Ft&&Ft!=="."&&(U+=`<mo${Xt(t.id,e)}>${(i=ot[Ft])!=null?i:Ft}</mo>`),t.body&&(U+=zt(t.body,e));let rt=it.matchingRightDelim();rt&&rt!=="."&&(U+=`<mo${Xt(t.id,e)}>${(r=ot[rt])!=null?r:rt}</mo>`),U+="</mrow>";break;case"sizeddelim":case"delim":U+=`<mo${Xt(t.id,e)}>${ot[t.value]||t.value}</mo>`;break;case"accent":let It=t;U+='<mover accent="true"'+Xt(t.id,e)+">",U+=zt(t.body,e),U+="<mo>"+(vt[be]||It.accent)+"</mo>",U+="</mover>";break;case"line":case"overlap":break;case"overunder":let oe=t;Me=t.above,qe=t.below,(oe.svgAbove||Me)&&(oe.svgBelow||qe)?me=t.body:Me&&Me.length>0?(me=t.body,(s=(n=t.body)==null?void 0:n[0])!=null&&s.below?(qe=t.body[0].below,me=t.body[0].body):((o=(a=t.body)==null?void 0:a[0])==null?void 0:o.type)==="first"&&(u=(l=t.body)==null?void 0:l[1])!=null&&u.below&&(qe=t.body[1].below,me=t.body[1].body)):qe&&qe.length>0&&(me=t.body,(d=(c=t.body)==null?void 0:c[0])!=null&&d.above?(Me=t.body[0].above,me=t.body[0].body):((f=(h=t.body)==null?void 0:h[0])==null?void 0:f.type)==="first"&&(y=(g=t.body)==null?void 0:g[1])!=null&&y.above&&(Me=t.body[1].above,me=t.body[1].body)),(oe.svgAbove||Me)&&(oe.svgBelow||qe)?(U+=`<munderover ${Xt(t.id,e)}>`,U+=(C=V[oe.svgBody])!=null?C:zt(me,e),U+=(S=V[oe.svgBelow])!=null?S:zt(qe,e),U+=(A=V[oe.svgAbove])!=null?A:zt(Me,e),U+="</munderover>"):oe.svgAbove||Me?(U+=`<mover ${Xt(t.id,e)}>`+((T=V[oe.svgBody])!=null?T:zt(me,e)),U+=(M=V[oe.svgAbove])!=null?M:zt(Me,e),U+="</mover>"):(oe.svgBelow||qe)&&(U+=`<munder ${Xt(t.id,e)}>`+((D=V[oe.svgBody])!=null?D:zt(me,e)),U+=(B=V[oe.svgBelow])!=null?B:zt(qe,e),U+="</munder>");break;case"placeholder":U+="?";break;case"mord":{U=typeof t.value=="string"?t.value:be,U.length>0&&U.startsWith("\\")&&(typeof t.value=="string"&&t.value.charCodeAt(0)>255?U="&#x"+("000000"+t.value.charCodeAt(0).toString(16)).slice(-4)+";":typeof t.value=="string"?U=t.value.charAt(0):(console.error("Did not expect this"),U=""));let Ie=/\d/.test(U)?"mn":"mi";U=`<${Ie}${Xt(t.id,e)}>${f1(U)}</${Ie}>`;break}case"mbin":case"mrel":case"minner":U=Au(t,e);break;case"mpunct":U='<mo separator="true"'+Xt(t.id,e)+">"+be+"</mo>";break;case"mop":case"operator":case"extensible-symbol":t.value!=="​"&&(U="<mo"+Xt(t.id,e)+">",U+=be==="\\operatorname"?t.body:be||t.body,U+="</mo>");break;case"box":let Te=t;U='<menclose notation="box"',Te.backgroundcolor&&(U+=' mathbackground="'+Te.backgroundcolor+'"'),U+=Xt(t.id,e)+">"+zt(t.body,e)+"</menclose>";break;case"spacing":U+='<mspace width="'+((F=O[be])!=null?F:0)+'em"/>';break;case"enclose":let Ee=t;U='<menclose notation="';for(let Ie in Ee.notation)Object.prototype.hasOwnProperty.call(Ee.notation,Ie)&&Ee.notation[Ie]&&(U+=J+Ie,J=" ");U+=Xt(t.id,e)+'">'+zt(t.body,e)+"</menclose>";break;case"prompt":U='<menclose notation="roundexbox""">'+zt(t.body,e)+"</menclose>";break;case"space":U+="&nbsp;";break;case"subsup":break;case"phantom":break;case"composition":break;case"rule":break;case"chem":break;case"mopen":U+=Au(t,e);break;case"mclose":U+=Au(t,e);break;case"macro":{let Ie=t.command+a0(t.macroArgs);Ie&&(U+=`<mo ${Xt(t.id,e)}>${Ie}</mo>`)}break;case"latexgroup":U+=zt(t.body,e);break;case"latex":U+="<mtext"+Xt(t.id,e)+">"+t.value+"</mtext>";break;case"tooltip":U+=zt(t.body,e);break;case"text":U+=`<mtext ${Xt(t.id,e)}x>${t.value}</mtext>`;break;default:if(t.command==="\\displaystyle")return`<mrow ${Xt(t.id,e)} displaystyle="true">${zt(t.body,e)}</mrow>`;if(t.command==="\\textstyle")return`<mrow ${Xt(t.id,e)} displaystyle="false">${zt(t.body,e)}</mrow>`;console.info("Unexpected element in conversion to MathML:",t)}return U}var Sc={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"imaginary eye ","\\imaginaryJ":"imaginary jay ","\\sum":"Summation ","\\prod":"Product ","+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\pm":"plus or minus","\\mp":"minus or plus","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","\\ne":"is not equal to ","\\neq":"is not equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","​":"","−":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'<break time="150ms"/>open paren<break time="150ms"/>',"\\rparen":'<break time="150ms"/>close paren<break time="150ms"/>',"\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"},ly={array:"array",matrix:"matrix",pmatrix:"parenthesis matrix",bmatrix:"square brackets matrix",Bmatrix:"braces matrix",vmatrix:"bars matrix",Vmatrix:"double bars matrix","matrix*":"matrix",smallmatrix:"small matrix"};function c0e(t){let e="";return t.startsWith("\\")&&(e=" "+t.replace("\\","")+" "),e}function Wd(t){let e=0;if(mr(t))for(let i of t)i.type!=="first"&&(e+=1);return e===1}function d0e(t){if(mr(t)){for(let e of t)if(e.type!=="first"&&e.id)return e.id.toString()}return""}function ok(t){let e="";if(mr(t))for(let i of t)i.type!=="first"&&typeof i.value=="string"&&(e+=i.value);return e}function h0e(t){return t?t.map(e=>e.value).join(""):""}function Um(t){if(t&&!t.some(e=>e.type!=="first"&&e.value===void 0))return t.map(e=>e.value).join("")}function av(t){return`<emphasis>${t}</emphasis>`}function p0e(t,e){var i;let r="",n=!1,s=!1;for(let a=0;a<e.length;a++)e[a].type!=="first"&&(e[a].mode!=="text"&&(s=!1),a<e.length-2&&e[a].type==="mopen"&&e[a+2].type==="mclose"&&e[a+1].type==="mord"?(r+=" of ",r+=av(xt(t,e[a+1])),a+=2):e[a].mode==="text"?s?r+=(i=e[a].value)!=null?i:" ":(s=!0,r+=xt("text",e[a])):e[a].isDigit()?n?r+=e[a].asDigit():(n=!0,r+=xt(t,e[a])):(n=!1,r+=xt(t,e[a])));return r}function xt(t,e){var i,r,n,s,a,o,l,u;function c(S){return globalThis.MathfieldElement.textToSpeechMarkup?/[a-z]/.test(S)?` <say-as interpret-as="character">${S}</say-as>`:/[A-Z]/.test(S)?`capital <say-as interpret-as="character">${S.toLowerCase()}</say-as>`:S:/[a-z]/.test(S)?" '"+S.toUpperCase()+"'":/[A-Z]/.test(S)?" 'capital "+S.toUpperCase()+"'":S}if(!e)return"";if(mr(e))return p0e(t,e);let d="";if(e.id&&t==="math"&&(d+='<mark name="'+e.id.toString()+'"/>'),e.mode==="text")return d+e.value;let h="",f="",g="",y=!1,{command:C}=e;switch(C){case"\\vec":return"vector "+xt(t,e.body);case"\\acute":return xt(t,e.body)+" acute";case"\\grave":return xt(t,e.body)+" grave";case"\\dot":return"dot over"+xt(t,e.body);case"\\ddot":return"double dot over"+xt(t,e.body);case"\\mathring":return"ring over"+xt(t,e.body);case"\\tilde":case"\\widetilde":return"tilde over"+xt(t,e.body);case"\\bar":return xt(t,e.body)+" bar";case"\\breve":return xt(t,e.body)+" breve";case"\\check":case"\\widecheck":return"check over "+xt(t,e.body);case"\\hat":case"\\widehat":return"hat over"+xt(t,e.body);case"\\overarc":case"\\overparen":case"\\wideparen":return"arc over "+xt(t,e.body);case"\\underarc":case"\\underparen":return"arc under "+xt(t,e.body);case"\\mathop":return(i=Um(e.body))!=null?i:xt(t,e.body);case"\\mathit":return(r=Um(e.body))!=null?r:xt(t,e.body);case"\\mathrm":return(n=Um(e.body))!=null?n:xt(t,e.body);case"\\mathbb":return"blackboard"+((s=Um(e.body))!=null?s:xt(t,e.body))}switch(e.type){case"prompt":let S=e.body.length>1?'start input . <break time="500ms"/> '+xt(t,e.body)+'. <break time="500ms"/> end input':"blank";d+=' <break time="300ms"/> '+S+'. <break time="700ms"/>'+((a=e.correctness)!=null?a:"")+' . <break time="700ms"/> ';break;case"array":let A=e.rows,T=e.environmentName;if(Object.keys(ly).includes(T)){d+=` begin ${ly[T]} `;for(let B=0;B<A.length;B++){B>0&&(d+=","),d+=` row ${B+1} `;for(let F=0;F<A[B].length;F++)F>0&&(d+=","),d+=` column ${F+1}: `,d+=xt("math",A[B][F])}d+=` end ${ly[T]} `}break;case"group":C==="\\ne"?d+=" not equal ":(C==="\\not"&&(d+=" not "),d+=xt("math",e.body));break;case"root":d+=xt("math",e.body);break;case"genfrac":if(h=xt("math",e.above),f=xt("math",e.below),Wd(e.above)&&Wd(e.below)){let B={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[ok(e.above)+"/"+ok(e.below)];B?d=B:d+=h+" over "+f}else d+=' the fraction <break time="150ms"/>'+h+' over <break time="150ms"/>'+f+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(g=xt("math",e.body),e.hasEmptyBranch("above"))d+=Wd(e.body)?" the square root of "+g+" , ":' the square root of <break time="200ms"/>'+g+'. <break time="200ms"/> End square root';else{let B=xt("math",e.above);B=B.trim();let F=B.replace(/<mark([^/]*)\/>/g,"");F==="3"?d+=' the cube root of <break time="200ms"/>'+g+'. <break time="200ms"/> End cube root':F==="n"?d+=' the nth root of <break time="200ms"/>'+g+'. <break time="200ms"/> End root':d+=' the root with index: <break time="200ms"/>'+B+', of <break time="200ms"/>'+g+'. <break time="200ms"/> End root'}break;case"leftright":{let B=e;d+=(o=B.leftDelim?Sc[B.leftDelim]:void 0)!=null?o:B.leftDelim,d+=xt("math",e.body),d+=(l=B.rightDelim?Sc[B.rightDelim]:void 0)!=null?l:B.rightDelim}break;case"rule":break;case"overunder":break;case"overlap":break;case"macro":let M=C.replace(/^\\/g,""),D=_6()[M];D&&(D!=null&&D.expand?d+=xt("math",e.body):d+=`${M} `);break;case"placeholder":d+="placeholder ";break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":{if(C==="\\mathbin"||C==="\\mathrel"||C==="\\mathopen"||C==="\\mathclose"||C==="\\mathpunct"||C==="\\mathord"||C==="\\mathinner"){d=xt(t,e.body);break}let B=e.isDigit()?e.asDigit():e.value,F=e.command;if((e.type==="delim"||e.type==="sizeddelim")&&(F=e.value,B=F),t==="text")d+=B;else{if(e.type==="mbin"&&(d+='<break time="150ms"/>'),B){let V=Sc[B]||(F?Sc[F.trim()]:"");if(V)d+=" "+V;else{let O=F?c0e(F.trim()):"";d+=O||c(B)}}else d+=xt("math",e.body);e.type==="mbin"&&(d+='<break time="150ms"/>')}break}case"mop":case"operator":case"extensible-symbol":if(e.value!=="​"){let B=e.command;if(B==="\\sum")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let F=xt("math",e.superscript);F=F.trim();let V=xt("math",e.subscript);V=V.trim(),d+=' the summation from <break time="200ms"/>'+V+'<break time="200ms"/> to  <break time="200ms"/>'+F+'<break time="200ms"/> of <break time="150ms"/>',y=!0}else if(e.hasEmptyBranch("subscript"))d+=" the summation of";else{let F=xt("math",e.subscript);F=F.trim(),d+=' the summation from <break time="200ms"/>'+F+'<break time="200ms"/> of <break time="150ms"/>',y=!0}else if(B==="\\prod")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let F=xt("math",e.superscript);F=F.trim();let V=xt("math",e.subscript);V=V.trim(),d+=' the product from <break time="200ms"/>'+V+'<break time="200ms"/> to <break time="200ms"/>'+F+'<break time="200ms"/> of <break time="150ms"/>',y=!0}else if(e.hasEmptyBranch("subscript"))d+=" the product  of ";else{let F=xt("math",e.subscript);F=F.trim(),d+=' the product from <break time="200ms"/>'+F+'<break time="200ms"/> of <break time="150ms"/>',y=!0}else if(B==="\\int")if(!e.hasEmptyBranch("superscript")&&!e.hasEmptyBranch("subscript")){let F=xt("math",e.superscript);F=F.trim();let V=xt("math",e.subscript);V=V.trim(),d+=' the integral from <break time="200ms"/>'+av(V)+'<break time="200ms"/> to <break time="200ms"/>'+av(F)+' <break time="200ms"/> of ',y=!0}else d+=' the integral of <break time="200ms"/> ';else if(B==="\\operatorname"||B==="\\operatorname*")d+=h0e(e.body)+" ";else if(typeof e.value=="string"){let F=(u=Sc[e.value])!=null?u:e.command?Sc[e.command]:void 0;d+=F||" "+e.value}else e.command&&(e.command==="\\mathop"?d+=xt("math",e.body):d+=e.command.startsWith("\\")?" "+e.command.slice(1):" "+e.command)}break;case"enclose":g=xt("math",e.body),d+=" crossed out "+g+". End crossed out.";break}if(!y&&!e.hasEmptyBranch("superscript")){let S=xt(t,e.superscript);S=S.trim();let A=S.replace(/<[^>]*>/g,"");if(Wd(e.superscript)){if(t==="math"){let T=d0e(e.superscript);T&&(d+='<mark name="'+T+'"/>')}A==="′"?d+=" prime ":A==="2"?d+=" squared ":A==="3"?d+=" cubed ":Number.isNaN(Number.parseInt(A))?d+=" to the "+S+"; ":d+=' to the <say-as interpret-as="ordinal">'+A+"</say-as> power; "}else Number.isNaN(Number.parseInt(A))?d+=" raised to the "+S+"; ":d+=' raised to the <say-as interpret-as="ordinal">'+A+"</say-as> power; "}if(!y&&!e.hasEmptyBranch("subscript")){let S=xt("math",e.subscript);S=S.trim(),d+=Wd(e.subscript)?" sub "+S:" subscript "+S+". End subscript. "}return d}function o0(t){var e,i;let r=globalThis.MathfieldElement;if(r.textToSpeechRules==="sre"&&("sre"in window||"SRE"in window)){let s=zt(t);if(s){r.textToSpeechMarkup&&(r.textToSpeechRulesOptions=(e=r.textToSpeechRulesOptions)!=null?e:{},r.textToSpeechRulesOptions=Z(q({},r.textToSpeechRulesOptions),{markup:r.textToSpeechMarkup}),r.textToSpeechRulesOptions.markup==="ssml"&&(r.textToSpeechRulesOptions=Z(q({},r.textToSpeechRulesOptions),{markup:"ssml_step"})),r.textToSpeechRulesOptions=Z(q({},r.textToSpeechRulesOptions),{rate:r.speechEngineRate}));let a=(i=window.SRE)!=null?i:globalThis.sre.System.getInstance();r.textToSpeechRulesOptions&&a.setupEngine(r.textToSpeechRulesOptions);let o="";try{o=a.toSpeech(s)}catch(l){console.error("MathLive 0.105.3: `SRE.toSpeech()` runtime error",l)}return o}return""}let n=xt("math",t);if(r.textToSpeechMarkup==="ssml"){let s="";r.speechEngineRate&&(s='<prosody rate="'+r.speechEngineRate+'">'),n='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+s+"<p><s>"+n+"</s></p>"+(s?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else r.textToSpeechMarkup==="mac"&&X0()==="macos"?n=n.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):n=n.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return n}var Us={"\\ne":"≠","\\neq":"≠","−":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e","\\imaginaryI":"i","\\imaginaryJ":"j","\\!":" ","\\,":" ","\\:":" ","\\>":" ","\\;":" ","\\enskip":" ","\\enspace":" ","\\qquad":" ","\\quad":" ","\\infty":"oo","\\R":"RR","\\mathbb{R}":"RR","\\N":"NN","\\mathbb{N}":"NN","\\Z":"ZZ","\\mathbb{Z}":"ZZ","\\Q":"QQ","\\mathbb{Q}":"QQ","\\C":"CC","\\mathbb{C}":"CC","\\emptyset":"O/","\\varnothing":"O/","\\varDelta":"Delta","\\varTheta":"Theta","\\varLambda":"Lambda","\\varXi":"Xi","\\varPi":"Pi","\\varSigma":"Sigma","\\varUpsilon":"Upsilon","\\varPhi":"Phi","\\varPsi":"Psi","\\varOmega":"Omega"},Gd={"\\pm":"+-","\\colon":" : ","\\sum":" sum ","\\prod":" prod ","\\bigcap":" nnn ","\\bigcup":" uuu ","\\int":" int ","\\oint":" oint ","\\ge":">=","\\le":"<=","\\ne":"!=","\\neq":"!=","\\lt":"<","\\gt":">","\\gets":"<-","\\to":"->","\\land":" and ","\\lor":" or ","\\lnot":" not ","\\forall":" AA ","\\exists":" EE ","\\in":" in ","\\notin":" !in ","\\mapsto":"|->","\\implies":"=>","\\iff":"<=>","\\cdot":" * ","\\ast":" ** ","\\star":" *** ","\\times":" * ","\\div":" -: ","\\ltimes":" |>< ","\\rtimes":" ><| ","\\bowtie":" |><| ","\\circ":"@"},qm={"\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrack":"[","\\rbrack":"]","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)"};function f0e(t){let e="";for(let i of t){let r=e[e.length-1];r!==void 0&&(/\d$/.test(r)&&/^\d/.test(i)||/[a-zA-Z]$/.test(r)&&/^[a-zA-Z]/.test(i))&&(e+=" "),e+=i}return e}function pi(t,e){var i,r,n,s,a,o,l,u,c,d,h,f,g,y,C,S,A;if(!t)return"";if(mr(t)){if(t.length===0)return"";if(t[0].mode==="latex")return t.map(O=>pi(O)).join("");if(t[0].mode==="text"){let O=0,U="";for(;((i=t[O])==null?void 0:i.mode)==="text";)U+=t[O].body?pi(t[O].body,e):t[O].value,O++;return e!=null&&e.plain?U+pi(t.slice(O),e):`"${U}" ${pi(t.slice(O))}`}let F=0,V=[];for(;t[F]&&t[F].mode==="math";){let O="";for(;t[F]&&t[F].type==="mord"&&/\d/.test(t[F].value);)O+=t[F++].value;O?V.push(O):V.push(pi(t[F++],e))}return V.push(pi(t.slice(F),e)),f0e(V)}if(t.mode==="text")return e!=null&&e.plain?t.value:`"${t.value}"`;let T="",{command:M}=t,D;if(M==="\\placeholder")return`(${pi(t.body,e)})`;let B=ue.serialize([t],{expandMacro:!1,defaultMode:"math"});switch(t.type){case"accent":let F={"\\vec":"vec","\\dot":"dot","\\ddot":"ddot","\\bar":"bar","\\hat":"hat","\\acute":"acute;","\\grave":"grave","\\tilde":"tilde","\\breve":"breave","\\check":"check"}[M];T=`${F??""} ${pi(t.body,e)} `;break;case"first":return"";case"latexgroup":return t.body.map(O=>O.value).join("");case"group":case"root":T=(r=Us[M])!=null?r:pi(t.body,e);break;case"genfrac":{let O=t;(O.leftDelim||O.rightDelim)&&(T=O.leftDelim==="."||!O.leftDelim?"{:":O.leftDelim),O.hasBarLine?(T+="(",T+=pi(O.above,e),T+=")/(",T+=pi(O.below,e),T+=")"):(T+="((",T+=pi(O.above,e),T+=") choose (",T+=pi(O.below,e),T+="))"),(O.leftDelim||O.rightDelim)&&(T+=O.rightDelim==="."||!O.rightDelim?"{:":O.rightDelim)}break;case"surd":t.hasEmptyBranch("above")?T+=`sqrt(${pi(t.body,e)})`:T+=`root(${pi(t.above,e)})(${pi(t.body,e)})`;break;case"latex":T=t.value;break;case"leftright":{let O=t,U=O.leftDelim;U&&qm[U]&&(U=qm[U]),T+=U==="."||!U?"{:":U,T+=pi(O.body,e);let J=O.matchingRightDelim();J&&qm[J]&&(J=qm[J]),T+=J==="."||!J?":}":J}break;case"sizeddelim":case"delim":T=t.value;break;case"overlap":break;case"overunder":break;case"mord":if(Us[B])return Us[B];T=(a=(s=(n=Us[M])!=null?n:M)!=null?s:M)!=null?a:typeof t.value=="string"?t.value:"",T.startsWith("\\")&&(T+=" "),D=M?M.match(/{?\\char"([\dabcdefABCDEF]+)}?/):null,D?T=String.fromCodePoint(Number.parseInt("0x"+D[1])):T.length>0&&T.startsWith("\\")&&(T=typeof t.value=="string"?t.value.charAt(0):t.command),T=m0e(T,t.style);break;case"mbin":case"mrel":case"minner":T=(u=(l=(o=Us[B])!=null?o:Us[M])!=null?l:Gd[M])!=null?u:t.value;break;case"mopen":case"mclose":T=t.value;break;case"mpunct":T=(c=Gd[M])!=null?c:M;break;case"mop":case"operator":case"extensible-symbol":t.value!=="​"&&(Gd[M]?T=Gd[M]:T=M==="\\operatorname"?pi(t.body,e):(d=t.value)!=null?d:M,T+=" ");break;case"array":let V=t.environmentName;if(t.isMultiline)T=t.rows.map(O=>O.map(U=>pi(U,e)).join("")).join(`
`);else{let O=(h={bmatrix:["[","]"],"bmatrix*":["[","]"]}[V])!=null?h:["(",")"],U=[],J=t.rows;for(let ie of J){let ce=[];for(let qe of ie)ce.push(pi(qe,e));U.push(O[0]+ce.join(",")+O[1])}let Y=(f={bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]}[V])!=null?f:["(",")"];T=Y[0]+U.join(",")+Y[1]}break;case"box":break;case"spacing":T=(y=(g=Us[B])!=null?g:Us[M])!=null?y:" ";break;case"enclose":T="("+pi(t.body,e)+")";break;case"space":T=" ";break;case"subsup":T="";break;case"macro":T=(A=(S=(C=Us[B])!=null?C:Us[M])!=null?S:Gd[M])!=null?A:pi(t.body,e);break}if(!t.hasEmptyBranch("subscript")){T+="_";let F=pi(t.subscript,e);T+=F.length!==1?`(${F})`:F}if(!t.hasEmptyBranch("superscript")){T+="^";let F=pi(t.superscript,e);T+=F.length!==1?`(${F})`:F}return T}function m0e(t,e){if(!e)return t;let i=t;return e.variant==="double-struck"&&(i=`bbb "${i}"`),e.variant==="script"&&(i=`cc "${i}"`),e.variant==="fraktur"&&(i=`fr "${i}"`),e.variant==="sans-serif"&&(i=`sf "${i}"`),e.variant==="monospace"&&(i=`tt "${i}"`),e.variantStyle==="bold"&&(i=`bb "${i}"`),e.color?`color({${e.color}})(${i})`:i}function Gi(t,e){var i;let r=Z(q({},LB()),{renderPlaceholder:()=>new Ae(160,{maxFontSize:1})}),n=(i=void 0)!=null?i:"math",s="math",a="displaystyle";n==="inline-math"?a="textstyle":n==="math"?a="displaystyle":n==="text"&&(a="textstyle",s="text");let o=new Pt({from:r}),l=new ue({type:"root",mode:s,body:ts(t,{context:o,parseMode:s,mathstyle:a})}).render(o);return l?(E2(Dp(l,o)),A2(l,{classes:"ML__latex"}).toMarkup()):""}function ov(t){if(typeof t=="string"){let e=g0e(t);if(!e)throw new Error(`Invalid color: ${t}`);return e}return"C"in t?v0e(t):"a"in t?hI(t):t}function l0(t){return t<0?0:t>255?255:Math.round(t)}function g0e(t){if(!t||t[0]!=="#")return;t=t.slice(1);let e;return t.length<=4?(e={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)},t.length===4&&(e.a=parseInt(t[3]+t[3],16)/255)):(e={r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)},t.length===8&&(e.a=parseInt(t[6]+t[7],16)/255)),e&&typeof e.a>"u"&&(e.a=1),e}function lv(t){let[e,i,r]=[t.L,t.C,t.H],n=r*Math.PI/180,s={L:e,a:i*Math.cos(n),b:i*Math.sin(n)};return t.alpha!==void 0&&(s.alpha=t.alpha),s}function y0e(t){let[e,i,r]=[t.L,t.a,t.b],n=Math.sqrt(i*i+r*r),s=Math.atan2(r,i)*180/Math.PI,a={L:e,C:n,H:s};return t.alpha!==void 0&&(a.alpha=t.alpha),a}function uy(t){let[e,i,r]=[t.L,t.a,t.b],n=Math.pow(.9999999984505198*e+.39633779217376786*i+.2158037580607588*r,3),s=Math.pow(1.00000000888176*e-.10556134232365635*i-.0638541747717059*r,3),a=Math.pow(e*1.000000054672411-.0894841820949657*i-1.2914855378640917*r,3),o=4.076741661347994*n-3.307711590408193*s+.230969928729428*a,l=-1.2684380040921763*n+2.6097574006633715*s-.3413193963102197*a,u=-.004196086541837188*n-.7034186144594493*s+1.7076147009309444*a,c=d=>{let h=Math.abs(d);return h<=.0031308?d*12.92:(Math.sign(d)||1)*(1.055*Math.pow(h,1/2.4)-.055)};return[c(o),c(l),c(u)]}function cy(t){let[e,i,r]=t;return e>=0&&e<=1&&i>=0&&i<=1&&r>=0&&r<=1}function dy(t,e){let[i,r,n]=t;return i=l0(i*255),r=l0(r*255),n=l0(n*255),e!==void 0?{r:i,g:r,b:n,alpha:e}:{r:i,g:r,b:n}}function hI(t){let[e,i,r]=uy(t);if(cy([e,i,r]))return dy([e,i,r],t.alpha);let n=y0e(t);if(n.C=0,[e,i,r]=uy(lv(n)),!cy([e,i,r]))return dy([e,i,r],t.alpha);let s=0,a=t.L,o=(s+a)/2;n.C=o;let l=.36/Math.pow(2,12);for(;a-s>l;)o=(s+a)/2,n.C=o,[e,i,r]=uy(lv(n)),cy([e,i,r])?s=o:a=o;return dy([e,i,r],t.alpha)}function v0e(t){return hI(lv(t))}function lk(t,e){let i=ov(t),r=ov(e),n=.56,s=.57,a=.62,o=.65,l=.022,u=1.414,c=.1,d=5e-4,h=1.14,f=.027,g=1.14,y=.027;function C(F){return F>=l?F:F+(l-F)**u}function S(F){return(F<0?-1:1)*Math.pow(Math.abs(F),2.4)}let A=C(S(r.r/255)*.2126729+S(r.g/255)*.7151522+S(r.b/255)*.072175),T=C(S(i.r/255)*.2126729+S(i.g/255)*.7151522+S(i.b/255)*.072175),M,D,B;return Math.abs(T-A)<d?D=0:T>A?(M=T**n-A**s,D=M*h):(M=T**o-A**a,D=M*g),Math.abs(D)<c?B=0:D>0?B=D-y:B=D+f,B*100}function pI(t,e,i){i!=null||(i="#fff"),e!=null||(e="#000");let r=lk(t,i),n=lk(t,e);return Math.abs(r)>Math.abs(n)?i:e}function b0e(t){let e=ov(t),i=((1<<24)+(l0(e.r)<<16)+(l0(e.g)<<8)+l0(e.b)).toString(16).slice(1);return e.alpha!==void 0&&e.alpha<1&&(i+=("00"+Math.round(e.alpha*255).toString(16)).slice(-2)),i[0]===i[1]&&i[2]===i[3]&&i[4]===i[5]&&i[6]===i[7]&&(i=i[0]+i[2]+i[4]+(e.alpha!==void 0&&e.alpha<1?i[6]:"")),"#"+i}function Yt(t){let e=fI(t),i="";for(let r of e){if(typeof r.value!="string")return"";i+=r.value}return i}function fI(t){let e=t.model.selection.ranges;if(e.length!==1)return[];let i=t.model.getAtoms(e[0]);return i.length===1&&i[0].isRoot&&(i=i[0].children),i.filter(r=>r.type!=="first")}function x0e(t,e){let i=fI(t);if(i.length!==1)return!1;let r=j5[e];return r?!!r.test(i[0].value):!1}function _0e(t){return Yt(t).length>0}function w0e(t){return[py(t,"double-struck","mathbb","tooltip.blackboard"),py(t,"fraktur","mathfrak","tooltip.fraktur"),py(t,"calligraphic","mathcal","tooltip.caligraphic"),fy(t,"up","mathrm","tooltip.roman-upright"),fy(t,"bold","bm","tooltip.bold"),fy(t,"italic","mathit","tooltip.italic")]}function S0e(t){return[{id:"accent-vec",class:"ML__center-menu",label:()=>Gi(`\\vec{${Yt(t)}}`),visible:()=>Yt(t).length===1,onMenuSelect:()=>t.insert("\\vec{#@}",{selectionMode:"item"})},{id:"accent-overrightarrow",class:"ML__center-menu",label:()=>Gi(`\\overrightarrow{${Yt(t)}}`),visible:()=>Yt(t).length>0,onMenuSelect:()=>t.insert("\\overrightarrow{#@}",{selectionMode:"item"})},{id:"accent-overleftarrow",class:"ML__center-menu",label:()=>Gi(`\\overleftarrow{${Yt(t)}}`),visible:()=>Yt(t).length>0,onMenuSelect:()=>t.insert("\\overleftarrow{#@}",{selectionMode:"item"})},{id:"accent-dot",class:"ML__center-menu",label:()=>Gi(`\\dot{${Yt(t)}}`),visible:()=>Yt(t).length===1,onMenuSelect:()=>t.insert("\\dot{#@}",{selectionMode:"item"})},{id:"accent-ddot",class:"ML__center-menu",label:()=>Gi(`\\ddot{${Yt(t)}}`),visible:()=>Yt(t).length===1,onMenuSelect:()=>t.insert("\\ddot{#@}",{selectionMode:"item"})},{id:"accent-bar",class:"ML__center-menu",label:()=>Gi(`\\bar{${Yt(t)}}`),visible:()=>Yt(t).length===1,onMenuSelect:()=>t.insert("\\bar{#@}",{selectionMode:"item"})},{id:"accent-overline",class:"ML__center-menu",label:()=>Gi(`\\overline{${Yt(t)}}`),visible:()=>Yt(t).length>0,onMenuSelect:()=>t.insert("\\overline{#@}",{selectionMode:"item"})},{id:"accent-overgroup",class:"ML__center-menu",label:()=>Gi(`\\overgroup{${Yt(t)}}`),visible:()=>Yt(t).length>0,onMenuSelect:()=>t.insert("\\overgroup{#@}",{selectionMode:"item"})},{id:"accent-overbrace",class:"ML__center-menu",label:()=>Gi(`\\overbrace{${Yt(t)}}`),visible:()=>Yt(t).length>0,onMenuSelect:()=>t.insert("\\overbrace{#@}",{selectionMode:"item"})},{id:"accent-underline",class:"ML__center-menu",label:()=>Gi(`\\underline{${Yt(t)}}`),visible:()=>Yt(t).length>0,onMenuSelect:()=>t.insert("\\underline{#@}",{selectionMode:"item"})},{id:"accent-undergroup",class:"ML__center-menu",label:()=>Gi(`\\undergroup{${Yt(t)}}`),visible:()=>Yt(t).length>0,onMenuSelect:()=>t.insert("\\undergroup{#@}",{selectionMode:"item"})},{id:"accent-underbrace",class:"ML__center-menu",label:()=>Gi(`\\underbrace{${Yt(t)}}`),visible:()=>Yt(t).length>0,onMenuSelect:()=>t.insert("\\underbrace{#@}",{selectionMode:"item"})}]}function C0e(t){return[{id:"decoration-boxed",label:()=>Gi(`\\boxed{${t.getValue(t.model.selection)}}}`),onMenuSelect:()=>t.insert("\\boxed{#@}",{selectionMode:"item"})},{id:"decoration-red-box",label:()=>Gi(`\\bbox[5px, border: 2px solid red]{${t.getValue(t.model.selection)}}`),onMenuSelect:()=>t.insert("\\bbox[5px, border: 2px solid red]{#@}",{selectionMode:"item"})},{id:"decoration-dashed-black-box",label:()=>Gi(`\\bbox[5px, border: 2px dashed black]{${t.getValue(t.model.selection)}}`),onMenuSelect:()=>t.insert("\\bbox[5px, border: 2px dashed black]{#@}",{selectionMode:"item"})}]}function k0e(t){let e=[];for(let i of Object.keys(ku))e.push({id:`background-color-${i}`,class:(b0e(pI(ku[i]))==="#000"?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${ku[i]} "></span>`,ariaLabel:()=>{var r;return(r=ft(i))!=null?r:i},checked:()=>{var r;return(r={some:"mixed",all:!0}[t.queryStyle({backgroundColor:i})])!=null?r:!1},onMenuSelect:()=>t.applyStyle({backgroundColor:i},{operation:"toggle"})});return e}function T0e(t){let e=[];for(let i of Object.keys(Tu))e.push({id:`color-${i}`,class:(pI(Tu[i])==="#000"?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${Tu[i]} "></span>`,ariaLabel:()=>{var r;return(r=ft(i))!=null?r:i},checked:()=>{var r;return(r={some:"mixed",all:!0}[t.queryStyle({color:i})])!=null?r:!1},onMenuSelect:()=>t.applyStyle({color:i},{operation:"toggle"})});return e}var E0e=class extends nI{constructor(t,e,i,r){super(t,e),this.row=i,this.col=r}set active(t){let e=this.parentMenu.children;if(t)for(let i of e)i.element.classList.toggle("active",i.row<=this.row&&i.col<=this.col);else for(let i of e)i.element.classList.remove("active")}};function A0e(t){let e=[];for(let i=1;i<=5;i++)for(let r=1;r<=5;r++)e.push({id:`insert-matrix-${i}x${r}`,onCreate:(n,s)=>new E0e(n,s,i,r),label:"☐",tooltip:()=>ft("tooltip.row-by-col",i,r),data:{row:i,col:r},onMenuSelect:()=>{t.insert(`\\begin{pmatrix}${Array(i).fill(Array(r).fill("#?").join(" & ")).join("\\\\")}\\end{pmatrix}`,{selectionMode:"item"})}});return e}function M0e(t){return[{label:()=>ft("menu.array.add row above"),id:"add-row-above",onMenuSelect:()=>t.executeCommand("addRowBefore"),keyboardShortcut:"shift+alt+[Return]",visible:()=>{if(!t.isSelectionEditable||!Jl(t))return!1;let[e,i]=zo(t),[r,n]=Cc(t);return e!==r}},{label:()=>ft("menu.array.add row below"),id:"add-row-below",onMenuSelect:()=>t.executeCommand("addRowAfter"),keyboardShortcut:"alt+[Return]",visible:()=>{if(!t.isSelectionEditable||!Jl(t))return!1;let[e,i]=zo(t),[r,n]=Cc(t);return e!==r}},{label:()=>ft("menu.array.add column before"),id:"add-column-before",onMenuSelect:()=>t.executeCommand("addColumnBefore"),visible:()=>{if(!t.isSelectionEditable||!Jl(t))return!1;let[e,i]=zo(t),[r,n]=Cc(t);return i!==n},keyboardShortcut:"shift+alt+[Tab]",enabled:()=>{let e=t.model.parentEnvironment;if(!e)return!1;let[i,r]=hy(t);return i<e.maxColumns}},{label:()=>ft("menu.array.add column after"),id:"add-column-after",onMenuSelect:()=>t.executeCommand("addColumnAfter"),keyboardShortcut:"alt+[Tab]",visible:()=>{if(!t.isSelectionEditable||!Jl(t))return!1;let[e,i]=zo(t),[r,n]=Cc(t);return i!==n}},{type:"divider"},{label:()=>ft("menu.array.delete row"),id:"delete-row",onMenuSelect:()=>t.executeCommand("removeRow"),enabled:()=>{let[e,i]=zo(t),[r,n]=hy(t);return r>e},visible:()=>{if(!t.isSelectionEditable||!Jl(t))return!1;let[e,i]=zo(t),[r,n]=Cc(t);return e!==r}},{label:()=>ft("menu.array.delete column"),id:"delete-column",onMenuSelect:()=>t.executeCommand("removeColumn"),enabled:()=>{let[e,i]=zo(t),[r,n]=hy(t);return n>i},visible:()=>{if(!t.isSelectionEditable||!Jl(t))return!1;let[e,i]=zo(t),[r,n]=Cc(t);return i!==n}},{type:"divider"},{label:()=>ft("menu.borders"),visible:()=>(D0e(t)||Jl(t))&&t.isSelectionEditable,submenu:[{label:" ⋱ ",id:"environment-no-border",onMenuSelect:()=>Xd(t,"matrix")},{label:"(⋱)",id:"environment-parentheses",onMenuSelect:()=>Xd(t,"pmatrix")},{label:"[⋱]",id:"environment-brackets",onMenuSelect:()=>Xd(t,"bmatrix")},{label:"|⋱|",id:"environment-bar",onMenuSelect:()=>Xd(t,"vmatrix")},{label:"{⋱}",id:"environment-braces",onMenuSelect:()=>Xd(t,"Bmatrix")}],submenuClass:"border-submenu"},{type:"divider"},{label:()=>ft("menu.insert matrix"),id:"insert-matrix",visible:()=>t.isSelectionEditable,submenu:A0e(t),submenuClass:"insert-matrix-submenu",columnCount:5},{type:"divider"},{label:()=>ft("menu.insert"),id:"insert",submenu:B0e(t)},{type:"divider"},{label:()=>ft("menu.mode"),id:"mode",visible:()=>t.isSelectionEditable&&t.model.selectionIsCollapsed,submenu:[{label:()=>ft("menu.mode-math"),id:"mode-math",onMenuSelect:()=>{A0(t,"accept-all"),t.executeCommand(["switchMode","math"])},checked:()=>t.model.mode==="math"},{label:()=>ft("menu.mode-text"),id:"mode-text",onMenuSelect:()=>{A0(t,"accept-all"),t.executeCommand(["switchMode","text"])},checked:()=>t.model.mode==="text"},{label:()=>ft("menu.mode-latex"),id:"mode-latex",onMenuSelect:()=>t.executeCommand(["switchMode","latex"]),checked:()=>t.model.mode==="latex"}]},{type:"divider"},{label:()=>ft("menu.font-style"),id:"variant",visible:()=>t.isSelectionEditable,submenu:w0e(t),submenuClass:"variant-submenu"},{label:()=>ft("menu.color"),id:"color",visible:()=>t.isSelectionEditable,submenu:T0e(t),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>ft("menu.background-color"),id:"background-color",visible:()=>t.isSelectionEditable,submenu:k0e(t),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>ft("menu.accent"),id:"accent",visible:()=>t.isSelectionEditable,submenu:S0e(t),submenuClass:"variant-submenu"},{label:()=>ft("menu.decoration"),id:"decoration",visible:()=>t.isSelectionEditable&&Yt(t).length>0,submenu:C0e(t),submenuClass:"variant-submenu"},{type:"divider"},{label:()=>ft("menu.evaluate"),id:"ce-evaluate",visible:()=>t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null,onMenuSelect:()=>{let e=L0e(t);if(!e){t.model.announce("plonk");return}t.model.selectionIsCollapsed?(t.model.position=t.model.lastOffset,t.insert(`=${e}`,{insertionMode:"insertAfter",selectionMode:"item"})):t.insert(e,{insertionMode:"replaceSelection",selectionMode:"item"})}},{label:()=>ft("menu.simplify"),id:"ce-simplify",visible:()=>t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null,onMenuSelect:()=>{var e,i;if(t.model.selectionIsCollapsed){let r=(e=t.expression)==null?void 0:e.simplify();if(t.model.position=t.model.lastOffset,!r){t.model.announce("plonk");return}t.insert(`=${r.latex}`,{insertionMode:"insertAfter",selectionMode:"item"})}else{let r=(i=globalThis.MathfieldElement.computeEngine)==null?void 0:i.parse(t.getValue(t.model.selection)).simplify();if(!r){t.model.announce("plonk");return}t.insert(r.latex,{insertionMode:"replaceSelection",selectionMode:"item"})}}},{label:()=>{var e;let i=globalThis.MathfieldElement.computeEngine;if(i===null)return"";let r=(e=t.expression)==null?void 0:e.unknowns[0];if(r){let n=i.box(r).latex;return ft("menu.solve-for",Gi(n))}return ft("menu.solve")},id:"ce-solve",visible:()=>{var e;return t.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null&&((e=t.expression)==null?void 0:e.unknowns.length)===1&&t.expression.unknowns[0]!=="Nothing"},onMenuSelect:()=>{var e;let i=t.expression,r=i==null?void 0:i.unknowns[0],n=(e=i.solve(r))==null?void 0:e.map(s=>{var a;return(a=s.simplify().latex)!=null?a:""});if(!n){t.model.announce("plonk");return}t.insert(`${r}=${n.length===1?n[0]:"\\left\\lbrace"+(n==null?void 0:n.join(", "))+"\\right\\rbrace"}`,{insertionMode:"replaceAll",selectionMode:"item"})}},{type:"divider"},{label:()=>ft("menu.cut"),id:"cut",onMenuSelect:()=>t.executeCommand("cutToClipboard"),visible:()=>!t.options.readOnly&&t.isSelectionEditable,keyboardShortcut:"meta+X"},{label:()=>ft("menu.copy"),id:"copy",submenu:[{label:()=>ft("menu.copy-as-latex"),id:"copy-latex",onMenuSelect:()=>Qt.copyToClipboard(t,"latex"),keyboardShortcut:"meta+C"},{label:()=>ft("menu.copy-as-ascii-math"),id:"copy-ascii-math",onMenuSelect:()=>Qt.copyToClipboard(t,"ascii-math")},{label:()=>ft("menu.copy-as-mathml"),id:"copy-math-ml",onMenuSelect:()=>Qt.copyToClipboard(t,"math-ml")}]},{label:()=>ft("menu.paste"),id:"paste",onMenuSelect:()=>t.executeCommand("pasteFromClipboard"),visible:()=>t.hasEditableContent,keyboardShortcut:"meta+V"},{label:()=>ft("menu.select-all"),id:"select-all",keyboardShortcut:"meta+A",onMenuSelect:()=>t.executeCommand("selectAll")}]}function Jl(t){var e,i;let r=(i=(e=t.model.parentEnvironment)==null?void 0:e.environmentName)!=null?i:"";return["array","matrix","pmatrix","bmatrix","vmatrix","Bmatrix"].includes(r)}function D0e(t){let e=t.model.at(t.model.position);if(e.type!=="array")return!1;let i=e.environmentName;return["matrix","pmatrix","bmatrix","vmatrix","Bmatrix"].includes(i)}function hy(t){var e;let i=(e=t.model.parentEnvironment)==null?void 0:e.rows;return i?[i.length,i.reduce((r,n)=>Math.max(r,n.length),0)]:[0,0]}function zo(t){let e=t.model.parentEnvironment;return e?[e.minRows,e.minColumns]:[0,0]}function Cc(t){let e=t.model.parentEnvironment;return e?[e.maxRows,e.maxColumns]:[0,0]}function Xd(t,e){O2(t),t.flushInlineShortcutBuffer(),GP(t.model,e),fi(t)}function L0e(t){var e,i;let r;if(t.model.selectionIsCollapsed?r=(e=globalThis.MathfieldElement.computeEngine)==null?void 0:e.parse(t.getValue(),{canonical:!1}):r=(i=globalThis.MathfieldElement.computeEngine)==null?void 0:i.parse(t.getValue(t.model.selection),{canonical:!1}),!r)return"";let n=r.evaluate();return n.isSame(r)&&(n=r.N()),n.latex}function py(t,e,i,r){return{id:`variant-${e}`,label:()=>{var n;return Yt(t).length<12?Gi(`\\${i}{${Yt(t)}}`):(n=ft(r))!=null?n:r},class:"ML__xl",tooltip:()=>{var n;return(n=ft(r))!=null?n:r},visible:()=>x0e(t,e),checked:()=>{var n;return(n={some:"mixed",all:!0}[t.queryStyle({variant:e})])!=null?n:!1},onMenuSelect:()=>t.applyStyle({variant:e},{operation:"toggle"})}}function fy(t,e,i,r){return{id:`variant-style-${e}`,label:()=>{var n;let s=Yt(t);return s.length>0&&s.length<12?Gi(`\\${i}{${Yt(t)}}`):(n=ft(r))!=null?n:r},class:()=>{let n=Yt(t);return n.length>0&&n.length<12?"ML__xl":""},tooltip:()=>{var n;return(n=ft(r))!=null?n:r},visible:e==="bold"?!0:()=>_0e(t),checked:()=>{var n;return(n={some:"mixed",all:!0}[t.queryStyle({variantStyle:e})])!=null?n:!1},onMenuSelect:()=>t.applyStyle({variantStyle:e},{operation:"toggle"})}}function B0e(t){return[{label:()=>Cn("abs"),id:"insert-abs",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("|#?|")},{label:()=>Cn("nth-root"),id:"insert-nth-root",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\sqrt[#?]{#?}")},{label:()=>Cn("log-base"),id:"insert-log-base",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\log_{#?}{#?}")},{type:"heading",label:()=>ft("menu.insert.heading-calculus")},{label:()=>Cn("derivative"),id:"insert-derivative",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\dfrac{\\mathrm{d}}{\\mathrm{d}x}#?\\bigm|_{x=#?}")},{label:()=>Cn("nth-derivative"),id:"insert-nth-derivative",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\dfrac{\\mathrm{d}^#?}{\\mathrm{d}x^#?}#?\\bigm|_{x=#?}")},{label:()=>Cn("integral"),id:"insert-integral",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\int_#?^#?#?\\,\\mathrm{d}#?")},{label:()=>Cn("sum"),id:"insert-sum",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\sum_#?^#?#?")},{label:()=>Cn("product"),id:"insert-product",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\prod_#?^#?#?")},{type:"heading",label:()=>ft("menu.insert.heading-complex-numbers")},{label:()=>Cn("modulus"),id:"insert-modulus",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\lvert#?\\rvert")},{label:()=>Cn("argument"),id:"insert-argument",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\arg(#?)")},{label:()=>Cn("real-part"),id:"insert-real-part",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\Re(#?)")},{label:()=>Cn("imaginary-part"),id:"insert-imaginary-part",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\Im(#?)")},{label:()=>Cn("conjugate"),id:"insert-conjugate",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\overline{#?}")}]}function Cn(t){return`<span class='ML__insert-template'> ${Gi(ft(`menu.insert.${t}-template`))}</span><span class="ML__insert-label">${ft(`menu.insert.${t}`)}</span>`}function nl(t,e){return typeof t=="string"?t+o0(e):o0(t)}function uv(t){var e;let i;if(t.parent.type==="prompt")t.parentBranch==="body"&&(i="prompt");else if(t.parentBranch==="body"){if(t.type==="first"&&(t.parent.type==="root"?i="mathfield":t.parent.type==="surd"?i="radicand":t.parent.type==="genfrac"?i="fraction":t.parent.type==="sizeddelim"&&(i="delimiter"),i))return i;t.type==="subsup"?t.superscript&&t.subscript?i="superscript and subscript":t.superscript?i="superscript":t.subscript&&(i="subscript"):t.type&&(i=(e={accent:"accented",array:"array",box:"box",chem:"chemical formula",delim:"delimiter",enclose:"cross out","extensible-symbol":"extensible symbol",error:"error",first:"first",genfrac:"fraction",group:"group",latex:"LaTeX",leftright:"delimiter",line:"line",subsup:"subscript-superscript",operator:"operator",overunder:"over-under",placeholder:"placeholder",rule:"rule",sizeddelim:"delimiter",space:"space",spacing:"spacing",surd:"square root",text:"text",prompt:"prompt",root:"math field",mop:"operator"}[t.type])!=null?e:"parent")}else if(t.parent.type==="genfrac"){if(t.parentBranch==="above")return"numerator";if(t.parentBranch==="below")return"denominator"}else t.parent.type==="surd"?t.parentBranch==="above"&&(i="index"):t.parentBranch==="superscript"?i="superscript":t.parentBranch==="subscript"&&(i="subscript");return i??"parent"}function P0e(t,e,i,r){let n="";if(e==="plonk"){globalThis.MathfieldElement.playSound("plonk"),t.flushInlineShortcutBuffer();return}if(e==="delete")n=nl("deleted: ",r);else if(e==="focus"||e.includes("move"))n=I0e(t.model,i),n+=R0e(t.model);else if(e==="replacement")n=nl(t.model.at(t.model.position));else if(e==="line"){let s=nl(t.model.root);t.keyboardDelegate.setAriaLabel(s)}else n=r?nl(e+" ",r):e;if(n){let s=t.ariaLiveText.textContent.includes(" ")?"   ":"   ";t.ariaLiveText.textContent=n+s}}function I0e(t,e){if(Number.isNaN(e))return"";let i=t.at(e);if(!i||i.treeDepth<=t.at(t.position).treeDepth)return"";let r="",n=i.parent,s=t.at(t.position).parent;for(;n!==t.root&&n!==s;)r+=`out of ${uv(n)};`,n=n.parent;return r}function R0e(t){if(!t.selectionIsCollapsed)return`selected: ${nl(t.getAtoms(t.selection))}`;let e="",i=t.at(t.position);if(i.isFirstSibling&&(e=`start of ${uv(i)}: `),i.isLastSibling){if(!i.isFirstSibling){if(!i.parent.parent)return`${nl(i)}; end of mathfield`;e=`${nl(i)}; end of ${uv(i)}`}}else e+=nl(i);return e}var O0e=class{constructor(t,e,i){this.mathfield=t,this.mode=e,this.silenceNotifications=!1,this._selection={ranges:[[0,0]],direction:"none"},this._anchor=0,this._position=0,this.root=i}dispose(){this.mathfield=void 0}getState(){let t={ranges:[...this._selection.ranges]};return this.selection.direction&&this.selection.direction!=="none"&&(t.direction=this.selection.direction),{content:this.root.toJson(),selection:t,mode:this.mode}}setState(t,e){var i;let r=this.silenceNotifications;this.silenceNotifications=(i=e==null?void 0:e.silenceNotifications)!=null?i:!0;let n={};if((e==null?void 0:e.type)==="undo"&&(n={inputType:"historyUndo"}),(e==null?void 0:e.type)==="redo"&&(n={inputType:"historyRedo"}),this.contentWillChange(n)){let s=this.silenceNotifications;this.silenceNotifications=!0,this.mode=t.mode,this.root=ll(t.content),this.selection=t.selection,this.silenceNotifications=s,this.contentDidChange(n),this.selectionDidChange()}this.silenceNotifications=r}get atoms(){return this.root.children}get selection(){return this._selection}set selection(t){this.setSelection(t)}setSelection(t,e){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0,content:!0},()=>{var i,r,n;let s=this.normalizeSelection(t,e);if(s===void 0)throw new TypeError("Invalid selection");if(s.ranges.length===1&&s.ranges[0][0]===s.ranges[0][1]){let c=s.ranges[0][0];if(!this.mathfield.dirty&&!((i=this.at(c))!=null&&i.parentPrompt)&&this.mathfield.hasEditablePrompts){if((r=this.at(c-1))!=null&&r.parentPrompt){this._anchor=this.normalizeOffset(c-1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor);return}if((n=this.at(c+1))!=null&&n.parentPrompt){this._anchor=this.normalizeOffset(c+1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor);return}this._anchor=0,this._position=0,this._selection={ranges:[[0,0]]};return}this._anchor=c,this._position=c,this._selection=s;return}let a=Cr(s);s.direction==="backward"?[this._position,this._anchor]=a:[this._anchor,this._position]=a;let o=this.at(a[0]+1),l=this.at(a[1]),u=ue.commonAncestor(o,l);(u==null?void 0:u.type)==="array"&&o.parent===u&&l.parent===u?this._selection={ranges:[a],direction:s.direction}:this._selection={ranges:[a],direction:s.direction},this._position>=0&&this._position<=this.lastOffset})}setPositionHandlingPlaceholder(t){var e;let i=this.at(t);(i==null?void 0:i.type)==="placeholder"?this.setSelection(t-1,t):((e=i==null?void 0:i.rightSibling)==null?void 0:e.type)==="placeholder"?this.setSelection(t,t+1):this.position=t,i instanceof rr&&i.isSuggestion&&(i.isSuggestion=!1),this.mathfield.stopCoalescingUndo()}get position(){return this._position}set position(t){this.setSelection(t,t)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return Math.abs(this._anchor-this._position)===1?this.at(Math.max(this._anchor,this._position)).type==="placeholder":!1}collapseSelection(t="forward"){return this._anchor===this._position?!1:(t==="backward"?this.position=Math.min(this._anchor,this._position):this.position=Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(t){return this.atoms[t]}offsetOf(t){return this.atoms.indexOf(t)}getSiblingsRange(t){let e=this.at(t),{parent:i}=e;if(!i)return[0,this.lastOffset];let r=e.parent.branch(e.parentBranch);return[this.offsetOf(r[0]),this.offsetOf(r[r.length-1])]}getBranchRange(t,e){let i=this.at(t).branch(e);return[this.offsetOf(i[0]),this.offsetOf(i[i.length-1])]}getCellRange(t){var e;this.getParentCell(t);let i=this.at(t);if(i){for(;i&&((e=i.parent)==null?void 0:e.type)!=="array";)i=i.parent;if(!(!(i!=null&&i.parent)||i.parent.type!=="array"))return[this.offsetOf(i.firstSibling),this.offsetOf(i.lastSibling)]}}getAtoms(t,e,i){let r=i??{};if(s1(t)){if(r=e??{},t.ranges.length>1)return t.ranges.reduce((u,c)=>[...u,...this.getAtoms(c,r)],[]);t=t.ranges[0]}let n,s;if(el(t)){if(n=t,!el(e))return[];s=e}else[n,s]=t,r=e??{};if(!Number.isFinite(n))return[];r.includeChildren===void 0&&(r.includeChildren=!1),n<0&&(n=this.lastOffset-n+1),s<0&&(s=this.lastOffset+s+1);let a=Math.min(n,s)+1,o=Math.max(n,s);if(!r.includeChildren&&a===1&&o===this.lastOffset)return[this.root];let l=[];for(let u=a;u<=o;u++){let c=this.atoms[u];uk(this,c,a,o)&&l.push(c)}return r.includeChildren||(l=l.filter(u=>{let c=!1,{parent:d}=u;for(;d&&!c;)c=uk(this,d,a,o),d=d.parent;return!c})),l}findAtom(t,e=0,i="forward"){let r,n=this.lastOffset;if(i==="forward"){for(let s=e;s<=n;s++)if(r=this.atoms[s],t(r))return r;for(let s=0;s<e;s++)if(r=this.atoms[s],t(r))return r;return}for(let s=e;s>=0;s--)if(r=this.atoms[s],t(r))return r;for(let s=n;s>e;s--)if(r=this.atoms[s],t(r))return r}extractAtoms(t){var e;let i=this.getAtoms(t);i.length===1&&!i[0].parent&&i[0].isRoot&&(i[0]instanceof Tt?i=i[0].rows.flatMap(r=>r.flatMap(n=>n)):i=[...(e=i[0].body)!=null?e:i[0].children],i=i.filter(r=>r.type!=="first"));for(let r of i)r.parent.removeChild(r);return i}deleteAtoms(t){t!=null||(t=[0,-1]),this.extractAtoms(t),this.position=t[0]}atomToString(t,e){let i=e??"latex";if(i.startsWith("latex"))return ue.serialize([t],{expandMacro:i==="latex-expanded",skipStyles:i==="latex-unstyled",skipPlaceholders:i==="latex-without-placeholders",defaultMode:this.mathfield.options.defaultMode});if(i==="math-ml")return zt(t);if(i==="spoken")return o0(t);if(i==="spoken-text"){let r=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="";let n=o0(t);return globalThis.MathfieldElement.textToSpeechMarkup=r,n}if(i==="spoken-ssml"||i==="spoken-ssml-with-highlighting"){let r=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="ssml";let n=o0(t);return globalThis.MathfieldElement.textToSpeechMarkup=r,n}return i==="plain-text"?pi(t,{plain:!0}):i==="ascii-math"?pi(t):(console.error(`MathLive 0.105.3: Unexpected format "${i}`),"")}getValue(t,e,i){if(t===void 0)return this.atomToString(this.root,"latex");if(typeof t=="string"&&t!=="math-json")return this.atomToString(this.root,t);let r,n;if(el(t)&&el(e)?(r=[this.normalizeRange([t,e])],n=i):ug(t)?(r=[this.normalizeRange(t)],n=e):s1(t)?(r=t.ranges,n=e):(r=[this.normalizeRange([0,-1])],n=t),n!=null||(n="latex"),n==="math-json"){if(!globalThis.MathfieldElement.computeEngine)return window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`The CortexJS Compute Engine library is not available.
Load the library, for example with:
import "https://esm.run/@cortex-js/compute-engine"`),'["Error", "compute-engine-not-available"]';let s=this.getValue({ranges:r},"latex-unstyled");try{let a=globalThis.MathfieldElement.computeEngine.parse(s);return JSON.stringify(a.json)}catch(a){return JSON.stringify(["Error",`'${a.toString()}'`])}}if(n.startsWith("latex")){let s={expandMacro:n==="latex-expanded",skipStyles:n==="latex-unstyled",skipPlaceholders:n==="latex-without-placeholders",defaultMode:this.mathfield.options.defaultMode};return kt(r.map(a=>ue.serialize(this.getAtoms(a),s)))}return r.map(s=>this.getAtoms(s).map(a=>this.atomToString(a,n)).join("")).join("")}extendSelectionTo(t,e){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0},()=>{let i=this.normalizeRange([t,e]),[r,n]=i,{parent:s}=this.at(n);if(s&&(s.type==="genfrac"||s.type==="subsup"))for(;s!==this.root&&my(this,s,[r,n]);)n=this.offsetOf(s),s=s.parent;for(s=this.at(r).parent;s!==this.root&&my(this,s,[r,n]);)r=this.offsetOf(s.leftSibling),s=s.parent;if(s=this.at(n).parent,(s==null?void 0:s.type)==="genfrac")for(;s!==this.root&&my(this,s,[r,n]);)n=this.offsetOf(s),s=s.parent;this._position=this.normalizeOffset(e),this._selection={ranges:[[r,n]],direction:"none"}})}announce(t,e,i=[]){var r,n;((n=(r=this.mathfield.host)==null?void 0:r.dispatchEvent(new CustomEvent("announce",{detail:{command:t,previousPosition:e,atoms:i},cancelable:!0,bubbles:!0,composed:!0})))==null||n)&&P0e(this.mathfield,t,e,i)}deferNotifications(t,e){let i=this._selection,r=this._anchor,n=this._position,s=this.silenceNotifications;this.silenceNotifications=!0;let a=this.root.changeCounter;e(),this.silenceNotifications=s;let o=r!==this._anchor||n!==this._position||Qoe(this._selection,i)==="different";t.selection&&o&&this.selectionDidChange();let l=this.root.changeCounter!==a;return t.content&&l&&this.contentDidChange({inputType:t.type}),l||o}normalizeOffset(t){return t>0?t=Math.min(t,this.lastOffset):t<0&&(t=this.lastOffset+t+1),t}normalizeRange(t){let[e,i]=t;return e=this.normalizeOffset(e),i=this.normalizeOffset(i),e<i?[e,i]:[i,e]}normalizeSelection(t,e){var i;let r;if(el(t)){let n=this.normalizeOffset(t);if(el(e)){let s=this.normalizeOffset(e);r=n<=s?{ranges:[[n,s]],direction:"none"}:{ranges:[[s,n]],direction:"backward"}}else r={ranges:[[n,n]],direction:"none"}}else if(ug(t)){let n=this.normalizeOffset(t[0]),s=this.normalizeOffset(t[1]);r=n<=s?{ranges:[[n,s]],direction:"none"}:{ranges:[[s,n]],direction:"backward"}}else s1(t)&&(r={ranges:t.ranges.map(n=>this.normalizeRange(n)),direction:(i=t.direction)!=null?i:"none"});return r}get parentEnvironment(){let t=this.at(this.position).parent;if(t){for(;t.parent&&t.type!=="array";)t=t.parent;if(t.type==="array")return t}}get parentCell(){return this.getParentCell(this.position)}getParentCell(t){var e;let i=this.at(t);if(i){for(;i&&((e=i.parent)==null?void 0:e.type)!=="array";)i=i.parent;if(!(!(i!=null&&i.parent)||i.parent.type!=="array"))return i.parentBranch}}contentWillChange(t={}){if(this.silenceNotifications||!this.mathfield)return!0;let e=this.silenceNotifications;this.silenceNotifications=!0;let i=this.mathfield.onContentWillChange(t);return this.silenceNotifications=e,i}contentDidChange(t){if(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Vo(this.mathfield)),this.silenceNotifications||!this.mathfield||!this.mathfield.host)return;let e=this.silenceNotifications;this.silenceNotifications=!0,setTimeout(()=>{var i;!this.mathfield||!Oa(this.mathfield)||!this.mathfield.host||this.mathfield.host.dispatchEvent(new InputEvent("input",Z(q({},t),{data:t.data?t.data:(i=t.inputType)!=null?i:"",bubbles:!0,composed:!0})))},0),this.silenceNotifications=e}selectionDidChange(){if(!this.mathfield)return;let t=this.silenceNotifications;t||(this.silenceNotifications=!0,this.mathfield.onSelectionDidChange()),this.silenceNotifications=t}};function uk(t,e,i,r){let n=t.offsetOf(e);if(n<i||n>r)return!1;if(!e.hasChildren)return!0;let s=t.offsetOf(e.firstChild);if(s>=i&&s<=r){let a=t.offsetOf(e.lastChild);if(a>=i&&a<=r)return!0}return!1}function my(t,e,i){if(!(e!=null&&e.hasChildren))return!1;let[r,n]=i,s=t.offsetOf(e.firstChild),a=t.offsetOf(e.lastChild);return s>=r&&s<=n&&a>=s&&a<=n}function Mh(t,e,i,r){var n,s,a,o,l,u;let c=i.parent;if(no(r)&&i instanceof Tt&&i.isMultiline&&$0e(t,i,r[0],e))return!0;if(c&&i instanceof bi){let d=!r&&e==="forward"||r==="body"&&e==="backward",h=d?t.offsetOf(i.firstChild):t.offsetOf(i.lastChild);return d?i.rightDelim!=="?"&&i.rightDelim!=="."?(i.leftDelim=".",i.isDirty=!0):(c.addChildrenAfter(i.removeBranch("body"),i),c.removeChild(i),h--):i.leftDelim!=="?"&&i.leftDelim!=="."?(i.rightDelim=".",i.isDirty=!0):(c.addChildrenAfter(i.removeBranch("body"),i),c.removeChild(i),h--),t.position=h,!0}if(c&&i.type==="surd"){if(e==="forward"&&!r||e==="backward"&&r==="body"){let d=i.leftSibling;i.hasChildren&&c.addChildrenAfter(i.removeBranch("body"),i),c.removeChild(i),t.position=t.offsetOf(d)}else e==="forward"&&r==="body"?t.position=t.offsetOf(i):!r&&e==="backward"?i.hasChildren?t.position=t.offsetOf(i.lastChild):(t.position=Math.max(0,t.offsetOf(i)-1),c.removeChild(i)):r==="above"&&(i.hasEmptyBranch("above")&&i.removeBranch("above"),e==="backward"?t.position=t.offsetOf(i.leftSibling):t.position=t.offsetOf(i.body[0]));return!0}if(c&&(i.type==="box"||i.type==="enclose")){let d=r&&e==="backward"||!r&&e==="forward"?i.leftSibling:i.lastChild;return c.addChildrenAfter(i.removeBranch("body"),i),c.removeChild(i),t.position=t.offsetOf(d),!0}if(i.type==="genfrac"||i.type==="overunder"){if(!r)return i.type==="overunder"&&i.hasEmptyBranch("body")||i.type==="genfrac"&&i.hasEmptyBranch("below")&&i.hasEmptyBranch("above")?!1:(t.position=t.offsetOf(e==="forward"?i.firstChild:i.lastChild),!0);let d=Iu.fractionNavigationOrder==="numerator-denominator"?"above":"below",h=d==="above"?"below":"above";if(c&&(e==="forward"&&r===d||e==="backward"&&r===h)){let f=i.removeBranch(d),g=i.removeBranch(h);return c.addChildrenAfter([...f,...g],i),c.removeChild(i),t.position=t.offsetOf(f.length>0?f[f.length-1]:g[0]),!0}return e==="backward"?t.position=t.offsetOf(i.leftSibling):t.position=t.offsetOf(i),!0}if(i.type==="extensible-symbol"||i.type==="subsup"){if(!r&&e==="forward")return!1;if(!r){if(i.subscript||i.superscript){let d=e==="forward"?(a=(n=i.superscript)==null?void 0:n[0])!=null?a:(s=i.subscript)==null?void 0:s[0]:(u=(o=i.subscript)==null?void 0:o[0].lastSibling)!=null?u:(l=i.superscript)==null?void 0:l[0].lastSibling;return d&&(t.position=t.offsetOf(d)),!0}return!1}if(!i.hasChildren&&i.type==="subsup"){let d=e==="forward"?t.offsetOf(i):Math.max(0,t.offsetOf(i)-1);return i.parent.removeChild(i),t.position=d,!0}if(r==="superscript")if(e==="backward"){let d=t.offsetOf(i.firstChild)-1;t.position=d}else i.subscript?t.position=t.offsetOf(i.subscript[0]):t.position=t.offsetOf(i);else r==="subscript"&&(e==="backward"&&i.superscript?t.position=t.offsetOf(i.superscript[0].lastSibling):e==="backward"?t.position=t.offsetOf(i.firstChild)-1:t.position=t.offsetOf(i));if(r&&i.hasEmptyBranch(r)&&(i.removeBranch(r),i.type==="subsup"&&!i.subscript&&!i.superscript)){let d=e==="forward"?t.offsetOf(i):Math.max(0,t.offsetOf(i)-1);i.parent.removeChild(i),t.position=d}return!0}if((c==null?void 0:c.type)==="genfrac"&&!r&&i.type!=="first"){let d=t.offsetOf(i.leftSibling);return c.removeChild(i),c.hasEmptyBranch("above")&&c.hasEmptyBranch("below")?(d=t.offsetOf(c.leftSibling),c.parent.removeChild(c),t.announce("delete",void 0,[c]),t.position=d,!0):(t.announce("delete",void 0,[i]),t.position=d,!0)}if(e==="backward"&&((c==null?void 0:c.command)==="\\ln"||(c==null?void 0:c.command)==="\\log")&&i.parentBranch!=="body"){let d=t.offsetOf(c.leftSibling);return c.parent.removeChild(c),t.announce("delete",void 0,[c]),t.position=d,!0}return!1}function F0e(t){return!t.mathfield.isSelectionEditable||!t.contentWillChange({inputType:"deleteContentBackward"})?!1:t.selectionIsCollapsed?t.deferNotifications({content:!0,selection:!0,type:"deleteContentBackward"},()=>{let e=t.at(t.position);if(!(e&&Mh(t,"backward",e))){if(e!=null&&e.isFirstSibling){if(Mh(t,"backward",e.parent,e.parentBranch))return;e=null}if(!e){t.announce("plonk");return}t.position=t.offsetOf(e.leftSibling),e.parent.removeChild(e),t.announce("delete",void 0,[e])}}):xs(t,Cr(t.selection),"deleteContentBackward")}function N0e(t){return!t.mathfield.isSelectionEditable||!t.contentWillChange({inputType:"deleteContentForward"})?!1:t.selectionIsCollapsed?t.deferNotifications({content:!0,selection:!0,type:"deleteContentForward"},()=>{var e,i;let r=t.at(t.position).rightSibling;if(r&&Mh(t,"forward",r))return;if(r){if(t.at(t.position).isLastSibling&&Mh(t,"forward",r.parent,r.parentBranch))return}else{if(r=t.at(t.position),r.isLastSibling&&Mh(t,"forward",r.parent,r.parentBranch))return;r=void 0}if(t.position===t.lastOffset||!r){t.announce("plonk");return}r.parent.removeChild(r);let n=(e=t.at(t.position))==null?void 0:e.rightSibling;for(;(n==null?void 0:n.type)==="subsup";)n.parent.removeChild(n),n=(i=t.at(t.position))==null?void 0:i.rightSibling;t.announce("delete",void 0,[r])}):xs(t,Cr(t.selection),"deleteContentForward")}function xs(t,e,i){let r=t.getAtoms(e);if(r.length>0&&r[0].parent){let n=r[0];for(;n&&!(n instanceof Tt);)n=n.parent;let s=r[r.length-1];for(;s&&!(s instanceof Tt);)s=s.parent;if(n&&n instanceof Tt){let c=n;if(c&&s===c&&c.isMultiline){let[d,h]=[Math.min(t.position,t.anchor),Math.max(t.position,t.anchor)],[f,g]=t.at(d).parentBranch,[y,C]=t.at(h).parentBranch;if(y-f+1>2){t.extractAtoms([d,h]);for(let A=f+1;A<y;A++)c.removeRow(A);return t.position=d,!0}}}let a=r[0].parent.firstChild;a.type==="first"&&(a=a.rightSibling);let o=r[r.length-1].parent.lastChild,l=r[0];l.type==="first"&&(l=l.rightSibling);let u=r[r.length-1];if(l===a&&u===o){let c=r[0].parent;c.parent&&c.type!=="prompt"&&(e=[t.offsetOf(c.leftSibling),t.offsetOf(c)])}if(r.length===1&&r[0].type==="placeholder"&&r[0].parent.type==="genfrac"){let c=r[0].parent,d=r[0].parentBranch==="below"?"above":"below",h=t.offsetOf(c.leftSibling);return t.deferNotifications({content:!0,selection:!0,type:i},()=>{var f,g;let y=c.removeBranch(d);if(y.length===1&&y[0].type==="placeholder")(g=c.parent)==null||g.removeChild(c),t.position=Math.max(0,h);else{let C=c.parent.addChildrenAfter(y,c);(f=c.parent)==null||f.removeChild(c),t.position=t.offsetOf(C)}})}}return t.deferNotifications({content:!0,selection:!0,type:i},()=>t.deleteAtoms(e))}function $0e(t,e,i,r){if(!(e instanceof Tt)||!e.isMultiline||e.rows.length===1||e.rows[i].length>1)return!1;let n=e.getCell(i,0);if(e.removeRow(i),r==="backward"){let s=e.getCell(i-1,0);t.position=t.offsetOf(s[s.length-1]),e.setCell(i-1,0,[...s,...n])}else{let s=e.getCell(i,0);t.position=t.offsetOf(s[0]),e.setCell(i,0,[...n,...s])}return!0}nn({deleteAll:t=>t.contentWillChange({inputType:"deleteContent"})&&xs(t,[0,-1],"deleteContent"),deleteForward:t=>N0e(t),deleteBackward:t=>F0e(t),deleteNextWord:t=>t.contentWillChange({inputType:"deleteWordForward"})&&xs(t,[t.anchor,Y5(t,t.position,"forward")],"deleteWordForward"),deletePreviousWord:t=>t.contentWillChange({inputType:"deleteWordBackward"})&&xs(t,[t.anchor,Y5(t,t.position,"backward")],"deleteWordBackward"),deleteToGroupStart:t=>t.contentWillChange({inputType:"deleteSoftLineBackward"})&&xs(t,[t.anchor,t.offsetOf(t.at(t.position).firstSibling)],"deleteSoftLineBackward"),deleteToGroupEnd:t=>t.contentWillChange({inputType:"deleteSoftLineForward"})&&xs(t,[t.anchor,t.offsetOf(t.at(t.position).lastSibling)],"deleteSoftLineForward"),deleteToMathFieldStart:t=>t.contentWillChange({inputType:"deleteHardLineBackward"})&&xs(t,[t.anchor,0],"deleteHardLineBackward"),deleteToMathFieldEnd:t=>t.contentWillChange({inputType:"deleteHardLineForward"})&&xs(t,[t.anchor,-1],"deleteHardLineForward")},{target:"model",audioFeedback:"delete",canUndo:!0,changeContent:!0,changeSelection:!0});var z0e=`<svg xmlns="http://www.w3.org/2000/svg" style="width: 21px;"  viewBox="0 0 576 512" role="img" aria-label="${ft("tooltip.toggle virtual keyboard")}"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg>`,U0e=`<svg xmlns="http://www.w3.org/2000/svg" style="height: 18px;" viewBox="0 0 448 512" role="img" aria-label="${ft("tooltip.menu")}"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg>`,q0e=class{constructor(t,e){this.focusBlurInProgress=!1,this.connectedToVirtualKeyboard=!1;var i,r,n;this.options=q(Z(q({},d1()),{macros:_6(),registers:DB()}),vg(e)),this.eventController=new AbortController;let s=this.eventController.signal;e.eventSink&&(this.host=e.eventSink),this.element=t,t.mathfield=this,this.blurred=!0,this.keystrokeCaptionVisible=!1,this.suggestionIndex=0,this.inlineShortcutBuffer=[],this.inlineShortcutBufferFlushTimer=0,this.defaultStyle={},this.styleBias="left",this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline"),this.dirty=!1;let a=(r=(i=e.value)!=null?i:this.element.textContent)!=null?r:"";a=a.trim();let o=zC(this.options),l=ts(a,{context:this.context}),u;l.length===1&&l[0].isRoot?u=l[0]:u=new ue({type:"root",mode:o,body:l}),this.model=new O0e(this,o,u),this.undoManager=new xce(this.model);let c=[];if(c.push("<span contenteditable=true role=textbox aria-autocomplete=none aria-multiline=false part=keyboard-sink class=ML__keyboard-sink autocapitalize=off autocomplete=off autocorrect=off spellcheck=false inputmode=none tabindex=0></span>"),c.push('<span part=container class=ML__container  style="visibility:hidden">'),c.push("<span part=content class=ML__content>"),c.push($P(this)),c.push("</span>"),window.mathVirtualKeyboard&&(c.push(`<div part=virtual-keyboard-toggle class=ML__virtual-keyboard-toggle role=button ${this.hasEditableContent?"":'style="display:none;"'} data-l10n-tooltip="tooltip.toggle virtual keyboard">`),c.push(z0e),c.push("</div>")),c.push('<div part=menu-toggle class=ML__menu-toggle role=button data-l10n-tooltip="tooltip.menu">'),c.push(U0e),c.push("</div>"),c.push("</span>"),c.push("<span class=ML__sr-only>"),c.push("<span role=status aria-live=assertive aria-atomic=true></span>"),c.push("</span>"),this.element.innerHTML=globalThis.MathfieldElement.createHTML(c.join("")),!this.element.children){console.error("%cMathLive 0.105.3: Something went wrong and the mathfield could not be created.%c\nIf you are using Vue, this may be because you are using the runtime-only build of Vue. Make sure to include `runtimeCompiler: true` in your Vue configuration. There may a warning from Vue in the log above.","color:red;font-family:system-ui;font-size:1.2rem;font-weight:bold","color:inherit;font-family:system-ui;font-size:inherit;font-weight:inherit");return}this._l10Subscription=Ct.subscribe(()=>Ct.update(this.element)),Ct.update(this.element),this.field=this.element.querySelector("[part=content]"),this.field.addEventListener("click",h=>h.stopImmediatePropagation(),{capture:!1,signal:s}),this.field.addEventListener("wheel",this,{passive:!1,signal:s}),"PointerEvent"in window?this.field.addEventListener("pointerdown",this,{signal:s}):this.field.addEventListener("mousedown",this,{signal:s}),(n=this.element.querySelector("[part=virtual-keyboard-toggle]"))==null||n.addEventListener("click",()=>{window.mathVirtualKeyboard.visible?window.mathVirtualKeyboard.hide():(window.mathVirtualKeyboard.show({animate:!0}),window.mathVirtualKeyboard.update(Vo(this)))},{signal:s}),this.field.addEventListener("contextmenu",this,{signal:s});let d=this.element.querySelector("[part=menu-toggle]");d==null||d.addEventListener("pointerdown",h=>{if(h.currentTarget!==d)return;let f=this.menu;if(f.state!=="closed")return;this.element.classList.add("tracking");let g=d.getBoundingClientRect();f.modifiers=fu(h),f.show({target:d,location:{x:g.left,y:g.bottom},onDismiss:()=>this.element.classList.remove("tracking")}),h.preventDefault(),h.stopPropagation()},{signal:s}),(this.model.atoms.length<=1||this.disabled||this.readOnly&&!this.hasEditableContent||this.userSelect==="none")&&(d.style.display="none"),this.ariaLiveText=this.element.querySelector("[role=status]"),this.keyboardDelegate=kue(this.element.querySelector(".ML__keyboard-sink"),this.element,this),window.addEventListener("resize",this,{signal:s}),document.addEventListener("scroll",this,{signal:s}),this.resizeObserver=new ResizeObserver(h=>{if(this.resizeObserverStarted){this.resizeObserverStarted=!1;return}fi(this)}),this.resizeObserverStarted=!0,this.resizeObserver.observe(this.field),window.mathVirtualKeyboard.addEventListener("virtual-keyboard-toggle",this,{signal:s}),En!=="ready"&&document.fonts.ready.then(()=>gg(this)),t.querySelector("[part=container]").style.removeProperty("visibility"),this.undoManager.startRecording(),this.undoManager.snapshot("set-value"),fi(this)}connectToVirtualKeyboard(){this.connectedToVirtualKeyboard||(this.connectedToVirtualKeyboard=!0,window.addEventListener("message",this,{signal:this.eventController.signal}),window.mathVirtualKeyboard.connect(),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Vo(this)),zm(this))}disconnectFromVirtualKeyboard(){this.connectedToVirtualKeyboard&&(window.removeEventListener("message",this),window.mathVirtualKeyboard.disconnect(),this.connectedToVirtualKeyboard=!1,rv())}showMenu(t){var e,i;let r=(i=(e=t==null?void 0:t.location)!=null?e:o1(this.field))!=null?i:void 0,n=t==null?void 0:t.modifiers,s=this.element.querySelector("[part=container]");return this._menu.show({target:s,location:r,modifiers:n})}get colorMap(){return t=>{var e,i,r;return(r=(i=(e=this.options).colorMap)==null?void 0:i.call(e,t))!=null?r:T2(t)}}get backgroundColorMap(){return t=>{var e,i,r,n,s,a;return(a=(s=(i=(e=this.options).backgroundColorMap)==null?void 0:i.call(e,t))!=null?s:(n=(r=this.options).colorMap)==null?void 0:n.call(r,t))!=null?a:v6(t)}}get smartFence(){var t;return(t=this.options.smartFence)!=null?t:!1}get readOnly(){var t;return(t=this.options.readOnly)!=null?t:!1}get disabled(){var t,e;return(e=(t=this.host)==null?void 0:t.disabled)!=null?e:!1}get contentEditable(){return this.host?this.host.getAttribute("contenteditable")!=="false":!1}get userSelect(){if(!this.host)return"";let t=getComputedStyle(this.host);return t.getPropertyValue("user-select")||t.getPropertyValue("-webkit-user-select")}get hasEditableContent(){return this.disabled||!this.contentEditable?!1:!this.readOnly||this.hasEditablePrompts}get hasEditablePrompts(){return this.readOnly&&!this.disabled&&this.contentEditable&&this.model.findAtom(t=>t.type==="prompt"&&!t.locked)!==void 0}get isSelectionEditable(){if(this.disabled||!this.contentEditable)return!1;if(!this.readOnly)return!0;let t=this.model.at(this.model.anchor),e=this.model.at(this.model.position),i=ue.commonAncestor(t,e);return!!((i==null?void 0:i.type)==="prompt"||i!=null&&i.parentPrompt)}get letterShapeStyle(){var t;return(t=this.options.letterShapeStyle)!=null?t:"tex"}get minFontScale(){return this.options.minFontScale}get maxMatrixCols(){return this.options.maxMatrixCols}queryStyle(t){let e=K5(this,t);"verbatimColor"in e&&delete e.verbatimColor,"verbatimBackgroundColor"in e&&delete e.verbatimBackgroundColor;let i=Object.keys(e).length;if(i===0)return"all";if(i>1){for(let l of Object.keys(e)){let u=this.queryStyle({[l]:e[l]});if(u==="none")return"none";if(u==="some")return"some"}return"all"}let r=Object.keys(e)[0],n=e[r];if(this.model.selectionIsCollapsed)return E0(this)[r]===n?"all":"none";let s=this.model.getAtoms(this.model.selection,{includeChildren:!0}),a=s.length;if(a===0)return"none";let o=0;for(let l of s){if(l.type==="first"){a-=1;continue}l.style[r]===n&&(o+=1)}return o===0?"none":o===a?"all":"some"}get keybindings(){var t,e;if(this._keybindings)return this._keybindings;let[i,r]=Due(this.options.keybindings,(t=tp())!=null?t:wue());return((e=tp())==null?void 0:e.score)>0&&(this._keybindings=i,r.length>0&&console.error("MathLive 0.105.3: Invalid keybindings for current keyboard layout",r)),i}get menu(){return this._menu!=null||(this._menu=new tk(M0e(this),{host:this.host})),this._menu}set menuItems(t){this._menu?this._menu.menuItems=t:this._menu=new tk(t,{host:this.host})}setOptions(t){var e;this.options=q(q({},this.options),vg(t)),this._keybindings=void 0,this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline");let i=this.options.defaultMode;i==="inline-math"&&(i="math"),((e=this.model.root.firstChild)==null?void 0:e.mode)!==i&&(this.model.root.firstChild.mode=i),this.options.readOnly&&this.hasFocus()&&window.mathVirtualKeyboard.visible&&this.executeCommand("hideVirtualKeyboard");let r=ue.serialize([this.model.root],{expandMacro:!1,defaultMode:this.options.defaultMode});("macros"in t||this.model.getValue()!==r)&&zP(this),("value"in t||"registers"in t||"colorMap"in t||"backgroundColorMap"in t||"letterShapeStyle"in t||"minFontScale"in t||"maxMatrixCols"in t||"readOnly"in t||"placeholderContent"in t||"placeholderSymbol"in t)&&fi(this)}getOptions(t){return uu(this.options,t)}getOption(t){return uu(this.options,t)}async handleEvent(t){var e;if(Oa(this)){if(O6(t)){if(!T6(t.origin,(e=this.options.originValidator)!=null?e:"none"))throw new DOMException(`Message from unknown origin (${t.origin}) cannot be handled`,"SecurityError");let{action:i}=t.data;if(i==="execute-command"){let r=ip(t.data.command);if(!r||n0(r)==="virtual-keyboard")return;this.executeCommand(r)}else i==="update-state"||(i==="focus"?this.focus({preventScroll:!0}):i==="blur"&&this.blur());return}switch(t.type){case"focus":this.onFocus();break;case"blur":this.onBlur();break;case"mousedown":this.userSelect!=="none"&&KC(this,t);break;case"pointerdown":!t.defaultPrevented&&this.userSelect!=="none"&&(KC(this,t),t.shiftKey===!1&&await ik(t,this.element.querySelector("[part=container]"),this.menu)&&xg.stop());break;case"contextmenu":this.userSelect!=="none"&&t.shiftKey===!1&&await ik(t,this.element.querySelector("[part=container]"),this.menu)&&xg.stop();break;case"virtual-keyboard-toggle":this.hasFocus()&&zm(this),this.hasFocus()&&(this.keyboardDelegate.blur(),this.keyboardDelegate.focus());break;case"resize":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>Oa(this)&&this.onGeometryChange());break;case"scroll":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>Oa(this)&&this.onGeometryChange());break;case"wheel":this.onWheel(t);break;case"message":break;default:console.warn("Unexpected event type",t.type)}}}dispose(){if(!Oa(this))return;Ct.unsubscribe(this._l10Subscription),this.keyboardDelegate.dispose(),this.keyboardDelegate=void 0,this.eventController.abort(),this.eventController=void 0,this.resizeObserver.disconnect(),window.mathVirtualKeyboard.removeEventListener("virtual-keyboard-toggle",this),this.disconnectFromVirtualKeyboard(),this.model.dispose();let t=this.element;delete t.mathfield,this.element=void 0,this.host=void 0,this.field=void 0,this.ariaLiveText=void 0,Lce(),Oue(),Zce()}flushInlineShortcutBuffer(t){if(t!=null||(t={defer:!1}),!t.defer){this.inlineShortcutBuffer=[],clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=0;return}this.options.inlineShortcutTimeout>0&&(clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=setTimeout(()=>this.flushInlineShortcutBuffer(),this.options.inlineShortcutTimeout))}executeCommand(t){return n0(t)==="virtual-keyboard"?(this.focus({preventScroll:!0}),window.mathVirtualKeyboard.executeCommand(t),requestAnimationFrame(()=>window.mathVirtualKeyboard.update(Vo(this))),!1):jue(this,t)}get errors(){return zle(this.model.getValue(),{context:this.context})}getValue(t,e,i){return this.model.getValue(t,e,i)}setValue(t,e){var i;e=e??{mode:"math"},e.insertionMode===void 0&&(e.insertionMode="replaceAll"),(e.format===void 0||e.format==="auto")&&(e.format="latex"),(e.mode===void 0||e.mode==="auto")&&(e.mode=(i=tle(this.model,this.model.position))!=null?i:"math");let r=this.undoManager.canUndo();Qt.insert(this.model,t,e)&&(fi(this),r||this.undoManager.reset(),this.undoManager.snapshot("set-value"))}get expression(){let t=globalThis.MathfieldElement.computeEngine;return t?t.box(t.parse(this.model.getValue("latex-unstyled"))):(console.error("MathLive 0.105.3:  no compute engine available. Make sure the Compute Engine library is loaded."),null)}scrollIntoView(){var t;if(!this.element)return;if(this.host){if(this.options.onScrollIntoView)this.options.onScrollIntoView(this);else if(this.host.scrollIntoView({block:"nearest",inline:"nearest"}),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.container===window.document.body){let r=window.mathVirtualKeyboard.boundingRect,n=this.host.getBoundingClientRect();n.bottom>r.top&&((t=window.document.scrollingElement)==null||t.scrollBy(0,n.bottom-r.top+8))}}this.dirty&&Eu(this,{interactive:!0});let e=this.field.getBoundingClientRect(),i=null;if(this.model.selectionIsCollapsed)i=o1(this.field);else{let r=$B(this);if(r.length>0){let n=-1/0,s=-1/0;for(let a of r)a.right>n&&(n=a.right),a.top<s&&(s=a.top);i={x:n+e.left-this.field.scrollLeft,y:s+e.top-this.field.scrollTop,height:0}}}if(this.host&&i){let r=this.host.getBoundingClientRect(),n=i.y,s=this.host.scrollTop;n<r.top?s=n-r.top+this.host.scrollTop:n>r.bottom&&(s=n-r.bottom+this.host.scrollTop+i.height),this.host.scroll({top:s,left:0})}if(i){let r=i.x-window.scrollX,n=this.field.scrollLeft;r<e.left?n=r-e.left+this.field.scrollLeft-20:r>e.right&&(n=r-e.right+this.field.scrollLeft+20),this.field.scroll({top:this.field.scrollTop,left:n})}}insert(t,e){if(typeof t!="string"||t.length===0&&((e==null?void 0:e.insertionMode)==="insertBefore"||(e==null?void 0:e.insertionMode)==="insertAfter")||t.length===0&&this.model.selectionIsCollapsed)return!1;if(this.flushInlineShortcutBuffer(),e=e??{mode:"math"},e.focus&&this.focus(),e.feedback&&(globalThis.MathfieldElement.keypressVibration&&gB()&&navigator.vibrate(UP),globalThis.MathfieldElement.playSound("keypress")),t==="\\\\")KP(this.model);else if(t==="&")WP(this.model);else if(this.model.selectionIsCollapsed){let i=q({},E0(this));!/^[a-zA-Z0-9]$/.test(t)&&this.styleBias!=="none"&&(i.variant="normal",i.variantStyle=void 0),Qt.insert(this.model,t,q({style:i},e))}else Qt.insert(this.model,t,e);return this.snapshot(`insert-${this.model.at(this.model.position).type}`),fi(this),e.scrollIntoView&&this.scrollIntoView(),!0}switchMode(t,e="",i=""){if(this.model.mode===t||!this.hasEditableContent||!this.contentEditable||this.disabled)return;let{model:r}=this,n=r.mode;if(r.mode=t,this.host&&!this.host.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))){r.mode=n;return}r.mode=n,r.deferNotifications({content:!!i||!!e,selection:!0,type:"insertText"},()=>{let s=r.at(r.position),a=(c,d)=>{if(!c)return;let h=r.mode==="math"?ts(z5(c,{format:"ascii-math"})[1],{context:this.context}):[...c].map(f=>new Y0(f,f,{}));if(d.select){let f=s.parent.addChildrenAfter(h,s);r.setSelection(r.offsetOf(h[0].leftSibling),r.offsetOf(f))}else r.position=r.offsetOf(s.parent.addChildrenAfter(h,s));u=!0},o=(c,d)=>{let h=new Ch(c);s.parent.addChildAfter(h,s),d.select?r.setSelection(r.offsetOf(h.firstChild),r.offsetOf(h.lastChild)):r.position=r.offsetOf(h.lastChild),u=!0},l=()=>{let c=t==="latex"?"latex":t==="math"?"plain-text":"ascii-math",d=Cr(r.selection),h=this.model.getValue(d,c),f=this.model.extractAtoms(d);return f.length===1&&f[0].type==="placeholder"&&(h=i),s=r.at(d[0]),h},u=!1;if(this.flushInlineShortcutBuffer(),this.stopCoalescingUndo(),A0(this,"accept"),r.selectionIsCollapsed)a(e,{select:!1}),r.mode=t,t==="latex"?o(i,{select:!1}):a(i,{select:!1});else{let c=l();r.mode=t,t==="latex"?o(c,{select:!0}):a(c,{select:!0})}return fi(this),this.undoManager.snapshot(t==="latex"?"insert-latex":"insert"),u}),r.mode=t,window.mathVirtualKeyboard.update(Vo(this))}hasFocus(){return!this.blurred}focus(t){var e;this.focusBlurInProgress||(this.hasFocus()||(this.onFocus(),this.model.announce("line")),(e=t==null?void 0:t.preventScroll)!=null&&e||this.scrollIntoView())}blur(){this.disconnectFromVirtualKeyboard(),this.hasFocus()&&this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]},this.focus()}applyStyle(t,e={}){var i;let r,n="set",s=!1;ug(e)?r=e:(e.operation==="toggle"&&(n="toggle"),r=e.range,s=(i=e.silenceNotifications)!=null?i:!1),r&&(r=this.model.normalizeRange(r)),r&&r[0]===r[1]&&(r=void 0);let a=K5(this,t);if(r===void 0&&this.model.selectionIsCollapsed){if(n==="set"){let l=q({},this.defaultStyle);"color"in a&&delete l.verbatimColor,"backgroundColor"in a&&delete l.verbatimBackgroundColor,this.defaultStyle=q(q({},l),a),this.styleBias="none";return}let o=q({},this.defaultStyle);for(let l of Object.keys(a))o[l]===a[l]?(l==="color"&&delete o.verbatimColor,l==="backgroundColor"&&delete o.verbatimBackgroundColor,delete o[l]):o[l]=a[l];this.defaultStyle=o,this.styleBias="none";return}this.model.deferNotifications({content:!s,type:"insertText"},()=>{if(r===void 0)for(let o of this.model.selection.ranges)q5(this.model,o,a,{operation:n});else q5(this.model,r,a,{operation:n})}),fi(this)}toggleContextMenu(){var t;let e=this.menu;if(!e.visible)return!1;if(e.state==="open")return e.hide(),!0;let i=(t=UB(this,this.model.position))==null?void 0:t.bounds;if(!i)return!1;let r={x:i.right,y:i.bottom};return e.show({target:this.element.querySelector("[part=container]"),location:r,onDismiss:()=>{var n;return(n=this.element)==null?void 0:n.focus()}}),!0}getPrompt(t){return this.model.findAtom(i=>i.type==="prompt"&&i.placeholderId===t)}getPromptValue(t,e){let i=this.getPrompt(t);if(!i)return"";let r=this.model.offsetOf(i.firstChild),n=this.model.offsetOf(i.lastChild);return this.model.getValue(r,n,e)}getPrompts(t){return this.model.atoms.filter(e=>e.type!=="prompt"?!1:t?!(t.id&&e.placeholderId!==t.id||t.locked&&e.locked!==t.locked||t.correctness==="undefined"&&e.correctness||t.correctness&&e.correctness!==t.correctness):!0).map(e=>e.placeholderId)}setPromptValue(t,e,i){if(e!==void 0){let r=this.getPrompt(t);if(!r){console.error(`MathLive 0.105.3: unknown prompt ${t}`);return}let n=this.model.getBranchRange(this.model.offsetOf(r),"body");this.model.setSelection(n),this.insert(e,Z(q({},i),{insertionMode:"replaceSelection"}))}i!=null&&i.silenceNotifications&&(this.valueOnFocus=this.getValue()),fi(this)}setPromptState(t,e,i){let r=this.getPrompt(t);if(!r){console.error(`MathLive 0.105.3: unknown prompt ${t}`);return}e==="undefined"?r.correctness=void 0:typeof e=="string"&&(r.correctness=e),typeof i=="boolean"&&(r.locked=i,r.captureSelection=i),fi(this)}getPromptState(t){let e=this.getPrompt(t);return e?[e.correctness,e.locked]:(console.error(`MathLive 0.105.3: unknown prompt ${t}`),[void 0,!0])}getPromptRange(t){let e=this.getPrompt(t);return e?this.model.getBranchRange(this.model.offsetOf(e),"body"):(console.error(`MathLive 0.105.3: unknown prompt ${t}`),[0,0])}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop(),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Vo(this))}snapshot(t){var e;this.undoManager.snapshot(t)&&(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Vo(this)),(e=this.host)==null||e.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}stopCoalescingUndo(){this.undoManager.stopCoalescing(this.model.selection)}stopRecording(){this.undoManager.stopRecording()}startRecording(){this.undoManager.startRecording()}undo(){var t;this.undoManager.undo()&&((t=this.host)==null||t.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}redo(){var t;this.undoManager.redo()&&((t=this.host)==null||t.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"redo"}})))}resetUndo(){var t;(t=this.undoManager)==null||t.reset()}onSelectionDidChange(){var t,e;let i=this.model;if(this.keyboardDelegate.setValue(i.getValue(i.selection,"latex-expanded")),i.selectionIsCollapsed){let r=B6(i),n=i.position,s=i.at(n),a=(t=s.mode)!=null?t:zC(this.options);if(r&&(n<i.offsetOf(r.firstChild)-1||n>i.offsetOf(r.lastChild)+1))A0(this,"accept",{mode:a}),i.position=i.offsetOf(s);else{let o=i.at(n+1);(o==null?void 0:o.type)==="first"&&o.mode==="latex"?i.position=n+1:r&&(o==null?void 0:o.mode)!=="latex"?i.position=n-1:this.switchMode(a)}}(e=this.host)==null||e.dispatchEvent(new Event("selection-change",{bubbles:!0,composed:!0})),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Vo(this)),zm(this)}onContentWillChange(t){var e,i,r;return(r=(i=this.host)==null?void 0:i.dispatchEvent(new InputEvent("beforeinput",Z(q({},t),{data:t.data?t.data:(e=t.inputType)!=null?e:"",cancelable:!0,bubbles:!0,composed:!0}))))!=null?r:!0}onFocus(){this.focusBlurInProgress||!this.blurred||(this.focusBlurInProgress=!0,this.blurred=!1,this.stopCoalescingUndo(),this.valueOnFocus=this.model.getValue(),this.hasEditablePrompts&&!this.model.at(this.model.anchor).parentPrompt&&this.executeCommand("moveToNextPlaceholder"),Eu(this,{interactive:!0}),setTimeout(()=>{var t;if(!Oa(this))return;let e=new AbortController,i=e.signal;for(let r of["focus","blur","focusin","focusout"])(t=this.host)==null||t.addEventListener(r,n=>{n.preventDefault(),n.stopPropagation()},{once:!0,capture:!0,signal:i});this.keyboardDelegate.blur(),this.keyboardDelegate.focus(),this.connectToVirtualKeyboard(),this.focusBlurInProgress=!1,e.abort()},60))}onBlur(){var t,e,i;if(!(this.focusBlurInProgress||this.blurred)&&(this.focusBlurInProgress=!0,this.stopCoalescingUndo(),this.blurred=!0,this.ariaLiveText.textContent="",M0(this),this.model.getValue()!==this.valueOnFocus&&((t=this.host)==null||t.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),this.disconnectFromVirtualKeyboard(),(e=this.host)==null||e.dispatchEvent(new Event("blur",{bubbles:!1,composed:!0})),(i=this.host)==null||i.dispatchEvent(new UIEvent("focusout",{bubbles:!0,composed:!0})),fi(this),this.focusBlurInProgress=!1,rv(),$6.restoreFocusWhenDocumentFocused)){let r=new AbortController,n=r.signal;window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{Oa(this)&&this.focus({preventScroll:!0})},{once:!0,signal:n})},{once:!0,signal:n}),document.addEventListener("focusin",()=>r.abort(),{once:!0}),document.addEventListener("click",()=>r.abort(),{once:!0})}}onInput(t){J5(this,t)}onKeystroke(t){return tI(this,t)}onCompositionStart(t){xs(this.model,Cr(this.model.selection),"insertText");let e=o1(this.field);e&&requestAnimationFrame(()=>{Eu(this),this.keyboardDelegate.moveTo(e.x,e.y-e.height)})}onCompositionUpdate(t){dce(this.model,t),fi(this)}onCompositionEnd(t){hce(this.model),J5(this,t,{simulateKeystroke:!0})}onCut(t){if(!this.isSelectionEditable){this.model.announce("plonk");return}this.model.contentWillChange({inputType:"deleteByCut"})&&(this.stopCoalescingUndo(),t.clipboardData?Qt.onCopy(this,t):Qt.copyToClipboard(this,"latex"),xs(this.model,Cr(this.model.selection),"deleteByCut"),this.snapshot("cut"),fi(this))}onCopy(t){t.clipboardData?Qt.onCopy(this,t):Qt.copyToClipboard(this,"latex")}onPaste(t){let e=this.isSelectionEditable;return e&&(e=Qt.onPaste(this.model.at(this.model.position).mode,this,t.clipboardData)),e||this.model.announce("plonk"),t.preventDefault(),t.stopPropagation(),e}onGeometryChange(){var t;(t=this._menu)==null||t.hide(),N2(this),zm(this)}onWheel(t){let e=5*t.deltaX;if(!Number.isFinite(e)||e===0)return;let i=this.field;e<0&&i.scrollLeft===0||e>0&&i.offsetWidth+i.scrollLeft>=i.scrollWidth||(i.scrollBy({top:0,left:e}),t.preventDefault(),t.stopPropagation())}getHTMLElement(t){let e=t;for(;!e.id&&e.hasChildren;)e=t.children[0];return this.field.querySelector(`[data-atom-id="${e.id}"]`)}get context(){var t,e;return{registers:(t=this.options.registers)!=null?t:{},smartFence:this.smartFence,letterShapeStyle:this.letterShapeStyle,minFontScale:this.minFontScale,maxMatrixCols:this.maxMatrixCols,placeholderSymbol:(e=this.options.placeholderSymbol)!=null?e:"▢",colorMap:i=>this.colorMap(i),backgroundColorMap:i=>this.backgroundColorMap(i),getMacro:i=>wB(i,this.options.macros),atomIdsSettings:{seed:"random",groupNumbers:!1}}}};nn({speak:(t,e,i)=>j0e(t,e,i)},{target:"mathfield"});function j0e(t,e,i){var r;i=i??{withHighlighting:!1};let{model:n}=t;function s(c){let d=null;switch(c){case"all":d=n.root;break;case"selection":d=n.getAtoms(n.selection);break;case"left":{d=n.getAtoms(n.offsetOf(n.at(n.position).leftSibling),n.position);break}case"right":{d=n.getAtoms(n.position,n.offsetOf(n.at(n.position).rightSibling));break}case"group":d=n.getAtoms(n.getSiblingsRange(n.position));break;case"parent":{let{parent:h}=n.at(n.position);h!=null&&h.parent?d=h:d=n.root;break}default:d=n.root}return d}function a(c){let d="";switch(c){case"all":console.error("Internal failure: speak all failed");break;case"selection":d="no selection";break;case"left":d="at start";break;case"right":d="at end";break;case"group":console.error("Internal failure: speak group failed");break;case"parent":d="no parent";break;default:console.error('unknown speak_ param value: "'+c+'"');break}return d}let o=globalThis.MathfieldElement,l=s(e);if(l===null)return(r=o.speakHook)==null||r.call(o,a(e)),!1;(i.withHighlighting||o.speechEngine==="amazon")&&(o.textToSpeechMarkup=globalThis.sre&&o.textToSpeechRules==="sre"?"ssml_step":"ssml");let u=o0(l);return os()&&i.withHighlighting?(Ko().readAloudMathfield=t,Eu(t,{forHighlighting:!0}),o.readAloudHook&&o.readAloudHook(t.field,u)):o.speakHook&&o.speakHook(u),!1}function V0e(t){var e,i;if(!os())return;let r=globalThis.MathfieldElement;if(!r.speechEngine||r.speechEngine==="local"){let n=new SpeechSynthesisUtterance(t);globalThis.speechSynthesis.speak(n)}else if(r.speechEngine==="amazon")if(!("AWS"in window))console.error("MathLive 0.105.3: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");else{let n=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),s={OutputFormat:"mp3",VoiceId:(e=r.speechEngineVoice)!=null?e:"Joanna",Engine:["Amy","Emma","Brian","Ivy","Joanna","Kendra","Kimberly","Salli","Joey","Justin","Matthew"].includes((i=r.speechEngineVoice)!=null?i:"Joanna")?"neural":"standard",Text:t,TextType:"ssml"};n.synthesizeSpeech(s,(a,o)=>{if(a)console.trace(`MathLive 0.105.3: \`polly.synthesizeSpeech()\` error: ${a}`);else if(o!=null&&o.AudioStream){let l=new Uint8Array(o.AudioStream),u=new Blob([l.buffer],{type:"audio/mpeg"}),c=URL.createObjectURL(u);new Audio(c).play().catch(d=>console.error(d))}})}else r.speechEngine==="google"&&console.error("MathLive 0.105.3: The Google speech engine is not supported yet. Please come again.")}function mI(t){if(t&&(t.classList.remove("ML__highlight"),t.children))for(let e of t.children)mI(e)}function cv(t,e){var i;t&&(!e||((i=t.dataset)==null?void 0:i.atomId)===e?(t.classList.add("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(r=>{r instanceof HTMLElement&&cv(r)})):(t.classList.remove("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach(r=>{r instanceof HTMLElement&&cv(r,e)})))}function H0e(t,e){var i;if(!os())return;if(globalThis.MathfieldElement.speechEngine!=="amazon"){console.error("MathLive 0.105.3: Use Amazon TTS Engine for synchronized highlighting"),typeof globalThis.MathfieldElement.speakHook=="function"&&globalThis.MathfieldElement.speakHook(e);return}if(!globalThis.AWS){console.error("MathLive 0.105.3: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");return}let r=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),n={OutputFormat:"json",VoiceId:(i=globalThis.MathfieldElement.speechEngineVoice)!=null?i:"Joanna",Engine:"standard",Text:e,TextType:"ssml",SpeechMarkTypes:["ssml"]};Ko().readAloudElement=t,r.synthesizeSpeech(n,(s,a)=>{if(s){console.trace(`MathLive 0.105.3: \`polly.synthesizeSpeech()\` error: ${s}`);return}if(!(a!=null&&a.AudioStream))return;let o=new TextDecoder("utf-8").decode(new Uint8Array(a.AudioStream));Ko().readAloudMarks=o.split(`
`).map(l=>l?JSON.parse(l):{}),Ko().readAloudTokens=[];for(let l of Ko().readAloudMarks)l.value&&Ko().readAloudTokens.push(l.value);Ko().readAloudCurrentMark="",n.OutputFormat="mp3",n.SpeechMarkTypes=[],r.synthesizeSpeech(n,(l,u)=>{if(l){console.trace(`MathLive 0.105.3: \`polly.synthesizeSpeech("${e}") error:${l}`);return}if(!(u!=null&&u.AudioStream))return;let c=new Uint8Array(u.AudioStream),d=new Blob([c.buffer],{type:"audio/mpeg"}),h=URL.createObjectURL(d),f=Ko();f.readAloudAudio?f.readAloudAudio.pause():(f.readAloudAudio=new Audio,f.readAloudAudio.addEventListener("ended",()=>{let g=f.readAloudMathfield;f.readAloudStatus="ended",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),g?(Eu(g),f.readAloudElement=null,f.readAloudMathfield=null,f.readAloudTokens=[],f.readAloudMarks=[],f.readAloudCurrentMark=""):mI(f.readAloudElement)}),f.readAloudAudio.addEventListener("timeupdate",()=>{let g="",y=f.readAloudAudio.currentTime*1e3+100;for(let C of f.readAloudMarks)C.time<y&&(g=C.value);f.readAloudCurrentMark!==g&&(f.readAloudCurrentToken=g,g&&g===f.readAloudFinalToken?f.readAloudAudio.pause():(f.readAloudCurrentMark=g,cv(f.readAloudElement,f.readAloudCurrentMark)))})),f.readAloudAudio.src=h,f.readAloudStatus="playing",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),f.readAloudAudio.play()})})}os()||console.error('MathLive 0.105.3: this version of the MathLive library is for use in the browser. A subset of the API is available on the server side in the "mathlive-ssr" library. If using server side rendering (with React for example) you may want to do a dynamic import of the MathLive library inside a `useEffect()` call.');var Ht=new WeakMap,K0e=.5,Uo={letterShapeStyle:"mf.letterShapeStyle = ...",horizontalSpacingScale:'Removed. Use `"thinmuskip"`, `"medmuskip"`, and `"thickmuskip"` registers ',macros:"mf.macros = ...",registers:"mf.registers = ...",backgroundColorMap:"mf.backgroundColorMap = ...",colorMap:"mf.colorMap = ...",enablePopover:"mf.popoverPolicy = ...",mathModeSpace:"mf.mathModeSpace = ...",placeholderSymbol:"mf.placeholderSymbol = ...",readOnly:"mf.readOnly = ...",removeExtraneousParentheses:"mf.removeExtraneousParentheses = ...",scriptDepth:"mf.scriptDepth = ...",smartFence:"mf.smartFence = ...",smartMode:"mf.smartMode = ...",smartSuperscript:"mf.smartSuperscript = ...",inlineShortcutTimeout:"mf.inlineShortcutTimeout = ...",inlineShortcuts:"mf.inlineShortcuts = ...",keybindings:"mf.keybindings = ...",virtualKeyboardMode:"mf.mathVirtualKeyboardPolicy = ...",customVirtualKeyboardLayers:"mathVirtualKeyboard.layers = ...",customVirtualKeyboards:"mathVirtualKeyboard.layouts = ...",keypressSound:"mathVirtualKeyboard.keypressSound = ...",keypressVibration:"mathVirtualKeyboard.keypressVibration = ...",plonkSound:"mathVirtualKeyboard.plonkSound = ...",virtualKeyboardContainer:"mathVirtualKeyboard.container = ...",virtualKeyboardLayout:"mathVirtualKeyboard.alphabeticLayout = ...",virtualKeyboardTheme:"No longer supported",virtualKeyboardToggleGlyph:"No longer supported",virtualKeyboardToolbar:"mathVirtualKeyboard.editToolbar = ...",virtualKeyboards:"Use `mathVirtualKeyboard.layouts`",speechEngine:"`MathfieldElement.speechEngine`",speechEngineRate:"`MathfieldElement.speechEngineRate`",speechEngineVoice:"`MathfieldElement.speechEngineVoice`",textToSpeechMarkup:"`MathfieldElement.textToSpeechMarkup`",textToSpeechRules:"`MathfieldElement.textToSpeechRules`",textToSpeechRulesOptions:"`MathfieldElement.textToSpeechRulesOptions`",readAloudHook:"`MathfieldElement.readAloudHook`",speakHook:"`MathfieldElement.speakHook`",computeEngine:"`MathfieldElement.computeEngine`",fontsDirectory:"`MathfieldElement.fontsDirectory`",soundsDirectory:"`MathfieldElement.soundsDirectory`",createHTML:"`MathfieldElement.createHTML`",onExport:"`mf.onExport`",onInlineShortcut:"`mf.onInlineShortcut`",onScrollIntoView:"`mf.onScrollIntoView`",locale:"MathfieldElement.locale = ...",strings:"MathfieldElement.strings = ...",decimalSeparator:"MathfieldElement.decimalSeparator = ...",fractionNavigationOrder:"MathfieldElement.fractionNavigationOrder = ..."},Ri=class Ho extends HTMLElement{constructor(e){if(super(),this._observer=null,e){let i=[];for(let r of Object.keys(e))if(Uo[r])if(Uo[r].startsWith("mf."))if(Uo[r].startsWith(`mf.${r}`))i.push(`Option \`${r}\` cannot be used as a constructor option. Use ${Uo[r]}`);else{let n=Uo[r].match(/([a-zA-Z]+) =/);i.push(`Option \`${r}\` has been renamed \`${n[1]}\``)}else i.push(`Option \`${r}\` cannot be used as a constructor option. Use ${Uo[r]}`);if(i.length>0){console.group("%cMathLive 0.105.3: %cInvalid Options","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn("Some of the options passed to `new MathfieldElement(...)` are invalid. \n          See mathfield/changelog/ for details.");for(let r of i)console.warn(r);console.groupEnd()}}if(kc()&&(this._internals=this.attachInternals(),this._internals.role="math",this._internals.ariaLabel="math input field",this._internals.ariaMultiLine="false"),this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot&&"adoptedStyleSheets"in this.shadowRoot){this.shadowRoot.adoptedStyleSheets=[Ac("core"),Ac("mathfield"),Ac("mathfield-element"),Ac("ui"),Ac("menu")],this.shadowRoot.appendChild(document.createElement("span"));let i=document.createElement("slot");i.style.display="none",this.shadowRoot.appendChild(i)}else this.shadowRoot.innerHTML="<style>"+lu("core")+lu("mathfield")+lu("mathfield-element")+lu("ui")+lu("menu")+'</style><span></span><slot style="display:none"></slot>';e&&this._setOptions(e)}static get formAssociated(){return kc()}static get optionsAttributes(){return{"default-mode":"string","letter-shape-style":"string","min-font-scale":"number","max-matrix-cols":"number","popover-policy":"string","math-mode-space":"string","read-only":"boolean","remove-extraneous-parentheses":"on/off","smart-fence":"on/off","smart-mode":"on/off","smart-superscript":"on/off","inline-shortcut-timeout":"string","script-depth":"string",placeholder:"string","virtual-keyboard-target-origin":"string","math-virtual-keyboard-policy":"string"}}static get observedAttributes(){return[...Object.keys(this.optionsAttributes),"contenteditable","disabled","readonly","read-only"]}static get fontsDirectory(){return this._fontsDirectory}static set fontsDirectory(e){e!==this._fontsDirectory&&(this._fontsDirectory=e,$ue())}get fontsDirectory(){throw new Error("Use MathfieldElement.fontsDirectory instead")}set fontsDirectory(e){throw new Error("Use MathfieldElement.fontsDirectory instead")}static get soundsDirectory(){return this._soundsDirectory}static set soundsDirectory(e){this._soundsDirectory=e,this.audioBuffers={}}get soundsDirectory(){throw new Error("Use MathfieldElement.soundsDirectory instead")}set soundsDirectory(e){throw new Error("Use MathfieldElement.soundsDirectory instead")}static get keypressSound(){return this._keypressSound}static set keypressSound(e){var i,r,n;this.audioBuffers={},e===null?this._keypressSound={spacebar:null,return:null,delete:null,default:null}:typeof e=="string"?this._keypressSound={spacebar:e,return:e,delete:e,default:e}:typeof e=="object"&&"default"in e&&(this._keypressSound={spacebar:(i=e.spacebar)!=null?i:e.default,return:(r=e.return)!=null?r:e.default,delete:(n=e.delete)!=null?n:e.default,default:e.default})}static get plonkSound(){return this._plonkSound}static set plonkSound(e){this.audioBuffers={},this._plonkSound=e}static get audioContext(){return this._audioContext||(this._audioContext=new AudioContext),this._audioContext}static get speechEngine(){return this._speechEngine}static set speechEngine(e){this._speechEngine=e}static get speechEngineRate(){return this._speechEngineRate}static set speechEngineRate(e){this._speechEngineRate=e}static get speechEngineVoice(){return this._speechEngineVoice}static set speechEngineVoice(e){this._speechEngineVoice=e}static get textToSpeechMarkup(){return this._textToSpeechMarkup}static set textToSpeechMarkup(e){this._textToSpeechMarkup=e}static get textToSpeechRules(){return this._textToSpeechRules}static set textToSpeechRules(e){this._textToSpeechRules=e}static get textToSpeechRulesOptions(){return this._textToSpeechRulesOptions}static set textToSpeechRulesOptions(e){this._textToSpeechRulesOptions=e}static get locale(){return Ct.locale}static set locale(e){e==="auto"&&(e=navigator.language.slice(0,5)),Ct.locale=e}get locale(){throw new Error("Use MathfieldElement.locale instead")}set locale(e){throw new Error("Use MathfieldElement.locale instead")}static get strings(){return Ct.strings}static set strings(e){Ct.merge(e)}get strings(){throw new Error("Use MathfieldElement.strings instead")}set strings(e){throw new Error("Use MathfieldElement.strings instead")}static get decimalSeparator(){return this._decimalSeparator}static set decimalSeparator(e){this._decimalSeparator=e,this._computeEngine&&(this._computeEngine.decimalSeparator=this.decimalSeparator===","?"{,}":".")}get decimalSeparator(){throw new Error("Use MathfieldElement.decimalSeparator instead")}set decimalSeparator(e){throw new Error("Use MathfieldElement.decimalSeparator instead")}static get fractionNavigationOrder(){return l1.fractionNavigationOrder}static set fractionNavigationOrder(e){if(e!=="numerator-denominator"&&e!=="denominator-numerator")throw new Error("Invalid value");l1.fractionNavigationOrder!==e&&(l1.fractionNavigationOrder=e,FC())}static get computeEngine(){var e,i;if(this._computeEngine===void 0){let r=(e=window[Symbol.for("io.cortexjs.compute-engine")])==null?void 0:e.ComputeEngine;if(!r)return null;this._computeEngine=new r,this._computeEngine&&this.decimalSeparator===","&&(this._computeEngine.decimalSeparator="{,}")}return(i=this._computeEngine)!=null?i:null}static set computeEngine(e){this._computeEngine=e}get computeEngine(){throw new Error("Use MathfieldElement.computeEngine instead")}set computeEngine(e){throw new Error("Use MathfieldElement.computeEngine instead")}static get isFunction(){return typeof this._isFunction!="function"?()=>!1:this._isFunction}static set isFunction(e){this._isFunction=e,FC()}static async loadSound(e){delete this.audioBuffers[e];let i="";switch(e){case"keypress":i=this._keypressSound.default;break;case"return":i=this._keypressSound.return;break;case"spacebar":i=this._keypressSound.spacebar;break;case"delete":i=this._keypressSound.delete;break;case"plonk":i=this.plonkSound;break}if(typeof i!="string")return;i=i.trim();let r=this.soundsDirectory;if(!(r==null||r==="null"||i==="none"||i==="null"))try{let n=await(await fetch(await NP(`${r}/${i}`))).arrayBuffer(),s=await this.audioContext.decodeAudioData(n);this.audioBuffers[e]=s}catch{}}static async playSound(e){if((this.audioContext.state==="suspended"||this.audioContext.state==="interrupted")&&await this.audioContext.resume(),this.audioBuffers[e]||await this.loadSound(e),!this.audioBuffers[e])return;let i=this.audioContext.createBufferSource();i.buffer=this.audioBuffers[e];let r=this.audioContext.createGain();r.gain.value=K0e,i.connect(r).connect(this.audioContext.destination),i.start()}showMenu(e){var i,r;return(r=(i=this._mathfield)==null?void 0:i.showMenu(e))!=null?r:!1}get mathVirtualKeyboard(){throw new Error("The `mathVirtualKeyboard` property is not available on the MathfieldElement. Use `window.mathVirtualKeyboard` instead.")}onPointerDown(){window.addEventListener("pointerup",e=>{let i=this._mathfield;if(i&&e.target===this&&!i.disabled){this.dispatchEvent(new MouseEvent("click",{altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,movementX:e.movementX,movementY:e.movementY,relatedTarget:e.relatedTarget,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey}));let r=this.getOffsetFromPoint(e.clientX,e.clientY);r>=0&&Ho.openUrl(ple(i,r)),e.pointerType==="touch"&&this.selectionIsCollapsed&&(this.position=r)}},{once:!0})}getPromptValue(e,i){var r,n;return(n=(r=this._mathfield)==null?void 0:r.getPromptValue(e,i))!=null?n:""}setPromptValue(e,i,r){var n;(n=this._mathfield)==null||n.setPromptValue(e,i,r)}getPromptRange(e){var i,r;return(r=(i=this._mathfield)==null?void 0:i.getPromptRange(e))!=null?r:null}getPrompts(e){var i,r;return(r=(i=this._mathfield)==null?void 0:i.getPrompts(e))!=null?r:[]}get form(){var e;return(e=this._internals)==null?void 0:e.form}get name(){var e;return(e=this.getAttribute("name"))!=null?e:""}get type(){return this.localName}get mode(){var e,i;return(i=(e=this._mathfield)==null?void 0:e.model.mode)!=null?i:this.defaultMode==="text"?"text":"math"}set mode(e){var i;(i=this._mathfield)==null||i.switchMode(e)}get expression(){if(this._mathfield)return window[Symbol.for("io.cortexjs.compute-engine")]?this._mathfield.expression:(console.error(`MathLive 0.105.3: The CortexJS Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://esm.run/@cortex-js/compute-engine"`),null)}set expression(e){var i,r;if(!this._mathfield)return;let n=(r=(i=Ho.computeEngine)==null?void 0:i.box(e).latex)!=null?r:null;n!==null&&this._mathfield.setValue(n),window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`MathLive 0.105.3: The Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://esm.run/@cortex-js/compute-engine"`)}get errors(){var e,i;return(i=(e=this._mathfield)==null?void 0:e.errors)!=null?i:[]}_getOptions(e){return this._mathfield?uu(this._mathfield.options,e):Ht.has(this)?q({},uu(q(q({},d1()),vg(Ht.get(this).options)),e)):null}getOptions(e){return console.warn("%cMathLive 0.105.3: %cDeprecated Usage%c\n      `mf.getOptions()` is deprecated. Read the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._mathfield?uu(this._mathfield.options,e):Ht.has(this)?uu(q(q({},d1()),vg(Ht.get(this).options)),e):null}reflectAttributes(){let e=d1(),i=this._getOptions();Object.keys(Ho.optionsAttributes).forEach(r=>{let n=Fa(r);Ho.optionsAttributes[r]==="on/off"?e[n]!==i[n]?this.setAttribute(r,i[n]?"on":"off"):this.removeAttribute(r):e[n]!==i[n]&&(Ho.optionsAttributes[r]==="boolean"?i[n]?this.setAttribute(r,""):this.removeAttribute(r):(typeof i[n]=="string"||typeof i[n]=="number")&&this.setAttribute(r,i[n].toString()))})}getOption(e){return console.warn("%cMathLive 0.105.3: %cDeprecated Usage%c\n      `mf.getOption()` is deprecated. Read the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._getOptions([e])[e]}_getOption(e){return this._getOptions([e])[e]}_setOptions(e){if(this._mathfield)this._mathfield.setOptions(e);else if(Ht.has(this)){let i=q(q({},Ht.get(this).options),e);Ht.set(this,Z(q({},Ht.get(this)),{selection:{ranges:i.readOnly?[[0,0]]:[[0,-1]]},options:i}))}else Ht.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:e,menuItems:void 0});this.reflectAttributes()}setOptions(e){console.group("%cMathLive 0.105.3: %cDeprecated Usage","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn(" `mf.setOptions()` is deprecated. Set the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.");for(let i of Object.keys(e))Uo[i]&&console.warn(`\`mf.setOptions({${i}:...})\` -> ${Uo[i]}`);console.groupEnd(),this._setOptions(e)}executeCommand(...e){var i,r;let n;if(e.length===1?n=e[0]:n=[e[0],...e.slice(1)],n)return(r=(i=this._mathfield)==null?void 0:i.executeCommand(n))!=null?r:!1;throw new Error("Invalid selector")}getValue(e,i,r){var n,s;if(this._mathfield)return this._mathfield.model.getValue(e,i,r);if(Ht.has(this)){let a,o,l;if(s1(e)?([a,o]=e.ranges[0],l=i):ug(e)?([a,o]=e,l=i):el(e)&&el(i)?(a=e,o=i,l=r):(a=0,o=-1,l=e),(l===void 0||l==="latex")&&a===0&&o===-1)return(s=(n=Ht.get(this).value)!=null?n:this.textContent)!=null?s:""}return""}setValue(e,i){if(this._mathfield&&e!==void 0){if(this._mathfield.model.getValue()===e)return;i!=null||(i={silenceNotifications:!0,mode:"math"}),this._mathfield.setValue(e,i);return}if(Ht.has(this)){let n=Ht.get(this).options;Ht.set(this,{value:e,selection:{ranges:[[-1,-1]],direction:"forward"},options:n,menuItems:void 0});return}let r=jm(this);Ht.set(this,{value:e,selection:{ranges:[[-1,-1]],direction:"forward"},options:r,menuItems:void 0})}hasFocus(){var e,i;return(i=(e=this._mathfield)==null?void 0:e.hasFocus())!=null?i:!1}focus(){var e;(e=this._mathfield)==null||e.focus()}blur(){var e;(e=this._mathfield)==null||e.blur()}select(){var e;(e=this._mathfield)==null||e.select()}insert(e,i){var r,n;return(n=(r=this._mathfield)==null?void 0:r.insert(e,i))!=null?n:!1}applyStyle(e,i){var r;return(r=this._mathfield)==null?void 0:r.applyStyle(e,i)}queryStyle(e){var i,r;return(r=(i=this._mathfield)==null?void 0:i.queryStyle(e))!=null?r:"none"}getOffsetFromPoint(e,i,r){return this._mathfield?p1(this._mathfield,e,i,r):-1}getElementInfo(e){return UB(this._mathfield,e)}resetUndo(){var e;(e=this._mathfield)==null||e.resetUndo()}canUndo(){return this._mathfield?this._mathfield.canUndo():!1}canRedo(){return this._mathfield?this._mathfield.canRedo():!1}handleEvent(e){var i,r,n,s,a,o,l;if(ws.state!=="closed"||((r=(i=this._mathfield)==null?void 0:i.menu)==null?void 0:r.state)!=="closed")return;if(e.type==="pointerdown"){this.onPointerDown();let c=(n=this._mathfield)==null?void 0:n.keyboardDelegate;c==null||c.blur(),c==null||c.focus()}if(e.type==="focus"&&((s=this._mathfield)==null||s.focus()),e.type!=="blur")return;let u=mB();u&&(a=window==null?void 0:window.mathVirtualKeyboard)!=null&&a.visible||((o=ws.scrim)==null?void 0:o.state)!=="closed"||u&&poe()||(l=this._mathfield)==null||l.blur()}connectedCallback(){var e,i,r,n;let s=this.shadowRoot,a=s.host,o=window.getComputedStyle(this).userSelect!=="none";if(o)a.addEventListener("pointerdown",this,!0);else{let c=s.querySelector("span");c.style.pointerEvents="none"}a.addEventListener("focus",this,!0),a.addEventListener("blur",this,!0),this._observer=new MutationObserver(()=>{var c;this.value=(c=this.textContent)!=null?c:""}),this._observer.observe(this,{childList:!0,characterData:!0,subtree:!0}),kc()||(this.hasAttribute("role")||this.setAttribute("role","math"),this.hasAttribute("aria-label")||this.setAttribute("aria-label","math input field"),this.setAttribute("aria-multiline","false")),o&&!this.hasAttribute("contenteditable")&&this.setAttribute("contenteditable","true"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0");let l=s.querySelector("slot:not([name])");if(l)try{this._style=l.assignedElements().filter(c=>c.tagName.toLowerCase()==="style").map(c=>c.textContent).join("")}catch(c){console.error(c)}if(this._style){let c=document.createElement("style");c.textContent=this._style,s.appendChild(c)}let u="";if(this.hasAttribute("value")?u=this.getAttribute("value"):u=(e=l==null?void 0:l.assignedNodes().map(c=>c.nodeType===3?c.textContent:"").join("").trim())!=null?e:"",this._mathfield=new q0e(s.querySelector(":host > span"),Z(q({},(r=(i=Ht.get(this))==null?void 0:i.options)!=null?r:jm(this)),{eventSink:this,value:u})),!Ht.has(this)){this.upgradeProperty("disabled"),this.upgradeProperty("readonly");for(let c of Object.keys(Ho.optionsAttributes))this.upgradeProperty(Fa(c))}if(!((n=this._mathfield)!=null&&n.model)){this._mathfield=null;return}if(Ht.has(this)){let c=this._mathfield,d=Ht.get(this),h=d.menuItems;c.model.deferNotifications({content:!1,selection:!1},()=>{let f=d.value;f!==void 0&&c.setValue(f),c.model.selection=d.selection,Ht.delete(this)}),h&&(this.menuItems=h)}window.queueMicrotask(()=>{this.isConnected&&this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))}),I6()}disconnectedCallback(){var e,i,r;if(this.shadowRoot.host.removeEventListener("pointerdown",this,!0),!this._mathfield)return;(e=this._observer)==null||e.disconnect(),this._observer=null,window.queueMicrotask(()=>this.dispatchEvent(new Event("unmount",{cancelable:!1,bubbles:!0,composed:!0})));let n=uu(this._mathfield.options,Object.keys(Ho.optionsAttributes).map(s=>Fa(s)));Ht.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.model.selection,menuItems:(r=(i=this._mathfield.menu)==null?void 0:i.menuItems)!=null?r:void 0,options:n}),this._mathfield.dispose(),this._mathfield=null}upgradeProperty(e){if(this.hasOwnProperty(e)){let i=this[e];delete this[e],(e==="readonly"||e==="read-only")&&(e="readOnly"),this[e]=i}}attributeChangedCallback(e,i,r){if(i===r)return;let n=r!==null;switch(e){case"contenteditable":fi(this._mathfield);break;case"placeholder":r===!1&&(r=""),this.placeholder=r;break;case"disabled":this.disabled=n;break;case"read-only":case"readonly":this.readOnly=n;break}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(e){let i=!!e;i?(this.setAttribute("readonly",""),kc()?this._internals.ariaReadOnly="true":this.setAttribute("aria-readonly","true"),this.setAttribute("aria-readonly","true")):(kc()?this._internals.ariaReadOnly="false":this.removeAttribute("aria-readonly"),this.removeAttribute("readonly"),this.removeAttribute("read-only")),this._setOptions({readOnly:i})}get disabled(){return this.hasAttribute("disabled")}set disabled(e){var i;let r=!!e;r?this.setAttribute("disabled",""):this.removeAttribute("disabled"),kc()?this._internals.ariaDisabled=r?"true":"false":this.setAttribute("aria-disabled",r?"true":"false"),r&&(i=this._mathfield)!=null&&i.hasFocus&&window.mathVirtualKeyboard.visible&&this._mathfield.executeCommand("hideVirtualKeyboard")}get value(){return this.getValue()}set value(e){this.setValue(e)}get defaultMode(){return this._getOption("defaultMode")}set defaultMode(e){this._setOptions({defaultMode:e})}get macros(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("macros")}set macros(e){this._setOptions({macros:e})}get registers(){if(!this._mathfield)throw new Error("Mathfield not mounted");let e=this;return new Proxy({},{get:(i,r)=>{if(typeof r=="string")return e._getOption("registers")[r]},set(i,r,n){return typeof r!="string"?!1:(e._setOptions({registers:Z(q({},e._getOption("registers")),{[r]:n})}),!0)},ownKeys:()=>Reflect.ownKeys(e._getOption("registers")),getOwnPropertyDescriptor:(i,r)=>{let n=e._getOption("registers")[r];if(n!==void 0)return{configurable:!0,enumerable:!0,value:n,writable:!0}}})}set registers(e){this._setOptions({registers:e})}get colorMap(){return this._getOption("colorMap")}set colorMap(e){this._setOptions({colorMap:e})}get backgroundColorMap(){return this._getOption("backgroundColorMap")}set backgroundColorMap(e){this._setOptions({backgroundColorMap:e})}get letterShapeStyle(){return this._getOption("letterShapeStyle")}set letterShapeStyle(e){this._setOptions({letterShapeStyle:e})}get minFontScale(){return this._getOption("minFontScale")}set minFontScale(e){this._setOptions({minFontScale:e})}get maxMatrixCols(){return this._getOption("maxMatrixCols")}set maxMatrixCols(e){this._setOptions({maxMatrixCols:e})}get smartMode(){return this._getOption("smartMode")}set smartMode(e){this._setOptions({smartMode:e})}get smartFence(){return this._getOption("smartFence")}set smartFence(e){this._setOptions({smartFence:e})}get smartSuperscript(){return this._getOption("smartSuperscript")}set smartSuperscript(e){this._setOptions({smartSuperscript:e})}get scriptDepth(){return this._getOption("scriptDepth")}set scriptDepth(e){this._setOptions({scriptDepth:e})}get removeExtraneousParentheses(){return this._getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(e){this._setOptions({removeExtraneousParentheses:e})}get mathModeSpace(){return this._getOption("mathModeSpace")}set mathModeSpace(e){this._setOptions({mathModeSpace:e})}get placeholderSymbol(){return this._getOption("placeholderSymbol")}set placeholderSymbol(e){this._setOptions({placeholderSymbol:e})}get placeholder(){var e;return(e=this.getAttribute("placeholder"))!=null?e:""}set placeholder(e){var i;typeof e=="string"&&((i=this._mathfield)==null||i.setOptions({contentPlaceholder:e}))}get popoverPolicy(){return this._getOption("popoverPolicy")}set popoverPolicy(e){this._setOptions({popoverPolicy:e})}get environmentPopoverPolicy(){return this._getOption("environmentPopoverPolicy")}set environmentPopoverPolicy(e){this._setOptions({environmentPopoverPolicy:e})}get menuItems(){var e;if(!this._mathfield)throw new Error("Mathfield not mounted");return(e=this._mathfield.menu._menuItems.map(i=>i.menuItem))!=null?e:[]}set menuItems(e){var i;if(!this._mathfield)throw new Error("Mathfield not mounted");if(this._mathfield){let r=(i=this._mathfield.element)==null?void 0:i.querySelector("[part=menu-toggle]");r&&(r.style.display=e.length===0?"none":""),this._mathfield.menu.menuItems=e}}get mathVirtualKeyboardPolicy(){return this._getOption("mathVirtualKeyboardPolicy")}set mathVirtualKeyboardPolicy(e){this._setOptions({mathVirtualKeyboardPolicy:e})}get inlineShortcuts(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("inlineShortcuts")}set inlineShortcuts(e){if(!this._mathfield)throw new Error("Mathfield not mounted");this._setOptions({inlineShortcuts:e})}get inlineShortcutTimeout(){return this._getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(e){this._setOptions({inlineShortcutTimeout:e})}get keybindings(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("keybindings")}set keybindings(e){if(!this._mathfield)throw new Error("Mathfield not mounted");this._setOptions({keybindings:e})}get onInsertStyle(){let e=this._getOption("onInsertStyle");return e===void 0?P6:e}set onInsertStyle(e){this._setOptions({onInsertStyle:e})}get onInlineShortcut(){return this._getOption("onInlineShortcut")}set onInlineShortcut(e){this._setOptions({onInlineShortcut:e})}get onScrollIntoView(){return this._getOption("onScrollIntoView")}set onScrollIntoView(e){this._setOptions({onScrollIntoView:e})}get onExport(){return this._getOption("onExport")}set onExport(e){this._setOptions({onExport:e})}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOptions({readOnly:e})}get isSelectionEditable(){var e,i;return(i=(e=this._mathfield)==null?void 0:e.isSelectionEditable)!=null?i:!1}setPromptState(e,i,r){var n;(n=this._mathfield)==null||n.setPromptState(e,i,r)}getPromptState(e){var i,r;return(r=(i=this._mathfield)==null?void 0:i.getPromptState(e))!=null?r:[void 0,!0]}get virtualKeyboardTargetOrigin(){return this._getOption("virtualKeyboardTargetOrigin")}set virtualKeyboardTargetOrigin(e){this._setOptions({virtualKeyboardTargetOrigin:e})}get selection(){return this._mathfield?this._mathfield.model.selection:Ht.has(this)?Ht.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(e){if(typeof e=="number"&&(e={ranges:[[e,e]]}),this._mathfield){this._mathfield.model.selection=e,fi(this._mathfield);return}if(Ht.has(this)){Ht.set(this,Z(q({},Ht.get(this)),{selection:e}));return}Ht.set(this,{value:void 0,selection:e,options:jm(this),menuItems:void 0})}get selectionIsCollapsed(){let e=this.selection;return e.ranges.length===1&&e.ranges[0][0]===e.ranges[0][1]}get position(){return this._mathfield?this._mathfield.model.position:Ht.has(this)?Ht.get(this).selection.ranges[0][0]:0}set position(e){if(this._mathfield&&(this._mathfield.model.position=e,fi(this._mathfield)),Ht.has(this)){Ht.set(this,Z(q({},Ht.get(this)),{selection:{ranges:[[e,e]]}}));return}Ht.set(this,{value:void 0,selection:{ranges:[[e,e]]},options:jm(this),menuItems:void 0})}get lastOffset(){var e,i;return(i=(e=this._mathfield)==null?void 0:e.model.lastOffset)!=null?i:-1}};Ri.version="0.105.3",Ri.openUrl=t=>{if(!t)return;let e=new URL(t);if(!["http:","https:","file:"].includes(e.protocol.toLowerCase())){Ri.playSound("plonk");return}window.open(e,"_blank")},Ri._fontsDirectory="./fonts/",Ri._soundsDirectory="./sounds",Ri.keypressVibration=!0,Ri._keypressSound={spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},Ri._plonkSound="plonk.wav",Ri.audioBuffers={},Ri.createHTML=t=>t,Ri._speechEngineRate="100%",Ri._speechEngineVoice="Joanna",Ri._textToSpeechMarkup="",Ri._textToSpeechRules="mathlive",Ri._textToSpeechRulesOptions={},Ri.speakHook=V0e,Ri.readAloudHook=H0e,Ri.restoreFocusWhenDocumentFocused=!0,Ri._decimalSeparator=".",Ri._isFunction=t=>{var e,i;let r=globalThis.MathfieldElement.computeEngine;return(i=(e=r==null?void 0:r.parse(t).domain)==null?void 0:e.isFunction)!=null?i:!1};var Iu=Ri;function Fa(t){return t.replace(/[^a-zA-Z\d]+(.)/g,(e,i)=>i.toUpperCase())}function jm(t){let e={readOnly:!1},i=Iu.optionsAttributes;return Object.keys(i).forEach(r=>{var n;if(t.hasAttribute(r)){let s=t.getAttribute(r);r==="placeholder"?e.contentPlaceholder=s??"":i[r]==="boolean"?e[Fa(r)]=!0:i[r]==="on/off"?(s=(n=s==null?void 0:s.toLowerCase())!=null?n:"",s==="on"||s==="true"?e[Fa(r)]=!0:s==="off"||s==="false"?e[Fa(r)]=!1:e[Fa(r)]=void 0):i[r]==="number"?e[Fa(r)]=Number.parseFloat(s??"0"):e[Fa(r)]=s}}),e}function kc(){return!(!("ElementInternals"in window)||!HTMLElement.prototype.attachInternals||!("role"in window.ElementInternals.prototype))}var $6=Iu,ck,dk,hk;if(os()&&!((ck=window.customElements)!=null&&ck.get("math-field"))){window[dk=Symbol.for("io.cortexjs.mathlive")]!=null||(window[dk]={});let t=window[Symbol.for("io.cortexjs.mathlive")];t.version="0.105.3",globalThis.MathfieldElement=Iu,(hk=window.customElements)==null||hk.define("math-field",Iu)}function W0e(t,e){let i=kl.singleton;return i?(i.show(),Nc(),i.currentLayer=e,i.render(),i.focus(),!0):!1}function G0e(){let t=window.mathVirtualKeyboard;return t.visible?t.hide({animate:!0}):t.show({animate:!0}),!1}nn({switchKeyboardLayer:W0e,toggleVirtualKeyboard:G0e,hideVirtualKeyboard:()=>(window.mathVirtualKeyboard.hide({animate:!0}),!1),showVirtualKeyboard:()=>(window.mathVirtualKeyboard.show({animate:!0}),!1)},{target:"virtual-keyboard"});function Ko(){var t;return globalThis[t=Symbol.for("io.cortexjs.mathlive")]!=null||(globalThis[t]={}),globalThis[Symbol.for("io.cortexjs.mathlive")]}const X0e=kr("integrationGym",{state:()=>({currentIntegral:{id:null,integral:null,author:null,user_solved:null,user_attempts:null},userAnswer:"",hasSubmitted:!1,submissionResult:null,dailyProblemRequest:{status:"idle",error:null},submitAnswerRequest:{status:"idle",error:null}}),getters:{isProblemLoaded:t=>t.dailyProblemRequest.status==="success",isProblemLoading:t=>t.dailyProblemRequest.status==="loading",isProblemError:t=>t.dailyProblemRequest.status==="error",isSubmitting:t=>t.submitAnswerRequest.status==="loading",isSubmitError:t=>t.submitAnswerRequest.status==="error"},actions:{async fetchDailyProblem(t=!0){this.dailyProblemRequest={status:"loading",error:null};try{const e=await wr.get("/daily-integral/");console.log(e.data),this.currentIntegral={id:e.data.id,integral:e.data.integral,author:e.data.original_author,user_solved:e.data.user_solved,user_attempts:e.data.user_attempts},t&&(this.userAnswer="",this.hasSubmitted=!1,this.submissionResult=null),this.dailyProblemRequest={status:"success",error:null}}catch(e){console.error("Failed to fetch daily problem:",e),this.currentIntegral={id:null,integral:null,author:null,user_solved:null,user_attempts:null},t&&(this.userAnswer="",this.hasSubmitted=!1,this.submissionResult=null),this.dailyProblemRequest={status:"success",error:null},Ut().addToast({type:"warning",title:"Demo Mode",message:"Using demo problem. Backend not available."})}},async submitAnswer(){if(!(!this.userAnswer.trim()||this.hasSubmitted)){this.submitAnswerRequest={status:"loading",error:null};try{const t=await wr.post(`/daily-integral/check/${this.currentIntegral.id}/`,{user_answer:this.userAnswer});this.submissionResult={correct:t.data.correct,message:t.data.message},this.hasSubmitted=!0,this.submitAnswerRequest={status:"success",error:null},await this.fetchDailyProblem(!1)}catch(t){console.error("Failed to submit answer:",t),this.submissionResult={correct:!1,message:""},this.hasSubmitted=!0,this.submitAnswerRequest={status:"success",error:null},Ut().addToast({type:"info",title:"Demo Mode",message:"Answer checked locally. Backend not available."})}}},resetProblem(){this.userAnswer="",this.hasSubmitted=!1,this.submissionResult=null,this.submitAnswerRequest={status:"idle",error:null}},resetSubmission(){this.submitAnswerRequest={status:"idle",error:null},this.submissionResult=null}}}),Y0e={class:"min-h-screen pt-[15rem]"},Z0e={key:0,class:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-60 flex justify-center items-center z-[503]"},J0e={class:"relative w-full h-full flex flex-col justify-center items-center overflow-hidden"},Q0e={class:"result-animation flex justify-center items-center"},ede={class:"subscript-animation mt-8 flex justify-center items-center"},tde={class:"text-white text-body font-medium text-center max-w-[60rem] px-4"},ide={key:3,class:"flex flex-col gap-8"},rde={class:"flex flex-row justify-center"},nde={key:0,class:"text-body font-body text-pearl-white"},sde={key:1,class:"text-body font-body text-red-400"},ade=["innerHTML"],ode={key:3,class:"text-body font-body text-pearl-white"},lde={class:"flex justify-center px-[2rem]"},ude={key:0,class:"w-full lg:w-[50rem] px-4"},cde={class:"bg-white rounded-[15px] p-8 text-center"},dde={class:"flex flex-col items-center gap-[2rem]"},hde={class:"text-center flex flex-col gap-[1rem] items-center"},pde={class:"text-body text-gray-600 mt-4"},fde={key:1,class:"w-full lg:w-[50rem] px-4"},mde={class:"rounded-lg p-6"},gde={class:"flex flex-col gap-4"},yde={key:0,class:"flex justify-center"},vde={key:1,class:"flex justify-center"},bde={class:"w-[50rem] px-4 py-2 rounded-lg text-center text-body font-medium bg-red text-white"},xde={class:"flex flex-row justify-center mt-[2rem] px-[2rem]"},_de=["disabled"],wde={class:"relative z-[2]"},pk=80,Sde=st({__name:"IntegrationGym",setup(t){const e=Fu(),i=X0e(),r=Sr(),n=B0(),{currentIntegral:s,userAnswer:a,hasSubmitted:o,submissionResult:l,isProblemLoaded:u,isProblemLoading:c,isProblemError:d,isSubmitting:h,isSubmitError:f,dailyProblemRequest:g,submitAnswerRequest:y}=Ui(i),{isAuthenticated:C}=Ui(r),{isRulesVisible:S}=Ui(n),A=Xe(!1),T=Xe(!1),M=Xe(!1),D=Xe(!1),B=Xe(`${pk/15}rem`),F=si(()=>{if(s.value.integral){const me=g6(s.value.integral);return B.value=`${y6(me,pk)/15}rem`,m6.renderToString(me,{throwOnError:!1,displayMode:!0})}return""});_r(l,me=>{me&&(D.value=!0,setTimeout(()=>{D.value=!1},4e3))});const V=()=>{A.value=!1,document.getElementsByTagName("body")[0].style.overflowY="unset"},O=()=>{V(),e.push("/sign_in")},U=()=>{V(),e.push("/")},J=()=>{T.value=!1,n.isRulesVisible=!1,document.getElementsByTagName("body")[0].style.overflowY="unset"},Y=()=>{localStorage.setItem("integrationGymRulesRead","true"),J()},ie=()=>{T.value=!0,document.getElementsByTagName("body")[0].style.overflowY="hidden"};_r(S,me=>{me&&C.value&&M.value&&ie()});const ce=async()=>{await i.submitAnswer()},qe=me=>{a.value=me.target.value},Me=async()=>{if(!C.value){A.value=!0,document.getElementsByTagName("body")[0].style.overflowY="hidden";return}if(!localStorage.getItem("integrationGymRulesRead")){ie();return}await i.fetchDailyProblem()};return qi(async()=>{console.log("IntegrationGym component mounted with mathlive"),M.value=!0,await Me()}),_r(a,me=>{console.log(me)}),(me,be)=>{const ot=yn("math-field");return X(),Ot(loe,null,{default:We(()=>[m("div",Y0e,[D.value&&P(l)?(X(),ne("div",Z0e,[m("div",J0e,[m("div",Q0e,[m("h1",{class:Wt({"font-heading text-[8rem] font-bold tracking-wider":!0,"text-green-400":P(l).correct,"text-red-400":!P(l).correct})},ve(P(l).correct?"Correct":"Incorrect"),3)]),m("div",ede,[m("p",tde,ve(P(l).correct?"Your solution is correct, good job!":"Unfortunately that wasn't the correct answer, don't give up and try again!"),1)])])])):je("",!0),A.value?(X(),ne("div",{key:1,class:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex justify-center items-center z-[502]",onClick:V},[m("div",{class:"bg-white rounded-3xl p-8 max-w-[50rem] w-full mx-4 text-screenBlack font-body",onClick:be[0]||(be[0]=Dc(()=>{},["stop"]))},[m("div",{class:"flex flex-col gap-8 text-center"},[be[3]||(be[3]=m("div",{class:"flex justify-center"},[m("div",{class:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center"},[m("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z",stroke:"#3B82F6","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),m("path",{d:"M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z",stroke:"#3B82F6","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])])],-1)),be[4]||(be[4]=m("div",null,[m("h3",{class:"font-heading text-subtitle text-screenBlack mb-2"},"Login Required"),m("p",{class:"text-body text-gray-600"},"You need to be logged in to play Integration Gym. Please log in to continue.")],-1)),m("div",{class:"flex gap-4"},[m("button",{draggable:"false",onClick:U,class:"flex-1 bg-gray-200 text-screenBlack py-3 px-6 rounded-xl font-heading text-body lg:hover:bg-gray-300 transition-colors duration-100"}," Go Back "),m("button",{draggable:"false",onClick:O,class:"flex-1 bg-primary text-screenBlack py-3 px-6 rounded-xl font-heading text-body lg:hover:bg-primary-600 transition-colors duration-100"}," Login ")])])])])):je("",!0),T.value?(X(),ne("div",{key:2,class:"fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex justify-center items-center z-[502]",onClick:J},[m("div",{class:"bg-white rounded-3xl p-8 max-w-[60rem] w-full mx-4 text-screenBlack font-body max-h-[80vh] flex flex-col",onClick:be[1]||(be[1]=Dc(()=>{},["stop"]))},[m("div",{class:"flex flex-col gap-6"},[be[5]||(be[5]=m("div",{class:"flex justify-center"},[m("div",{class:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center"},[m("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M12 6.25278V19.2528M12 6.25278C10.8321 5.47686 9.24649 5 7.5 5C5.75351 5 4.16789 5.47686 3 6.25278V19.2528C4.16789 18.4769 5.75351 18 7.5 18C9.24649 18 10.8321 18.4769 12 19.2528M12 6.25278C13.1679 5.47686 14.7535 5 16.5 5C18.2465 5 19.8321 5.47686 21 6.25278V19.2528C19.8321 18.4769 18.2465 18 16.5 18C14.7535 18 13.1679 18.4769 12 19.2528",stroke:"#FBC151","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])])],-1)),be[6]||(be[6]=m("div",{class:"text-center"},[m("h3",{class:"font-heading text-subtitle text-screenBlack mb-4"},"Integration Gym Rules")],-1)),be[7]||(be[7]=m("div",{class:"overflow-y-auto flex-1 max-h-[40vh] pr-2"},[m("div",{class:"space-y-4 text-body text-gray-700"},[m("div",{class:"bg-gray-50 p-4 rounded-lg"},[m("h4",{class:"font-heading text-body font-semibold mb-2 text-screenBlack"},"🎯 Objective"),m("p",null,"Solve the daily integration problem by entering your answer in LaTeX format using the math input field.")]),m("div",{class:"bg-gray-50 p-4 rounded-lg"},[m("h4",{class:"font-heading text-body font-semibold mb-2 text-screenBlack"},"📝 How to Play"),m("ul",{class:"list-disc list-inside space-y-1"},[m("li",null,"A new integration problem is available each day"),m("li",null,"Use the math input field to enter your solution in LaTeX format"),m("li",null,'Click "Submit" to check your answer'),m("li",null,"You can only submit one answer per day")])]),m("div",{class:"bg-gray-50 p-4 rounded-lg"},[m("h4",{class:"font-heading text-body font-semibold mb-2 text-screenBlack"},"✍️ Math Input Tips"),m("ul",{class:"list-disc list-inside space-y-1"},[m("li",null,"Use standard LaTeX notation (e.g., \\frac{1}{2}, \\sin(x), \\int)"),m("li",null,"The input field supports virtual keyboard for symbols"),m("li",null,"Use parentheses to group terms: (x+1)^2"),m("li",null,"Constants like C should be included: + C")])]),m("div",{class:"bg-gray-50 p-4 rounded-lg"},[m("h4",{class:"font-heading text-body font-semibold mb-2 text-screenBlack"},"⚡ Scoring"),m("ul",{class:"list-disc list-inside space-y-1"},[m("li",null,"Correct answers contribute to your overall score"),m("li",null,"Track your progress over time"),m("li",null,"Compare with other players on the leaderboard")])]),m("div",{class:"bg-yellow-50 p-4 rounded-lg border-l-4 border-primary"},[m("h4",{class:"font-heading text-body font-semibold mb-2 text-screenBlack"},"💡 Pro Tips"),m("ul",{class:"list-disc list-inside space-y-1"},[m("li",null,"Double-check your answer before submitting"),m("li",null,"Remember to include the constant of integration"),m("li",null,"Simplify your answer when possible"),m("li",null,"Practice regularly to improve your skills")])])])],-1)),m("div",{class:"flex justify-center pt-4"},[m("button",{draggable:"false",onClick:Y,class:"bg-primary text-screenBlack py-3 px-8 rounded-xl font-heading text-body lg:hover:bg-primary-600 transition-colors duration-100"}," I've Read the Rules ")])])])])):je("",!0),P(C)&&!A.value&&!T.value?(X(),ne("div",ide,[be[13]||(be[13]=m("div",{class:"flex flex-row gap-4 w-full"},[m("div",{class:"flex-1 h-[5rem] flex items-center justify-left"},[m("svg",{class:"w-full h-full",viewBox:"0 0 425 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},[m("path",{d:"M0 0H422.176C423.791 0 424.74 1.81458 423.819 3.14079L388.5 54H0V0Z",fill:"#FBC151"})])]),m("h1",{class:"text-title font-heading text-pearl-white px-[5rem] text-center"}," Integration Gym "),m("div",{class:"flex-1 h-[5rem] flex items-center justify-right"},[m("svg",{class:"w-full h-full",viewBox:"0 0 425 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},[m("path",{d:"M425 0H2.82385C1.2092 0 0.260132 1.81458 1.18109 3.14079L36.5 54H425V0Z",fill:"#FBC151"})])])],-1)),be[14]||(be[14]=m("div",{class:"flex flex-row justify-center font-heading text-subtitle mt-[5rem]"},[m("h2",{class:"text-pearl-white text-center"}," Today's integral is: ")],-1)),m("div",rde,[m("div",{class:"flex justify-center items-center w-[50rem] h-[25rem] scale-[0.5] lg:scale-100",style:Zr({fontSize:B.value})},[P(c)?(X(),ne("div",nde," Loading problem... ")):P(d)?(X(),ne("div",sde,ve(P(g).error),1)):P(u)||P(g).status==="error"?(X(),ne("div",{key:2,class:"text-pearl-white",innerHTML:F.value},null,8,ade)):(X(),ne("div",ode," No problem loaded yet "))],4)]),m("div",lde,[P(s).user_solved?(X(),ne("div",ude,[m("div",cde,[m("div",dde,[be[11]||(be[11]=m("div",{class:"w-24 h-24 bg-green-500 rounded-full flex items-center justify-center"},[m("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M20 6L9 17L4 12",stroke:"white","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),m("div",hde,[be[8]||(be[8]=m("h3",{class:"font-heading text-subtitle text-green-600 mb-2"},"Well Done!",-1)),be[9]||(be[9]=m("p",{class:"text-body text-screenBlack font-medium mb-2"}," You have already solved today's integral! ",-1)),be[10]||(be[10]=m("p",{class:"text-body text-gray-600"}," Come back tomorrow for a new challenge. ",-1)),m("p",pde," You used "+ve(P(s).user_attempts||1)+" "+ve((P(s).user_attempts||1)===1?"try":"tries")+" to solve it. ",1)]),m("button",{onClick:be[2]||(be[2]=vt=>P(e).push("/")),class:"bg-primary text-screenBlack py-3 px-8 rounded-xl font-heading text-subtitle lg:hover:bg-primary-600 transition-colors duration-100"}," Return Home ")])])])):(X(),ne("div",fde,[m("div",mde,[m("div",gde,[be[12]||(be[12]=m("label",{class:"text-body font-medium text-pearl-white mb-3"}," Enter your answer: ",-1)),ge(ot,{class:"w-full cursor-text border-2 border-gray-300 rounded-lg p-4 text-body focus:border-blue-500 focus:outline-none",value:P(a),onInput:qe,options:{virtualKeyboardMode:"manual",smartFence:!0,smartSuperscript:!0},disabled:P(o)||P(h)},null,8,["value","disabled"])])])]))]),P(l)?(X(),ne("div",yde,[m("div",{class:Wt({"w-[50rem] px-4 py-2 rounded-lg text-center font-medium text-body":!0,"bg-green text-white":P(l).correct,"bg-red text-white":!P(l).correct})},ve(P(l).message),3)])):je("",!0),P(f)?(X(),ne("div",vde,[m("div",bde,ve(P(y).error),1)])):je("",!0),m("div",xde,[m("button",{onClick:ce,disabled:P(h)||P(o)||!P(a).trim()||!P(u),class:Wt({"w-full lg:w-[45rem] overflow-hidden rounded-[20px] font-heading text-title px-[4rem] pt-[0.6rem] pb-[0.4rem] relative transition-all duration-200":!0,"bg-gray-100 text-gray-400 cursor-not-allowed":P(h)||P(o)||!P(a).trim()||!P(u),"bg-primary border-primary border-4 text-pearl-white lg:hover:text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:hidden lg:after:flex after:bg-screenBlack lg:hover:after:scale-y-0 after:transition-transform after:duration-200 after:will-change-transform after:origin-top":!P(h)&&!P(o)&&P(a).trim()&&P(u)}),title:"submit","aria-label":"submit"},[m("span",wde,ve(P(h)?"Submitting...":P(o)?"Submitted":"Submit"),1)],10,_de)])])):je("",!0)])]),_:1})}}}),Cde=uo(Sde,[["__scopeId","data-v-04d6f9cc"]]),z6=U$({history:b$(),scrollBehavior(t,e,i){return t.hash?{el:t.hash,behavior:"smooth",top:100}:{top:0,left:0}},routes:[{path:"/",component:qZ,name:"home"},{path:"/events",component:aJ,name:"events"},{path:"/news",component:LJ,name:"news"},{path:"/contact",component:dQ,name:"contact"},{path:"/event/:id",component:Kte,name:"event"},{path:"/myProfile",component:Die,name:"profile"},{path:"/sign_up",component:tre,name:"sign_up"},{path:"/sign_in",component:gre,name:"sign_in"},{path:"/imprint",component:bre,name:"imprint"},{path:"/terms_of_use",component:wre,name:"terms_of_use"},{path:"/reset_password",component:Tre,name:"reset_password"},{path:"/presenting",component:Ire,name:"presenting",children:[{path:"",component:Zre,name:"presenting_main_menu"},{path:"series_presentation/:competition/:series",component:xae,name:"series_presentation"}]},{path:"/games",component:Pre,name:"games"},{path:"/game/integration_gym",component:Cde,name:"integration_gym"},{path:"/rankings",component:ioe,name:"rankings"},{path:"/:pathMatch(.*)*",redirect:{name:"home"},name:"not_found"}]}),kde=["profile"],Tde=["admin"],Ede=["presenting","presenting_main_menu","series_presentation"];z6.beforeEach(async(t,e,i)=>{const r=Sr();r.userDataRequest.status==null;const n=r.isAuthenticated,s=r.user.isAdmin,a=!!r.user.role&&r.user.role.IntegralEditor;//!FOR DEVELOPMENT ONLY!
if(kde.includes(t.name)&&!n&&t.name!=="sign_in"){i("/sign_in");return}if(Tde.includes(t.name)&&(!n||!s)&&t.name!=="home"){i("/");return}if(Ede.includes(t.name)&&!(s||a)&&t.name!=="home"){i("/");return}if(["sign_in","sign_up"].includes(t.name)&&n){i("/events");return}i()});var gI={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ya,function(){return function(i){function r(s){if(n[s])return n[s].exports;var a=n[s]={exports:{},id:s,loaded:!1};return i[s].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}var n={};return r.m=i,r.c=n,r.p="dist/",r(0)}([function(i,r,n){function s(ce){return ce&&ce.__esModule?ce:{default:ce}}var a=Object.assign||function(ce){for(var qe=1;qe<arguments.length;qe++){var Me=arguments[qe];for(var me in Me)Object.prototype.hasOwnProperty.call(Me,me)&&(ce[me]=Me[me])}return ce},o=n(1),l=(s(o),n(6)),u=s(l),c=n(7),d=s(c),h=n(8),f=s(h),g=n(9),y=s(g),C=n(10),S=s(C),A=n(11),T=s(A),M=n(14),D=s(M),B=[],F=!1,V={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},O=function(){var ce=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(ce&&(F=!0),F)return B=(0,T.default)(B,V),(0,S.default)(B,V.once),B},U=function(){B=(0,D.default)(),O()},J=function(){B.forEach(function(ce,qe){ce.node.removeAttribute("data-aos"),ce.node.removeAttribute("data-aos-easing"),ce.node.removeAttribute("data-aos-duration"),ce.node.removeAttribute("data-aos-delay")})},Y=function(ce){return ce===!0||ce==="mobile"&&y.default.mobile()||ce==="phone"&&y.default.phone()||ce==="tablet"&&y.default.tablet()||typeof ce=="function"&&ce()===!0},ie=function(ce){V=a(V,ce),B=(0,D.default)();var qe=document.all&&!window.atob;return Y(V.disable)||qe?J():(V.disableMutationObserver||f.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),V.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",V.easing),document.querySelector("body").setAttribute("data-aos-duration",V.duration),document.querySelector("body").setAttribute("data-aos-delay",V.delay),V.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?O(!0):V.startEvent==="load"?window.addEventListener(V.startEvent,function(){O(!0)}):document.addEventListener(V.startEvent,function(){O(!0)}),window.addEventListener("resize",(0,d.default)(O,V.debounceDelay,!0)),window.addEventListener("orientationchange",(0,d.default)(O,V.debounceDelay,!0)),window.addEventListener("scroll",(0,u.default)(function(){(0,S.default)(B,V.once)},V.throttleDelay)),V.disableMutationObserver||f.default.ready("[data-aos]",U),B)};i.exports={init:ie,refresh:O,refreshHard:U}},function(i,r){},,,,,function(i,r){(function(n){function s(Y,ie,ce){function qe(z){var re=Ft,ye=rt;return Ft=rt=void 0,Ie=z,oe=Y.apply(ye,re)}function Me(z){return Ie=z,Te=setTimeout(ot,ie),wt?qe(z):oe}function me(z){var re=z-Ee,ye=z-Ie,pe=ie-re;return St?U(pe,It-ye):pe}function be(z){var re=z-Ee,ye=z-Ie;return Ee===void 0||re>=ie||re<0||St&&ye>=It}function ot(){var z=J();return be(z)?vt(z):void(Te=setTimeout(ot,me(z)))}function vt(z){return Te=void 0,N&&Ft?qe(z):(Ft=rt=void 0,oe)}function $e(){Te!==void 0&&clearTimeout(Te),Ie=0,Ft=Ee=rt=Te=void 0}function Je(){return Te===void 0?oe:vt(J())}function it(){var z=J(),re=be(z);if(Ft=arguments,rt=this,Ee=z,re){if(Te===void 0)return Me(Ee);if(St)return Te=setTimeout(ot,ie),qe(Ee)}return Te===void 0&&(Te=setTimeout(ot,ie)),oe}var Ft,rt,It,oe,Te,Ee,Ie=0,wt=!1,St=!1,N=!0;if(typeof Y!="function")throw new TypeError(h);return ie=c(ie)||0,o(ce)&&(wt=!!ce.leading,St="maxWait"in ce,It=St?O(c(ce.maxWait)||0,ie):It,N="trailing"in ce?!!ce.trailing:N),it.cancel=$e,it.flush=Je,it}function a(Y,ie,ce){var qe=!0,Me=!0;if(typeof Y!="function")throw new TypeError(h);return o(ce)&&(qe="leading"in ce?!!ce.leading:qe,Me="trailing"in ce?!!ce.trailing:Me),s(Y,ie,{leading:qe,maxWait:ie,trailing:Me})}function o(Y){var ie=typeof Y>"u"?"undefined":d(Y);return!!Y&&(ie=="object"||ie=="function")}function l(Y){return!!Y&&(typeof Y>"u"?"undefined":d(Y))=="object"}function u(Y){return(typeof Y>"u"?"undefined":d(Y))=="symbol"||l(Y)&&V.call(Y)==g}function c(Y){if(typeof Y=="number")return Y;if(u(Y))return f;if(o(Y)){var ie=typeof Y.valueOf=="function"?Y.valueOf():Y;Y=o(ie)?ie+"":ie}if(typeof Y!="string")return Y===0?Y:+Y;Y=Y.replace(y,"");var ce=S.test(Y);return ce||A.test(Y)?T(Y.slice(2),ce?2:8):C.test(Y)?f:+Y}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},h="Expected a function",f=NaN,g="[object Symbol]",y=/^\s+|\s+$/g,C=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,A=/^0o[0-7]+$/i,T=parseInt,M=(typeof n>"u"?"undefined":d(n))=="object"&&n&&n.Object===Object&&n,D=(typeof self>"u"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,B=M||D||Function("return this")(),F=Object.prototype,V=F.toString,O=Math.max,U=Math.min,J=function(){return B.Date.now()};i.exports=a}).call(r,function(){return this}())},function(i,r){(function(n){function s(J,Y,ie){function ce(N){var z=it,re=Ft;return it=Ft=void 0,Ee=N,It=J.apply(re,z)}function qe(N){return Ee=N,oe=setTimeout(be,Y),Ie?ce(N):It}function Me(N){var z=N-Te,re=N-Ee,ye=Y-z;return wt?O(ye,rt-re):ye}function me(N){var z=N-Te,re=N-Ee;return Te===void 0||z>=Y||z<0||wt&&re>=rt}function be(){var N=U();return me(N)?ot(N):void(oe=setTimeout(be,Me(N)))}function ot(N){return oe=void 0,St&&it?ce(N):(it=Ft=void 0,It)}function vt(){oe!==void 0&&clearTimeout(oe),Ee=0,it=Te=Ft=oe=void 0}function $e(){return oe===void 0?It:ot(U())}function Je(){var N=U(),z=me(N);if(it=arguments,Ft=this,Te=N,z){if(oe===void 0)return qe(Te);if(wt)return oe=setTimeout(be,Y),ce(Te)}return oe===void 0&&(oe=setTimeout(be,Y)),It}var it,Ft,rt,It,oe,Te,Ee=0,Ie=!1,wt=!1,St=!0;if(typeof J!="function")throw new TypeError(d);return Y=u(Y)||0,a(ie)&&(Ie=!!ie.leading,wt="maxWait"in ie,rt=wt?V(u(ie.maxWait)||0,Y):rt,St="trailing"in ie?!!ie.trailing:St),Je.cancel=vt,Je.flush=$e,Je}function a(J){var Y=typeof J>"u"?"undefined":c(J);return!!J&&(Y=="object"||Y=="function")}function o(J){return!!J&&(typeof J>"u"?"undefined":c(J))=="object"}function l(J){return(typeof J>"u"?"undefined":c(J))=="symbol"||o(J)&&F.call(J)==f}function u(J){if(typeof J=="number")return J;if(l(J))return h;if(a(J)){var Y=typeof J.valueOf=="function"?J.valueOf():J;J=a(Y)?Y+"":Y}if(typeof J!="string")return J===0?J:+J;J=J.replace(g,"");var ie=C.test(J);return ie||S.test(J)?A(J.slice(2),ie?2:8):y.test(J)?h:+J}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},d="Expected a function",h=NaN,f="[object Symbol]",g=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,S=/^0o[0-7]+$/i,A=parseInt,T=(typeof n>"u"?"undefined":c(n))=="object"&&n&&n.Object===Object&&n,M=(typeof self>"u"?"undefined":c(self))=="object"&&self&&self.Object===Object&&self,D=T||M||Function("return this")(),B=Object.prototype,F=B.toString,V=Math.max,O=Math.min,U=function(){return D.Date.now()};i.exports=s}).call(r,function(){return this}())},function(i,r){function n(c){var d=void 0,h=void 0;for(d=0;d<c.length;d+=1)if(h=c[d],h.dataset&&h.dataset.aos||h.children&&n(h.children))return!0;return!1}function s(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(){return!!s()}function o(c,d){var h=window.document,f=s(),g=new f(l);u=d,g.observe(h.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function l(c){c&&c.forEach(function(d){var h=Array.prototype.slice.call(d.addedNodes),f=Array.prototype.slice.call(d.removedNodes),g=h.concat(f);if(n(g))return u()})}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){};r.default={isSupported:a,ready:o}},function(i,r){function n(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function s(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function h(f,g){for(var y=0;y<g.length;y++){var C=g[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(f,C.key,C)}}return function(f,g,y){return g&&h(f.prototype,g),y&&h(f,y),f}}(),o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,d=function(){function h(){n(this,h)}return a(h,[{key:"phone",value:function(){var f=s();return!(!o.test(f)&&!l.test(f.substr(0,4)))}},{key:"mobile",value:function(){var f=s();return!(!u.test(f)&&!c.test(f.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),h}();r.default=new d},function(i,r){Object.defineProperty(r,"__esModule",{value:!0});var n=function(a,o,l){var u=a.node.getAttribute("data-aos-once");o>a.position?a.node.classList.add("aos-animate"):typeof u<"u"&&(u==="false"||!l&&u!=="true")&&a.node.classList.remove("aos-animate")},s=function(a,o){var l=window.pageYOffset,u=window.innerHeight;a.forEach(function(c,d){n(c,u+l,o)})};r.default=s},function(i,r,n){function s(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(r,"__esModule",{value:!0});var a=n(12),o=s(a),l=function(u,c){return u.forEach(function(d,h){d.node.classList.add("aos-init"),d.position=(0,o.default)(d.node,c.offset)}),u};r.default=l},function(i,r,n){function s(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(r,"__esModule",{value:!0});var a=n(13),o=s(a),l=function(u,c){var d=0,h=0,f=window.innerHeight,g={offset:u.getAttribute("data-aos-offset"),anchor:u.getAttribute("data-aos-anchor"),anchorPlacement:u.getAttribute("data-aos-anchor-placement")};switch(g.offset&&!isNaN(g.offset)&&(h=parseInt(g.offset)),g.anchor&&document.querySelectorAll(g.anchor)&&(u=document.querySelectorAll(g.anchor)[0]),d=(0,o.default)(u).top,g.anchorPlacement){case"top-bottom":break;case"center-bottom":d+=u.offsetHeight/2;break;case"bottom-bottom":d+=u.offsetHeight;break;case"top-center":d+=f/2;break;case"bottom-center":d+=f/2+u.offsetHeight;break;case"center-center":d+=f/2+u.offsetHeight/2;break;case"top-top":d+=f;break;case"bottom-top":d+=u.offsetHeight+f;break;case"center-top":d+=u.offsetHeight/2+f}return g.anchorPlacement||g.offset||isNaN(c)||(h=c),d+h};r.default=l},function(i,r){Object.defineProperty(r,"__esModule",{value:!0});var n=function(s){for(var a=0,o=0;s&&!isNaN(s.offsetLeft)&&!isNaN(s.offsetTop);)a+=s.offsetLeft-(s.tagName!="BODY"?s.scrollLeft:0),o+=s.offsetTop-(s.tagName!="BODY"?s.scrollTop:0),s=s.offsetParent;return{top:o,left:a}};r.default=n},function(i,r){Object.defineProperty(r,"__esModule",{value:!0});var n=function(s){return s=s||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(s,function(a){return{node:a}})};r.default=n}])})})(gI);var Ade=gI.exports;const fk=Nu(Ade),Mde={install(t){t.config.globalProperties.$AOS=fk,fk.init()}};function Dde(t,e){let i;return(...r)=>{i!==void 0&&clearTimeout(i),i=setTimeout(()=>t(...r),e)}}function Lde({columns:t,columnWidth:e,emit:i,gap:r,items:n,maxColumns:s,minColumns:a,nextTick:o,onBeforeUnmount:l,onMounted:u,rtl:c,scrollContainer:d,ssrColumns:h,vue:f,wall:g,watch:y}){function C(O,U,J,Y){const ie=S(J);return Y+U+ie<=O?C(O,U,J+1,Y+U+ie):J}function S(O){const U=Array.isArray(e.value)?e.value:[e.value];return U[O%U.length]}function A(){const O=C(g.value.getBoundingClientRect().width,r.value,0,-r.value),U=M(T(O));return U>0?U:1}function T(O){const U=s==null?void 0:s.value;return U&&O>U?U:O}function M(O){const U=a==null?void 0:a.value;return U&&O<U?U:O}if(h.value>0){const O=mk(h.value);n.value.forEach((U,J)=>O[J%h.value].push(J)),t.value=O}let D=0;async function B(O,U){if(O>=n.value.length||(await o(),D!==U))return;const J=[...g.value.children];c.value&&J.reverse();const Y=J.reduce((ie,ce)=>ce.getBoundingClientRect().height<ie.getBoundingClientRect().height?ce:ie);t.value[+Y.dataset.index].push(O),await B(O+1,U)}async function F(O=!1){const U=A();if(t.value.length===U&&!O){i(f===2?"redraw-skip":"redrawSkip");return}t.value=mk(U);const J=d==null?void 0:d.value,Y=J?J.scrollTop:window.scrollY;await B(0,++D),J?J.scrollBy({top:Y-J.scrollTop}):window.scrollTo({top:Y}),i("redraw")}const V=typeof ResizeObserver>"u"?void 0:new ResizeObserver(Dde(()=>F()));return u(()=>{F(),V==null||V.observe(g.value)}),l(()=>V==null?void 0:V.unobserve(g.value)),y([n,c],()=>F(!0)),y([e,r,a,s],()=>F()),{getColumnWidthTarget:S}}function mk(t){return Array.from({length:t}).map(()=>[])}const Bde=["data-index"],Pde=st({__name:"masonry-wall",props:{columnWidth:{default:400},items:{},gap:{default:0},rtl:{type:Boolean,default:!1},ssrColumns:{default:0},scrollContainer:{default:null},minColumns:{default:1},maxColumns:{},keyMapper:{}},emits:["redraw","redrawSkip"],setup(t,{emit:e}){const i=t,r=e,n=Xe([]),s=Xe(),{getColumnWidthTarget:a}=Lde({columns:n,emit:r,nextTick:Ms,onBeforeUnmount:Ou,onMounted:qi,vue:3,wall:s,watch:_r,...Ls(i)});return(o,l)=>(X(),ne("div",{ref_key:"wall",ref:s,class:"masonry-wall",style:Zr({display:"flex",gap:`${o.gap}px`})},[(X(!0),ne(yt,null,Ni(n.value,(u,c)=>(X(),ne("div",{key:c,class:"masonry-column","data-index":c,style:Zr({display:"flex","flex-basis":`${P(a)(c)}px`,"flex-direction":"column","flex-grow":1,gap:`${o.gap}px`,height:["-webkit-max-content","-moz-max-content","max-content"],"min-width":0})},[(X(!0),ne(yt,null,Ni(u,(d,h)=>{var f;return X(),ne("div",{key:((f=o.keyMapper)==null?void 0:f.call(o,o.items[d],c,h,d))??d,class:"masonry-item"},[Bg(o.$slots,"default",{item:o.items[d],column:c,row:h,index:d},()=>[tt(ve(o.items[d]),1)])])}),128))],12,Bde))),128))],4))}}),Ide=(()=>{const t=Pde;return t.install=e=>{e.component("MasonryWall",t)},t})(),Rde=FN(),Pp=PN(mz);Pp.use(Rde);Pp.use(z6);Pp.use(Mde);Pp.use(Ide);Pp.mount("#app");export{m as a,sa as b,ne as c,Ya as d,Nu as g,X as o};
