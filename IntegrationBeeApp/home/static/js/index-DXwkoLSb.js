var S9=Object.defineProperty;var C9=(t,e,r)=>e in t?S9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ni=(t,e,r)=>C9(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}})();/**
* @vue/shared v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function rm(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Nt={},wo=[],Ps=()=>{},E9=()=>!1,hd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),im=t=>t.startsWith("onUpdate:"),mr=Object.assign,sm=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},A9=Object.prototype.hasOwnProperty,It=(t,e)=>A9.call(t,e),We=Array.isArray,To=t=>Nu(t)==="[object Map]",fd=t=>Nu(t)==="[object Set]",Gg=t=>Nu(t)==="[object Date]",lt=t=>typeof t=="function",sr=t=>typeof t=="string",Ns=t=>typeof t=="symbol",Bt=t=>t!==null&&typeof t=="object",G3=t=>(Bt(t)||lt(t))&&lt(t.then)&&lt(t.catch),W3=Object.prototype.toString,Nu=t=>W3.call(t),k9=t=>Nu(t).slice(8,-1),X3=t=>Nu(t)==="[object Object]",nm=t=>sr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Jl=rm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pd=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},D9=/-(\w)/g,ds=pd(t=>t.replace(D9,(e,r)=>r?r.toUpperCase():"")),I9=/\B([A-Z])/g,Ga=pd(t=>t.replace(I9,"-$1").toLowerCase()),md=pd(t=>t.charAt(0).toUpperCase()+t.slice(1)),Rh=pd(t=>t?`on${md(t)}`:""),Xn=(t,e)=>!Object.is(t,e),c0=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},K3=(t,e,r,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:r})},Hf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},L9=t=>{const e=sr(t)?Number(t):NaN;return isNaN(e)?t:e};let Wg;const Y3=()=>Wg||(Wg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function mi(t){if(We(t)){const e={};for(let r=0;r<t.length;r++){const i=t[r],s=sr(i)?O9(i):mi(i);if(s)for(const n in s)e[n]=s[n]}return e}else if(sr(t)||Bt(t))return t}const P9=/;(?![^(]*\))/g,M9=/:([^]+)/,R9=/\/\*[^]*?\*\//g;function O9(t){const e={};return t.replace(R9,"").split(P9).forEach(r=>{if(r){const i=r.split(M9);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function $t(t){let e="";if(sr(t))e=t;else if(We(t))for(let r=0;r<t.length;r++){const i=$t(t[r]);i&&(e+=i+" ")}else if(Bt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const N9="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",B9=rm(N9);function Q3(t){return!!t||t===""}function F9(t,e){if(t.length!==e.length)return!1;let r=!0;for(let i=0;r&&i<t.length;i++)r=gd(t[i],e[i]);return r}function gd(t,e){if(t===e)return!0;let r=Gg(t),i=Gg(e);if(r||i)return r&&i?t.getTime()===e.getTime():!1;if(r=Ns(t),i=Ns(e),r||i)return t===e;if(r=We(t),i=We(e),r||i)return r&&i?F9(t,e):!1;if(r=Bt(t),i=Bt(e),r||i){if(!r||!i)return!1;const s=Object.keys(t).length,n=Object.keys(e).length;if(s!==n)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!gd(t[a],e[a]))return!1}}return String(t)===String(e)}function Z3(t,e){return t.findIndex(r=>gd(r,e))}const J3=t=>!!(t&&t.__v_isRef===!0),we=t=>sr(t)?t:t==null?"":We(t)||Bt(t)&&(t.toString===W3||!lt(t.toString))?J3(t)?we(t.value):JSON.stringify(t,ev,2):String(t),ev=(t,e)=>J3(e)?ev(t,e.value):To(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,s],n)=>(r[Oh(i,n)+" =>"]=s,r),{})}:fd(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Oh(r))}:Ns(e)?Oh(e):Bt(e)&&!We(e)&&!X3(e)?String(e):e,Oh=(t,e="")=>{var r;return Ns(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Kr;class tv{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Kr,!e&&Kr&&(this.index=(Kr.scopes||(Kr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Kr;try{return Kr=this,e()}finally{Kr=r}}}on(){Kr=this}off(){Kr=this.parent}stop(e){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function rv(t){return new tv(t)}function iv(){return Kr}function U9(t,e=!1){Kr&&Kr.cleanups.push(t)}let Ft;const Nh=new WeakSet;class sv{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Kr&&Kr.active&&Kr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Nh.has(this)&&(Nh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||av(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Xg(this),ov(this);const e=Ft,r=os;Ft=this,os=!0;try{return this.fn()}finally{lv(this),Ft=e,os=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)lm(e);this.deps=this.depsTail=void 0,Xg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Nh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vf(this)&&this.run()}get dirty(){return Vf(this)}}let nv=0,eu;function av(t){t.flags|=8,t.next=eu,eu=t}function am(){nv++}function om(){if(--nv>0)return;let t;for(;eu;){let e=eu;for(eu=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=r}}if(t)throw t}function ov(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function lv(t){let e,r=t.depsTail,i=r;for(;i;){const s=i.prevDep;i.version===-1?(i===r&&(r=s),lm(i),$9(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=r}function Vf(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(uv(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function uv(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===gu))return;t.globalVersion=gu;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Vf(t)){t.flags&=-3;return}const r=Ft,i=os;Ft=t,os=!0;try{ov(t);const s=t.fn(t._value);(e.version===0||Xn(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Ft=r,os=i,lv(t),t.flags&=-3}}function lm(t){const{dep:e,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),e.subs===t&&(e.subs=r),!e.subs&&e.computed){e.computed.flags&=-5;for(let s=e.computed.deps;s;s=s.nextDep)lm(s)}}function $9(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let os=!0;const cv=[];function ta(){cv.push(os),os=!1}function ra(){const t=cv.pop();os=t===void 0?!0:t}function Xg(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=Ft;Ft=void 0;try{e()}finally{Ft=r}}}let gu=0;class z9{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class um{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0}track(e){if(!Ft||!os||Ft===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Ft)r=this.activeLink=new z9(Ft,this),Ft.deps?(r.prevDep=Ft.depsTail,Ft.depsTail.nextDep=r,Ft.depsTail=r):Ft.deps=Ft.depsTail=r,Ft.flags&4&&dv(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=Ft.depsTail,r.nextDep=void 0,Ft.depsTail.nextDep=r,Ft.depsTail=r,Ft.deps===r&&(Ft.deps=i)}return r}trigger(e){this.version++,gu++,this.notify(e)}notify(e){am();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{om()}}}function dv(t){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)dv(i)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}const S0=new WeakMap,La=Symbol(""),Gf=Symbol(""),yu=Symbol("");function $r(t,e,r){if(os&&Ft){let i=S0.get(t);i||S0.set(t,i=new Map);let s=i.get(r);s||i.set(r,s=new um),s.track()}}function nn(t,e,r,i,s,n){const a=S0.get(t);if(!a){gu++;return}const o=l=>{l&&l.trigger()};if(am(),e==="clear")a.forEach(o);else{const l=We(t),u=l&&nm(r);if(l&&r==="length"){const c=Number(i);a.forEach((h,f)=>{(f==="length"||f===yu||!Ns(f)&&f>=c)&&o(h)})}else switch(r!==void 0&&o(a.get(r)),u&&o(a.get(yu)),e){case"add":l?u&&o(a.get("length")):(o(a.get(La)),To(t)&&o(a.get(Gf)));break;case"delete":l||(o(a.get(La)),To(t)&&o(a.get(Gf)));break;case"set":To(t)&&o(a.get(La));break}}om()}function q9(t,e){var r;return(r=S0.get(t))==null?void 0:r.get(e)}function no(t){const e=xt(t);return e===t?e:($r(e,"iterate",yu),zi(t)?e:e.map(Br))}function yd(t){return $r(t=xt(t),"iterate",yu),t}const j9={__proto__:null,[Symbol.iterator](){return Bh(this,Symbol.iterator,Br)},concat(...t){return no(this).concat(...t.map(e=>We(e)?no(e):e))},entries(){return Bh(this,"entries",t=>(t[1]=Br(t[1]),t))},every(t,e){return Xs(this,"every",t,e,void 0,arguments)},filter(t,e){return Xs(this,"filter",t,e,r=>r.map(Br),arguments)},find(t,e){return Xs(this,"find",t,e,Br,arguments)},findIndex(t,e){return Xs(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Xs(this,"findLast",t,e,Br,arguments)},findLastIndex(t,e){return Xs(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Xs(this,"forEach",t,e,void 0,arguments)},includes(...t){return Fh(this,"includes",t)},indexOf(...t){return Fh(this,"indexOf",t)},join(t){return no(this).join(t)},lastIndexOf(...t){return Fh(this,"lastIndexOf",t)},map(t,e){return Xs(this,"map",t,e,void 0,arguments)},pop(){return Dl(this,"pop")},push(...t){return Dl(this,"push",t)},reduce(t,...e){return Kg(this,"reduce",t,e)},reduceRight(t,...e){return Kg(this,"reduceRight",t,e)},shift(){return Dl(this,"shift")},some(t,e){return Xs(this,"some",t,e,void 0,arguments)},splice(...t){return Dl(this,"splice",t)},toReversed(){return no(this).toReversed()},toSorted(t){return no(this).toSorted(t)},toSpliced(...t){return no(this).toSpliced(...t)},unshift(...t){return Dl(this,"unshift",t)},values(){return Bh(this,"values",Br)}};function Bh(t,e,r){const i=yd(t),s=i[e]();return i!==t&&!zi(t)&&(s._next=s.next,s.next=()=>{const n=s._next();return n.value&&(n.value=r(n.value)),n}),s}const H9=Array.prototype;function Xs(t,e,r,i,s,n){const a=yd(t),o=a!==t&&!zi(t),l=a[e];if(l!==H9[e]){const h=l.apply(t,n);return o?Br(h):h}let u=r;a!==t&&(o?u=function(h,f){return r.call(this,Br(h),f,t)}:r.length>2&&(u=function(h,f){return r.call(this,h,f,t)}));const c=l.call(a,u,i);return o&&s?s(c):c}function Kg(t,e,r,i){const s=yd(t);let n=r;return s!==t&&(zi(t)?r.length>3&&(n=function(a,o,l){return r.call(this,a,o,l,t)}):n=function(a,o,l){return r.call(this,a,Br(o),l,t)}),s[e](n,...i)}function Fh(t,e,r){const i=xt(t);$r(i,"iterate",yu);const s=i[e](...r);return(s===-1||s===!1)&&fm(r[0])?(r[0]=xt(r[0]),i[e](...r)):s}function Dl(t,e,r=[]){ta(),am();const i=xt(t)[e].apply(t,r);return om(),ra(),i}const V9=rm("__proto__,__v_isRef,__isVue"),hv=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ns));function G9(t){Ns(t)||(t=String(t));const e=xt(this);return $r(e,"has",t),e.hasOwnProperty(t)}class fv{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,i){const s=this._isReadonly,n=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return n;if(r==="__v_raw")return i===(s?n?nw:yv:n?gv:mv).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=We(e);if(!s){let l;if(a&&(l=j9[r]))return l;if(r==="hasOwnProperty")return G9}const o=Reflect.get(e,r,gt(e)?e:i);return(Ns(r)?hv.has(r):V9(r))||(s||$r(e,"get",r),n)?o:gt(o)?a&&nm(r)?o:o.value:Bt(o)?s?bv(o):Zo(o):o}}class pv extends fv{constructor(e=!1){super(!1,e)}set(e,r,i,s){let n=e[r];if(!this._isShallow){const l=$a(n);if(!zi(i)&&!$a(i)&&(n=xt(n),i=xt(i)),!We(e)&&gt(n)&&!gt(i))return l?!1:(n.value=i,!0)}const a=We(e)&&nm(r)?Number(r)<e.length:It(e,r),o=Reflect.set(e,r,i,gt(e)?e:s);return e===xt(s)&&(a?Xn(i,n)&&nn(e,"set",r,i):nn(e,"add",r,i)),o}deleteProperty(e,r){const i=It(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&i&&nn(e,"delete",r,void 0),s}has(e,r){const i=Reflect.has(e,r);return(!Ns(r)||!hv.has(r))&&$r(e,"has",r),i}ownKeys(e){return $r(e,"iterate",We(e)?"length":La),Reflect.ownKeys(e)}}class W9 extends fv{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const X9=new pv,K9=new W9,Y9=new pv(!0);const cm=t=>t,vd=t=>Reflect.getPrototypeOf(t);function Pc(t,e,r=!1,i=!1){t=t.__v_raw;const s=xt(t),n=xt(e);r||(Xn(e,n)&&$r(s,"get",e),$r(s,"get",n));const{has:a}=vd(s),o=i?cm:r?pm:Br;if(a.call(s,e))return o(t.get(e));if(a.call(s,n))return o(t.get(n));t!==s&&t.get(e)}function Mc(t,e=!1){const r=this.__v_raw,i=xt(r),s=xt(t);return e||(Xn(t,s)&&$r(i,"has",t),$r(i,"has",s)),t===s?r.has(t):r.has(t)||r.has(s)}function Rc(t,e=!1){return t=t.__v_raw,!e&&$r(xt(t),"iterate",La),Reflect.get(t,"size",t)}function Yg(t,e=!1){!e&&!zi(t)&&!$a(t)&&(t=xt(t));const r=xt(this);return vd(r).has.call(r,t)||(r.add(t),nn(r,"add",t,t)),this}function Qg(t,e,r=!1){!r&&!zi(e)&&!$a(e)&&(e=xt(e));const i=xt(this),{has:s,get:n}=vd(i);let a=s.call(i,t);a||(t=xt(t),a=s.call(i,t));const o=n.call(i,t);return i.set(t,e),a?Xn(e,o)&&nn(i,"set",t,e):nn(i,"add",t,e),this}function Zg(t){const e=xt(this),{has:r,get:i}=vd(e);let s=r.call(e,t);s||(t=xt(t),s=r.call(e,t)),i&&i.call(e,t);const n=e.delete(t);return s&&nn(e,"delete",t,void 0),n}function Jg(){const t=xt(this),e=t.size!==0,r=t.clear();return e&&nn(t,"clear",void 0,void 0),r}function Oc(t,e){return function(i,s){const n=this,a=n.__v_raw,o=xt(a),l=e?cm:t?pm:Br;return!t&&$r(o,"iterate",La),a.forEach((u,c)=>i.call(s,l(u),l(c),n))}}function Nc(t,e,r){return function(...i){const s=this.__v_raw,n=xt(s),a=To(n),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=s[t](...i),c=r?cm:e?pm:Br;return!e&&$r(n,"iterate",l?Gf:La),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:o?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function An(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Q9(){const t={get(n){return Pc(this,n)},get size(){return Rc(this)},has:Mc,add:Yg,set:Qg,delete:Zg,clear:Jg,forEach:Oc(!1,!1)},e={get(n){return Pc(this,n,!1,!0)},get size(){return Rc(this)},has:Mc,add(n){return Yg.call(this,n,!0)},set(n,a){return Qg.call(this,n,a,!0)},delete:Zg,clear:Jg,forEach:Oc(!1,!0)},r={get(n){return Pc(this,n,!0)},get size(){return Rc(this,!0)},has(n){return Mc.call(this,n,!0)},add:An("add"),set:An("set"),delete:An("delete"),clear:An("clear"),forEach:Oc(!0,!1)},i={get(n){return Pc(this,n,!0,!0)},get size(){return Rc(this,!0)},has(n){return Mc.call(this,n,!0)},add:An("add"),set:An("set"),delete:An("delete"),clear:An("clear"),forEach:Oc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{t[n]=Nc(n,!1,!1),r[n]=Nc(n,!0,!1),e[n]=Nc(n,!1,!0),i[n]=Nc(n,!0,!0)}),[t,r,e,i]}const[Z9,J9,ew,tw]=Q9();function dm(t,e){const r=e?t?tw:ew:t?J9:Z9;return(i,s,n)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(It(r,s)&&s in i?r:i,s,n)}const rw={get:dm(!1,!1)},iw={get:dm(!1,!0)},sw={get:dm(!0,!1)};const mv=new WeakMap,gv=new WeakMap,yv=new WeakMap,nw=new WeakMap;function aw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ow(t){return t.__v_skip||!Object.isExtensible(t)?0:aw(k9(t))}function Zo(t){return $a(t)?t:hm(t,!1,X9,rw,mv)}function vv(t){return hm(t,!1,Y9,iw,gv)}function bv(t){return hm(t,!0,K9,sw,yv)}function hm(t,e,r,i,s){if(!Bt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const n=s.get(t);if(n)return n;const a=ow(t);if(a===0)return t;const o=new Proxy(t,a===2?i:r);return s.set(t,o),o}function an(t){return $a(t)?an(t.__v_raw):!!(t&&t.__v_isReactive)}function $a(t){return!!(t&&t.__v_isReadonly)}function zi(t){return!!(t&&t.__v_isShallow)}function fm(t){return t?!!t.__v_raw:!1}function xt(t){const e=t&&t.__v_raw;return e?xt(e):t}function ia(t){return!It(t,"__v_skip")&&Object.isExtensible(t)&&K3(t,"__v_skip",!0),t}const Br=t=>Bt(t)?Zo(t):t,pm=t=>Bt(t)?bv(t):t;function gt(t){return t?t.__v_isRef===!0:!1}function Ye(t){return xv(t,!1)}function _v(t){return xv(t,!0)}function xv(t,e){return gt(t)?t:new lw(t,e)}class lw{constructor(e,r){this.dep=new um,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:xt(e),this._value=r?e:Br(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,i=this.__v_isShallow||zi(e)||$a(e);e=i?e:xt(e),Xn(e,r)&&(this._rawValue=e,this._value=i?e:Br(e),this.dep.trigger())}}function N(t){return gt(t)?t.value:t}const uw={get:(t,e,r)=>e==="__v_raw"?t:N(Reflect.get(t,e,r)),set:(t,e,r,i)=>{const s=t[e];return gt(s)&&!gt(r)?(s.value=r,!0):Reflect.set(t,e,r,i)}};function wv(t){return an(t)?t:new Proxy(t,uw)}function Qi(t){const e=We(t)?new Array(t.length):{};for(const r in t)e[r]=Tv(t,r);return e}class cw{constructor(e,r,i){this._object=e,this._key=r,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return q9(xt(this._object),this._key)}}class dw{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function hw(t,e,r){return gt(t)?t:lt(t)?new dw(t):Bt(t)&&arguments.length>1?Tv(t,e,r):Ye(t)}function Tv(t,e,r){const i=t[e];return gt(i)?i:new cw(t,e,r)}class fw{constructor(e,r,i){this.fn=e,this.setter=r,this._value=void 0,this.dep=new um(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=gu-1,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ft!==this)return av(this),!0}get value(){const e=this.dep.track();return uv(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function pw(t,e,r=!1){let i,s;return lt(t)?i=t:(i=t.get,s=t.set),new fw(i,s,r)}const Bc={},C0=new WeakMap;let wa;function mw(t,e=!1,r=wa){if(r){let i=C0.get(r);i||C0.set(r,i=[]),i.push(t)}}function gw(t,e,r=Nt){const{immediate:i,deep:s,once:n,scheduler:a,augmentJob:o,call:l}=r,u=P=>s?P:zi(P)||s===!1||s===0?tn(P,1):tn(P);let c,h,f,y,w=!1,_=!1;if(gt(t)?(h=()=>t.value,w=zi(t)):an(t)?(h=()=>u(t),w=!0):We(t)?(_=!0,w=t.some(P=>an(P)||zi(P)),h=()=>t.map(P=>{if(gt(P))return P.value;if(an(P))return u(P);if(lt(P))return l?l(P,2):P()})):lt(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){ta();try{f()}finally{ra()}}const P=wa;wa=c;try{return l?l(t,3,[y]):t(y)}finally{wa=P}}:h=Ps,e&&s){const P=h,L=s===!0?1/0:s;h=()=>tn(P(),L)}const C=iv(),E=()=>{c.stop(),C&&sm(C.effects,c)};if(n&&e){const P=e;e=(...L)=>{P(...L),E()}}let k=_?new Array(t.length).fill(Bc):Bc;const D=P=>{if(!(!(c.flags&1)||!c.dirty&&!P))if(e){const L=c.run();if(s||w||(_?L.some((U,J)=>Xn(U,k[J])):Xn(L,k))){f&&f();const U=wa;wa=c;try{const J=[L,k===Bc?void 0:_&&k[0]===Bc?[]:k,y];l?l(e,3,J):e(...J),k=L}finally{wa=U}}}else c.run()};return o&&o(D),c=new sv(h),c.scheduler=a?()=>a(D,!1):D,y=P=>mw(P,!1,c),f=c.onStop=()=>{const P=C0.get(c);if(P){if(l)l(P,4);else for(const L of P)L();C0.delete(c)}},e?i?D(!0):k=c.run():a?a(D.bind(null,!0),!0):c.run(),E.pause=c.pause.bind(c),E.resume=c.resume.bind(c),E.stop=E,E}function tn(t,e=1/0,r){if(e<=0||!Bt(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,gt(t))tn(t.value,e,r);else if(We(t))for(let i=0;i<t.length;i++)tn(t[i],e,r);else if(fd(t)||To(t))t.forEach(i=>{tn(i,e,r)});else if(X3(t)){for(const i in t)tn(t[i],e,r);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&tn(t[i],e,r)}return t}/**
* @vue/runtime-core v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Bu(t,e,r,i){try{return i?t(...i):t()}catch(s){bd(s,e,r)}}function hs(t,e,r,i){if(lt(t)){const s=Bu(t,e,r,i);return s&&G3(s)&&s.catch(n=>{bd(n,e,r)}),s}if(We(t)){const s=[];for(let n=0;n<t.length;n++)s.push(hs(t[n],e,r,i));return s}}function bd(t,e,r,i=!0){const s=e?e.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Nt;if(e){let o=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const c=o.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}o=o.parent}if(n){ta(),Bu(n,null,10,[t,l,u]),ra();return}}yw(t,r,s,i,a)}function yw(t,e,r,i=!0,s=!1){if(s)throw t;console.error(t)}let vu=!1,Wf=!1;const Yr=[];let xs=0;const So=[];let Un=null,go=0;const Sv=Promise.resolve();let mm=null;function fs(t){const e=mm||Sv;return t?e.then(this?t.bind(this):t):e}function vw(t){let e=vu?xs+1:0,r=Yr.length;for(;e<r;){const i=e+r>>>1,s=Yr[i],n=bu(s);n<t||n===t&&s.flags&2?e=i+1:r=i}return e}function gm(t){if(!(t.flags&1)){const e=bu(t),r=Yr[Yr.length-1];!r||!(t.flags&2)&&e>=bu(r)?Yr.push(t):Yr.splice(vw(e),0,t),t.flags|=1,Cv()}}function Cv(){!vu&&!Wf&&(Wf=!0,mm=Sv.then(Av))}function bw(t){We(t)?So.push(...t):Un&&t.id===-1?Un.splice(go+1,0,t):t.flags&1||(So.push(t),t.flags|=1),Cv()}function e2(t,e,r=vu?xs+1:0){for(;r<Yr.length;r++){const i=Yr[r];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Yr.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&=-2}}}function Ev(t){if(So.length){const e=[...new Set(So)].sort((r,i)=>bu(r)-bu(i));if(So.length=0,Un){Un.push(...e);return}for(Un=e,go=0;go<Un.length;go++){const r=Un[go];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Un=null,go=0}}const bu=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Av(t){Wf=!1,vu=!0;try{for(xs=0;xs<Yr.length;xs++){const e=Yr[xs];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Bu(e,e.i,e.i?15:14),e.flags&=-2)}}finally{for(;xs<Yr.length;xs++){const e=Yr[xs];e&&(e.flags&=-2)}xs=0,Yr.length=0,Ev(),vu=!1,mm=null,(Yr.length||So.length)&&Av()}}let wr=null,kv=null;function E0(t){const e=wr;return wr=t,kv=t&&t.type.__scopeId||null,e}function Fe(t,e=wr,r){if(!e||t._n)return t;const i=(...s)=>{i._d&&h2(-1);const n=E0(e);let a;try{a=t(...s)}finally{E0(n),i._d&&h2(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Pa(t,e){if(wr===null)return t;const r=Cd(wr),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[n,a,o,l=Nt]=e[s];n&&(lt(n)&&(n={mounted:n,updated:n}),n.deep&&tn(a),i.push({dir:n,instance:r,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function ga(t,e,r,i){const s=t.dirs,n=e&&e.dirs;for(let a=0;a<s.length;a++){const o=s[a];n&&(o.oldValue=n[a].value);let l=o.dir[i];l&&(ta(),hs(l,r,8,[t.el,o,t,e]),ra())}}const Dv=Symbol("_vte"),Iv=t=>t.__isTeleport,tu=t=>t&&(t.disabled||t.disabled===""),_w=t=>t&&(t.defer||t.defer===""),t2=t=>typeof SVGElement<"u"&&t instanceof SVGElement,r2=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Xf=(t,e)=>{const r=t&&t.to;return sr(r)?e?e(r):null:r},xw={name:"Teleport",__isTeleport:!0,process(t,e,r,i,s,n,a,o,l,u){const{mc:c,pc:h,pbc:f,o:{insert:y,querySelector:w,createText:_,createComment:C}}=u,E=tu(e.props);let{shapeFlag:k,children:D,dynamicChildren:P}=e;if(t==null){const L=e.el=_(""),U=e.anchor=_("");y(L,r,i),y(U,r,i);const J=(H,re)=>{k&16&&(s&&s.isCE&&(s.ce._teleportTarget=H),c(D,H,re,s,n,a,o,l))},X=()=>{const H=e.target=Xf(e.props,w),re=Pv(H,e,_,y);H&&(a!=="svg"&&t2(H)?a="svg":a!=="mathml"&&r2(H)&&(a="mathml"),E||(J(H,re),d0(e)))};E&&(J(r,U),d0(e)),_w(e.props)?ui(X,n):X()}else{e.el=t.el,e.targetStart=t.targetStart;const L=e.anchor=t.anchor,U=e.target=t.target,J=e.targetAnchor=t.targetAnchor,X=tu(t.props),H=X?r:U,re=X?L:J;if(a==="svg"||t2(U)?a="svg":(a==="mathml"||r2(U))&&(a="mathml"),P?(f(t.dynamicChildren,P,H,s,n,a,o),xm(t,e,!0)):l||h(t,e,H,re,s,n,a,o,!1),E)X?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Fc(e,r,L,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const Z=e.target=Xf(e.props,w);Z&&Fc(e,Z,null,u,0)}else X&&Fc(e,U,J,u,1);d0(e)}},remove(t,e,r,{um:i,o:{remove:s}},n){const{shapeFlag:a,children:o,anchor:l,targetStart:u,targetAnchor:c,target:h,props:f}=t;if(h&&(s(u),s(c)),n&&s(l),a&16){const y=n||!tu(f);for(let w=0;w<o.length;w++){const _=o[w];i(_,e,r,y,!!_.dynamicChildren)}}},move:Fc,hydrate:ww};function Fc(t,e,r,{o:{insert:i},m:s},n=2){n===0&&i(t.targetAnchor,e,r);const{el:a,anchor:o,shapeFlag:l,children:u,props:c}=t,h=n===2;if(h&&i(a,e,r),(!h||tu(c))&&l&16)for(let f=0;f<u.length;f++)s(u[f],e,r,2);h&&i(o,e,r)}function ww(t,e,r,i,s,n,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:u,createText:c}},h){const f=e.target=Xf(e.props,l);if(f){const y=f._lpa||f.firstChild;if(e.shapeFlag&16)if(tu(e.props))e.anchor=h(a(t),e,o(t),r,i,s,n),e.targetStart=y,e.targetAnchor=y&&a(y);else{e.anchor=a(t);let w=y;for(;w;){if(w&&w.nodeType===8){if(w.data==="teleport start anchor")e.targetStart=w;else if(w.data==="teleport anchor"){e.targetAnchor=w,f._lpa=e.targetAnchor&&a(e.targetAnchor);break}}w=a(w)}e.targetAnchor||Pv(f,e,c,u),h(y&&a(y),e,f,r,i,s,n)}d0(e)}return e.anchor&&a(e.anchor)}const Lv=xw;function d0(t){const e=t.ctx;if(e&&e.ut){let r=t.targetStart;for(;r&&r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}function Pv(t,e,r,i){const s=e.targetStart=r(""),n=e.targetAnchor=r("");return s[Dv]=n,t&&(i(s,t),i(n,t)),n}const $n=Symbol("_leaveCb"),Uc=Symbol("_enterCb");function Mv(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Rr(()=>{t.isMounted=!0}),Jo(()=>{t.isUnmounting=!0}),t}const Bi=[Function,Array],Rv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Bi,onEnter:Bi,onAfterEnter:Bi,onEnterCancelled:Bi,onBeforeLeave:Bi,onLeave:Bi,onAfterLeave:Bi,onLeaveCancelled:Bi,onBeforeAppear:Bi,onAppear:Bi,onAfterAppear:Bi,onAppearCancelled:Bi},Ov=t=>{const e=t.subTree;return e.component?Ov(e.component):e},Tw={name:"BaseTransition",props:Rv,setup(t,{slots:e}){const r=Sm(),i=Mv();return()=>{const s=e.default&&ym(e.default(),!0);if(!s||!s.length)return;const n=Nv(s),a=xt(t),{mode:o}=a;if(i.isLeaving)return Uh(n);const l=i2(n);if(!l)return Uh(n);let u=_u(l,a,i,r,f=>u=f);l.type!==Zr&&za(l,u);const c=r.subTree,h=c&&i2(c);if(h&&h.type!==Zr&&!Ca(l,h)&&Ov(r).type!==Zr){const f=_u(h,a,i,r);if(za(h,f),o==="out-in"&&l.type!==Zr)return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave},Uh(n);o==="in-out"&&l.type!==Zr&&(f.delayLeave=(y,w,_)=>{const C=Bv(i,h);C[String(h.key)]=h,y[$n]=()=>{w(),y[$n]=void 0,delete u.delayedLeave},u.delayedLeave=_})}return n}}};function Nv(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==Zr){e=r;break}}return e}const Sw=Tw;function Bv(t,e){const{leavingVNodes:r}=t;let i=r.get(e.type);return i||(i=Object.create(null),r.set(e.type,i)),i}function _u(t,e,r,i,s){const{appear:n,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:f,onLeave:y,onAfterLeave:w,onLeaveCancelled:_,onBeforeAppear:C,onAppear:E,onAfterAppear:k,onAppearCancelled:D}=e,P=String(t.key),L=Bv(r,t),U=(H,re)=>{H&&hs(H,i,9,re)},J=(H,re)=>{const Z=re[1];U(H,re),We(H)?H.every(W=>W.length<=1)&&Z():H.length<=1&&Z()},X={mode:a,persisted:o,beforeEnter(H){let re=l;if(!r.isMounted)if(n)re=C||l;else return;H[$n]&&H[$n](!0);const Z=L[P];Z&&Ca(t,Z)&&Z.el[$n]&&Z.el[$n](),U(re,[H])},enter(H){let re=u,Z=c,W=h;if(!r.isMounted)if(n)re=E||u,Z=k||c,W=D||h;else return;let ne=!1;const ce=H[Uc]=$e=>{ne||(ne=!0,$e?U(W,[H]):U(Z,[H]),X.delayedLeave&&X.delayedLeave(),H[Uc]=void 0)};re?J(re,[H,ce]):ce()},leave(H,re){const Z=String(t.key);if(H[Uc]&&H[Uc](!0),r.isUnmounting)return re();U(f,[H]);let W=!1;const ne=H[$n]=ce=>{W||(W=!0,re(),ce?U(_,[H]):U(w,[H]),H[$n]=void 0,L[Z]===t&&delete L[Z])};L[Z]=t,y?J(y,[H,ne]):ne()},clone(H){const re=_u(H,e,r,i,s);return s&&s(re),re}};return X}function Uh(t){if(_d(t))return t=Kn(t),t.children=null,t}function i2(t){if(!_d(t))return Iv(t.type)&&t.children?Nv(t.children):t;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&lt(r.default))return r.default()}}function za(t,e){t.shapeFlag&6&&t.component?(t.transition=e,za(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ym(t,e=!1,r){let i=[],s=0;for(let n=0;n<t.length;n++){let a=t[n];const o=r==null?a.key:String(r)+String(a.key!=null?a.key:n);a.type===ct?(a.patchFlag&128&&s++,i=i.concat(ym(a.children,e,o))):(e||a.type!==Zr)&&i.push(o!=null?Kn(a,{key:o}):a)}if(s>1)for(let n=0;n<i.length;n++)i[n].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function tt(t,e){return lt(t)?mr({name:t.name},e,{setup:t}):t}function Fv(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Cw(t){const e=Sm(),r=_v(null);if(e){const s=e.refs===Nt?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>r.value,set:n=>r.value=n})}return r}function Kf(t,e,r,i,s=!1){if(We(t)){t.forEach((w,_)=>Kf(w,e&&(We(e)?e[_]:e),r,i,s));return}if(Co(i)&&!s)return;const n=i.shapeFlag&4?Cd(i.component):i.el,a=s?null:n,{i:o,r:l}=t,u=e&&e.r,c=o.refs===Nt?o.refs={}:o.refs,h=o.setupState,f=xt(h),y=h===Nt?()=>!1:w=>It(f,w);if(u!=null&&u!==l&&(sr(u)?(c[u]=null,y(u)&&(h[u]=null)):gt(u)&&(u.value=null)),lt(l))Bu(l,o,12,[a,c]);else{const w=sr(l),_=gt(l);if(w||_){const C=()=>{if(t.f){const E=w?y(l)?h[l]:c[l]:l.value;s?We(E)&&sm(E,n):We(E)?E.includes(n)||E.push(n):w?(c[l]=[n],y(l)&&(h[l]=c[l])):(l.value=[n],t.k&&(c[t.k]=l.value))}else w?(c[l]=a,y(l)&&(h[l]=a)):_&&(l.value=a,t.k&&(c[t.k]=a))};a?(C.id=-1,ui(C,r)):C()}}}const Co=t=>!!t.type.__asyncLoader,_d=t=>t.type.__isKeepAlive;function Ew(t,e){Uv(t,"a",e)}function Aw(t,e){Uv(t,"da",e)}function Uv(t,e,r=Ar){const i=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(xd(e,i,r),r){let s=r.parent;for(;s&&s.parent;)_d(s.parent.vnode)&&kw(i,e,r,s),s=s.parent}}function kw(t,e,r,i){const s=xd(e,t,i,!0);sa(()=>{sm(i[e],s)},r)}function xd(t,e,r=Ar,i=!1){if(r){const s=r[t]||(r[t]=[]),n=e.__weh||(e.__weh=(...a)=>{ta();const o=Fu(r),l=hs(e,r,t,a);return o(),ra(),l});return i?s.unshift(n):s.push(n),n}}const _n=t=>(e,r=Ar)=>{(!Sd||t==="sp")&&xd(t,(...i)=>e(...i),r)},xn=_n("bm"),Rr=_n("m"),Dw=_n("bu"),$v=_n("u"),Jo=_n("bum"),sa=_n("um"),Iw=_n("sp"),Lw=_n("rtg"),Pw=_n("rtc");function Mw(t,e=Ar){xd("ec",t,e)}const Rw="components";function Zi(t,e){return Nw(Rw,t,!0,e)||t}const Ow=Symbol.for("v-ndc");function Nw(t,e,r=!0,i=!1){const s=wr||Ar;if(s){const n=s.type;{const o=ST(n,!1);if(o&&(o===e||o===ds(e)||o===md(ds(e))))return n}const a=s2(s[t]||n[t],e)||s2(s.appContext[t],e);return!a&&i?n:a}}function s2(t,e){return t&&(t[e]||t[ds(e)]||t[md(ds(e))])}function Er(t,e,r,i){let s;const n=r,a=We(t);if(a||sr(t)){const o=a&&an(t);let l=!1;o&&(l=!zi(t),t=yd(t)),s=new Array(t.length);for(let u=0,c=t.length;u<c;u++)s[u]=e(l?Br(t[u]):t[u],u,void 0,n)}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,n)}else if(Bt(t))if(t[Symbol.iterator])s=Array.from(t,(o,l)=>e(o,l,void 0,n));else{const o=Object.keys(t);s=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const c=o[l];s[l]=e(t[c],c,l,n)}}else s=[];return s}function vm(t,e,r={},i,s){if(wr.ce||wr.parent&&Co(wr.parent)&&wr.parent.ce)return Y(),kt(ct,null,[ge("slot",r,i&&i())],64);let n=t[e];n&&n._c&&(n._d=!1),Y();const a=n&&zv(n(r)),o=kt(ct,{key:(r.key||a&&a.key||`_${e}`)+(!a&&i?"_fb":"")},a||(i?i():[]),a&&t._===1?64:-2);return o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),n&&n._c&&(n._d=!0),o}function zv(t){return t.some(e=>k0(e)?!(e.type===Zr||e.type===ct&&!zv(e.children)):!0)?t:null}const Yf=t=>t?n5(t)?Cd(t):Yf(t.parent):null,ru=mr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Yf(t.parent),$root:t=>Yf(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>bm(t),$forceUpdate:t=>t.f||(t.f=()=>{gm(t.update)}),$nextTick:t=>t.n||(t.n=fs.bind(t.proxy)),$watch:t=>nT.bind(t)}),$h=(t,e)=>t!==Nt&&!t.__isScriptSetup&&It(t,e),Bw={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:i,data:s,props:n,accessCache:a,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const y=a[e];if(y!==void 0)switch(y){case 1:return i[e];case 2:return s[e];case 4:return r[e];case 3:return n[e]}else{if($h(i,e))return a[e]=1,i[e];if(s!==Nt&&It(s,e))return a[e]=2,s[e];if((u=t.propsOptions[0])&&It(u,e))return a[e]=3,n[e];if(r!==Nt&&It(r,e))return a[e]=4,r[e];Qf&&(a[e]=0)}}const c=ru[e];let h,f;if(c)return e==="$attrs"&&$r(t.attrs,"get",""),c(t);if((h=o.__cssModules)&&(h=h[e]))return h;if(r!==Nt&&It(r,e))return a[e]=4,r[e];if(f=l.config.globalProperties,It(f,e))return f[e]},set({_:t},e,r){const{data:i,setupState:s,ctx:n}=t;return $h(s,e)?(s[e]=r,!0):i!==Nt&&It(i,e)?(i[e]=r,!0):It(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(n[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:i,appContext:s,propsOptions:n}},a){let o;return!!r[a]||t!==Nt&&It(t,a)||$h(e,a)||(o=n[0])&&It(o,a)||It(i,a)||It(ru,a)||It(s.config.globalProperties,a)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:It(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function n2(t){return We(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Qf=!0;function Fw(t){const e=bm(t),r=t.proxy,i=t.ctx;Qf=!1,e.beforeCreate&&a2(e.beforeCreate,t,"bc");const{data:s,computed:n,methods:a,watch:o,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:y,updated:w,activated:_,deactivated:C,beforeDestroy:E,beforeUnmount:k,destroyed:D,unmounted:P,render:L,renderTracked:U,renderTriggered:J,errorCaptured:X,serverPrefetch:H,expose:re,inheritAttrs:Z,components:W,directives:ne,filters:ce}=e;if(u&&Uw(u,i,null),a)for(const De in a){const ze=a[De];lt(ze)&&(i[De]=ze.bind(r))}if(s){const De=s.call(r,r);Bt(De)&&(t.data=Zo(De))}if(Qf=!0,n)for(const De in n){const ze=n[De],Et=lt(ze)?ze.bind(r,r):lt(ze.get)?ze.get.bind(r,r):Ps,wt=!lt(ze)&&lt(ze.set)?ze.set.bind(r):Ps,Ze=qt({get:Et,set:wt});Object.defineProperty(i,De,{enumerable:!0,configurable:!0,get:()=>Ze.value,set:ut=>Ze.value=ut})}if(o)for(const De in o)qv(o[De],i,r,De);if(l){const De=lt(l)?l.call(r):l;Reflect.ownKeys(De).forEach(ze=>{Ai(ze,De[ze])})}c&&a2(c,t,"c");function ke(De,ze){We(ze)?ze.forEach(Et=>De(Et.bind(r))):ze&&De(ze.bind(r))}if(ke(xn,h),ke(Rr,f),ke(Dw,y),ke($v,w),ke(Ew,_),ke(Aw,C),ke(Mw,X),ke(Pw,U),ke(Lw,J),ke(Jo,k),ke(sa,P),ke(Iw,H),We(re))if(re.length){const De=t.exposed||(t.exposed={});re.forEach(ze=>{Object.defineProperty(De,ze,{get:()=>r[ze],set:Et=>r[ze]=Et})})}else t.exposed||(t.exposed={});L&&t.render===Ps&&(t.render=L),Z!=null&&(t.inheritAttrs=Z),W&&(t.components=W),ne&&(t.directives=ne),H&&Fv(t)}function Uw(t,e,r=Ps){We(t)&&(t=Zf(t));for(const i in t){const s=t[i];let n;Bt(s)?"default"in s?n=Dr(s.from||i,s.default,!0):n=Dr(s.from||i):n=Dr(s),gt(n)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>n.value,set:a=>n.value=a}):e[i]=n}}function a2(t,e,r){hs(We(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,r)}function qv(t,e,r,i){let s=i.includes(".")?e5(r,i):()=>r[i];if(sr(t)){const n=e[t];lt(n)&&ls(s,n)}else if(lt(t))ls(s,t.bind(r));else if(Bt(t))if(We(t))t.forEach(n=>qv(n,e,r,i));else{const n=lt(t.handler)?t.handler.bind(r):e[t.handler];lt(n)&&ls(s,n,t)}}function bm(t){const e=t.type,{mixins:r,extends:i}=e,{mixins:s,optionsCache:n,config:{optionMergeStrategies:a}}=t.appContext,o=n.get(e);let l;return o?l=o:!s.length&&!r&&!i?l=e:(l={},s.length&&s.forEach(u=>A0(l,u,a,!0)),A0(l,e,a)),Bt(e)&&n.set(e,l),l}function A0(t,e,r,i=!1){const{mixins:s,extends:n}=e;n&&A0(t,n,r,!0),s&&s.forEach(a=>A0(t,a,r,!0));for(const a in e)if(!(i&&a==="expose")){const o=$w[a]||r&&r[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const $w={data:o2,props:l2,emits:l2,methods:Vl,computed:Vl,beforeCreate:Xr,created:Xr,beforeMount:Xr,mounted:Xr,beforeUpdate:Xr,updated:Xr,beforeDestroy:Xr,beforeUnmount:Xr,destroyed:Xr,unmounted:Xr,activated:Xr,deactivated:Xr,errorCaptured:Xr,serverPrefetch:Xr,components:Vl,directives:Vl,watch:qw,provide:o2,inject:zw};function o2(t,e){return e?t?function(){return mr(lt(t)?t.call(this,this):t,lt(e)?e.call(this,this):e)}:e:t}function zw(t,e){return Vl(Zf(t),Zf(e))}function Zf(t){if(We(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Xr(t,e){return t?[...new Set([].concat(t,e))]:e}function Vl(t,e){return t?mr(Object.create(null),t,e):e}function l2(t,e){return t?We(t)&&We(e)?[...new Set([...t,...e])]:mr(Object.create(null),n2(t),n2(e??{})):e}function qw(t,e){if(!t)return e;if(!e)return t;const r=mr(Object.create(null),t);for(const i in e)r[i]=Xr(t[i],e[i]);return r}function jv(){return{app:null,config:{isNativeTag:E9,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jw=0;function Hw(t,e){return function(i,s=null){lt(i)||(i=mr({},i)),s!=null&&!Bt(s)&&(s=null);const n=jv(),a=new WeakSet,o=[];let l=!1;const u=n.app={_uid:jw++,_component:i,_props:s,_container:null,_context:n,_instance:null,version:ET,get config(){return n.config},set config(c){},use(c,...h){return a.has(c)||(c&&lt(c.install)?(a.add(c),c.install(u,...h)):lt(c)&&(a.add(c),c(u,...h))),u},mixin(c){return n.mixins.includes(c)||n.mixins.push(c),u},component(c,h){return h?(n.components[c]=h,u):n.components[c]},directive(c,h){return h?(n.directives[c]=h,u):n.directives[c]},mount(c,h,f){if(!l){const y=u._ceVNode||ge(i,s);return y.appContext=n,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(y,c):t(y,c,f),l=!0,u._container=c,c.__vue_app__=u,Cd(y.component)}},onUnmount(c){o.push(c)},unmount(){l&&(hs(o,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return n.provides[c]=h,u},runWithContext(c){const h=Ma;Ma=u;try{return c()}finally{Ma=h}}};return u}}let Ma=null;function Ai(t,e){if(Ar){let r=Ar.provides;const i=Ar.parent&&Ar.parent.provides;i===r&&(r=Ar.provides=Object.create(i)),r[t]=e}}function Dr(t,e,r=!1){const i=Ar||wr;if(i||Ma){const s=Ma?Ma._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return r&&lt(e)?e.call(i&&i.proxy):e}}function Vw(){return!!(Ar||wr||Ma)}const Hv={},Vv=()=>Object.create(Hv),Gv=t=>Object.getPrototypeOf(t)===Hv;function Gw(t,e,r,i=!1){const s={},n=Vv();t.propsDefaults=Object.create(null),Wv(t,e,s,n);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);r?t.props=i?s:vv(s):t.type.props?t.props=s:t.props=n,t.attrs=n}function Ww(t,e,r,i){const{props:s,attrs:n,vnode:{patchFlag:a}}=t,o=xt(s),[l]=t.propsOptions;let u=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(wd(t.emitsOptions,f))continue;const y=e[f];if(l)if(It(n,f))y!==n[f]&&(n[f]=y,u=!0);else{const w=ds(f);s[w]=Jf(l,o,w,y,t,!1)}else y!==n[f]&&(n[f]=y,u=!0)}}}else{Wv(t,e,s,n)&&(u=!0);let c;for(const h in o)(!e||!It(e,h)&&((c=Ga(h))===h||!It(e,c)))&&(l?r&&(r[h]!==void 0||r[c]!==void 0)&&(s[h]=Jf(l,o,h,void 0,t,!0)):delete s[h]);if(n!==o)for(const h in n)(!e||!It(e,h))&&(delete n[h],u=!0)}u&&nn(t.attrs,"set","")}function Wv(t,e,r,i){const[s,n]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(Jl(l))continue;const u=e[l];let c;s&&It(s,c=ds(l))?!n||!n.includes(c)?r[c]=u:(o||(o={}))[c]=u:wd(t.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,a=!0)}if(n){const l=xt(r),u=o||Nt;for(let c=0;c<n.length;c++){const h=n[c];r[h]=Jf(s,l,h,u[h],t,!It(u,h))}}return a}function Jf(t,e,r,i,s,n){const a=t[r];if(a!=null){const o=It(a,"default");if(o&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&lt(l)){const{propsDefaults:u}=s;if(r in u)i=u[r];else{const c=Fu(s);i=u[r]=l.call(null,e),c()}}else i=l;s.ce&&s.ce._setProp(r,i)}a[0]&&(n&&!o?i=!1:a[1]&&(i===""||i===Ga(r))&&(i=!0))}return i}const Xw=new WeakMap;function Xv(t,e,r=!1){const i=r?Xw:e.propsCache,s=i.get(t);if(s)return s;const n=t.props,a={},o=[];let l=!1;if(!lt(t)){const c=h=>{l=!0;const[f,y]=Xv(h,e,!0);mr(a,f),y&&o.push(...y)};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!n&&!l)return Bt(t)&&i.set(t,wo),wo;if(We(n))for(let c=0;c<n.length;c++){const h=ds(n[c]);u2(h)&&(a[h]=Nt)}else if(n)for(const c in n){const h=ds(c);if(u2(h)){const f=n[c],y=a[h]=We(f)||lt(f)?{type:f}:mr({},f),w=y.type;let _=!1,C=!0;if(We(w))for(let E=0;E<w.length;++E){const k=w[E],D=lt(k)&&k.name;if(D==="Boolean"){_=!0;break}else D==="String"&&(C=!1)}else _=lt(w)&&w.name==="Boolean";y[0]=_,y[1]=C,(_||It(y,"default"))&&o.push(h)}}const u=[a,o];return Bt(t)&&i.set(t,u),u}function u2(t){return t[0]!=="$"&&!Jl(t)}const Kv=t=>t[0]==="_"||t==="$stable",_m=t=>We(t)?t.map(Ts):[Ts(t)],Kw=(t,e,r)=>{if(e._n)return e;const i=Fe((...s)=>_m(e(...s)),r);return i._c=!1,i},Yv=(t,e,r)=>{const i=t._ctx;for(const s in t){if(Kv(s))continue;const n=t[s];if(lt(n))e[s]=Kw(s,n,i);else if(n!=null){const a=_m(n);e[s]=()=>a}}},Qv=(t,e)=>{const r=_m(e);t.slots.default=()=>r},Zv=(t,e,r)=>{for(const i in e)(r||i!=="_")&&(t[i]=e[i])},Yw=(t,e,r)=>{const i=t.slots=Vv();if(t.vnode.shapeFlag&32){const s=e._;s?(Zv(i,e,r),r&&K3(i,"_",s,!0)):Yv(e,i)}else e&&Qv(t,e)},Qw=(t,e,r)=>{const{vnode:i,slots:s}=t;let n=!0,a=Nt;if(i.shapeFlag&32){const o=e._;o?r&&o===1?n=!1:Zv(s,e,r):(n=!e.$stable,Yv(e,s)),a=e}else e&&(Qv(t,e),a={default:1});if(n)for(const o in s)!Kv(o)&&a[o]==null&&delete s[o]},ui=hT;function Zw(t){return Jw(t)}function Jw(t,e){const r=Y3();r.__VUE__=!0;const{insert:i,remove:s,patchProp:n,createElement:a,createText:o,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:y=Ps,insertStaticContent:w}=t,_=(R,B,Q,de=null,ue=null,he=null,Ce=void 0,pe=null,Ee=!!B.dynamicChildren)=>{if(R===B)return;R&&!Ca(R,B)&&(de=ie(R),ut(R,ue,he,!0),R=null),B.patchFlag===-2&&(Ee=!1,B.dynamicChildren=null);const{type:be,ref:He,shapeFlag:Ie}=B;switch(be){case Td:C(R,B,Q,de);break;case Zr:E(R,B,Q,de);break;case h0:R==null&&k(B,Q,de,Ce);break;case ct:W(R,B,Q,de,ue,he,Ce,pe,Ee);break;default:Ie&1?L(R,B,Q,de,ue,he,Ce,pe,Ee):Ie&6?ne(R,B,Q,de,ue,he,Ce,pe,Ee):(Ie&64||Ie&128)&&be.process(R,B,Q,de,ue,he,Ce,pe,Ee,Le)}He!=null&&ue&&Kf(He,R&&R.ref,he,B||R,!B)},C=(R,B,Q,de)=>{if(R==null)i(B.el=o(B.children),Q,de);else{const ue=B.el=R.el;B.children!==R.children&&u(ue,B.children)}},E=(R,B,Q,de)=>{R==null?i(B.el=l(B.children||""),Q,de):B.el=R.el},k=(R,B,Q,de)=>{[R.el,R.anchor]=w(R.children,B,Q,de,R.el,R.anchor)},D=({el:R,anchor:B},Q,de)=>{let ue;for(;R&&R!==B;)ue=f(R),i(R,Q,de),R=ue;i(B,Q,de)},P=({el:R,anchor:B})=>{let Q;for(;R&&R!==B;)Q=f(R),s(R),R=Q;s(B)},L=(R,B,Q,de,ue,he,Ce,pe,Ee)=>{B.type==="svg"?Ce="svg":B.type==="math"&&(Ce="mathml"),R==null?U(B,Q,de,ue,he,Ce,pe,Ee):H(R,B,ue,he,Ce,pe,Ee)},U=(R,B,Q,de,ue,he,Ce,pe)=>{let Ee,be;const{props:He,shapeFlag:Ie,transition:Be,dirs:je}=R;if(Ee=R.el=a(R.type,he,He&&He.is,He),Ie&8?c(Ee,R.children):Ie&16&&X(R.children,Ee,null,de,ue,zh(R,he),Ce,pe),je&&ga(R,null,de,"created"),J(Ee,R,R.scopeId,Ce,de),He){for(const Tt in He)Tt!=="value"&&!Jl(Tt)&&n(Ee,Tt,null,He[Tt],he,de);"value"in He&&n(Ee,"value",null,He.value,he),(be=He.onVnodeBeforeMount)&&bs(be,de,R)}je&&ga(R,null,de,"beforeMount");const ht=eT(ue,Be);ht&&Be.beforeEnter(Ee),i(Ee,B,Q),((be=He&&He.onVnodeMounted)||ht||je)&&ui(()=>{be&&bs(be,de,R),ht&&Be.enter(Ee),je&&ga(R,null,de,"mounted")},ue)},J=(R,B,Q,de,ue)=>{if(Q&&y(R,Q),de)for(let he=0;he<de.length;he++)y(R,de[he]);if(ue){let he=ue.subTree;if(B===he||r5(he.type)&&(he.ssContent===B||he.ssFallback===B)){const Ce=ue.vnode;J(R,Ce,Ce.scopeId,Ce.slotScopeIds,ue.parent)}}},X=(R,B,Q,de,ue,he,Ce,pe,Ee=0)=>{for(let be=Ee;be<R.length;be++){const He=R[be]=pe?zn(R[be]):Ts(R[be]);_(null,He,B,Q,de,ue,he,Ce,pe)}},H=(R,B,Q,de,ue,he,Ce)=>{const pe=B.el=R.el;let{patchFlag:Ee,dynamicChildren:be,dirs:He}=B;Ee|=R.patchFlag&16;const Ie=R.props||Nt,Be=B.props||Nt;let je;if(Q&&ya(Q,!1),(je=Be.onVnodeBeforeUpdate)&&bs(je,Q,B,R),He&&ga(B,R,Q,"beforeUpdate"),Q&&ya(Q,!0),(Ie.innerHTML&&Be.innerHTML==null||Ie.textContent&&Be.textContent==null)&&c(pe,""),be?re(R.dynamicChildren,be,pe,Q,de,zh(B,ue),he):Ce||ze(R,B,pe,null,Q,de,zh(B,ue),he,!1),Ee>0){if(Ee&16)Z(pe,Ie,Be,Q,ue);else if(Ee&2&&Ie.class!==Be.class&&n(pe,"class",null,Be.class,ue),Ee&4&&n(pe,"style",Ie.style,Be.style,ue),Ee&8){const ht=B.dynamicProps;for(let Tt=0;Tt<ht.length;Tt++){const _t=ht[Tt],cr=Ie[_t],er=Be[_t];(er!==cr||_t==="value")&&n(pe,_t,cr,er,ue,Q)}}Ee&1&&R.children!==B.children&&c(pe,B.children)}else!Ce&&be==null&&Z(pe,Ie,Be,Q,ue);((je=Be.onVnodeUpdated)||He)&&ui(()=>{je&&bs(je,Q,B,R),He&&ga(B,R,Q,"updated")},de)},re=(R,B,Q,de,ue,he,Ce)=>{for(let pe=0;pe<B.length;pe++){const Ee=R[pe],be=B[pe],He=Ee.el&&(Ee.type===ct||!Ca(Ee,be)||Ee.shapeFlag&70)?h(Ee.el):Q;_(Ee,be,He,null,de,ue,he,Ce,!0)}},Z=(R,B,Q,de,ue)=>{if(B!==Q){if(B!==Nt)for(const he in B)!Jl(he)&&!(he in Q)&&n(R,he,B[he],null,ue,de);for(const he in Q){if(Jl(he))continue;const Ce=Q[he],pe=B[he];Ce!==pe&&he!=="value"&&n(R,he,pe,Ce,ue,de)}"value"in Q&&n(R,"value",B.value,Q.value,ue)}},W=(R,B,Q,de,ue,he,Ce,pe,Ee)=>{const be=B.el=R?R.el:o(""),He=B.anchor=R?R.anchor:o("");let{patchFlag:Ie,dynamicChildren:Be,slotScopeIds:je}=B;je&&(pe=pe?pe.concat(je):je),R==null?(i(be,Q,de),i(He,Q,de),X(B.children||[],Q,He,ue,he,Ce,pe,Ee)):Ie>0&&Ie&64&&Be&&R.dynamicChildren?(re(R.dynamicChildren,Be,Q,ue,he,Ce,pe),(B.key!=null||ue&&B===ue.subTree)&&xm(R,B,!0)):ze(R,B,Q,He,ue,he,Ce,pe,Ee)},ne=(R,B,Q,de,ue,he,Ce,pe,Ee)=>{B.slotScopeIds=pe,R==null?B.shapeFlag&512?ue.ctx.activate(B,Q,de,Ce,Ee):ce(B,Q,de,ue,he,Ce,Ee):$e(R,B,Ee)},ce=(R,B,Q,de,ue,he,Ce)=>{const pe=R.component=bT(R,de,ue);if(_d(R)&&(pe.ctx.renderer=Le),_T(pe,!1,Ce),pe.asyncDep){if(ue&&ue.registerDep(pe,ke,Ce),!R.el){const Ee=pe.subTree=ge(Zr);E(null,Ee,B,Q)}}else ke(pe,R,B,Q,ue,he,Ce)},$e=(R,B,Q)=>{const de=B.component=R.component;if(cT(R,B,Q))if(de.asyncDep&&!de.asyncResolved){De(de,B,Q);return}else de.next=B,de.update();else B.el=R.el,de.vnode=B},ke=(R,B,Q,de,ue,he,Ce)=>{const pe=()=>{if(R.isMounted){let{next:Ie,bu:Be,u:je,parent:ht,vnode:Tt}=R;{const dr=Jv(R);if(dr){Ie&&(Ie.el=Tt.el,De(R,Ie,Ce)),dr.asyncDep.then(()=>{R.isUnmounted||pe()});return}}let _t=Ie,cr;ya(R,!1),Ie?(Ie.el=Tt.el,De(R,Ie,Ce)):Ie=Tt,Be&&c0(Be),(cr=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&bs(cr,ht,Ie,Tt),ya(R,!0);const er=qh(R),ft=R.subTree;R.subTree=er,_(ft,er,h(ft.el),ie(ft),R,ue,he),Ie.el=er.el,_t===null&&dT(R,er.el),je&&ui(je,ue),(cr=Ie.props&&Ie.props.onVnodeUpdated)&&ui(()=>bs(cr,ht,Ie,Tt),ue)}else{let Ie;const{el:Be,props:je}=B,{bm:ht,m:Tt,parent:_t,root:cr,type:er}=R,ft=Co(B);if(ya(R,!1),ht&&c0(ht),!ft&&(Ie=je&&je.onVnodeBeforeMount)&&bs(Ie,_t,B),ya(R,!0),Be&&ot){const dr=()=>{R.subTree=qh(R),ot(Be,R.subTree,R,ue,null)};ft&&er.__asyncHydrate?er.__asyncHydrate(Be,R,dr):dr()}else{cr.ce&&cr.ce._injectChildStyle(er);const dr=R.subTree=qh(R);_(null,dr,Q,de,R,ue,he),B.el=dr.el}if(Tt&&ui(Tt,ue),!ft&&(Ie=je&&je.onVnodeMounted)){const dr=B;ui(()=>bs(Ie,_t,dr),ue)}(B.shapeFlag&256||_t&&Co(_t.vnode)&&_t.vnode.shapeFlag&256)&&R.a&&ui(R.a,ue),R.isMounted=!0,B=Q=de=null}};R.scope.on();const Ee=R.effect=new sv(pe);R.scope.off();const be=R.update=Ee.run.bind(Ee),He=R.job=Ee.runIfDirty.bind(Ee);He.i=R,He.id=R.uid,Ee.scheduler=()=>gm(He),ya(R,!0),be()},De=(R,B,Q)=>{B.component=R;const de=R.vnode.props;R.vnode=B,R.next=null,Ww(R,B.props,de,Q),Qw(R,B.children,Q),ta(),e2(R),ra()},ze=(R,B,Q,de,ue,he,Ce,pe,Ee=!1)=>{const be=R&&R.children,He=R?R.shapeFlag:0,Ie=B.children,{patchFlag:Be,shapeFlag:je}=B;if(Be>0){if(Be&128){wt(be,Ie,Q,de,ue,he,Ce,pe,Ee);return}else if(Be&256){Et(be,Ie,Q,de,ue,he,Ce,pe,Ee);return}}je&8?(He&16&&bt(be,ue,he),Ie!==be&&c(Q,Ie)):He&16?je&16?wt(be,Ie,Q,de,ue,he,Ce,pe,Ee):bt(be,ue,he,!0):(He&8&&c(Q,""),je&16&&X(Ie,Q,de,ue,he,Ce,pe,Ee))},Et=(R,B,Q,de,ue,he,Ce,pe,Ee)=>{R=R||wo,B=B||wo;const be=R.length,He=B.length,Ie=Math.min(be,He);let Be;for(Be=0;Be<Ie;Be++){const je=B[Be]=Ee?zn(B[Be]):Ts(B[Be]);_(R[Be],je,Q,null,ue,he,Ce,pe,Ee)}be>He?bt(R,ue,he,!0,!1,Ie):X(B,Q,de,ue,he,Ce,pe,Ee,Ie)},wt=(R,B,Q,de,ue,he,Ce,pe,Ee)=>{let be=0;const He=B.length;let Ie=R.length-1,Be=He-1;for(;be<=Ie&&be<=Be;){const je=R[be],ht=B[be]=Ee?zn(B[be]):Ts(B[be]);if(Ca(je,ht))_(je,ht,Q,null,ue,he,Ce,pe,Ee);else break;be++}for(;be<=Ie&&be<=Be;){const je=R[Ie],ht=B[Be]=Ee?zn(B[Be]):Ts(B[Be]);if(Ca(je,ht))_(je,ht,Q,null,ue,he,Ce,pe,Ee);else break;Ie--,Be--}if(be>Ie){if(be<=Be){const je=Be+1,ht=je<He?B[je].el:de;for(;be<=Be;)_(null,B[be]=Ee?zn(B[be]):Ts(B[be]),Q,ht,ue,he,Ce,pe,Ee),be++}}else if(be>Be)for(;be<=Ie;)ut(R[be],ue,he,!0),be++;else{const je=be,ht=be,Tt=new Map;for(be=ht;be<=Be;be++){const yr=B[be]=Ee?zn(B[be]):Ts(B[be]);yr.key!=null&&Tt.set(yr.key,be)}let _t,cr=0;const er=Be-ht+1;let ft=!1,dr=0;const hr=new Array(er);for(be=0;be<er;be++)hr[be]=0;for(be=je;be<=Ie;be++){const yr=R[be];if(cr>=er){ut(yr,ue,he,!0);continue}let Or;if(yr.key!=null)Or=Tt.get(yr.key);else for(_t=ht;_t<=Be;_t++)if(hr[_t-ht]===0&&Ca(yr,B[_t])){Or=_t;break}Or===void 0?ut(yr,ue,he,!0):(hr[Or-ht]=be+1,Or>=dr?dr=Or:ft=!0,_(yr,B[Or],Q,null,ue,he,Ce,pe,Ee),cr++)}const es=ft?tT(hr):wo;for(_t=es.length-1,be=er-1;be>=0;be--){const yr=ht+be,Or=B[yr],Za=yr+1<He?B[yr+1].el:de;hr[be]===0?_(null,Or,Q,Za,ue,he,Ce,pe,Ee):ft&&(_t<0||be!==es[_t]?Ze(Or,Q,Za,2):_t--)}}},Ze=(R,B,Q,de,ue=null)=>{const{el:he,type:Ce,transition:pe,children:Ee,shapeFlag:be}=R;if(be&6){Ze(R.component.subTree,B,Q,de);return}if(be&128){R.suspense.move(B,Q,de);return}if(be&64){Ce.move(R,B,Q,Le);return}if(Ce===ct){i(he,B,Q);for(let Ie=0;Ie<Ee.length;Ie++)Ze(Ee[Ie],B,Q,de);i(R.anchor,B,Q);return}if(Ce===h0){D(R,B,Q);return}if(de!==2&&be&1&&pe)if(de===0)pe.beforeEnter(he),i(he,B,Q),ui(()=>pe.enter(he),ue);else{const{leave:Ie,delayLeave:Be,afterLeave:je}=pe,ht=()=>i(he,B,Q),Tt=()=>{Ie(he,()=>{ht(),je&&je()})};Be?Be(he,ht,Tt):Tt()}else i(he,B,Q)},ut=(R,B,Q,de=!1,ue=!1)=>{const{type:he,props:Ce,ref:pe,children:Ee,dynamicChildren:be,shapeFlag:He,patchFlag:Ie,dirs:Be,cacheIndex:je}=R;if(Ie===-2&&(ue=!1),pe!=null&&Kf(pe,null,Q,R,!0),je!=null&&(B.renderCache[je]=void 0),He&256){B.ctx.deactivate(R);return}const ht=He&1&&Be,Tt=!Co(R);let _t;if(Tt&&(_t=Ce&&Ce.onVnodeBeforeUnmount)&&bs(_t,B,R),He&6)it(R.component,Q,de);else{if(He&128){R.suspense.unmount(Q,de);return}ht&&ga(R,null,B,"beforeUnmount"),He&64?R.type.remove(R,B,Q,Le,de):be&&!be.hasOnce&&(he!==ct||Ie>0&&Ie&64)?bt(be,B,Q,!1,!0):(he===ct&&Ie&384||!ue&&He&16)&&bt(Ee,B,Q),de&&rt(R)}(Tt&&(_t=Ce&&Ce.onVnodeUnmounted)||ht)&&ui(()=>{_t&&bs(_t,B,R),ht&&ga(R,null,B,"unmounted")},Q)},rt=R=>{const{type:B,el:Q,anchor:de,transition:ue}=R;if(B===ct){Pt(Q,de);return}if(B===h0){P(R);return}const he=()=>{s(Q),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(R.shapeFlag&1&&ue&&!ue.persisted){const{leave:Ce,delayLeave:pe}=ue,Ee=()=>Ce(Q,he);pe?pe(R.el,he,Ee):Ee()}else he()},Pt=(R,B)=>{let Q;for(;R!==B;)Q=f(R),s(R),R=Q;s(B)},it=(R,B,Q)=>{const{bum:de,scope:ue,job:he,subTree:Ce,um:pe,m:Ee,a:be}=R;c2(Ee),c2(be),de&&c0(de),ue.stop(),he&&(he.flags|=8,ut(Ce,R,B,Q)),pe&&ui(pe,B),ui(()=>{R.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},bt=(R,B,Q,de=!1,ue=!1,he=0)=>{for(let Ce=he;Ce<R.length;Ce++)ut(R[Ce],B,Q,de,ue)},ie=R=>{if(R.shapeFlag&6)return ie(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const B=f(R.anchor||R.el),Q=B&&B[Dv];return Q?f(Q):B};let ve=!1;const _e=(R,B,Q)=>{R==null?B._vnode&&ut(B._vnode,null,null,!0):_(B._vnode||null,R,B,null,null,null,Q),B._vnode=R,ve||(ve=!0,e2(),Ev(),ve=!1)},Le={p:_,um:ut,m:Ze,r:rt,mt:ce,mc:X,pc:ze,pbc:re,n:ie,o:t};let at,ot;return{render:_e,hydrate:at,createApp:Hw(_e,at)}}function zh({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function ya({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function eT(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function xm(t,e,r=!1){const i=t.children,s=e.children;if(We(i)&&We(s))for(let n=0;n<i.length;n++){const a=i[n];let o=s[n];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[n]=zn(s[n]),o.el=a.el),!r&&o.patchFlag!==-2&&xm(a,o)),o.type===Td&&(o.el=a.el)}}function tT(t){const e=t.slice(),r=[0];let i,s,n,a,o;const l=t.length;for(i=0;i<l;i++){const u=t[i];if(u!==0){if(s=r[r.length-1],t[s]<u){e[i]=s,r.push(i);continue}for(n=0,a=r.length-1;n<a;)o=n+a>>1,t[r[o]]<u?n=o+1:a=o;u<t[r[n]]&&(n>0&&(e[i]=r[n-1]),r[n]=i)}}for(n=r.length,a=r[n-1];n-- >0;)r[n]=a,a=e[a];return r}function Jv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Jv(e)}function c2(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const rT=Symbol.for("v-scx"),iT=()=>Dr(rT);function sT(t,e){return wm(t,null,e)}function ls(t,e,r){return wm(t,e,r)}function wm(t,e,r=Nt){const{immediate:i,deep:s,flush:n,once:a}=r,o=mr({},r);let l;if(Sd)if(n==="sync"){const f=iT();l=f.__watcherHandles||(f.__watcherHandles=[])}else if(!e||i)o.once=!0;else{const f=()=>{};return f.stop=Ps,f.resume=Ps,f.pause=Ps,f}const u=Ar;o.call=(f,y,w)=>hs(f,u,y,w);let c=!1;n==="post"?o.scheduler=f=>{ui(f,u&&u.suspense)}:n!=="sync"&&(c=!0,o.scheduler=(f,y)=>{y?f():gm(f)}),o.augmentJob=f=>{e&&(f.flags|=4),c&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=gw(t,e,o);return l&&l.push(h),h}function nT(t,e,r){const i=this.proxy,s=sr(t)?t.includes(".")?e5(i,t):()=>i[t]:t.bind(i,i);let n;lt(e)?n=e:(n=e.handler,r=e);const a=Fu(this),o=wm(s,n.bind(i),r);return a(),o}function e5(t,e){const r=e.split(".");return()=>{let i=t;for(let s=0;s<r.length&&i;s++)i=i[r[s]];return i}}const aT=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ds(e)}Modifiers`]||t[`${Ga(e)}Modifiers`];function oT(t,e,...r){if(t.isUnmounted)return;const i=t.vnode.props||Nt;let s=r;const n=e.startsWith("update:"),a=n&&aT(i,e.slice(7));a&&(a.trim&&(s=r.map(c=>sr(c)?c.trim():c)),a.number&&(s=r.map(Hf)));let o,l=i[o=Rh(e)]||i[o=Rh(ds(e))];!l&&n&&(l=i[o=Rh(Ga(e))]),l&&hs(l,t,6,s);const u=i[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,hs(u,t,6,s)}}function t5(t,e,r=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const n=t.emits;let a={},o=!1;if(!lt(t)){const l=u=>{const c=t5(u,e,!0);c&&(o=!0,mr(a,c))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!n&&!o?(Bt(t)&&i.set(t,null),null):(We(n)?n.forEach(l=>a[l]=null):mr(a,n),Bt(t)&&i.set(t,a),a)}function wd(t,e){return!t||!hd(e)?!1:(e=e.slice(2).replace(/Once$/,""),It(t,e[0].toLowerCase()+e.slice(1))||It(t,Ga(e))||It(t,e))}function qh(t){const{type:e,vnode:r,proxy:i,withProxy:s,propsOptions:[n],slots:a,attrs:o,emit:l,render:u,renderCache:c,props:h,data:f,setupState:y,ctx:w,inheritAttrs:_}=t,C=E0(t);let E,k;try{if(r.shapeFlag&4){const P=s||i,L=P;E=Ts(u.call(L,P,c,h,y,f,w)),k=o}else{const P=e;E=Ts(P.length>1?P(h,{attrs:o,slots:a,emit:l}):P(h,null)),k=e.props?o:lT(o)}}catch(P){iu.length=0,bd(P,t,1),E=ge(Zr)}let D=E;if(k&&_!==!1){const P=Object.keys(k),{shapeFlag:L}=D;P.length&&L&7&&(n&&P.some(im)&&(k=uT(k,n)),D=Kn(D,k,!1,!0))}return r.dirs&&(D=Kn(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(r.dirs):r.dirs),r.transition&&za(D,r.transition),E=D,E0(C),E}const lT=t=>{let e;for(const r in t)(r==="class"||r==="style"||hd(r))&&((e||(e={}))[r]=t[r]);return e},uT=(t,e)=>{const r={};for(const i in t)(!im(i)||!(i.slice(9)in e))&&(r[i]=t[i]);return r};function cT(t,e,r){const{props:i,children:s,component:n}=t,{props:a,children:o,patchFlag:l}=e,u=n.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?d2(i,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(a[f]!==i[f]&&!wd(u,f))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?d2(i,a,u):!0:!!a;return!1}function d2(t,e,r){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const n=i[s];if(e[n]!==t[n]&&!wd(r,n))return!0}return!1}function dT({vnode:t,parent:e},r){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=r,e=e.parent;else break}}const r5=t=>t.__isSuspense;function hT(t,e){e&&e.pendingBranch?We(t)?e.effects.push(...t):e.effects.push(t):bw(t)}const ct=Symbol.for("v-fgt"),Td=Symbol.for("v-txt"),Zr=Symbol.for("v-cmt"),h0=Symbol.for("v-stc"),iu=[];let ki=null;function Y(t=!1){iu.push(ki=t?null:[])}function fT(){iu.pop(),ki=iu[iu.length-1]||null}let xu=1;function h2(t){xu+=t,t<0&&ki&&(ki.hasOnce=!0)}function i5(t){return t.dynamicChildren=xu>0?ki||wo:null,fT(),xu>0&&ki&&ki.push(t),t}function ae(t,e,r,i,s,n){return i5(p(t,e,r,i,s,n,!0))}function kt(t,e,r,i,s){return i5(ge(t,e,r,i,s,!0))}function k0(t){return t?t.__v_isVNode===!0:!1}function Ca(t,e){return t.type===e.type&&t.key===e.key}const s5=({key:t})=>t??null,f0=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?sr(t)||gt(t)||lt(t)?{i:wr,r:t,k:e,f:!!r}:t:null);function p(t,e=null,r=null,i=0,s=null,n=t===ct?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&s5(e),ref:e&&f0(e),scopeId:kv,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:wr};return o?(Tm(l,r),n&128&&t.normalize(l)):r&&(l.shapeFlag|=sr(r)?8:16),xu>0&&!a&&ki&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&ki.push(l),l}const ge=pT;function pT(t,e=null,r=null,i=0,s=null,n=!1){if((!t||t===Ow)&&(t=Zr),k0(t)){const o=Kn(t,e,!0);return r&&Tm(o,r),xu>0&&!n&&ki&&(o.shapeFlag&6?ki[ki.indexOf(t)]=o:ki.push(o)),o.patchFlag=-2,o}if(CT(t)&&(t=t.__vccOpts),e){e=mT(e);let{class:o,style:l}=e;o&&!sr(o)&&(e.class=$t(o)),Bt(l)&&(fm(l)&&!We(l)&&(l=mr({},l)),e.style=mi(l))}const a=sr(t)?1:r5(t)?128:Iv(t)?64:Bt(t)?4:lt(t)?2:0;return p(t,e,r,i,s,a,n,!0)}function mT(t){return t?fm(t)||Gv(t)?mr({},t):t:null}function Kn(t,e,r=!1,i=!1){const{props:s,ref:n,patchFlag:a,children:o,transition:l}=t,u=e?gT(s||{},e):s,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&s5(u),ref:e&&e.ref?r&&n?We(n)?n.concat(f0(e)):[n,f0(e)]:f0(e):n,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ct?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Kn(t.ssContent),ssFallback:t.ssFallback&&Kn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&za(c,l.clone(c)),c}function st(t=" ",e=0){return ge(Td,null,t,e)}function qa(t,e){const r=ge(h0,null,t);return r.staticCount=e,r}function Ne(t="",e=!1){return e?(Y(),kt(Zr,null,t)):ge(Zr,null,t)}function Ts(t){return t==null||typeof t=="boolean"?ge(Zr):We(t)?ge(ct,null,t.slice()):typeof t=="object"?zn(t):ge(Td,null,String(t))}function zn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Kn(t)}function Tm(t,e){let r=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(We(e))r=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Tm(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!Gv(e)?e._ctx=wr:s===3&&wr&&(wr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else lt(e)?(e={default:e,_ctx:wr},r=32):(e=String(e),i&64?(r=16,e=[st(e)]):r=8);t.children=e,t.shapeFlag|=r}function gT(...t){const e={};for(let r=0;r<t.length;r++){const i=t[r];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=$t([e.class,i.class]));else if(s==="style")e.style=mi([e.style,i.style]);else if(hd(s)){const n=e[s],a=i[s];a&&n!==a&&!(We(n)&&n.includes(a))&&(e[s]=n?[].concat(n,a):a)}else s!==""&&(e[s]=i[s])}return e}function bs(t,e,r,i=null){hs(t,e,7,[r,i])}const yT=jv();let vT=0;function bT(t,e,r){const i=t.type,s=(e?e.appContext:t.appContext)||yT,n={uid:vT++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new tv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xv(i,s),emitsOptions:t5(i,s),emit:null,emitted:null,propsDefaults:Nt,inheritAttrs:i.inheritAttrs,ctx:Nt,data:Nt,props:Nt,attrs:Nt,slots:Nt,refs:Nt,setupState:Nt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=e?e.root:n,n.emit=oT.bind(null,n),t.ce&&t.ce(n),n}let Ar=null;const Sm=()=>Ar||wr;let D0,ep;{const t=Y3(),e=(r,i)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(i),n=>{s.length>1?s.forEach(a=>a(n)):s[0](n)}};D0=e("__VUE_INSTANCE_SETTERS__",r=>Ar=r),ep=e("__VUE_SSR_SETTERS__",r=>Sd=r)}const Fu=t=>{const e=Ar;return D0(t),t.scope.on(),()=>{t.scope.off(),D0(e)}},f2=()=>{Ar&&Ar.scope.off(),D0(null)};function n5(t){return t.vnode.shapeFlag&4}let Sd=!1;function _T(t,e=!1,r=!1){e&&ep(e);const{props:i,children:s}=t.vnode,n=n5(t);Gw(t,i,n,e),Yw(t,s,r);const a=n?xT(t,e):void 0;return e&&ep(!1),a}function xT(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Bw);const{setup:i}=r;if(i){const s=t.setupContext=i.length>1?TT(t):null,n=Fu(t);ta();const a=Bu(i,t,0,[t.props,s]);if(ra(),n(),G3(a)){if(Co(t)||Fv(t),a.then(f2,f2),e)return a.then(o=>{p2(t,o,e)}).catch(o=>{bd(o,t,0)});t.asyncDep=a}else p2(t,a,e)}else a5(t,e)}function p2(t,e,r){lt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Bt(e)&&(t.setupState=wv(e)),a5(t,r)}let m2;function a5(t,e,r){const i=t.type;if(!t.render){if(!e&&m2&&!i.render){const s=i.template||bm(t).template;if(s){const{isCustomElement:n,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=i,u=mr(mr({isCustomElement:n,delimiters:o},a),l);i.render=m2(s,u)}}t.render=i.render||Ps}{const s=Fu(t);ta();try{Fw(t)}finally{ra(),s()}}}const wT={get(t,e){return $r(t,"get",""),t[e]}};function TT(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,wT),slots:t.slots,emit:t.emit,expose:e}}function Cd(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(wv(ia(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in ru)return ru[r](t)},has(e,r){return r in e||r in ru}})):t.proxy}function ST(t,e=!0){return lt(t)?t.displayName||t.name:t.name||e&&t.__name}function CT(t){return lt(t)&&"__vccOpts"in t}const qt=(t,e)=>pw(t,e,Sd);function wn(t,e,r){const i=arguments.length;return i===2?Bt(e)&&!We(e)?k0(e)?ge(t,null,[e]):ge(t,e):ge(t,null,e):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&k0(r)&&(r=[r]),ge(t,e,r))}const ET="3.5.6";/**
* @vue/runtime-dom v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tp;const g2=typeof window<"u"&&window.trustedTypes;if(g2)try{tp=g2.createPolicy("vue",{createHTML:t=>t})}catch{}const o5=tp?t=>tp.createHTML(t):t=>t,AT="http://www.w3.org/2000/svg",kT="http://www.w3.org/1998/Math/MathML",Js=typeof document<"u"?document:null,y2=Js&&Js.createElement("template"),DT={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,i)=>{const s=e==="svg"?Js.createElementNS(AT,t):e==="mathml"?Js.createElementNS(kT,t):r?Js.createElement(t,{is:r}):Js.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>Js.createTextNode(t),createComment:t=>Js.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Js.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,i,s,n){const a=r?r.previousSibling:e.lastChild;if(s&&(s===n||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===n||!(s=s.nextSibling)););else{y2.innerHTML=o5(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const o=y2.content;if(i==="svg"||i==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,r)}return[a?a.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},kn="transition",Il="animation",No=Symbol("_vtc"),l5={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},u5=mr({},Rv,l5),IT=t=>(t.displayName="Transition",t.props=u5,t),Bs=IT((t,{slots:e})=>wn(Sw,c5(t),e)),va=(t,e=[])=>{We(t)?t.forEach(r=>r(...e)):t&&t(...e)},v2=t=>t?We(t)?t.some(e=>e.length>1):t.length>1:!1;function c5(t){const e={};for(const W in t)W in l5||(e[W]=t[W]);if(t.css===!1)return e;const{name:r="v",type:i,duration:s,enterFromClass:n=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:l=n,appearActiveClass:u=a,appearToClass:c=o,leaveFromClass:h=`${r}-leave-from`,leaveActiveClass:f=`${r}-leave-active`,leaveToClass:y=`${r}-leave-to`}=t,w=LT(s),_=w&&w[0],C=w&&w[1],{onBeforeEnter:E,onEnter:k,onEnterCancelled:D,onLeave:P,onLeaveCancelled:L,onBeforeAppear:U=E,onAppear:J=k,onAppearCancelled:X=D}=e,H=(W,ne,ce)=>{Bn(W,ne?c:o),Bn(W,ne?u:a),ce&&ce()},re=(W,ne)=>{W._isLeaving=!1,Bn(W,h),Bn(W,y),Bn(W,f),ne&&ne()},Z=W=>(ne,ce)=>{const $e=W?J:k,ke=()=>H(ne,W,ce);va($e,[ne,ke]),b2(()=>{Bn(ne,W?l:n),Zs(ne,W?c:o),v2($e)||_2(ne,i,_,ke)})};return mr(e,{onBeforeEnter(W){va(E,[W]),Zs(W,n),Zs(W,a)},onBeforeAppear(W){va(U,[W]),Zs(W,l),Zs(W,u)},onEnter:Z(!1),onAppear:Z(!0),onLeave(W,ne){W._isLeaving=!0;const ce=()=>re(W,ne);Zs(W,h),Zs(W,f),h5(),b2(()=>{W._isLeaving&&(Bn(W,h),Zs(W,y),v2(P)||_2(W,i,C,ce))}),va(P,[W,ce])},onEnterCancelled(W){H(W,!1),va(D,[W])},onAppearCancelled(W){H(W,!0),va(X,[W])},onLeaveCancelled(W){re(W),va(L,[W])}})}function LT(t){if(t==null)return null;if(Bt(t))return[jh(t.enter),jh(t.leave)];{const e=jh(t);return[e,e]}}function jh(t){return L9(t)}function Zs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[No]||(t[No]=new Set)).add(e)}function Bn(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const r=t[No];r&&(r.delete(e),r.size||(t[No]=void 0))}function b2(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let PT=0;function _2(t,e,r,i){const s=t._endId=++PT,n=()=>{s===t._endId&&i()};if(r)return setTimeout(n,r);const{type:a,timeout:o,propCount:l}=d5(t,e);if(!a)return i();const u=a+"end";let c=0;const h=()=>{t.removeEventListener(u,f),n()},f=y=>{y.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},o+1),t.addEventListener(u,f)}function d5(t,e){const r=window.getComputedStyle(t),i=w=>(r[w]||"").split(", "),s=i(`${kn}Delay`),n=i(`${kn}Duration`),a=x2(s,n),o=i(`${Il}Delay`),l=i(`${Il}Duration`),u=x2(o,l);let c=null,h=0,f=0;e===kn?a>0&&(c=kn,h=a,f=n.length):e===Il?u>0&&(c=Il,h=u,f=l.length):(h=Math.max(a,u),c=h>0?a>u?kn:Il:null,f=c?c===kn?n.length:l.length:0);const y=c===kn&&/\b(transform|all)(,|$)/.test(i(`${kn}Property`).toString());return{type:c,timeout:h,propCount:f,hasTransform:y}}function x2(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,i)=>w2(r)+w2(t[i])))}function w2(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function h5(){return document.body.offsetHeight}function MT(t,e,r){const i=t[No];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const T2=Symbol("_vod"),RT=Symbol("_vsh"),OT=Symbol(""),NT=/(^|;)\s*display\s*:/;function BT(t,e,r){const i=t.style,s=sr(r);let n=!1;if(r&&!s){if(e)if(sr(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();r[o]==null&&p0(i,o,"")}else for(const a in e)r[a]==null&&p0(i,a,"");for(const a in r)a==="display"&&(n=!0),p0(i,a,r[a])}else if(s){if(e!==r){const a=i[OT];a&&(r+=";"+a),i.cssText=r,n=NT.test(r)}}else e&&t.removeAttribute("style");T2 in t&&(t[T2]=n?i.display:"",t[RT]&&(i.display="none"))}const S2=/\s*!important$/;function p0(t,e,r){if(We(r))r.forEach(i=>p0(t,e,i));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const i=FT(t,e);S2.test(r)?t.setProperty(Ga(i),r.replace(S2,""),"important"):t[i]=r}}const C2=["Webkit","Moz","ms"],Hh={};function FT(t,e){const r=Hh[e];if(r)return r;let i=ds(e);if(i!=="filter"&&i in t)return Hh[e]=i;i=md(i);for(let s=0;s<C2.length;s++){const n=C2[s]+i;if(n in t)return Hh[e]=n}return e}const E2="http://www.w3.org/1999/xlink";function A2(t,e,r,i,s,n=B9(e)){i&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(E2,e.slice(6,e.length)):t.setAttributeNS(E2,e,r):r==null||n&&!Q3(r)?t.removeAttribute(e):t.setAttribute(e,n?"":Ns(r)?String(r):r)}function UT(t,e,r,i){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?o5(r):r);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,o=r==null?t.type==="checkbox"?"on":"":String(r);(a!==o||!("_value"in t))&&(t.value=o),r==null&&t.removeAttribute(e),t._value=r;return}let n=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=Q3(r):r==null&&a==="string"?(r="",n=!0):a==="number"&&(r=0,n=!0)}try{t[e]=r}catch{}n&&t.removeAttribute(e)}function Ea(t,e,r,i){t.addEventListener(e,r,i)}function $T(t,e,r,i){t.removeEventListener(e,r,i)}const k2=Symbol("_vei");function zT(t,e,r,i,s=null){const n=t[k2]||(t[k2]={}),a=n[e];if(i&&a)a.value=i;else{const[o,l]=qT(e);if(i){const u=n[e]=VT(i,s);Ea(t,o,u,l)}else a&&($T(t,o,a,l),n[e]=void 0)}}const D2=/(?:Once|Passive|Capture)$/;function qT(t){let e;if(D2.test(t)){e={};let i;for(;i=t.match(D2);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ga(t.slice(2)),e]}let Vh=0;const jT=Promise.resolve(),HT=()=>Vh||(jT.then(()=>Vh=0),Vh=Date.now());function VT(t,e){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;hs(GT(i,r.value),e,5,[i])};return r.value=t,r.attached=HT(),r}function GT(t,e){if(We(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const I2=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,WT=(t,e,r,i,s,n)=>{const a=s==="svg";e==="class"?MT(t,i,a):e==="style"?BT(t,r,i):hd(e)?im(e)||zT(t,e,r,i,n):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):XT(t,e,i,a))?(UT(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&A2(t,e,i,a,n,e!=="value")):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),A2(t,e,i,a))};function XT(t,e,r,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&I2(e)&&lt(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return I2(e)&&sr(r)?!1:!!(e in t||t._isVueCE&&(/[A-Z]/.test(e)||!sr(r)))}const f5=new WeakMap,p5=new WeakMap,I0=Symbol("_moveCb"),L2=Symbol("_enterCb"),KT=t=>(delete t.props.mode,t),QT=KT({name:"TransitionGroup",props:mr({},u5,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=Sm(),i=Mv();let s,n;return $v(()=>{if(!s.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!rS(s[0].el,r.vnode.el,a))return;s.forEach(JT),s.forEach(eS);const o=s.filter(tS);h5(),o.forEach(l=>{const u=l.el,c=u.style;Zs(u,a),c.transform=c.webkitTransform=c.transitionDuration="";const h=u[I0]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",h),u[I0]=null,Bn(u,a))};u.addEventListener("transitionend",h)})}),()=>{const a=xt(t),o=c5(a);let l=a.tag||ct;if(s=[],n)for(let u=0;u<n.length;u++){const c=n[u];c.el&&c.el instanceof Element&&(s.push(c),za(c,_u(c,o,i,r)),f5.set(c,c.el.getBoundingClientRect()))}n=e.default?ym(e.default()):[];for(let u=0;u<n.length;u++){const c=n[u];c.key!=null&&za(c,_u(c,o,i,r))}return ge(l,null,n)}}}),ZT=QT;function JT(t){const e=t.el;e[I0]&&e[I0](),e[L2]&&e[L2]()}function eS(t){p5.set(t,t.el.getBoundingClientRect())}function tS(t){const e=f5.get(t),r=p5.get(t),i=e.left-r.left,s=e.top-r.top;if(i||s){const n=t.el.style;return n.transform=n.webkitTransform=`translate(${i}px,${s}px)`,n.transitionDuration="0s",t}}function rS(t,e,r){const i=t.cloneNode(),s=t[No];s&&s.forEach(o=>{o.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),r.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const n=e.nodeType===1?e:e.parentNode;n.appendChild(i);const{hasTransform:a}=d5(i);return n.removeChild(i),a}const L0=t=>{const e=t.props["onUpdate:modelValue"]||!1;return We(e)?r=>c0(e,r):e};function iS(t){t.target.composing=!0}function P2(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Eo=Symbol("_assign"),Ao={created(t,{modifiers:{lazy:e,trim:r,number:i}},s){t[Eo]=L0(s);const n=i||s.props&&s.props.type==="number";Ea(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;r&&(o=o.trim()),n&&(o=Hf(o)),t[Eo](o)}),r&&Ea(t,"change",()=>{t.value=t.value.trim()}),e||(Ea(t,"compositionstart",iS),Ea(t,"compositionend",P2),Ea(t,"change",P2))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:i,trim:s,number:n}},a){if(t[Eo]=L0(a),t.composing)return;const o=(n||t.type==="number")&&!/^0\d/.test(t.value)?Hf(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===r||s&&t.value.trim()===l)||(t.value=l))}},sS={deep:!0,created(t,e,r){t[Eo]=L0(r),Ea(t,"change",()=>{const i=t._modelValue,s=nS(t),n=t.checked,a=t[Eo];if(We(i)){const o=Z3(i,s),l=o!==-1;if(n&&!l)a(i.concat(s));else if(!n&&l){const u=[...i];u.splice(o,1),a(u)}}else if(fd(i)){const o=new Set(i);n?o.add(s):o.delete(s),a(o)}else a(m5(t,n))})},mounted:M2,beforeUpdate(t,e,r){t[Eo]=L0(r),M2(t,e,r)}};function M2(t,{value:e,oldValue:r},i){t._modelValue=e;let s;We(e)?s=Z3(e,i.props.value)>-1:fd(e)?s=e.has(i.props.value):s=gd(e,m5(t,!0)),t.checked!==s&&(t.checked=s)}function nS(t){return"_value"in t?t._value:t.value}function m5(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const aS=mr({patchProp:WT},DT);let R2;function g5(){return R2||(R2=Zw(aS))}const oS=(...t)=>{g5().render(...t)},lS=(...t)=>{const e=g5().createApp(...t),{mount:r}=e;return e.mount=i=>{const s=cS(i);if(!s)return;const n=e._component;!lt(n)&&!n.render&&!n.template&&(n.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=r(s,!1,uS(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function uS(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function cS(t){return sr(t)?document.querySelector(t):t}var dS=!1;/*!
 * pinia v2.2.3
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let y5;const Ed=t=>y5=t,v5=Symbol();function rp(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var su;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(su||(su={}));function hS(){const t=rv(!0),e=t.run(()=>Ye({}));let r=[],i=[];const s=ia({install(n){Ed(s),s._a=n,n.provide(v5,s),n.config.globalProperties.$pinia=s,i.forEach(a=>r.push(a)),i=[]},use(n){return!this._a&&!dS?i.push(n):r.push(n),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const b5=()=>{};function O2(t,e,r,i=b5){t.push(e);const s=()=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i())};return!r&&iv()&&U9(s),s}function ao(t,...e){t.slice().forEach(r=>{r(...e)})}const fS=t=>t(),N2=Symbol(),Gh=Symbol();function ip(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,i)=>t.set(i,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const i=e[r],s=t[r];rp(s)&&rp(i)&&t.hasOwnProperty(r)&&!gt(i)&&!an(i)?t[r]=ip(s,i):t[r]=i}return t}const pS=Symbol();function mS(t){return!rp(t)||!t.hasOwnProperty(pS)}const{assign:Fn}=Object;function gS(t){return!!(gt(t)&&t.effect)}function yS(t,e,r,i){const{state:s,actions:n,getters:a}=e,o=r.state.value[t];let l;function u(){o||(r.state.value[t]=s?s():{});const c=Qi(r.state.value[t]);return Fn(c,n,Object.keys(a||{}).reduce((h,f)=>(h[f]=ia(qt(()=>{Ed(r);const y=r._s.get(t);return a[f].call(y,y)})),h),{}))}return l=_5(t,u,e,r,i,!0),l}function _5(t,e,r={},i,s,n){let a;const o=Fn({actions:{}},r),l={deep:!0};let u,c,h=[],f=[],y;const w=i.state.value[t];!n&&!w&&(i.state.value[t]={}),Ye({});let _;function C(X){let H;u=c=!1,typeof X=="function"?(X(i.state.value[t]),H={type:su.patchFunction,storeId:t,events:y}):(ip(i.state.value[t],X),H={type:su.patchObject,payload:X,storeId:t,events:y});const re=_=Symbol();fs().then(()=>{_===re&&(u=!0)}),c=!0,ao(h,H,i.state.value[t])}const E=n?function(){const{state:H}=r,re=H?H():{};this.$patch(Z=>{Fn(Z,re)})}:b5;function k(){a.stop(),h=[],f=[],i._s.delete(t)}const D=(X,H="")=>{if(N2 in X)return X[Gh]=H,X;const re=function(){Ed(i);const Z=Array.from(arguments),W=[],ne=[];function ce(De){W.push(De)}function $e(De){ne.push(De)}ao(f,{args:Z,name:re[Gh],store:L,after:ce,onError:$e});let ke;try{ke=X.apply(this&&this.$id===t?this:L,Z)}catch(De){throw ao(ne,De),De}return ke instanceof Promise?ke.then(De=>(ao(W,De),De)).catch(De=>(ao(ne,De),Promise.reject(De))):(ao(W,ke),ke)};return re[N2]=!0,re[Gh]=H,re},P={_p:i,$id:t,$onAction:O2.bind(null,f),$patch:C,$reset:E,$subscribe(X,H={}){const re=O2(h,X,H.detached,()=>Z()),Z=a.run(()=>ls(()=>i.state.value[t],W=>{(H.flush==="sync"?c:u)&&X({storeId:t,type:su.direct,events:y},W)},Fn({},l,H)));return re},$dispose:k},L=Zo(P);i._s.set(t,L);const J=(i._a&&i._a.runWithContext||fS)(()=>i._e.run(()=>(a=rv()).run(()=>e({action:D}))));for(const X in J){const H=J[X];if(gt(H)&&!gS(H)||an(H))n||(w&&mS(H)&&(gt(H)?H.value=w[X]:ip(H,w[X])),i.state.value[t][X]=H);else if(typeof H=="function"){const re=D(H,X);J[X]=re,o.actions[X]=H}}return Fn(L,J),Fn(xt(L),J),Object.defineProperty(L,"$state",{get:()=>i.state.value[t],set:X=>{C(H=>{Fn(H,X)})}}),i._p.forEach(X=>{Fn(L,a.run(()=>X({store:L,app:i._a,pinia:i,options:o})))}),w&&n&&r.hydrate&&r.hydrate(L.$state,w),u=!0,c=!0,L}function ai(t,e,r){let i,s;const n=typeof e=="function";typeof t=="string"?(i=t,s=n?r:e):(s=t,i=t.id);function a(o,l){const u=Vw();return o=o||(u?Dr(v5,null):null),o&&Ed(o),o=y5,o._s.has(i)||(n?_5(i,e,s,o):yS(i,s,o)),o._s.get(i)}return a.$id=i,a}function Ii(t){{t=xt(t);const e={};for(const r in t){const i=t[r];(gt(i)||an(i))&&(e[r]=hw(t,r))}return e}}const x5=ai("ui",{state:()=>({isMobileMenuVisible:!1,shouldMobileMenuBeVisible:!1}),actions:()=>{}});/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const yo=typeof document<"u";function w5(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function vS(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&w5(t.default)}const Rt=Object.assign;function Wh(t,e){const r={};for(const i in e){const s=e[i];r[i]=ps(s)?s.map(t):t(s)}return r}const nu=()=>{},ps=Array.isArray,T5=/#/g,bS=/&/g,_S=/\//g,xS=/=/g,wS=/\?/g,S5=/\+/g,TS=/%5B/g,SS=/%5D/g,C5=/%5E/g,CS=/%60/g,E5=/%7B/g,ES=/%7C/g,A5=/%7D/g,AS=/%20/g;function Cm(t){return encodeURI(""+t).replace(ES,"|").replace(TS,"[").replace(SS,"]")}function kS(t){return Cm(t).replace(E5,"{").replace(A5,"}").replace(C5,"^")}function sp(t){return Cm(t).replace(S5,"%2B").replace(AS,"+").replace(T5,"%23").replace(bS,"%26").replace(CS,"`").replace(E5,"{").replace(A5,"}").replace(C5,"^")}function DS(t){return sp(t).replace(xS,"%3D")}function IS(t){return Cm(t).replace(T5,"%23").replace(wS,"%3F")}function LS(t){return t==null?"":IS(t).replace(_S,"%2F")}function wu(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const PS=/\/$/,MS=t=>t.replace(PS,"");function Xh(t,e,r="/"){let i,s={},n="",a="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(i=e.slice(0,l),n=e.slice(l+1,o>-1?o:e.length),s=t(n)),o>-1&&(i=i||e.slice(0,o),a=e.slice(o,e.length)),i=BS(i??e,r),{fullPath:i+(n&&"?")+n+a,path:i,query:s,hash:wu(a)}}function RS(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function B2(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function OS(t,e,r){const i=e.matched.length-1,s=r.matched.length-1;return i>-1&&i===s&&Bo(e.matched[i],r.matched[s])&&k5(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Bo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function k5(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!NS(t[r],e[r]))return!1;return!0}function NS(t,e){return ps(t)?F2(t,e):ps(e)?F2(e,t):t===e}function F2(t,e){return ps(e)?t.length===e.length&&t.every((r,i)=>r===e[i]):t.length===1&&t[0]===e}function BS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let n=r.length-1,a,o;for(a=0;a<i.length;a++)if(o=i[a],o!==".")if(o==="..")n>1&&n--;else break;return r.slice(0,n).join("/")+"/"+i.slice(a).join("/")}const Dn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Tu;(function(t){t.pop="pop",t.push="push"})(Tu||(Tu={}));var au;(function(t){t.back="back",t.forward="forward",t.unknown=""})(au||(au={}));function FS(t){if(!t)if(yo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),MS(t)}const US=/^[^#]+#/;function $S(t,e){return t.replace(US,"#")+e}function zS(t,e){const r=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-r.left-(e.left||0),top:i.top-r.top-(e.top||0)}}const Ad=()=>({left:window.scrollX,top:window.scrollY});function qS(t){let e;if("el"in t){const r=t.el,i=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;e=zS(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function U2(t,e){return(history.state?history.state.position-e:-1)+t}const np=new Map;function jS(t,e){np.set(t,e)}function HS(t){const e=np.get(t);return np.delete(t),e}let VS=()=>location.protocol+"//"+location.host;function D5(t,e){const{pathname:r,search:i,hash:s}=e,n=t.indexOf("#");if(n>-1){let o=s.includes(t.slice(n))?t.slice(n).length:1,l=s.slice(o);return l[0]!=="/"&&(l="/"+l),B2(l,"")}return B2(r,t)+i+s}function GS(t,e,r,i){let s=[],n=[],a=null;const o=({state:f})=>{const y=D5(t,location),w=r.value,_=e.value;let C=0;if(f){if(r.value=y,e.value=f,a&&a===w){a=null;return}C=_?f.position-_.position:0}else i(y);s.forEach(E=>{E(r.value,w,{delta:C,type:Tu.pop,direction:C?C>0?au.forward:au.back:au.unknown})})};function l(){a=r.value}function u(f){s.push(f);const y=()=>{const w=s.indexOf(f);w>-1&&s.splice(w,1)};return n.push(y),y}function c(){const{history:f}=window;f.state&&f.replaceState(Rt({},f.state,{scroll:Ad()}),"")}function h(){for(const f of n)f();n=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function $2(t,e,r,i=!1,s=!1){return{back:t,current:e,forward:r,replaced:i,position:window.history.length,scroll:s?Ad():null}}function WS(t){const{history:e,location:r}=window,i={value:D5(t,r)},s={value:e.state};s.value||n(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function n(l,u,c){const h=t.indexOf("#"),f=h>-1?(r.host&&document.querySelector("base")?t:t.slice(h))+l:VS()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),s.value=u}catch(y){console.error(y),r[c?"replace":"assign"](f)}}function a(l,u){const c=Rt({},e.state,$2(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});n(l,c,!0),i.value=l}function o(l,u){const c=Rt({},s.value,e.state,{forward:l,scroll:Ad()});n(c.current,c,!0);const h=Rt({},$2(i.value,l,null),{position:c.position+1},u);n(l,h,!1),i.value=l}return{location:i,state:s,push:o,replace:a}}function XS(t){t=FS(t);const e=WS(t),r=GS(t,e.state,e.location,e.replace);function i(n,a=!0){a||r.pauseListeners(),history.go(n)}const s=Rt({location:"",base:t,go:i,createHref:$S.bind(null,t)},e,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function KS(t){return typeof t=="string"||t&&typeof t=="object"}function I5(t){return typeof t=="string"||typeof t=="symbol"}const L5=Symbol("");var z2;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(z2||(z2={}));function Fo(t,e){return Rt(new Error,{type:t,[L5]:!0},e)}function Ks(t,e){return t instanceof Error&&L5 in t&&(e==null||!!(t.type&e))}const q2="[^/]+?",YS={sensitive:!1,strict:!1,start:!0,end:!0},QS=/[.+*?^${}()[\]/\\]/g;function ZS(t,e){const r=Rt({},YS,e),i=[];let s=r.start?"^":"";const n=[];for(const u of t){const c=u.length?[]:[90];r.strict&&!u.length&&(s+="/");for(let h=0;h<u.length;h++){const f=u[h];let y=40+(r.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(QS,"\\$&"),y+=40;else if(f.type===1){const{value:w,repeatable:_,optional:C,regexp:E}=f;n.push({name:w,repeatable:_,optional:C});const k=E||q2;if(k!==q2){y+=10;try{new RegExp(`(${k})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${w}" (${k}): `+P.message)}}let D=_?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;h||(D=C&&u.length<2?`(?:/${D})`:"/"+D),C&&(D+="?"),s+=D,y+=20,C&&(y+=-8),_&&(y+=-20),k===".*"&&(y+=-50)}c.push(y)}i.push(c)}if(r.strict&&r.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}r.strict||(s+="/?"),r.end?s+="$":r.strict&&(s+="(?:/|$)");const a=new RegExp(s,r.sensitive?"":"i");function o(u){const c=u.match(a),h={};if(!c)return null;for(let f=1;f<c.length;f++){const y=c[f]||"",w=n[f-1];h[w.name]=y&&w.repeatable?y.split("/"):y}return h}function l(u){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const y of f)if(y.type===0)c+=y.value;else if(y.type===1){const{value:w,repeatable:_,optional:C}=y,E=w in u?u[w]:"";if(ps(E)&&!_)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const k=ps(E)?E.join("/"):E;if(!k)if(C)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${w}"`);c+=k}}return c||"/"}return{re:a,score:i,keys:n,parse:o,stringify:l}}function JS(t,e){let r=0;for(;r<t.length&&r<e.length;){const i=e[r]-t[r];if(i)return i;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function P5(t,e){let r=0;const i=t.score,s=e.score;for(;r<i.length&&r<s.length;){const n=JS(i[r],s[r]);if(n)return n;r++}if(Math.abs(s.length-i.length)===1){if(j2(i))return 1;if(j2(s))return-1}return s.length-i.length}function j2(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const eC={type:0,value:""},tC=/[a-zA-Z0-9_]/;function rC(t){if(!t)return[[]];if(t==="/")return[[eC]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${r})/"${u}": ${y}`)}let r=0,i=r;const s=[];let n;function a(){n&&s.push(n),n=[]}let o=0,l,u="",c="";function h(){u&&(r===0?n.push({type:0,value:u}):r===1||r===2||r===3?(n.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),n.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&r!==2){i=r,r=4;continue}switch(r){case 0:l==="/"?(u&&h(),a()):l===":"?(h(),r=1):f();break;case 4:f(),r=i;break;case 1:l==="("?r=2:tC.test(l)?f():(h(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:h(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,c="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),a(),s}function iC(t,e,r){const i=ZS(rC(t.path),r),s=Rt(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function sC(t,e){const r=[],i=new Map;e=W2({strict:!1,end:!0,sensitive:!1},e);function s(h){return i.get(h)}function n(h,f,y){const w=!y,_=V2(h);_.aliasOf=y&&y.record;const C=W2(e,h),E=[_];if("alias"in h){const P=typeof h.alias=="string"?[h.alias]:h.alias;for(const L of P)E.push(V2(Rt({},_,{components:y?y.record.components:_.components,path:L,aliasOf:y?y.record:_})))}let k,D;for(const P of E){const{path:L}=P;if(f&&L[0]!=="/"){const U=f.record.path,J=U[U.length-1]==="/"?"":"/";P.path=f.record.path+(L&&J+L)}if(k=iC(P,f,C),y?y.alias.push(k):(D=D||k,D!==k&&D.alias.push(k),w&&h.name&&!G2(k)&&a(h.name)),M5(k)&&l(k),_.children){const U=_.children;for(let J=0;J<U.length;J++)n(U[J],k,y&&y.children[J])}y=y||k}return D?()=>{a(D)}:nu}function a(h){if(I5(h)){const f=i.get(h);f&&(i.delete(h),r.splice(r.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=r.indexOf(h);f>-1&&(r.splice(f,1),h.record.name&&i.delete(h.record.name),h.children.forEach(a),h.alias.forEach(a))}}function o(){return r}function l(h){const f=oC(h,r);r.splice(f,0,h),h.record.name&&!G2(h)&&i.set(h.record.name,h)}function u(h,f){let y,w={},_,C;if("name"in h&&h.name){if(y=i.get(h.name),!y)throw Fo(1,{location:h});C=y.record.name,w=Rt(H2(f.params,y.keys.filter(D=>!D.optional).concat(y.parent?y.parent.keys.filter(D=>D.optional):[]).map(D=>D.name)),h.params&&H2(h.params,y.keys.map(D=>D.name))),_=y.stringify(w)}else if(h.path!=null)_=h.path,y=r.find(D=>D.re.test(_)),y&&(w=y.parse(_),C=y.record.name);else{if(y=f.name?i.get(f.name):r.find(D=>D.re.test(f.path)),!y)throw Fo(1,{location:h,currentLocation:f});C=y.record.name,w=Rt({},f.params,h.params),_=y.stringify(w)}const E=[];let k=y;for(;k;)E.unshift(k.record),k=k.parent;return{name:C,path:_,params:w,matched:E,meta:aC(E)}}t.forEach(h=>n(h));function c(){r.length=0,i.clear()}return{addRoute:n,resolve:u,removeRoute:a,clearRoutes:c,getRoutes:o,getRecordMatcher:s}}function H2(t,e){const r={};for(const i of e)i in t&&(r[i]=t[i]);return r}function V2(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:nC(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function nC(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const i in t.components)e[i]=typeof r=="object"?r[i]:r;return e}function G2(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function aC(t){return t.reduce((e,r)=>Rt(e,r.meta),{})}function W2(t,e){const r={};for(const i in t)r[i]=i in e?e[i]:t[i];return r}function oC(t,e){let r=0,i=e.length;for(;r!==i;){const n=r+i>>1;P5(t,e[n])<0?i=n:r=n+1}const s=lC(t);return s&&(i=e.lastIndexOf(s,i-1)),i}function lC(t){let e=t;for(;e=e.parent;)if(M5(e)&&P5(t,e)===0)return e}function M5({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function uC(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const n=i[s].replace(S5," "),a=n.indexOf("="),o=wu(a<0?n:n.slice(0,a)),l=a<0?null:wu(n.slice(a+1));if(o in e){let u=e[o];ps(u)||(u=e[o]=[u]),u.push(l)}else e[o]=l}return e}function X2(t){let e="";for(let r in t){const i=t[r];if(r=DS(r),i==null){i!==void 0&&(e+=(e.length?"&":"")+r);continue}(ps(i)?i.map(n=>n&&sp(n)):[i&&sp(i)]).forEach(n=>{n!==void 0&&(e+=(e.length?"&":"")+r,n!=null&&(e+="="+n))})}return e}function cC(t){const e={};for(const r in t){const i=t[r];i!==void 0&&(e[r]=ps(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const dC=Symbol(""),K2=Symbol(""),kd=Symbol(""),Em=Symbol(""),ap=Symbol("");function Ll(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function qn(t,e,r,i,s,n=a=>a()){const a=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((o,l)=>{const u=f=>{f===!1?l(Fo(4,{from:r,to:e})):f instanceof Error?l(f):KS(f)?l(Fo(2,{from:e,to:f})):(a&&i.enterCallbacks[s]===a&&typeof f=="function"&&a.push(f),o())},c=n(()=>t.call(i&&i.instances[s],e,r,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function Kh(t,e,r,i,s=n=>n()){const n=[];for(const a of t)for(const o in a.components){let l=a.components[o];if(!(e!=="beforeRouteEnter"&&!a.instances[o]))if(w5(l)){const c=(l.__vccOpts||l)[e];c&&n.push(qn(c,r,i,a,o,s))}else{let u=l();n.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${o}" at "${a.path}"`);const h=vS(c)?c.default:c;a.mods[o]=c,a.components[o]=h;const y=(h.__vccOpts||h)[e];return y&&qn(y,r,i,a,o,s)()}))}}return n}function Y2(t){const e=Dr(kd),r=Dr(Em),i=qt(()=>{const l=N(t.to);return e.resolve(l)}),s=qt(()=>{const{matched:l}=i.value,{length:u}=l,c=l[u-1],h=r.matched;if(!c||!h.length)return-1;const f=h.findIndex(Bo.bind(null,c));if(f>-1)return f;const y=Q2(l[u-2]);return u>1&&Q2(c)===y&&h[h.length-1].path!==y?h.findIndex(Bo.bind(null,l[u-2])):f}),n=qt(()=>s.value>-1&&pC(r.params,i.value.params)),a=qt(()=>s.value>-1&&s.value===r.matched.length-1&&k5(r.params,i.value.params));function o(l={}){return fC(l)?e[N(t.replace)?"replace":"push"](N(t.to)).catch(nu):Promise.resolve()}return{route:i,href:qt(()=>i.value.href),isActive:n,isExactActive:a,navigate:o}}const hC=tt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Y2,setup(t,{slots:e}){const r=Zo(Y2(t)),{options:i}=Dr(kd),s=qt(()=>({[Z2(t.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[Z2(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const n=e.default&&e.default(r);return t.custom?n:wn("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},n)}}}),Am=hC;function fC(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function pC(t,e){for(const r in e){const i=e[r],s=t[r];if(typeof i=="string"){if(i!==s)return!1}else if(!ps(s)||s.length!==i.length||i.some((n,a)=>n!==s[a]))return!1}return!0}function Q2(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Z2=(t,e,r)=>t??e??r,mC=tt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const i=Dr(ap),s=qt(()=>t.route||i.value),n=Dr(K2,0),a=qt(()=>{let u=N(n);const{matched:c}=s.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),o=qt(()=>s.value.matched[a.value]);Ai(K2,qt(()=>a.value+1)),Ai(dC,o),Ai(ap,s);const l=Ye();return ls(()=>[l.value,o.value,t.name],([u,c,h],[f,y,w])=>{c&&(c.instances[h]=u,y&&y!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=y.leaveGuards),c.updateGuards.size||(c.updateGuards=y.updateGuards))),u&&c&&(!y||!Bo(c,y)||!f)&&(c.enterCallbacks[h]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=s.value,c=t.name,h=o.value,f=h&&h.components[c];if(!f)return J2(r.default,{Component:f,route:u});const y=h.props[c],w=y?y===!0?u.params:typeof y=="function"?y(u):y:null,C=wn(f,Rt({},w,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return J2(r.default,{Component:C,route:u})||C}}});function J2(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const R5=mC;function gC(t){const e=sC(t.routes,t),r=t.parseQuery||uC,i=t.stringifyQuery||X2,s=t.history,n=Ll(),a=Ll(),o=Ll(),l=_v(Dn);let u=Dn;yo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Wh.bind(null,ie=>""+ie),h=Wh.bind(null,LS),f=Wh.bind(null,wu);function y(ie,ve){let _e,Le;return I5(ie)?(_e=e.getRecordMatcher(ie),Le=ve):Le=ie,e.addRoute(Le,_e)}function w(ie){const ve=e.getRecordMatcher(ie);ve&&e.removeRoute(ve)}function _(){return e.getRoutes().map(ie=>ie.record)}function C(ie){return!!e.getRecordMatcher(ie)}function E(ie,ve){if(ve=Rt({},ve||l.value),typeof ie=="string"){const B=Xh(r,ie,ve.path),Q=e.resolve({path:B.path},ve),de=s.createHref(B.fullPath);return Rt(B,Q,{params:f(Q.params),hash:wu(B.hash),redirectedFrom:void 0,href:de})}let _e;if(ie.path!=null)_e=Rt({},ie,{path:Xh(r,ie.path,ve.path).path});else{const B=Rt({},ie.params);for(const Q in B)B[Q]==null&&delete B[Q];_e=Rt({},ie,{params:h(B)}),ve.params=h(ve.params)}const Le=e.resolve(_e,ve),at=ie.hash||"";Le.params=c(f(Le.params));const ot=RS(i,Rt({},ie,{hash:kS(at),path:Le.path})),R=s.createHref(ot);return Rt({fullPath:ot,hash:at,query:i===X2?cC(ie.query):ie.query||{}},Le,{redirectedFrom:void 0,href:R})}function k(ie){return typeof ie=="string"?Xh(r,ie,l.value.path):Rt({},ie)}function D(ie,ve){if(u!==ie)return Fo(8,{from:ve,to:ie})}function P(ie){return J(ie)}function L(ie){return P(Rt(k(ie),{replace:!0}))}function U(ie){const ve=ie.matched[ie.matched.length-1];if(ve&&ve.redirect){const{redirect:_e}=ve;let Le=typeof _e=="function"?_e(ie):_e;return typeof Le=="string"&&(Le=Le.includes("?")||Le.includes("#")?Le=k(Le):{path:Le},Le.params={}),Rt({query:ie.query,hash:ie.hash,params:Le.path!=null?{}:ie.params},Le)}}function J(ie,ve){const _e=u=E(ie),Le=l.value,at=ie.state,ot=ie.force,R=ie.replace===!0,B=U(_e);if(B)return J(Rt(k(B),{state:typeof B=="object"?Rt({},at,B.state):at,force:ot,replace:R}),ve||_e);const Q=_e;Q.redirectedFrom=ve;let de;return!ot&&OS(i,Le,_e)&&(de=Fo(16,{to:Q,from:Le}),Ze(Le,Le,!0,!1)),(de?Promise.resolve(de):re(Q,Le)).catch(ue=>Ks(ue)?Ks(ue,2)?ue:wt(ue):ze(ue,Q,Le)).then(ue=>{if(ue){if(Ks(ue,2))return J(Rt({replace:R},k(ue.to),{state:typeof ue.to=="object"?Rt({},at,ue.to.state):at,force:ot}),ve||Q)}else ue=W(Q,Le,!0,R,at);return Z(Q,Le,ue),ue})}function X(ie,ve){const _e=D(ie,ve);return _e?Promise.reject(_e):Promise.resolve()}function H(ie){const ve=Pt.values().next().value;return ve&&typeof ve.runWithContext=="function"?ve.runWithContext(ie):ie()}function re(ie,ve){let _e;const[Le,at,ot]=yC(ie,ve);_e=Kh(Le.reverse(),"beforeRouteLeave",ie,ve);for(const B of Le)B.leaveGuards.forEach(Q=>{_e.push(qn(Q,ie,ve))});const R=X.bind(null,ie,ve);return _e.push(R),bt(_e).then(()=>{_e=[];for(const B of n.list())_e.push(qn(B,ie,ve));return _e.push(R),bt(_e)}).then(()=>{_e=Kh(at,"beforeRouteUpdate",ie,ve);for(const B of at)B.updateGuards.forEach(Q=>{_e.push(qn(Q,ie,ve))});return _e.push(R),bt(_e)}).then(()=>{_e=[];for(const B of ot)if(B.beforeEnter)if(ps(B.beforeEnter))for(const Q of B.beforeEnter)_e.push(qn(Q,ie,ve));else _e.push(qn(B.beforeEnter,ie,ve));return _e.push(R),bt(_e)}).then(()=>(ie.matched.forEach(B=>B.enterCallbacks={}),_e=Kh(ot,"beforeRouteEnter",ie,ve,H),_e.push(R),bt(_e))).then(()=>{_e=[];for(const B of a.list())_e.push(qn(B,ie,ve));return _e.push(R),bt(_e)}).catch(B=>Ks(B,8)?B:Promise.reject(B))}function Z(ie,ve,_e){o.list().forEach(Le=>H(()=>Le(ie,ve,_e)))}function W(ie,ve,_e,Le,at){const ot=D(ie,ve);if(ot)return ot;const R=ve===Dn,B=yo?history.state:{};_e&&(Le||R?s.replace(ie.fullPath,Rt({scroll:R&&B&&B.scroll},at)):s.push(ie.fullPath,at)),l.value=ie,Ze(ie,ve,_e,R),wt()}let ne;function ce(){ne||(ne=s.listen((ie,ve,_e)=>{if(!it.listening)return;const Le=E(ie),at=U(Le);if(at){J(Rt(at,{replace:!0}),Le).catch(nu);return}u=Le;const ot=l.value;yo&&jS(U2(ot.fullPath,_e.delta),Ad()),re(Le,ot).catch(R=>Ks(R,12)?R:Ks(R,2)?(J(R.to,Le).then(B=>{Ks(B,20)&&!_e.delta&&_e.type===Tu.pop&&s.go(-1,!1)}).catch(nu),Promise.reject()):(_e.delta&&s.go(-_e.delta,!1),ze(R,Le,ot))).then(R=>{R=R||W(Le,ot,!1),R&&(_e.delta&&!Ks(R,8)?s.go(-_e.delta,!1):_e.type===Tu.pop&&Ks(R,20)&&s.go(-1,!1)),Z(Le,ot,R)}).catch(nu)}))}let $e=Ll(),ke=Ll(),De;function ze(ie,ve,_e){wt(ie);const Le=ke.list();return Le.length?Le.forEach(at=>at(ie,ve,_e)):console.error(ie),Promise.reject(ie)}function Et(){return De&&l.value!==Dn?Promise.resolve():new Promise((ie,ve)=>{$e.add([ie,ve])})}function wt(ie){return De||(De=!ie,ce(),$e.list().forEach(([ve,_e])=>ie?_e(ie):ve()),$e.reset()),ie}function Ze(ie,ve,_e,Le){const{scrollBehavior:at}=t;if(!yo||!at)return Promise.resolve();const ot=!_e&&HS(U2(ie.fullPath,0))||(Le||!_e)&&history.state&&history.state.scroll||null;return fs().then(()=>at(ie,ve,ot)).then(R=>R&&qS(R)).catch(R=>ze(R,ie,ve))}const ut=ie=>s.go(ie);let rt;const Pt=new Set,it={currentRoute:l,listening:!0,addRoute:y,removeRoute:w,clearRoutes:e.clearRoutes,hasRoute:C,getRoutes:_,resolve:E,options:t,push:P,replace:L,go:ut,back:()=>ut(-1),forward:()=>ut(1),beforeEach:n.add,beforeResolve:a.add,afterEach:o.add,onError:ke.add,isReady:Et,install(ie){const ve=this;ie.component("RouterLink",Am),ie.component("RouterView",R5),ie.config.globalProperties.$router=ve,Object.defineProperty(ie.config.globalProperties,"$route",{enumerable:!0,get:()=>N(l)}),yo&&!rt&&l.value===Dn&&(rt=!0,P(s.location).catch(at=>{}));const _e={};for(const at in Dn)Object.defineProperty(_e,at,{get:()=>l.value[at],enumerable:!0});ie.provide(kd,ve),ie.provide(Em,vv(_e)),ie.provide(ap,l);const Le=ie.unmount;Pt.add(ie),ie.unmount=function(){Pt.delete(ie),Pt.size<1&&(u=Dn,ne&&ne(),ne=null,l.value=Dn,rt=!1,De=!1),Le()}}};function bt(ie){return ie.reduce((ve,_e)=>ve.then(()=>H(_e)),Promise.resolve())}return it}function yC(t,e){const r=[],i=[],s=[],n=Math.max(e.matched.length,t.matched.length);for(let a=0;a<n;a++){const o=e.matched[a];o&&(t.matched.find(u=>Bo(u,o))?i.push(o):r.push(o));const l=t.matched[a];l&&(e.matched.find(u=>Bo(u,l))||s.push(l))}return[r,i,s]}function Uu(){return Dr(kd)}function Dd(t){return Dr(Em)}const $c=tt({__name:"MobileMenuLink",props:{to:{type:String,required:!0},isShown:{type:Boolean},disabled:{type:Boolean}},emits:["closeMenu"],setup(t,{emit:e}){const r=t,i=e,{to:s,isShown:n,disabled:a}=Qi(r);return(o,l)=>(Y(),kt(Bs,{"enter-from-class":"[transform:rotateY(90deg)]","enter-active-class":"transition-all duration-200","enter-to-class":"[transform:rotateY(0deg)]","leave-from-class":"[transform:rotateY(0deg)]","leave-active-class":"transition-all duration-200","leave-to-class":"[transform:rotateY(90deg)]"},{default:Fe(()=>[N(n)?(Y(),ae("li",{key:0,class:$t(`origin-left ${N(a)?"pointer-events-none":""}`)},[ge(N(Am),{to:N(s),onClick:l[0]||(l[0]=u=>i("closeMenu")),class:"cursor-pointer text-subtitle"},{default:Fe(()=>[vm(o.$slots,"default")]),_:3},8,["to"])],2)):Ne("",!0)]),_:3}))}}),vC={class:"z-[100] will-change-transform origin-left fixed left-0 top-0 bg-secondary bg-opacity-90 w-full h-full flex justify-center lg:justify-start lg:pl-[20vw] pt-[30vh]"},bC={class:"flex flex-col items-center gap-[2rem] lg:text-subtitle-lg text-pearl-white font-body font-semibold"},_C=4,xC=tt({__name:"MobileMenu",props:{shouldMenuBeVisible:{type:Boolean},isMenuVisible:{type:Boolean}},emits:["endAction","closeMenu"],setup(t,{emit:e}){const r=t,{shouldMenuBeVisible:i,isMenuVisible:s}=Qi(r),n=e,a=Ye(0),o=()=>{const l=setInterval(()=>{i.value&&a.value<=_C||!i.value&&a.value>0?a.value+=+i.value*2-1:(clearInterval(l),n("endAction"))},100+100*Number(i.value))};return Rr(o),ls(i,o),(l,u)=>(Y(),ae("div",vC,[p("ul",bC,[ge($c,{to:"/",isShown:a.value>=1,disabled:N(i)!=N(s),onCloseMenu:u[0]||(u[0]=c=>n("closeMenu"))},{default:Fe(()=>u[4]||(u[4]=[st("home")])),_:1},8,["isShown","disabled"]),ge($c,{to:"/events",isShown:a.value>=2,disabled:N(i)!=N(s),onCloseMenu:u[1]||(u[1]=c=>n("closeMenu"))},{default:Fe(()=>u[5]||(u[5]=[st("events")])),_:1},8,["isShown","disabled"]),ge($c,{to:"/news",isShown:a.value>=3,disabled:N(i)!=N(s),onCloseMenu:u[2]||(u[2]=c=>n("closeMenu"))},{default:Fe(()=>u[6]||(u[6]=[st("news")])),_:1},8,["isShown","disabled"]),ge($c,{to:"/contact",isShown:a.value>=4,disabled:N(i)!=N(s),onCloseMenu:u[3]||(u[3]=c=>n("closeMenu"))},{default:Fe(()=>u[7]||(u[7]=[st("contact")])),_:1},8,["isShown","disabled"])])]))}}),Ct=ai("toast",{state:()=>({toasts:[]}),getters:{},actions:{addToast(t){const e=Date.now(),r=t.duration||5e3;this.toasts.push({...t,id:e}),setTimeout(()=>{this.removeToast(e)},r)},removeToast(t){this.toasts=this.toasts.filter(e=>e.id!==t)}}}),wC={class:"fixed top-5 right-5 z-[2000] space-y-4"},TC={class:"flex-1"},SC={class:"font-heading text-body-lg"},CC={class:"font-body text-body"},EC=["onClick"],AC=tt({__name:"Toast",setup(t){const e=Ct();function r(s){e.removeToast(s)}function i(s){switch(s){case"success":return"bg-green text-white";case"error":return"bg-red text-white";case"info":return"bg-blue text-white";case"warning":return"bg-yellow text-black";default:return"bg-gray text-white"}}return(s,n)=>(Y(),ae("div",wC,[ge(ZT,{name:"toast",tag:"div",class:"space-y-4","enter-active-class":"transition transform ease-out duration-300","enter-from-class":"opacity-0 translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition transform ease-in duration-300","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-2"},{default:Fe(()=>[(Y(!0),ae(ct,null,Er(N(e).toasts,a=>(Y(),ae("div",{key:a.id,class:$t(["max-w-[90vw] w-[50rem] py-4 px-8 rounded-xl shadow-lg flex items-start",i(a.type)])},[p("div",TC,[p("p",SC,we(a.title),1),p("p",CC,we(a.message),1)]),p("button",{onClick:o=>r(a.id),class:"ml-4 focus:outline-none"},n[0]||(n[0]=[p("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-current",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,EC)],2))),128))]),_:1})]))}});function O5(t,e){return function(){return t.apply(e,arguments)}}const{toString:kC}=Object.prototype,{getPrototypeOf:km}=Object,Id=(t=>e=>{const r=kC.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ms=t=>(t=t.toLowerCase(),e=>Id(e)===t),Ld=t=>e=>typeof e===t,{isArray:el}=Array,Su=Ld("undefined");function DC(t){return t!==null&&!Su(t)&&t.constructor!==null&&!Su(t.constructor)&&Di(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const N5=ms("ArrayBuffer");function IC(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&N5(t.buffer),e}const LC=Ld("string"),Di=Ld("function"),B5=Ld("number"),Pd=t=>t!==null&&typeof t=="object",PC=t=>t===!0||t===!1,m0=t=>{if(Id(t)!=="object")return!1;const e=km(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},MC=ms("Date"),RC=ms("File"),OC=ms("Blob"),NC=ms("FileList"),BC=t=>Pd(t)&&Di(t.pipe),FC=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Di(t.append)&&((e=Id(t))==="formdata"||e==="object"&&Di(t.toString)&&t.toString()==="[object FormData]"))},UC=ms("URLSearchParams"),[$C,zC,qC,jC]=["ReadableStream","Request","Response","Headers"].map(ms),HC=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $u(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),el(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const n=r?Object.getOwnPropertyNames(t):Object.keys(t),a=n.length;let o;for(i=0;i<a;i++)o=n[i],e.call(null,t[o],o,t)}}function F5(t,e){e=e.toLowerCase();const r=Object.keys(t);let i=r.length,s;for(;i-- >0;)if(s=r[i],e===s.toLowerCase())return s;return null}const ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,U5=t=>!Su(t)&&t!==ka;function op(){const{caseless:t}=U5(this)&&this||{},e={},r=(i,s)=>{const n=t&&F5(e,s)||s;m0(e[n])&&m0(i)?e[n]=op(e[n],i):m0(i)?e[n]=op({},i):el(i)?e[n]=i.slice():e[n]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&$u(arguments[i],r);return e}const VC=(t,e,r,{allOwnKeys:i}={})=>($u(e,(s,n)=>{r&&Di(s)?t[n]=O5(s,r):t[n]=s},{allOwnKeys:i}),t),GC=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),WC=(t,e,r,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},XC=(t,e,r,i)=>{let s,n,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),n=s.length;n-- >0;)a=s[n],(!i||i(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&km(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},KC=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const i=t.indexOf(e,r);return i!==-1&&i===r},YC=t=>{if(!t)return null;if(el(t))return t;let e=t.length;if(!B5(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},QC=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&km(Uint8Array)),ZC=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const n=s.value;e.call(t,n[0],n[1])}},JC=(t,e)=>{let r;const i=[];for(;(r=t.exec(e))!==null;)i.push(r);return i},eE=ms("HTMLFormElement"),tE=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,s){return i.toUpperCase()+s}),e4=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),rE=ms("RegExp"),$5=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),i={};$u(r,(s,n)=>{let a;(a=e(s,n,t))!==!1&&(i[n]=a||s)}),Object.defineProperties(t,i)},iE=t=>{$5(t,(e,r)=>{if(Di(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const i=t[r];if(Di(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},sE=(t,e)=>{const r={},i=s=>{s.forEach(n=>{r[n]=!0})};return el(t)?i(t):i(String(t).split(e)),r},nE=()=>{},aE=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Yh="abcdefghijklmnopqrstuvwxyz",t4="0123456789",z5={DIGIT:t4,ALPHA:Yh,ALPHA_DIGIT:Yh+Yh.toUpperCase()+t4},oE=(t=16,e=z5.ALPHA_DIGIT)=>{let r="";const{length:i}=e;for(;t--;)r+=e[Math.random()*i|0];return r};function lE(t){return!!(t&&Di(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const uE=t=>{const e=new Array(10),r=(i,s)=>{if(Pd(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const n=el(i)?[]:{};return $u(i,(a,o)=>{const l=r(a,s+1);!Su(l)&&(n[o]=l)}),e[s]=void 0,n}}return i};return r(t,0)},cE=ms("AsyncFunction"),dE=t=>t&&(Pd(t)||Di(t))&&Di(t.then)&&Di(t.catch),q5=((t,e)=>t?setImmediate:e?((r,i)=>(ka.addEventListener("message",({source:s,data:n})=>{s===ka&&n===r&&i.length&&i.shift()()},!1),s=>{i.push(s),ka.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Di(ka.postMessage)),hE=typeof queueMicrotask<"u"?queueMicrotask.bind(ka):typeof process<"u"&&process.nextTick||q5,oe={isArray:el,isArrayBuffer:N5,isBuffer:DC,isFormData:FC,isArrayBufferView:IC,isString:LC,isNumber:B5,isBoolean:PC,isObject:Pd,isPlainObject:m0,isReadableStream:$C,isRequest:zC,isResponse:qC,isHeaders:jC,isUndefined:Su,isDate:MC,isFile:RC,isBlob:OC,isRegExp:rE,isFunction:Di,isStream:BC,isURLSearchParams:UC,isTypedArray:QC,isFileList:NC,forEach:$u,merge:op,extend:VC,trim:HC,stripBOM:GC,inherits:WC,toFlatObject:XC,kindOf:Id,kindOfTest:ms,endsWith:KC,toArray:YC,forEachEntry:ZC,matchAll:JC,isHTMLForm:eE,hasOwnProperty:e4,hasOwnProp:e4,reduceDescriptors:$5,freezeMethods:iE,toObjectSet:sE,toCamelCase:tE,noop:nE,toFiniteNumber:aE,findKey:F5,global:ka,isContextDefined:U5,ALPHABET:z5,generateString:oE,isSpecCompliantForm:lE,toJSONObject:uE,isAsyncFn:cE,isThenable:dE,setImmediate:q5,asap:hE};function pt(t,e,r,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}oe.inherits(pt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const j5=pt.prototype,H5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{H5[t]={value:t}});Object.defineProperties(pt,H5);Object.defineProperty(j5,"isAxiosError",{value:!0});pt.from=(t,e,r,i,s,n)=>{const a=Object.create(j5);return oe.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),pt.call(a,t.message,e,r,i,s),a.cause=t,a.name=t.name,n&&Object.assign(a,n),a};const fE=null;function lp(t){return oe.isPlainObject(t)||oe.isArray(t)}function V5(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function r4(t,e,r){return t?t.concat(e).map(function(s,n){return s=V5(s),!r&&n?"["+s+"]":s}).join(r?".":""):e}function pE(t){return oe.isArray(t)&&!t.some(lp)}const mE=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Md(t,e,r){if(!oe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=oe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,C){return!oe.isUndefined(C[_])});const i=r.metaTokens,s=r.visitor||c,n=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(s))throw new TypeError("visitor must be a function");function u(w){if(w===null)return"";if(oe.isDate(w))return w.toISOString();if(!l&&oe.isBlob(w))throw new pt("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(w)||oe.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function c(w,_,C){let E=w;if(w&&!C&&typeof w=="object"){if(oe.endsWith(_,"{}"))_=i?_:_.slice(0,-2),w=JSON.stringify(w);else if(oe.isArray(w)&&pE(w)||(oe.isFileList(w)||oe.endsWith(_,"[]"))&&(E=oe.toArray(w)))return _=V5(_),E.forEach(function(D,P){!(oe.isUndefined(D)||D===null)&&e.append(a===!0?r4([_],P,n):a===null?_:_+"[]",u(D))}),!1}return lp(w)?!0:(e.append(r4(C,_,n),u(w)),!1)}const h=[],f=Object.assign(mE,{defaultVisitor:c,convertValue:u,isVisitable:lp});function y(w,_){if(!oe.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+_.join("."));h.push(w),oe.forEach(w,function(E,k){(!(oe.isUndefined(E)||E===null)&&s.call(e,E,oe.isString(k)?k.trim():k,_,f))===!0&&y(E,_?_.concat(k):[k])}),h.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return y(t),e}function i4(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Dm(t,e){this._pairs=[],t&&Md(t,this,e)}const G5=Dm.prototype;G5.append=function(e,r){this._pairs.push([e,r])};G5.toString=function(e){const r=e?function(i){return e.call(this,i,i4)}:i4;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function gE(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function W5(t,e,r){if(!e)return t;const i=r&&r.encode||gE,s=r&&r.serialize;let n;if(s?n=s(e,r):n=oe.isURLSearchParams(e)?e.toString():new Dm(e,r).toString(i),n){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+n}return t}class s4{constructor(){this.handlers=[]}use(e,r,i){return this.handlers.push({fulfilled:e,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(i){i!==null&&e(i)})}}const X5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yE=typeof URLSearchParams<"u"?URLSearchParams:Dm,vE=typeof FormData<"u"?FormData:null,bE=typeof Blob<"u"?Blob:null,_E={isBrowser:!0,classes:{URLSearchParams:yE,FormData:vE,Blob:bE},protocols:["http","https","file","blob","url","data"]},Im=typeof window<"u"&&typeof document<"u",up=typeof navigator=="object"&&navigator||void 0,xE=Im&&(!up||["ReactNative","NativeScript","NS"].indexOf(up.product)<0),wE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TE=Im&&window.location.href||"http://localhost",SE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Im,hasStandardBrowserEnv:xE,hasStandardBrowserWebWorkerEnv:wE,navigator:up,origin:TE},Symbol.toStringTag,{value:"Module"})),gi={...SE,..._E};function CE(t,e){return Md(t,new gi.classes.URLSearchParams,Object.assign({visitor:function(r,i,s,n){return gi.isNode&&oe.isBuffer(r)?(this.append(i,r.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}function EE(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function AE(t){const e={},r=Object.keys(t);let i;const s=r.length;let n;for(i=0;i<s;i++)n=r[i],e[n]=t[n];return e}function K5(t){function e(r,i,s,n){let a=r[n++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=n>=r.length;return a=!a&&oe.isArray(s)?s.length:a,l?(oe.hasOwnProp(s,a)?s[a]=[s[a],i]:s[a]=i,!o):((!s[a]||!oe.isObject(s[a]))&&(s[a]=[]),e(r,i,s[a],n)&&oe.isArray(s[a])&&(s[a]=AE(s[a])),!o)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const r={};return oe.forEachEntry(t,(i,s)=>{e(EE(i),s,r,0)}),r}return null}function kE(t,e,r){if(oe.isString(t))try{return(e||JSON.parse)(t),oe.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(t)}const zu={transitional:X5,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const i=r.getContentType()||"",s=i.indexOf("application/json")>-1,n=oe.isObject(e);if(n&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return s?JSON.stringify(K5(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(n){if(i.indexOf("application/x-www-form-urlencoded")>-1)return CE(e,this.formSerializer).toString();if((o=oe.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Md(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return n||s?(r.setContentType("application/json",!1),kE(e)):e}],transformResponse:[function(e){const r=this.transitional||zu.transitional,i=r&&r.forcedJSONParsing,s=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(i&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?pt.from(o,pt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gi.classes.FormData,Blob:gi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{zu.headers[t]={}});const DE=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),IE=t=>{const e={};let r,i,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),i=a.substring(s+1).trim(),!(!r||e[r]&&DE[r])&&(r==="set-cookie"?e[r]?e[r].push(i):e[r]=[i]:e[r]=e[r]?e[r]+", "+i:i)}),e},n4=Symbol("internals");function Pl(t){return t&&String(t).trim().toLowerCase()}function g0(t){return t===!1||t==null?t:oe.isArray(t)?t.map(g0):String(t)}function LE(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(t);)e[i[1]]=i[2];return e}const PE=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qh(t,e,r,i,s){if(oe.isFunction(i))return i.call(this,e,r);if(s&&(e=r),!!oe.isString(e)){if(oe.isString(i))return e.indexOf(i)!==-1;if(oe.isRegExp(i))return i.test(e)}}function ME(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,i)=>r.toUpperCase()+i)}function RE(t,e){const r=oe.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+r,{value:function(s,n,a){return this[i].call(this,e,s,n,a)},configurable:!0})})}class yi{constructor(e){e&&this.set(e)}set(e,r,i){const s=this;function n(o,l,u){const c=Pl(l);if(!c)throw new Error("header name must be a non-empty string");const h=oe.findKey(s,c);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||l]=g0(o))}const a=(o,l)=>oe.forEach(o,(u,c)=>n(u,c,l));if(oe.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(oe.isString(e)&&(e=e.trim())&&!PE(e))a(IE(e),r);else if(oe.isHeaders(e))for(const[o,l]of e.entries())n(l,o,i);else e!=null&&n(r,e,i);return this}get(e,r){if(e=Pl(e),e){const i=oe.findKey(this,e);if(i){const s=this[i];if(!r)return s;if(r===!0)return LE(s);if(oe.isFunction(r))return r.call(this,s,i);if(oe.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Pl(e),e){const i=oe.findKey(this,e);return!!(i&&this[i]!==void 0&&(!r||Qh(this,this[i],i,r)))}return!1}delete(e,r){const i=this;let s=!1;function n(a){if(a=Pl(a),a){const o=oe.findKey(i,a);o&&(!r||Qh(i,i[o],o,r))&&(delete i[o],s=!0)}}return oe.isArray(e)?e.forEach(n):n(e),s}clear(e){const r=Object.keys(this);let i=r.length,s=!1;for(;i--;){const n=r[i];(!e||Qh(this,this[n],n,e,!0))&&(delete this[n],s=!0)}return s}normalize(e){const r=this,i={};return oe.forEach(this,(s,n)=>{const a=oe.findKey(i,n);if(a){r[a]=g0(s),delete r[n];return}const o=e?ME(n):String(n).trim();o!==n&&delete r[n],r[o]=g0(s),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return oe.forEach(this,(i,s)=>{i!=null&&i!==!1&&(r[s]=e&&oe.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const i=new this(e);return r.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[n4]=this[n4]={accessors:{}}).accessors,s=this.prototype;function n(a){const o=Pl(a);i[o]||(RE(s,a),i[o]=!0)}return oe.isArray(e)?e.forEach(n):n(e),this}}yi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(yi.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[r]=i}}});oe.freezeMethods(yi);function Zh(t,e){const r=this||zu,i=e||r,s=yi.from(i.headers);let n=i.data;return oe.forEach(t,function(o){n=o.call(r,n,s.normalize(),e?e.status:void 0)}),s.normalize(),n}function Y5(t){return!!(t&&t.__CANCEL__)}function tl(t,e,r){pt.call(this,t??"canceled",pt.ERR_CANCELED,e,r),this.name="CanceledError"}oe.inherits(tl,pt,{__CANCEL__:!0});function Q5(t,e,r){const i=r.config.validateStatus;!r.status||!i||i(r.status)?t(r):e(new pt("Request failed with status code "+r.status,[pt.ERR_BAD_REQUEST,pt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function OE(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function NE(t,e){t=t||10;const r=new Array(t),i=new Array(t);let s=0,n=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=i[n];a||(a=u),r[s]=l,i[s]=u;let h=n,f=0;for(;h!==s;)f+=r[h++],h=h%t;if(s=(s+1)%t,s===n&&(n=(n+1)%t),u-a<e)return;const y=c&&u-c;return y?Math.round(f*1e3/y):void 0}}function BE(t,e){let r=0,i=1e3/e,s,n;const a=(u,c=Date.now())=>{r=c,s=null,n&&(clearTimeout(n),n=null),t.apply(null,u)};return[(...u)=>{const c=Date.now(),h=c-r;h>=i?a(u,c):(s=u,n||(n=setTimeout(()=>{n=null,a(s)},i-h)))},()=>s&&a(s)]}const P0=(t,e,r=3)=>{let i=0;const s=NE(50,250);return BE(n=>{const a=n.loaded,o=n.lengthComputable?n.total:void 0,l=a-i,u=s(l),c=a<=o;i=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-a)/u:void 0,event:n,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},a4=(t,e)=>{const r=t!=null;return[i=>e[0]({lengthComputable:r,total:t,loaded:i}),e[1]]},o4=t=>(...e)=>oe.asap(()=>t(...e)),FE=gi.hasStandardBrowserEnv?function(){const e=gi.navigator&&/(msie|trident)/i.test(gi.navigator.userAgent),r=document.createElement("a");let i;function s(n){let a=n;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){const o=oe.isString(a)?s(a):a;return o.protocol===i.protocol&&o.host===i.host}}():function(){return function(){return!0}}(),UE=gi.hasStandardBrowserEnv?{write(t,e,r,i,s,n){const a=[t+"="+encodeURIComponent(e)];oe.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),oe.isString(i)&&a.push("path="+i),oe.isString(s)&&a.push("domain="+s),n===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $E(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function zE(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Z5(t,e){return t&&!$E(e)?zE(t,e):e}const l4=t=>t instanceof yi?{...t}:t;function ja(t,e){e=e||{};const r={};function i(u,c,h){return oe.isPlainObject(u)&&oe.isPlainObject(c)?oe.merge.call({caseless:h},u,c):oe.isPlainObject(c)?oe.merge({},c):oe.isArray(c)?c.slice():c}function s(u,c,h){if(oe.isUndefined(c)){if(!oe.isUndefined(u))return i(void 0,u,h)}else return i(u,c,h)}function n(u,c){if(!oe.isUndefined(c))return i(void 0,c)}function a(u,c){if(oe.isUndefined(c)){if(!oe.isUndefined(u))return i(void 0,u)}else return i(void 0,c)}function o(u,c,h){if(h in e)return i(u,c);if(h in t)return i(void 0,u)}const l={url:n,method:n,data:n,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,c)=>s(l4(u),l4(c),!0)};return oe.forEach(Object.keys(Object.assign({},t,e)),function(c){const h=l[c]||s,f=h(t[c],e[c],c);oe.isUndefined(f)&&h!==o||(r[c]=f)}),r}const J5=t=>{const e=ja({},t);let{data:r,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:n,headers:a,auth:o}=e;e.headers=a=yi.from(a),e.url=W5(Z5(e.baseURL,e.url),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(oe.isFormData(r)){if(gi.hasStandardBrowserEnv||gi.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[u,...c]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...c].join("; "))}}if(gi.hasStandardBrowserEnv&&(i&&oe.isFunction(i)&&(i=i(e)),i||i!==!1&&FE(e.url))){const u=s&&n&&UE.read(n);u&&a.set(s,u)}return e},qE=typeof XMLHttpRequest<"u",jE=qE&&function(t){return new Promise(function(r,i){const s=J5(t);let n=s.data;const a=yi.from(s.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=s,c,h,f,y,w;function _(){y&&y(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(c),s.signal&&s.signal.removeEventListener("abort",c)}let C=new XMLHttpRequest;C.open(s.method.toUpperCase(),s.url,!0),C.timeout=s.timeout;function E(){if(!C)return;const D=yi.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),L={data:!o||o==="text"||o==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:D,config:t,request:C};Q5(function(J){r(J),_()},function(J){i(J),_()},L),C=null}"onloadend"in C?C.onloadend=E:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(E)},C.onabort=function(){C&&(i(new pt("Request aborted",pt.ECONNABORTED,t,C)),C=null)},C.onerror=function(){i(new pt("Network Error",pt.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const L=s.transitional||X5;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),i(new pt(P,L.clarifyTimeoutError?pt.ETIMEDOUT:pt.ECONNABORTED,t,C)),C=null},n===void 0&&a.setContentType(null),"setRequestHeader"in C&&oe.forEach(a.toJSON(),function(P,L){C.setRequestHeader(L,P)}),oe.isUndefined(s.withCredentials)||(C.withCredentials=!!s.withCredentials),o&&o!=="json"&&(C.responseType=s.responseType),u&&([f,w]=P0(u,!0),C.addEventListener("progress",f)),l&&C.upload&&([h,y]=P0(l),C.upload.addEventListener("progress",h),C.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(c=D=>{C&&(i(!D||D.type?new tl(null,t,C):D),C.abort(),C=null)},s.cancelToken&&s.cancelToken.subscribe(c),s.signal&&(s.signal.aborted?c():s.signal.addEventListener("abort",c)));const k=OE(s.url);if(k&&gi.protocols.indexOf(k)===-1){i(new pt("Unsupported protocol "+k+":",pt.ERR_BAD_REQUEST,t));return}C.send(n||null)})},HE=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let i=new AbortController,s;const n=function(u){if(!s){s=!0,o();const c=u instanceof Error?u:this.reason;i.abort(c instanceof pt?c:new tl(c instanceof Error?c.message:c))}};let a=e&&setTimeout(()=>{a=null,n(new pt(`timeout ${e} of ms exceeded`,pt.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(n):u.removeEventListener("abort",n)}),t=null)};t.forEach(u=>u.addEventListener("abort",n));const{signal:l}=i;return l.unsubscribe=()=>oe.asap(o),l}},VE=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let i=0,s;for(;i<r;)s=i+e,yield t.slice(i,s),i=s},GE=async function*(t,e){for await(const r of WE(t))yield*VE(r,e)},WE=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:i}=await e.read();if(r)break;yield i}}finally{await e.cancel()}},u4=(t,e,r,i)=>{const s=GE(t,e);let n=0,a,o=l=>{a||(a=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await s.next();if(u){o(),l.close();return}let h=c.byteLength;if(r){let f=n+=h;r(f)}l.enqueue(new Uint8Array(c))}catch(u){throw o(u),u}},cancel(l){return o(l),s.return()}},{highWaterMark:2})},Rd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",e6=Rd&&typeof ReadableStream=="function",XE=Rd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),t6=(t,...e)=>{try{return!!t(...e)}catch{return!1}},KE=e6&&t6(()=>{let t=!1;const e=new Request(gi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),c4=64*1024,cp=e6&&t6(()=>oe.isReadableStream(new Response("").body)),M0={stream:cp&&(t=>t.body)};Rd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!M0[e]&&(M0[e]=oe.isFunction(t[e])?r=>r[e]():(r,i)=>{throw new pt(`Response type '${e}' is not supported`,pt.ERR_NOT_SUPPORT,i)})})})(new Response);const YE=async t=>{if(t==null)return 0;if(oe.isBlob(t))return t.size;if(oe.isSpecCompliantForm(t))return(await new Request(gi.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(t)||oe.isArrayBuffer(t))return t.byteLength;if(oe.isURLSearchParams(t)&&(t=t+""),oe.isString(t))return(await XE(t)).byteLength},QE=async(t,e)=>{const r=oe.toFiniteNumber(t.getContentLength());return r??YE(e)},ZE=Rd&&(async t=>{let{url:e,method:r,data:i,signal:s,cancelToken:n,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:c,withCredentials:h="same-origin",fetchOptions:f}=J5(t);u=u?(u+"").toLowerCase():"text";let y=HE([s,n&&n.toAbortSignal()],a),w;const _=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let C;try{if(l&&KE&&r!=="get"&&r!=="head"&&(C=await QE(c,i))!==0){let L=new Request(e,{method:"POST",body:i,duplex:"half"}),U;if(oe.isFormData(i)&&(U=L.headers.get("content-type"))&&c.setContentType(U),L.body){const[J,X]=a4(C,P0(o4(l)));i=u4(L.body,c4,J,X)}}oe.isString(h)||(h=h?"include":"omit");const E="credentials"in Request.prototype;w=new Request(e,{...f,signal:y,method:r.toUpperCase(),headers:c.normalize().toJSON(),body:i,duplex:"half",credentials:E?h:void 0});let k=await fetch(w);const D=cp&&(u==="stream"||u==="response");if(cp&&(o||D&&_)){const L={};["status","statusText","headers"].forEach(H=>{L[H]=k[H]});const U=oe.toFiniteNumber(k.headers.get("content-length")),[J,X]=o&&a4(U,P0(o4(o),!0))||[];k=new Response(u4(k.body,c4,J,()=>{X&&X(),_&&_()}),L)}u=u||"text";let P=await M0[oe.findKey(M0,u)||"text"](k,t);return!D&&_&&_(),await new Promise((L,U)=>{Q5(L,U,{data:P,headers:yi.from(k.headers),status:k.status,statusText:k.statusText,config:t,request:w})})}catch(E){throw _&&_(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new pt("Network Error",pt.ERR_NETWORK,t,w),{cause:E.cause||E}):pt.from(E,E&&E.code,t,w)}}),dp={http:fE,xhr:jE,fetch:ZE};oe.forEach(dp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const d4=t=>`- ${t}`,JE=t=>oe.isFunction(t)||t===null||t===!1,r6={getAdapter:t=>{t=oe.isArray(t)?t:[t];const{length:e}=t;let r,i;const s={};for(let n=0;n<e;n++){r=t[n];let a;if(i=r,!JE(r)&&(i=dp[(a=String(r)).toLowerCase()],i===void 0))throw new pt(`Unknown adapter '${a}'`);if(i)break;s[a||"#"+n]=i}if(!i){const n=Object.entries(s).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?n.length>1?`since :
`+n.map(d4).join(`
`):" "+d4(n[0]):"as no adapter specified";throw new pt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:dp};function Jh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new tl(null,t)}function h4(t){return Jh(t),t.headers=yi.from(t.headers),t.data=Zh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),r6.getAdapter(t.adapter||zu.adapter)(t).then(function(i){return Jh(t),i.data=Zh.call(t,t.transformResponse,i),i.headers=yi.from(i.headers),i},function(i){return Y5(i)||(Jh(t),i&&i.response&&(i.response.data=Zh.call(t,t.transformResponse,i.response),i.response.headers=yi.from(i.response.headers))),Promise.reject(i)})}const i6="1.7.7",Lm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Lm[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const f4={};Lm.transitional=function(e,r,i){function s(n,a){return"[Axios v"+i6+"] Transitional option '"+n+"'"+a+(i?". "+i:"")}return(n,a,o)=>{if(e===!1)throw new pt(s(a," has been removed"+(r?" in "+r:"")),pt.ERR_DEPRECATED);return r&&!f4[a]&&(f4[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(n,a,o):!0}};function eA(t,e,r){if(typeof t!="object")throw new pt("options must be an object",pt.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const n=i[s],a=e[n];if(a){const o=t[n],l=o===void 0||a(o,n,t);if(l!==!0)throw new pt("option "+n+" must be "+l,pt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new pt("Unknown option "+n,pt.ERR_BAD_OPTION)}}const hp={assertOptions:eA,validators:Lm},In=hp.validators;class Ra{constructor(e){this.defaults=e,this.interceptors={request:new s4,response:new s4}}async request(e,r){try{return await this._request(e,r)}catch(i){if(i instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const n=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?n&&!String(i.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+n):i.stack=n}catch{}}throw i}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=ja(this.defaults,r);const{transitional:i,paramsSerializer:s,headers:n}=r;i!==void 0&&hp.assertOptions(i,{silentJSONParsing:In.transitional(In.boolean),forcedJSONParsing:In.transitional(In.boolean),clarifyTimeoutError:In.transitional(In.boolean)},!1),s!=null&&(oe.isFunction(s)?r.paramsSerializer={serialize:s}:hp.assertOptions(s,{encode:In.function,serialize:In.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=n&&oe.merge(n.common,n[r.method]);n&&oe.forEach(["delete","get","head","post","put","patch","common"],w=>{delete n[w]}),r.headers=yi.concat(a,n);const o=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(l=l&&_.synchronous,o.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let c,h=0,f;if(!l){const w=[h4.bind(this),void 0];for(w.unshift.apply(w,o),w.push.apply(w,u),f=w.length,c=Promise.resolve(r);h<f;)c=c.then(w[h++],w[h++]);return c}f=o.length;let y=r;for(h=0;h<f;){const w=o[h++],_=o[h++];try{y=w(y)}catch(C){_.call(this,C);break}}try{c=h4.call(this,y)}catch(w){return Promise.reject(w)}for(h=0,f=u.length;h<f;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=ja(this.defaults,e);const r=Z5(e.baseURL,e.url);return W5(r,e.params,e.paramsSerializer)}}oe.forEach(["delete","get","head","options"],function(e){Ra.prototype[e]=function(r,i){return this.request(ja(i||{},{method:e,url:r,data:(i||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function r(i){return function(n,a,o){return this.request(ja(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}Ra.prototype[e]=r(),Ra.prototype[e+"Form"]=r(!0)});class Pm{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(n){r=n});const i=this;this.promise.then(s=>{if(!i._listeners)return;let n=i._listeners.length;for(;n-- >0;)i._listeners[n](s);i._listeners=null}),this.promise.then=s=>{let n;const a=new Promise(o=>{i.subscribe(o),n=o}).then(s);return a.cancel=function(){i.unsubscribe(n)},a},e(function(n,a,o){i.reason||(i.reason=new tl(n,a,o),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=i=>{e.abort(i)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Pm(function(s){e=s}),cancel:e}}}function tA(t){return function(r){return t.apply(null,r)}}function rA(t){return oe.isObject(t)&&t.isAxiosError===!0}const fp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fp).forEach(([t,e])=>{fp[e]=t});function s6(t){const e=new Ra(t),r=O5(Ra.prototype.request,e);return oe.extend(r,Ra.prototype,e,{allOwnKeys:!0}),oe.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return s6(ja(t,s))},r}const Zt=s6(zu);Zt.Axios=Ra;Zt.CanceledError=tl;Zt.CancelToken=Pm;Zt.isCancel=Y5;Zt.VERSION=i6;Zt.toFormData=Md;Zt.AxiosError=pt;Zt.Cancel=Zt.CanceledError;Zt.all=function(e){return Promise.all(e)};Zt.spread=tA;Zt.isAxiosError=rA;Zt.mergeConfig=ja;Zt.AxiosHeaders=yi;Zt.formToJSON=t=>K5(oe.isHTMLForm(t)?new FormData(t):t);Zt.getAdapter=r6.getAdapter;Zt.HttpStatusCode=fp;Zt.default=Zt;/*! js-cookie v3.0.5 | MIT */function zc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)t[i]=r[i]}return t}var iA={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function pp(t,e){function r(s,n,a){if(!(typeof document>"u")){a=zc({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var l in a)a[l]&&(o+="; "+l,a[l]!==!0&&(o+="="+a[l].split(";")[0]));return document.cookie=s+"="+t.write(n,s)+o}}function i(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var n=document.cookie?document.cookie.split("; "):[],a={},o=0;o<n.length;o++){var l=n[o].split("="),u=l.slice(1).join("=");try{var c=decodeURIComponent(l[0]);if(a[c]=t.read(u,c),s===c)break}catch{}}return s?a[s]:a}}return Object.create({set:r,get:i,remove:function(s,n){r(s,"",zc({},n,{expires:-1}))},withAttributes:function(s){return pp(this.converter,zc({},this.attributes,s))},withConverter:function(s){return pp(zc({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Es=pp(iA,{path:"/"});const Mm="https://www.integrationbee.at/api/v2",qi=Zt.create({baseURL:Mm,headers:{"Content-Type":"application/json"},withCredentials:!0});qi.interceptors.request.use(t=>{const e=Es.get("access"),r=Es.get("csrftoken");return Es.get("refresh")||Es.set("refresh","null"),r&&(t.headers["X-CSRFToken"]=r),t.headers.Authorization=e?`Bearer ${e}`:"",t});qi.interceptors.response.use(t=>t,async t=>{const e=t.config;if(t.response.status===401&&!e._retry){e._retry=!0;const r=Es.get("refresh");try{const{data:i}=await Zt.post(`${Mm}/refresh/`,{refresh:r});return Es.set("access",i.access),qi.defaults.headers.common.Authorization=`Bearer ${i.access}`,e.headers.Authorization=`Bearer ${i.access}`,qi(e)}catch(i){return Promise.reject(i)}}return Promise.reject(t)});const si=Zt.create({baseURL:Mm,headers:{"Content-Type":"application/json"},withCredentials:!0});async function Rm(t){try{return(await si.get(`/cms/images/${t}/`)).data.meta.download_url}catch{return null}}const n6=ai("homePageStore",{state:()=>({mainSponsorExists:!1,mainSponsor:null,goldSponsors:[],silverSponsors:[],bronzeSponsors:[],nextEvent:null,stepsToParticipate:[],whyParticipate:[],slogan:"",whatIsItContent:"",videoUrl:"",titleBackgroundImage:"",socialMediaLinks:[],loading:!1}),actions:{async fetchHomePageData(){var t;this.loading=!0;try{const e=await si.get("/cms/pages/",{params:{type:"home.HomePage",fields:"slogan,sponsors,why_participate,competition,youtube_video_link,what_is_it_content,title_background_image,social_media_links,steps_to_participate,competition"}});if(!e.data||!e.data||!e.data.items[0])throw new Error("Invalid response format: missing or invalid data");const r=e.data.items[0];this.mainSponsorExists=!!r.sponsors.find(n=>n.value.sponsor_tier=="main");const i=async n=>{const a=r.sponsors.filter(o=>o.value.sponsor_tier===n).map(async o=>({sponsorName:o.value.sponsor_name,logoSrc:await Rm(o.value.sponsor_logo),logoSize:o.value.sponsor_logo_size,...n==="main"?{description:o.value.sponsor_description}:{}}));return Promise.all(a)};this.mainSponsor=this.mainSponsorExists&&(await i("main"))[0]||null,this.goldSponsors=await i("gold"),this.silverSponsors=await i("silver"),this.bronzeSponsors=await i("bronze");const{data:s}=await Zt.get(r.competition.meta.detail_url);this.nextEvent={id:s.id,title:s.title,edition:s.edition,description:s.short_description.slice(0,300),imageSrc:((t=s.picture)==null?void 0:t.meta.download_url)||"",link:"event/"+s.id},this.stepsToParticipate=r.steps_to_participate.sort((n,a)=>n.step_number-a.step_number).map(n=>({title:n.value.step_title,description:n.value.step_description})),this.whyParticipate=r.why_participate.sort((n,a)=>n.reason_number-a.reason_number).map(n=>({title:n.value.header,description:n.value.content})),this.slogan=r.slogan,this.whatIsItContent=r.what_is_it_content,this.videoUrl=r.youtube_video_link,this.titleBackgroundImage=r.title_background_image.meta.download_url,this.socialMediaLinks=r.social_media_links.map(n=>({platform:n.value.social_media_name,url:n.value.social_media_link}))}catch{Ct().addToast({title:"Error has occured",type:"error",message:"Could not fetch home page, try again later"})}finally{this.loading=!1}}}});function Cu(t){const e=new Date(t),r=e.getUTCDate(),i=e.getUTCFullYear(),s=e.toLocaleString("en-US",{month:"short",timeZone:"UTC"}),n=String(e.getUTCHours()).padStart(2,"0"),a=String(e.getUTCMinutes()).padStart(2,"0");return`${r}. ${s} ${i} ${n}:${a}`}const mp=ai("newsPageStore",{state:()=>({title:"",newsItems:[],currentPage:1,totalPages:1,loading:!1,error:null,commentText:""}),actions:{async fetchNewsPage(){try{const t=await si.get("/cms/pages/",{params:{type:"home.NewsPage",fields:"title"}});this.title=t.data.items[0].title}catch{Ct().addToast({type:"error",title:"Error has occured",message:"Could not fetch news page, try again later."})}},async fetchNews(t=0){this.loading=!0;const e=10;try{const i=(await si.get("/cms/pages/",{params:{type:"home.NewsPost",fields:"title,id,text,picture",offset:t*e}})).data.items;this.newsItems=i.sort((s,n)=>new Date(n.meta.first_published_at).getTime()-new Date(s.meta.first_published_at).getTime()).map(s=>{var n;return{id:s.id,title:s.title,content:s.text,pictureSrc:(n=s.picture)==null?void 0:n.meta.download_url,date:Cu(s.meta.first_published_at)}})}catch{}finally{this.loading=!1}},async postComment(t){}}}),a6=ai("contactPageStore",{state:()=>({title:"",aboutUsText:"",generalInqueriesEmail:"",teamMembers:[],loading:!1}),actions:{async fetchContactData(){this.loading=!0;try{const e=(await si.get("/cms/pages",{params:{type:"home.ContactsPage",fields:"title,about_us,inquiry_email,our_team"}})).data.items[0];this.title=e.title,this.aboutUsText=e.about_us,this.generalInqueriesEmail=e.inquiry_email;const r=async()=>{const i=e.our_team.map(async(s,n)=>({id:n,name:s.value.name,imageSrc:await Rm(s.value.picture),role:s.value.role,...s.value.email?{email:s.value.email}:{},...s.value.phone?{tel:s.value.phone}:{}}));return Promise.all(i)};this.teamMembers=await r()}catch{Ct().addToast({type:"error",title:"Couldn't fetch contacts",message:"try again later."})}finally{this.loading=!1}}}}),o6=ai("eventsPageStore",{state:()=>({title:"",events:[],currentPage:1,totalPages:1,totalEvents:0,loading:!1,error:null,searchQuery:""}),actions:{async fetchTitle(){try{const t=await si.get("/cms/pages/",{params:{type:"home.CompetitionsPage",fields:"title"}});this.title=t.data.items[0].title}catch{Ct().addToast({type:"error",title:"Error has occured",message:"Could not fetch title of this page."}),this.error="Failed to fetch title."}},async fetchEvents(t=1,e=""){this.loading=!0;try{let r=function(s,n){const a=new Date,o=new Date(a.getFullYear(),a.getMonth(),a.getDate()),l=new Date(s),u=new Date(l.getFullYear(),l.getMonth(),l.getDate()),c=new Date(n),h=new Date(c.getFullYear(),c.getMonth(),c.getDate());return o<u?"upcoming":o>h?"past":"ongoing"};const i=await si.get("/cms/pages/",{params:{type:"home.CompetitionPost",fields:"id,title,edition,place,picture,competition"}});this.events=i.data.items.sort((s,n)=>new Date(n.competition.event_date_start).getTime()-new Date(s.competition.event_date_start).getTime()).map(s=>{var n;return{id:s.id,name:s.title,edition:s.edition,location:s.place,date:Cu(s.competition.event_date_start),pictureSrc:(n=s.picture)==null?void 0:n.meta.download_url,status:r(s.competition.event_date_start,s.competition.event_date_end)}}),this.searchQuery=e,this.error=null}catch{Ct().addToast({type:"error",title:"Error has occured",message:"Could not fetch compeitions"}),this.error="Failed to fetch events."}finally{this.loading=!1}}}}),sA={id:"hexagon-clip"},nA=["points"],aA={"clip-path":"url(#hexagon-clip)"},oA=["d"],lA=["d"],uA=["points"],is=200,p4=80,qc=5,cA=tt({__name:"Loader",setup(t){const e=is/2,r=is/2,i=Ye(0);function s(l,u,c,h,f){const y=Math.PI/180*c,w=Math.cos(y),_=Math.sin(y),C=w*(l-h)-_*(u-f)+h,E=_*(l-h)+w*(u-f)+f;return[C,E]}const n=qt(()=>{const l=[],u=i.value+21.51;for(let c=0;c<6;c++){const h=60*c-90,f=Math.PI/180*h,y=e+p4*Math.cos(f),w=r+p4*Math.sin(f),[_,C]=s(y,w,u,e,r);l.push(`${_},${C}`)}return l.join(" ")});Rr(()=>{const l=()=>{i.value=(i.value+.6)%360,requestAnimationFrame(l)};l()});const a=qt(()=>{const l=[],c=2*Math.PI/is;l.push(`M 0 ${r-qc}`);for(let h=0;h<=is;h+=2){const f=r+-16*Math.sin(c*h)-qc;l.push(`L ${h} ${f}`)}return l.push(`L ${is} ${is}`),l.push(`L 0 ${is}`),l.push("Z"),l.join(" ")}),o=qt(()=>{const l=[],c=2*Math.PI/is;l.push(`M 0 ${r+40*-.4*Math.sin(0)-qc}`);for(let h=0;h<=is;h+=2){const f=r+-16*Math.sin(c*h)-qc;l.push(`L ${h} ${f}`)}return l.join(" ")});return(l,u)=>(Y(),ae("svg",{width:is,height:is,viewBox:"0 0 200 200"},[p("defs",null,[p("clipPath",sA,[p("polygon",{points:n.value},null,8,nA)])]),p("g",aA,[p("path",{d:a.value,fill:"#FBC151"},null,8,oA)]),p("path",{d:o.value,stroke:"#242424","stroke-width":"10",fill:"none"},null,8,lA),p("polygon",{points:n.value,stroke:"#242424","stroke-width":"10",fill:"none"},null,8,uA)]))}}),Wa=(t,e)=>{const r=t.__vccOpts||t;for(const[i,s]of e)r[i]=s;return r},dA=Wa(cA,[["__scopeId","data-v-097d7782"]]),hA={class:"fixed top-0 left-0 w-full h-full bg-pearl-white z-[10000] flex flex-col justify-center items-center px-[2rem]"},fA={class:"text-screenBlack text-body font-body text-center"},pA=tt({__name:"LoadingScreen",setup(t){let e;xn(()=>{document.getElementsByTagName("body")[0].style.overflowY="hidden",e=setInterval(()=>{i.value=r[Math.floor(Math.random()*r.length)]},2e3)}),sa(()=>{document.getElementsByTagName("body")[0].style.overflowY="unset",clearInterval(e)});const r=["Hacking the Pentagon","Searching for the missing +C","Decrypting secret keys","Making series converge","Solving for x","Escaping singularities","Conducting Fourier analysis","Dividing and conquering","Synchronizing with sine waves"],i=Ye(r[Math.floor(Math.random()*r.length)]);return(s,n)=>(Y(),ae("div",hA,[ge(dA,{class:"scale-[0.8]"}),p("p",fA,we(i.value),1)]))}}),mA={key:0,class:"fixed bottom-0 left-0 right-0 p-[2rem] bg-pearl-white shadow-lg z-[10000] shadow"},gA={class:"max-w-5xl mx-auto flex flex-col md:flex-row items-center justify-between"},yA={class:"text-black mb-4 md:mb-0 md:mr-4 font-body text-body text-center md:text-left"},vA=tt({__name:"CookieBanner",setup(t){const e=Ye(!1);Rr(()=>{localStorage.getItem("cookieConsent")||(e.value=!0)});function r(){localStorage.setItem("cookieConsent","true"),e.value=!1}return(i,s)=>(Y(),kt(Bs,{"enter-active-class":"transition duration-500 transform","enter-from-class":"translate-y-full opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-500 transform","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-full opacity-0"},{default:Fe(()=>[e.value?(Y(),ae("div",mA,[p("div",gA,[p("div",yA,[s[1]||(s[1]=st(" We use cookies to enhance your experience. By continuing to visit this site, you agree to our use of cookies. For more details, see our ")),ge(N(Am),{to:"/terms_of_use",class:"text-primary-500 underline"},{default:Fe(()=>s[0]||(s[0]=[st(" Terms of Use ")])),_:1}),s[2]||(s[2]=st(" . "))]),p("button",{onClick:r,class:"bg-primary text-white px-6 py-2 rounded-xl lg:hover:bg-primary-400 transition-colors duration-100 font-body text-body"}," Accept ")])])):Ne("",!0)]),_:1}))}}),bA=tt({__name:"App",setup(t){const e=Ye(!0);xn(()=>{Promise.all([n6().fetchHomePageData(),mp().fetchNewsPage(),a6().fetchContactData(),o6().fetchTitle()]).finally(()=>{e.value=!1})});const r=x5(),{shouldMobileMenuBeVisible:i,isMobileMenuVisible:s}=Ii(r);function n(){i.value===s.value&&(r.shouldMobileMenuBeVisible=!i.value,i.value&&(document.getElementsByTagName("body")[0].style.overflowY="hidden"))}function a(){r.isMobileMenuVisible=i.value,!s.value&&(document.getElementsByTagName("body")[0].style.overflowY="unset")}return(o,l)=>{const u=Zi("router-view");return Y(),ae(ct,null,[ge(Bs,{"enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Fe(()=>[e.value?(Y(),kt(pA,{key:0,class:"transition-all"})):Ne("",!0)]),_:1}),ge(u),(Y(),kt(Lv,{to:"body"},[ge(Bs,{"enter-from-class":"opacity-0","enter-active-class":"transition-all duration-200","enter-to-class":"opacity-1","leave-from-class":"opacity-1","leave-active-class":"transition-all duration-200","leave-to-class":"opacity-0"},{default:Fe(()=>[N(s)||N(i)?(Y(),kt(xC,{key:0,"should-menu-be-visible":N(i),onEndAction:a,onCloseMenu:n,"is-menu-visible":N(s)},null,8,["should-menu-be-visible","is-menu-visible"])):Ne("",!0)]),_:1}),ge(vA)])),ge(AC)],64)}}}),_A=tt({__name:"MenuButton",props:{isMenuVisible:Boolean},emits:["toggleMenuVisibility"],setup(t,{emit:e}){const r=t,{isMenuVisible:i}=Qi(r),s=e,n=()=>{s("toggleMenuVisibility")};return(a,o)=>(Y(),ae("div",{class:"flex flex-col justify-between cursor-pointer",onClick:n},[p("div",{class:$t(["h-[15%] w-full bg-primary rounded-sm transition-all origin-left duration-1000",{"rotate-45 -translate-y-1/2 scale-x-[1.41] bg-bg":N(i)}])},null,2),p("div",{class:$t(["h-[15%] w-[80%] bg-primary rounded-sm transition-all",{"opacity-0":N(i)}])},null,2),p("div",{class:$t(["h-[15%] w-full bg-primary rounded-sm transition-all origin-left duration-1000",{"-rotate-45 translate-y-1/2 scale-x-[1.41] bg-bg":N(i)}])},null,2)]))}}),xA="/userData/";async function wA(){this.userDataRequest={status:"pending",code:null,error:null,errorMSG:null};try{const t=await qi.get(xA);this.userDataRequest.status="resolved",this.userDataRequest.code=t.status,this.userDataRequest.errorMSG=null;const e=t.data;this.isAuthenticated=!0,this.email=e.email,this.firstName=e.first_name,this.lastName=e.last_name,this.phoneNumber=e.phone_number,this.dateJoined=e.registration_date,this.institution=e.institution,this.isAdmin=e.role.Admin,this.role=e.role,this.programOfStudy=e.program_of_study,this.profilePicture=e.profile_picture,this.competitions=e.competitions.map(r=>({date:Cu(r.event_date_start),name:r.name,result:r.status,link:`/event/${r.page_id}`,id:r.id}))}catch(t){this.isAuthenticated=!1;const e=Ct();this.userDataRequest.status="rejected",this.userDataRequest.code=t.status,this.userDataRequest.errorMSG=t.message,t.status!==401&&e.addToast({type:"error",title:"error has occured",message:"could not fetch your profile data, try again later."})}}const TA="/login/";async function SA(t,e){this.signInRequest={status:"pending",code:null,error:null,errorMSG:null};try{const r=new FormData;r.set("email",t),r.set("password",e);const i=await si.post(TA,r);return Es.set("access",i.data.access),Es.set("refresh",i.data.refresh),this.signInRequest.status="resolved",this.signInRequest.code=i.status,Ct().addToast({type:"success",title:"Successfully logged in!",message:""}),i.data}catch(r){const i=Ct();throw r.response.data.detail==="No active account found with the given credentials"?i.addToast({type:"error",title:"Wrong e-mail or password",message:"try again"}):i.addToast({type:"error",title:"Could not sign in",message:"try again later."}),this.signInRequest.status="rejected",this.signInRequest.code=r.response?r.response.status:null,this.signInRequest.error=r,this.signInRequest.errorMSG=r.message,r}}const CA="/register/";async function EA(t,e,r,i,s){this.registerRequest={status:"pending",code:null,error:null,errorMSG:null};const n=new FormData;n.set("first_name",t),n.set("second_name",e),n.set("email",r),n.set("school",i),n.set("password",s);try{this.registerRequest.status="pending";const a=await si.post(CA,n,{headers:{"Content-Type":"multipart/form-data"}});this.registerRequest.status="resolved",this.registerRequest.code=a.status,this.registerRequest.error=null,this.registerRequest.errorMSG=null}catch(a){throw this.registerRequest.status="rejected",this.registerRequest.error=a,this.registerRequest.errorMSG=a.message,a}}async function AA(){Es.remove("access"),Es.set("refresh","null"),Ct().addToast({type:"info",title:"Successfully logged out",message:""})}const ri=ai("auth",{state:()=>({isAuthenticated:!1,firstName:null,lastName:null,email:null,dateJoined:null,institution:null,isAdmin:null,role:null,profilePicture:null,phoneNumber:null,programOfStudy:null,competitions:[],userDataRequest:{status:null,code:null,error:null,errorMSG:null},registerRequest:{status:null,code:null,error:null,errorMSG:null},signInRequest:{status:null,code:null,error:null,errorMSG:null},passwordResetRequest:{status:null,code:null,error:null,errorMSG:null}}),getters:{user:t=>({firstName:t.firstName,lastName:t.lastName,email:t.email,dateJoined:t.dateJoined,institution:t.institution,isAdmin:t.isAdmin,role:t.role,profilePicture:t.profilePicture,competitions:t.competitions,programOfStudy:t.programOfStudy}),wins:t=>({golds:t.competitions.reduce((e,r)=>r.result==="Won"?1:0,0),silvers:t.competitions.reduce((e,r)=>r.result==="2nd Place"?1:0,0),bronzes:t.competitions.reduce((e,r)=>r.result==="Semifinalist"?1:0,0)})},actions:{getProfileData:wA,requestLogin:SA,requestSignUp:EA,logout:AA,resetStore(){this.isAuthenticated=!1,this.firstName=null,this.lastName=null,this.email=null,this.dateJoined=null,this.institution=null,this.isAdmin=null,this.profilePicture=null,this.phoneNumber=null,this.programOfStudy=null,this.competitions=[]},async resetPassword(t,e){this.passwordResetRequest={status:"pending",code:null,error:null,errorMSG:null};try{const r=await si.post("/reset-password-confirm/",{token:e,new_password:t});Ct().addToast({type:"success",title:"Password successfuly reset",message:""}),this.passwordResetRequest={status:"resolved",code:r.status,error:null,errorMSG:null}}catch(r){throw Ct().addToast({type:"error",title:"could not reset password",message:"try again."}),this.passwordResetRequest={status:"resolved",code:r.status,error:r,errorMSG:r.message},r}}}}),kA={class:"fixed top-0 w-full lg:px-[2rem] xl:px-[10vw] font-body z-30 h-[6rem] lg:h-[10rem] text-secondary lg:py-4"},DA={class:"w-full h-full bg-screenBlack lg:bg-pearl-white lg:bg-opacity-90 lg:backdrop-blur-sm overflow-hidden lg:rounded-3xl shadow-md px-8 lg:px-6"},IA={class:"relative h-full flex justify-center items-center"},LA={class:"fixed left-[1rem] top-[0.5rem] h-[5rem] w-[5rem] lg:hidden flex z-[500] p-[1rem]"},PA={class:"absolute left-0 h-full hidden lg:flex"},MA={class:"hidden lg:flex justify-center items-center gap-[2rem] lg:text-body"},RA={class:"hidden lg:flex absolute right-0 items-center gap-[2rem] text-body"},OA={class:"flex lg:hidden absolute right-0 items-center gap-[2rem] text-body"},NA={class:"hidden lg:flex absolute right-0 items-center gap-[2rem] text-body"},BA={class:"flex lg:hidden absolute right-0 items-center gap-[2rem] text-body"},FA={key:0,width:"45",height:"43",viewBox:"0 0 45 43",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},UA={key:1,class:"relative w-full h-full flex justify-center items-center"},$A={class:"relative z-[2] w-[90%] aspect-square overflow-hidden [clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)] [-webkit-clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)]"},zA=["src"],qA=tt({__name:"Header",props:{isMenuVisible:Boolean},emits:["switchMenuVisibility"],setup(t,{emit:e}){const r=t,{isMenuVisible:i}=Qi(r),s=e,n=ri(),{logout:a,getProfileData:o}=n,{isAuthenticated:l,profilePicture:u}=Ii(n),c=Uu(),h=async()=>{await a(),await o(),c.push("/")};return(f,y)=>{const w=Zi("RouterLink");return Y(),ae("div",kA,[p("div",DA,[p("div",IA,[(Y(),kt(Lv,{to:"body"},[p("div",LA,[ge(_A,{"is-menu-visible":N(i),onToggleMenuVisibility:y[0]||(y[0]=_=>s("switchMenuVisibility")),class:"h-[3rem] w-[3rem]"},null,8,["is-menu-visible"])])])),p("div",PA,[ge(w,{to:"/",class:"relative flex justify-center items-center h-full"},{default:Fe(()=>y[2]||(y[2]=[p("div",{class:"p-3"},[p("svg",{width:"69",height:"68",viewBox:"0 0 69 68",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full aspect-square"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M59.4828 33.7849L51.3108 54.5169L25.3814 58.3861L9.06592 37.8652L13.2027 27.3704C14.3404 27.2488 15.5733 27.1797 16.906 27.1797C22.0917 27.1797 26.0562 28.9823 30.2511 30.8896C34.9633 33.0321 39.9662 35.3068 47.3172 35.3068C52.2665 35.3068 56.3178 34.6415 59.4828 33.7849Z",fill:"#FBC151"}),p("path",{d:"M19.7919 14.8718L43.9564 11.266L59.1614 30.3902L50.2019 53.1202L26.0374 56.726L10.8324 37.6018L19.7919 14.8718Z",stroke:"#001D37","stroke-width":"3.09071"}),p("path",{d:"M1.70068 31.8987C1.70068 31.8987 5.89532 27.1797 16.9062 27.1797C27.9172 27.1797 33.4226 35.3068 47.3174 35.3068C61.2121 35.3068 68.0284 30.0635 68.0284 30.0635",stroke:"#001D37","stroke-width":"3.09071"})])],-1)])),_:1})]),p("div",MA,[ge(w,{to:"/events",class:"hover:bg-screenBlack-400 hover:bg-opacity-15 transition-all duration-100 px-[1.5rem] py-[0.8rem] rounded-2xl cursor-pointer"},{default:Fe(()=>y[3]||(y[3]=[st("events")])),_:1}),ge(w,{to:"/news",class:"hover:bg-screenBlack-400 hover:bg-opacity-15 transition-all duration-100 px-[1.5rem] py-[0.8rem] rounded-2xl"},{default:Fe(()=>y[4]||(y[4]=[st("news")])),_:1}),ge(w,{to:"/contact",class:"hover:bg-screenBlack-400 hover:bg-opacity-15 transition-all duration-100 px-[1.5rem] py-[0.8rem] rounded-2xl"},{default:Fe(()=>y[5]||(y[5]=[st("contact")])),_:1})]),N(l)?Ne("",!0):(Y(),ae(ct,{key:0},[p("div",RA,[ge(w,{to:"/sign_in",class:"px-[2.4rem] py-[1rem] rounded-2xl text-pearl-white bg-primary font-semibold"},{default:Fe(()=>y[6]||(y[6]=[st(" Sign in ")])),_:1}),ge(w,{to:"/sign_up",class:"px-[2.4rem] py-[1rem] h-max w-max hover:bg-screenBlack-400 hover:bg-opacity-15 rounded-2xl signUpBtn"},{default:Fe(()=>y[7]||(y[7]=[p("p",{class:"relative"},"Sign up",-1)])),_:1})]),p("div",OA,[ge(w,{to:"/sign_in",class:"relative h-[4rem] aspect-square"},{default:Fe(()=>y[8]||(y[8]=[p("svg",{width:"45",height:"43",viewBox:"0 0 45 43",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40254 24.0217L10.2674 5.35599L30.3648 2.83425L42.5974 18.9783L37.1086 32.005V31.958C37.1086 31.2435 36.7274 30.5833 36.1086 30.226L24.2332 23.3698C23.6144 23.0125 22.852 23.0125 22.2332 23.3698L10.3579 30.226C9.73907 30.5833 9.35787 31.2435 9.35787 31.958V33.201L2.40254 24.0217ZM9.75597 36.9234L0.539109 24.7595C0.323346 24.4747 0.275887 24.0965 0.414609 23.7673L8.69674 4.11108C8.83547 3.78185 9.1393 3.55163 9.49378 3.50715L30.6576 0.851605C31.0121 0.807124 31.3634 0.955141 31.5791 1.23989L44.4608 18.2405C44.6766 18.5253 44.724 18.9035 44.5853 19.2327L36.9516 37.3498L36.5273 38.3569L36.3032 38.8889C36.1645 39.2181 35.8606 39.4484 35.5061 39.4928L34.9398 39.5639C34.9376 39.5642 34.9354 39.5645 34.9332 39.5647L14.9151 42.0765C14.9127 42.0768 14.9102 42.0771 14.9077 42.0775L14.3423 42.1484C13.9878 42.1929 13.6366 42.0449 13.4208 41.7601L13.0799 41.3102C13.0773 41.3068 13.0747 41.3034 13.0721 41.2999L9.76379 36.9338C9.76117 36.9304 9.75856 36.9269 9.75597 36.9234ZM22.2333 9.90211C22.8521 9.54484 23.6145 9.54484 24.2333 9.90211L28.065 12.1143C28.6838 12.4716 29.065 13.1318 29.065 13.8464V18.2708C29.065 18.9853 28.6838 19.6456 28.065 20.0028L24.2333 22.2151C23.6145 22.5723 22.8521 22.5723 22.2333 22.2151L18.4016 20.0028C17.7828 19.6456 17.4016 18.9853 17.4016 18.2708V13.8464C17.4016 13.1318 17.7828 12.4716 18.4016 12.1143L22.2333 9.90211Z",fill:"#FBC151"})],-1)])),_:1})])],64)),N(l)?(Y(),ae(ct,{key:1},[p("div",NA,[ge(w,{to:"/myprofile",class:"px-[2.4rem] py-[1rem] h-max w-max hover:bg-screenBlack-400 hover:bg-opacity-15 rounded-2xl signUpBtn"},{default:Fe(()=>y[9]||(y[9]=[p("p",{class:"relative"},"profile",-1)])),_:1}),p("button",{onClick:y[1]||(y[1]=(..._)=>h&&h(..._)),class:"px-[2.4rem] py-[1rem] h-max w-max hover:bg-screenBlack-400 hover:bg-opacity-15 rounded-2xl signUpBtn"},y[10]||(y[10]=[p("p",{class:"relative"},"log out",-1)]))]),p("div",BA,[ge(w,{to:"/myprofile",class:"relative h-[4rem] aspect-square"},{default:Fe(()=>[N(u)?Ne("",!0):(Y(),ae("svg",FA,y[11]||(y[11]=[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40254 24.0217L10.2674 5.35599L30.3648 2.83425L42.5974 18.9783L37.1086 32.005V31.958C37.1086 31.2435 36.7274 30.5833 36.1086 30.226L24.2332 23.3698C23.6144 23.0125 22.852 23.0125 22.2332 23.3698L10.3579 30.226C9.73907 30.5833 9.35787 31.2435 9.35787 31.958V33.201L2.40254 24.0217ZM9.75597 36.9234L0.539109 24.7595C0.323346 24.4747 0.275887 24.0965 0.414609 23.7673L8.69674 4.11108C8.83547 3.78185 9.1393 3.55163 9.49378 3.50715L30.6576 0.851605C31.0121 0.807124 31.3634 0.955141 31.5791 1.23989L44.4608 18.2405C44.6766 18.5253 44.724 18.9035 44.5853 19.2327L36.9516 37.3498L36.5273 38.3569L36.3032 38.8889C36.1645 39.2181 35.8606 39.4484 35.5061 39.4928L34.9398 39.5639C34.9376 39.5642 34.9354 39.5645 34.9332 39.5647L14.9151 42.0765C14.9127 42.0768 14.9102 42.0771 14.9077 42.0775L14.3423 42.1484C13.9878 42.1929 13.6366 42.0449 13.4208 41.7601L13.0799 41.3102C13.0773 41.3068 13.0747 41.3034 13.0721 41.2999L9.76379 36.9338C9.76117 36.9304 9.75856 36.9269 9.75597 36.9234ZM22.2333 9.90211C22.8521 9.54484 23.6145 9.54484 24.2333 9.90211L28.065 12.1143C28.6838 12.4716 29.065 13.1318 29.065 13.8464V18.2708C29.065 18.9853 28.6838 19.6456 28.065 20.0028L24.2333 22.2151C23.6145 22.5723 22.8521 22.5723 22.2333 22.2151L18.4016 20.0028C17.7828 19.6456 17.4016 18.9853 17.4016 18.2708V13.8464C17.4016 13.1318 17.7828 12.4716 18.4016 12.1143L22.2333 9.90211Z",fill:"#FBC151"},null,-1)]))),N(u)?(Y(),ae("div",UA,[p("div",$A,[p("img",{src:N(u),alt:"profile picture",class:"w-full h-full object-cover"},null,8,zA)]),y[12]||(y[12]=p("div",{class:"w-full h-full top-0 left-0 bg-primary absolute z-[1] [clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)] [-webkit-clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)]"},null,-1))])):Ne("",!0)]),_:1}),p("button",{onClick:h,class:"relative h-[4rem] aspect-square"},y[13]||(y[13]=[p("svg",{width:"42",height:"43",viewBox:"0 0 42 43",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.33362 12.8257L24.7014 1.95364L23.8585 0.21936L1.49067 11.0914C0.500216 11.5728 -0.0546888 12.6492 0.127692 13.7352L4.12639 37.5467C4.30877 38.6327 5.18484 39.4688 6.27821 39.6003L30.9704 42.5694L31.2006 40.6549L6.50842 37.6858C6.26433 37.6564 6.06876 37.4698 6.02804 37.2273L2.02935 13.4159C1.98863 13.1734 2.11251 12.9331 2.33362 12.8257ZM27.2481 13.8903L36.8813 21.7174H11.7123V23.6457H36.8813L27.2481 31.4727L28.464 32.9693L40.2049 23.4298L41.1259 22.6815L40.2049 21.9332L28.464 12.3938L27.2481 13.8903Z",fill:"#FBC151"})],-1)]))])],64)):Ne("",!0)])])])}}}),jA=Wa(qA,[["__scopeId","data-v-d1199242"]]),HA={class:"w-full bg-screenBlack px-[2rem] lg:px-[12rem] xl:px-[10vw]"},VA={class:"w-full flex flex-col gap-[8rem] lg:gap-0 lg:grid lg:grid-cols-[2fr_3fr] py-[4rem]"},GA={class:"flex justify-center lg:justify-start items-center"},WA={class:"flex flex-col gap-[2rem] text-center lg:text-left font-body text-pearl-white text-body lg:text-body"},XA={class:"w-full flex flex-col gap-[4rem] lg:gap-0 lg:flex-row flex-wrap justify-center lg:justify-between text-pearl-white text-body lg:text-body py-[5rem]"},KA={class:"flex justify-between lg:justify-end gap-[4rem]"},YA=tt({__name:"Footer",setup(t){const{isAuthenticated:e}=ri();return(r,i)=>{const s=Zi("RouterLink");return Y(),ae("div",HA,[i[11]||(i[11]=p("div",{class:"w-full py-[5rem]"},[p("div",{class:"w-full h-[3px] bg-pearl-white"})],-1)),p("div",VA,[p("div",GA,[p("ul",WA,[p("li",null,[ge(s,{to:"/",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:Fe(()=>i[0]||(i[0]=[st(" Home ")])),_:1})]),p("li",null,[ge(s,{to:"/events",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:Fe(()=>i[1]||(i[1]=[st(" Events ")])),_:1})]),p("li",null,[ge(s,{to:"/news",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:Fe(()=>i[2]||(i[2]=[st(" News ")])),_:1})]),p("li",null,[ge(s,{to:"/contact",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:Fe(()=>i[3]||(i[3]=[st(" Contact ")])),_:1})]),N(e)?Ne("",!0):(Y(),ae(ct,{key:0},[p("li",null,[ge(s,{to:"/sign_in",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:Fe(()=>i[4]||(i[4]=[st(" Sign in ")])),_:1})]),p("li",null,[ge(s,{to:"/sign_up",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:bottom-0 after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:Fe(()=>i[5]||(i[5]=[st(" Sign up ")])),_:1})])],64))])]),i[6]||(i[6]=qa('<div class="w-full flex items-center justify-center lg:justify-end"><div class="flex flex-col items-end text-pearl-white"><p class="font-heading text-subtitle lg:text-title"> Integration Bee </p><p class="font-heading text-primary text-body lg:text-subtitle"> Austria </p><p class="font-body text-body lg:text-subtitle text-right"> come integrate <br> and bee integrated </p></div></div>',1))]),p("div",XA,[i[9]||(i[9]=p("div",{class:"hidden lg:flex"},[p("p",null," 2024 JugendWAVE All Rights Reserved.")],-1)),p("div",KA,[ge(s,{to:"/imprint",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:-bottom-[2px] after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:Fe(()=>i[7]||(i[7]=[st(" impressum ")])),_:1}),ge(s,{to:"/terms_of_use",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:-bottom-[2px] after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"},{default:Fe(()=>i[8]||(i[8]=[st(" terms of use ")])),_:1})]),i[10]||(i[10]=p("div",{class:"lg:hidden flex"},[p("p",{class:"text-center"}," 2024 JugendWAVE All Rights Reserved.")],-1))]),i[12]||(i[12]=p("div",{class:"w-full flex justify-center items-center text-pearl-white-50 text-body text-center lg:text-body font-body py-[4rem]"},[p("p",null,[st(" this page was created by "),p("a",{href:"https://www.formamind.com",target:"_blank",class:"relative after:bg-pearl-white after:absolute after:w-full after:h-[3px] after:-bottom-[2px] after:left-0 after:scale-x-[0] after:transition-all after:duration-100 after:origin-left after:will-change-transform hover:after:scale-x-[1]"}," Formamind ")])],-1))])}}}),gs=tt({__name:"Default",setup(t){const e=x5(),{shouldMobileMenuBeVisible:r,isMobileMenuVisible:i}=Ii(e);function s(){r.value===i.value&&(e.shouldMobileMenuBeVisible=!r.value,r.value&&(document.getElementsByTagName("body")[0].style.overflowY="hidden"))}return(n,a)=>(Y(),ae("div",null,[ge(jA,{"is-menu-visible":N(r),onSwitchMenuVisibility:s},null,8,["is-menu-visible"]),vm(n.$slots,"default"),ge(YA)]))}});var hn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Om(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),r}var Gl;typeof window<"u"?Gl=window:typeof hn<"u"?Gl=hn:typeof self<"u"?Gl=self:Gl={};var Od=Gl;const $=Xa(Od),QA={},ZA=Object.freeze(Object.defineProperty({__proto__:null,default:QA},Symbol.toStringTag,{value:"Module"})),JA=Om(ZA);var m4=typeof hn<"u"?hn:typeof window<"u"?window:{},ek=JA,Wl;typeof document<"u"?Wl=document:(Wl=m4["__GLOBAL_DOCUMENT_CACHE@4"],Wl||(Wl=m4["__GLOBAL_DOCUMENT_CACHE@4"]=ek));var l6=Wl;const Se=Xa(l6);var Nm={exports:{}};function ir(){return ir=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ir.apply(null,arguments)}const tk=Object.freeze(Object.defineProperty({__proto__:null,get default(){return ir}},Symbol.toStringTag,{value:"Module"})),rk=Om(tk);var ik=nk,sk=Object.prototype.toString;function nk(t){if(!t)return!1;var e=sk.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function ak(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=ok(t))||e){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ok(t,e){if(t){if(typeof t=="string")return g4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g4(t,e)}}function g4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var lk=function(){function t(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},e.addInterceptor=function(i,s){this.typeToInterceptorsMap_.has(i)||this.typeToInterceptorsMap_.set(i,new Set);var n=this.typeToInterceptorsMap_.get(i);return n.has(s)?!1:(n.add(s),!0)},e.removeInterceptor=function(i,s){var n=this.typeToInterceptorsMap_.get(i);return n&&n.has(s)?(n.delete(s),!0):!1},e.clearInterceptorsByType=function(i){var s=this.typeToInterceptorsMap_.get(i);return s?(this.typeToInterceptorsMap_.delete(i),this.typeToInterceptorsMap_.set(i,new Set),!0):!1},e.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},e.getForType=function(i){return this.typeToInterceptorsMap_.get(i)||new Set},e.execute=function(i,s){for(var n=this.getForType(i),a=ak(n),o;!(o=a()).done;){var l=o.value;try{s=l(s)}catch{}}return s},t}(),uk=lk,ck=function(){function t(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},e.getMaxAttempts=function(){return this.maxAttempts_},e.setMaxAttempts=function(i){this.maxAttempts_=i},e.getDelayFactor=function(){return this.delayFactor_},e.setDelayFactor=function(i){this.delayFactor_=i},e.getFuzzFactor=function(){return this.fuzzFactor_},e.setFuzzFactor=function(i){this.fuzzFactor_=i},e.getInitialDelay=function(){return this.initialDelay_},e.setInitialDelay=function(i){this.initialDelay_=i},e.createRetry=function(i){var s=i===void 0?{}:i,n=s.maxAttempts,a=s.delayFactor,o=s.fuzzFactor,l=s.initialDelay;return new dk({maxAttempts:n||this.maxAttempts_,delayFactor:a||this.delayFactor_,fuzzFactor:o||this.fuzzFactor_,initialDelay:l||this.initialDelay_})},t}(),dk=function(){function t(r){this.maxAttempts_=r.maxAttempts,this.delayFactor_=r.delayFactor,this.fuzzFactor_=r.fuzzFactor,this.currentDelay_=r.initialDelay,this.currentAttempt_=1}var e=t.prototype;return e.moveToNextAttempt=function(){this.currentAttempt_++;var i=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+i},e.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},e.getCurrentDelay=function(){return this.currentDelay_},e.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},e.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},e.getCurrentFuzzedDelay=function(){var i=this.getCurrentMinPossibleDelay(),s=this.getCurrentMaxPossibleDelay();return i+Math.random()*(s-i)},t}(),hk=ck,fk=Od,pk=function(e,r){return r===void 0&&(r=!1),function(i,s,n){if(i){e(i);return}if(s.statusCode>=400&&s.statusCode<=599){var a=n;if(r)if(fk.TextDecoder){var o=mk(s.headers&&s.headers["content-type"]);try{a=new TextDecoder(o).decode(n)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(n));e({cause:a});return}e(null,n)}};function mk(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,r){var i=r.split("="),s=i[0],n=i[1];return s.trim()==="charset"?n.trim():e},"utf-8")}var gk=pk,u6=Od,yk=rk,vk=ik,c6=uk,bk=hk;or.httpHandler=gk;or.requestInterceptorsStorage=new c6;or.responseInterceptorsStorage=new c6;or.retryManager=new bk;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var _k=function(e){var r={};return e&&e.trim().split(`
`).forEach(function(i){var s=i.indexOf(":"),n=i.slice(0,s).trim().toLowerCase(),a=i.slice(s+1).trim();typeof r[n]>"u"?r[n]=a:Array.isArray(r[n])?r[n].push(a):r[n]=[r[n],a]}),r};Nm.exports=or;Nm.exports.default=or;or.XMLHttpRequest=u6.XMLHttpRequest||Sk;or.XDomainRequest="withCredentials"in new or.XMLHttpRequest?or.XMLHttpRequest:u6.XDomainRequest;xk(["get","put","post","patch","head","delete"],function(t){or[t==="delete"?"del":t]=function(e,r,i){return r=d6(e,r,i),r.method=t.toUpperCase(),Bm(r)}});function xk(t,e){for(var r=0;r<t.length;r++)e(t[r])}function wk(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function d6(t,e,r){var i=t;return vk(e)?(r=e,typeof t=="string"&&(i={uri:t})):i=yk({},e,{uri:t}),i.callback=r,i}function or(t,e,r){return e=d6(t,e,r),Bm(e)}function Bm(t){if(typeof t.callback>"u")throw new Error("callback argument missing");if(t.requestType&&or.requestInterceptorsStorage.getIsEnabled()){var e={uri:t.uri||t.url,headers:t.headers||{},body:t.body,metadata:t.metadata||{},retry:t.retry,timeout:t.timeout},r=or.requestInterceptorsStorage.execute(t.requestType,e);t.uri=r.uri,t.headers=r.headers,t.body=r.body,t.metadata=r.metadata,t.retry=r.retry,t.timeout=r.timeout}var i=!1,s=function(L,U,J){i||(i=!0,t.callback(L,U,J))};function n(){u.readyState===4&&!or.responseInterceptorsStorage.getIsEnabled()&&setTimeout(l,0)}function a(){var P=void 0;if(u.response?P=u.response:P=u.responseText||Tk(u),E)try{P=JSON.parse(P)}catch{}return P}function o(P){if(clearTimeout(k),clearTimeout(t.retryTimeout),P instanceof Error||(P=new Error(""+(P||"Unknown XMLHttpRequest Error"))),P.statusCode=0,!h&&or.retryManager.getIsEnabled()&&t.retry&&t.retry.shouldRetry()){t.retryTimeout=setTimeout(function(){t.retry.moveToNextAttempt(),t.xhr=u,Bm(t)},t.retry.getCurrentFuzzedDelay());return}if(t.requestType&&or.responseInterceptorsStorage.getIsEnabled()){var L={headers:D.headers||{},body:D.body,responseUrl:u.responseURL,responseType:u.responseType},U=or.responseInterceptorsStorage.execute(t.requestType,L);D.body=U.body,D.headers=U.headers}return s(P,D)}function l(){if(!h){var P;clearTimeout(k),clearTimeout(t.retryTimeout),t.useXDR&&u.status===void 0?P=200:P=u.status===1223?204:u.status;var L=D,U=null;if(P!==0?(L={body:a(),statusCode:P,method:y,headers:{},url:f,rawRequest:u},u.getAllResponseHeaders&&(L.headers=_k(u.getAllResponseHeaders()))):U=new Error("Internal XMLHttpRequest Error"),t.requestType&&or.responseInterceptorsStorage.getIsEnabled()){var J={headers:L.headers||{},body:L.body,responseUrl:u.responseURL,responseType:u.responseType},X=or.responseInterceptorsStorage.execute(t.requestType,J);L.body=X.body,L.headers=X.headers}return s(U,L,L.body)}}var u=t.xhr||null;u||(t.cors||t.useXDR?u=new or.XDomainRequest:u=new or.XMLHttpRequest);var c,h,f=u.url=t.uri||t.url,y=u.method=t.method||"GET",w=t.body||t.data,_=u.headers=t.headers||{},C=!!t.sync,E=!1,k,D={body:void 0,headers:{},statusCode:0,method:y,url:f,rawRequest:u};if("json"in t&&t.json!==!1&&(E=!0,_.accept||_.Accept||(_.Accept="application/json"),y!=="GET"&&y!=="HEAD"&&(_["content-type"]||_["Content-Type"]||(_["Content-Type"]="application/json"),w=JSON.stringify(t.json===!0?w:t.json))),u.onreadystatechange=n,u.onload=l,u.onerror=o,u.onprogress=function(){},u.onabort=function(){h=!0,clearTimeout(t.retryTimeout)},u.ontimeout=o,u.open(y,f,!C,t.username,t.password),C||(u.withCredentials=!!t.withCredentials),!C&&t.timeout>0&&(k=setTimeout(function(){if(!h){h=!0,u.abort("timeout");var P=new Error("XMLHttpRequest timeout");P.code="ETIMEDOUT",o(P)}},t.timeout)),u.setRequestHeader)for(c in _)_.hasOwnProperty(c)&&u.setRequestHeader(c,_[c]);else if(t.headers&&!wk(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(u.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(u),u.send(w||null),u}function Tk(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function Sk(){}var Ck=Nm.exports;const h6=Xa(Ck);var f6={exports:{}},y4=l6,Fm=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Ei(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Ei.prototype=Fm(Error.prototype);Ei.prototype.constructor=Ei;Ei.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Um(t){function e(i,s,n,a){return(i|0)*3600+(s|0)*60+(n|0)+(a|0)/1e3}var r=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function ou(){this.values=Fm(null)}ou.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var i=0;i<r.length;++i)if(e===r[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function Xl(t,e,r,i){var s=i?t.split(i):[t];for(var n in s)if(typeof s[n]=="string"){var a=s[n].split(r);if(a.length===2){var o=a[0].trim(),l=a[1].trim();e(o,l)}}}function Ek(t,e,r){var i=t;function s(){var o=Um(t);if(o===null)throw new Ei(Ei.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function n(o,l){var u=new ou;Xl(o,function(c,h){switch(c){case"region":for(var f=r.length-1;f>=0;f--)if(r[f].id===h){u.set(c,r[f].region);break}break;case"vertical":u.alt(c,h,["rl","lr"]);break;case"line":var y=h.split(","),w=y[0];u.integer(c,w),u.percent(c,w)&&u.set("snapToLines",!1),u.alt(c,w,["auto"]),y.length===2&&u.alt("lineAlign",y[1],["start","center","end"]);break;case"position":y=h.split(","),u.percent(c,y[0]),y.length===2&&u.alt("positionAlign",y[1],["start","center","end"]);break;case"size":u.percent(c,h);break;case"align":u.alt(c,h,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=s(),a(),t.substr(0,3)!=="-->")throw new Ei(Ei.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);t=t.substr(3),a(),e.endTime=s(),a(),n(t,e)}var ef=y4.createElement&&y4.createElement("textarea"),Ak={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},v4={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},kk={v:"title",lang:"lang"},b4={rt:"ruby"};function p6(t,e){function r(){if(!e)return null;function w(C){return e=e.substr(C.length),C}var _=e.match(/^([^<]*)(<[^>]*>?)?/);return w(_[1]?_[1]:_[2])}function i(w){return ef.innerHTML=w,w=ef.textContent,ef.textContent="",w}function s(w,_){return!b4[_.localName]||b4[_.localName]===w.localName}function n(w,_){var C=Ak[w];if(!C)return null;var E=t.document.createElement(C),k=kk[w];return k&&_&&(E[k]=_.trim()),E}for(var a=t.document.createElement("div"),o=a,l,u=[];(l=r())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),o=o.parentNode);continue}var c=Um(l.substr(1,l.length-2)),h;if(c){h=t.document.createProcessingInstruction("timestamp",c),o.appendChild(h);continue}var f=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f||(h=n(f[1],f[3]),!h)||!s(o,h))continue;if(f[2]){var y=f[2].split(".");y.forEach(function(w){var _=/^bg_/.test(w),C=_?w.slice(3):w;if(v4.hasOwnProperty(C)){var E=_?"background-color":"color",k=v4[C];h.style[E]=k}}),h.className=y.join(" ")}u.push(f[1]),o.appendChild(h),o=h;continue}o.appendChild(t.document.createTextNode(i(l)))}return a}var _4=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Dk(t){for(var e=0;e<_4.length;e++){var r=_4[e];if(t>=r[0]&&t<=r[1])return!0}return!1}function Ik(t){var e=[],r="",i;if(!t||!t.childNodes)return"ltr";function s(o,l){for(var u=l.childNodes.length-1;u>=0;u--)o.push(l.childNodes[u])}function n(o){if(!o||!o.length)return null;var l=o.pop(),u=l.textContent||l.innerText;if(u){var c=u.match(/^.*(\n|\r)/);return c?(o.length=0,c[0]):u}if(l.tagName==="ruby")return n(o);if(l.childNodes)return s(o,l),n(o)}for(s(e,t);r=n(e);)for(var a=0;a<r.length;a++)if(i=r.charCodeAt(a),Dk(i))return"rtl";return"ltr"}function Lk(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,r=e.textTrackList,i=0,s=0;s<r.length&&r[s]!==e;s++)r[s].mode==="showing"&&i++;return++i*-1}function Nd(){}Nd.prototype.applyStyles=function(t,e){e=e||this.div;for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r])};Nd.prototype.formatStyle=function(t,e){return t===0?0:t+e};function R0(t,e,r){Nd.call(this),this.cue=e,this.cueDiv=p6(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:Ik(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var s=0;switch(e.positionAlign){case"start":case"line-left":s=e.position;break;case"center":s=e.position-e.size/2;break;case"end":case"line-right":s=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(n){this.applyStyles({top:this.formatStyle(n.top,"px"),bottom:this.formatStyle(n.bottom,"px"),left:this.formatStyle(n.left,"px"),right:this.formatStyle(n.right,"px"),height:this.formatStyle(n.height,"px"),width:this.formatStyle(n.width,"px")})}}R0.prototype=Fm(Nd.prototype);R0.prototype.constructor=R0;function Jr(t){var e,r,i,s;if(t.div){r=t.div.offsetHeight,i=t.div.offsetWidth,s=t.div.offsetTop;var n=(n=t.div.childNodes)&&(n=n[0])&&n.getClientRects&&n.getClientRects();t=t.div.getBoundingClientRect(),e=n?Math.max(n[0]&&n[0].height||0,t.height/n.length):0}this.left=t.left,this.right=t.right,this.top=t.top||s,this.height=t.height||r,this.bottom=t.bottom||s+(t.height||r),this.width=t.width||i,this.lineHeight=e!==void 0?e:t.lineHeight}Jr.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Jr.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};Jr.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};Jr.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};Jr.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};Jr.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),r=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),i=e*r;return i/(this.height*this.width)};Jr.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};Jr.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,r=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var s={left:t.left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||r};return s};function Pk(t,e,r,i){function s(C,E){for(var k,D=new Jr(C),P=1,L=0;L<E.length;L++){for(;C.overlapsOppositeAxis(r,E[L])||C.within(r)&&C.overlapsAny(i);)C.move(E[L]);if(C.within(r))return C;var U=C.intersectPercentage(r);P>U&&(k=new Jr(C),P=U),C=new Jr(D)}return k||D}var n=new Jr(e),a=e.cue,o=Lk(a),l=[];if(a.snapToLines){var u;switch(a.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=n.lineHeight,h=c*Math.round(o),f=r[u]+c,y=l[0];Math.abs(h)>f&&(h=h<0?-1:1,h*=Math.ceil(f/c)*c),o<0&&(h+=a.vertical===""?r.height:r.width,l=l.reverse()),n.move(y,h)}else{var w=n.lineHeight/r.height*100;switch(a.lineAlign){case"center":o-=w/2;break;case"end":o-=w;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],n=new Jr(e)}var _=s(n,l);e.move(_.toCSSCompatValues(r))}function rl(){}rl.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};rl.convertCueToDOMTree=function(t,e){return!t||!e?null:p6(t,e)};var Mk=.05,Rk="sans-serif",Ok="1.5%";rl.processCues=function(t,e,r){if(!t||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var i=t.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=Ok,r.appendChild(i);function s(c){for(var h=0;h<c.length;h++)if(c[h].hasBeenReset||!c[h].displayState)return!0;return!1}if(!s(e)){for(var n=0;n<e.length;n++)i.appendChild(e[n].displayState);return}var a=[],o=Jr.getSimpleBoxPosition(i),l=Math.round(o.height*Mk*100)/100,u={font:l+"px "+Rk};(function(){for(var c,h,f=0;f<e.length;f++)h=e[f],c=new R0(t,h,u),i.appendChild(c.div),Pk(t,c,o,a),h.displayState=c.div,a.push(Jr.getSimpleBoxPosition(c))})()};rl.Parser=function(t,e,r){r||(r=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]};rl.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Ei)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function r(){for(var c=e.buffer,h=0;h<c.length&&c[h]!=="\r"&&c[h]!==`
`;)++h;var f=c.substr(0,h);return c[h]==="\r"&&++h,c[h]===`
`&&++h,e.buffer=c.substr(h),f}function i(c){var h=new ou;if(Xl(c,function(y,w){switch(y){case"id":h.set(y,w);break;case"width":h.percent(y,w);break;case"lines":h.integer(y,w);break;case"regionanchor":case"viewportanchor":var _=w.split(",");if(_.length!==2)break;var C=new ou;if(C.percent("x",_[0]),C.percent("y",_[1]),!C.has("x")||!C.has("y"))break;h.set(y+"X",C.get("x")),h.set(y+"Y",C.get("y"));break;case"scroll":h.alt(y,w,["up"]);break}},/=/,/\s/),h.has("id")){var f=new(e.vttjs.VTTRegion||e.window.VTTRegion);f.width=h.get("width",100),f.lines=h.get("lines",3),f.regionAnchorX=h.get("regionanchorX",0),f.regionAnchorY=h.get("regionanchorY",100),f.viewportAnchorX=h.get("viewportanchorX",0),f.viewportAnchorY=h.get("viewportanchorY",100),f.scroll=h.get("scroll",""),e.onregion&&e.onregion(f),e.regionList.push({id:h.get("id"),region:f})}}function s(c){var h=new ou;Xl(c,function(f,y){switch(f){case"MPEGT":h.integer(f+"S",y);break;case"LOCA":h.set(f+"L",Um(y));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:h.get("MPEGTS"),LOCAL:h.get("LOCAL")})}function n(c){c.match(/X-TIMESTAMP-MAP/)?Xl(c,function(h,f){switch(h){case"X-TIMESTAMP-MAP":s(f);break}},/=/):Xl(c,function(h,f){switch(h){case"Region":i(f);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=r();var o=a.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Ei(Ei.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:a=r(),e.state){case"HEADER":/:/.test(a)?n(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{Ek(a,e.cue,e.regionList)}catch(c){e.reportOrThrowError(c),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=a.indexOf("-->")!==-1;if(!a||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(c){e.reportOrThrowError(c),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Ei(Ei.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var Nk=rl,Bk="auto",Fk={"":1,lr:1,rl:1},Uk={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function $k(t){if(typeof t!="string")return!1;var e=Fk[t.toLowerCase()];return e?t.toLowerCase():!1}function tf(t){if(typeof t!="string")return!1;var e=Uk[t.toLowerCase()];return e?t.toLowerCase():!1}function m6(t,e,r){this.hasBeenReset=!1;var i="",s=!1,n=t,a=e,o=r,l=null,u="",c=!0,h="auto",f="start",y="auto",w="auto",_=100,C="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(E){i=""+E}},pauseOnExit:{enumerable:!0,get:function(){return s},set:function(E){s=!!E}},startTime:{enumerable:!0,get:function(){return n},set:function(E){if(typeof E!="number")throw new TypeError("Start time must be set to a number.");n=E,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(E){if(typeof E!="number")throw new TypeError("End time must be set to a number.");a=E,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(E){o=""+E,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(E){l=E,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(E){var k=$k(E);if(k===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=k,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(E){c=!!E,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(E){if(typeof E!="number"&&E!==Bk)throw new SyntaxError("Line: an invalid number or illegal string was specified.");h=E,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(E){var k=tf(E);k?(f=k,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return y},set:function(E){if(E<0||E>100)throw new Error("Position must be between 0 and 100.");y=E,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return w},set:function(E){var k=tf(E);k?(w=k,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return _},set:function(E){if(E<0||E>100)throw new Error("Size must be between 0 and 100.");_=E,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return C},set:function(E){var k=tf(E);if(!k)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");C=k,this.hasBeenReset=!0}}}),this.displayState=void 0}m6.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var zk=m6,qk={"":!0,up:!0};function jk(t){if(typeof t!="string")return!1;var e=qk[t.toLowerCase()];return e?t.toLowerCase():!1}function Ml(t){return typeof t=="number"&&t>=0&&t<=100}function Hk(){var t=100,e=3,r=0,i=100,s=0,n=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!Ml(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(o){if(!Ml(o))throw new Error("RegionAnchorX must be between 0 and 100.");i=o}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!Ml(o))throw new Error("RegionAnchorY must be between 0 and 100.");r=o}},viewportAnchorY:{enumerable:!0,get:function(){return n},set:function(o){if(!Ml(o))throw new Error("ViewportAnchorY must be between 0 and 100.");n=o}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(o){if(!Ml(o))throw new Error("ViewportAnchorX must be between 0 and 100.");s=o}},scroll:{enumerable:!0,get:function(){return a},set:function(o){var l=jk(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var Vk=Hk,fn=Od,Ka=f6.exports={WebVTT:Nk,VTTCue:zk,VTTRegion:Vk};fn.vttjs=Ka;fn.WebVTT=Ka.WebVTT;var Gk=Ka.VTTCue,Wk=Ka.VTTRegion,Xk=fn.VTTCue,Kk=fn.VTTRegion;Ka.shim=function(){fn.VTTCue=Gk,fn.VTTRegion=Wk};Ka.restore=function(){fn.VTTCue=Xk,fn.VTTRegion=Kk};fn.VTTCue||Ka.shim();var Yk=f6.exports;const x4=Xa(Yk);var g6={exports:{}};(function(t,e){(function(r){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,s=/^(?=([^\/?#]*))\1([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var h=o.parseURL(l);if(!h)throw new Error("Error trying to parse base URL.");return h.path=o.normalizePath(h.path),o.buildURLFromParts(h)}var f=o.parseURL(u);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return c.alwaysNormalize?(f.path=o.normalizePath(f.path),o.buildURLFromParts(f)):u;var y=o.parseURL(l);if(!y)throw new Error("Error trying to parse base URL.");if(!y.netLoc&&y.path&&y.path[0]!=="/"){var w=s.exec(y.path);y.netLoc=w[1],y.path=w[2]}y.netLoc&&!y.path&&(y.path="/");var _={scheme:y.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(_.netLoc=y.netLoc,f.path[0]!=="/"))if(!f.path)_.path=y.path,f.params||(_.params=y.params,f.query||(_.query=y.query));else{var C=y.path,E=C.substring(0,C.lastIndexOf("/")+1)+f.path;_.path=o.normalizePath(E)}return _.path===null&&(_.path=c.alwaysNormalize?o.normalizePath(f.path):f.path),o.buildURLFromParts(_)},parseURL:function(l){var u=i.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(n,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=o})()})(g6);var Qk=g6.exports;const w4=Xa(Qk);var T4="http://example.com",Bd=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=$.location&&$.location.href||"");var i=typeof $.URL=="function",s=/^\/\//.test(e),n=!$.location&&!/\/\//i.test(e);if(i?e=new $.URL(e,$.location||T4):/\/\//i.test(e)||(e=w4.buildAbsoluteURL($.location&&$.location.href||"",e)),i){var a=new URL(r,e);return n?a.href.slice(T4.length):s?a.href.slice(a.protocol.length):a.href}return w4.buildAbsoluteURL(e,r)},$m=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(i,s){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(s)},e.off=function(i,s){if(!this.listeners[i])return!1;var n=this.listeners[i].indexOf(s);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(n,1),n>-1},e.trigger=function(i){var s=this.listeners[i];if(s)if(arguments.length===2)for(var n=s.length,a=0;a<n;++a)s[a].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=s.length,u=0;u<l;++u)s[u].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(s){i.push(s)})},t}(),Zk=function(e){return $.atob?$.atob(e):Buffer.from(e,"base64").toString("binary")};function Jk(t){for(var e=Zk(t),r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class eD extends $m{constructor(){super(),this.buffer=""}push(e){let r;for(this.buffer+=e,r=this.buffer.indexOf(`
`);r>-1;r=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,r)),this.buffer=this.buffer.substring(r+1)}}const tD="	",rf=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),r={};return e[1]&&(r.length=parseInt(e[1],10)),e[2]&&(r.offset=parseInt(e[2],10)),r},rD=function(){const r="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+r+")")},jr=function(t){const e={};if(!t)return e;const r=t.split(rD());let i=r.length,s;for(;i--;)r[i]!==""&&(s=/([^=]*)=(.*)/.exec(r[i]).slice(1),s[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),e[s[0]]=s[1]);return e},S4=t=>{const e=t.split("x"),r={};return e[0]&&(r.width=parseInt(e[0],10)),e[1]&&(r.height=parseInt(e[1],10)),r};class iD extends $m{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let r,i;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((n,a)=>{const o=a(e);return o===e?n:n.concat([o])},[e]).forEach(n=>{for(let a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,n))return;if(n.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:n.slice(1)});return}if(n=n.replace("\r",""),r=/^#EXTM3U/.exec(n),r){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(r=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(n),r){i={type:"tag",tagType:"inf"},r[1]&&(i.duration=parseFloat(r[1])),r[2]&&(i.title=r[2]),this.trigger("data",i);return}if(r=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(n),r){i={type:"tag",tagType:"targetduration"},r[1]&&(i.duration=parseInt(r[1],10)),this.trigger("data",i);return}if(r=/^#EXT-X-VERSION:([0-9.]*)?/.exec(n),r){i={type:"tag",tagType:"version"},r[1]&&(i.version=parseInt(r[1],10)),this.trigger("data",i);return}if(r=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(n),r){i={type:"tag",tagType:"media-sequence"},r[1]&&(i.number=parseInt(r[1],10)),this.trigger("data",i);return}if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(n),r){i={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(i.number=parseInt(r[1],10)),this.trigger("data",i);return}if(r=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(n),r){i={type:"tag",tagType:"playlist-type"},r[1]&&(i.playlistType=r[1]),this.trigger("data",i);return}if(r=/^#EXT-X-BYTERANGE:(.*)?$/.exec(n),r){i=ir(rf(r[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",i);return}if(r=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(n),r){i={type:"tag",tagType:"allow-cache"},r[1]&&(i.allowed=!/NO/.test(r[1])),this.trigger("data",i);return}if(r=/^#EXT-X-MAP:(.*)$/.exec(n),r){if(i={type:"tag",tagType:"map"},r[1]){const a=jr(r[1]);a.URI&&(i.uri=a.URI),a.BYTERANGE&&(i.byterange=rf(a.BYTERANGE))}this.trigger("data",i);return}if(r=/^#EXT-X-STREAM-INF:(.*)$/.exec(n),r){i={type:"tag",tagType:"stream-inf"},r[1]&&(i.attributes=jr(r[1]),i.attributes.RESOLUTION&&(i.attributes.RESOLUTION=S4(i.attributes.RESOLUTION)),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))),this.trigger("data",i);return}if(r=/^#EXT-X-MEDIA:(.*)$/.exec(n),r){i={type:"tag",tagType:"media"},r[1]&&(i.attributes=jr(r[1])),this.trigger("data",i);return}if(r=/^#EXT-X-ENDLIST/.exec(n),r){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(r=/^#EXT-X-DISCONTINUITY/.exec(n),r){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(r=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(n),r){i={type:"tag",tagType:"program-date-time"},r[1]&&(i.dateTimeString=r[1],i.dateTimeObject=new Date(r[1])),this.trigger("data",i);return}if(r=/^#EXT-X-KEY:(.*)$/.exec(n),r){i={type:"tag",tagType:"key"},r[1]&&(i.attributes=jr(r[1]),i.attributes.IV&&(i.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),this.trigger("data",i);return}if(r=/^#EXT-X-START:(.*)$/.exec(n),r){i={type:"tag",tagType:"start"},r[1]&&(i.attributes=jr(r[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),this.trigger("data",i);return}if(r=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(n),r){i={type:"tag",tagType:"cue-out-cont"},r[1]?i.data=r[1]:i.data="",this.trigger("data",i);return}if(r=/^#EXT-X-CUE-OUT:(.*)?$/.exec(n),r){i={type:"tag",tagType:"cue-out"},r[1]?i.data=r[1]:i.data="",this.trigger("data",i);return}if(r=/^#EXT-X-CUE-IN:?(.*)?$/.exec(n),r){i={type:"tag",tagType:"cue-in"},r[1]?i.data=r[1]:i.data="",this.trigger("data",i);return}if(r=/^#EXT-X-SKIP:(.*)$/.exec(n),r&&r[1]){i={type:"tag",tagType:"skip"},i.attributes=jr(r[1]),i.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(i.attributes["SKIPPED-SEGMENTS"]=parseInt(i.attributes["SKIPPED-SEGMENTS"],10)),i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(i.attributes["RECENTLY-REMOVED-DATERANGES"]=i.attributes["RECENTLY-REMOVED-DATERANGES"].split(tD)),this.trigger("data",i);return}if(r=/^#EXT-X-PART:(.*)$/.exec(n),r&&r[1]){i={type:"tag",tagType:"part"},i.attributes=jr(r[1]),["DURATION"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),["INDEPENDENT","GAP"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=/YES/.test(i.attributes[a]))}),i.attributes.hasOwnProperty("BYTERANGE")&&(i.attributes.byterange=rf(i.attributes.BYTERANGE)),this.trigger("data",i);return}if(r=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(n),r&&r[1]){i={type:"tag",tagType:"server-control"},i.attributes=jr(r[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=/YES/.test(i.attributes[a]))}),this.trigger("data",i);return}if(r=/^#EXT-X-PART-INF:(.*)$/.exec(n),r&&r[1]){i={type:"tag",tagType:"part-inf"},i.attributes=jr(r[1]),["PART-TARGET"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),this.trigger("data",i);return}if(r=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(n),r&&r[1]){i={type:"tag",tagType:"preload-hint"},i.attributes=jr(r[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(a){if(i.attributes.hasOwnProperty(a)){i.attributes[a]=parseInt(i.attributes[a],10);const o=a==="BYTERANGE-LENGTH"?"length":"offset";i.attributes.byterange=i.attributes.byterange||{},i.attributes.byterange[o]=i.attributes[a],delete i.attributes[a]}}),this.trigger("data",i);return}if(r=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(n),r&&r[1]){i={type:"tag",tagType:"rendition-report"},i.attributes=jr(r[1]),["LAST-MSN","LAST-PART"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseInt(i.attributes[a],10))}),this.trigger("data",i);return}if(r=/^#EXT-X-DATERANGE:(.*)$/.exec(n),r&&r[1]){i={type:"tag",tagType:"daterange"},i.attributes=jr(r[1]),["ID","CLASS"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=String(i.attributes[o]))}),["START-DATE","END-DATE"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=new Date(i.attributes[o]))}),["DURATION","PLANNED-DURATION"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=parseFloat(i.attributes[o]))}),["END-ON-NEXT"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=/YES/i.test(i.attributes[o]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=i.attributes[o].toString(16))});const a=/^X-([A-Z]+-)+[A-Z]+$/;for(const o in i.attributes){if(!a.test(o))continue;const l=/[0-9A-Fa-f]{6}/g.test(i.attributes[o]),u=/^\d+(\.\d+)?$/.test(i.attributes[o]);i.attributes[o]=l?i.attributes[o].toString(16):u?parseFloat(i.attributes[o]):String(i.attributes[o])}this.trigger("data",i);return}if(r=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(n),r){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(r=/^#EXT-X-I-FRAMES-ONLY/.exec(n),r){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(r=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(n),r){i={type:"tag",tagType:"content-steering"},i.attributes=jr(r[1]),this.trigger("data",i);return}if(r=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(n),r){i={type:"tag",tagType:"i-frame-playlist"},i.attributes=jr(r[1]),i.attributes.URI&&(i.uri=i.attributes.URI),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes.RESOLUTION&&(i.attributes.RESOLUTION=S4(i.attributes.RESOLUTION)),i.attributes["AVERAGE-BANDWIDTH"]&&(i.attributes["AVERAGE-BANDWIDTH"]=parseInt(i.attributes["AVERAGE-BANDWIDTH"],10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),this.trigger("data",i);return}if(r=/^#EXT-X-DEFINE:(.*)$/.exec(n),r){i={type:"tag",tagType:"define"},i.attributes=jr(r[1]),this.trigger("data",i);return}this.trigger("data",{type:"tag",data:n.slice(4)})})}addParser({expression:e,customType:r,dataParser:i,segment:s}){typeof i!="function"&&(i=n=>n),this.customParsers.push(n=>{if(e.exec(n))return this.trigger("data",{type:"custom",data:i(n),customType:r,segment:s}),!0})}addTagMapper({expression:e,map:r}){const i=s=>e.test(s)?r(s):s;this.tagMappers.push(i)}}const sD=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Ln=function(t){const e={};return Object.keys(t).forEach(function(r){e[sD(r)]=t[r]}),e},sf=function(t){const{serverControl:e,targetDuration:r,partTargetDuration:i}=t;if(!e)return;const s="#EXT-X-SERVER-CONTROL",n="holdBack",a="partHoldBack",o=r&&r*3,l=i&&i*2;r&&!e.hasOwnProperty(n)&&(e[n]=o,this.trigger("info",{message:`${s} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&e[n]<o&&(this.trigger("warn",{message:`${s} clamping HOLD-BACK (${e[n]}) to targetDuration * 3 (${o})`}),e[n]=o),i&&!e.hasOwnProperty(a)&&(e[a]=i*3,this.trigger("info",{message:`${s} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),i&&e[a]<l&&(this.trigger("warn",{message:`${s} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${l}).`}),e[a]=l)};let nD=class extends $m{constructor(e={}){super(),this.lineStream=new eD,this.parseStream=new iD,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const r=this,i=[];let s={},n,a,o=!1;const l=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let h=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let f=0,y=0;const w={};this.on("end",()=>{s.uri||!s.parts&&!s.preloadHints||(!s.map&&n&&(s.map=n),!s.key&&a&&(s.key=a),!s.timeline&&typeof h=="number"&&(s.timeline=h),this.manifest.preloadSegment=s)}),this.parseStream.on("data",function(_){let C,E;if(r.manifest.definitions){for(const k in r.manifest.definitions)if(_.uri&&(_.uri=_.uri.replace(`{$${k}}`,r.manifest.definitions[k])),_.attributes)for(const D in _.attributes)typeof _.attributes[D]=="string"&&(_.attributes[D]=_.attributes[D].replace(`{$${k}}`,r.manifest.definitions[k]))}({tag(){({version(){_.version&&(this.manifest.version=_.version)},"allow-cache"(){this.manifest.allowCache=_.allowed,"allowed"in _||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const k={};"length"in _&&(s.byterange=k,k.length=_.length,"offset"in _||(_.offset=f)),"offset"in _&&(s.byterange=k,k.offset=_.offset),f=k.offset+k.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),_.title&&(s.title=_.title),_.duration>0&&(s.duration=_.duration),_.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key(){if(!_.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(_.attributes.METHOD==="NONE"){a=null;return}if(!_.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(_.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:_.attributes};return}if(_.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:_.attributes.URI};return}if(_.attributes.KEYFORMAT===c){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(_.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(_.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),_.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(_.attributes.KEYID&&_.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:_.attributes.KEYFORMAT,keyId:_.attributes.KEYID.substring(2)},pssh:Jk(_.attributes.URI.split(",")[1])};return}_.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:_.attributes.METHOD||"AES-128",uri:_.attributes.URI},typeof _.attributes.IV<"u"&&(a.iv=_.attributes.IV)},"media-sequence"(){if(!isFinite(_.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+_.number});return}this.manifest.mediaSequence=_.number},"discontinuity-sequence"(){if(!isFinite(_.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+_.number});return}this.manifest.discontinuitySequence=_.number,h=_.number},"playlist-type"(){if(!/VOD|EVENT/.test(_.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+_.playlist});return}this.manifest.playlistType=_.playlistType},map(){n={},_.uri&&(n.uri=_.uri),_.byterange&&(n.byterange=_.byterange),a&&(n.key=a)},"stream-inf"(){if(this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||u,!_.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),ir(s.attributes,_.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,!(_.attributes&&_.attributes.TYPE&&_.attributes["GROUP-ID"]&&_.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const k=this.manifest.mediaGroups[_.attributes.TYPE];k[_.attributes["GROUP-ID"]]=k[_.attributes["GROUP-ID"]]||{},C=k[_.attributes["GROUP-ID"]],E={default:/yes/i.test(_.attributes.DEFAULT)},E.default?E.autoselect=!0:E.autoselect=/yes/i.test(_.attributes.AUTOSELECT),_.attributes.LANGUAGE&&(E.language=_.attributes.LANGUAGE),_.attributes.URI&&(E.uri=_.attributes.URI),_.attributes["INSTREAM-ID"]&&(E.instreamId=_.attributes["INSTREAM-ID"]),_.attributes.CHARACTERISTICS&&(E.characteristics=_.attributes.CHARACTERISTICS),_.attributes.FORCED&&(E.forced=/yes/i.test(_.attributes.FORCED)),C[_.attributes.NAME]=E},discontinuity(){h+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=_.dateTimeString,this.manifest.dateTimeObject=_.dateTimeObject),s.dateTimeString=_.dateTimeString,s.dateTimeObject=_.dateTimeObject;const{lastProgramDateTime:k}=this;this.lastProgramDateTime=new Date(_.dateTimeString).getTime(),k===null&&this.manifest.segments.reduceRight((D,P)=>(P.programDateTime=D-P.duration*1e3,P.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(_.duration)||_.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+_.duration});return}this.manifest.targetDuration=_.duration,sf.call(this,this.manifest)},start(){if(!_.attributes||isNaN(_.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:_.attributes["TIME-OFFSET"],precise:_.attributes.PRECISE}},"cue-out"(){s.cueOut=_.data},"cue-out-cont"(){s.cueOutCont=_.data},"cue-in"(){s.cueIn=_.data},skip(){this.manifest.skip=Ln(_.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",_.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const k=this.manifest.segments.length,D=Ln(_.attributes);s.parts=s.parts||[],s.parts.push(D),D.byterange&&(D.byterange.hasOwnProperty("offset")||(D.byterange.offset=y),y=D.byterange.offset+D.byterange.length);const P=s.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${P} for segment #${k}`,_.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((L,U)=>{L.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${U} lacks required attribute(s): LAST-PART`})})},"server-control"(){const k=this.manifest.serverControl=Ln(_.attributes);k.hasOwnProperty("canBlockReload")||(k.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),sf.call(this,this.manifest),k.canSkipDateranges&&!k.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const k=this.manifest.segments.length,D=Ln(_.attributes),P=D.type&&D.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(D),D.byterange&&(D.byterange.hasOwnProperty("offset")||(D.byterange.offset=P?y:0,P&&(y=D.byterange.offset+D.byterange.length)));const L=s.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${L} for segment #${k}`,_.attributes,["TYPE","URI"]),!!D.type)for(let U=0;U<s.preloadHints.length-1;U++){const J=s.preloadHints[U];J.type&&J.type===D.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${L} for segment #${k} has the same TYPE ${D.type} as preload hint #${U}`})}},"rendition-report"(){const k=Ln(_.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(k);const D=this.manifest.renditionReports.length-1,P=["LAST-MSN","URI"];o&&P.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${D}`,_.attributes,P)},"part-inf"(){this.manifest.partInf=Ln(_.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",_.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),sf.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(Ln(_.attributes));const k=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${k}`,_.attributes,["ID","START-DATE"]);const D=this.manifest.dateRanges[k];D.endDate&&D.startDate&&new Date(D.endDate)<new Date(D.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),D.duration&&D.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),D.plannedDuration&&D.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const P=!!D.endOnNext;if(P&&!D.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),P&&(D.duration||D.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),D.duration&&D.endDate){const U=D.startDate.getTime()+D.duration*1e3;this.manifest.dateRanges[k].endDate=new Date(U)}if(!w[D.id])w[D.id]=D;else{for(const U in w[D.id])if(D[U]&&JSON.stringify(w[D.id][U])!==JSON.stringify(D[U])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const L=this.manifest.dateRanges.findIndex(U=>U.id===D.id);this.manifest.dateRanges[L]=ir(this.manifest.dateRanges[L],D),w[D.id]=ir(w[D.id],D),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=Ln(_.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",_.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const k=(D,P)=>{if(D in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${D}`});return}this.manifest.definitions[D]=P};if("QUERYPARAM"in _.attributes){if("NAME"in _.attributes||"IMPORT"in _.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const D=this.params.get(_.attributes.QUERYPARAM);if(!D){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${_.attributes.QUERYPARAM}`});return}k(_.attributes.QUERYPARAM,decodeURIComponent(D));return}if("NAME"in _.attributes){if("IMPORT"in _.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in _.attributes)||typeof _.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${_.attributes.NAME}`});return}k(_.attributes.NAME,_.attributes.VALUE);return}if("IMPORT"in _.attributes){if(!this.mainDefinitions[_.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${_.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}k(_.attributes.IMPORT,this.mainDefinitions[_.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:_.attributes,uri:_.uri,timeline:h}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",_.attributes,["BANDWIDTH","URI"])}}[_.tagType]||l).call(r)},uri(){s.uri=_.uri,i.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),a&&(s.key=a),s.timeline=h,n&&(s.map=n),y=0,this.lastProgramDateTime!==null&&(s.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=s.duration*1e3),s={}},comment(){},custom(){_.segment?(s.custom=s.custom||{},s.custom[_.customType]=_.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[_.customType]=_.data)}})[_.type].call(r)})}requiredCompatibilityversion(e,r){(e<r||!e)&&this.trigger("warn",{message:`manifest must be at least version ${r}`})}warnOnMissingAttributes_(e,r,i){const s=[];i.forEach(function(n){r.hasOwnProperty(n)||s.push(n)}),s.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${s.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}};var Oa={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},aD=["video","audio","text"],C4=["Video","Audio","Text"],y6=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,i,s){var n=("00"+Number(i).toString(16)).slice(-2),a=("00"+Number(s).toString(16)).slice(-2);return"avc1."+n+"00"+a})},ws=function(e){e===void 0&&(e="");var r=e.split(","),i=[];return r.forEach(function(s){s=s.trim();var n;aD.forEach(function(a){var o=Oa[a].exec(s.toLowerCase());if(!(!o||o.length<=1)){n=a;var l=s.substring(0,o[1].length),u=s.replace(l,"");i.push({type:l,details:u,mediaType:a})}}),n||i.push({type:s,details:"",mediaType:"unknown"})}),i},oD=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var i=e.mediaGroups.AUDIO[r];if(!i)return null;for(var s in i){var n=i[s];if(n.default&&n.playlists)return ws(n.playlists[0].attributes.CODECS)}return null},v6=function(e){return e===void 0&&(e=""),Oa.audio.test(e.trim().toLowerCase())},lD=function(e){return e===void 0&&(e=""),Oa.text.test(e.trim().toLowerCase())},Eu=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(n){return y6(n.trim())}),i="video";r.length===1&&v6(r[0])?i="audio":r.length===1&&lD(r[0])&&(i="application");var s="mp4";return r.every(function(n){return Oa.mp4.test(n)})?s="mp4":r.every(function(n){return Oa.webm.test(n)})?s="webm":r.every(function(n){return Oa.ogg.test(n)})&&(s="ogg"),i+"/"+s+';codecs="'+e+'"'}},y0=function(e){return e===void 0&&(e=""),$.MediaSource&&$.MediaSource.isTypeSupported&&$.MediaSource.isTypeSupported(Eu(e))||!1},nf=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var i=0;i<C4.length;i++){var s=C4[i];if(Oa["muxer"+s].test(r))return!0}return!1})},E4="mp4a.40.2",uD="avc1.4d400d",cD=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,dD=/^application\/dash\+xml/i,b6=function(e){return cD.test(e)?"hls":dD.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},hD=function(e){return e.toString(2).length},fD=function(e){return Math.ceil(hD(e)/8)},_6=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},pD=function(e){return _6(e)},Ge=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!pD(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Pr=$.BigInt||Number,gp=[Pr("0x1"),Pr("0x100"),Pr("0x10000"),Pr("0x1000000"),Pr("0x100000000"),Pr("0x10000000000"),Pr("0x1000000000000"),Pr("0x100000000000000"),Pr("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var mD=function(e,r){var i=r===void 0?{}:r,s=i.signed,n=s===void 0?!1:s,a=i.le,o=a===void 0?!1:a;e=Ge(e);var l=o?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],c=u.call(e,function(f,y,w){var _=o?w:Math.abs(w+1-e.length);return f+Pr(y)*gp[_]},Pr(0));if(n){var h=gp[e.length]/Pr(2)-Pr(1);c=Pr(c),c>h&&(c-=h,c-=h,c-=Pr(2))}return Number(c)},gD=function(e,r){var i={},s=i.le,n=s===void 0?!1:s;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Pr(e);for(var a=fD(e),o=new Uint8Array(new ArrayBuffer(a)),l=0;l<a;l++){var u=n?l:Math.abs(l+1-o.length);o[u]=Number(e/gp[l]&Pr(255)),e<0&&(o[u]=Math.abs(~o[u]),o[u]-=l===0?1:2)}return o},x6=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i},yD=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(r=r.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),r.length<=1)return Ge(r[0]);var s=r.reduce(function(o,l,u){return o+(l.byteLength||l.length)},0),n=new Uint8Array(s),a=0;return r.forEach(function(o){o=Ge(o),n.set(o,a),a+=o.byteLength}),n},Gt=function(e,r,i){var s=i===void 0?{}:i,n=s.offset,a=n===void 0?0:n,o=s.mask,l=o===void 0?[]:o;e=Ge(e),r=Ge(r);var u=r.every?r.every:Array.prototype.every;return r.length&&e.length-a>=r.length&&u.call(r,function(c,h){var f=l[h]?l[h]&e[a+h]:e[a+h];return c===f})},vD=function(e,r,i){r.forEach(function(s){for(var n in e.mediaGroups[s])for(var a in e.mediaGroups[s][n]){var o=e.mediaGroups[s][n][a];i(o,s,n,a)}})},bD=function(e){return $.atob?$.atob(e):Buffer.from(e,"base64").toString("binary")};function _D(t){for(var e=bD(t),r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}var na={},Tn={};function xD(t,e,r){if(r===void 0&&(r=Array.prototype),t&&typeof r.find=="function")return r.find.call(t,e);for(var i=0;i<t.length;i++)if(Object.prototype.hasOwnProperty.call(t,i)){var s=t[i];if(e.call(void 0,s,i,t))return s}}function zm(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function wD(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}var w6=zm({HTML:"text/html",isHTML:function(t){return t===w6.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),T6=zm({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===T6.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Tn.assign=wD;Tn.find=xD;Tn.freeze=zm;Tn.MIME_TYPE=w6;Tn.NAMESPACE=T6;var S6=Tn,Ms=S6.find,Au=S6.NAMESPACE;function TD(t){return t!==""}function SD(t){return t?t.split(/[\t\n\f\r ]+/).filter(TD):[]}function CD(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function A4(t){if(!t)return[];var e=SD(t);return Object.keys(e.reduce(CD,{}))}function ED(t){return function(e){return t&&t.indexOf(e)!==-1}}function qu(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function bi(t,e){var r=t.prototype;if(!(r instanceof e)){let i=function(){};i.prototype=e.prototype,i=new i,qu(r,i),t.prototype=r=i}r.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),r.constructor=t)}var _i={},us=_i.ELEMENT_NODE=1,Uo=_i.ATTRIBUTE_NODE=2,O0=_i.TEXT_NODE=3,C6=_i.CDATA_SECTION_NODE=4,E6=_i.ENTITY_REFERENCE_NODE=5,AD=_i.ENTITY_NODE=6,A6=_i.PROCESSING_INSTRUCTION_NODE=7,k6=_i.COMMENT_NODE=8,D6=_i.DOCUMENT_NODE=9,I6=_i.DOCUMENT_TYPE_NODE=10,pn=_i.DOCUMENT_FRAGMENT_NODE=11,kD=_i.NOTATION_NODE=12,zr={},Ir={};zr.INDEX_SIZE_ERR=(Ir[1]="Index size error",1);zr.DOMSTRING_SIZE_ERR=(Ir[2]="DOMString size error",2);var hi=zr.HIERARCHY_REQUEST_ERR=(Ir[3]="Hierarchy request error",3);zr.WRONG_DOCUMENT_ERR=(Ir[4]="Wrong document",4);zr.INVALID_CHARACTER_ERR=(Ir[5]="Invalid character",5);zr.NO_DATA_ALLOWED_ERR=(Ir[6]="No data allowed",6);zr.NO_MODIFICATION_ALLOWED_ERR=(Ir[7]="No modification allowed",7);var L6=zr.NOT_FOUND_ERR=(Ir[8]="Not found",8);zr.NOT_SUPPORTED_ERR=(Ir[9]="Not supported",9);var k4=zr.INUSE_ATTRIBUTE_ERR=(Ir[10]="Attribute in use",10);zr.INVALID_STATE_ERR=(Ir[11]="Invalid state",11);zr.SYNTAX_ERR=(Ir[12]="Syntax error",12);zr.INVALID_MODIFICATION_ERR=(Ir[13]="Invalid modification",13);zr.NAMESPACE_ERR=(Ir[14]="Invalid namespace",14);zr.INVALID_ACCESS_ERR=(Ir[15]="Invalid access",15);function lr(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,Ir[t]),this.message=Ir[t],Error.captureStackTrace&&Error.captureStackTrace(this,lr);return r.code=t,e&&(this.message=this.message+": "+e),r}lr.prototype=Error.prototype;qu(zr,lr);function on(){}on.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var r=[],i=0;i<this.length;i++)vo(this[i],r,t,e);return r.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function $o(t,e){this._node=t,this._refresh=e,qm(this)}function qm(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var r=t._refresh(t._node);if(j6(t,"length",r.length),!t.$$length||r.length<t.$$length)for(var i=r.length;i in t;i++)Object.prototype.hasOwnProperty.call(t,i)&&delete t[i];qu(r,t),t._inc=e}}$o.prototype.item=function(t){return qm(this),this[t]||null};bi($o,on);function N0(){}function P6(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function D4(t,e,r,i){if(i?e[P6(e,i)]=r:e[e.length++]=r,t){r.ownerElement=t;var s=t.ownerDocument;s&&(i&&O6(s,t,i),DD(s,t,r))}}function I4(t,e,r){var i=P6(e,r);if(i>=0){for(var s=e.length-1;i<s;)e[i]=e[++i];if(e.length=s,t){var n=t.ownerDocument;n&&(O6(n,t,r),r.ownerElement=null)}}else throw new lr(L6,new Error(t.tagName+"@"+r))}N0.prototype={length:0,item:on.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new lr(k4);var r=this.getNamedItem(t.nodeName);return D4(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new lr(k4);return r=this.getNamedItemNS(t.namespaceURI,t.localName),D4(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return I4(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return I4(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var i=this[r];if(i.localName==e&&i.namespaceURI==t)return i}return null}};function M6(){}M6.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var i=new ju;if(i.implementation=this,i.childNodes=new on,i.doctype=r||null,r&&i.appendChild(r),e){var s=i.createElementNS(t,e);i.appendChild(s)}return i},createDocumentType:function(t,e,r){var i=new Fd;return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=r||"",i}};function Ot(){}Ot.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return B0(this,t,e)},replaceChild:function(t,e){B0(this,t,e,B6),e&&this.removeChild(e)},removeChild:function(t){return N6(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return yp(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==O0&&t.nodeType==O0?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&r[i]===t)return i}e=e.nodeType==Uo?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];e=e.nodeType==Uo?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function R6(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}qu(_i,Ot);qu(_i,Ot.prototype);function ku(t,e){if(e(t))return!0;if(t=t.firstChild)do if(ku(t,e))return!0;while(t=t.nextSibling)}function ju(){this.ownerDocument=this}function DD(t,e,r){t&&t._inc++;var i=r.namespaceURI;i===Au.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function O6(t,e,r,i){t&&t._inc++;var s=r.namespaceURI;s===Au.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function jm(t,e,r){if(t&&t._inc){t._inc++;var i=e.childNodes;if(r)i[i.length++]=r;else{for(var s=e.firstChild,n=0;s;)i[n++]=s,s=s.nextSibling;i.length=n,delete i[i.length]}}}function N6(t,e){var r=e.previousSibling,i=e.nextSibling;return r?r.nextSibling=i:t.firstChild=i,i?i.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,jm(t.ownerDocument,t),e}function ID(t){return t&&(t.nodeType===Ot.DOCUMENT_NODE||t.nodeType===Ot.DOCUMENT_FRAGMENT_NODE||t.nodeType===Ot.ELEMENT_NODE)}function LD(t){return t&&(Rs(t)||Hm(t)||mn(t)||t.nodeType===Ot.DOCUMENT_FRAGMENT_NODE||t.nodeType===Ot.COMMENT_NODE||t.nodeType===Ot.PROCESSING_INSTRUCTION_NODE)}function mn(t){return t&&t.nodeType===Ot.DOCUMENT_TYPE_NODE}function Rs(t){return t&&t.nodeType===Ot.ELEMENT_NODE}function Hm(t){return t&&t.nodeType===Ot.TEXT_NODE}function L4(t,e){var r=t.childNodes||[];if(Ms(r,Rs)||mn(e))return!1;var i=Ms(r,mn);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function P4(t,e){var r=t.childNodes||[];function i(n){return Rs(n)&&n!==e}if(Ms(r,i))return!1;var s=Ms(r,mn);return!(e&&s&&r.indexOf(s)>r.indexOf(e))}function PD(t,e,r){if(!ID(t))throw new lr(hi,"Unexpected parent node type "+t.nodeType);if(r&&r.parentNode!==t)throw new lr(L6,"child not in parent");if(!LD(e)||mn(e)&&t.nodeType!==Ot.DOCUMENT_NODE)throw new lr(hi,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function MD(t,e,r){var i=t.childNodes||[],s=e.childNodes||[];if(e.nodeType===Ot.DOCUMENT_FRAGMENT_NODE){var n=s.filter(Rs);if(n.length>1||Ms(s,Hm))throw new lr(hi,"More than one element or text in fragment");if(n.length===1&&!L4(t,r))throw new lr(hi,"Element in fragment can not be inserted before doctype")}if(Rs(e)&&!L4(t,r))throw new lr(hi,"Only one element can be added and only after doctype");if(mn(e)){if(Ms(i,mn))throw new lr(hi,"Only one doctype is allowed");var a=Ms(i,Rs);if(r&&i.indexOf(a)<i.indexOf(r))throw new lr(hi,"Doctype can only be inserted before an element");if(!r&&a)throw new lr(hi,"Doctype can not be appended since element is present")}}function B6(t,e,r){var i=t.childNodes||[],s=e.childNodes||[];if(e.nodeType===Ot.DOCUMENT_FRAGMENT_NODE){var n=s.filter(Rs);if(n.length>1||Ms(s,Hm))throw new lr(hi,"More than one element or text in fragment");if(n.length===1&&!P4(t,r))throw new lr(hi,"Element in fragment can not be inserted before doctype")}if(Rs(e)&&!P4(t,r))throw new lr(hi,"Only one element can be added and only after doctype");if(mn(e)){if(Ms(i,function(l){return mn(l)&&l!==r}))throw new lr(hi,"Only one doctype is allowed");var a=Ms(i,Rs);if(r&&i.indexOf(a)<i.indexOf(r))throw new lr(hi,"Doctype can only be inserted before an element")}}function B0(t,e,r,i){PD(t,e,r),t.nodeType===Ot.DOCUMENT_NODE&&(i||MD)(t,e,r);var s=e.parentNode;if(s&&s.removeChild(e),e.nodeType===pn){var n=e.firstChild;if(n==null)return e;var a=e.lastChild}else n=a=e;var o=r?r.previousSibling:t.lastChild;n.previousSibling=o,a.nextSibling=r,o?o.nextSibling=n:t.firstChild=n,r==null?t.lastChild=a:r.previousSibling=a;do n.parentNode=t;while(n!==a&&(n=n.nextSibling));return jm(t.ownerDocument||t,t),e.nodeType==pn&&(e.firstChild=e.lastChild=null),e}function RD(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,jm(t.ownerDocument,t,e),e}ju.prototype={nodeName:"#document",nodeType:D6,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==pn){for(var r=t.firstChild;r;){var i=r.nextSibling;this.insertBefore(r,e),r=i}return t}return B0(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===us&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),N6(this,t)},replaceChild:function(t,e){B0(this,t,e,B6),t.ownerDocument=this,e&&this.removeChild(e),Rs(t)&&(this.documentElement=t)},importNode:function(t,e){return q6(this,t,e)},getElementById:function(t){var e=null;return ku(this.documentElement,function(r){if(r.nodeType==us&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=A4(t);return new $o(this,function(r){var i=[];return e.length>0&&ku(r.documentElement,function(s){if(s!==r&&s.nodeType===us){var n=s.getAttribute("class");if(n){var a=t===n;if(!a){var o=A4(n);a=e.every(ED(o))}a&&i.push(s)}}}),i})},createElement:function(t){var e=new Ha;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new on;var r=e.attributes=new N0;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new Ud;return t.ownerDocument=this,t.childNodes=new on,t},createTextNode:function(t){var e=new Vm;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new Gm;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new Wm;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new Km;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new F0;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Xm;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new Ha,i=e.split(":"),s=r.attributes=new N0;return r.childNodes=new on,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,i.length==2?(r.prefix=i[0],r.localName=i[1]):r.localName=e,s._ownerElement=r,r},createAttributeNS:function(t,e){var r=new F0,i=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,i.length==2?(r.prefix=i[0],r.localName=i[1]):r.localName=e,r}};bi(ju,Ot);function Ha(){this._nsMap={}}Ha.prototype={nodeType:us,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===pn?this.insertBefore(t,null):RD(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+r,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new $o(this,function(e){var r=[];return ku(e,function(i){i!==e&&i.nodeType==us&&(t==="*"||i.tagName==t)&&r.push(i)}),r})},getElementsByTagNameNS:function(t,e){return new $o(this,function(r){var i=[];return ku(r,function(s){s!==r&&s.nodeType===us&&(t==="*"||s.namespaceURI===t)&&(e==="*"||s.localName==e)&&i.push(s)}),i})}};ju.prototype.getElementsByTagName=Ha.prototype.getElementsByTagName;ju.prototype.getElementsByTagNameNS=Ha.prototype.getElementsByTagNameNS;bi(Ha,Ot);function F0(){}F0.prototype.nodeType=Uo;bi(F0,Ot);function Hu(){}Hu.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Ir[hi])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var i=this.data.substring(0,t),s=this.data.substring(t+e);r=i+r+s,this.nodeValue=this.data=r,this.length=r.length}};bi(Hu,Ot);function Vm(){}Vm.prototype={nodeName:"#text",nodeType:O0,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};bi(Vm,Hu);function Gm(){}Gm.prototype={nodeName:"#comment",nodeType:k6};bi(Gm,Hu);function Wm(){}Wm.prototype={nodeName:"#cdata-section",nodeType:C6};bi(Wm,Hu);function Fd(){}Fd.prototype.nodeType=I6;bi(Fd,Ot);function F6(){}F6.prototype.nodeType=kD;bi(F6,Ot);function U6(){}U6.prototype.nodeType=AD;bi(U6,Ot);function Xm(){}Xm.prototype.nodeType=E6;bi(Xm,Ot);function Ud(){}Ud.prototype.nodeName="#document-fragment";Ud.prototype.nodeType=pn;bi(Ud,Ot);function Km(){}Km.prototype.nodeType=A6;bi(Km,Ot);function $6(){}$6.prototype.serializeToString=function(t,e,r){return z6.call(t,e,r)};Ot.prototype.toString=z6;function z6(t,e){var r=[],i=this.nodeType==9&&this.documentElement||this,s=i.prefix,n=i.namespaceURI;if(n&&s==null){var s=i.lookupPrefix(n);if(s==null)var a=[{namespace:n,prefix:null}]}return vo(this,r,t,e,a),r.join("")}function M4(t,e,r){var i=t.prefix||"",s=t.namespaceURI;if(!s||i==="xml"&&s===Au.XML||s===Au.XMLNS)return!1;for(var n=r.length;n--;){var a=r[n];if(a.prefix===i)return a.namespace!==s}return!0}function af(t,e,r){t.push(" ",e,'="',r.replace(/[<>&"\t\n\r]/g,R6),'"')}function vo(t,e,r,i,s){if(s||(s=[]),i)if(t=i(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case us:var n=t.attributes,a=n.length,E=t.firstChild,o=t.tagName;r=Au.isHTML(t.namespaceURI)||r;var l=o;if(!r&&!t.prefix&&t.namespaceURI){for(var u,c=0;c<n.length;c++)if(n.item(c).name==="xmlns"){u=n.item(c).value;break}if(!u)for(var h=s.length-1;h>=0;h--){var f=s[h];if(f.prefix===""&&f.namespace===t.namespaceURI){u=f.namespace;break}}if(u!==t.namespaceURI)for(var h=s.length-1;h>=0;h--){var f=s[h];if(f.namespace===t.namespaceURI){f.prefix&&(l=f.prefix+":"+o);break}}}e.push("<",l);for(var y=0;y<a;y++){var w=n.item(y);w.prefix=="xmlns"?s.push({prefix:w.localName,namespace:w.value}):w.nodeName=="xmlns"&&s.push({prefix:"",namespace:w.value})}for(var y=0;y<a;y++){var w=n.item(y);if(M4(w,r,s)){var _=w.prefix||"",C=w.namespaceURI;af(e,_?"xmlns:"+_:"xmlns",C),s.push({prefix:_,namespace:C})}vo(w,e,r,i,s)}if(o===l&&M4(t,r,s)){var _=t.prefix||"",C=t.namespaceURI;af(e,_?"xmlns:"+_:"xmlns",C),s.push({prefix:_,namespace:C})}if(E||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),r&&/^script$/i.test(o))for(;E;)E.data?e.push(E.data):vo(E,e,r,i,s.slice()),E=E.nextSibling;else for(;E;)vo(E,e,r,i,s.slice()),E=E.nextSibling;e.push("</",l,">")}else e.push("/>");return;case D6:case pn:for(var E=t.firstChild;E;)vo(E,e,r,i,s.slice()),E=E.nextSibling;return;case Uo:return af(e,t.name,t.value);case O0:return e.push(t.data.replace(/[<&>]/g,R6));case C6:return e.push("<![CDATA[",t.data,"]]>");case k6:return e.push("<!--",t.data,"-->");case I6:var k=t.publicId,D=t.systemId;if(e.push("<!DOCTYPE ",t.name),k)e.push(" PUBLIC ",k),D&&D!="."&&e.push(" ",D),e.push(">");else if(D&&D!=".")e.push(" SYSTEM ",D,">");else{var P=t.internalSubset;P&&e.push(" [",P,"]"),e.push(">")}return;case A6:return e.push("<?",t.target," ",t.data,"?>");case E6:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function q6(t,e,r){var i;switch(e.nodeType){case us:i=e.cloneNode(!1),i.ownerDocument=t;case pn:break;case Uo:r=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,r)for(var s=e.firstChild;s;)i.appendChild(q6(t,s,r)),s=s.nextSibling;return i}function yp(t,e,r){var i=new e.constructor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var n=e[s];typeof n!="object"&&n!=i[s]&&(i[s]=n)}switch(e.childNodes&&(i.childNodes=new on),i.ownerDocument=t,i.nodeType){case us:var a=e.attributes,o=i.attributes=new N0,l=a.length;o._ownerElement=i;for(var u=0;u<l;u++)i.setAttributeNode(yp(t,a.item(u),!0));break;case Uo:r=!0}if(r)for(var c=e.firstChild;c;)i.appendChild(yp(t,c,r)),c=c.nextSibling;return i}function j6(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case us:case pn:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};Object.defineProperty($o.prototype,"length",{get:function(){return qm(this),this.$$length}}),Object.defineProperty(Ot.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case us:case pn:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),j6=function(e,r,i){e["$$"+r]=i}}}catch{}na.DocumentType=Fd;na.DOMException=lr;na.DOMImplementation=M6;na.Element=Ha;na.Node=Ot;na.NodeList=on;na.XMLSerializer=$6;var $d={},H6={};(function(t){var e=Tn.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(H6);var Ym={},Du=Tn.NAMESPACE,vp=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R4=new RegExp("[\\-\\.0-9"+vp.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),O4=new RegExp("^"+vp.source+R4.source+"*(?::"+vp.source+R4.source+"*)?$"),Rl=0,Pn=1,oo=2,Ol=3,lo=4,uo=5,Nl=6,jc=7;function zo(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,zo)}zo.prototype=new Error;zo.prototype.name=zo.name;function V6(){}V6.prototype={parse:function(t,e,r){var i=this.domBuilder;i.startDocument(),G6(e,e={}),OD(t,e,r,i,this.errorHandler),i.endDocument()}};function OD(t,e,r,i,s){function n(ke){if(ke>65535){ke-=65536;var De=55296+(ke>>10),ze=56320+(ke&1023);return String.fromCharCode(De,ze)}else return String.fromCharCode(ke)}function a(ke){var De=ke.slice(1,-1);return Object.hasOwnProperty.call(r,De)?r[De]:De.charAt(0)==="#"?n(parseInt(De.substr(1).replace("x","0x"))):(s.error("entity not found:"+ke),ke)}function o(ke){if(ke>_){var De=t.substring(_,ke).replace(/&#?\w+;/g,a);f&&l(_),i.characters(De,0,ke-_),_=ke}}function l(ke,De){for(;ke>=c&&(De=h.exec(t));)u=De.index,c=u+De[0].length,f.lineNumber++;f.columnNumber=ke-u+1}for(var u=0,c=0,h=/.*(?:\r\n?|\n)|.*$/g,f=i.locator,y=[{currentNSMap:e}],w={},_=0;;){try{var C=t.indexOf("<",_);if(C<0){if(!t.substr(_).match(/^\s*$/)){var E=i.doc,k=E.createTextNode(t.substr(_));E.appendChild(k),i.currentElement=k}return}switch(C>_&&o(C),t.charAt(C+1)){case"/":var Z=t.indexOf(">",C+3),D=t.substring(C+2,Z).replace(/[ \t\n\r]+$/g,""),P=y.pop();Z<0?(D=t.substring(C+2).replace(/[\s<].*/,""),s.error("end tag name: "+D+" is not complete:"+P.tagName),Z=C+1+D.length):D.match(/\s</)&&(D=D.replace(/[\s<].*/,""),s.error("end tag name: "+D+" maybe not complete"),Z=C+1+D.length);var L=P.localNSMap,U=P.tagName==D,J=U||P.tagName&&P.tagName.toLowerCase()==D.toLowerCase();if(J){if(i.endElement(P.uri,P.localName,D),L)for(var X in L)Object.prototype.hasOwnProperty.call(L,X)&&i.endPrefixMapping(X);U||s.fatalError("end tag name: "+D+" is not match the current start tagName:"+P.tagName)}else y.push(P);Z++;break;case"?":f&&l(C),Z=$D(t,C,i);break;case"!":f&&l(C),Z=UD(t,C,i,s);break;default:f&&l(C);var H=new W6,re=y[y.length-1].currentNSMap,Z=ND(t,C,H,re,a,s),W=H.length;if(!H.closed&&FD(t,Z,H.tagName,w)&&(H.closed=!0,r.nbsp||s.warning("unclosed xml attribute")),f&&W){for(var ne=N4(f,{}),ce=0;ce<W;ce++){var $e=H[ce];l($e.offset),$e.locator=N4(f,{})}i.locator=ne,B4(H,i,re)&&y.push(H),i.locator=f}else B4(H,i,re)&&y.push(H);Du.isHTML(H.uri)&&!H.closed?Z=BD(t,Z,H.tagName,a,i):Z++}}catch(ke){if(ke instanceof zo)throw ke;s.error("element parse error: "+ke),Z=-1}Z>_?_=Z:o(Math.max(C,_)+1)}}function N4(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function ND(t,e,r,i,s,n){function a(f,y,w){r.attributeNames.hasOwnProperty(f)&&n.fatalError("Attribute "+f+" redefined"),r.addValue(f,y.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,s),w)}for(var o,l,u=++e,c=Rl;;){var h=t.charAt(u);switch(h){case"=":if(c===Pn)o=t.slice(e,u),c=Ol;else if(c===oo)c=Ol;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===Ol||c===Pn)if(c===Pn&&(n.warning('attribute value must after "="'),o=t.slice(e,u)),e=u+1,u=t.indexOf(h,e),u>0)l=t.slice(e,u),a(o,l,e-1),c=uo;else throw new Error("attribute value no end '"+h+"' match");else if(c==lo)l=t.slice(e,u),a(o,l,e),n.warning('attribute "'+o+'" missed start quot('+h+")!!"),e=u+1,c=uo;else throw new Error('attribute value must after "="');break;case"/":switch(c){case Rl:r.setTagName(t.slice(e,u));case uo:case Nl:case jc:c=jc,r.closed=!0;case lo:case Pn:break;case oo:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return n.error("unexpected end of input"),c==Rl&&r.setTagName(t.slice(e,u)),u;case">":switch(c){case Rl:r.setTagName(t.slice(e,u));case uo:case Nl:case jc:break;case lo:case Pn:l=t.slice(e,u),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case oo:c===oo&&(l=o),c==lo?(n.warning('attribute "'+l+'" missed quot(")!'),a(o,l,e)):((!Du.isHTML(i[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&n.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case Ol:throw new Error("attribute value missed!!")}return u;case"":h=" ";default:if(h<=" ")switch(c){case Rl:r.setTagName(t.slice(e,u)),c=Nl;break;case Pn:o=t.slice(e,u),c=oo;break;case lo:var l=t.slice(e,u);n.warning('attribute "'+l+'" missed quot(")!!'),a(o,l,e);case uo:c=Nl;break}else switch(c){case oo:r.tagName,(!Du.isHTML(i[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&n.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=u,c=Pn;break;case uo:n.warning('attribute space is required"'+o+'"!!');case Nl:c=Pn,e=u;break;case Ol:c=lo,e=u;break;case jc:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function B4(t,e,r){for(var i=t.tagName,s=null,h=t.length;h--;){var n=t[h],a=n.qName,o=n.value,f=a.indexOf(":");if(f>0)var l=n.prefix=a.slice(0,f),u=a.slice(f+1),c=l==="xmlns"&&u;else u=a,l=null,c=a==="xmlns"&&"";n.localName=u,c!==!1&&(s==null&&(s={},G6(r,r={})),r[c]=s[c]=o,n.uri=Du.XMLNS,e.startPrefixMapping(c,o))}for(var h=t.length;h--;){n=t[h];var l=n.prefix;l&&(l==="xml"&&(n.uri=Du.XML),l!=="xmlns"&&(n.uri=r[l||""]))}var f=i.indexOf(":");f>0?(l=t.prefix=i.slice(0,f),u=t.localName=i.slice(f+1)):(l=null,u=t.localName=i);var y=t.uri=r[l||""];if(e.startElement(y,u,i,t),t.closed){if(e.endElement(y,u,i),s)for(l in s)Object.prototype.hasOwnProperty.call(s,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=r,t.localNSMap=s,!0}function BD(t,e,r,i,s){if(/^(?:script|textarea)$/i.test(r)){var n=t.indexOf("</"+r+">",e),a=t.substring(e+1,n);if(/[&<]/.test(a))return/^script$/i.test(r)?(s.characters(a,0,a.length),n):(a=a.replace(/&#?\w+;/g,i),s.characters(a,0,a.length),n)}return e+1}function FD(t,e,r,i){var s=i[r];return s==null&&(s=t.lastIndexOf("</"+r+">"),s<e&&(s=t.lastIndexOf("</"+r)),i[r]=s),s<e}function G6(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function UD(t,e,r,i){var s=t.charAt(e+2);switch(s){case"-":if(t.charAt(e+3)==="-"){var n=t.indexOf("-->",e+4);return n>e?(r.comment(t,e+4,n-e-4),n+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var n=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,n-e-9),r.endCDATA(),n+3}var a=zD(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],u=!1,c=!1;o>3&&(/^public$/i.test(a[2][0])?(u=a[3][0],c=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var h=a[o-1];return r.startDTD(l,u,c),r.endDTD(),h.index+h[0].length}}return-1}function $D(t,e,r){var i=t.indexOf("?>",e);if(i){var s=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return s?(s[0].length,r.processingInstruction(s[1],s[2]),i+2):-1}return-1}function W6(){this.attributeNames={}}W6.prototype={setTagName:function(t){if(!O4.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!O4.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function zD(t,e){var r,i=[],s=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(s.lastIndex=e,s.exec(t);r=s.exec(t);)if(i.push(r),r[1])return i}Ym.XMLReader=V6;Ym.ParseError=zo;var qD=Tn,jD=na,F4=H6,X6=Ym,HD=jD.DOMImplementation,U4=qD.NAMESPACE,VD=X6.ParseError,GD=X6.XMLReader;function K6(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function Y6(t){this.options=t||{locator:{}}}Y6.prototype.parseFromString=function(t,e){var r=this.options,i=new GD,s=r.domBuilder||new Vu,n=r.errorHandler,a=r.locator,o=r.xmlns||{},l=/\/x?html?$/.test(e),u=l?F4.HTML_ENTITIES:F4.XML_ENTITIES;a&&s.setDocumentLocator(a),i.errorHandler=WD(n,s,a),i.domBuilder=r.domBuilder||s,l&&(o[""]=U4.HTML),o.xml=o.xml||U4.XML;var c=r.normalizeLineEndings||K6;return t&&typeof t=="string"?i.parse(c(t),o,u):i.errorHandler.error("invalid doc source"),s.doc};function WD(t,e,r){if(!t){if(e instanceof Vu)return e;t=e}var i={},s=t instanceof Function;r=r||{};function n(a){var o=t[a];!o&&s&&(o=t.length==2?function(l){t(a,l)}:t),i[a]=o&&function(l){o("[xmldom "+a+"]	"+l+bp(r))}||function(){}}return n("warning"),n("error"),n("fatalError"),i}function Vu(){this.cdata=!1}function co(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Vu.prototype={startDocument:function(){this.doc=new HD().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,i){var s=this.doc,n=s.createElementNS(t,r||e),a=i.length;Hc(this,n),this.currentElement=n,this.locator&&co(this.locator,n);for(var o=0;o<a;o++){var t=i.getURI(o),l=i.getValue(o),r=i.getQName(o),u=s.createAttributeNS(t,r);this.locator&&co(i.getLocator(o),u),u.value=u.nodeValue=l,n.setAttributeNode(u)}},endElement:function(t,e,r){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&co(this.locator,r),Hc(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=$4.apply(this,arguments),t){if(this.cdata)var i=this.doc.createCDATASection(t);else var i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&co(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=$4.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&co(this.locator,i),Hc(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var i=this.doc.implementation;if(i&&i.createDocumentType){var s=i.createDocumentType(t,e,r);this.locator&&co(this.locator,s),Hc(this,s),this.doc.doctype=s}},warning:function(t){console.warn("[xmldom warning]	"+t,bp(this.locator))},error:function(t){console.error("[xmldom error]	"+t,bp(this.locator))},fatalError:function(t){throw new VD(t,this.locator)}};function bp(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function $4(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Vu.prototype[t]=function(){return null}});function Hc(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}$d.__DOMHandler=Vu;$d.normalizeLineEndings=K6;$d.DOMParser=Y6;var XD=$d.DOMParser;/*! @name mpd-parser @version 1.3.0 @license Apache-2.0 */const z4=t=>!!t&&typeof t=="object",kr=(...t)=>t.reduce((e,r)=>(typeof r!="object"||Object.keys(r).forEach(i=>{Array.isArray(e[i])&&Array.isArray(r[i])?e[i]=e[i].concat(r[i]):z4(e[i])&&z4(r[i])?e[i]=kr(e[i],r[i]):e[i]=r[i]}),e),{}),Q6=t=>Object.keys(t).map(e=>t[e]),KD=(t,e)=>{const r=[];for(let i=t;i<e;i++)r.push(i);return r},qo=t=>t.reduce((e,r)=>e.concat(r),[]),Z6=t=>{if(!t.length)return[];const e=[];for(let r=0;r<t.length;r++)e.push(t[r]);return e},YD=(t,e)=>t.reduce((r,i,s)=>(i[e]&&r.push(s),r),[]),QD=(t,e)=>Q6(t.reduce((r,i)=>(i.forEach(s=>{r[e(s)]=s}),r),{}));var jo={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const Iu=({baseUrl:t="",source:e="",range:r="",indexRange:i=""})=>{const s={uri:e,resolvedUri:Bd(t||"",e)};if(r||i){const a=(r||i).split("-");let o=$.BigInt?$.BigInt(a[0]):parseInt(a[0],10),l=$.BigInt?$.BigInt(a[1]):parseInt(a[1],10);o<Number.MAX_SAFE_INTEGER&&typeof o=="bigint"&&(o=Number(o)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let u;typeof l=="bigint"||typeof o=="bigint"?u=$.BigInt(l)-$.BigInt(o)+$.BigInt(1):u=l-o+1,typeof u=="bigint"&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),s.byterange={length:u,offset:o}}return s},ZD=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=$.BigInt(t.offset)+$.BigInt(t.length)-$.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},q4=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),JD={static(t){const{duration:e,timescale:r=1,sourceDuration:i,periodDuration:s}=t,n=q4(t.endNumber),a=e/r;return typeof n=="number"?{start:0,end:n}:typeof s=="number"?{start:0,end:s/a}:{start:0,end:i/a}},dynamic(t){const{NOW:e,clientOffset:r,availabilityStartTime:i,timescale:s=1,duration:n,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:l=1/0}=t,u=q4(t.endNumber),c=(e+r)/1e3,h=i+a,y=c+o-h,w=Math.ceil(y*s/n),_=Math.floor((c-h-l)*s/n),C=Math.floor((c-h)*s/n);return{start:Math.max(0,_),end:typeof u=="number"?u:Math.min(w,C)}}},eI=t=>e=>{const{duration:r,timescale:i=1,periodStart:s,startNumber:n=1}=t;return{number:n+e,duration:r/i,timeline:s,time:e*r}},Qm=t=>{const{type:e,duration:r,timescale:i=1,periodDuration:s,sourceDuration:n}=t,{start:a,end:o}=JD[e](t),l=KD(a,o).map(eI(t));if(e==="static"){const u=l.length-1,c=typeof s=="number"?s:n;l[u].duration=c-r/i*u}return l},J6=t=>{const{baseUrl:e,initialization:r={},sourceDuration:i,indexRange:s="",periodStart:n,presentationTime:a,number:o=0,duration:l}=t;if(!e)throw new Error(jo.NO_BASE_URL);const u=Iu({baseUrl:e,source:r.sourceURL,range:r.range}),c=Iu({baseUrl:e,source:e,indexRange:s});if(c.map=u,l){const h=Qm(t);h.length&&(c.duration=h[0].duration,c.timeline=h[0].timeline)}else i&&(c.duration=i,c.timeline=n);return c.presentationTime=a||n,c.number=o,[c]},Zm=(t,e,r)=>{const i=t.sidx.map?t.sidx.map:null,s=t.sidx.duration,n=t.timeline||0,a=t.sidx.byterange,o=a.offset+a.length,l=e.timescale,u=e.references.filter(C=>C.referenceType!==1),c=[],h=t.endList?"static":"dynamic",f=t.sidx.timeline;let y=f,w=t.mediaSequence||0,_;typeof e.firstOffset=="bigint"?_=$.BigInt(o)+e.firstOffset:_=o+e.firstOffset;for(let C=0;C<u.length;C++){const E=e.references[C],k=E.referencedSize,D=E.subsegmentDuration;let P;typeof _=="bigint"?P=_+$.BigInt(k)-$.BigInt(1):P=_+k-1;const L=`${_}-${P}`,J=J6({baseUrl:r,timescale:l,timeline:n,periodStart:f,presentationTime:y,number:w,duration:D,sourceDuration:s,indexRange:L,type:h})[0];i&&(J.map=i),c.push(J),typeof _=="bigint"?_+=$.BigInt(k):_+=k,y+=D/l,w++}return t.segments=c,t},tI=["AUDIO","SUBTITLES"],rI=1/60,e8=t=>QD(t,({timeline:e})=>e).sort((e,r)=>e.timeline>r.timeline?1:-1),iI=(t,e)=>{for(let r=0;r<t.length;r++)if(t[r].attributes.NAME===e)return t[r];return null},j4=t=>{let e=[];return vD(t,tI,(r,i,s,n)=>{e=e.concat(r.playlists||[])}),e},H4=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((r,i)=>{r.number=t.mediaSequence+i})},sI=({oldPlaylists:t,newPlaylists:e,timelineStarts:r})=>{e.forEach(i=>{i.discontinuitySequence=r.findIndex(function({timeline:l}){return l===i.timeline});const s=iI(t,i.attributes.NAME);if(!s||i.sidx)return;const n=i.segments[0],a=s.segments.findIndex(function(l){return Math.abs(l.presentationTime-n.presentationTime)<rI});if(a===-1){H4({playlist:i,mediaSequence:s.mediaSequence+s.segments.length}),i.segments[0].discontinuity=!0,i.discontinuityStarts.unshift(0),(!s.segments.length&&i.timeline>s.timeline||s.segments.length&&i.timeline>s.segments[s.segments.length-1].timeline)&&i.discontinuitySequence--;return}s.segments[a].discontinuity&&!n.discontinuity&&(n.discontinuity=!0,i.discontinuityStarts.unshift(0),i.discontinuitySequence--),H4({playlist:i,mediaSequence:s.segments[a].number})})},nI=({oldManifest:t,newManifest:e})=>{const r=t.playlists.concat(j4(t)),i=e.playlists.concat(j4(e));return e.timelineStarts=e8([t.timelineStarts,e.timelineStarts]),sI({oldPlaylists:r,newPlaylists:i,timelineStarts:e.timelineStarts}),e},zd=t=>t&&t.uri+"-"+ZD(t.byterange),of=t=>{const e=t.reduce(function(i,s){return i[s.attributes.baseUrl]||(i[s.attributes.baseUrl]=[]),i[s.attributes.baseUrl].push(s),i},{});let r=[];return Object.values(e).forEach(i=>{const s=Q6(i.reduce((n,a)=>{const o=a.attributes.id+(a.attributes.lang||"");return n[o]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),n[o].segments.push(...a.segments)),a.attributes.contentProtection&&(n[o].attributes.contentProtection=a.attributes.contentProtection)):(n[o]=a,n[o].attributes.timelineStarts=[]),n[o].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),n},{}));r=r.concat(s)}),r.map(i=>(i.discontinuityStarts=YD(i.segments||[],"discontinuity"),i))},Jm=(t,e)=>{const r=zd(t.sidx),i=r&&e[r]&&e[r].sidx;return i&&Zm(t,i,t.sidx.resolvedUri),t},aI=(t,e={})=>{if(!Object.keys(e).length)return t;for(const r in t)t[r]=Jm(t[r],e);return t},oI=({attributes:t,segments:e,sidx:r,mediaSequence:i,discontinuitySequence:s,discontinuityStarts:n},a)=>{const o={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:s,discontinuityStarts:n,timelineStarts:t.timelineStarts,mediaSequence:i,segments:e};return t.contentProtection&&(o.contentProtection=t.contentProtection),t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),r&&(o.sidx=r),a&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},lI=({attributes:t,segments:e,mediaSequence:r,discontinuityStarts:i,discontinuitySequence:s})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const n={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(n.CODECS=t.codecs);const a={attributes:n,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:i,discontinuitySequence:s,mediaSequence:r,segments:e};return t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),a},uI=(t,e={},r=!1)=>{let i;const s=t.reduce((n,a)=>{const o=a.attributes.role&&a.attributes.role.value||"",l=a.attributes.lang||"";let u=a.attributes.label||"main";if(l&&!a.attributes.label){const h=o?` (${o})`:"";u=`${a.attributes.lang}${h}`}n[u]||(n[u]={language:l,autoselect:!0,default:o==="main",playlists:[],uri:""});const c=Jm(oI(a,r),e);return n[u].playlists.push(c),typeof i>"u"&&o==="main"&&(i=a,i.default=!0),n},{});if(!i){const n=Object.keys(s)[0];s[n].default=!0}return s},cI=(t,e={})=>t.reduce((r,i)=>{const s=i.attributes.label||i.attributes.lang||"text";return r[s]||(r[s]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),r[s].playlists.push(Jm(lI(i),e)),r},{}),dI=t=>t.reduce((e,r)=>(r&&r.forEach(i=>{const{channel:s,language:n}=i;e[n]={autoselect:!1,default:!1,instreamId:s,language:n},i.hasOwnProperty("aspectRatio")&&(e[n].aspectRatio=i.aspectRatio),i.hasOwnProperty("easyReader")&&(e[n].easyReader=i.easyReader),i.hasOwnProperty("3D")&&(e[n]["3D"]=i["3D"])}),e),{}),hI=({attributes:t,segments:e,sidx:r,discontinuityStarts:i})=>{const s={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:i,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(s.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(s.contentProtection=t.contentProtection),t.serviceLocation&&(s.attributes.serviceLocation=t.serviceLocation),r&&(s.sidx=r),s},fI=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",pI=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",mI=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",gI=(t,e)=>{t.forEach(r=>{r.mediaSequence=0,r.discontinuitySequence=e.findIndex(function({timeline:i}){return i===r.timeline}),r.segments&&r.segments.forEach((i,s)=>{i.number=s})})},V4=t=>t?Object.keys(t).reduce((e,r)=>{const i=t[r];return e.concat(i.playlists)},[]):[],yI=({dashPlaylists:t,locations:e,contentSteering:r,sidxMapping:i={},previousManifest:s,eventStream:n})=>{if(!t.length)return{};const{sourceDuration:a,type:o,suggestedPresentationDelay:l,minimumUpdatePeriod:u}=t[0].attributes,c=of(t.filter(fI)).map(hI),h=of(t.filter(pI)),f=of(t.filter(mI)),y=t.map(P=>P.attributes.captionServices).filter(Boolean),w={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:aI(c,i)};u>=0&&(w.minimumUpdatePeriod=u*1e3),e&&(w.locations=e),r&&(w.contentSteering=r),o==="dynamic"&&(w.suggestedPresentationDelay=l),n&&n.length>0&&(w.eventStream=n);const _=w.playlists.length===0,C=h.length?uI(h,i,_):null,E=f.length?cI(f,i):null,k=c.concat(V4(C),V4(E)),D=k.map(({timelineStarts:P})=>P);return w.timelineStarts=e8(D),gI(k,w.timelineStarts),C&&(w.mediaGroups.AUDIO.audio=C),E&&(w.mediaGroups.SUBTITLES.subs=E),y.length&&(w.mediaGroups["CLOSED-CAPTIONS"].cc=dI(y)),s?nI({oldManifest:s,newManifest:w}):w},vI=(t,e,r)=>{const{NOW:i,clientOffset:s,availabilityStartTime:n,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:l=0}=t,u=(i+s)/1e3,c=n+o,f=u+l-c;return Math.ceil((f*a-e)/r)},t8=(t,e)=>{const{type:r,minimumUpdatePeriod:i=0,media:s="",sourceDuration:n,timescale:a=1,startNumber:o=1,periodStart:l}=t,u=[];let c=-1;for(let h=0;h<e.length;h++){const f=e[h],y=f.d,w=f.r||0,_=f.t||0;c<0&&(c=_),_&&_>c&&(c=_);let C;if(w<0){const D=h+1;D===e.length?r==="dynamic"&&i>0&&s.indexOf("$Number$")>0?C=vI(t,c,y):C=(n*a-c)/y:C=(e[D].t-c)/y}else C=w+1;const E=o+u.length+C;let k=o+u.length;for(;k<E;)u.push({number:k,duration:y/a,time:c,timeline:l}),c+=y,k++}return u},bI=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,_I=t=>(e,r,i,s)=>{if(e==="$$")return"$";if(typeof t[r]>"u")return e;const n=""+t[r];return r==="RepresentationID"||(i?s=parseInt(s,10):s=1,n.length>=s)?n:`${new Array(s-n.length+1).join("0")}${n}`},G4=(t,e)=>t.replace(bI,_I(e)),xI=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?Qm(t):t8(t,e),wI=(t,e)=>{const r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:i={sourceURL:"",range:""}}=t,s=Iu({baseUrl:t.baseUrl,source:G4(i.sourceURL,r),range:i.range});return xI(t,e).map(a=>{r.Number=a.number,r.Time=a.time;const o=G4(t.media||"",r),l=t.timescale||1,u=t.presentationTimeOffset||0,c=t.periodStart+(a.time-u)/l;return{uri:o,timeline:a.timeline,duration:a.duration,resolvedUri:Bd(t.baseUrl||"",o),map:s,number:a.number,presentationTime:c}})},TI=(t,e)=>{const{baseUrl:r,initialization:i={}}=t,s=Iu({baseUrl:r,source:i.sourceURL,range:i.range}),n=Iu({baseUrl:r,source:e.media,range:e.mediaRange});return n.map=s,n},SI=(t,e)=>{const{duration:r,segmentUrls:i=[],periodStart:s}=t;if(!r&&!e||r&&e)throw new Error(jo.SEGMENT_TIME_UNSPECIFIED);const n=i.map(l=>TI(t,l));let a;return r&&(a=Qm(t)),e&&(a=t8(t,e)),a.map((l,u)=>{if(n[u]){const c=n[u],h=t.timescale||1,f=t.presentationTimeOffset||0;return c.timeline=l.timeline,c.duration=l.duration,c.number=l.number,c.presentationTime=s+(l.time-f)/h,c}}).filter(l=>l)},CI=({attributes:t,segmentInfo:e})=>{let r,i;e.template?(i=wI,r=kr(t,e.template)):e.base?(i=J6,r=kr(t,e.base)):e.list&&(i=SI,r=kr(t,e.list));const s={attributes:t};if(!i)return s;const n=i(r,e.segmentTimeline);if(r.duration){const{duration:a,timescale:o=1}=r;r.duration=a/o}else n.length?r.duration=n.reduce((a,o)=>Math.max(a,Math.ceil(o.duration)),0):r.duration=0;return s.attributes=r,s.segments=n,e.base&&r.indexRange&&(s.sidx=n[0],s.segments=[]),s},EI=t=>t.map(CI),Wt=(t,e)=>Z6(t.childNodes).filter(({tagName:r})=>r===e),Gu=t=>t.textContent.trim(),AI=t=>parseFloat(t.split("/").reduce((e,r)=>e/r)),ho=t=>{const o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!o)return 0;const[l,u,c,h,f,y]=o.slice(1);return parseFloat(l||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(c||0)*86400+parseFloat(h||0)*3600+parseFloat(f||0)*60+parseFloat(y||0)},kI=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),W4={mediaPresentationDuration(t){return ho(t)},availabilityStartTime(t){return kI(t)/1e3},minimumUpdatePeriod(t){return ho(t)},suggestedPresentationDelay(t){return ho(t)},type(t){return t},timeShiftBufferDepth(t){return ho(t)},start(t){return ho(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return AI(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?ho(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},pr=t=>t&&t.attributes?Z6(t.attributes).reduce((e,r)=>{const i=W4[r.name]||W4.DEFAULT;return e[r.name]=i(r.value),e},{}):{},DI={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},qd=(t,e)=>e.length?qo(t.map(function(r){return e.map(function(i){const s=Gu(i),n=Bd(r.baseUrl,s),a=kr(pr(i),{baseUrl:n});return n!==s&&!a.serviceLocation&&r.serviceLocation&&(a.serviceLocation=r.serviceLocation),a})})):t,e1=t=>{const e=Wt(t,"SegmentTemplate")[0],r=Wt(t,"SegmentList")[0],i=r&&Wt(r,"SegmentURL").map(h=>kr({tag:"SegmentURL"},pr(h))),s=Wt(t,"SegmentBase")[0],n=r||e,a=n&&Wt(n,"SegmentTimeline")[0],o=r||s||e,l=o&&Wt(o,"Initialization")[0],u=e&&pr(e);u&&l?u.initialization=l&&pr(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const c={template:u,segmentTimeline:a&&Wt(a,"S").map(h=>pr(h)),list:r&&kr(pr(r),{segmentUrls:i,initialization:pr(l)}),base:s&&kr(pr(s),{initialization:pr(l)})};return Object.keys(c).forEach(h=>{c[h]||delete c[h]}),c},II=(t,e,r)=>i=>{const s=Wt(i,"BaseURL"),n=qd(e,s),a=kr(t,pr(i)),o=e1(i);return n.map(l=>({segmentInfo:kr(r,o),attributes:kr(a,l)}))},LI=t=>t.reduce((e,r)=>{const i=pr(r);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());const s=DI[i.schemeIdUri];if(s){e[s]={attributes:i};const n=Wt(r,"cenc:pssh")[0];if(n){const a=Gu(n);e[s].pssh=a&&_D(a)}}return e},{}),PI=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{let i,s;return s=r,/^CC\d=/.test(r)?[i,s]=r.split("="):/^CC\d$/.test(r)&&(i=r),{channel:i,language:s}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{const i={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){const[s,n=""]=r.split("=");i.channel=s,i.language=r,n.split(",").forEach(a=>{const[o,l]=a.split(":");o==="lang"?i.language=l:o==="er"?i.easyReader=Number(l):o==="war"?i.aspectRatio=Number(l):o==="3D"&&(i["3D"]=Number(l))})}else i.language=r;return i.channel&&(i.channel="SERVICE"+i.channel),i})},MI=t=>qo(Wt(t.node,"EventStream").map(e=>{const r=pr(e),i=r.schemeIdUri;return Wt(e,"Event").map(s=>{const n=pr(s),a=n.presentationTime||0,o=r.timescale||1,l=n.duration||0,u=a/o+t.attributes.start;return{schemeIdUri:i,value:r.value,id:n.id,start:u,end:u+l/o,messageData:Gu(s)||n.messageData,contentEncoding:r.contentEncoding,presentationTimeOffset:r.presentationTimeOffset||0}})})),RI=(t,e,r)=>i=>{const s=pr(i),n=qd(e,Wt(i,"BaseURL")),a=Wt(i,"Role")[0],o={role:pr(a)};let l=kr(t,s,o);const u=Wt(i,"Accessibility")[0],c=PI(pr(u));c&&(l=kr(l,{captionServices:c}));const h=Wt(i,"Label")[0];if(h&&h.childNodes.length){const C=h.childNodes[0].nodeValue.trim();l=kr(l,{label:C})}const f=LI(Wt(i,"ContentProtection"));Object.keys(f).length&&(l=kr(l,{contentProtection:f}));const y=e1(i),w=Wt(i,"Representation"),_=kr(r,y);return qo(w.map(II(l,n,_)))},OI=(t,e)=>(r,i)=>{const s=qd(e,Wt(r.node,"BaseURL")),n=kr(t,{periodStart:r.attributes.start});typeof r.attributes.duration=="number"&&(n.periodDuration=r.attributes.duration);const a=Wt(r.node,"AdaptationSet"),o=e1(r.node);return qo(a.map(RI(n,s,o)))},NI=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const r=kr({serverURL:Gu(t[0])},pr(t[0]));return r.queryBeforeStart=r.queryBeforeStart==="true",r},BI=({attributes:t,priorPeriodAttributes:e,mpdType:r})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&r==="static"?0:null,FI=(t,e={})=>{const{manifestUri:r="",NOW:i=Date.now(),clientOffset:s=0,eventHandler:n=function(){}}=e,a=Wt(t,"Period");if(!a.length)throw new Error(jo.INVALID_NUMBER_OF_PERIOD);const o=Wt(t,"Location"),l=pr(t),u=qd([{baseUrl:r}],Wt(t,"BaseURL")),c=Wt(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=i,l.clientOffset=s,o.length&&(l.locations=o.map(Gu));const h=[];return a.forEach((f,y)=>{const w=pr(f),_=h[y-1];w.start=BI({attributes:w,priorPeriodAttributes:_?_.attributes:null,mpdType:l.type}),h.push({node:f,attributes:w})}),{locations:l.locations,contentSteeringInfo:NI(c,n),representationInfo:qo(h.map(OI(l,u))),eventStream:qo(h.map(MI))}},r8=t=>{if(t==="")throw new Error(jo.DASH_EMPTY_MANIFEST);const e=new XD;let r,i;try{r=e.parseFromString(t,"application/xml"),i=r&&r.documentElement.tagName==="MPD"?r.documentElement:null}catch{}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(jo.DASH_INVALID_XML);return i},UI=t=>{const e=Wt(t,"UTCTiming")[0];if(!e)return null;const r=pr(e);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(jo.UNSUPPORTED_UTC_TIMING_SCHEME)}return r},$I=(t,e={})=>{const r=FI(r8(t),e),i=EI(r.representationInfo);return yI({dashPlaylists:i,locations:r.locations,contentSteering:r.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:r.eventStream})},zI=t=>UI(r8(t));var i8=Math.pow(2,32),qI=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r;return e.getBigUint64?(r=e.getBigUint64(0),r<Number.MAX_SAFE_INTEGER?Number(r):r):e.getUint32(0)*i8+e.getUint32(4)},jI={getUint64:qI,MAX_UINT32:i8},X4=jI.getUint64,HI=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;r.version===0?(r.earliestPresentationTime=e.getUint32(i),r.firstOffset=e.getUint32(i+4),i+=8):(r.earliestPresentationTime=X4(t.subarray(i)),r.firstOffset=X4(t.subarray(i+8)),i+=16),i+=2;var s=e.getUint16(i);for(i+=2;s>0;i+=12,s--)r.references.push({referenceType:(t[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(t[i+8]&128),sapType:(t[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return r},VI=HI;const GI=Xa(VI);var WI=Ge([73,68,51]),XI=function(e,r){r===void 0&&(r=0),e=Ge(e);var i=e[r+5],s=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],n=(i&16)>>4;return n?s+20:s+10},Kl=function t(e,r){return r===void 0&&(r=0),e=Ge(e),e.length-r<10||!Gt(e,WI,{offset:r})?r:(r+=XI(e,r),t(e,r))},K4=function(e){return typeof e=="string"?x6(e):e},KI=function(e){return Array.isArray(e)?e.map(function(r){return K4(r)}):[K4(e)]},YI=function t(e,r,i){i===void 0&&(i=!1),r=KI(r),e=Ge(e);var s=[];if(!r.length)return s;for(var n=0;n<e.length;){var a=(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3])>>>0,o=e.subarray(n+4,n+8);if(a===0)break;var l=n+a;if(l>e.length){if(i)break;l=e.length}var u=e.subarray(n+8,l);Gt(o,r[0])&&(r.length===1?s.push(u):s.push.apply(s,t(u,r.slice(1),i))),n=l}return s},Vc={EBML:Ge([26,69,223,163]),DocType:Ge([66,130]),Segment:Ge([24,83,128,103]),SegmentInfo:Ge([21,73,169,102]),Tracks:Ge([22,84,174,107]),Track:Ge([174]),TrackNumber:Ge([215]),DefaultDuration:Ge([35,227,131]),TrackEntry:Ge([174]),TrackType:Ge([131]),FlagDefault:Ge([136]),CodecID:Ge([134]),CodecPrivate:Ge([99,162]),VideoTrack:Ge([224]),AudioTrack:Ge([225]),Cluster:Ge([31,67,182,117]),Timestamp:Ge([231]),TimestampScale:Ge([42,215,177]),BlockGroup:Ge([160]),BlockDuration:Ge([155]),Block:Ge([161]),SimpleBlock:Ge([163])},_p=[128,64,32,16,8,4,2,1],QI=function(e){for(var r=1,i=0;i<_p.length&&!(e&_p[i]);i++)r++;return r},U0=function(e,r,i,s){i===void 0&&(i=!0),s===void 0&&(s=!1);var n=QI(e[r]),a=e.subarray(r,r+n);return i&&(a=Array.prototype.slice.call(e,r,r+n),a[0]^=_p[n-1]),{length:n,value:mD(a,{signed:s}),bytes:a}},Y4=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return t(r)}):typeof e=="number"?gD(e):e},ZI=function(e){return Array.isArray(e)?e.map(function(r){return Y4(r)}):[Y4(e)]},JI=function t(e,r,i){if(i>=r.length)return r.length;var s=U0(r,i,!1);if(Gt(e.bytes,s.bytes))return i;var n=U0(r,i+s.length);return t(e,r,i+n.length+n.value+s.length)},Q4=function t(e,r){r=ZI(r),e=Ge(e);var i=[];if(!r.length)return i;for(var s=0;s<e.length;){var n=U0(e,s,!1),a=U0(e,s+n.length),o=s+n.length+a.length;a.value===127&&(a.value=JI(n,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value,u=e.subarray(o,l);Gt(r[0],n.bytes)&&(r.length===1?i.push(u):i=i.concat(t(u,r.slice(1))));var c=n.length+a.length+u.length;s+=c}return i},eL=Ge([0,0,0,1]),tL=Ge([0,0,1]),rL=Ge([0,0,3]),iL=function(e){for(var r=[],i=1;i<e.length-2;)Gt(e.subarray(i,i+3),rL)&&(r.push(i+2),i++),i++;if(r.length===0)return e;var s=e.length-r.length,n=new Uint8Array(s),a=0;for(i=0;i<s;a++,i++)a===r[0]&&(a++,r.shift()),n[i]=e[a];return n},s8=function(e,r,i,s){e=Ge(e),i=[].concat(i);for(var n=0,a,o=0;n<e.length&&(o<s||a);){var l=void 0;if(Gt(e.subarray(n),eL)?l=4:Gt(e.subarray(n),tL)&&(l=3),!l){n++;continue}if(o++,a)return iL(e.subarray(a,n));var u=void 0;r==="h264"?u=e[n+l]&31:r==="h265"&&(u=e[n+l]>>1&63),i.indexOf(u)!==-1&&(a=n+l),n+=l+(r==="h264"?1:2)}return e.subarray(0,0)},sL=function(e,r,i){return s8(e,"h264",r,i)},nL=function(e,r,i){return s8(e,"h265",r,i)},Hr={webm:Ge([119,101,98,109]),matroska:Ge([109,97,116,114,111,115,107,97]),flac:Ge([102,76,97,67]),ogg:Ge([79,103,103,83]),ac3:Ge([11,119]),riff:Ge([82,73,70,70]),avi:Ge([65,86,73]),wav:Ge([87,65,86,69]),"3gp":Ge([102,116,121,112,51,103]),mp4:Ge([102,116,121,112]),fmp4:Ge([115,116,121,112]),mov:Ge([102,116,121,112,113,116]),moov:Ge([109,111,111,118]),moof:Ge([109,111,111,102])},Ho={aac:function(e){var r=Kl(e);return Gt(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=Kl(e);return Gt(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=Q4(e,[Vc.EBML,Vc.DocType])[0];return Gt(r,Hr.webm)},mkv:function(e){var r=Q4(e,[Vc.EBML,Vc.DocType])[0];return Gt(r,Hr.matroska)},mp4:function(e){if(Ho["3gp"](e)||Ho.mov(e))return!1;if(Gt(e,Hr.mp4,{offset:4})||Gt(e,Hr.fmp4,{offset:4})||Gt(e,Hr.moof,{offset:4})||Gt(e,Hr.moov,{offset:4}))return!0},mov:function(e){return Gt(e,Hr.mov,{offset:4})},"3gp":function(e){return Gt(e,Hr["3gp"],{offset:4})},ac3:function(e){var r=Kl(e);return Gt(e,Hr.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=Kl(e);return Gt(e,Hr.flac,{offset:r})},ogg:function(e){return Gt(e,Hr.ogg)},avi:function(e){return Gt(e,Hr.riff)&&Gt(e,Hr.avi,{offset:8})},wav:function(e){return Gt(e,Hr.riff)&&Gt(e,Hr.wav,{offset:8})},h264:function(e){return sL(e,7,3).length},h265:function(e){return nL(e,[32,33],3).length}},xp=Object.keys(Ho).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);xp.forEach(function(t){var e=Ho[t];Ho[t]=function(r){return e(Ge(r))}});var aL=Ho,t1=function(e){e=Ge(e);for(var r=0;r<xp.length;r++){var i=xp[r];if(aL[i](e))return i}return""},oL=function(e){return YI(e,["moof"]).length>0},r1=9e4,i1,s1,jd,n1,n8,a8,o8;i1=function(t){return t*r1};s1=function(t,e){return t*e};jd=function(t){return t/r1};n1=function(t,e){return t/e};n8=function(t,e){return i1(n1(t,e))};a8=function(t,e){return s1(jd(t),e)};o8=function(t,e,r){return jd(r?t:t-e)};var Da={ONE_SECOND_IN_TS:r1,secondsToVideoTs:i1,secondsToAudioTs:s1,videoTsToSeconds:jd,audioTsToSeconds:n1,audioTsToVideoTs:n8,videoTsToAudioTs:a8,metadataTsToSeconds:o8};/**
 * @license
 * Video.js 8.17.4 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var wp="8.17.4";const rn={},Yn=function(t,e){return rn[t]=rn[t]||[],e&&(rn[t]=rn[t].concat(e)),rn[t]},lL=function(t,e){Yn(t,e)},l8=function(t,e){const r=Yn(t).indexOf(e);return r<=-1?!1:(rn[t]=rn[t].slice(),rn[t].splice(r,1),!0)},uL=function(t,e){Yn(t,[].concat(e).map(r=>{const i=(...s)=>(l8(t,i),r(...s));return i}))},$0={prefixed:!0},v0=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],Z4=v0[0];let Yl;for(let t=0;t<v0.length;t++)if(v0[t][1]in Se){Yl=v0[t];break}if(Yl){for(let t=0;t<Yl.length;t++)$0[Z4[t]]=Yl[t];$0.prefixed=Yl[0]!==Z4[0]}let ci=[];const cL=(t,e,r)=>(i,s,n)=>{const a=e.levels[s],o=new RegExp(`^(${a})$`);let l=t;if(i!=="log"&&n.unshift(i.toUpperCase()+":"),r&&(l=`%c${t}`,n.unshift(r)),n.unshift(l+":"),ci){ci.push([].concat(n));const c=ci.length-1e3;ci.splice(0,c>0?c:0)}if(!$.console)return;let u=$.console[i];!u&&i==="debug"&&(u=$.console.info||$.console.log),!(!u||!a||!o.test(i))&&u[Array.isArray(n)?"apply":"call"]($.console,n)};function Tp(t,e=":",r=""){let i="info",s;function n(...a){s("log",i,a)}return s=cL(t,n,r),n.createLogger=(a,o,l)=>{const u=o!==void 0?o:e,c=l!==void 0?l:r,h=`${t} ${u} ${a}`;return Tp(h,u,c)},n.createNewLogger=(a,o,l)=>Tp(a,o,l),n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},n.level=a=>{if(typeof a=="string"){if(!n.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);i=a}return i},n.history=()=>ci?[].concat(ci):[],n.history.filter=a=>(ci||[]).filter(o=>new RegExp(`.*${a}.*`).test(o[0])),n.history.clear=()=>{ci&&(ci.length=0)},n.history.disable=()=>{ci!==null&&(ci.length=0,ci=null)},n.history.enable=()=>{ci===null&&(ci=[])},n.error=(...a)=>s("error",i,a),n.warn=(...a)=>s("warn",i,a),n.debug=(...a)=>s("debug",i,a),n}const vt=Tp("VIDEOJS"),u8=vt.createLogger,dL=Object.prototype.toString,c8=function(t){return Fs(t)?Object.keys(t):[]};function ko(t,e){c8(t).forEach(r=>e(t[r],r))}function d8(t,e,r=0){return c8(t).reduce((i,s)=>e(i,t[s],s),r)}function Fs(t){return!!t&&typeof t=="object"}function Vo(t){return Fs(t)&&dL.call(t)==="[object Object]"&&t.constructor===Object}function Ut(...t){const e={};return t.forEach(r=>{r&&ko(r,(i,s)=>{if(!Vo(i)){e[s]=i;return}Vo(e[s])||(e[s]={}),e[s]=Ut(e[s],i)})}),e}function h8(t={}){const e=[];for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];e.push(i)}return e}function Hd(t,e,r,i=!0){const s=a=>Object.defineProperty(t,e,{value:a,enumerable:!0,writable:!0}),n={configurable:!0,enumerable:!0,get(){const a=r();return s(a),a}};return i&&(n.set=s),Object.defineProperty(t,e,n)}var hL=Object.freeze({__proto__:null,each:ko,reduce:d8,isObject:Fs,isPlain:Vo,merge:Ut,values:h8,defineLazyProperty:Hd});let a1=!1,f8=null,Us=!1,p8,m8=!1,Do=!1,Io=!1,$s=!1,o1=null,Vd=null;const fL=!!($.cast&&$.cast.framework&&$.cast.framework.CastReceiverContext);let g8=null,z0=!1,Gd=!1,q0=!1,Wd=!1,j0=!1,H0=!1,V0=!1;const Lu=!!(il()&&("ontouchstart"in $||$.navigator.maxTouchPoints||$.DocumentTouch&&$.document instanceof $.DocumentTouch)),Mn=$.navigator&&$.navigator.userAgentData;Mn&&Mn.platform&&Mn.brands&&(Us=Mn.platform==="Android",Do=!!Mn.brands.find(t=>t.brand==="Microsoft Edge"),Io=!!Mn.brands.find(t=>t.brand==="Chromium"),$s=!Do&&Io,o1=Vd=(Mn.brands.find(t=>t.brand==="Chromium")||{}).version||null,Gd=Mn.platform==="Windows");if(!Io){const t=$.navigator&&$.navigator.userAgent||"";a1=/iPod/i.test(t),f8=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Us=/Android/i.test(t),p8=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const r=e[1]&&parseFloat(e[1]),i=e[2]&&parseFloat(e[2]);return r&&i?parseFloat(e[1]+"."+e[2]):r||null}(),m8=/Firefox/i.test(t),Do=/Edg/i.test(t),Io=/Chrome/i.test(t)||/CriOS/i.test(t),$s=!Do&&Io,o1=Vd=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),g8=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let r=e&&parseFloat(e[1]);return!r&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(r=11),r}(),j0=/Tizen/i.test(t),H0=/Web0S/i.test(t),V0=j0||H0,z0=/Safari/i.test(t)&&!$s&&!Us&&!Do&&!V0,Gd=/Windows/i.test(t),q0=/iPad/i.test(t)||z0&&Lu&&!/iPhone/i.test(t),Wd=/iPhone/i.test(t)&&!q0}const ii=Wd||q0||a1,Xd=(z0||ii)&&!$s;var y8=Object.freeze({__proto__:null,get IS_IPOD(){return a1},get IOS_VERSION(){return f8},get IS_ANDROID(){return Us},get ANDROID_VERSION(){return p8},get IS_FIREFOX(){return m8},get IS_EDGE(){return Do},get IS_CHROMIUM(){return Io},get IS_CHROME(){return $s},get CHROMIUM_VERSION(){return o1},get CHROME_VERSION(){return Vd},IS_CHROMECAST_RECEIVER:fL,get IE_VERSION(){return g8},get IS_SAFARI(){return z0},get IS_WINDOWS(){return Gd},get IS_IPAD(){return q0},get IS_IPHONE(){return Wd},get IS_TIZEN(){return j0},get IS_WEBOS(){return H0},get IS_SMART_TV(){return V0},TOUCH_ENABLED:Lu,IS_IOS:ii,IS_ANY_SAFARI:Xd});function J4(t){return typeof t=="string"&&!!t.trim()}function pL(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function il(){return Se===$.document}function sl(t){return Fs(t)&&t.nodeType===1}function v8(){try{return $.parent!==$.self}catch{return!0}}function b8(t){return function(e,r){if(!J4(e))return Se[t](null);J4(r)&&(r=Se.querySelector(r));const i=sl(r)?r:Se;return i[t]&&i[t](e)}}function Je(t="div",e={},r={},i){const s=Se.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(n){const a=e[n];n==="textContent"?aa(s,a):(s[n]!==a||n==="tabIndex")&&(s[n]=a)}),Object.getOwnPropertyNames(r).forEach(function(n){s.setAttribute(n,r[n])}),i&&l1(s,i),s}function aa(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Sp(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function lu(t,e){return pL(e),t.classList.contains(e)}function Na(t,...e){return t.classList.add(...e.reduce((r,i)=>r.concat(i.split(/\s+/)),[])),t}function Kd(t,...e){return t?(t.classList.remove(...e.reduce((r,i)=>r.concat(i.split(/\s+/)),[])),t):(vt.warn("removeClass was called with an element that doesn't exist"),null)}function _8(t,e,r){return typeof r=="function"&&(r=r(t,e)),typeof r!="boolean"&&(r=void 0),e.split(/\s+/).forEach(i=>t.classList.toggle(i,r)),t}function x8(t,e){Object.getOwnPropertyNames(e).forEach(function(r){const i=e[r];i===null||typeof i>"u"||i===!1?t.removeAttribute(r):t.setAttribute(r,i===!0?"":i)})}function jn(t){const e={},r=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const i=t.attributes;for(let s=i.length-1;s>=0;s--){const n=i[s].name;let a=i[s].value;r.includes(n)&&(a=a!==null),e[n]=a}}return e}function w8(t,e){return t.getAttribute(e)}function Go(t,e,r){t.setAttribute(e,r)}function Yd(t,e){t.removeAttribute(e)}function T8(){Se.body.focus(),Se.onselectstart=function(){return!1}}function S8(){Se.onselectstart=function(){return!0}}function Wo(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(i=>{e[i]!==void 0&&(r[i]=e[i])}),r.height||(r.height=parseFloat(Xo(t,"height"))),r.width||(r.width=parseFloat(Xo(t,"width"))),r}}function Pu(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,r=t.offsetHeight;let i=0,s=0;for(;t.offsetParent&&t!==Se[$0.fullscreenElement];)i+=t.offsetLeft,s+=t.offsetTop,t=t.offsetParent;return{left:i,top:s,width:e,height:r}}function Qd(t,e){const r={x:0,y:0};if(ii){let c=t;for(;c&&c.nodeName.toLowerCase()!=="html";){const h=Xo(c,"transform");if(/^matrix/.test(h)){const f=h.slice(7,-1).split(/,\s/).map(Number);r.x+=f[4],r.y+=f[5]}else if(/^matrix3d/.test(h)){const f=h.slice(9,-1).split(/,\s/).map(Number);r.x+=f[12],r.y+=f[13]}if(c.assignedSlot&&c.assignedSlot.parentElement&&$.WebKitCSSMatrix){const f=$.getComputedStyle(c.assignedSlot.parentElement).transform,y=new $.WebKitCSSMatrix(f);r.x+=y.m41,r.y+=y.m42}c=c.parentNode||c.host}}const i={},s=Pu(e.target),n=Pu(t),a=n.width,o=n.height;let l=e.offsetY-(n.top-s.top),u=e.offsetX-(n.left-s.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-n.left,l=e.changedTouches[0].pageY+n.top,ii&&(u-=r.x,l-=r.y)),i.y=1-Math.max(0,Math.min(1,l/o)),i.x=Math.max(0,Math.min(1,u/a)),i}function C8(t){return Fs(t)&&t.nodeType===3}function Zd(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function E8(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),sl(e)||C8(e))return e;if(typeof e=="string"&&/\S/.test(e))return Se.createTextNode(e)}).filter(e=>e)}function l1(t,e){return E8(e).forEach(r=>t.appendChild(r)),t}function A8(t,e){return l1(Zd(t),e)}function Mu(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const Qn=b8("querySelector"),k8=b8("querySelectorAll");function Xo(t,e){if(!t||!e)return"";if(typeof $.getComputedStyle=="function"){let r;try{r=$.getComputedStyle(t)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}function D8(t){[...Se.styleSheets].forEach(e=>{try{const r=[...e.cssRules].map(s=>s.cssText).join(""),i=Se.createElement("style");i.textContent=r,t.document.head.appendChild(i)}catch{const i=Se.createElement("link");i.rel="stylesheet",i.type=e.type,i.media=e.media.mediaText,i.href=e.href,t.document.head.appendChild(i)}})}var I8=Object.freeze({__proto__:null,isReal:il,isEl:sl,isInFrame:v8,createEl:Je,textContent:aa,prependTo:Sp,hasClass:lu,addClass:Na,removeClass:Kd,toggleClass:_8,setAttributes:x8,getAttributes:jn,getAttribute:w8,setAttribute:Go,removeAttribute:Yd,blockTextSelection:T8,unblockTextSelection:S8,getBoundingClientRect:Wo,findPosition:Pu,getPointerPosition:Qd,isTextNode:C8,emptyEl:Zd,normalizeContent:E8,appendContent:l1,insertContent:A8,isSingleLeftClick:Mu,$:Qn,$$:k8,computedStyle:Xo,copyStyleSheetsToWindow:D8});let L8=!1,Cp;const mL=function(){if(Cp.options.autoSetup===!1)return;const t=Array.prototype.slice.call(Se.getElementsByTagName("video")),e=Array.prototype.slice.call(Se.getElementsByTagName("audio")),r=Array.prototype.slice.call(Se.getElementsByTagName("video-js")),i=t.concat(e,r);if(i&&i.length>0)for(let s=0,n=i.length;s<n;s++){const a=i[s];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&Cp(a);else{Ep(1);break}}else L8||Ep(1)};function Ep(t,e){il()&&(e&&(Cp=e),$.setTimeout(mL,t))}function Ap(){L8=!0,$.removeEventListener("load",Ap)}il()&&(Se.readyState==="complete"?Ap():$.addEventListener("load",Ap));const P8=function(t){const e=Se.createElement("style");return e.className=t,e},M8=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var ei=new WeakMap;const gL=3;let yL=gL;function Gi(){return yL++}function ey(t,e){if(!ei.has(t))return;const r=ei.get(t);r.handlers[e].length===0&&(delete r.handlers[e],t.removeEventListener?t.removeEventListener(e,r.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&ei.delete(t)}function u1(t,e,r,i){r.forEach(function(s){t(e,s,i)})}function Jd(t){if(t.fixed_)return t;function e(){return!0}function r(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const i=t||$.event;t={};const s=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const n in i)s.includes(n)||n==="returnValue"&&i.preventDefault||(t[n]=i[n]);if(t.target||(t.target=t.srcElement||Se),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=r,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=r,t.clientX!==null&&t.clientX!==void 0){const n=Se.documentElement,a=Se.body;t.pageX=t.clientX+(n&&n.scrollLeft||a&&a.scrollLeft||0)-(n&&n.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(n&&n.scrollTop||a&&a.scrollTop||0)-(n&&n.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let Gc;const vL=function(){if(typeof Gc!="boolean"){Gc=!1;try{const t=Object.defineProperty({},"passive",{get(){Gc=!0}});$.addEventListener("test",null,t),$.removeEventListener("test",null,t)}catch{}}return Gc},bL=["touchstart","touchmove"];function Li(t,e,r){if(Array.isArray(e))return u1(Li,t,e,r);ei.has(t)||ei.set(t,{});const i=ei.get(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),r.guid||(r.guid=Gi()),i.handlers[e].push(r),i.dispatcher||(i.disabled=!1,i.dispatcher=function(s,n){if(i.disabled)return;s=Jd(s);const a=i.handlers[s.type];if(a){const o=a.slice(0);for(let l=0,u=o.length;l<u&&!s.isImmediatePropagationStopped();l++)try{o[l].call(t,s,n)}catch(c){vt.error(c)}}}),i.handlers[e].length===1)if(t.addEventListener){let s=!1;vL()&&bL.indexOf(e)>-1&&(s={passive:!0}),t.addEventListener(e,i.dispatcher,s)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function Fr(t,e,r){if(!ei.has(t))return;const i=ei.get(t);if(!i.handlers)return;if(Array.isArray(e))return u1(Fr,t,e,r);const s=function(a,o){i.handlers[o]=[],ey(a,o)};if(e===void 0){for(const a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&s(t,a);return}const n=i.handlers[e];if(n){if(!r){s(t,e);return}if(r.guid)for(let a=0;a<n.length;a++)n[a].guid===r.guid&&n.splice(a--,1);ey(t,e)}}function nl(t,e,r){const i=ei.has(t)?ei.get(t):{},s=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=Jd(e),i.dispatcher&&i.dispatcher.call(t,e,r),s&&!e.isPropagationStopped()&&e.bubbles===!0)nl.call(null,s,e,r);else if(!s&&!e.defaultPrevented&&e.target&&e.target[e.type]){ei.has(e.target)||ei.set(e.target,{});const n=ei.get(e.target);e.target[e.type]&&(n.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),n.disabled=!1)}return!e.defaultPrevented}function eh(t,e,r){if(Array.isArray(e))return u1(eh,t,e,r);const i=function(){Fr(t,e,i),r.apply(this,arguments)};i.guid=r.guid=r.guid||Gi(),Li(t,e,i)}function c1(t,e,r){const i=function(){Fr(t,e,i),r.apply(this,arguments)};i.guid=r.guid=r.guid||Gi(),Li(t,e,i)}var _L=Object.freeze({__proto__:null,fixEvent:Jd,on:Li,off:Fr,trigger:nl,one:eh,any:c1});const Wi=30,jt=function(t,e,r){e.guid||(e.guid=Gi());const i=e.bind(t);return i.guid=r?r+"_"+e.guid:e.guid,i},zs=function(t,e){let r=$.performance.now();return function(...s){const n=$.performance.now();n-r>=e&&(t(...s),r=n)}},R8=function(t,e,r,i=$){let s;const n=()=>{i.clearTimeout(s),s=null},a=function(){const o=this,l=arguments;let u=function(){s=null,u=null,r||t.apply(o,l)};!s&&r&&t.apply(o,l),i.clearTimeout(s),s=i.setTimeout(u,e)};return a.cancel=n,a};var xL=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Wi,bind_:jt,throttle:zs,debounce:R8});let Bl;class Pi{on(e,r){const i=this.addEventListener;this.addEventListener=()=>{},Li(this,e,r),this.addEventListener=i}off(e,r){Fr(this,e,r)}one(e,r){const i=this.addEventListener;this.addEventListener=()=>{},eh(this,e,r),this.addEventListener=i}any(e,r){const i=this.addEventListener;this.addEventListener=()=>{},c1(this,e,r),this.addEventListener=i}trigger(e){const r=e.type||e;typeof e=="string"&&(e={type:r}),e=Jd(e),this.allowedEvents_[r]&&this["on"+r]&&this["on"+r](e),nl(this,e)}queueTrigger(e){Bl||(Bl=new Map);const r=e.type||e;let i=Bl.get(this);i||(i=new Map,Bl.set(this,i));const s=i.get(r);i.delete(r),$.clearTimeout(s);const n=$.setTimeout(()=>{i.delete(r),i.size===0&&(i=null,Bl.delete(this)),this.trigger(e)},0);i.set(r,n)}}Pi.prototype.allowedEvents_={};Pi.prototype.addEventListener=Pi.prototype.on;Pi.prototype.removeEventListener=Pi.prototype.off;Pi.prototype.dispatchEvent=Pi.prototype.trigger;const th=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,ln=t=>t instanceof Pi||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),wL=(t,e)=>{ln(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},kp=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,G0=(t,e,r)=>{if(!t||!t.nodeName&&!ln(t))throw new Error(`Invalid target for ${th(e)}#${r}; must be a DOM node or evented object.`)},O8=(t,e,r)=>{if(!kp(t))throw new Error(`Invalid event type for ${th(e)}#${r}; must be a non-empty string or array.`)},N8=(t,e,r)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${th(e)}#${r}; must be a function.`)},lf=(t,e,r)=>{const i=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let s,n,a;return i?(s=t.eventBusEl_,e.length>=3&&e.shift(),[n,a]=e):(s=e[0],n=e[1],a=e[2]),G0(s,t,r),O8(n,t,r),N8(a,t,r),a=jt(t,a),{isTargetingSelf:i,target:s,type:n,listener:a}},ba=(t,e,r,i)=>{G0(t,t,e),t.nodeName?_L[e](t,r,i):t[e](r,i)},TL={on(...t){const{isTargetingSelf:e,target:r,type:i,listener:s}=lf(this,t,"on");if(ba(r,"on",i,s),!e){const n=()=>this.off(r,i,s);n.guid=s.guid;const a=()=>this.off("dispose",n);a.guid=s.guid,ba(this,"on","dispose",n),ba(r,"on","dispose",a)}},one(...t){const{isTargetingSelf:e,target:r,type:i,listener:s}=lf(this,t,"one");if(e)ba(r,"one",i,s);else{const n=(...a)=>{this.off(r,i,n),s.apply(null,a)};n.guid=s.guid,ba(r,"one",i,n)}},any(...t){const{isTargetingSelf:e,target:r,type:i,listener:s}=lf(this,t,"any");if(e)ba(r,"any",i,s);else{const n=(...a)=>{this.off(r,i,n),s.apply(null,a)};n.guid=s.guid,ba(r,"any",i,n)}},off(t,e,r){if(!t||kp(t))Fr(this.eventBusEl_,t,e);else{const i=t,s=e;G0(i,this,"off"),O8(s,this,"off"),N8(r,this,"off"),r=jt(this,r),this.off("dispose",r),i.nodeName?(Fr(i,s,r),Fr(i,"dispose",r)):ln(i)&&(i.off(s,r),i.off("dispose",r))}},trigger(t,e){G0(this.eventBusEl_,this,"trigger");const r=t&&typeof t!="string"?t.type:t;if(!kp(r))throw new Error(`Invalid event type for ${th(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return nl(this.eventBusEl_,t,e)}};function d1(t,e={}){const{eventBusKey:r}=e;if(r){if(!t[r].nodeName)throw new Error(`The eventBusKey "${r}" does not refer to an element.`);t.eventBusEl_=t[r]}else t.eventBusEl_=Je("span",{className:"vjs-event-bus"});return Object.assign(t,TL),t.eventedCallbacks&&t.eventedCallbacks.forEach(i=>{i()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(i){i&&ei.has(i)&&ei.delete(i)}),$.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const SL={state:{},setState(t){typeof t=="function"&&(t=t());let e;return ko(t,(r,i)=>{this.state[i]!==r&&(e=e||{},e[i]={from:this.state[i],to:r}),this.state[i]=r}),e&&ln(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function B8(t,e){return Object.assign(t,SL),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&ln(t)&&t.on("statechanged",t.handleStateChanged),t}const uu=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},rr=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},F8=function(t,e){return rr(t)===rr(e)};var CL=Object.freeze({__proto__:null,toLowerCase:uu,toTitleCase:rr,titleCaseEquals:F8});class le{constructor(e,r,i){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Ut({},this.options_),r=this.options_=Ut(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){const s=e&&e.id&&e.id()||"no_player";this.id_=`${s}_component_${Gi()}`}this.name_=r.name||null,r.el?this.el_=r.el:r.createEl!==!1&&(this.el_=this.createEl()),r.className&&this.el_&&r.className.split(" ").forEach(s=>this.addClass(s)),["on","off","one","any","trigger"].forEach(s=>{this[s]=void 0}),r.evented!==!1&&(d1(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),B8(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,r.initChildren!==!1&&this.initChildren(),this.ready(i),r.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Ut(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,r,i){return Je(e,r,i)}localize(e,r,i=e){const s=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages(),a=n&&n[s],o=s&&s.split("-")[0],l=n&&n[o];let u=i;return a&&a[e]?u=a[e]:l&&l[e]&&(u=l[e]),r&&(u=u.replace(/\{(\d+)\}/g,function(c,h){const f=r[h-1];let y=f;return typeof f>"u"&&(y=c),y})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((i,s)=>i.concat(s),[]);let r=this;for(let i=0;i<e.length;i++)if(r=r.getChild(e[i]),!r||!r.getChild)return;return r}setIcon(e,r=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const i="http://www.w3.org/2000/svg",s=Je("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),n=Se.createElementNS(i,"svg");n.setAttributeNS(null,"viewBox","0 0 512 512");const a=Se.createElementNS(i,"use");return n.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),s.appendChild(n),this.iconIsSet_?r.replaceChild(s,r.querySelector(".vjs-icon-placeholder")):r.appendChild(s),this.iconIsSet_=!0,s}addChild(e,r={},i=this.children_.length){let s,n;if(typeof e=="string"){n=rr(e);const a=r.componentClass||n;r.name=n;const o=le.getComponent(a);if(!o)throw new Error(`Component ${a} does not exist`);if(typeof o!="function")return null;s=new o(this.player_||this,r)}else s=e;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(i,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),n=n||s.name&&rr(s.name()),n&&(this.childNameIndex_[n]=s,this.childNameIndex_[uu(n)]=s),typeof s.el=="function"&&s.el()){let a=null;this.children_[i+1]&&(this.children_[i+1].el_?a=this.children_[i+1].el_:sl(this.children_[i+1])&&(a=this.children_[i+1])),this.contentEl().insertBefore(s.el(),a)}return s}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let r=!1;for(let s=this.children_.length-1;s>=0;s--)if(this.children_[s]===e){r=!0,this.children_.splice(s,1);break}if(!r)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[rr(e.name())]=null,this.childNameIndex_[uu(e.name())]=null;const i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const r=this.options_,i=a=>{const o=a.name;let l=a.opts;if(r[o]!==void 0&&(l=r[o]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const u=this.addChild(o,l);u&&(this[o]=u)};let s;const n=le.getComponent("Tech");Array.isArray(e)?s=e:s=Object.keys(e),s.concat(Object.keys(this.options_).filter(function(a){return!s.some(function(o){return typeof o=="string"?a===o:a===o.name})})).map(a=>{let o,l;return typeof a=="string"?(o=a,l=e[o]||this.options_[o]||{}):(o=a.name,l=a),{name:o,opts:l}}).filter(a=>{const o=le.getComponent(a.opts.componentClass||rr(a.name));return o&&!n.isTech(o)}).forEach(i)}}buildCSSClass(){return""}ready(e,r=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}r?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)}$(e,r){return Qn(e,r||this.contentEl())}$$(e,r){return k8(e,r||this.contentEl())}hasClass(e){return lu(this.el_,e)}addClass(...e){Na(this.el_,...e)}removeClass(...e){Kd(this.el_,...e)}toggleClass(e,r){_8(this.el_,e,r)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return w8(this.el_,e)}setAttribute(e,r){Go(this.el_,e,r)}removeAttribute(e){Yd(this.el_,e)}width(e,r){return this.dimension("width",e,r)}height(e,r){return this.dimension("height",e,r)}dimensions(e,r){this.width(e,!0),this.height(r)}dimension(e,r,i){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[e]=r:r==="auto"?this.el_.style[e]="":this.el_.style[e]=r+"px",i||this.trigger("componentresize");return}if(!this.el_)return 0;const s=this.el_.style[e],n=s.indexOf("px");return parseInt(n!==-1?s.slice(0,n):this.el_["offset"+rr(e)],10)}currentDimension(e){let r=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(r=Xo(this.el_,e),r=parseFloat(r),r===0||isNaN(r)){const i=`offset${rr(e)}`;r=this.el_[i]}return r}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),r={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},i={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:r,center:i}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,r=null;const i=10,s=200;let n;this.on("touchstart",function(o){o.touches.length===1&&(r={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e=$.performance.now(),n=!0)}),this.on("touchmove",function(o){if(o.touches.length>1)n=!1;else if(r){const l=o.touches[0].pageX-r.pageX,u=o.touches[0].pageY-r.pageY;Math.sqrt(l*l+u*u)>i&&(n=!1)}});const a=function(){n=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(o){r=null,n===!0&&$.performance.now()-e<s&&(o.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=jt(this.player(),this.player().reportUserActivity);let r;this.on("touchstart",function(){e(),this.clearInterval(r),r=this.setInterval(e,250)});const i=function(s){e(),this.clearInterval(r)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}setTimeout(e,r){var i;return e=jt(this,e),this.clearTimersOnDispose_(),i=$.setTimeout(()=>{this.setTimeoutIds_.has(i)&&this.setTimeoutIds_.delete(i),e()},r),this.setTimeoutIds_.add(i),i}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),$.clearTimeout(e)),e}setInterval(e,r){e=jt(this,e),this.clearTimersOnDispose_();const i=$.setInterval(e,r);return this.setIntervalIds_.add(i),i}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),$.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var r;return e=jt(this,e),r=$.requestAnimationFrame(()=>{this.rafIds_.has(r)&&this.rafIds_.delete(r),e()}),this.rafIds_.add(r),r}requestNamedAnimationFrame(e,r){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),r=jt(this,r);const i=this.requestAnimationFrame(()=>{r(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,i),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),$.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,r])=>{this[e].forEach((i,s)=>this[r](s))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function r(n){const a=$.getComputedStyle(n,null),o=a.getPropertyValue("visibility");return a.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(o)}function i(n){return!(!r(n.parentElement)||!r(n)||n.style.opacity==="0"||$.getComputedStyle(n).height==="0px"||$.getComputedStyle(n).width==="0px")}function s(n){if(n.offsetWidth+n.offsetHeight+n.getBoundingClientRect().height+n.getBoundingClientRect().width===0)return!1;const a={x:n.getBoundingClientRect().left+n.offsetWidth/2,y:n.getBoundingClientRect().top+n.offsetHeight/2};if(a.x<0||a.x>(Se.documentElement.clientWidth||$.innerWidth)||a.y<0||a.y>(Se.documentElement.clientHeight||$.innerHeight))return!1;let o=Se.elementFromPoint(a.x,a.y);for(;o;){if(o===n)return!0;if(o.parentNode)o=o.parentNode;else return!1}}return e||(e=this.el()),!!(s(e)&&i(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,r){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const i=le.getComponent("Tech"),s=i&&i.isTech(r),n=le===r||le.prototype.isPrototypeOf(r.prototype);if(s||!n){let o;throw s?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error(`Illegal component, "${e}"; ${o}.`)}e=rr(e),le.components_||(le.components_={});const a=le.getComponent("Player");if(e==="Player"&&a&&a.players){const o=a.players,l=Object.keys(o);if(o&&l.length>0&&l.map(u=>o[u]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return le.components_[e]=r,le.components_[uu(e)]=r,r}static getComponent(e){if(!(!e||!le.components_))return le.components_[e]}}le.registerComponent("Component",le);function EL(t,e,r){if(typeof e!="number"||e<0||e>r)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${r}).`)}function ty(t,e,r,i){return EL(t,i,r.length-1),r[i][e]}function uf(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:ty.bind(null,"start",0,t),end:ty.bind(null,"end",1,t)},$.Symbol&&$.Symbol.iterator&&(e[$.Symbol.iterator]=()=>(t||[]).values()),e}function cs(t,e){return Array.isArray(t)?uf(t):t===void 0||e===void 0?uf():uf([[t,e]])}const U8=function(t,e){t=t<0?0:t;let r=Math.floor(t%60),i=Math.floor(t/60%60),s=Math.floor(t/3600);const n=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(s=i=r="-"),s=s>0||a>0?s+":":"",i=((s||n>=10)&&i<10?"0"+i:i)+":",r=r<10?"0"+r:r,s+i+r};let h1=U8;function $8(t){h1=t}function z8(){h1=U8}function Va(t,e=t){return h1(t,e)}var AL=Object.freeze({__proto__:null,createTimeRanges:cs,createTimeRange:cs,setFormatTime:$8,resetFormatTime:z8,formatTime:Va});function q8(t,e){let r=0,i,s;if(!e)return 0;(!t||!t.length)&&(t=cs(0,0));for(let n=0;n<t.length;n++)i=t.start(n),s=t.end(n),s>e&&(s=e),r+=s-i;return r/e}function Jt(t){if(t instanceof Jt)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Fs(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=Jt.defaultMessages[this.code]||"")}Jt.prototype.code=0;Jt.prototype.message="";Jt.prototype.status=null;Jt.prototype.metadata=null;Jt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Jt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};Jt.MEDIA_ERR_CUSTOM=0;Jt.prototype.MEDIA_ERR_CUSTOM=0;Jt.MEDIA_ERR_ABORTED=1;Jt.prototype.MEDIA_ERR_ABORTED=1;Jt.MEDIA_ERR_NETWORK=2;Jt.prototype.MEDIA_ERR_NETWORK=2;Jt.MEDIA_ERR_DECODE=3;Jt.prototype.MEDIA_ERR_DECODE=3;Jt.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Jt.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Jt.MEDIA_ERR_ENCRYPTED=5;Jt.prototype.MEDIA_ERR_ENCRYPTED=5;function cu(t){return t!=null&&typeof t.then=="function"}function As(t){cu(t)&&t.then(null,e=>{})}const Dp=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((r,i,s)=>(t[i]&&(r[i]=t[i]),r),{cues:t.cues&&Array.prototype.map.call(t.cues,function(r){return{startTime:r.startTime,endTime:r.endTime,text:r.text,id:r.id}})})},kL=function(t){const e=t.$$("track"),r=Array.prototype.map.call(e,s=>s.track);return Array.prototype.map.call(e,function(s){const n=Dp(s.track);return s.src&&(n.src=s.src),n}).concat(Array.prototype.filter.call(t.textTracks(),function(s){return r.indexOf(s)===-1}).map(Dp))},DL=function(t,e){return t.forEach(function(r){const i=e.addRemoteTextTrack(r).track;!r.src&&r.cues&&r.cues.forEach(s=>i.addCue(s))}),e.textTracks()};var ry={textTracksToJson:kL,jsonToTextTracks:DL,trackToJson_:Dp};const cf="vjs-modal-dialog";class al extends le{constructor(e,r){super(e,r),this.handleKeyDown_=i=>this.handleKeyDown(i),this.close_=i=>this.close(i),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=Je("div",{className:`${cf}-content`},{role:"document"}),this.descEl_=Je("p",{className:`${cf}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),aa(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${cf} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const r=this.closeable_=!!e;let i=this.getChild("closeButton");if(r&&!i){const s=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=s,this.on(i,"close",this.close_)}!r&&i&&(this.off(i,"close",this.close_),this.removeChild(i),i.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const r=this.contentEl(),i=r.parentNode,s=r.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(r),this.empty(),A8(r,e),this.trigger("modalfill"),s?i.insertBefore(r,s):i.appendChild(r);const n=this.getChild("closeButton");n&&i.appendChild(n.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),Zd(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Se.activeElement,r=this.player_.el_;this.previouslyActiveEl_=null,(r.contains(e)||r===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const r=this.focusableEls_(),i=this.el_.querySelector(":focus");let s;for(let n=0;n<r.length;n++)if(i===r[n]){s=n;break}Se.activeElement===this.el_&&(s=0),e.shiftKey&&s===0?(r[r.length-1].focus(),e.preventDefault()):!e.shiftKey&&s===r.length-1&&(r[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,r=>(r instanceof $.HTMLAnchorElement||r instanceof $.HTMLAreaElement)&&r.hasAttribute("href")||(r instanceof $.HTMLInputElement||r instanceof $.HTMLSelectElement||r instanceof $.HTMLTextAreaElement||r instanceof $.HTMLButtonElement)&&!r.hasAttribute("disabled")||r instanceof $.HTMLIFrameElement||r instanceof $.HTMLObjectElement||r instanceof $.HTMLEmbedElement||r.hasAttribute("tabindex")&&r.getAttribute("tabindex")!==-1||r.hasAttribute("contenteditable"))}}al.prototype.options_={pauseOnOpen:!0,temporary:!0};le.registerComponent("ModalDialog",al);class Ko extends Pi{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let r=0;r<e.length;r++)this.addTrack(e[r])}addTrack(e){const r=this.tracks_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.tracks_[r]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},ln(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let r;for(let i=0,s=this.length;i<s;i++)if(this[i]===e){r=this[i],r.off&&r.off(),this.tracks_.splice(i,1);break}r&&this.trigger({track:r,type:"removetrack",target:this})}getTrackById(e){let r=null;for(let i=0,s=this.length;i<s;i++){const n=this[i];if(n.id===e){r=n;break}}return r}}Ko.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in Ko.prototype.allowedEvents_)Ko.prototype["on"+t]=null;const df=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].enabled=!1)};class IL extends Ko{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].enabled){df(e,e[r]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&df(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,df(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const hf=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].selected=!1)};class LL extends Ko{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].selected){hf(e,e[r]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let r=0;r<this.length;r++)if(this[r].selected)return r;return-1},set(){}})}addTrack(e){e.selected&&hf(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,hf(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class j8 extends Ko{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class PL{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let r=0,i=e.length;r<i;r++)this.addTrackElement_(e[r])}addTrackElement_(e){const r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.trackElements_[r]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let r;for(let i=0,s=this.trackElements_.length;i<s;i++)if(e===this.trackElements_[i].track){r=this.trackElements_[i];break}return r}removeTrackElement_(e){for(let r=0,i=this.trackElements_.length;r<i;r++)if(e===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}}}class W0{constructor(e){W0.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const r=this.length||0;let i=0;const s=e.length;this.cues_=e,this.length_=e.length;const n=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(r<s)for(i=r;i<s;i++)n.call(this,i)}getCueById(e){let r=null;for(let i=0,s=this.length;i<s;i++){const n=this[i];if(n.id===e){r=n;break}}return r}}const ML={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},RL={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},OL={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},iy={disabled:"disabled",hidden:"hidden",showing:"showing"};class f1 extends Pi{constructor(e={}){super();const r={id:e.id||"vjs_track_"+Gi(),kind:e.kind||"",language:e.language||""};let i=e.label||"";for(const s in r)Object.defineProperty(this,s,{get(){return r[s]},set(){}});Object.defineProperty(this,"label",{get(){return i},set(s){s!==i&&(i=s,this.trigger("labelchange"))}})}}const p1=function(t){return new URL(t,Se.baseURI)},H8=function(t){return new URL(t,Se.baseURI).href},m1=function(t){if(typeof t=="string"){const r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(r)return r.pop().toLowerCase()}return""},rh=function(t,e=$.location){return p1(t).origin!==e.origin};var NL=Object.freeze({__proto__:null,parseUrl:p1,getAbsoluteURL:H8,getFileExtension:m1,isCrossOrigin:rh});const sy=function(t,e){const r=new $.WebVTT.Parser($,$.vttjs,$.WebVTT.StringDecoder()),i=[];r.oncue=function(s){e.addCue(s)},r.onparsingerror=function(s){i.push(s)},r.onflush=function(){e.trigger({type:"loadeddata",target:e})},r.parse(t),i.length>0&&($.console&&$.console.groupCollapsed&&$.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),i.forEach(s=>vt.error(s)),$.console&&$.console.groupEnd&&$.console.groupEnd()),r.flush()},ny=function(t,e){const r={uri:t},i=rh(t);i&&(r.cors=i);const s=e.tech_.crossOrigin()==="use-credentials";s&&(r.withCredentials=s),h6(r,jt(this,function(n,a,o){if(n)return vt.error(n,a);e.loaded_=!0,typeof $.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){vt.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return sy(o,e)}):sy(o,e)}))};class Wu extends f1{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const r=Ut(e,{kind:OL[e.kind]||"subtitles",language:e.language||e.srclang||""});let i=iy[r.mode]||"disabled";const s=r.default;(r.kind==="metadata"||r.kind==="chapters")&&(i="hidden"),super(r),this.tech_=r.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const n=new W0(this.cues_),a=new W0(this.activeCues_);let o=!1;this.timeupdateHandler=jt(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),i!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return s},set(){}},mode:{get(){return i},set(u){iy[u]&&i!==u&&(i=u,!this.preload_&&i!=="disabled"&&this.cues.length===0&&ny(this.src,this),this.stopTracking(),i!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?n:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const u=this.tech_.currentTime(),c=[];for(let h=0,f=this.cues.length;h<f;h++){const y=this.cues[h];y.startTime<=u&&y.endTime>=u&&c.push(y)}if(o=!1,c.length!==this.activeCues_.length)o=!0;else for(let h=0;h<c.length;h++)this.activeCues_.indexOf(c[h])===-1&&(o=!0);return this.activeCues_=c,a.setCues_(this.activeCues_),a},set(){}}}),r.src?(this.src=r.src,this.preload_||(this.loaded_=!0),(this.preload_||r.kind!=="subtitles"&&r.kind!=="captions")&&ny(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let r=e;if(!("getCueAsHTML"in r)){r=new $.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const s in e)s in r||(r[s]=e[s]);r.id=e.id,r.originalCue_=e}const i=this.tech_.textTracks();for(let s=0;s<i.length;s++)i[s]!==this&&i[s].removeCue(r);this.cues_.push(r),this.cues.setCues_(this.cues_)}removeCue(e){let r=this.cues_.length;for(;r--;){const i=this.cues_[r];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(r,1),this.cues.setCues_(this.cues_);break}}}}Wu.prototype.allowedEvents_={cuechange:"cuechange"};class V8 extends f1{constructor(e={}){const r=Ut(e,{kind:RL[e.kind]||""});super(r);let i=!1;Object.defineProperty(this,"enabled",{get(){return i},set(s){typeof s!="boolean"||s===i||(i=s,this.trigger("enabledchange"))}}),r.enabled&&(this.enabled=r.enabled),this.loaded_=!0}}class G8 extends f1{constructor(e={}){const r=Ut(e,{kind:ML[e.kind]||""});super(r);let i=!1;Object.defineProperty(this,"selected",{get(){return i},set(s){typeof s!="boolean"||s===i||(i=s,this.trigger("selectedchange"))}}),r.selected&&(this.selected=r.selected)}}class gn extends Pi{constructor(e={}){super();let r;const i=new Wu(e);this.kind=i.kind,this.src=i.src,this.srclang=i.language,this.label=i.label,this.default=i.default,Object.defineProperties(this,{readyState:{get(){return r}},track:{get(){return i}}}),r=gn.NONE,i.addEventListener("loadeddata",()=>{r=gn.LOADED,this.trigger({type:"load",target:this})})}}gn.prototype.allowedEvents_={load:"load"};gn.NONE=0;gn.LOADING=1;gn.LOADED=2;gn.ERROR=3;const ji={audio:{ListClass:IL,TrackClass:V8,capitalName:"Audio"},video:{ListClass:LL,TrackClass:G8,capitalName:"Video"},text:{ListClass:j8,TrackClass:Wu,capitalName:"Text"}};Object.keys(ji).forEach(function(t){ji[t].getterName=`${t}Tracks`,ji[t].privateName=`${t}Tracks_`});const Yo={remoteText:{ListClass:j8,TrackClass:Wu,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:PL,TrackClass:gn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Qr=Object.assign({},ji,Yo);Yo.names=Object.keys(Yo);ji.names=Object.keys(ji);Qr.names=[].concat(Yo.names).concat(ji.names);function BL(t,e,r,i,s={}){const n=t.textTracks();s.kind=e,r&&(s.label=r),i&&(s.language=i),s.tech=t;const a=new Qr.text.TrackClass(s);return n.addTrack(a),a}class dt extends le{constructor(e={},r=function(){}){e.reportTouchActivity=!1,super(null,e,r),this.onDurationChange_=i=>this.onDurationChange(i),this.trackProgress_=i=>this.trackProgress(i),this.trackCurrentTime_=i=>this.trackCurrentTime(i),this.stopTrackingCurrentTime_=i=>this.stopTrackingCurrentTime(i),this.disposeSourceHandler_=i=>this.disposeSourceHandler(i),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Qr.names.forEach(i=>{const s=Qr[i];e&&e[s.getterName]&&(this[s.privateName]=e[s.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(i=>{e[`native${i}Tracks`]===!1&&(this[`featuresNative${i}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Qr.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(jt(this,function(){const r=this.bufferedPercent();this.bufferedPercent_!==r&&this.trigger("progress"),this.bufferedPercent_=r,r===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return cs(0,0)}bufferedPercent(){return q8(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(ji.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(r=>{const i=this[`${r}Tracks`]()||[];let s=i.length;for(;s--;){const n=i[s];r==="text"&&this.removeRemoteTextTrack(n),i.removeTrack(n)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let r=e.length;for(;r--;){const i=e[r];this.removeRemoteTextTrack(i)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new Jt(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?cs(0,0):cs()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){ji.names.forEach(e=>{const r=ji[e],i=()=>{this.trigger(`${e}trackchange`)},s=this[r.getterName]();s.addEventListener("removetrack",i),s.addEventListener("addtrack",i),this.on("dispose",()=>{s.removeEventListener("removetrack",i),s.removeEventListener("addtrack",i)})})}addWebVttScript_(){if(!$.WebVTT)if(Se.body.contains(this.el())){if(!this.options_["vtt.js"]&&Vo(x4)&&Object.keys(x4).length>0){this.trigger("vttjsloaded");return}const e=Se.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),$.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),r=this.remoteTextTracks(),i=o=>e.addTrack(o.track),s=o=>e.removeTrack(o.track);r.on("addtrack",i),r.on("removetrack",s),this.addWebVttScript_();const n=()=>this.trigger("texttrackchange"),a=()=>{n();for(let o=0;o<e.length;o++){const l=e[o];l.removeEventListener("cuechange",n),l.mode==="showing"&&l.addEventListener("cuechange",n)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){r.off("addtrack",i),r.off("removetrack",s),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let o=0;o<e.length;o++)e[o].removeEventListener("cuechange",n)})}addTextTrack(e,r,i){if(!e)throw new Error("TextTrack kind is required but was not provided");return BL(this,e,r,i)}createRemoteTextTrack(e){const r=Ut(e,{tech:this});return new Yo.remoteTextEl.TrackClass(r)}addRemoteTextTrack(e={},r){const i=this.createRemoteTextTrack(e);return typeof r!="boolean"&&(r=!1),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),r===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(i.track)),i}removeRemoteTextTrack(e){const r=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(r),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const r=Gi();return!this.isReady_||this.paused()?(this.queuedHanders_.add(r),this.one("playing",()=>{this.queuedHanders_.has(r)&&(this.queuedHanders_.delete(r),e())})):this.requestNamedAnimationFrame(r,e),r}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,r){return dt.canPlayType(e.type)}static isTech(e){return e.prototype instanceof dt||e instanceof dt||e===dt}static registerTech(e,r){if(dt.techs_||(dt.techs_={}),!dt.isTech(r))throw new Error(`Tech ${e} must be a Tech`);if(!dt.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!dt.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=rr(e),dt.techs_[e]=r,dt.techs_[uu(e)]=r,e!=="Tech"&&dt.defaultTechOrder_.push(e),r}static getTech(e){if(e){if(dt.techs_&&dt.techs_[e])return dt.techs_[e];if(e=rr(e),$&&$.videojs&&$.videojs[e])return vt.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),$.videojs[e]}}}Qr.names.forEach(function(t){const e=Qr[t];dt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});dt.prototype.featuresVolumeControl=!0;dt.prototype.featuresMuteControl=!0;dt.prototype.featuresFullscreenResize=!1;dt.prototype.featuresPlaybackRate=!1;dt.prototype.featuresProgressEvents=!1;dt.prototype.featuresSourceset=!1;dt.prototype.featuresTimeupdateEvents=!1;dt.prototype.featuresNativeTextTracks=!1;dt.prototype.featuresVideoFrameCallback=!1;dt.withSourceHandlers=function(t){t.registerSourceHandler=function(r,i){let s=t.sourceHandlers;s||(s=t.sourceHandlers=[]),i===void 0&&(i=s.length),s.splice(i,0,r)},t.canPlayType=function(r){const i=t.sourceHandlers||[];let s;for(let n=0;n<i.length;n++)if(s=i[n].canPlayType(r),s)return s;return""},t.selectSourceHandler=function(r,i){const s=t.sourceHandlers||[];let n;for(let a=0;a<s.length;a++)if(n=s[a].canHandleSource(r,i),n)return s[a];return null},t.canPlaySource=function(r,i){const s=t.selectSourceHandler(r,i);return s?s.canHandleSource(r,i):""},["seekable","seeking","duration"].forEach(function(r){const i=this[r];typeof i=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(r){let i=t.selectSourceHandler(r,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:vt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==t.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=i.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};le.registerComponent("Tech",dt);dt.registerTech("Tech",dt);dt.defaultTechOrder_=[];const Ba={},X0={},K0={};function FL(t,e){Ba[t]=Ba[t]||[],Ba[t].push(e)}function UL(t,e,r){t.setTimeout(()=>Ta(e,Ba[e.type],r,t),1)}function $L(t,e){t.forEach(r=>r.setTech&&r.setTech(e))}function zL(t,e,r){return t.reduceRight(g1(r),e[r]())}function qL(t,e,r,i){return e[r](t.reduce(g1(r),i))}function ay(t,e,r,i=null){const s="call"+rr(r),n=t.reduce(g1(s),i),a=n===K0,o=a?null:e[r](n);return VL(t,r,o,a),o}const jL={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},HL={setCurrentTime:1,setMuted:1,setVolume:1},oy={play:1,pause:1};function g1(t){return(e,r)=>e===K0?K0:r[t]?r[t](e):e}function VL(t,e,r,i){for(let s=t.length-1;s>=0;s--){const n=t[s];n[e]&&n[e](i,r)}}function GL(t){X0.hasOwnProperty(t.id())&&delete X0[t.id()]}function WL(t,e){const r=X0[t.id()];let i=null;if(r==null)return i=e(t),X0[t.id()]=[[e,i]],i;for(let s=0;s<r.length;s++){const[n,a]=r[s];n===e&&(i=a)}return i===null&&(i=e(t),r.push([e,i])),i}function Ta(t={},e=[],r,i,s=[],n=!1){const[a,...o]=e;if(typeof a=="string")Ta(t,Ba[a],r,i,s,n);else if(a){const l=WL(i,a);if(!l.setSource)return s.push(l),Ta(t,o,r,i,s,n);l.setSource(Object.assign({},t),function(u,c){if(u)return Ta(t,o,r,i,s,n);s.push(l),Ta(c,t.type===c.type?o:Ba[c.type],r,i,s,n)})}else o.length?Ta(t,o,r,i,s,n):n?r(t,s):Ta(t,Ba["*"],r,i,s,!0)}const XL={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Y0=function(t=""){const e=m1(t);return XL[e.toLowerCase()]||""},KL=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const r=t.cache_.sources.filter(s=>s.src===e);if(r.length)return r[0].type;const i=t.$$("source");for(let s=0;s<i.length;s++){const n=i[s];if(n.type&&n.src&&n.src===e)return n.type}return Y0(e)},W8=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(r){r=W8(r),Array.isArray(r)?e=e.concat(r):Fs(r)&&e.push(r)}),t=e}else typeof t=="string"&&t.trim()?t=[ly({src:t})]:Fs(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[ly(t)]:t=[];return t};function ly(t){if(!t.type){const e=Y0(t.src);e&&(t.type=e)}return t}var YL=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const uy=j0?10009:H0?461:8,fo={codes:{play:415,pause:19,ff:417,rw:412,back:uy},names:{415:"play",19:"pause",417:"ff",412:"rw",[uy]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},cy=5;class QL extends Pi{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const r=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(r.key)){if(this.isPaused_)return;r.preventDefault();const i=r.key.substring(5).toLowerCase();this.move(i)}else if(fo.isEventKey(r,"play")||fo.isEventKey(r,"pause")||fo.isEventKey(r,"ff")||fo.isEventKey(r,"rw")){r.preventDefault();const i=fo.getEventName(r);this.performMediaAction_(i)}else fo.isEventKey(r,"Back")&&e.target&&e.target.closeable()&&(r.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+cy);break;case"rw":this.userSeek_(this.player_.currentTime()-cy);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const r=e.relatedTarget;let i=null;const s=this.getCurrentComponent(e.target);r&&(i=!!r.closest(".video-js"),r.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!i||!r)&&(s&&s.name()==="CloseButton"?this.refocusComponent():(this.pause(),s&&s.el()&&(this.lastFocusedComponent_=s)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,r=[];function i(s){for(const n of s)n.hasOwnProperty("el_")&&n.getIsFocusable()&&n.getIsAvailableToBeFocused(n.el())&&r.push(n),n.hasOwnProperty("children_")&&n.children_.length>0&&i(n.children_)}return e.children_.forEach(s=>{if(s.hasOwnProperty("el_"))if(s.getIsFocusable&&s.getIsAvailableToBeFocused&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())){r.push(s);return}else s.hasOwnProperty("children_")&&s.children_.length>0?i(s.children_):s.hasOwnProperty("items")&&s.items.length>0?i(s.items):this.findSuitableDOMChild(s)&&r.push(s);if(s.name_==="ErrorDisplay"&&s.opened_){const n=s.el_.querySelector(".vjs-errors-ok-button-container");n&&n.querySelectorAll("button").forEach((o,l)=>{r.push({name:()=>"ModalButton"+(l+1),el:()=>o,getPositions:()=>{const u=o.getBoundingClientRect(),c={x:u.x,y:u.y,width:u.width,height:u.height,top:u.top,right:u.right,bottom:u.bottom,left:u.left},h={x:u.left+u.width/2,y:u.top+u.height/2,width:0,height:0,top:u.top+u.height/2,right:u.left+u.width/2,bottom:u.top+u.height/2,left:u.left+u.width/2};return{boundingClientRect:c,center:h}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:u=>!0,focus:()=>o.focus()})})}}),this.focusableComponents=r,this.focusableComponents}findSuitableDOMChild(e){function r(i){if(e.getIsFocusable(i)&&e.getIsAvailableToBeFocused(i))return i;for(let s=0;s<i.children.length;s++){const n=i.children[s],a=r(n);if(a)return a}return null}return e.el()?r(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const r=e||document.activeElement;if(this.focusableComponents.length){for(const i of this.focusableComponents)if(i.el()===r)return i}}add(e){const r=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&r.push(e),this.focusableComponents=r,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let r=0;r<this.focusableComponents.length;r++)if(this.focusableComponents[r].name()===e.name()){this.focusableComponents.splice(r,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const r=this.getCurrentComponent();if(!r)return;const i=r.getPositions(),s=this.focusableComponents.filter(a=>a!==r&&this.isInDirection_(i.boundingClientRect,a.getPositions().boundingClientRect,e)),n=this.findBestCandidate_(i.center,s,e);n?this.focus(n):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:r})}findBestCandidate_(e,r,i){let s=1/0,n=null;for(const a of r){const o=a.getPositions().center,l=this.calculateDistance_(e,o,i);l<s&&(s=l,n=a)}return n}isInDirection_(e,r,i){switch(i){case"right":return r.left>=e.right;case"left":return r.right<=e.left;case"down":return r.top>=e.bottom;case"up":return r.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,r,i){const s=Math.abs(e.x-r.x),n=Math.abs(e.y-r.y);let a;switch(i){case"right":case"left":a=s+n*100;break;case"up":a=n*2+s*.5;break;case"down":a=n*5+s;break;default:a=s+n}return a}searchForTrackSelect_(){const e=this;for(const r of e.updateFocusableComponents())if(r.constructor.name==="TextTrackSelect"){e.focus(r);break}}}class ZL extends le{constructor(e,r,i){const s=Ut({createEl:!1},r);if(super(e,s,i),!r.playerOptions.sources||r.playerOptions.sources.length===0)for(let n=0,a=r.playerOptions.techOrder;n<a.length;n++){const o=rr(a[n]);let l=dt.getTech(o);if(o||(l=le.getComponent(o)),l&&l.isSupported()){e.loadTech_(o);break}}else e.src(r.playerOptions.sources)}}le.registerComponent("MediaLoader",ZL);class ih extends le{constructor(e,r){super(e,r),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=i=>this.handleMouseOver(i),this.handleMouseOut_=i=>this.handleMouseOut(i),this.handleClick_=i=>this.handleClick(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.emitTapEvents(),this.enable()}createEl(e="div",r={},i={}){r=Object.assign({className:this.buildCSSClass(),tabIndex:0},r),e==="button"&&vt.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),i=Object.assign({role:"button"},i),this.tabIndex_=r.tabIndex;const s=Je(e,r,i);return this.player_.options_.experimentalSvgIcons||s.appendChild(Je("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=Je("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,r=this.el()){if(e===void 0)return this.controlText_||"Need Text";const i=this.localize(e);this.controlText_=e,aa(this.controlTextEl_,i),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&r.setAttribute("title",i)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}le.registerComponent("ClickableComponent",ih);class Ip extends ih{constructor(e,r){super(e,r),this.update(),this.update_=i=>this.update(i),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return Je("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const r=this.player().poster();this.setSrc(r),r?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(Je("picture",{className:"vjs-poster",tabIndex:-1},{},Je("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?As(this.player_.play()):this.player_.pause())}}Ip.prototype.crossorigin=Ip.prototype.crossOrigin;le.registerComponent("PosterImage",Ip);const Fi="#222",dy="#ccc",JL={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function ff(t,e){let r;if(t.length===4)r=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)r=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function _s(t,e,r){try{t.style[e]=r}catch{return}}function hy(t){return t?`${t}px`:""}class eP extends le{constructor(e,r,i){super(e,r,i);const s=a=>this.updateDisplay(a),n=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("texttrackchange",s),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(jt(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",n),e.on("playerresize",n);const a=$.screen.orientation||$,o=$.screen.orientation?"change":"orientationchange";a.addEventListener(o,n),e.on("dispose",()=>a.removeEventListener(o,n));const l=this.options_.playerOptions.tracks||[];for(let u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},r=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage;let s,n,a;for(let o=0;o<r.length;o++){const l=r[o];i&&i.enabled&&i.language&&i.language===l.language&&l.kind in e?l.kind===i.kind?a=l:a||(a=l):i&&!i.enabled?(a=null,s=null,n=null):l.default&&(l.kind==="descriptions"&&!s?s=l:l.kind in e&&!n&&(n=l))}a?a.mode="showing":n?n.mode="showing":s&&(s.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof $.WebVTT=="function"&&$.WebVTT.processCues($,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),r=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),r){const a=[];for(let o=0;o<e.length;++o){const l=e[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}let i=null,s=null,n=e.length;for(;n--;){const a=e[n];a.mode==="showing"&&(a.kind==="descriptions"?i=a:s=a)}if(s?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(s)):i&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(i)),!$.CSS.supports("inset","10px")){const a=this.el_,o=a.querySelectorAll(".vjs-text-track-cue"),l=this.player_.controlBar.el_.getBoundingClientRect().height,u=this.player_.el_.getBoundingClientRect().height;a.style="",_s(a,"position","relative"),_s(a,"height",u-l+"px"),_s(a,"top","unset"),V0?_s(a,"bottom",u+"px"):_s(a,"bottom","0px"),o.length>0&&o.forEach(c=>{if(c.style.inset){const h=c.style.inset.split(" ");h.length===3&&Object.assign(c.style,{top:h[0],right:h[1],bottom:h[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!$.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),r=this.player_.currentHeight(),i=e/r,s=this.player_.videoWidth()/this.player_.videoHeight();let n=0,a=0;Math.abs(i-s)>.1&&(i>s?n=Math.round((e-r*s)/2):a=Math.round((r-e/s)/2)),_s(this.el_,"insetInline",hy(n)),_s(this.el_,"insetBlock",hy(a))}updateDisplayState(e){const r=this.player_.textTrackSettings.getValues(),i=e.activeCues;let s=i.length;for(;s--;){const n=i[s];if(!n)continue;const a=n.displayState;if(r.color&&(a.firstChild.style.color=r.color),r.textOpacity&&_s(a.firstChild,"color",ff(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(a.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&_s(a.firstChild,"backgroundColor",ff(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?_s(a,"backgroundColor",ff(r.windowColor,r.windowOpacity)):a.style.backgroundColor=r.windowColor),r.edgeStyle&&(r.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${Fi}, 2px 2px 4px ${Fi}, 2px 2px 5px ${Fi}`:r.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${Fi}, 2px 2px ${Fi}, 3px 3px ${Fi}`:r.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${dy}, 0 1px ${dy}, -1px -1px ${Fi}, 0 -1px ${Fi}`:r.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${Fi}, 0 0 4px ${Fi}, 0 0 4px ${Fi}, 0 0 4px ${Fi}`)),r.fontPercent&&r.fontPercent!==1){const o=$.parseFloat(a.style.fontSize);a.style.fontSize=o*r.fontPercent+"px",a.style.height="auto",a.style.top="auto"}r.fontFamily&&r.fontFamily!=="default"&&(r.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=JL[r.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof $.WebVTT!="function"||e.every(i=>!i.activeCues))return;const r=[];for(let i=0;i<e.length;++i){const s=e[i];for(let n=0;n<s.activeCues.length;++n)r.push(s.activeCues[n])}$.WebVTT.processCues($,r,this.el_);for(let i=0;i<e.length;++i){const s=e[i];for(let n=0;n<s.activeCues.length;++n){const a=s.activeCues[n].displayState;Na(a,"vjs-text-track-cue","vjs-text-track-cue-"+(s.language?s.language:i)),s.language&&Go(a,"lang",s.language)}this.player_.textTrackSettings&&this.updateDisplayState(s)}}}le.registerComponent("TextTrackDisplay",eP);class tP extends le{createEl(){const e=this.player_.isAudio(),r=this.localize(e?"Audio Player":"Video Player"),i=Je("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[r])}),s=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return s.appendChild(i),s}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}le.registerComponent("LoadingSpinner",tP);class Ur extends ih{createEl(e,r={},i={}){e="button",r=Object.assign({className:this.buildCSSClass()},r),i=Object.assign({type:"button"},i);const s=Je(e,r,i);return this.player_.options_.experimentalSvgIcons||s.appendChild(Je("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s}addChild(e,r={}){const i=this.constructor.name;return vt.warn(`Adding an actionable (user controllable) child to a Button (${i}) is not supported; use a ClickableComponent instead.`),le.prototype.addChild.call(this,e,r)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}le.registerComponent("Button",Ur);class X8 extends Ur{constructor(e,r){super(e,r),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",i=>this.handleMouseDown(i))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const r=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){As(r),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const i=this.player_.getChild("controlBar"),s=i&&i.getChild("playToggle");if(!s){this.player_.tech(!0).focus();return}const n=()=>s.focus();cu(r)?r.then(n,()=>{}):this.setTimeout(n,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}X8.prototype.controlText_="Play Video";le.registerComponent("BigPlayButton",X8);class rP extends Ur{constructor(e,r){super(e,r),this.setIcon("cancel"),this.controlText(r&&r.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}le.registerComponent("CloseButton",rP);class K8 extends Ur{constructor(e,r={}){super(e,r),r.replay=r.replay===void 0||r.replay,this.setIcon("play"),this.on(e,"play",i=>this.handlePlay(i)),this.on(e,"pause",i=>this.handlePause(i)),r.replay&&this.on(e,"ended",i=>this.handleEnded(i))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?As(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",r=>this.handleSeeked(r))}}K8.prototype.controlText_="Play";le.registerComponent("PlayToggle",K8);class ol extends le{constructor(e,r){super(e,r),this.on(e,["timeupdate","ended","seeking"],i=>this.update(i)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),r=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),i=Je("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return r.appendChild(i),this.contentEl_=Je("span",{className:`${e}-display`},{role:"presentation"}),r.appendChild(this.contentEl_),r}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Va(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let r=this.textNode_;r&&this.contentEl_.firstChild!==r&&(r=null,vt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Se.createTextNode(this.formattedTime_),this.textNode_&&(r?this.contentEl_.replaceChild(this.textNode_,r):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}ol.prototype.labelText_="Time";ol.prototype.controlText_="Time";le.registerComponent("TimeDisplay",ol);class y1 extends ol{buildCSSClass(){return"vjs-current-time"}updateContent(e){let r;this.player_.ended()?r=this.player_.duration():r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(r)}}y1.prototype.labelText_="Current Time";y1.prototype.controlText_="Current Time";le.registerComponent("CurrentTimeDisplay",y1);class v1 extends ol{constructor(e,r){super(e,r);const i=s=>this.updateContent(s);this.on(e,"durationchange",i),this.on(e,"loadstart",i),this.on(e,"loadedmetadata",i)}buildCSSClass(){return"vjs-duration"}updateContent(e){const r=this.player_.duration();this.updateTextNode_(r)}}v1.prototype.labelText_="Duration";v1.prototype.controlText_="Duration";le.registerComponent("DurationDisplay",v1);class iP extends le{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),r=super.createEl("div"),i=super.createEl("span",{textContent:"/"});return r.appendChild(i),e.appendChild(r),e}}le.registerComponent("TimeDivider",iP);class b1 extends ol{constructor(e,r){super(e,r),this.on(e,"durationchange",i=>this.updateContent(i))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(Je("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let r;this.player_.ended()?r=0:this.player_.remainingTimeDisplay?r=this.player_.remainingTimeDisplay():r=this.player_.remainingTime(),this.updateTextNode_(r)}}b1.prototype.labelText_="Remaining Time";b1.prototype.controlText_="Remaining Time";le.registerComponent("RemainingTimeDisplay",b1);class sP extends le{constructor(e,r){super(e,r),this.updateShowing(),this.on(this.player(),"durationchange",i=>this.updateShowing(i))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Je("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Je("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(Se.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}le.registerComponent("LiveDisplay",sP);class Y8 extends Ur{constructor(e,r){super(e,r),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=i=>this.updateLiveEdgeStatus(i),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=Je("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}Y8.prototype.controlText_="Seek to live, currently playing live";le.registerComponent("SeekToLive",Y8);function Xu(t,e,r){return t=Number(t),Math.min(r,Math.max(e,isNaN(t)?e:t))}var nP=Object.freeze({__proto__:null,clamp:Xu});class _1 extends le{constructor(e,r){super(e,r),this.handleMouseDown_=i=>this.handleMouseDown(i),this.handleMouseUp_=i=>this.handleMouseUp(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.handleClick_=i=>this.handleClick(i),this.handleMouseMove_=i=>this.handleMouseMove(i),this.update_=i=>this.update(i),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,r={},i={}){return r.className=r.className+" vjs-slider",r=Object.assign({tabIndex:0},r),i=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},i),super.createEl(e,r,i)}handleMouseDown(e){const r=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!$s&&e.preventDefault(),T8(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(r,"mousemove",this.handleMouseMove_),this.on(r,"mouseup",this.handleMouseUp_),this.on(r,"touchmove",this.handleMouseMove_),this.on(r,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const r=this.bar.el_.ownerDocument;S8(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const r=this.vertical()?"height":"width";this.bar.el().style[r]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(Xu(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const r=Qd(this.el_,e);return this.vertical()?r.y:r.x}handleKeyDown(e){const r=this.options_.playerOptions.spatialNavigation,i=r&&r.enabled,s=r&&r.horizontalSeek;i?s&&e.key==="ArrowLeft"||!s&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):s&&e.key==="ArrowRight"||!s&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}le.registerComponent("Slider",_1);const pf=(t,e)=>Xu(t/e*100,0,100).toFixed(2)+"%";class aP extends le{constructor(e,r){super(e,r),this.partEls_=[],this.on(e,"progress",i=>this.update(i))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),r=Je("span",{className:"vjs-control-text"}),i=Je("span",{textContent:this.localize("Loaded")}),s=Se.createTextNode(": ");return this.percentageEl_=Je("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(r),r.appendChild(i),r.appendChild(s),r.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const r=this.player_.liveTracker,i=this.player_.buffered(),s=r&&r.isLive()?r.seekableEnd():this.player_.duration(),n=this.player_.bufferedEnd(),a=this.partEls_,o=pf(n,s);this.percent_!==o&&(this.el_.style.width=o,aa(this.percentageEl_,o),this.percent_=o);for(let l=0;l<i.length;l++){const u=i.start(l),c=i.end(l);let h=a[l];h||(h=this.el_.appendChild(Je()),a[l]=h),!(h.dataset.start===u&&h.dataset.end===c)&&(h.dataset.start=u,h.dataset.end=c,h.style.left=pf(u,n),h.style.width=pf(c-u,n))}for(let l=a.length;l>i.length;l--)this.el_.removeChild(a[l-1]);a.length=i.length})}}le.registerComponent("LoadProgressBar",aP);class oP extends le{constructor(e,r){super(e,r),this.update=zs(jt(this,this.update),Wi)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,r,i){const s=Pu(this.el_),n=Wo(this.player_.el()),a=e.width*r;if(!n||!s)return;let o=e.left-n.left+a,l=e.width-a+(n.right-e.right);l||(l=e.width-a,o=a);let u=s.width/2;o<u?u+=u-o:l<u&&(u=l),u<0?u=0:u>s.width&&(u=s.width),u=Math.round(u),this.el_.style.right=`-${u}px`,this.write(i)}write(e){aa(this.el_,e)}updateTime(e,r,i,s){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let n;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const o=this.player_.liveTracker.liveWindow(),l=o-r*o;n=(l<1?"":"-")+Va(l,o)}else n=Va(i,a);this.update(e,r,n),s&&s()})}}le.registerComponent("TimeTooltip",oP);class x1 extends le{constructor(e,r){super(e,r),this.setIcon("circle"),this.update=zs(jt(this,this.update),Wi)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,r){const i=this.getChild("timeTooltip");if(!i)return;const s=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(e,r,s)}}x1.prototype.options_={children:[]};!ii&&!Us&&x1.prototype.options_.children.push("timeTooltip");le.registerComponent("PlayProgressBar",x1);class Q8 extends le{constructor(e,r){super(e,r),this.update=zs(jt(this,this.update),Wi)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r){const i=r*this.player_.duration();this.getChild("timeTooltip").updateTime(e,r,i,()=>{this.el_.style.left=`${e.width*r}px`})}}Q8.prototype.options_={children:["timeTooltip"]};le.registerComponent("MouseTimeDisplay",Q8);const Wc=5,fy=12;class w1 extends _1{constructor(e,r){super(e,r),this.setEventHandlers_()}setEventHandlers_(){this.update_=jt(this,this.update),this.update=zs(this.update_,Wi),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Se&&"visibilityState"in Se&&this.on(Se,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Se.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Wi))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Se.visibilityState==="hidden")return;const r=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const i=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),s=this.player_.liveTracker;let n=this.player_.duration();s&&s.isLive()&&(n=this.player_.liveTracker.liveCurrentTime()),this.percent_!==r&&(this.el_.setAttribute("aria-valuenow",(r*100).toFixed(2)),this.percent_=r),(this.currentTime_!==i||this.duration_!==n)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Va(i,n),Va(n,n)],"{1} of {2}")),this.currentTime_=i,this.duration_=n),this.bar&&this.bar.update(Wo(this.el()),this.getProgress())}),r}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let r;const i=this.player_.liveTracker;return i&&i.isLive()?(r=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(r=1)):r=e/this.player_.duration(),r}handleMouseDown(e){Mu(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,r=!1){if(!Mu(e)||isNaN(this.player_.duration()))return;!r&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let i;const s=this.calculateDistance(e),n=this.player_.liveTracker;if(!n||!n.isLive())i=s*this.player_.duration(),i===this.player_.duration()&&(i=i-.1);else{if(s>=.99){n.seekToLiveEdge();return}const a=n.seekableStart(),o=n.liveCurrentTime();if(i=a+s*n.liveWindow(),i>=o&&(i=o),i<=a&&(i=a+.1),i===1/0)return}this.userSeek_(i),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?As(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+Wc)}stepBack(){this.userSeek_(this.player_.currentTime()-Wc)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const r=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),r&&r.isLive()?this.userSeek_(r.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const i=parseInt(e.key,10)*.1;r&&r.isLive()?this.userSeek_(r.seekableStart()+r.liveWindow()*i):this.userSeek_(this.player_.duration()*i)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Wc*fy)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Wc*fy)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Se&&"visibilityState"in Se&&this.off(Se,"visibilitychange",this.toggleVisibility_),super.dispose()}}w1.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!ii&&!Us&&w1.prototype.options_.children.splice(1,0,"mouseTimeDisplay");le.registerComponent("SeekBar",w1);class Z8 extends le{constructor(e,r){super(e,r),this.handleMouseMove=zs(jt(this,this.handleMouseMove),Wi),this.throttledHandleMouseSeek=zs(jt(this,this.handleMouseSeek),Wi),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.handleMouseDownHandler_=i=>this.handleMouseDown(i),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const r=this.getChild("seekBar");if(!r)return;const i=r.getChild("playProgressBar"),s=r.getChild("mouseTimeDisplay");if(!i&&!s)return;const n=r.el(),a=Pu(n);let o=Qd(n,e).x;o=Xu(o,0,1),s&&s.update(a,o),i&&i.update(a,r.getProgress())}handleMouseSeek(e){const r=this.getChild("seekBar");r&&r.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&As(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const r=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(r,"mousemove",this.throttledHandleMouseSeek),this.on(r,"touchmove",this.throttledHandleMouseSeek),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.getChild("seekBar");r&&r.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}Z8.prototype.options_={children:["seekBar"]};le.registerComponent("ProgressControl",Z8);class J8 extends Ur{constructor(e,r){super(e,r),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],i=>this.handlePictureInPictureChange(i)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],i=>this.handlePictureInPictureEnabledChange(i)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Se.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in $?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Se.exitPictureInPicture=="function"&&super.show()}}J8.prototype.controlText_="Picture-in-Picture";le.registerComponent("PictureInPictureToggle",J8);class eb extends Ur{constructor(e,r){super(e,r),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",i=>this.handleFullscreenChange(i)),Se[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}eb.prototype.controlText_="Fullscreen";le.registerComponent("FullscreenToggle",eb);const lP=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class uP extends le{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}le.registerComponent("VolumeLevel",uP);class cP extends le{constructor(e,r){super(e,r),this.update=zs(jt(this,this.update),Wi)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,r,i,s){if(!i){const n=Wo(this.el_),a=Wo(this.player_.el()),o=e.width*r;if(!a||!n)return;const l=e.left-a.left+o,u=e.width-o+(a.right-e.right);let c=n.width/2;l<c?c+=c-l:u<c&&(c=u),c<0?c=0:c>n.width&&(c=n.width),this.el_.style.right=`-${c}px`}this.write(`${s}%`)}write(e){aa(this.el_,e)}updateVolume(e,r,i,s,n){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,r,i,s.toFixed(0)),n&&n()})}}le.registerComponent("VolumeLevelTooltip",cP);class tb extends le{constructor(e,r){super(e,r),this.update=zs(jt(this,this.update),Wi)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r,i){const s=100*r;this.getChild("volumeLevelTooltip").updateVolume(e,r,i,s,()=>{i?this.el_.style.bottom=`${e.height*r}px`:this.el_.style.left=`${e.width*r}px`})}}tb.prototype.options_={children:["volumeLevelTooltip"]};le.registerComponent("MouseVolumeLevelDisplay",tb);class sh extends _1{constructor(e,r){super(e,r),this.on("slideractive",i=>this.updateLastVolume_(i)),this.on(e,"volumechange",i=>this.updateARIAAttributes(i)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Mu(e)&&super.handleMouseDown(e)}handleMouseMove(e){const r=this.getChild("mouseVolumeLevelDisplay");if(r){const i=this.el(),s=Wo(i),n=this.vertical();let a=Qd(i,e);a=n?a.y:a.x,a=Xu(a,0,1),r.update(s,a,n)}Mu(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const r=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",r),this.el_.setAttribute("aria-valuetext",r+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}sh.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!ii&&!Us&&sh.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");sh.prototype.playerEvent="volumechange";le.registerComponent("VolumeBar",sh);class rb extends le{constructor(e,r={}){r.vertical=r.vertical||!1,(typeof r.volumeBar>"u"||Vo(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),super(e,r),lP(this,e),this.throttledHandleMouseMove=zs(jt(this,this.handleMouseMove),Wi),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.on("mousedown",i=>this.handleMouseDown(i)),this.on("touchstart",i=>this.handleMouseDown(i)),this.on("mousemove",i=>this.handleMouseMove(i)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const r=this.el_.ownerDocument;this.on(r,"mousemove",this.throttledHandleMouseMove),this.on(r,"touchmove",this.throttledHandleMouseMove),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseMove),this.off(r,"touchmove",this.throttledHandleMouseMove),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}rb.prototype.options_={children:["volumeBar"]};le.registerComponent("VolumeControl",rb);const dP=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class ib extends Ur{constructor(e,r){super(e,r),dP(this,e),this.on(e,["loadstart","volumechange"],i=>this.update(i))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.volume(),i=this.player_.lastVolume_();if(r===0){const s=i<.1?.1:i;this.player_.volume(s),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let r=3;this.setIcon("volume-high"),ii&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),r=0):e<.33?(this.setIcon("volume-low"),r=1):e<.67&&(this.setIcon("volume-medium"),r=2),Kd(this.el_,[0,1,2,3].reduce((i,s)=>i+`${s?" ":""}vjs-vol-${s}`,"")),Na(this.el_,`vjs-vol-${r}`)}updateControlText_(){const r=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r)}}ib.prototype.controlText_="Mute";le.registerComponent("MuteToggle",ib);class sb extends le{constructor(e,r={}){typeof r.inline<"u"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl>"u"||Vo(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),super(e,r),this.handleKeyPressHandler_=i=>this.handleKeyPress(i),this.on(e,["loadstart"],i=>this.volumePanelState_(i)),this.on(this.muteToggle,"keyup",i=>this.handleKeyPress(i)),this.on(this.volumeControl,"keyup",i=>this.handleVolumeControlKeyUp(i)),this.on("keydown",i=>this.handleKeyPress(i)),this.on("mouseover",i=>this.handleMouseOver(i)),this.on("mouseout",i=>this.handleMouseOut(i)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),Li(Se,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Fr(Se,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}sb.prototype.options_={children:["muteToggle","volumeControl"]};le.registerComponent("VolumePanel",sb);class nb extends Ur{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const r=this.player_.currentTime(),i=this.player_.liveTracker,s=i&&i.isLive()?i.seekableEnd():this.player_.duration();let n;r+this.skipTime<=s?n=r+this.skipTime:n=s,this.player_.currentTime(n)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}nb.prototype.controlText_="Skip Forward";le.registerComponent("SkipForward",nb);class ab extends Ur{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.currentTime(),i=this.player_.liveTracker,s=i&&i.isLive()&&i.seekableStart();let n;s&&r-this.skipTime<=s?n=s:r>=this.skipTime?n=r-this.skipTime:n=0,this.player_.currentTime(n)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}ab.prototype.controlText_="Skip Backward";le.registerComponent("SkipBackward",ab);class ob extends le{constructor(e,r){super(e,r),r&&(this.menuButton_=r.menuButton),this.focusedChild_=-1,this.on("keydown",i=>this.handleKeyDown(i)),this.boundHandleBlur_=i=>this.handleBlur(i),this.boundHandleTapClick_=i=>this.handleTapClick(i)}addEventListenerForItem(e){e instanceof le&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof le&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const r=this.addChild(e);r&&this.addEventListenerForItem(r)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=Je(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const r=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),Li(r,"click",function(i){i.preventDefault(),i.stopImmediatePropagation()}),r}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const r=e.relatedTarget||Se.activeElement;if(!this.children().some(i=>i.el()===r)){const i=this.menuButton_;i&&i.buttonPressed_&&r!==i.el().firstChild&&i.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const r=this.children();if(!Array.isArray(r))return;const i=r.filter(s=>s.el()===e.target)[0];if(!i)return;i.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const r=this.children().slice();r.length&&r[0].hasClass("vjs-menu-title")&&r.shift(),r.length>0&&(e<0?e=0:e>=r.length&&(e=r.length-1),this.focusedChild_=e,r[e].el_.focus())}}le.registerComponent("Menu",ob);class T1 extends le{constructor(e,r={}){super(e,r),this.menuButton_=new Ur(e,r),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const i=Ur.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+i,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const s=n=>this.handleClick(n);this.handleMenuKeyUp_=n=>this.handleMenuKeyUp(n),this.on(this.menuButton_,"tap",s),this.on(this.menuButton_,"click",s),this.on(this.menuButton_,"keydown",n=>this.handleKeyDown(n)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),Li(Se,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",n=>this.handleMouseLeave(n)),this.on("keydown",n=>this.handleSubmenuKeyDown(n))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new ob(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const r=Je("li",{className:"vjs-menu-title",textContent:rr(this.options_.title),tabIndex:-1}),i=new le(this.player_,{el:r});e.addItem(i)}if(this.items=this.createItems(),this.items)for(let r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const r=Ur.prototype.buildCSSClass();return`vjs-menu-button ${e} ${r} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,r=this.menuButton_.el()){return this.menuButton_.controlText(e,r)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Fr(Se,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Esc"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Esc"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Esc"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ii&&v8())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}le.registerComponent("MenuButton",T1);class S1 extends T1{constructor(e,r){const i=r.tracks;if(super(e,r),this.items.length<=1&&this.hide(),!i)return;const s=jt(this,this.update);i.addEventListener("removetrack",s),i.addEventListener("addtrack",s),i.addEventListener("labelchange",s),this.player_.on("ready",s),this.player_.on("dispose",function(){i.removeEventListener("removetrack",s),i.removeEventListener("addtrack",s),i.removeEventListener("labelchange",s)})}}le.registerComponent("TrackButton",S1);class Ku extends ih{constructor(e,r){super(e,r),this.selectable=r.selectable,this.isSelected_=r.selected||!1,this.multiSelectable=r.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,r,i){this.nonIconControl=!0;const s=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},r),i),n=Je("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?s.appendChild(n):s.replaceChild(n,s.querySelector(".vjs-icon-placeholder")),s}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}le.registerComponent("MenuItem",Ku);class Yu extends Ku{constructor(e,r){const i=r.track,s=e.textTracks();r.label=i.label||i.language||"Unknown",r.selected=i.mode==="showing",super(e,r),this.track=i,this.kinds=(r.kinds||[r.kind||this.track.kind]).filter(Boolean);const n=(...o)=>{this.handleTracksChange.apply(this,o)},a=(...o)=>{this.handleSelectedLanguageChange.apply(this,o)};if(e.on(["loadstart","texttrackchange"],n),s.addEventListener("change",n),s.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],n),s.removeEventListener("change",n),s.removeEventListener("selectedlanguagechange",a)}),s.onchange===void 0){let o;this.on(["tap","click"],function(){if(typeof $.Event!="object")try{o=new $.Event("change")}catch{}o||(o=Se.createEvent("Event"),o.initEvent("change",!0,!0)),s.dispatchEvent(o)})}this.handleTracksChange()}handleClick(e){const r=this.track,i=this.player_.textTracks();if(super.handleClick(e),!!i)for(let s=0;s<i.length;s++){const n=i[s];this.kinds.indexOf(n.kind)!==-1&&(n===r?n.mode!=="showing"&&(n.mode="showing"):n.mode!=="disabled"&&(n.mode="disabled"))}}handleTracksChange(e){const r=this.track.mode==="showing";r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const r=this.player_.cache_.selectedLanguage;if(r&&r.enabled&&r.language===this.track.language&&r.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}le.registerComponent("TextTrackMenuItem",Yu);class lb extends Yu{constructor(e,r){r.track={player:e,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,super(e,r)}handleTracksChange(e){const r=this.player().textTracks();let i=!0;for(let s=0,n=r.length;s<n;s++){const a=r[s];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){i=!1;break}}i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){const r=this.player().textTracks();let i=!0;for(let s=0,n=r.length;s<n;s++){const a=r[s];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}le.registerComponent("OffTextTrackMenuItem",lb);class ll extends S1{constructor(e,r={}){r.tracks=e.textTracks(),super(e,r)}createItems(e=[],r=Yu){let i;this.label_&&(i=`${this.label_} off`),e.push(new lb(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;const s=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let n=0;n<s.length;n++){const a=s[n];if(this.kinds_.indexOf(a.kind)>-1){const o=new r(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass(`vjs-${a.kind}-menu-item`),e.push(o)}}return e}}le.registerComponent("TextTrackButton",ll);class ub extends Ku{constructor(e,r){const i=r.track,s=r.cue,n=e.currentTime();r.selectable=!0,r.multiSelectable=!1,r.label=s.text,r.selected=s.startTime<=n&&n<s.endTime,super(e,r),this.track=i,this.cue=s}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}le.registerComponent("ChaptersTrackMenuItem",ub);class C1 extends ll{constructor(e,r,i){super(e,r,i),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(s=>{s.selected(this.track_.activeCues[0]===s.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const r=this.findChaptersTrack();r!==this.track_?(this.setTrack(r),super.update()):(!this.items||r&&r.cues&&r.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let r=e.length-1;r>=0;r--){const i=e[r];if(i.kind===this.kind_)return i}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(rr(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const r=this.track_.cues;if(!r)return e;for(let i=0,s=r.length;i<s;i++){const n=r[i],a=new ub(this.player_,{track:this.track_,cue:n});e.push(a)}return e}}C1.prototype.kind_="chapters";C1.prototype.controlText_="Chapters";le.registerComponent("ChaptersButton",C1);class E1 extends ll{constructor(e,r,i){super(e,r,i),this.setIcon("audio-description");const s=e.textTracks(),n=jt(this,this.handleTracksChange);s.addEventListener("change",n),this.on("dispose",function(){s.removeEventListener("change",n)})}handleTracksChange(e){const r=this.player().textTracks();let i=!1;for(let s=0,n=r.length;s<n;s++){const a=r[s];if(a.kind!==this.kind_&&a.mode==="showing"){i=!0;break}}i?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}E1.prototype.kind_="descriptions";E1.prototype.controlText_="Descriptions";le.registerComponent("DescriptionsButton",E1);class A1 extends ll{constructor(e,r,i){super(e,r,i),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}A1.prototype.kind_="subtitles";A1.prototype.controlText_="Subtitles";le.registerComponent("SubtitlesButton",A1);class k1 extends Yu{constructor(e,r){r.track={player:e,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",super(e,r),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+r.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}le.registerComponent("CaptionSettingsMenuItem",k1);class D1 extends ll{constructor(e,r,i){super(e,r,i),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new k1(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}D1.prototype.kind_="captions";D1.prototype.controlText_="Captions";le.registerComponent("CaptionsButton",D1);class cb extends Yu{createEl(e,r,i){const s=super.createEl(e,r,i),n=s.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",s):n.appendChild(Je("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),n.appendChild(Je("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),s}}le.registerComponent("SubsCapsMenuItem",cb);class I1 extends ll{constructor(e,r={}){super(e,r),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(rr(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new k1(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,cb),e}}I1.prototype.kinds_=["captions","subtitles"];I1.prototype.controlText_="Subtitles";le.registerComponent("SubsCapsButton",I1);class db extends Ku{constructor(e,r){const i=r.track,s=e.audioTracks();r.label=i.label||i.language||"Unknown",r.selected=i.enabled,super(e,r),this.track=i,this.addClass(`vjs-${i.kind}-menu-item`);const n=(...a)=>{this.handleTracksChange.apply(this,a)};s.addEventListener("change",n),this.on("dispose",()=>{s.removeEventListener("change",n)})}createEl(e,r,i){const s=super.createEl(e,r,i),n=s.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(n.appendChild(Je("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),n.appendChild(Je("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),s}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const r=this.player_.audioTracks();for(let i=0;i<r.length;i++){const s=r[i];s!==this.track&&(s.enabled=s===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}le.registerComponent("AudioTrackMenuItem",db);class hb extends S1{constructor(e,r={}){r.tracks=e.audioTracks(),super(e,r),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const r=this.player_.audioTracks();for(let i=0;i<r.length;i++){const s=r[i];e.push(new db(this.player_,{track:s,selectable:!0,multiSelectable:!1}))}return e}}hb.prototype.controlText_="Audio Track";le.registerComponent("AudioTrackButton",hb);class L1 extends Ku{constructor(e,r){const i=r.rate,s=parseFloat(i,10);r.label=i,r.selected=s===e.playbackRate(),r.selectable=!0,r.multiSelectable=!1,super(e,r),this.label=i,this.rate=s,this.on(e,"ratechange",n=>this.update(n))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}L1.prototype.contentElType="button";le.registerComponent("PlaybackRateMenuItem",L1);class fb extends T1{constructor(e,r){super(e,r),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",i=>this.updateVisibility(i)),this.on(e,"ratechange",i=>this.updateLabel(i)),this.on(e,"playbackrateschange",i=>this.handlePlaybackRateschange(i))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Je("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),r=[];for(let i=e.length-1;i>=0;i--)r.push(new L1(this.player(),{rate:e[i]+"x"}));return r}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}fb.prototype.controlText_="Playback Rate";le.registerComponent("PlaybackRateMenuButton",fb);class pb extends le{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",r={},i={}){return r.className||(r.className=this.buildCSSClass()),super.createEl(e,r,i)}}le.registerComponent("Spacer",pb);class hP extends pb{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}le.registerComponent("CustomControlSpacer",hP);class mb extends le{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}mb.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};le.registerComponent("ControlBar",mb);class gb extends al{constructor(e,r){super(e,r),this.on(e,"error",i=>{this.open(i)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}gb.prototype.options_=Object.assign({},al.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});le.registerComponent("ErrorDisplay",gb);class yb extends le{constructor(e,r={}){super(e,r),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),Je("select",{id:this.options_.id},{},this.options_.SelectOptions.map(r=>{const i=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${Gi()}`)+"-"+r[1].replace(/\W+/g,""),s=Je("option",{id:i,value:this.localize(r[0]),textContent:r[1]});return s.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${i}`),s}))}}le.registerComponent("TextTrackSelect",yb);class Fa extends le{constructor(e,r={}){super(e,r);const i=Je("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(i);const s=this.options_.selects;for(const n of s){const a=this.options_.selectConfigs[n],o=a.className,l=a.id.replace("%s",this.options_.id_);let u=null;const c=`vjs_select_${Gi()}`;if(this.options_.type==="colors"){u=Je("span",{className:o});const f=Je("label",{id:l,className:"vjs-label",textContent:a.label});f.setAttribute("for",c),u.appendChild(f)}const h=new yb(e,{SelectOptions:a.options,legendId:this.options_.legendId,id:c,labelId:l});this.addChild(h),this.options_.type==="colors"&&(u.appendChild(h.el()),this.el().appendChild(u))}}createEl(){return Je("fieldset",{className:this.options_.className})}}le.registerComponent("TextTrackFieldset",Fa);class vb extends le{constructor(e,r={}){super(e,r);const i=this.options_.textTrackComponentid,s=new Fa(e,{id_:i,legendId:`captions-text-legend-${i}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const n=new Fa(e,{id_:i,legendId:`captions-background-${i}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(n);const a=new Fa(e,{id_:i,legendId:`captions-window-${i}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a)}createEl(){return Je("div",{className:"vjs-track-settings-colors"})}}le.registerComponent("TextTrackSettingsColors",vb);class bb extends le{constructor(e,r={}){super(e,r);const i=this.options_.textTrackComponentid,s=new Fa(e,{id_:i,legendId:`captions-font-size-${i}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const n=new Fa(e,{id_:i,legendId:`captions-edge-style-${i}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(n);const a=new Fa(e,{id_:i,legendId:`captions-font-family-${i}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a)}createEl(){return Je("div",{className:"vjs-track-settings-font"})}}le.registerComponent("TextTrackSettingsFont",bb);class _b extends le{constructor(e,r={}){super(e,r);const i=this.localize("restore all settings to the default values"),s=new Ur(e,{controlText:i,className:"vjs-default-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Reset"),this.addChild(s);const n=new Ur(e,{controlText:i,className:"vjs-done-button"});n.el().classList.remove("vjs-control","vjs-button"),n.el().textContent=this.localize("Done"),this.addChild(n)}createEl(){return Je("div",{className:"vjs-track-settings-controls"})}}le.registerComponent("TrackSettingsControls",_b);const mf="vjs-text-track-settings",py=["#000","Black"],my=["#00F","Blue"],gy=["#0FF","Cyan"],yy=["#0F0","Green"],vy=["#F0F","Magenta"],by=["#F00","Red"],_y=["#FFF","White"],xy=["#FF0","Yellow"],gf=["1","Opaque"],yf=["0.5","Semi-Transparent"],wy=["0","Transparent"],Hn={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[py,_y,by,yy,my,xy,vy,gy],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[gf,yf,wy],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[_y,py,by,yy,my,xy,vy,gy],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[gf,yf],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[wy,yf,gf],className:"vjs-window-opacity vjs-opacity"}};Hn.windowColor.options=Hn.backgroundColor.options;function xb(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function fP(t,e){const r=t.options[t.options.selectedIndex].value;return xb(r,e)}function pP(t,e,r){if(e){for(let i=0;i<t.options.length;i++)if(xb(t.options[i].value,r)===e){t.selectedIndex=i;break}}}class mP extends al{constructor(e,r){r.temporary=!1,super(e,r),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=Je("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),r.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const r=new vb(e,{textTrackComponentid:this.id_,selectConfigs:Hn,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(r);const i=new bb(e,{textTrackComponentid:this.id_,selectConfigs:Hn,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(i);const s=new _b(e);this.addChild(s)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),ko(Hn,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return d8(Hn,(e,r,i)=>{const s=fP(this.$(r.selector),r.parser);return s!==void 0&&(e[i]=s),e},{})}setValues(e){ko(Hn,(r,i)=>{pP(this.$(r.selector),e[i],r.parser)})}setDefaults(){ko(Hn,e=>{const r=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=r})}restoreSettings(){let e;try{e=JSON.parse($.localStorage.getItem(mf))}catch(r){vt.warn(r)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?$.localStorage.setItem(mf,JSON.stringify(e)):$.localStorage.removeItem(mf)}catch(r){vt.warn(r)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}le.registerComponent("TextTrackSettings",mP);class gP extends le{constructor(e,r){let i=r.ResizeObserver||$.ResizeObserver;r.ResizeObserver===null&&(i=!1);const s=Ut({createEl:!i,reportTouchActivity:!1},r);super(e,s),this.ResizeObserver=r.ResizeObserver||$.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=R8(()=>{this.resizeHandler()},100,!1,this),i?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const n=this.debouncedHandler_;let a=this.unloadListener_=function(){Fr(this,"resize",n),Fr(this,"unload",a),a=null};Li(this.el_.contentWindow,"unload",a),Li(this.el_.contentWindow,"resize",n)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}le.registerComponent("ResizeManager",gP);const yP={trackingThreshold:20,liveTolerance:15};class vP extends le{constructor(e,r){const i=Ut(yP,r,{createEl:!1});super(e,i),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=s=>this.handlePlay(s),this.handleFirstTimeupdate_=s=>this.handleFirstTimeupdate(s),this.handleSeeked_=s=>this.handleSeeked(s),this.seekToLiveEdge_=s=>this.seekToLiveEdge(s),this.reset_(),this.on(this.player_,"durationchange",s=>this.handleDurationchange(s)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const r=Number($.performance.now().toFixed(4)),i=this.lastTime_===-1?0:(r-this.lastTime_)/1e3;this.lastTime_=r,this.pastSeekEnd_=this.pastSeekEnd()+i;const s=this.liveCurrentTime(),n=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(s-n)>this.options_.liveTolerance;(!this.timeupdateSeen_||s===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Wi),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),r=[];let i=e?e.length:0;for(;i--;)r.push(e.end(i));return r.length?r.sort()[r.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),r=[];let i=e?e.length:0;for(;i--;)r.push(e.start(i));return r.length?r.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}le.registerComponent("LiveTracker",vP);class bP extends le{constructor(e,r){super(e,r),this.on("statechanged",i=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:Je("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Gi()}`}),description:Je("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Gi()}`})},Je("div",{className:"vjs-title-bar"},{},h8(this.els))}updateDom_(){const e=this.player_.tech_,r=e&&e.el_,i={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(s=>{const n=this.state[s],a=this.els[s],o=i[s];Zd(a),n&&aa(a,n),r&&(r.removeAttribute(o),n&&r.setAttribute(o,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,r=e&&e.el_;r&&(r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}le.registerComponent("TitleBar",bP);const _P={initialDisplay:4e3,position:[],takeFocus:!1};class xP extends Ur{constructor(e,r){r=Ut(_P,r),super(e,r),this.controlText(r.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],i=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=Je("button",{},{type:"button",class:this.buildCSSClass()},Je("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}le.registerComponent("TransientButton",xP);const Lp=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const r=t.$$("source"),i=[];let s="";if(!r.length)return!1;for(let n=0;n<r.length;n++){const a=r[n].src;a&&i.indexOf(a)===-1&&i.push(a)}return i.length?(i.length===1&&(s=i[0]),t.triggerSourceset(s),!0):!1},wP=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=Se.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const r=Se.createDocumentFragment();for(;e.childNodes.length;)r.appendChild(e.childNodes[0]);return this.innerText="",$.Element.prototype.appendChild.call(this,r),this.innerHTML}}),wb=(t,e)=>{let r={};for(let i=0;i<t.length&&(r=Object.getOwnPropertyDescriptor(t[i],e),!(r&&r.set&&r.get));i++);return r.enumerable=!0,r.configurable=!0,r},TP=t=>wb([t.el(),$.HTMLMediaElement.prototype,$.Element.prototype,wP],"innerHTML"),Ty=function(t){const e=t.el();if(e.resetSourceWatch_)return;const r={},i=TP(t),s=n=>(...a)=>{const o=n.apply(e,a);return Lp(t),o};["append","appendChild","insertAdjacentHTML"].forEach(n=>{e[n]&&(r[n]=e[n],e[n]=s(r[n]))}),Object.defineProperty(e,"innerHTML",Ut(i,{set:s(i.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(r).forEach(n=>{e[n]=r[n]}),Object.defineProperty(e,"innerHTML",i)},t.one("sourceset",e.resetSourceWatch_)},SP=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?H8($.Element.prototype.getAttribute.call(this,"src")):""},set(t){return $.Element.prototype.setAttribute.call(this,"src",t),t}}),CP=t=>wb([t.el(),$.HTMLMediaElement.prototype,SP],"src"),EP=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const r=CP(t),i=e.setAttribute,s=e.load;Object.defineProperty(e,"src",Ut(r,{set:n=>{const a=r.set.call(e,n);return t.triggerSourceset(e.src),a}})),e.setAttribute=(n,a)=>{const o=i.call(e,n,a);return/src/i.test(n)&&t.triggerSourceset(e.src),o},e.load=()=>{const n=s.call(e);return Lp(t)||(t.triggerSourceset(""),Ty(t)),n},e.currentSrc?t.triggerSourceset(e.currentSrc):Lp(t)||Ty(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=s,e.setAttribute=i,Object.defineProperty(e,"src",r),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Re extends dt{constructor(e,r){super(e,r);const i=e.source;let s=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",i&&(this.el_.currentSrc!==i.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(i):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const n=this.el_.childNodes;let a=n.length;const o=[];for(;a--;){const l=n[a];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!s&&!this.el_.hasAttribute("crossorigin")&&rh(l.src)&&(s=!0)):o.push(l))}for(let l=0;l<o.length;l++)this.el_.removeChild(o[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&s&&vt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(Lu||Wd)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Re.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){EP(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let r;const i=()=>{r=[];for(let n=0;n<e.length;n++){const a=e[n];a.kind==="metadata"&&r.push({track:a,storedMode:a.mode})}};i(),e.addEventListener("change",i),this.on("dispose",()=>e.removeEventListener("change",i));const s=()=>{for(let n=0;n<r.length;n++){const a=r[n];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",s)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",i),e.removeEventListener("change",s),e.addEventListener("change",s)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",s)})}overrideNative_(e,r){if(r!==this[`featuresNative${e}Tracks`])return;const i=e.toLowerCase();this[`${i}TracksListeners_`]&&Object.keys(this[`${i}TracksListeners_`]).forEach(s=>{this.el()[`${i}Tracks`].removeEventListener(s,this[`${i}TracksListeners_`][s])}),this[`featuresNative${e}Tracks`]=!r,this[`${i}TracksListeners_`]=null,this.proxyNativeTracksForType_(i)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const r=ji[e],i=this.el()[r.getterName],s=this[r.getterName]();if(!this[`featuresNative${r.capitalName}Tracks`]||!i||!i.addEventListener)return;const n={change:o=>{const l={type:"change",target:s,currentTarget:s,srcElement:s};s.trigger(l),e==="text"&&this[Yo.remoteText.getterName]().trigger(l)},addtrack(o){s.addTrack(o.track)},removetrack(o){s.removeTrack(o.track)}},a=function(){const o=[];for(let l=0;l<s.length;l++){let u=!1;for(let c=0;c<i.length;c++)if(i[c]===s[l]){u=!0;break}u||o.push(s[l])}for(;o.length;)s.removeTrack(o.shift())};this[r.getterName+"Listeners_"]=n,Object.keys(n).forEach(o=>{const l=n[o];i.addEventListener(o,l),this.on("dispose",u=>i.removeEventListener(o,l))}),this.on("loadstart",a),this.on("dispose",o=>this.off("loadstart",a))}proxyNativeTracks_(){ji.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const i=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(i,e),Re.disposeMediaElement(e),e=i}else{e=Se.createElement("video");const i=this.options_.tag&&jn(this.options_.tag),s=Ut({},i);(!Lu||this.options_.nativeControlsForTouch!==!0)&&delete s.controls,x8(e,Object.assign(s,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Go(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const r=["loop","muted","playsinline","autoplay"];for(let i=0;i<r.length;i++){const s=r[i],n=this.options_[s];typeof n<"u"&&(n?Go(e,s,s):Yd(e,s),e[s]=n)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let i=!1;const s=function(){i=!0};this.on("loadstart",s);const n=function(){i||this.trigger("loadstart")};this.on("loadedmetadata",n),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",n),i||this.trigger("loadstart")});return}const r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(i){this.trigger(i)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&Xd?this.el_.fastSeek(e):this.el_.currentTime=e}catch(r){vt(r,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Us&&$s&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},r=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",()=>{this.off("webkitbeginfullscreen",r),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)As(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}},0);else try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){Re.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,r,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,r,i):super.addTextTrack(e,r,i)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const r=Se.createElement("track");return e.kind&&(r.kind=e.kind),e.label&&(r.label=e.label),(e.language||e.srclang)&&(r.srclang=e.language||e.srclang),e.default&&(r.default=e.default),e.id&&(r.id=e.id),e.src&&(r.src=e.src),r}addRemoteTextTrack(e,r){const i=super.addRemoteTextTrack(e,r);return this.featuresNativeTextTracks&&this.el().appendChild(i),i}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const r=this.$$("track");let i=r.length;for(;i--;)(e===r[i]||e===r[i].track)&&this.el().removeChild(r[i])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),$.performance&&(e.creationTime=$.performance.now()),e}}Hd(Re,"TEST_VID",function(){if(!il())return;const t=Se.createElement("video"),e=Se.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Re.isSupported=function(){try{Re.TEST_VID.volume=.5}catch{return!1}return!!(Re.TEST_VID&&Re.TEST_VID.canPlayType)};Re.canPlayType=function(t){return Re.TEST_VID.canPlayType(t)};Re.canPlaySource=function(t,e){return Re.canPlayType(t.type)};Re.canControlVolume=function(){try{const t=Re.TEST_VID.volume;Re.TEST_VID.volume=t/2+.1;const e=t!==Re.TEST_VID.volume;return e&&ii?($.setTimeout(()=>{Re&&Re.prototype&&(Re.prototype.featuresVolumeControl=t!==Re.TEST_VID.volume)}),!1):e}catch{return!1}};Re.canMuteVolume=function(){try{const t=Re.TEST_VID.muted;return Re.TEST_VID.muted=!t,Re.TEST_VID.muted?Go(Re.TEST_VID,"muted","muted"):Yd(Re.TEST_VID,"muted","muted"),t!==Re.TEST_VID.muted}catch{return!1}};Re.canControlPlaybackRate=function(){if(Us&&$s&&Vd<58)return!1;try{const t=Re.TEST_VID.playbackRate;return Re.TEST_VID.playbackRate=t/2+.1,t!==Re.TEST_VID.playbackRate}catch{return!1}};Re.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(Se.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Se.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Se.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Se.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Re.supportsNativeTextTracks=function(){return Xd||ii&&$s};Re.supportsNativeVideoTracks=function(){return!!(Re.TEST_VID&&Re.TEST_VID.videoTracks)};Re.supportsNativeAudioTracks=function(){return!!(Re.TEST_VID&&Re.TEST_VID.audioTracks)};Re.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){Hd(Re.prototype,t,()=>Re[e](),!0)});Re.prototype.featuresVolumeControl=Re.canControlVolume();Re.prototype.movingMediaElementInDOM=!ii;Re.prototype.featuresFullscreenResize=!0;Re.prototype.featuresProgressEvents=!0;Re.prototype.featuresTimeupdateEvents=!0;Re.prototype.featuresVideoFrameCallback=!!(Re.TEST_VID&&Re.TEST_VID.requestVideoFrameCallback);Re.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Re.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let r=e.length;for(;r--;)t.removeChild(e[r]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Re.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Re.prototype["set"+rr(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Re.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Re.prototype["set"+rr(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Re.prototype[t]=function(){return this.el_[t]()}});dt.withSourceHandlers(Re);Re.nativeSourceHandler={};Re.nativeSourceHandler.canPlayType=function(t){try{return Re.TEST_VID.canPlayType(t)}catch{return""}};Re.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Re.nativeSourceHandler.canPlayType(t.type);if(t.src){const r=m1(t.src);return Re.nativeSourceHandler.canPlayType(`video/${r}`)}return""};Re.nativeSourceHandler.handleSource=function(t,e,r){e.setSrc(t.src)};Re.nativeSourceHandler.dispose=function(){};Re.registerSourceHandler(Re.nativeSourceHandler);dt.registerTech("Html5",Re);const Tb=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],vf={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Pp=["tiny","xsmall","small","medium","large","xlarge","huge"],b0={};Pp.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;b0[t]=`vjs-layout-${e}`});const AP={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Vt extends le{constructor(e,r,i){if(e.id=e.id||r.id||`vjs_video_${Gi()}`,r=Object.assign(Vt.getTagSettings(e),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language){const a=e.closest("[lang]");a&&(r.language=a.getAttribute("lang"))}if(super(null,r,i),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.boundUpdatePlayerHeightOnAudioOnlyMode_=a=>this.updatePlayerHeightOnAudioOnlyMode_(a),this.isFullscreen_=!1,this.log=u8(this.id_),this.fsApi_=$0,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&jn(e),this.language(this.options_.language),r.languages){const a={};Object.getOwnPropertyNames(r.languages).forEach(function(o){a[o.toLowerCase()]=r.languages[o]}),this.languages_=a}else this.languages_=Vt.prototype.options_.languages;this.resetCache_(),this.poster_=r.poster||"",this.controls_=!!r.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),d1(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Li(Se,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const s=Ut(this.options_);if(r.plugins&&Object.keys(r.plugins).forEach(a=>{this[a](r.plugins[a])}),r.debug&&this.debug(!0),this.options_.playerOptions=s,this.middleware_=[],this.playbackRates(r.playbackRates),r.experimentalSvgIcons){const o=new $.DOMParser().parseFromString(YL,"image/svg+xml");if(o.querySelector("parsererror"))vt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const u=o.documentElement;u.style.display="none",this.el_.appendChild(u),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),r.spatialNavigation&&r.spatialNavigation.enabled&&(this.spatialNavigation=new QL(this),this.addClass("vjs-spatial-navigation-enabled")),Lu&&this.addClass("vjs-touch-enabled"),ii||this.addClass("vjs-workinghover"),Vt.players[this.id_]=this;const n=wp.split(".")[0];this.addClass(`vjs-v${n}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Fr(Se,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Fr(Se,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Vt.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),GL(this),Qr.names.forEach(e=>{const r=Qr[e],i=this[r.getterName]();i&&i.off&&i.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,r,i=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const s=this.tag.tagName.toLowerCase()==="video-js";i?r=this.el_=e.parentNode:s||(r=this.el_=super.createEl("div"));const n=jn(e);if(s){for(r=this.el_=e,e=this.tag=Se.createElement("video");r.children.length;)e.appendChild(r.firstChild);lu(r,"video-js")||Na(r,"video-js"),r.appendChild(e),i=this.playerElIngest_=r,Object.keys(r).forEach(l=>{try{e[l]=r[l]}catch{}})}e.setAttribute("tabindex","-1"),n.tabindex="-1",$s&&Gd&&(e.setAttribute("role","application"),n.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in n&&delete n.width,"height"in n&&delete n.height,Object.getOwnPropertyNames(n).forEach(function(l){s&&l==="class"||r.setAttribute(l,n[l]),s&&e.setAttribute(l,n[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=r.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>y8[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),$.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=P8("vjs-styles-dimensions");const l=Qn(".vjs-styles-defaults"),u=Qn("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let l=0;l<o.length;l++){const u=o.item(l);Na(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!i&&e.parentNode.insertBefore(r,e),Sp(e,r),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=r,r}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){vt.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,r){const i=e+"_";if(r===void 0)return this[i]||0;if(r===""||r==="auto"){this[i]=void 0,this.updateStyleEl_();return}const s=parseFloat(r);if(isNaN(s)){vt.error(`Improper value "${r}" supplied for for ${e}`);return}this[i]=s,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,ln(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),wL(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if($.VIDEOJS_NO_DYNAMIC_STYLE===!0){const o=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(o>=0&&(u.width=o),l>=0&&(u.height=l));return}let e,r,i,s;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?i=this.aspectRatio_:this.videoWidth()>0?i=this.videoWidth()+":"+this.videoHeight():i="16:9";const n=i.split(":"),a=n[1]/n[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?r=this.height_:r=e*a,/^[^a-zA-Z]/.test(this.id())?s="dimensions-"+this.id():s=this.id()+"-dimensions",this.addClass(s),M8(this.styleEl_,`
      .${s} {
        width: ${e}px;
        height: ${r}px;
      }

      .${s}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,r){this.tech_&&this.unloadTech_();const i=rr(e),s=e.charAt(0).toLowerCase()+e.slice(1);i!=="Html5"&&this.tag&&(dt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;let n=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(n=!1);const a={source:r,autoplay:n,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${s}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Qr.names.forEach(l=>{const u=Qr[l];a[u.getterName]=this[u.privateName]}),Object.assign(a,this.options_[i]),Object.assign(a,this.options_[s]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),r&&r.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const o=dt.getTech(e);if(!o)throw new Error(`No Tech named '${i}' exists! '${i}' should be registered using videojs.registerTech()'`);this.tech_=new o(a),this.tech_.ready(jt(this,this.handleTechReady_),!0),ry.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Tb.forEach(l=>{this.on(this.tech_,l,u=>this[`handleTech${rr(l)}_`](u))}),Object.keys(vf).forEach(l=>{this.on(this.tech_,l,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${vf[l]}_`].bind(this),event:u});return}this[`handleTech${vf[l]}_`](u)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,u)=>this.handleTechFullscreenChange_(l,u)),this.on(this.tech_,"fullscreenerror",(l,u)=>this.handleTechFullscreenError_(l,u)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(i!=="Html5"||!this.tag)&&Sp(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Qr.names.forEach(e=>{const r=Qr[e];this[r.privateName]=this[r.getterName]()}),this.textTracksJson_=ry.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&vt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":wp}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const r=()=>{const s=this.muted();this.muted(!0);const n=()=>{this.muted(s)};this.playTerminatedQueue_.push(n);const a=this.play();if(cu(a))return a.catch(o=>{throw n(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${o||""}`)})};let i;if(e==="any"&&!this.muted()?(i=this.play(),cu(i)&&(i=i.catch(r))):e==="muted"&&!this.muted()?i=r():i=this.play(),!!cu(i))return i.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let r=e,i="";typeof r!="string"&&(r=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],r&&!i&&(i=KL(this,r)),this.cache_.source=Ut({},e,{src:r,type:i});const s=this.cache_.sources.filter(l=>l.src&&l.src===r),n=[],a=this.$$("source"),o=[];for(let l=0;l<a.length;l++){const u=jn(a[l]);n.push(u),u.src&&u.src===r&&o.push(u.src)}o.length&&!s.length?this.cache_.sources=n:s.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=r}handleTechSourceset_(e){if(!this.changingSrc_){let r=n=>this.updateSourceCaches_(n);const i=this.currentSource().src,s=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(s)&&(!this.lastSource_||this.lastSource_.tech!==s&&this.lastSource_.player!==i)&&(r=()=>{}),r(s),e.src||this.tech_.any(["sourceset","loadstart"],n=>{if(n.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),r=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",r))};this.on("timeupdate",r)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?As(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),i=>i.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const r=e.target.player;if(r&&r!==this)return;const i=this.el();let s=Se[this.fsApi_.fullscreenElement]===i;!s&&i.matches&&(s=i.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(s)}handleTechFullscreenChange_(e,r){r&&(r.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(r.isFullscreen))}handleTechFullscreenError_(e,r){this.trigger("fullscreenerror",r)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,r){this.ready(function(){if(e in HL)return qL(this.middleware_,this.tech_,e,r);if(e in oy)return ay(this.middleware_,this.tech_,e,r);try{this.tech_&&this.tech_[e](r)}catch(i){throw vt(i),i}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in jL)return zL(this.middleware_,this.tech_,e);if(e in oy)return ay(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(r){throw this.tech_[e]===void 0?(vt(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,r),r):r.name==="TypeError"?(vt(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,r),this.tech_.isReady_=!1,r):(vt(r),r)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=As){this.playCallbacks_.push(e);const r=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),i=!!(Xd||ii);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!r){this.waitToPlay_=a=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!r&&i&&this.load();return}const s=this.techGet_("play");i&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),s===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(s)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(r){r()})}runPlayCallbacks_(e){const r=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],r.forEach(function(i){i(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||cs(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=cs(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=cs(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return q8(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),r=this.duration();let i=e.end(e.length-1);return i>r&&(i=r),i}volume(e){let r;if(e!==void 0){r=Math.max(0,Math.min(1,e)),this.cache_.volume=r,this.techCall_("setVolume",r),r>0&&this.lastVolume_(r);return}return r=parseFloat(this.techGet_("volume")),isNaN(r)?1:r}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const r=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==r&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const r=this;return new Promise((i,s)=>{function n(){r.off("fullscreenerror",o),r.off("fullscreenchange",a)}function a(){n(),i()}function o(u,c){n(),s(c)}r.one("fullscreenchange",a),r.one("fullscreenerror",o);const l=r.requestFullscreenHelper_(e);l&&(l.then(n,n),l.then(i,s))})}requestFullscreenHelper_(e){let r;if(this.fsApi_.prefixed||(r=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(r=e)),this.fsApi_.requestFullscreen){const i=this.el_[this.fsApi_.requestFullscreen](r);return i&&i.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),i}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((r,i)=>{function s(){e.off("fullscreenerror",a),e.off("fullscreenchange",n)}function n(){s(),r()}function a(l,u){s(),i(u)}e.one("fullscreenchange",n),e.one("fullscreenerror",a);const o=e.exitFullscreenHelper_();o&&(o.then(s,s),o.then(r,i))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Se[this.fsApi_.exitFullscreen]();return e&&As(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Se.documentElement.style.overflow,Li(Se,"keydown",this.boundFullWindowOnEscKey_),Se.documentElement.style.overflow="hidden",Na(Se.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Fr(Se,"keydown",this.boundFullWindowOnEscKey_),Se.documentElement.style.overflow=this.docOrigOverflow,Kd(Se.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&$.documentPictureInPicture){const e=Se.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(Je("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),$.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(r=>(D8(r),this.el_.parentNode.insertBefore(e,this.el_),r.document.body.appendChild(this.el_),r.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:r}),r.addEventListener("pagehide",i=>{const s=i.target.querySelector(".video-js");e.parentNode.replaceChild(s,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),r))}return"pictureInPictureEnabled"in Se&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if($.documentPictureInPicture&&$.documentPictureInPicture.window)return $.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Se)return Se.exitPictureInPicture()}handleKeyDown(e){const{userActions:r}=this.options_;!r||!r.hotkeys||(s=>{const n=s.tagName.toLowerCase();if(s.isContentEditable)return!0;const a=["button","checkbox","hidden","radio","reset","submit"];return n==="input"?a.indexOf(s.type)===-1:["textarea"].indexOf(n)!==-1})(this.el_.ownerDocument.activeElement)||(typeof r.hotkeys=="function"?r.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const r=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:i=a=>e.key.toLowerCase()==="f",muteKey:s=a=>e.key.toLowerCase()==="m",playPauseKey:n=a=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=r;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();const a=le.getComponent("FullscreenToggle");Se[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else s.call(this,e)?(e.preventDefault(),e.stopPropagation(),le.getComponent("MuteToggle").prototype.handleClick.call(this,e)):n.call(this,e)&&(e.preventDefault(),e.stopPropagation(),le.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let r;for(let i=0,s=this.options_.techOrder;i<s.length;i++){const n=s[i];let a=dt.getTech(n);if(a||(a=le.getComponent(n)),!a){vt.error(`The "${n}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(r=a.canPlayType(e),r))return r}return""}selectSource(e){const r=this.options_.techOrder.map(o=>[o,dt.getTech(o)]).filter(([o,l])=>l?l.isSupported():(vt.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`),!1)),i=function(o,l,u){let c;return o.some(h=>l.some(f=>{if(c=u(h,f),c)return!0})),c};let s;const n=o=>(l,u)=>o(u,l),a=([o,l],u)=>{if(l.canPlaySource(u,this.options_[o.toLowerCase()]))return{source:u,tech:o}};return this.options_.sourceOrder?s=i(e,r,n(a)):s=i(r,e,a),s||!1}handleSrc_(e,r){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const i=W8(e);if(!i.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,r||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),UL(this,i[0],(s,n)=>{if(this.middleware_=n,r||(this.cache_.sources=i),this.updateSourceCaches_(s),this.src_(s)){if(i.length>1)return this.handleSrc_(i.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}$L(n,this.tech_)}),i.length>1){const s=()=>{this.error(null),this.handleSrc_(i.slice(1),!0)},n=()=>{this.off("error",s)};this.one("error",s),this.one("playing",n),this.resetRetryOnError_=()=>{this.off("error",s),this.off("playing",n)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const r=this.selectSource([e]);return r?F8(r.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();As(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),ln(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:r,progressControl:i,remainingTimeDisplay:s}=this.controlBar||{},{seekBar:n}=i||{};e&&e.updateContent(),r&&r.updateContent(),s&&s.updateContent(),n&&(n.update(),n.loadProgressBar&&n.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),r=[];return Object.keys(e).length!==0&&r.push(e),this.cache_.sources||r}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let r;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),r=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,r=typeof r>"u"?this.options_.autoplay:r,this.tech_&&this.techCall_("setAutoplay",r)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(Yn("beforeerror").forEach(r=>{const i=r(this,e);if(!(Fs(i)&&!Array.isArray(i)||typeof i=="string"||typeof i=="number"||i===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=i}),this.options_.suppressNotSupportedError&&e&&e.code===4){const r=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],r),this.one("loadstart",function(){this.off(["click","touchstart"],r)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Jt(e),this.addClass("vjs-error"),vt.error(`(CODE:${this.error_.code} ${Jt.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),Yn("error").forEach(r=>r(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(r){r.stopPropagation(),r.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,r,i;const s=jt(this,this.reportUserActivity),n=function(h){(h.screenX!==r||h.screenY!==i)&&(r=h.screenX,i=h.screenY,s())},a=function(){s(),this.clearInterval(e),e=this.setInterval(s,250)},o=function(h){s(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",n),this.on("mouseup",o),this.on("mouseleave",o);const l=this.getChild("controlBar");l&&!ii&&!Us&&(l.on("mouseenter",function(h){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(h){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",s),this.on("keyup",s);let u;const c=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const h=this.options_.inactivityTimeout;h<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},h))};this.setInterval(c,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),r=this.getChild("ControlBar"),i=r&&r.currentHeight();e.forEach(s=>{s!==r&&s.el_&&!s.hasClass("vjs-hidden")&&(s.hide(),this.audioOnlyCache_.hiddenChildren.push(s))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=i,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(i),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const r=[];return this.isInPictureInPicture()&&r.push(this.exitPictureInPicture()),this.isFullscreen()&&r.push(this.exitFullscreen()),this.audioPosterMode()&&r.push(this.audioPosterMode(!1)),Promise.all(r).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,r,i){if(this.tech_)return this.tech_.addTextTrack(e,r,i)}addRemoteTextTrack(e,r){if(this.tech_)return this.tech_.addRemoteTextTrack(e,r)}removeRemoteTextTrack(e={}){let{track:r}=e;if(r||(r=e),this.tech_)return this.tech_.removeRemoteTextTrack(r)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),ln(this)&&this.trigger("languagechange"))}languages(){return Ut(Vt.prototype.options_.languages,this.languages_)}toJSON(){const e=Ut(this.options_),r=e.tracks;e.tracks=[];for(let i=0;i<r.length;i++){let s=r[i];s=Ut(s),s.player=void 0,e.tracks[i]=s}return e}createModal(e,r){r=r||{},r.content=e||"";const i=new al(this,r);return this.addChild(i),i.on("dispose",()=>{this.removeChild(i)}),i.open(),i}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),r=this.currentWidth();for(let i=0;i<Pp.length;i++){const s=Pp[i],n=this.breakpoints_[s];if(r<=n){if(e===s)return;e&&this.removeClass(b0[e]),this.addClass(b0[s]),this.breakpoint_=s;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},AP,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const r=this.responsive_;if(e!==r)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return b0[this.breakpoint_]||""}loadMedia(e,r){if(!e||typeof e!="object")return;const i=this.crossOrigin();this.reset(),this.cache_.media=Ut(e);const{artist:s,artwork:n,description:a,poster:o,src:l,textTracks:u,title:c}=this.cache_.media;!n&&o&&(this.cache_.media.artwork=[{src:o,type:Y0(o)}]),i&&this.crossOrigin(i),l&&this.src(l),o&&this.poster(o),Array.isArray(u)&&u.forEach(h=>this.addRemoteTextTrack(h,!1)),this.titleBar&&this.titleBar.update({title:c,description:a||s||""}),this.ready(r)}getMedia(){if(!this.cache_.media){const e=this.poster(),r=this.currentSources(),i=Array.prototype.map.call(this.remoteTextTracks(),n=>({kind:n.kind,label:n.label,language:n.language,src:n.src})),s={src:r,textTracks:i};return e&&(s.poster=e,s.artwork=[{src:s.poster,type:Y0(s.poster)}]),s}return Ut(this.cache_.media)}static getTagSettings(e){const r={sources:[],tracks:[]},i=jn(e),s=i["data-setup"];if(lu(e,"vjs-fill")&&(i.fill=!0),lu(e,"vjs-fluid")&&(i.fluid=!0),s!==null)try{Object.assign(i,JSON.parse(s||"{}"))}catch(n){vt.error("data-setup",n)}if(Object.assign(r,i),e.hasChildNodes()){const n=e.childNodes;for(let a=0,o=n.length;a<o;a++){const l=n[a],u=l.nodeName.toLowerCase();u==="source"?r.sources.push(jn(l)):u==="track"&&r.tracks.push(jn(l))}}return r}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(r=>typeof r=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Qr.names.forEach(function(t){const e=Qr[t];Vt.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Vt.prototype.crossorigin=Vt.prototype.crossOrigin;Vt.players={};const Fl=$.navigator;Vt.prototype.options_={techOrder:dt.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Fl&&(Fl.languages&&Fl.languages[0]||Fl.userLanguage||Fl.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1};Tb.forEach(function(t){Vt.prototype[`handleTech${rr(t)}_`]=function(){return this.trigger(t)}});le.registerComponent("Player",Vt);const Q0="plugin",Lo="activePlugins_",bo={},Z0=t=>bo.hasOwnProperty(t),_0=t=>Z0(t)?bo[t]:void 0,Sb=(t,e)=>{t[Lo]=t[Lo]||{},t[Lo][e]=!0},J0=(t,e,r)=>{const i=(r?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},kP=function(t,e){const r=function(){J0(this,{name:t,plugin:e,instance:null},!0);const i=e.apply(this,arguments);return Sb(this,t),J0(this,{name:t,plugin:e,instance:i}),i};return Object.keys(e).forEach(function(i){r[i]=e[i]}),r},Sy=(t,e)=>(e.prototype.name=t,function(...r){J0(this,{name:t,plugin:e,instance:null},!0);const i=new e(this,...r);return this[t]=()=>i,J0(this,i.getEventHash()),i});class vi{constructor(e){if(this.constructor===vi)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),d1(this),delete this.trigger,B8(this,this.constructor.defaultState),Sb(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,r={}){return nl(this.eventBusEl_,e,this.getEventHash(r))}handleStateChanged(e){}dispose(){const{name:e,player:r}=this;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[Lo][e]=!1,this.player=this.state=null,r[e]=Sy(e,bo[e])}static isBasic(e){const r=typeof e=="string"?_0(e):e;return typeof r=="function"&&!vi.prototype.isPrototypeOf(r.prototype)}static registerPlugin(e,r){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(Z0(e))vt.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(Vt.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof r!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof r}.`);return bo[e]=r,e!==Q0&&(vi.isBasic(r)?Vt.prototype[e]=kP(e,r):Vt.prototype[e]=Sy(e,r)),r}static deregisterPlugin(e){if(e===Q0)throw new Error("Cannot de-register base plugin.");Z0(e)&&(delete bo[e],delete Vt.prototype[e])}static getPlugins(e=Object.keys(bo)){let r;return e.forEach(i=>{const s=_0(i);s&&(r=r||{},r[i]=s)}),r}static getPluginVersion(e){const r=_0(e);return r&&r.VERSION||""}}vi.getPlugin=_0;vi.BASE_PLUGIN_NAME=Q0;vi.registerPlugin(Q0,vi);Vt.prototype.usingPlugin=function(t){return!!this[Lo]&&this[Lo][t]===!0};Vt.prototype.hasPlugin=function(t){return!!Z0(t)};function DP(t,e){let r=!1;return function(...i){return r||vt.warn(t),r=!0,e.apply(this,i)}}function ys(t,e,r,i){return DP(`${e} is deprecated and will be removed in ${t}.0; please use ${r} instead.`,i)}var IP={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const Cb=t=>t.indexOf("#")===0?t.slice(1):t;function te(t,e,r){let i=te.getPlayer(t);if(i)return e&&vt.warn(`Player "${t}" is already initialised. Options will not be applied.`),r&&i.ready(r),i;const s=typeof t=="string"?Qn("#"+Cb(t)):t;if(!sl(s))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a=("getRootNode"in s?s.getRootNode()instanceof $.ShadowRoot:!1)?s.getRootNode():s.ownerDocument.body;(!s.ownerDocument.defaultView||!a.contains(s))&&vt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(s.parentNode&&s.parentNode.hasAttribute&&s.parentNode.hasAttribute("data-vjs-player")?s.parentNode:s).cloneNode(!0)),Yn("beforesetup").forEach(l=>{const u=l(s,Ut(e));if(!Fs(u)||Array.isArray(u)){vt.error("please return an object in beforesetup hooks");return}e=Ut(e,u)});const o=le.getComponent("Player");return i=new o(s,e,r),Yn("setup").forEach(l=>l(i)),i}te.hooks_=rn;te.hooks=Yn;te.hook=lL;te.hookOnce=uL;te.removeHook=l8;if($.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&il()){let t=Qn(".vjs-styles-defaults");if(!t){t=P8("vjs-styles-defaults");const e=Qn("head");e&&e.insertBefore(t,e.firstChild),M8(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}Ep(1,te);te.VERSION=wp;te.options=Vt.prototype.options_;te.getPlayers=()=>Vt.players;te.getPlayer=t=>{const e=Vt.players;let r;if(typeof t=="string"){const i=Cb(t),s=e[i];if(s)return s;r=Qn("#"+i)}else r=t;if(sl(r)){const{player:i,playerId:s}=r;if(i||e[s])return i||e[s]}};te.getAllPlayers=()=>Object.keys(Vt.players).map(t=>Vt.players[t]).filter(Boolean);te.players=Vt.players;te.getComponent=le.getComponent;te.registerComponent=(t,e)=>(dt.isTech(e)&&vt.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),le.registerComponent.call(le,t,e));te.getTech=dt.getTech;te.registerTech=dt.registerTech;te.use=FL;Object.defineProperty(te,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(te.middleware,"TERMINATOR",{value:K0,writeable:!1,enumerable:!0});te.browser=y8;te.obj=hL;te.mergeOptions=ys(9,"videojs.mergeOptions","videojs.obj.merge",Ut);te.defineLazyProperty=ys(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Hd);te.bind=ys(9,"videojs.bind","native Function.prototype.bind",jt);te.registerPlugin=vi.registerPlugin;te.deregisterPlugin=vi.deregisterPlugin;te.plugin=(t,e)=>(vt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),vi.registerPlugin(t,e));te.getPlugins=vi.getPlugins;te.getPlugin=vi.getPlugin;te.getPluginVersion=vi.getPluginVersion;te.addLanguage=function(t,e){return t=(""+t).toLowerCase(),te.options.languages=Ut(te.options.languages,{[t]:e}),te.options.languages[t]};te.log=vt;te.createLogger=u8;te.time=AL;te.createTimeRange=ys(9,"videojs.createTimeRange","videojs.time.createTimeRanges",cs);te.createTimeRanges=ys(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",cs);te.formatTime=ys(9,"videojs.formatTime","videojs.time.formatTime",Va);te.setFormatTime=ys(9,"videojs.setFormatTime","videojs.time.setFormatTime",$8);te.resetFormatTime=ys(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",z8);te.parseUrl=ys(9,"videojs.parseUrl","videojs.url.parseUrl",p1);te.isCrossOrigin=ys(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",rh);te.EventTarget=Pi;te.any=c1;te.on=Li;te.one=eh;te.off=Fr;te.trigger=nl;te.xhr=h6;te.TextTrack=Wu;te.AudioTrack=V8;te.VideoTrack=G8;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{te[t]=function(){return vt.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),I8[t].apply(null,arguments)}});te.computedStyle=ys(9,"videojs.computedStyle","videojs.dom.computedStyle",Xo);te.dom=I8;te.fn=xL;te.num=nP;te.str=CL;te.url=NL;te.Error=IP;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class LP{constructor(e){let r=this;return r.id=e.id,r.label=r.id,r.width=e.width,r.height=e.height,r.bitrate=e.bandwidth,r.frameRate=e.frameRate,r.enabled_=e.enabled,Object.defineProperty(r,"enabled",{get(){return r.enabled_()},set(i){r.enabled_(i)}}),r}}class ed extends te.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let r=this.getQualityLevelById(e.id);if(r)return r;const i=this.levels_.length;return r=new LP(e),""+i in this||Object.defineProperty(this,i,{get(){return this.levels_[i]}}),this.levels_.push(r),this.trigger({qualityLevel:r,type:"addqualitylevel"}),r}removeQualityLevel(e){let r=null;for(let i=0,s=this.length;i<s;i++)if(this[i]===e){r=this.levels_.splice(i,1)[0],this.selectedIndex_===i?this.selectedIndex_=-1:this.selectedIndex_>i&&this.selectedIndex_--;break}return r&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),r}getQualityLevelById(e){for(let r=0,i=this.length;r<i;r++){const s=this[r];if(s.id===e)return s}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}ed.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in ed.prototype.allowedEvents_)ed.prototype["on"+t]=null;var Eb="4.1.0";const PP=function(t,e){const r=t.qualityLevels,i=new ed,s=function(){i.dispose(),t.qualityLevels=r,t.off("dispose",s)};return t.on("dispose",s),t.qualityLevels=()=>i,t.qualityLevels.VERSION=Eb,i},Ab=function(t){return PP(this,te.obj.merge({},t))};te.registerPlugin("qualityLevels",Ab);Ab.VERSION=Eb;/*! @name @videojs/http-streaming @version 3.13.3 @license Apache-2.0 */const fi=Bd,td=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,Ji=t=>te.log.debug?te.log.debug.bind(te,"VHS:",`${t} >`):function(){};function Lt(...t){const e=te.obj||te;return(e.merge||e.mergeOptions).apply(e,t)}function Mr(...t){const e=te.time||te;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function MP(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let r=0;r<t.length;r++){const i=t.start(r),s=t.end(r);e+=`${i} --> ${s}. Duration (${s-i})
`}return e}const ks=1/30,Ds=ks*3,kb=function(t,e){const r=[];let i;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&r.push([t.start(i),t.end(i)]);return Mr(r)},_o=function(t,e){return kb(t,function(r,i){return r-Ds<=e&&i+Ds>=e})},Xc=function(t,e){return kb(t,function(r){return r-ks>=e})},RP=function(t){if(t.length<2)return Mr();const e=[];for(let r=1;r<t.length;r++){const i=t.end(r-1),s=t.start(r);e.push([i,s])}return Mr(e)},OP=function(t,e){let r=null,i=null,s=0;const n=[],a=[];if(!t||!t.length||!e||!e.length)return Mr();let o=t.length;for(;o--;)n.push({time:t.start(o),type:"start"}),n.push({time:t.end(o),type:"end"});for(o=e.length;o--;)n.push({time:e.start(o),type:"start"}),n.push({time:e.end(o),type:"end"});for(n.sort(function(l,u){return l.time-u.time}),o=0;o<n.length;o++)n[o].type==="start"?(s++,s===2&&(r=n[o].time)):n[o].type==="end"&&(s--,s===1&&(i=n[o].time)),r!==null&&i!==null&&(a.push([r,i]),r=null,i=null);return Mr(a)},Db=t=>{const e=[];if(!t||!t.length)return"";for(let r=0;r<t.length;r++)e.push(t.start(r)+" => "+t.end(r));return e.join(", ")},NP=function(t,e,r=1){return((t.length?t.end(t.length-1):0)-e)/r},Ia=t=>{const e=[];for(let r=0;r<t.length;r++)e.push({start:t.start(r),end:t.end(r)});return e},BP=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let r=0;r<t.length;r++)if(t.start(r)!==e.start(r)||t.end(r)!==e.end(r))return!0;return!1},bf=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},P1=function(t,e){let r=0;if(!t||!t.length)return r;for(let i=0;i<t.length;i++){const s=t.start(i),n=t.end(i);if(!(e>n)){if(e>s&&e<=n){r+=n-e;continue}r+=n-s}}return r},M1=(t,e)=>{if(!e.preload)return e.duration;let r=0;return(e.parts||[]).forEach(function(i){r+=i.duration}),(e.preloadHints||[]).forEach(function(i){i.type==="PART"&&(r+=t.partTargetDuration)}),r},Mp=t=>(t.segments||[]).reduce((e,r,i)=>(r.parts?r.parts.forEach(function(s,n){e.push({duration:s.duration,segmentIndex:i,partIndex:n,part:s,segment:r})}):e.push({duration:r.duration,segmentIndex:i,partIndex:null,segment:r,part:null}),e),[]),Ib=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},Lb=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:r}=t;let i=(r||[]).reduce((s,n)=>s+(n.type==="PART"?1:0),0);return i+=e&&e.length?e.length:0,i},Pb=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const r=Ib(e).length>0;return r&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:r&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},FP=function(t,e){let r=0,i=e-t.mediaSequence,s=t.segments[i];if(s){if(typeof s.start<"u")return{result:s.start,precise:!0};if(typeof s.end<"u")return{result:s.end-s.duration,precise:!0}}for(;i--;){if(s=t.segments[i],typeof s.end<"u")return{result:r+s.end,precise:!0};if(r+=M1(t,s),typeof s.start<"u")return{result:r+s.start,precise:!0}}return{result:r,precise:!1}},UP=function(t,e){let r=0,i,s=e-t.mediaSequence;for(;s<t.segments.length;s++){if(i=t.segments[s],typeof i.start<"u")return{result:i.start-r,precise:!0};if(r+=M1(t,i),typeof i.end<"u")return{result:i.end-r,precise:!0}}return{result:-1,precise:!1}},Mb=function(t,e,r){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const i=FP(t,e);if(i.precise)return i.result;const s=UP(t,e);return s.precise?s.result:i.result+r},Rb=function(t,e,r){if(!t)return 0;if(typeof r!="number"&&(r=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return $.Infinity}return Mb(t,e,r)},du=function({defaultDuration:t,durationList:e,startIndex:r,endIndex:i}){let s=0;if(r>i&&([r,i]=[i,r]),r<0){for(let n=r;n<Math.min(0,i);n++)s+=t;r=0}for(let n=r;n<i;n++)s+=e[n].duration;return s},Ob=function(t,e,r,i){if(!t||!t.segments)return null;if(t.endList)return Rb(t);if(e===null)return null;e=e||0;let s=Mb(t,t.mediaSequence+t.segments.length,e);return r&&(i=typeof i=="number"?i:Pb(null,t),s-=i),Math.max(0,s)},$P=function(t,e,r){const s=e||0;let n=Ob(t,e,!0,r);return n===null?Mr():(n<s&&(n=s),Mr(s,n))},zP=function({playlist:t,currentTime:e,startingSegmentIndex:r,startingPartIndex:i,startTime:s,exactManifestTimings:n}){let a=e-s;const o=Mp(t);let l=0;for(let u=0;u<o.length;u++){const c=o[u];if(r===c.segmentIndex&&!(typeof i=="number"&&typeof c.partIndex=="number"&&i!==c.partIndex)){l=u;break}}if(a<0){if(l>0)for(let u=l-1;u>=0;u--){const c=o[u];if(a+=c.duration,n){if(a<0)continue}else if(a+ks<=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:s-du({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:u})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e}}if(l<0){for(let u=l;u<0;u++)if(a-=t.targetDuration,a<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e};l=0}for(let u=l;u<o.length;u++){const c=o[u];a-=c.duration;const h=c.duration>ks,f=a===0,y=h&&a+ks>=0;if(!((f||y)&&u!==o.length-1)){if(n){if(a>0)continue}else if(a-ks>=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:s+du({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:u})}}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:e}},Nb=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},R1=function(t){return t.excludeUntil&&t.excludeUntil===1/0},nh=function(t){const e=Nb(t);return!t.disabled&&!e},qP=function(t){return t.disabled},jP=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},Bb=function(t,e){return e.attributes&&e.attributes[t]},HP=function(t,e,r,i=0){return Bb("BANDWIDTH",r)?(t*r.attributes.BANDWIDTH-i*8)/e:NaN},Rp=(t,e)=>{if(t.playlists.length===1)return!0;const r=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(i=>nh(i)?(i.attributes.BANDWIDTH||0)<r:!1).length===0},O1=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),Cy=function(t,e){const r=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let i=!1;for(const s in r){for(const n in r[s])if(i=e(r[s][n]),i)break;if(i)break}return!!i},Qu=t=>{if(!t||!t.playlists||!t.playlists.length)return Cy(t,r=>r.playlists&&r.playlists.length||r.uri);for(let e=0;e<t.playlists.length;e++){const r=t.playlists[e],i=r.attributes&&r.attributes.CODECS;if(!(i&&i.split(",").every(n=>v6(n))||Cy(t,n=>O1(r,n))))return!1}return!0};var pi={liveEdgeDelay:Pb,duration:Rb,seekable:$P,getMediaInfoForTime:zP,isEnabled:nh,isDisabled:qP,isExcluded:Nb,isIncompatible:R1,playlistEnd:Ob,isAes:jP,hasAttribute:Bb,estimateSegmentRequestTime:HP,isLowestEnabledRendition:Rp,isAudioOnly:Qu,playlistMatch:O1,segmentDurationWithParts:M1};const{log:Fb}=te,Po=(t,e)=>`${t}-${e}`,Ub=(t,e,r)=>`placeholder-uri-${t}-${e}-${r}`,VP=({onwarn:t,oninfo:e,manifestString:r,customTagParsers:i=[],customTagMappers:s=[],llhls:n})=>{const a=new nD;t&&a.on("warn",t),e&&a.on("info",e),i.forEach(u=>a.addParser(u)),s.forEach(u=>a.addTagMapper(u)),a.push(r),a.end();const o=a.manifest;if(n||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){o.hasOwnProperty(u)&&delete o[u]}),o.segments&&o.segments.forEach(function(u){["parts","preloadHints"].forEach(function(c){u.hasOwnProperty(c)&&delete u[c]})})),!o.targetDuration){let u=10;o.segments&&o.segments.length&&(u=o.segments.reduce((c,h)=>Math.max(c,h.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${u}`}),o.targetDuration=u}const l=Ib(o);if(l.length&&!o.partTargetDuration){const u=l.reduce((c,h)=>Math.max(c,h.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${u}`}),Fb.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=u}return o},ul=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(r=>{if(t.mediaGroups[r])for(const i in t.mediaGroups[r])for(const s in t.mediaGroups[r][i]){const n=t.mediaGroups[r][i][s];e(n,r,i,s)}})},$b=({playlist:t,uri:e,id:r})=>{t.id=r,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},GP=t=>{let e=t.playlists.length;for(;e--;){const r=t.playlists[e];$b({playlist:r,id:Po(e,r.uri)}),r.resolvedUri=fi(t.uri,r.uri),t.playlists[r.id]=r,t.playlists[r.uri]=r,r.attributes.BANDWIDTH||Fb.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},WP=t=>{ul(t,e=>{e.uri&&(e.resolvedUri=fi(t.uri,e.uri))})},XP=(t,e)=>{const r=Po(0,e),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:$.location.href,resolvedUri:$.location.href,playlists:[{uri:e,id:r,resolvedUri:e,attributes:{}}]};return i.playlists[r]=i.playlists[0],i.playlists[e]=i.playlists[0],i},zb=(t,e,r=Ub)=>{t.uri=e;for(let s=0;s<t.playlists.length;s++)if(!t.playlists[s].uri){const n=`placeholder-uri-${s}`;t.playlists[s].uri=n}const i=Qu(t);ul(t,(s,n,a,o)=>{if(!s.playlists||!s.playlists.length){if(i&&n==="AUDIO"&&!s.uri)for(let l=0;l<t.playlists.length;l++){const u=t.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===a)return}s.playlists=[ir({},s)]}s.playlists.forEach(function(l,u){const c=r(n,a,o,l),h=Po(u,c);l.uri?l.resolvedUri=l.resolvedUri||fi(t.uri,l.uri):(l.uri=u===0?c:h,l.resolvedUri=l.uri),l.id=l.id||h,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),GP(t),WP(t)};class Ey{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[r]=e;r.programDateTime!==void 0&&(this.offset_=r.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[r]=e,i=r.startDate.getTime();this.trimProcessedDateRanges_(i),this.pendingDateRanges_=e.reduce((s,n)=>(s.set(n.id,n),s),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},r=[];this.pendingDateRanges_.forEach((i,s)=>{if(!this.processedDateRanges_.has(s)&&(i.startTime=i.startDate.getTime()/1e3-this.offset_,i.processDateRange=()=>this.processDateRange(i),r.push(i),!!i.class))if(e[i.class]){const n=e[i.class].push(i);i.classListIndex=n-1}else e[i.class]=[i],i.classListIndex=0});for(const i of r){const s=e[i.class]||[];i.endDate?i.endTime=i.endDate.getTime()/1e3-this.offset_:i.endOnNext&&s[i.classListIndex+1]?i.endTime=s[i.classListIndex+1].startTime:i.duration?i.endTime=i.startTime+i.duration:i.plannedDuration?i.endTime=i.startTime+i.plannedDuration:i.endTime=i.startTime}return r}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((i,s)=>{i.startDate.getTime()<e&&this.processedDateRanges_.delete(s)})}}const qb=22,Ua=({requestType:t,request:e,error:r,parseFailure:i})=>{const s=e.status<200||e.status>299,n=e.status>=400&&e.status<=499,a={uri:e.uri,requestType:t},o=s&&!n||i;if(r&&n)a.error=ir({},r),a.errorType=te.Error.NetworkRequestFailed;else if(e.aborted)a.errorType=te.Error.NetworkRequestAborted;else if(e.timedout)a.erroType=te.Error.NetworkRequestTimeout;else if(o){const l=i?te.Error.NetworkBodyParserFailed:te.Error.NetworkBadStatus;a.errorType=l,a.status=e.status,a.headers=e.headers}return a},{EventTarget:KP}=te,YP=(t,e)=>{if(e.endList||!e.serverControl)return t;const r={};if(e.serverControl.canBlockReload){const{preloadSegment:i}=e;let s=e.mediaSequence+e.segments.length;if(i){const n=i.parts||[],a=Lb(e)-1;a>-1&&a!==n.length-1&&(r._HLS_part=a),(a>-1||n.length)&&s--}r._HLS_msn=s}if(e.serverControl&&e.serverControl.canSkipUntil&&(r._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(r).length){const i=new $.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(s){r.hasOwnProperty(s)&&i.searchParams.set(s,r[s])}),t=i.toString()}return t},QP=(t,e)=>{if(!t)return e;const r=Lt(t,e);if(t.preloadHints&&!e.preloadHints&&delete r.preloadHints,t.parts&&!e.parts)delete r.parts;else if(t.parts&&e.parts)for(let i=0;i<e.parts.length;i++)t.parts&&t.parts[i]&&(r.parts[i]=Lt(t.parts[i],e.parts[i]));return!t.skipped&&e.skipped&&(r.skipped=!1),t.preload&&!e.preload&&(r.preload=!1),r},ZP=(t,e,r)=>{const i=t.slice(),s=e.slice();r=r||0;const n=[];let a;for(let o=0;o<s.length;o++){const l=i[o+r],u=s[o];l?(a=l.map||a,n.push(QP(l,u))):(a&&!u.map&&(u.map=a),n.push(u))}return n},jb=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=fi(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=fi(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=fi(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=fi(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(r=>{r.resolvedUri||(r.resolvedUri=fi(e,r.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(r=>{r.resolvedUri||(r.resolvedUri=fi(e,r.uri))})},Hb=function(t){const e=t.segments||[],r=t.preloadSegment;if(r&&r.parts&&r.parts.length){if(r.preloadHints){for(let i=0;i<r.preloadHints.length;i++)if(r.preloadHints[i].type==="MAP")return e}r.duration=t.targetDuration,r.preload=!0,e.push(r)}return e},Vb=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,Op=(t,e,r=Vb)=>{const i=Lt(t,{}),s=i.playlists[e.id];if(!s||r(s,e))return null;e.segments=Hb(e);const n=Lt(s,e);if(n.preloadSegment&&!e.preloadSegment&&delete n.preloadSegment,s.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}n.segments=ZP(s.segments,e.segments,e.mediaSequence-s.mediaSequence)}n.segments.forEach(a=>{jb(a,n.resolvedUri)});for(let a=0;a<i.playlists.length;a++)i.playlists[a].id===e.id&&(i.playlists[a]=n);return i.playlists[e.id]=n,i.playlists[e.uri]=n,ul(t,(a,o,l,u)=>{if(a.playlists)for(let c=0;c<a.playlists.length;c++)e.id===a.playlists[c].id&&(a.playlists[c]=n)}),i},Np=(t,e)=>{const r=t.segments||[],i=r[r.length-1],s=i&&i.parts&&i.parts[i.parts.length-1],n=s&&s.duration||i&&i.duration;return e&&n?n*1e3:(t.partTargetDuration||t.targetDuration||10)*500},Ay=(t,e,r)=>{if(!t)return;const i=[];return t.forEach(s=>{if(!s.attributes)return;const{BANDWIDTH:n,RESOLUTION:a,CODECS:o}=s.attributes;i.push({id:s.id,bandwidth:n,resolution:a,codecs:o})}),{type:e,isLive:r,renditions:i}};class xo extends KP{constructor(e,r,i={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Ji("PlaylistLoader");const{withCredentials:s=!1}=i;this.src=e,this.vhs_=r,this.withCredentials=s,this.addDateRangesToTextTrack_=i.addDateRangesToTextTrack;const n=r.options_;this.customTagParsers=n&&n.customTagParsers||[],this.customTagMappers=n&&n.customTagMappers||[],this.llhls=n&&n.llhls,this.dateRangesStorage_=new Ey,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const r=this.dateRangesStorage_.getDateRangesToProcess();!r.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(r)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let r=fi(this.main.uri,e.uri);this.llhls&&(r=YP(r,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:r,withCredentials:this.withCredentials,requestType:"hls-playlist"},(i,s)=>{if(this.request){if(i)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,r,i){const{uri:s,id:n}=r;this.request=null,i&&(this.state=i),this.error={playlist:this.main.playlists[n],status:e.status,message:`HLS playlist request error at URL: ${s}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:Ua({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:r}){try{return VP({onwarn:({message:i})=>this.logger_(`m3u8-parser warn for ${e}: ${i}`),oninfo:({message:i})=>this.logger_(`m3u8-parser info for ${e}: ${i}`),manifestString:r,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(i){this.error=i,this.error.metadata={errorType:te.Error.StreamingHlsPlaylistParserError,error:i}}}haveMetadata({playlistString:e,playlistObject:r,url:i,id:s}){this.request=null,this.state="HAVE_METADATA";const n={playlistInfo:{type:"media",uri:i}};this.trigger({type:"playlistparsestart",metadata:n});const a=r||this.parseManifest_({url:i,manifestString:e});a.lastRequest=Date.now(),$b({playlist:a,uri:i,id:s});const o=Op(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[s]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Np(this.media(),!!o)),n.parsedPlaylist=Ay(this.main.playlists,n.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:n}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),$.clearTimeout(this.mediaUpdateTimeout),$.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new Ey,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,r){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if($.clearTimeout(this.finalRenditionTimeout),r){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=$.setTimeout(this.media.bind(this,e,!1),o);return}const i=this.state,s=!this.media_||e.id!==this.media_.id,n=this.main.playlists[e.id];if(n&&n.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,s&&(this.trigger("mediachanging"),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Np(e,!0)),!s)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const a={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(o,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=td(e.resolvedUri,l),o)return this.playlistRequestError(this.request,e,i);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&($.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&($.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const r=this.media();if(e){const i=r?(r.partTargetDuration||r.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=$.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},i);return}if(!this.started){this.start();return}r&&!r.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&($.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=$.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=$.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,i)=>{if(!this.request)return;if(this.request=null,r)return this.error={status:i.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:i.responseText,code:2,metadata:Ua({requestType:i.requestType,request:i,error:r})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=td(this.src,i),this.trigger({type:"playlistparsestart",metadata:e});const s=this.parseManifest_({manifestString:i.responseText,url:this.src});e.parsedPlaylist=Ay(s.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(s)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,zb(this.main,this.srcUri()),e.playlists.forEach(i=>{i.segments=Hb(i),i.segments.forEach(s=>{jb(s,i.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const r=this.srcUri()||$.location.href;this.main=XP(e,r),this.haveMetadata({playlistObject:e,url:r,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,r){const i=this.main,s=e.ID;let n=i.playlists.length;for(;n--;){const a=i.playlists[n];if(a.attributes["PATHWAY-ID"]===s){const o=a.resolvedUri,l=a.id;if(r){const u=this.createCloneURI_(a.resolvedUri,e),c=Po(s,u),h=this.createCloneAttributes_(s,a.attributes),f=this.createClonePlaylist_(a,c,e,h);i.playlists[n]=f,i.playlists[c]=f,i.playlists[u]=f}else i.playlists.splice(n,1);delete i.playlists[l],delete i.playlists[o]}}this.updateOrDeleteCloneMedia(e,r)}updateOrDeleteCloneMedia(e,r){const i=this.main,s=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(n=>{if(!(!i.mediaGroups[n]||!i.mediaGroups[n][s])){for(const a in i.mediaGroups[n])if(a===s){for(const o in i.mediaGroups[n][a])i.mediaGroups[n][a][o].playlists.forEach((u,c)=>{const h=i.playlists[u.id],f=h.id,y=h.resolvedUri;delete i.playlists[f],delete i.playlists[y]});delete i.mediaGroups[n][a]}}}),r&&this.createClonedMediaGroups_(e)}addClonePathway(e,r={}){const i=this.main,s=i.playlists.length,n=this.createCloneURI_(r.resolvedUri,e),a=Po(e.ID,n),o=this.createCloneAttributes_(e.ID,r.attributes),l=this.createClonePlaylist_(r,a,e,o);i.playlists[s]=l,i.playlists[a]=l,i.playlists[n]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const r=e.ID,i=e["BASE-ID"],s=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(n=>{if(!(!s.mediaGroups[n]||s.mediaGroups[n][r]))for(const a in s.mediaGroups[n]){if(a===i)s.mediaGroups[n][r]={};else continue;for(const o in s.mediaGroups[n][a]){const l=s.mediaGroups[n][a][o];s.mediaGroups[n][r][o]=ir({},l);const u=s.mediaGroups[n][r][o],c=this.createCloneURI_(l.resolvedUri,e);u.resolvedUri=c,u.uri=c,u.playlists=[],l.playlists.forEach((h,f)=>{const y=s.playlists[h.id],w=Ub(n,r,o),_=Po(r,w);if(y&&!s.playlists[_]){const C=this.createClonePlaylist_(y,_,e),E=C.resolvedUri;s.playlists[_]=C,s.playlists[E]=C}u.playlists[f]=this.createClonePlaylist_(h,_,e)})}}})}createClonePlaylist_(e,r,i,s){const n=this.createCloneURI_(e.resolvedUri,i),a={resolvedUri:n,uri:n,id:r};return e.segments&&(a.segments=[]),s&&(a.attributes=s),Lt(e,a)}createCloneURI_(e,r){const i=new URL(e);i.hostname=r["URI-REPLACEMENT"].HOST;const s=r["URI-REPLACEMENT"].PARAMS;for(const n of Object.keys(s))i.searchParams.set(n,s[n]);return i.href}createCloneAttributes_(e,r){const i={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{r[s]&&(i[s]=e)}),i}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const i in e.contentProtection){const s=e.contentProtection[i].attributes.keyId;s&&r.add(s.toLowerCase())}return r}}}const Bp=function(t,e,r,i){const s=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&s&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=s.byteLength||s.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),r.headers&&(t.responseHeaders=r.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&r.statusCode!==200&&r.statusCode!==206&&r.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(s||t.responseText)))),i(e,t)},JP=(t,e)=>{if(!t||!t.size)return;let r=e;return t.forEach(i=>{r=i(r)}),r},eM=(t,e,r,i)=>{!t||!t.size||t.forEach(s=>{s(e,r,i)})},Gb=function(){const t=function e(r,i){r=Lt({timeout:45e3},r);const s=e.beforeRequest||te.Vhs.xhr.beforeRequest,n=e._requestCallbackSet||te.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||te.Vhs.xhr._responseCallbackSet;s&&typeof s=="function"&&(te.log.warn("beforeRequest is deprecated, use onRequest instead."),n.add(s));const o=te.Vhs.xhr.original===!0?te.xhr:te.Vhs.xhr,l=JP(n,r);n.delete(s);const u=o(l||r,function(h,f){return eM(a,u,h,f),Bp(u,h,f,i)}),c=u.abort;return u.abort=function(){return u.aborted=!0,c.apply(u,arguments)},u.uri=r.uri,u.requestType=r.requestType,u.requestTime=Date.now(),u};return t.original=!0,t},tM=function(t){let e;const r=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=$.BigInt(t.offset)+$.BigInt(t.length)-$.BigInt(1):e=t.offset+t.length-1,"bytes="+r+"-"+e},Fp=function(t){const e={};return t.byterange&&(e.Range=tM(t.byterange)),e},rM=function(t,e){return t.start(e)+"-"+t.end(e)},iM=function(t,e){const r=t.toString(16);return"00".substring(0,2-r.length)+r+(e%2?" ":"")},sM=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},Wb=function(t){const e={};return Object.keys(t).forEach(r=>{const i=t[r];_6(i)?e[r]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[r]=i}),e},rd=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},Xb=function(t){return t.resolvedUri},Kb=t=>{const e=Array.prototype.slice.call(t),r=16;let i="",s,n;for(let a=0;a<e.length/r;a++)s=e.slice(a*r,a*r+r).map(iM).join(""),n=e.slice(a*r,a*r+r).map(sM).join(""),i+=s+" "+n+`
`;return i},nM=({bytes:t})=>Kb(t),aM=t=>{let e="",r;for(r=0;r<t.length;r++)e+=rM(t,r)+" ";return e};var oM=Object.freeze({__proto__:null,createTransferableMessage:Wb,initSegmentId:rd,segmentKeyId:Xb,hexDump:Kb,tagDump:nM,textRanges:aM});const Yb=.25,lM=(t,e)=>{if(!e.dateTimeObject)return null;const r=e.videoTimingInfo.transmuxerPrependedSeconds,s=e.videoTimingInfo.transmuxedPresentationStart+r,n=t-s;return new Date(e.dateTimeObject.getTime()+n*1e3)},uM=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,cM=(t,e)=>{let r;try{r=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let i=e.segments[0];if(r<new Date(i.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){i=e.segments[l];const u=new Date(e.segments[l+1].dateTimeObject);if(r<u)break}const s=e.segments[e.segments.length-1],n=s.dateTimeObject,a=s.videoTimingInfo?uM(s.videoTimingInfo):s.duration+s.duration*Yb,o=new Date(n.getTime()+a*1e3);return r>o?null:(r>new Date(n)&&(i=s),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:pi.duration(e,e.mediaSequence+e.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})},dM=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let r=0,i;for(let n=0;n<e.segments.length&&(i=e.segments[n],r=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:r+i.duration,!(t<=r));n++);const s=e.segments[e.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>r){if(t>r+s.duration*Yb)return null;i=s}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:r-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}},hM=(t,e)=>{let r,i;try{r=new Date(t),i=new Date(e)}catch{}const s=r.getTime();return(i.getTime()-s)/1e3},fM=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},pM=({playlist:t,time:e=void 0,callback:r})=>{if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return r({message:"getProgramTime: playlist and time must be provided"});const i=dM(e,t);if(!i)return r({message:"valid programTime was not found"});if(i.type==="estimate")return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:i.estimatedStart});const s={mediaSeconds:e},n=lM(e,i.segment);return n&&(s.programDateTime=n.toISOString()),r(null,s)},Qb=({programTime:t,playlist:e,retryCount:r=2,seekTo:i,pauseAfterSeek:s=!0,tech:n,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!i)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!n.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!fM(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const o=cM(t,e);if(!o)return a({message:`${t} was not found in the stream`});const l=o.segment,u=hM(l.dateTimeObject,t);if(o.type==="estimate"){if(r===0)return a({message:`${t} is not buffered yet. Try again`});i(o.estimatedStart+u),n.one("seeked",()=>{Qb({programTime:t,playlist:e,retryCount:r-1,seekTo:i,pauseAfterSeek:s,tech:n,callback:a})});return}const c=l.start+u,h=()=>a(null,n.currentTime());n.one("seeked",h),s&&n.pause(),i(c)},_f=(t,e)=>{if(t.readyState===4)return e()},mM=(t,e,r,i)=>{let s=[],n,a=!1;const o=function(h,f,y,w){return f.abort(),a=!0,r(h,f,y,w)},l=function(h,f){if(a)return;if(h)return h.metadata=Ua({requestType:i,request:f,error:h}),o(h,f,"",s);const y=f.responseText.substring(s&&s.byteLength||0,f.responseText.length);if(s=yD(s,x6(y,!0)),n=n||Kl(s),s.length<10||n&&s.length<n+2)return _f(f,()=>o(h,f,"",s));const w=t1(s);return w==="ts"&&s.length<188?_f(f,()=>o(h,f,"",s)):!w&&s.length<376?_f(f,()=>o(h,f,"",s)):o(null,f,w,s)},c=e({uri:t,beforeSend(h){h.overrideMimeType("text/plain; charset=x-user-defined"),h.addEventListener("progress",function({total:f,loaded:y}){return Bp(h,null,{statusCode:h.status},l)})}},function(h,f){return Bp(c,h,f,l)});return c},{EventTarget:gM}=te,ky=function(t,e){if(!Vb(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let r=0;r<t.segments.length;r++){const i=t.segments[r],s=e.segments[r];if(i.uri!==s.uri)return!1;if(!i.byterange&&!s.byterange)continue;const n=i.byterange,a=s.byterange;if(n&&!a||!n&&a||n.offset!==a.offset||n.length!==a.length)return!1}return!0},yM=(t,e,r,i)=>{const s=i.attributes.NAME||r;return`placeholder-uri-${t}-${e}-${s}`},vM=({mainXml:t,srcUrl:e,clientOffset:r,sidxMapping:i,previousManifest:s})=>{const n=$I(t,{manifestUri:e,clientOffset:r,sidxMapping:i,previousManifest:s});return zb(n,e,yM),n},bM=(t,e)=>{ul(t,(r,i,s,n)=>{n in e.mediaGroups[i][s]||delete t.mediaGroups[i][s][n]})},_M=(t,e,r)=>{let i=!0,s=Lt(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let n=0;n<e.playlists.length;n++){const a=e.playlists[n];if(a.sidx){const l=zd(a.sidx);r&&r[l]&&r[l].sidx&&Zm(a,r[l].sidx,a.sidx.resolvedUri)}const o=Op(s,a,ky);o&&(s=o,i=!1)}return ul(e,(n,a,o,l)=>{if(n.playlists&&n.playlists.length){const u=n.playlists[0].id,c=Op(s,n.playlists[0],ky);c&&(s=c,l in s.mediaGroups[a][o]||(s.mediaGroups[a][o][l]=n),s.mediaGroups[a][o][l].playlists[0]=s.playlists[u],i=!1)}}),bM(s,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(i=!1),i?null:s},xM=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,Dy=(t,e)=>{const r={};for(const i in t){const n=t[i].sidx;if(n){const a=zd(n);if(!e[a])break;const o=e[a].sidxInfo;xM(o,n)&&(r[a]=e[a])}}return r},wM=(t,e)=>{let i=Dy(t.playlists,e);return ul(t,(s,n,a,o)=>{if(s.playlists&&s.playlists.length){const l=s.playlists;i=Lt(i,Dy(l,e))}}),i};class Up extends gM{constructor(e,r,i={},s){super(),this.mainPlaylistLoader_=s||this,s||(this.isMain_=!0);const{withCredentials:n=!1}=i;if(this.vhs_=r,this.withCredentials=n,this.addMetadataToTextTrack=i.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Ji("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,r,i){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:r.status,message:"DASH request error at URL: "+r.uri,response:r.response,code:2,metadata:e.metadata},i&&(this.state=i),this.trigger("error"),!0}addSidxSegments_(e,r,i){const s=e.sidx&&zd(e.sidx);if(!e.sidx||!s||this.mainPlaylistLoader_.sidxMapping_[s]){this.mediaRequest_=$.setTimeout(()=>i(!1),0);return}const n=td(e.sidx.resolvedUri),a=(l,u)=>{if(this.requestErrored_(l,u,r))return;const c=this.mainPlaylistLoader_.sidxMapping_,{requestType:h}=u;let f;try{f=GI(Ge(u.response).subarray(8))}catch(y){y.metadata=Ua({requestType:h,request:u,parseFailure:!0}),this.requestErrored_(y,u,r);return}return c[s]={sidxInfo:e.sidx,sidx:f},Zm(e,f,e.sidx.resolvedUri),i(!0)},o="dash-sidx";this.request=mM(n,this.vhs_.xhr,(l,u,c,h)=>{if(l)return a(l,u);if(!c||c!=="mp4"){const w=c||"unknown";return a({status:u.status,message:`Unsupported ${w} container type for sidx segment at URL: ${n}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},u)}const{offset:f,length:y}=e.sidx.byterange;if(h.length>=y+f)return a(l,{response:h.subarray(f,f+y),status:u.status,uri:u.uri});this.request=this.vhs_.xhr({uri:n,responseType:"arraybuffer",requestType:"dash-sidx",headers:Fp({byterange:e.sidx.byterange})},a)},o)}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},$.clearTimeout(this.minimumUpdatePeriodTimeout_),$.clearTimeout(this.mediaRequest_),$.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const r=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const i=!this.media_||e.id!==this.media_.id;if(i&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}i&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,r,s=>{this.haveMetadata({startingState:r,playlist:e})}))}haveMetadata({startingState:e,playlist:r}){this.state="HAVE_METADATA",this.loadedPlaylists_[r.id]=r,this.mediaRequest_=null,this.refreshMedia_(r.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),$.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&($.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){$.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const r=this.media();if(e){const i=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=$.setTimeout(()=>this.load(),i);return}if(!this.started){this.start();return}r&&!r.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=$.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,r)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const r={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:r}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(i,s)=>{if(i){const{requestType:a}=s;i.metadata=Ua({requestType:a,request:s,error:i})}if(this.requestErrored_(i,s)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:r});const n=s.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=s.responseText,s.responseHeaders&&s.responseHeaders.date?this.mainLoaded_=Date.parse(s.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=td(this.mainPlaylistLoader_.srcUrl,s),n){this.handleMain_(),this.syncClientServerClock_(()=>e(s,n));return}return e(s,n)})}syncClientServerClock_(e){const r=zI(this.mainPlaylistLoader_.mainXml_);if(r===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(r.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=r.value-Date.now(),e();this.request=this.vhs_.xhr({uri:fi(this.mainPlaylistLoader_.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(i,s)=>{if(!this.request)return;if(i){const{requestType:a}=s;return this.error.metadata=Ua({requestType:a,request:s,error:i}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let n;r.method==="HEAD"?!s.responseHeaders||!s.responseHeaders.date?n=this.mainLoaded_:n=Date.parse(s.responseHeaders.date):n=Date.parse(s.responseText),this.mainPlaylistLoader_.clientOffset_=n-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,r={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:r});let i;try{i=vM({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(n){this.error=n,this.error.metadata={errorType:te.Error.StreamingDashManifestParserError,error:n},this.trigger("error")}e&&(i=_M(e,i,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=i||e;const s=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(s&&s!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=s),(!e||i&&i.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(i),i){const{duration:n,endList:a}=i,o=[];i.playlists.forEach(u=>{o.push({id:u.id,bandwidth:u.attributes.BANDWIDTH,resolution:u.attributes.RESOLUTION,codecs:u.attributes.CODECS})});const l={duration:n,isLive:!a,renditions:o};r.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:r})}return!!i}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&($.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let r=e.main&&e.main.minimumUpdatePeriod;if(r===0&&(e.media()?r=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof r!="number"||r<=0){r<0&&this.logger_(`found invalid minimumUpdatePeriod of ${r}, not setting a timeout`);return}this.createMUPTimeout_(r)}createMUPTimeout_(e){const r=this.mainPlaylistLoader_;r.minimumUpdatePeriodTimeout_=$.setTimeout(()=>{r.minimumUpdatePeriodTimeout_=null,r.trigger("minimumUpdatePeriod"),r.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,r)=>{r&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=wM(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,i=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const r=this.mainPlaylistLoader_.main.playlists,i=!this.media_||this.media_!==r[e];if(i?this.media_=r[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const s=()=>{this.media().endList||(this.mediaUpdateTimeout=$.setTimeout(()=>{this.trigger("mediaupdatetimeout"),s()},Np(this.media(),!!i)))};s()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const r=this.mainPlaylistLoader_.main.eventStream.map(i=>({cueTime:i.start,frames:[{data:i.messageData}]}));this.addMetadataToTextTrack("EventStream",r,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const i in e.contentProtection){const s=e.contentProtection[i].attributes["cenc:default_KID"];s&&r.add(s.replace(/-/g,"").toLowerCase())}return r}}}var Cr={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const TM=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e.buffer},Zb=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},SM=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const r=new BlobBuilder;return r.append(t),URL.createObjectURL(r.getBlob())}},Jb=function(t){return function(){const e=SM(t),r=Zb(new Worker(e));r.objURL=e;const i=r.terminate;return r.on=r.addEventListener,r.off=r.removeEventListener,r.terminate=function(){return URL.revokeObjectURL(e),i.call(this)},r}},e7=function(t){return`var browserWorkerPolyFill = ${Zb.toString()};
browserWorkerPolyFill(self);
`+t},t7=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},CM=e7(t7(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var d={};this.on=function(m,v){d[m]||(d[m]=[]),d[m]=d[m].concat(v)},this.off=function(m,v){var g;return d[m]?(g=d[m].indexOf(v),d[m]=d[m].slice(),d[m].splice(g,1),g>-1):!1},this.trigger=function(m){var v,g,x,S;if(v=d[m],!!v)if(arguments.length===2)for(x=v.length,g=0;g<x;++g)v[g].call(this,arguments[1]);else{for(S=[],g=arguments.length,g=1;g<arguments.length;++g)S.push(arguments[g]);for(x=v.length,g=0;g<x;++g)v[g].apply(this,S)}},this.dispose=function(){d={}}}};e.prototype.pipe=function(d){return this.on("data",function(m){d.push(m)}),this.on("done",function(m){d.flush(m)}),this.on("partialdone",function(m){d.partialFlush(m)}),this.on("endedtimeline",function(m){d.endTimeline(m)}),this.on("reset",function(m){d.reset(m)}),d},e.prototype.push=function(d){this.trigger("data",d)},e.prototype.flush=function(d){this.trigger("done",d)},e.prototype.partialFlush=function(d){this.trigger("partialdone",d)},e.prototype.endTimeline=function(d){this.trigger("endedtimeline",d)},e.prototype.reset=function(d){this.trigger("reset",d)};var r=e,i=Math.pow(2,32),s=function(d){var m=new DataView(d.buffer,d.byteOffset,d.byteLength),v;return m.getBigUint64?(v=m.getBigUint64(0),v<Number.MAX_SAFE_INTEGER?Number(v):v):m.getUint32(0)*i+m.getUint32(4)},n={getUint64:s,MAX_UINT32:i},a=n.MAX_UINT32,o,l,u,c,h,f,y,w,_,C,E,k,D,P,L,U,J,X,H,re,Z,W,ne,ce,$e,ke,De,ze,Et,wt,Ze,ut,rt,Pt,it,bt;(function(){var d;if(ne={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(d in ne)ne.hasOwnProperty(d)&&(ne[d]=[d.charCodeAt(0),d.charCodeAt(1),d.charCodeAt(2),d.charCodeAt(3)]);ce=new Uint8Array([105,115,111,109]),ke=new Uint8Array([97,118,99,49]),$e=new Uint8Array([0,0,0,1]),De=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ze=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Et={video:De,audio:ze},ut=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Ze=new Uint8Array([0,0,0,0,0,0,0,0]),rt=new Uint8Array([0,0,0,0,0,0,0,0]),Pt=rt,it=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),bt=rt,wt=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(d){var m=[],v=0,g,x,S;for(g=1;g<arguments.length;g++)m.push(arguments[g]);for(g=m.length;g--;)v+=m[g].byteLength;for(x=new Uint8Array(v+8),S=new DataView(x.buffer,x.byteOffset,x.byteLength),S.setUint32(0,x.byteLength),x.set(d,4),g=0,v=8;g<m.length;g++)x.set(m[g],v),v+=m[g].byteLength;return x},l=function(){return o(ne.dinf,o(ne.dref,ut))},u=function(d){return o(ne.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,d.audioobjecttype<<3|d.samplingfrequencyindex>>>1,d.samplingfrequencyindex<<7|d.channelcount<<3,6,1,2]))},c=function(){return o(ne.ftyp,ce,$e,ce,ke)},U=function(d){return o(ne.hdlr,Et[d])},h=function(d){return o(ne.mdat,d)},L=function(d){var m=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,d.duration>>>24&255,d.duration>>>16&255,d.duration>>>8&255,d.duration&255,85,196,0,0]);return d.samplerate&&(m[12]=d.samplerate>>>24&255,m[13]=d.samplerate>>>16&255,m[14]=d.samplerate>>>8&255,m[15]=d.samplerate&255),o(ne.mdhd,m)},P=function(d){return o(ne.mdia,L(d),U(d.type),y(d))},f=function(d){return o(ne.mfhd,new Uint8Array([0,0,0,0,(d&4278190080)>>24,(d&16711680)>>16,(d&65280)>>8,d&255]))},y=function(d){return o(ne.minf,d.type==="video"?o(ne.vmhd,wt):o(ne.smhd,Ze),l(),X(d))},w=function(d,m){for(var v=[],g=m.length;g--;)v[g]=re(m[g]);return o.apply(null,[ne.moof,f(d)].concat(v))},_=function(d){for(var m=d.length,v=[];m--;)v[m]=k(d[m]);return o.apply(null,[ne.moov,E(4294967295)].concat(v).concat(C(d)))},C=function(d){for(var m=d.length,v=[];m--;)v[m]=Z(d[m]);return o.apply(null,[ne.mvex].concat(v))},E=function(d){var m=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(d&4278190080)>>24,(d&16711680)>>16,(d&65280)>>8,d&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(ne.mvhd,m)},J=function(d){var m=d.samples||[],v=new Uint8Array(4+m.length),g,x;for(x=0;x<m.length;x++)g=m[x].flags,v[x+4]=g.dependsOn<<4|g.isDependedOn<<2|g.hasRedundancy;return o(ne.sdtp,v)},X=function(d){return o(ne.stbl,H(d),o(ne.stts,bt),o(ne.stsc,Pt),o(ne.stsz,it),o(ne.stco,rt))},function(){var d,m;H=function(v){return o(ne.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),v.type==="video"?d(v):m(v))},d=function(v){var g=v.sps||[],x=v.pps||[],S=[],M=[],O,F;for(O=0;O<g.length;O++)S.push((g[O].byteLength&65280)>>>8),S.push(g[O].byteLength&255),S=S.concat(Array.prototype.slice.call(g[O]));for(O=0;O<x.length;O++)M.push((x[O].byteLength&65280)>>>8),M.push(x[O].byteLength&255),M=M.concat(Array.prototype.slice.call(x[O]));if(F=[ne.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(v.width&65280)>>8,v.width&255,(v.height&65280)>>8,v.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(ne.avcC,new Uint8Array([1,v.profileIdc,v.profileCompatibility,v.levelIdc,255].concat([g.length],S,[x.length],M))),o(ne.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],v.sarRatio){var j=v.sarRatio[0],K=v.sarRatio[1];F.push(o(ne.pasp,new Uint8Array([(j&4278190080)>>24,(j&16711680)>>16,(j&65280)>>8,j&255,(K&4278190080)>>24,(K&16711680)>>16,(K&65280)>>8,K&255])))}return o.apply(null,F)},m=function(v){return o(ne.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(v.channelcount&65280)>>8,v.channelcount&255,(v.samplesize&65280)>>8,v.samplesize&255,0,0,0,0,(v.samplerate&65280)>>8,v.samplerate&255,0,0]),u(v))}}(),D=function(d){var m=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(d.id&4278190080)>>24,(d.id&16711680)>>16,(d.id&65280)>>8,d.id&255,0,0,0,0,(d.duration&4278190080)>>24,(d.duration&16711680)>>16,(d.duration&65280)>>8,d.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(d.width&65280)>>8,d.width&255,0,0,(d.height&65280)>>8,d.height&255,0,0]);return o(ne.tkhd,m)},re=function(d){var m,v,g,x,S,M,O;return m=o(ne.tfhd,new Uint8Array([0,0,0,58,(d.id&4278190080)>>24,(d.id&16711680)>>16,(d.id&65280)>>8,d.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),M=Math.floor(d.baseMediaDecodeTime/a),O=Math.floor(d.baseMediaDecodeTime%a),v=o(ne.tfdt,new Uint8Array([1,0,0,0,M>>>24&255,M>>>16&255,M>>>8&255,M&255,O>>>24&255,O>>>16&255,O>>>8&255,O&255])),S=92,d.type==="audio"?(g=W(d,S),o(ne.traf,m,v,g)):(x=J(d),g=W(d,x.length+S),o(ne.traf,m,v,g,x))},k=function(d){return d.duration=d.duration||4294967295,o(ne.trak,D(d),P(d))},Z=function(d){var m=new Uint8Array([0,0,0,0,(d.id&4278190080)>>24,(d.id&16711680)>>16,(d.id&65280)>>8,d.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return d.type!=="video"&&(m[m.length-1]=0),o(ne.trex,m)},function(){var d,m,v;v=function(g,x){var S=0,M=0,O=0,F=0;return g.length&&(g[0].duration!==void 0&&(S=1),g[0].size!==void 0&&(M=2),g[0].flags!==void 0&&(O=4),g[0].compositionTimeOffset!==void 0&&(F=8)),[0,0,S|M|O|F,1,(g.length&4278190080)>>>24,(g.length&16711680)>>>16,(g.length&65280)>>>8,g.length&255,(x&4278190080)>>>24,(x&16711680)>>>16,(x&65280)>>>8,x&255]},m=function(g,x){var S,M,O,F,j,K;for(F=g.samples||[],x+=20+16*F.length,O=v(F,x),M=new Uint8Array(O.length+F.length*16),M.set(O),S=O.length,K=0;K<F.length;K++)j=F[K],M[S++]=(j.duration&4278190080)>>>24,M[S++]=(j.duration&16711680)>>>16,M[S++]=(j.duration&65280)>>>8,M[S++]=j.duration&255,M[S++]=(j.size&4278190080)>>>24,M[S++]=(j.size&16711680)>>>16,M[S++]=(j.size&65280)>>>8,M[S++]=j.size&255,M[S++]=j.flags.isLeading<<2|j.flags.dependsOn,M[S++]=j.flags.isDependedOn<<6|j.flags.hasRedundancy<<4|j.flags.paddingValue<<1|j.flags.isNonSyncSample,M[S++]=j.flags.degradationPriority&61440,M[S++]=j.flags.degradationPriority&15,M[S++]=(j.compositionTimeOffset&4278190080)>>>24,M[S++]=(j.compositionTimeOffset&16711680)>>>16,M[S++]=(j.compositionTimeOffset&65280)>>>8,M[S++]=j.compositionTimeOffset&255;return o(ne.trun,M)},d=function(g,x){var S,M,O,F,j,K;for(F=g.samples||[],x+=20+8*F.length,O=v(F,x),S=new Uint8Array(O.length+F.length*8),S.set(O),M=O.length,K=0;K<F.length;K++)j=F[K],S[M++]=(j.duration&4278190080)>>>24,S[M++]=(j.duration&16711680)>>>16,S[M++]=(j.duration&65280)>>>8,S[M++]=j.duration&255,S[M++]=(j.size&4278190080)>>>24,S[M++]=(j.size&16711680)>>>16,S[M++]=(j.size&65280)>>>8,S[M++]=j.size&255;return o(ne.trun,S)},W=function(g,x){return g.type==="audio"?d(g,x):m(g,x)}}();var ie={ftyp:c,mdat:h,moof:w,moov:_,initSegment:function(d){var m=c(),v=_(d),g;return g=new Uint8Array(m.byteLength+v.byteLength),g.set(m),g.set(v,m.byteLength),g}},ve=function(d){var m,v,g=[],x=[];for(x.byteLength=0,x.nalCount=0,x.duration=0,g.byteLength=0,m=0;m<d.length;m++)v=d[m],v.nalUnitType==="access_unit_delimiter_rbsp"?(g.length&&(g.duration=v.dts-g.dts,x.byteLength+=g.byteLength,x.nalCount+=g.length,x.duration+=g.duration,x.push(g)),g=[v],g.byteLength=v.data.byteLength,g.pts=v.pts,g.dts=v.dts):(v.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(g.keyFrame=!0),g.duration=v.dts-g.dts,g.byteLength+=v.data.byteLength,g.push(v));return x.length&&(!g.duration||g.duration<=0)&&(g.duration=x[x.length-1].duration),x.byteLength+=g.byteLength,x.nalCount+=g.length,x.duration+=g.duration,x.push(g),x},_e=function(d){var m,v,g=[],x=[];for(g.byteLength=0,g.nalCount=0,g.duration=0,g.pts=d[0].pts,g.dts=d[0].dts,x.byteLength=0,x.nalCount=0,x.duration=0,x.pts=d[0].pts,x.dts=d[0].dts,m=0;m<d.length;m++)v=d[m],v.keyFrame?(g.length&&(x.push(g),x.byteLength+=g.byteLength,x.nalCount+=g.nalCount,x.duration+=g.duration),g=[v],g.nalCount=v.length,g.byteLength=v.byteLength,g.pts=v.pts,g.dts=v.dts,g.duration=v.duration):(g.duration+=v.duration,g.nalCount+=v.length,g.byteLength+=v.byteLength,g.push(v));return x.length&&g.duration<=0&&(g.duration=x[x.length-1].duration),x.byteLength+=g.byteLength,x.nalCount+=g.nalCount,x.duration+=g.duration,x.push(g),x},Le=function(d){var m;return!d[0][0].keyFrame&&d.length>1&&(m=d.shift(),d.byteLength-=m.byteLength,d.nalCount-=m.nalCount,d[0][0].dts=m.dts,d[0][0].pts=m.pts,d[0][0].duration+=m.duration),d},at=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},ot=function(d,m){var v=at();return v.dataOffset=m,v.compositionTimeOffset=d.pts-d.dts,v.duration=d.duration,v.size=4*d.length,v.size+=d.byteLength,d.keyFrame&&(v.flags.dependsOn=2,v.flags.isNonSyncSample=0),v},R=function(d,m){var v,g,x,S,M,O=m||0,F=[];for(v=0;v<d.length;v++)for(S=d[v],g=0;g<S.length;g++)M=S[g],x=ot(M,O),O+=x.size,F.push(x);return F},B=function(d){var m,v,g,x,S,M,O=0,F=d.byteLength,j=d.nalCount,K=F+4*j,se=new Uint8Array(K),Pe=new DataView(se.buffer);for(m=0;m<d.length;m++)for(x=d[m],v=0;v<x.length;v++)for(S=x[v],g=0;g<S.length;g++)M=S[g],Pe.setUint32(O,M.data.byteLength),O+=4,se.set(M.data,O),O+=M.data.byteLength;return se},Q=function(d,m){var v,g=m||0,x=[];return v=ot(d,g),x.push(v),x},de=function(d){var m,v,g=0,x=d.byteLength,S=d.length,M=x+4*S,O=new Uint8Array(M),F=new DataView(O.buffer);for(m=0;m<d.length;m++)v=d[m],F.setUint32(g,v.data.byteLength),g+=4,O.set(v.data,g),g+=v.data.byteLength;return O},ue={groupNalsIntoFrames:ve,groupFramesIntoGops:_e,extendFirstKeyFrame:Le,generateSampleTable:R,concatenateNalData:B,generateSampleTableForFrame:Q,concatenateNalDataForFrame:de},he=[33,16,5,32,164,27],Ce=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],pe=function(d){for(var m=[];d--;)m.push(0);return m},Ee=function(d){return Object.keys(d).reduce(function(m,v){return m[v]=new Uint8Array(d[v].reduce(function(g,x){return g.concat(x)},[])),m},{})},be,He=function(){if(!be){var d={96e3:[he,[227,64],pe(154),[56]],88200:[he,[231],pe(170),[56]],64e3:[he,[248,192],pe(240),[56]],48e3:[he,[255,192],pe(268),[55,148,128],pe(54),[112]],44100:[he,[255,192],pe(268),[55,163,128],pe(84),[112]],32e3:[he,[255,192],pe(268),[55,234],pe(226),[112]],24e3:[he,[255,192],pe(268),[55,255,128],pe(268),[111,112],pe(126),[224]],16e3:[he,[255,192],pe(268),[55,255,128],pe(268),[111,255],pe(269),[223,108],pe(195),[1,192]],12e3:[Ce,pe(268),[3,127,248],pe(268),[6,255,240],pe(268),[13,255,224],pe(268),[27,253,128],pe(259),[56]],11025:[Ce,pe(268),[3,127,248],pe(268),[6,255,240],pe(268),[13,255,224],pe(268),[27,255,192],pe(268),[55,175,128],pe(108),[112]],8e3:[Ce,pe(268),[3,121,16],pe(47),[7]]};be=Ee(d)}return be},Ie=9e4,Be,je,ht,Tt,_t,cr,er;Be=function(d){return d*Ie},je=function(d,m){return d*m},ht=function(d){return d/Ie},Tt=function(d,m){return d/m},_t=function(d,m){return Be(Tt(d,m))},cr=function(d,m){return je(ht(d),m)},er=function(d,m,v){return ht(v?d:d-m)};var ft={ONE_SECOND_IN_TS:Ie,secondsToVideoTs:Be,secondsToAudioTs:je,videoTsToSeconds:ht,audioTsToSeconds:Tt,audioTsToVideoTs:_t,videoTsToAudioTs:cr,metadataTsToSeconds:er},dr=He,hr=ft,es=function(d){var m,v,g=0;for(m=0;m<d.length;m++)v=d[m],g+=v.data.byteLength;return g},yr=function(d,m,v,g){var x,S=0,M=0,O=0,F=0,j,K,se;if(m.length&&(x=hr.audioTsToVideoTs(d.baseMediaDecodeTime,d.samplerate),S=Math.ceil(hr.ONE_SECOND_IN_TS/(d.samplerate/1024)),v&&g&&(M=x-Math.max(v,g),O=Math.floor(M/S),F=O*S),!(O<1||F>hr.ONE_SECOND_IN_TS/2))){for(j=dr()[d.samplerate],j||(j=m[0].data),K=0;K<O;K++)se=m[0],m.splice(0,0,{data:j,dts:se.dts-S,pts:se.pts-S});return d.baseMediaDecodeTime-=Math.floor(hr.videoTsToAudioTs(F,d.samplerate)),F}},Or=function(d,m,v){return m.minSegmentDts>=v?d:(m.minSegmentDts=1/0,d.filter(function(g){return g.dts>=v?(m.minSegmentDts=Math.min(m.minSegmentDts,g.dts),m.minSegmentPts=m.minSegmentDts,!0):!1}))},Za=function(d){var m,v,g=[];for(m=0;m<d.length;m++)v=d[m],g.push({size:v.data.byteLength,duration:1024});return g},la=function(d){var m,v,g=0,x=new Uint8Array(es(d));for(m=0;m<d.length;m++)v=d[m],x.set(v.data,g),g+=v.data.byteLength;return x},mh={prefixWithSilence:yr,trimAdtsFramesByEarliestDts:Or,generateSampleTable:Za,concatenateFrameData:la},gh=ft.ONE_SECOND_IN_TS,fr=function(d,m){typeof m.pts=="number"&&(d.timelineStartInfo.pts===void 0&&(d.timelineStartInfo.pts=m.pts),d.minSegmentPts===void 0?d.minSegmentPts=m.pts:d.minSegmentPts=Math.min(d.minSegmentPts,m.pts),d.maxSegmentPts===void 0?d.maxSegmentPts=m.pts:d.maxSegmentPts=Math.max(d.maxSegmentPts,m.pts)),typeof m.dts=="number"&&(d.timelineStartInfo.dts===void 0&&(d.timelineStartInfo.dts=m.dts),d.minSegmentDts===void 0?d.minSegmentDts=m.dts:d.minSegmentDts=Math.min(d.minSegmentDts,m.dts),d.maxSegmentDts===void 0?d.maxSegmentDts=m.dts:d.maxSegmentDts=Math.max(d.maxSegmentDts,m.dts))},Cn=function(d){delete d.minSegmentDts,delete d.maxSegmentDts,delete d.minSegmentPts,delete d.maxSegmentPts},yh=function(d,m){var v,g,x=d.minSegmentDts;return m||(x-=d.timelineStartInfo.dts),v=d.timelineStartInfo.baseMediaDecodeTime,v+=x,v=Math.max(0,v),d.type==="audio"&&(g=d.samplerate/gh,v*=g,v=Math.floor(v)),v},nc={clearDtsInfo:Cn,calculateTrackBaseMediaDecodeTime:yh,collectDtsInfo:fr},Ja=4,ac=128,oc=function(d){for(var m=0,v={payloadType:-1,payloadSize:0},g=0,x=0;m<d.byteLength&&d[m]!==ac;){for(;d[m]===255;)g+=255,m++;for(g+=d[m++];d[m]===255;)x+=255,m++;if(x+=d[m++],!v.payload&&g===Ja){var S=String.fromCharCode(d[m+3],d[m+4],d[m+5],d[m+6]);if(S==="GA94"){v.payloadType=g,v.payloadSize=x,v.payload=d.subarray(m,m+x);break}else v.payload=void 0}m+=x,g=0,x=0}return v},vh=function(d){return d.payload[0]!==181||(d.payload[1]<<8|d.payload[2])!==49||String.fromCharCode(d.payload[3],d.payload[4],d.payload[5],d.payload[6])!=="GA94"||d.payload[7]!==3?null:d.payload.subarray(8,d.payload.length-1)},lc=function(d,m){var v=[],g,x,S,M;if(!(m[0]&64))return v;for(x=m[0]&31,g=0;g<x;g++)S=g*3,M={type:m[S+2]&3,pts:d},m[S+2]&4&&(M.ccData=m[S+3]<<8|m[S+4],v.push(M));return v},uc=function(d){for(var m=d.byteLength,v=[],g=1,x,S;g<m-2;)d[g]===0&&d[g+1]===0&&d[g+2]===3?(v.push(g+2),g+=2):g++;if(v.length===0)return d;x=m-v.length,S=new Uint8Array(x);var M=0;for(g=0;g<x;M++,g++)M===v[0]&&(M++,v.shift()),S[g]=d[M];return S},cc={parseSei:oc,parseUserData:vh,parseCaptionPackets:lc,discardEmulationPreventionBytes:uc,USER_DATA_REGISTERED_ITU_T_T35:Ja},li=r,Vs=cc,Lr=function(d){d=d||{},Lr.prototype.init.call(this),this.parse708captions_=typeof d.parse708captions=="boolean"?d.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new me(0,0),new me(0,1),new me(1,0),new me(1,1)],this.parse708captions_&&(this.cc708Stream_=new Dt({captionServices:d.captionServices})),this.reset(),this.ccStreams_.forEach(function(m){m.on("data",this.trigger.bind(this,"data")),m.on("partialdone",this.trigger.bind(this,"partialdone")),m.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Lr.prototype=new li,Lr.prototype.push=function(d){var m,v,g;if(d.nalUnitType==="sei_rbsp"&&(m=Vs.parseSei(d.escapedRBSP),!!m.payload&&m.payloadType===Vs.USER_DATA_REGISTERED_ITU_T_T35&&(v=Vs.parseUserData(m),!!v))){if(d.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(d.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}g=Vs.parseCaptionPackets(d.pts,v),this.captionPackets_=this.captionPackets_.concat(g),this.latestDts_!==d.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=d.dts}},Lr.prototype.flushCCStreams=function(d){this.ccStreams_.forEach(function(m){return d==="flush"?m.flush():m.partialFlush()},this)},Lr.prototype.flushStream=function(d){if(!this.captionPackets_.length){this.flushCCStreams(d);return}this.captionPackets_.forEach(function(m,v){m.presortIndex=v}),this.captionPackets_.sort(function(m,v){return m.pts===v.pts?m.presortIndex-v.presortIndex:m.pts-v.pts}),this.captionPackets_.forEach(function(m){m.type<2?this.dispatchCea608Packet(m):this.dispatchCea708Packet(m)},this),this.captionPackets_.length=0,this.flushCCStreams(d)},Lr.prototype.flush=function(){return this.flushStream("flush")},Lr.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Lr.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(d){d.reset()})},Lr.prototype.dispatchCea608Packet=function(d){this.setsTextOrXDSActive(d)?this.activeCea608Channel_[d.type]=null:this.setsChannel1Active(d)?this.activeCea608Channel_[d.type]=0:this.setsChannel2Active(d)&&(this.activeCea608Channel_[d.type]=1),this.activeCea608Channel_[d.type]!==null&&this.ccStreams_[(d.type<<1)+this.activeCea608Channel_[d.type]].push(d)},Lr.prototype.setsChannel1Active=function(d){return(d.ccData&30720)===4096},Lr.prototype.setsChannel2Active=function(d){return(d.ccData&30720)===6144},Lr.prototype.setsTextOrXDSActive=function(d){return(d.ccData&28928)===256||(d.ccData&30974)===4138||(d.ccData&30974)===6186},Lr.prototype.dispatchCea708Packet=function(d){this.parse708captions_&&this.cc708Stream_.push(d)};var dc={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},hc=function(d){var m=dc[d]||d;return d&4096&&d===m?"":String.fromCharCode(m)},ua=function(d){return 32<=d&&d<=127||160<=d&&d<=255},vr=function(d){this.windowNum=d,this.reset()};vr.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},vr.prototype.getText=function(){return this.rows.join(`
`)},vr.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},vr.prototype.newLine=function(d){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(d),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},vr.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},vr.prototype.addText=function(d){this.rows[this.rowIdx]+=d},vr.prototype.backspace=function(){if(!this.isEmpty()){var d=this.rows[this.rowIdx];this.rows[this.rowIdx]=d.substr(0,d.length-1)}};var ca=function(d,m,v){this.serviceNum=d,this.text="",this.currentWindow=new vr(-1),this.windows=[],this.stream=v,typeof m=="string"&&this.createTextDecoder(m)};ca.prototype.init=function(d,m){this.startPts=d;for(var v=0;v<8;v++)this.windows[v]=new vr(v),typeof m=="function"&&(this.windows[v].beforeRowOverflow=m)},ca.prototype.setCurrentWindow=function(d){this.currentWindow=this.windows[d]},ca.prototype.createTextDecoder=function(d){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(d)}catch(m){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+d+" encoding. "+m})}};var Dt=function(d){d=d||{},Dt.prototype.init.call(this);var m=this,v=d.captionServices||{},g={},x;Object.keys(v).forEach(S=>{x=v[S],/^SERVICE/.test(S)&&(g[S]=x.encoding)}),this.serviceEncodings=g,this.current708Packet=null,this.services={},this.push=function(S){S.type===3?(m.new708Packet(),m.add708Bytes(S)):(m.current708Packet===null&&m.new708Packet(),m.add708Bytes(S))}};Dt.prototype=new li,Dt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Dt.prototype.add708Bytes=function(d){var m=d.ccData,v=m>>>8,g=m&255;this.current708Packet.ptsVals.push(d.pts),this.current708Packet.data.push(v),this.current708Packet.data.push(g)},Dt.prototype.push708Packet=function(){var d=this.current708Packet,m=d.data,v=null,g=null,x=0,S=m[x++];for(d.seq=S>>6,d.sizeCode=S&63;x<m.length;x++)S=m[x++],v=S>>5,g=S&31,v===7&&g>0&&(S=m[x++],v=S),this.pushServiceBlock(v,x,g),g>0&&(x+=g-1)},Dt.prototype.pushServiceBlock=function(d,m,v){var g,x=m,S=this.current708Packet.data,M=this.services[d];for(M||(M=this.initService(d,x));x<m+v&&x<S.length;x++)g=S[x],ua(g)?x=this.handleText(x,M):g===24?x=this.multiByteCharacter(x,M):g===16?x=this.extendedCommands(x,M):128<=g&&g<=135?x=this.setCurrentWindow(x,M):152<=g&&g<=159?x=this.defineWindow(x,M):g===136?x=this.clearWindows(x,M):g===140?x=this.deleteWindows(x,M):g===137?x=this.displayWindows(x,M):g===138?x=this.hideWindows(x,M):g===139?x=this.toggleWindows(x,M):g===151?x=this.setWindowAttributes(x,M):g===144?x=this.setPenAttributes(x,M):g===145?x=this.setPenColor(x,M):g===146?x=this.setPenLocation(x,M):g===143?M=this.reset(x,M):g===8?M.currentWindow.backspace():g===12?M.currentWindow.clearText():g===13?M.currentWindow.pendingNewLine=!0:g===14?M.currentWindow.clearText():g===141&&x++},Dt.prototype.extendedCommands=function(d,m){var v=this.current708Packet.data,g=v[++d];return ua(g)&&(d=this.handleText(d,m,{isExtended:!0})),d},Dt.prototype.getPts=function(d){return this.current708Packet.ptsVals[Math.floor(d/2)]},Dt.prototype.initService=function(d,m){var g="SERVICE"+d,v=this,g,x;return g in this.serviceEncodings&&(x=this.serviceEncodings[g]),this.services[d]=new ca(d,x,v),this.services[d].init(this.getPts(m),function(S){v.flushDisplayed(S,v.services[d])}),this.services[d]},Dt.prototype.handleText=function(d,m,v){var g=v&&v.isExtended,x=v&&v.isMultiByte,S=this.current708Packet.data,M=g?4096:0,O=S[d],F=S[d+1],j=m.currentWindow,K,se;function Pe(fe){return fe.map(Xe=>("0"+(Xe&255).toString(16)).slice(-2)).join("")}if(x?(se=[O,F],d++):se=[O],m.textDecoder_&&!g)K=m.textDecoder_.decode(new Uint8Array(se));else if(x){const fe=Pe(se);K=String.fromCharCode(parseInt(fe,16))}else K=hc(M|O);return j.pendingNewLine&&!j.isEmpty()&&j.newLine(this.getPts(d)),j.pendingNewLine=!1,j.addText(K),d},Dt.prototype.multiByteCharacter=function(d,m){var v=this.current708Packet.data,g=v[d+1],x=v[d+2];return ua(g)&&ua(x)&&(d=this.handleText(++d,m,{isMultiByte:!0})),d},Dt.prototype.setCurrentWindow=function(d,m){var v=this.current708Packet.data,g=v[d],x=g&7;return m.setCurrentWindow(x),d},Dt.prototype.defineWindow=function(d,m){var v=this.current708Packet.data,g=v[d],x=g&7;m.setCurrentWindow(x);var S=m.currentWindow;return g=v[++d],S.visible=(g&32)>>5,S.rowLock=(g&16)>>4,S.columnLock=(g&8)>>3,S.priority=g&7,g=v[++d],S.relativePositioning=(g&128)>>7,S.anchorVertical=g&127,g=v[++d],S.anchorHorizontal=g,g=v[++d],S.anchorPoint=(g&240)>>4,S.rowCount=g&15,g=v[++d],S.columnCount=g&63,g=v[++d],S.windowStyle=(g&56)>>3,S.penStyle=g&7,S.virtualRowCount=S.rowCount+1,d},Dt.prototype.setWindowAttributes=function(d,m){var v=this.current708Packet.data,g=v[d],x=m.currentWindow.winAttr;return g=v[++d],x.fillOpacity=(g&192)>>6,x.fillRed=(g&48)>>4,x.fillGreen=(g&12)>>2,x.fillBlue=g&3,g=v[++d],x.borderType=(g&192)>>6,x.borderRed=(g&48)>>4,x.borderGreen=(g&12)>>2,x.borderBlue=g&3,g=v[++d],x.borderType+=(g&128)>>5,x.wordWrap=(g&64)>>6,x.printDirection=(g&48)>>4,x.scrollDirection=(g&12)>>2,x.justify=g&3,g=v[++d],x.effectSpeed=(g&240)>>4,x.effectDirection=(g&12)>>2,x.displayEffect=g&3,d},Dt.prototype.flushDisplayed=function(d,m){for(var v=[],g=0;g<8;g++)m.windows[g].visible&&!m.windows[g].isEmpty()&&v.push(m.windows[g].getText());m.endPts=d,m.text=v.join(`

`),this.pushCaption(m),m.startPts=d},Dt.prototype.pushCaption=function(d){d.text!==""&&(this.trigger("data",{startPts:d.startPts,endPts:d.endPts,text:d.text,stream:"cc708_"+d.serviceNum}),d.text="",d.startPts=d.endPts)},Dt.prototype.displayWindows=function(d,m){var v=this.current708Packet.data,g=v[++d],x=this.getPts(d);this.flushDisplayed(x,m);for(var S=0;S<8;S++)g&1<<S&&(m.windows[S].visible=1);return d},Dt.prototype.hideWindows=function(d,m){var v=this.current708Packet.data,g=v[++d],x=this.getPts(d);this.flushDisplayed(x,m);for(var S=0;S<8;S++)g&1<<S&&(m.windows[S].visible=0);return d},Dt.prototype.toggleWindows=function(d,m){var v=this.current708Packet.data,g=v[++d],x=this.getPts(d);this.flushDisplayed(x,m);for(var S=0;S<8;S++)g&1<<S&&(m.windows[S].visible^=1);return d},Dt.prototype.clearWindows=function(d,m){var v=this.current708Packet.data,g=v[++d],x=this.getPts(d);this.flushDisplayed(x,m);for(var S=0;S<8;S++)g&1<<S&&m.windows[S].clearText();return d},Dt.prototype.deleteWindows=function(d,m){var v=this.current708Packet.data,g=v[++d],x=this.getPts(d);this.flushDisplayed(x,m);for(var S=0;S<8;S++)g&1<<S&&m.windows[S].reset();return d},Dt.prototype.setPenAttributes=function(d,m){var v=this.current708Packet.data,g=v[d],x=m.currentWindow.penAttr;return g=v[++d],x.textTag=(g&240)>>4,x.offset=(g&12)>>2,x.penSize=g&3,g=v[++d],x.italics=(g&128)>>7,x.underline=(g&64)>>6,x.edgeType=(g&56)>>3,x.fontStyle=g&7,d},Dt.prototype.setPenColor=function(d,m){var v=this.current708Packet.data,g=v[d],x=m.currentWindow.penColor;return g=v[++d],x.fgOpacity=(g&192)>>6,x.fgRed=(g&48)>>4,x.fgGreen=(g&12)>>2,x.fgBlue=g&3,g=v[++d],x.bgOpacity=(g&192)>>6,x.bgRed=(g&48)>>4,x.bgGreen=(g&12)>>2,x.bgBlue=g&3,g=v[++d],x.edgeRed=(g&48)>>4,x.edgeGreen=(g&12)>>2,x.edgeBlue=g&3,d},Dt.prototype.setPenLocation=function(d,m){var v=this.current708Packet.data,g=v[d],x=m.currentWindow.penLoc;return m.currentWindow.pendingNewLine=!0,g=v[++d],x.row=g&15,g=v[++d],x.column=g&63,d},Dt.prototype.reset=function(d,m){var v=this.getPts(d);return this.flushDisplayed(v,m),this.initService(m.serviceNum,d)};var fc={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},da=function(d){return d===null?"":(d=fc[d]||d,String.fromCharCode(d))},eo=14,qe=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],G=function(){for(var d=[],m=eo+1;m--;)d.push({text:"",indent:0,offset:0});return d},me=function(d,m){me.prototype.init.call(this),this.field_=d||0,this.dataChannel_=m||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(v){var g,x,S,M,O;if(g=v.ccData&32639,g===this.lastControlCode_){this.lastControlCode_=null;return}if((g&61440)===4096?this.lastControlCode_=g:g!==this.PADDING_&&(this.lastControlCode_=null),S=g>>>8,M=g&255,g!==this.PADDING_)if(g===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(g===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(v.pts),this.flushDisplayed(v.pts),x=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=x,this.startPts_=v.pts;else if(g===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(v.pts);else if(g===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(v.pts);else if(g===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(v.pts);else if(g===this.CARRIAGE_RETURN_)this.clearFormatting(v.pts),this.flushDisplayed(v.pts),this.shiftRowsUp_(),this.startPts_=v.pts;else if(g===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(g===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(v.pts),this.displayed_=G();else if(g===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=G();else if(g===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(v.pts),this.displayed_=G()),this.mode_="paintOn",this.startPts_=v.pts;else if(this.isSpecialCharacter(S,M))S=(S&3)<<8,O=da(S|M),this[this.mode_](v.pts,O),this.column_++;else if(this.isExtCharacter(S,M))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),S=(S&3)<<8,O=da(S|M),this[this.mode_](v.pts,O),this.column_++;else if(this.isMidRowCode(S,M))this.clearFormatting(v.pts),this[this.mode_](v.pts," "),this.column_++,(M&14)===14&&this.addFormatting(v.pts,["i"]),(M&1)===1&&this.addFormatting(v.pts,["u"]);else if(this.isOffsetControlCode(S,M)){const j=M&3;this.nonDisplayed_[this.row_].offset=j,this.column_+=j}else if(this.isPAC(S,M)){var F=qe.indexOf(g&7968);if(this.mode_==="rollUp"&&(F-this.rollUpRows_+1<0&&(F=this.rollUpRows_-1),this.setRollUp(v.pts,F)),F!==this.row_&&F>=0&&F<=14&&(this.clearFormatting(v.pts),this.row_=F),M&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(v.pts,["u"]),(g&16)===16){const j=(g&14)>>1;this.column_=j*4,this.nonDisplayed_[this.row_].indent+=j}this.isColorPAC(M)&&(M&14)===14&&this.addFormatting(v.pts,["i"])}else this.isNormalChar(S)&&(M===0&&(M=null),O=da(S),O+=da(M),this[this.mode_](v.pts,O),this.column_+=O.length)}};me.prototype=new li,me.prototype.flushDisplayed=function(d){const m=g=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+g+"."})},v=[];this.displayed_.forEach((g,x)=>{if(g&&g.text&&g.text.length){try{g.text=g.text.trim()}catch{m(x)}g.text.length&&v.push({text:g.text,line:x+1,position:10+Math.min(70,g.indent*10)+g.offset*2.5})}else g==null&&m(x)}),v.length&&this.trigger("data",{startPts:this.startPts_,endPts:d,content:v,stream:this.name_})},me.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=G(),this.nonDisplayed_=G(),this.lastControlCode_=null,this.column_=0,this.row_=eo,this.rollUpRows_=2,this.formatting_=[]},me.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},me.prototype.isSpecialCharacter=function(d,m){return d===this.EXT_&&m>=48&&m<=63},me.prototype.isExtCharacter=function(d,m){return(d===this.EXT_+1||d===this.EXT_+2)&&m>=32&&m<=63},me.prototype.isMidRowCode=function(d,m){return d===this.EXT_&&m>=32&&m<=47},me.prototype.isOffsetControlCode=function(d,m){return d===this.OFFSET_&&m>=33&&m<=35},me.prototype.isPAC=function(d,m){return d>=this.BASE_&&d<this.BASE_+8&&m>=64&&m<=127},me.prototype.isColorPAC=function(d){return d>=64&&d<=79||d>=96&&d<=127},me.prototype.isNormalChar=function(d){return d>=32&&d<=127},me.prototype.setRollUp=function(d,m){if(this.mode_!=="rollUp"&&(this.row_=eo,this.mode_="rollUp",this.flushDisplayed(d),this.nonDisplayed_=G(),this.displayed_=G()),m!==void 0&&m!==this.row_)for(var v=0;v<this.rollUpRows_;v++)this.displayed_[m-v]=this.displayed_[this.row_-v],this.displayed_[this.row_-v]={text:"",indent:0,offset:0};m===void 0&&(m=this.row_),this.topRow_=m-this.rollUpRows_+1},me.prototype.addFormatting=function(d,m){this.formatting_=this.formatting_.concat(m);var v=m.reduce(function(g,x){return g+"<"+x+">"},"");this[this.mode_](d,v)},me.prototype.clearFormatting=function(d){if(this.formatting_.length){var m=this.formatting_.reverse().reduce(function(v,g){return v+"</"+g+">"},"");this.formatting_=[],this[this.mode_](d,m)}},me.prototype.popOn=function(d,m){var v=this.nonDisplayed_[this.row_].text;v+=m,this.nonDisplayed_[this.row_].text=v},me.prototype.rollUp=function(d,m){var v=this.displayed_[this.row_].text;v+=m,this.displayed_[this.row_].text=v},me.prototype.shiftRowsUp_=function(){var d;for(d=0;d<this.topRow_;d++)this.displayed_[d]={text:"",indent:0,offset:0};for(d=this.row_+1;d<eo+1;d++)this.displayed_[d]={text:"",indent:0,offset:0};for(d=this.topRow_;d<this.row_;d++)this.displayed_[d]=this.displayed_[d+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},me.prototype.paintOn=function(d,m){var v=this.displayed_[this.row_].text;v+=m,this.displayed_[this.row_].text=v};var Ue={CaptionStream:Lr,Cea608Stream:me,Cea708Stream:Dt},At={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Sr=r,br=8589934592,Nr=4294967296,wi="shared",Gs=function(d,m){var v=1;for(d>m&&(v=-1);Math.abs(m-d)>Nr;)d+=v*br;return d},_r=function(d){var m,v;_r.prototype.init.call(this),this.type_=d||wi,this.push=function(g){if(g.type==="metadata"){this.trigger("data",g);return}this.type_!==wi&&g.type!==this.type_||(v===void 0&&(v=g.dts),g.dts=Gs(g.dts,v),g.pts=Gs(g.pts,v),m=g.dts,this.trigger("data",g))},this.flush=function(){v=m,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){v=void 0,m=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};_r.prototype=new Sr;var gl={TimestampRolloverStream:_r,handleRollover:Gs},pc=(d,m,v)=>{if(!d)return-1;for(var g=v;g<d.length;g++)if(d[g]===m)return g;return-1},X_={typedArrayIndexOf:pc},mc=X_.typedArrayIndexOf,gc={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},og=function(d,m,v){var g,x="";for(g=m;g<v;g++)x+="%"+("00"+d[g].toString(16)).slice(-2);return x},yl=function(d,m,v){return decodeURIComponent(og(d,m,v))},vl=function(d,m,v){return unescape(og(d,m,v))},bl=function(d){return d[0]<<21|d[1]<<14|d[2]<<7|d[3]},_l={APIC:function(d){var m=1,v,g,x="-->";d.data[0]===gc.Utf8&&(v=mc(d.data,0,m),!(v<0)&&(d.mimeType=vl(d.data,m,v),m=v+1,d.pictureType=d.data[m],m++,g=mc(d.data,0,m),!(g<0)&&(d.description=yl(d.data,m,g),m=g+1,d.mimeType===x?d.url=vl(d.data,m,d.data.length):d.pictureData=d.data.subarray(m,d.data.length))))},"T*":function(d){d.data[0]===gc.Utf8&&(d.value=yl(d.data,1,d.data.length).replace(/\0*$/,""),d.values=d.value.split("\0"))},TXXX:function(d){var m;d.data[0]===gc.Utf8&&(m=mc(d.data,0,1),m!==-1&&(d.description=yl(d.data,1,m),d.value=yl(d.data,m+1,d.data.length).replace(/\0*$/,""),d.data=d.value))},"W*":function(d){d.url=vl(d.data,0,d.data.length).replace(/\0.*$/,"")},WXXX:function(d){var m;d.data[0]===gc.Utf8&&(m=mc(d.data,0,1),m!==-1&&(d.description=yl(d.data,1,m),d.url=vl(d.data,m+1,d.data.length).replace(/\0.*$/,"")))},PRIV:function(d){var m;for(m=0;m<d.data.length;m++)if(d.data[m]===0){d.owner=vl(d.data,0,m);break}d.privateData=d.data.subarray(m+1),d.data=d.privateData}},K_=function(d){var m,v,g=10,x=0,S=[];if(!(d.length<10||d[0]!==73||d[1]!==68||d[2]!==51)){x=bl(d.subarray(6,10)),x+=10;var M=d[5]&64;M&&(g+=4,g+=bl(d.subarray(10,14)),x-=bl(d.subarray(16,20)));do{if(m=bl(d.subarray(g+4,g+8)),m<1)break;v=String.fromCharCode(d[g],d[g+1],d[g+2],d[g+3]);var O={id:v,data:d.subarray(g+10,g+m+10)};O.key=O.id,_l[O.id]?_l[O.id](O):O.id[0]==="T"?_l["T*"](O):O.id[0]==="W"&&_l["W*"](O),S.push(O),g+=10,g+=m}while(g<x);return S}},lg={parseId3Frames:K_,parseSyncSafeInteger:bl,frameParsers:_l},Y_=r,Q_=At,En=lg,yc;yc=function(d){var m={descriptor:d&&d.descriptor},v=0,g=[],x=0,S;if(yc.prototype.init.call(this),this.dispatchType=Q_.METADATA_STREAM_TYPE.toString(16),m.descriptor)for(S=0;S<m.descriptor.length;S++)this.dispatchType+=("00"+m.descriptor[S].toString(16)).slice(-2);this.push=function(M){var O,F,j,K,se,Pe;if(M.type==="timed-metadata"){if(M.dataAlignmentIndicator&&(x=0,g.length=0),g.length===0&&(M.data.length<10||M.data[0]!==73||M.data[1]!==68||M.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(g.push(M),x+=M.data.byteLength,g.length===1&&(v=En.parseSyncSafeInteger(M.data.subarray(6,10)),v+=10),!(x<v)){for(O={data:new Uint8Array(v),frames:[],pts:g[0].pts,dts:g[0].dts},se=0;se<v;)O.data.set(g[0].data.subarray(0,v-se),se),se+=g[0].data.byteLength,x-=g[0].data.byteLength,g.shift();F=10,O.data[5]&64&&(F+=4,F+=En.parseSyncSafeInteger(O.data.subarray(10,14)),v-=En.parseSyncSafeInteger(O.data.subarray(16,20)));do{if(j=En.parseSyncSafeInteger(O.data.subarray(F+4,F+8)),j<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Pe=String.fromCharCode(O.data[F],O.data[F+1],O.data[F+2],O.data[F+3]),K={id:Pe,data:O.data.subarray(F+10,F+j+10)},K.key=K.id,En.frameParsers[K.id]?En.frameParsers[K.id](K):K.id[0]==="T"?En.frameParsers["T*"](K):K.id[0]==="W"&&En.frameParsers["W*"](K),K.owner==="com.apple.streaming.transportStreamTimestamp"){var fe=K.data,Xe=(fe[3]&1)<<30|fe[4]<<22|fe[5]<<14|fe[6]<<6|fe[7]>>>2;Xe*=4,Xe+=fe[7]&3,K.timeStamp=Xe,O.pts===void 0&&O.dts===void 0&&(O.pts=K.timeStamp,O.dts=K.timeStamp),this.trigger("timestamp",K)}O.frames.push(K),F+=10,F+=j}while(F<v);this.trigger("data",O)}}}},yc.prototype=new Y_;var Z_=yc,bh=r,_h=Ue,ts=At,J_=gl.TimestampRolloverStream,vc,xl,bc,to=188,xh=71;vc=function(){var d=new Uint8Array(to),m=0;vc.prototype.init.call(this),this.push=function(v){var g=0,x=to,S;for(m?(S=new Uint8Array(v.byteLength+m),S.set(d.subarray(0,m)),S.set(v,m),m=0):S=v;x<S.byteLength;){if(S[g]===xh&&S[x]===xh){this.trigger("data",S.subarray(g,x)),g+=to,x+=to;continue}g++,x++}g<S.byteLength&&(d.set(S.subarray(g),0),m=S.byteLength-g)},this.flush=function(){m===to&&d[0]===xh&&(this.trigger("data",d),m=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){m=0,this.trigger("reset")}},vc.prototype=new bh,xl=function(){var d,m,v,g;xl.prototype.init.call(this),g=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,d=function(x,S){var M=0;S.payloadUnitStartIndicator&&(M+=x[M]+1),S.type==="pat"?m(x.subarray(M),S):v(x.subarray(M),S)},m=function(x,S){S.section_number=x[7],S.last_section_number=x[8],g.pmtPid=(x[10]&31)<<8|x[11],S.pmtPid=g.pmtPid},v=function(x,S){var M,O,F,j;if(x[5]&1){for(g.programMapTable={video:null,audio:null,"timed-metadata":{}},M=(x[1]&15)<<8|x[2],O=3+M-4,F=(x[10]&15)<<8|x[11],j=12+F;j<O;){var K=x[j],se=(x[j+1]&31)<<8|x[j+2];K===ts.H264_STREAM_TYPE&&g.programMapTable.video===null?g.programMapTable.video=se:K===ts.ADTS_STREAM_TYPE&&g.programMapTable.audio===null?g.programMapTable.audio=se:K===ts.METADATA_STREAM_TYPE&&(g.programMapTable["timed-metadata"][se]=K),j+=((x[j+3]&15)<<8|x[j+4])+5}S.programMapTable=g.programMapTable}},this.push=function(x){var S={},M=4;if(S.payloadUnitStartIndicator=!!(x[1]&64),S.pid=x[1]&31,S.pid<<=8,S.pid|=x[2],(x[3]&48)>>>4>1&&(M+=x[M]+1),S.pid===0)S.type="pat",d(x.subarray(M),S),this.trigger("data",S);else if(S.pid===this.pmtPid)for(S.type="pmt",d(x.subarray(M),S),this.trigger("data",S);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([x,M,S]):this.processPes_(x,M,S)},this.processPes_=function(x,S,M){M.pid===this.programMapTable.video?M.streamType=ts.H264_STREAM_TYPE:M.pid===this.programMapTable.audio?M.streamType=ts.ADTS_STREAM_TYPE:M.streamType=this.programMapTable["timed-metadata"][M.pid],M.type="pes",M.data=x.subarray(S),this.trigger("data",M)}},xl.prototype=new bh,xl.STREAM_TYPES={h264:27,adts:15},bc=function(){var d=this,m=!1,v={data:[],size:0},g={data:[],size:0},x={data:[],size:0},S,M=function(F,j){var K;const se=F[0]<<16|F[1]<<8|F[2];j.data=new Uint8Array,se===1&&(j.packetLength=6+(F[4]<<8|F[5]),j.dataAlignmentIndicator=(F[6]&4)!==0,K=F[7],K&192&&(j.pts=(F[9]&14)<<27|(F[10]&255)<<20|(F[11]&254)<<12|(F[12]&255)<<5|(F[13]&254)>>>3,j.pts*=4,j.pts+=(F[13]&6)>>>1,j.dts=j.pts,K&64&&(j.dts=(F[14]&14)<<27|(F[15]&255)<<20|(F[16]&254)<<12|(F[17]&255)<<5|(F[18]&254)>>>3,j.dts*=4,j.dts+=(F[18]&6)>>>1)),j.data=F.subarray(9+F[8]))},O=function(F,j,K){var se=new Uint8Array(F.size),Pe={type:j},fe=0,Xe=0,nt=!1,xr;if(!(!F.data.length||F.size<9)){for(Pe.trackId=F.data[0].pid,fe=0;fe<F.data.length;fe++)xr=F.data[fe],se.set(xr.data,Xe),Xe+=xr.data.byteLength;M(se,Pe),nt=j==="video"||Pe.packetLength<=F.size,(K||nt)&&(F.size=0,F.data.length=0),nt&&d.trigger("data",Pe)}};bc.prototype.init.call(this),this.push=function(F){({pat:function(){},pes:function(){var j,K;switch(F.streamType){case ts.H264_STREAM_TYPE:j=v,K="video";break;case ts.ADTS_STREAM_TYPE:j=g,K="audio";break;case ts.METADATA_STREAM_TYPE:j=x,K="timed-metadata";break;default:return}F.payloadUnitStartIndicator&&O(j,K,!0),j.data.push(F),j.size+=F.data.byteLength},pmt:function(){var j={type:"metadata",tracks:[]};S=F.programMapTable,S.video!==null&&j.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.video,codec:"avc",type:"video"}),S.audio!==null&&j.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.audio,codec:"adts",type:"audio"}),m=!0,d.trigger("data",j)}})[F.type]()},this.reset=function(){v.size=0,v.data.length=0,g.size=0,g.data.length=0,this.trigger("reset")},this.flushStreams_=function(){O(v,"video"),O(g,"audio"),O(x,"timed-metadata")},this.flush=function(){if(!m&&S){var F={type:"metadata",tracks:[]};S.video!==null&&F.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.video,codec:"avc",type:"video"}),S.audio!==null&&F.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+S.audio,codec:"adts",type:"audio"}),d.trigger("data",F)}m=!1,this.flushStreams_(),this.trigger("done")}},bc.prototype=new bh;var ug={PAT_PID:0,MP2T_PACKET_LENGTH:to,TransportPacketStream:vc,TransportParseStream:xl,ElementaryStream:bc,TimestampRolloverStream:J_,CaptionStream:_h.CaptionStream,Cea608Stream:_h.Cea608Stream,Cea708Stream:_h.Cea708Stream,MetadataStream:Z_};for(var wh in ts)ts.hasOwnProperty(wh)&&(ug[wh]=ts[wh]);var ex=ug,tx=r,rx=ft.ONE_SECOND_IN_TS,_c,cg=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];_c=function(d){var m,v=0;_c.prototype.init.call(this),this.skipWarn_=function(g,x){this.trigger("log",{level:"warn",message:`adts skiping bytes ${g} to ${x} in frame ${v} outside syncword`})},this.push=function(g){var x=0,S,M,O,F,j;if(d||(v=0),g.type==="audio"){m&&m.length?(O=m,m=new Uint8Array(O.byteLength+g.data.byteLength),m.set(O),m.set(g.data,O.byteLength)):m=g.data;for(var K;x+7<m.length;){if(m[x]!==255||(m[x+1]&246)!==240){typeof K!="number"&&(K=x),x++;continue}if(typeof K=="number"&&(this.skipWarn_(K,x),K=null),M=(~m[x+1]&1)*2,S=(m[x+3]&3)<<11|m[x+4]<<3|(m[x+5]&224)>>5,F=((m[x+6]&3)+1)*1024,j=F*rx/cg[(m[x+2]&60)>>>2],m.byteLength-x<S)break;this.trigger("data",{pts:g.pts+v*j,dts:g.dts+v*j,sampleCount:F,audioobjecttype:(m[x+2]>>>6&3)+1,channelcount:(m[x+2]&1)<<2|(m[x+3]&192)>>>6,samplerate:cg[(m[x+2]&60)>>>2],samplingfrequencyindex:(m[x+2]&60)>>>2,samplesize:16,data:m.subarray(x+7+M,x+S)}),v++,x+=S}typeof K=="number"&&(this.skipWarn_(K,x),K=null),m=m.subarray(x)}},this.flush=function(){v=0,this.trigger("done")},this.reset=function(){m=void 0,this.trigger("reset")},this.endTimeline=function(){m=void 0,this.trigger("endedtimeline")}},_c.prototype=new tx;var ix=_c,dg;dg=function(d){var m=d.byteLength,v=0,g=0;this.length=function(){return 8*m},this.bitsAvailable=function(){return 8*m+g},this.loadWord=function(){var x=d.byteLength-m,S=new Uint8Array(4),M=Math.min(4,m);if(M===0)throw new Error("no bytes available");S.set(d.subarray(x,x+M)),v=new DataView(S.buffer).getUint32(0),g=M*8,m-=M},this.skipBits=function(x){var S;g>x?(v<<=x,g-=x):(x-=g,S=Math.floor(x/8),x-=S*8,m-=S,this.loadWord(),v<<=x,g-=x)},this.readBits=function(x){var S=Math.min(g,x),M=v>>>32-S;return g-=S,g>0?v<<=S:m>0&&this.loadWord(),S=x-S,S>0?M<<S|this.readBits(S):M},this.skipLeadingZeros=function(){var x;for(x=0;x<g;++x)if(v&2147483648>>>x)return v<<=x,g-=x,x;return this.loadWord(),x+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var x=this.skipLeadingZeros();return this.readBits(x+1)-1},this.readExpGolomb=function(){var x=this.readUnsignedExpGolomb();return 1&x?1+x>>>1:-1*(x>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var sx=dg,hg=r,nx=sx,xc,wl,fg;wl=function(){var d=0,m,v;wl.prototype.init.call(this),this.push=function(g){var x;v?(x=new Uint8Array(v.byteLength+g.data.byteLength),x.set(v),x.set(g.data,v.byteLength),v=x):v=g.data;for(var S=v.byteLength;d<S-3;d++)if(v[d+2]===1){m=d+5;break}for(;m<S;)switch(v[m]){case 0:if(v[m-1]!==0){m+=2;break}else if(v[m-2]!==0){m++;break}d+3!==m-2&&this.trigger("data",v.subarray(d+3,m-2));do m++;while(v[m]!==1&&m<S);d=m-2,m+=3;break;case 1:if(v[m-1]!==0||v[m-2]!==0){m+=3;break}this.trigger("data",v.subarray(d+3,m-2)),d=m-2,m+=3;break;default:m+=3;break}v=v.subarray(d),m-=d,d=0},this.reset=function(){v=null,d=0,this.trigger("reset")},this.flush=function(){v&&v.byteLength>3&&this.trigger("data",v.subarray(d+3)),v=null,d=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},wl.prototype=new hg,fg={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},xc=function(){var d=new wl,m,v,g,x,S,M,O;xc.prototype.init.call(this),m=this,this.push=function(F){F.type==="video"&&(v=F.trackId,g=F.pts,x=F.dts,d.push(F))},d.on("data",function(F){var j={trackId:v,pts:g,dts:x,data:F,nalUnitTypeCode:F[0]&31};switch(j.nalUnitTypeCode){case 5:j.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:j.nalUnitType="sei_rbsp",j.escapedRBSP=S(F.subarray(1));break;case 7:j.nalUnitType="seq_parameter_set_rbsp",j.escapedRBSP=S(F.subarray(1)),j.config=M(j.escapedRBSP);break;case 8:j.nalUnitType="pic_parameter_set_rbsp";break;case 9:j.nalUnitType="access_unit_delimiter_rbsp";break}m.trigger("data",j)}),d.on("done",function(){m.trigger("done")}),d.on("partialdone",function(){m.trigger("partialdone")}),d.on("reset",function(){m.trigger("reset")}),d.on("endedtimeline",function(){m.trigger("endedtimeline")}),this.flush=function(){d.flush()},this.partialFlush=function(){d.partialFlush()},this.reset=function(){d.reset()},this.endTimeline=function(){d.endTimeline()},O=function(F,j){var K=8,se=8,Pe,fe;for(Pe=0;Pe<F;Pe++)se!==0&&(fe=j.readExpGolomb(),se=(K+fe+256)%256),K=se===0?K:se},S=function(F){for(var j=F.byteLength,K=[],se=1,Pe,fe;se<j-2;)F[se]===0&&F[se+1]===0&&F[se+2]===3?(K.push(se+2),se+=2):se++;if(K.length===0)return F;Pe=j-K.length,fe=new Uint8Array(Pe);var Xe=0;for(se=0;se<Pe;Xe++,se++)Xe===K[0]&&(Xe++,K.shift()),fe[se]=F[Xe];return fe},M=function(F){var j=0,K=0,se=0,Pe=0,fe,Xe,nt,xr,Oi,pa,zg,qg,jg,Mh,Hg,ar=[1,1],Vg,ma;if(fe=new nx(F),Xe=fe.readUnsignedByte(),xr=fe.readUnsignedByte(),nt=fe.readUnsignedByte(),fe.skipUnsignedExpGolomb(),fg[Xe]&&(Oi=fe.readUnsignedExpGolomb(),Oi===3&&fe.skipBits(1),fe.skipUnsignedExpGolomb(),fe.skipUnsignedExpGolomb(),fe.skipBits(1),fe.readBoolean()))for(Hg=Oi!==3?8:12,ma=0;ma<Hg;ma++)fe.readBoolean()&&(ma<6?O(16,fe):O(64,fe));if(fe.skipUnsignedExpGolomb(),pa=fe.readUnsignedExpGolomb(),pa===0)fe.readUnsignedExpGolomb();else if(pa===1)for(fe.skipBits(1),fe.skipExpGolomb(),fe.skipExpGolomb(),zg=fe.readUnsignedExpGolomb(),ma=0;ma<zg;ma++)fe.skipExpGolomb();if(fe.skipUnsignedExpGolomb(),fe.skipBits(1),qg=fe.readUnsignedExpGolomb(),jg=fe.readUnsignedExpGolomb(),Mh=fe.readBits(1),Mh===0&&fe.skipBits(1),fe.skipBits(1),fe.readBoolean()&&(j=fe.readUnsignedExpGolomb(),K=fe.readUnsignedExpGolomb(),se=fe.readUnsignedExpGolomb(),Pe=fe.readUnsignedExpGolomb()),fe.readBoolean()&&fe.readBoolean()){switch(Vg=fe.readUnsignedByte(),Vg){case 1:ar=[1,1];break;case 2:ar=[12,11];break;case 3:ar=[10,11];break;case 4:ar=[16,11];break;case 5:ar=[40,33];break;case 6:ar=[24,11];break;case 7:ar=[20,11];break;case 8:ar=[32,11];break;case 9:ar=[80,33];break;case 10:ar=[18,11];break;case 11:ar=[15,11];break;case 12:ar=[64,33];break;case 13:ar=[160,99];break;case 14:ar=[4,3];break;case 15:ar=[3,2];break;case 16:ar=[2,1];break;case 255:{ar=[fe.readUnsignedByte()<<8|fe.readUnsignedByte(),fe.readUnsignedByte()<<8|fe.readUnsignedByte()];break}}ar&&ar[0]/ar[1]}return{profileIdc:Xe,levelIdc:nt,profileCompatibility:xr,width:(qg+1)*16-j*2-K*2,height:(2-Mh)*(jg+1)*16-se*2-Pe*2,sarRatio:ar}}},xc.prototype=new hg;var ax={H264Stream:xc,NalByteStream:wl},ox=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],pg=function(d,m){var v=d[m+6]<<21|d[m+7]<<14|d[m+8]<<7|d[m+9],g=d[m+5],x=(g&16)>>4;return v=v>=0?v:0,x?v+20:v+10},mg=function(d,m){return d.length-m<10||d[m]!==73||d[m+1]!==68||d[m+2]!==51?m:(m+=pg(d,m),mg(d,m))},lx=function(d){var m=mg(d,0);return d.length>=m+2&&(d[m]&255)===255&&(d[m+1]&240)===240&&(d[m+1]&22)===16},gg=function(d){return d[0]<<21|d[1]<<14|d[2]<<7|d[3]},ux=function(d,m,v){var g,x="";for(g=m;g<v;g++)x+="%"+("00"+d[g].toString(16)).slice(-2);return x},cx=function(d,m,v){return unescape(ux(d,m,v))},dx=function(d,m){var v=(d[m+5]&224)>>5,g=d[m+4]<<3,x=d[m+3]&6144;return x|g|v},hx=function(d,m){return d[m]===73&&d[m+1]===68&&d[m+2]===51?"timed-metadata":d[m]&!0&&(d[m+1]&240)===240?"audio":null},fx=function(d){for(var m=0;m+5<d.length;){if(d[m]!==255||(d[m+1]&246)!==240){m++;continue}return ox[(d[m+2]&60)>>>2]}return null},px=function(d){var m,v,g,x;m=10,d[5]&64&&(m+=4,m+=gg(d.subarray(10,14)));do{if(v=gg(d.subarray(m+4,m+8)),v<1)return null;if(x=String.fromCharCode(d[m],d[m+1],d[m+2],d[m+3]),x==="PRIV"){g=d.subarray(m+10,m+v+10);for(var S=0;S<g.byteLength;S++)if(g[S]===0){var M=cx(g,0,S);if(M==="com.apple.streaming.transportStreamTimestamp"){var O=g.subarray(S+1),F=(O[3]&1)<<30|O[4]<<22|O[5]<<14|O[6]<<6|O[7]>>>2;return F*=4,F+=O[7]&3,F}break}}m+=10,m+=v}while(m<d.byteLength);return null},Th={isLikelyAacData:lx,parseId3TagSize:pg,parseAdtsSize:dx,parseType:hx,parseSampleRate:fx,parseAacTimestamp:px},mx=r,yg=Th,wc;wc=function(){var d=new Uint8Array,m=0;wc.prototype.init.call(this),this.setTimestamp=function(v){m=v},this.push=function(v){var g=0,x=0,S,M,O,F;for(d.length?(F=d.length,d=new Uint8Array(v.byteLength+F),d.set(d.subarray(0,F)),d.set(v,F)):d=v;d.length-x>=3;){if(d[x]===73&&d[x+1]===68&&d[x+2]===51){if(d.length-x<10||(g=yg.parseId3TagSize(d,x),x+g>d.length))break;M={type:"timed-metadata",data:d.subarray(x,x+g)},this.trigger("data",M),x+=g;continue}else if((d[x]&255)===255&&(d[x+1]&240)===240){if(d.length-x<7||(g=yg.parseAdtsSize(d,x),x+g>d.length))break;O={type:"audio",data:d.subarray(x,x+g),pts:m,dts:m},this.trigger("data",O),x+=g;continue}x++}S=d.length-x,S>0?d=d.subarray(x):d=new Uint8Array},this.reset=function(){d=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){d=new Uint8Array,this.trigger("endedtimeline")}},wc.prototype=new mx;var gx=wc,yx=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],vx=yx,bx=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],_x=bx,Tc=r,Tl=ie,Sl=ue,Sc=mh,rs=nc,Ws=ex,Cc=ft,vg=ix,xx=ax.H264Stream,wx=gx,Tx=Th.isLikelyAacData,Sx=ft.ONE_SECOND_IN_TS,Sh=vx,Ch=_x,Cl,ro,Ec,ha,Cx=function(d,m){m.stream=d,this.trigger("log",m)},bg=function(d,m){for(var v=Object.keys(m),g=0;g<v.length;g++){var x=v[g];x==="headOfPipeline"||!m[x].on||m[x].on("log",Cx.bind(d,x))}},_g=function(d,m){var v;if(d.length!==m.length)return!1;for(v=0;v<d.length;v++)if(d[v]!==m[v])return!1;return!0},Eh=function(d,m,v,g,x,S){var M=v-m,O=g-m,F=x-v;return{start:{dts:d,pts:d+M},end:{dts:d+O,pts:d+F},prependedContentDuration:S,baseMediaDecodeTime:d}};ro=function(d,m){var v=[],g,x=0,S=0,M=1/0;m=m||{},g=m.firstSequenceNumber||0,ro.prototype.init.call(this),this.push=function(O){rs.collectDtsInfo(d,O),d&&Sh.forEach(function(F){d[F]=O[F]}),v.push(O)},this.setEarliestDts=function(O){x=O},this.setVideoBaseMediaDecodeTime=function(O){M=O},this.setAudioAppendStart=function(O){S=O},this.flush=function(){var O,F,j,K,se,Pe,fe;if(v.length===0){this.trigger("done","AudioSegmentStream");return}O=Sc.trimAdtsFramesByEarliestDts(v,d,x),d.baseMediaDecodeTime=rs.calculateTrackBaseMediaDecodeTime(d,m.keepOriginalTimestamps),fe=Sc.prefixWithSilence(d,O,S,M),d.samples=Sc.generateSampleTable(O),j=Tl.mdat(Sc.concatenateFrameData(O)),v=[],F=Tl.moof(g,[d]),K=new Uint8Array(F.byteLength+j.byteLength),g++,K.set(F),K.set(j,F.byteLength),rs.clearDtsInfo(d),se=Math.ceil(Sx*1024/d.samplerate),O.length&&(Pe=O.length*se,this.trigger("segmentTimingInfo",Eh(Cc.audioTsToVideoTs(d.baseMediaDecodeTime,d.samplerate),O[0].dts,O[0].pts,O[0].dts+Pe,O[0].pts+Pe,fe||0)),this.trigger("timingInfo",{start:O[0].pts,end:O[0].pts+Pe})),this.trigger("data",{track:d,boxes:K}),this.trigger("done","AudioSegmentStream")},this.reset=function(){rs.clearDtsInfo(d),v=[],this.trigger("reset")}},ro.prototype=new Tc,Cl=function(d,m){var v,g=[],x=[],S,M;m=m||{},v=m.firstSequenceNumber||0,Cl.prototype.init.call(this),delete d.minPTS,this.gopCache_=[],this.push=function(O){rs.collectDtsInfo(d,O),O.nalUnitType==="seq_parameter_set_rbsp"&&!S&&(S=O.config,d.sps=[O.data],Ch.forEach(function(F){d[F]=S[F]},this)),O.nalUnitType==="pic_parameter_set_rbsp"&&!M&&(M=O.data,d.pps=[O.data]),g.push(O)},this.flush=function(){for(var O,F,j,K,se,Pe,fe=0,Xe,nt;g.length&&g[0].nalUnitType!=="access_unit_delimiter_rbsp";)g.shift();if(g.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(O=Sl.groupNalsIntoFrames(g),j=Sl.groupFramesIntoGops(O),j[0][0].keyFrame||(F=this.getGopForFusion_(g[0],d),F?(fe=F.duration,j.unshift(F),j.byteLength+=F.byteLength,j.nalCount+=F.nalCount,j.pts=F.pts,j.dts=F.dts,j.duration+=F.duration):j=Sl.extendFirstKeyFrame(j)),x.length){var xr;if(m.alignGopsAtEnd?xr=this.alignGopsAtEnd_(j):xr=this.alignGopsAtStart_(j),!xr){this.gopCache_.unshift({gop:j.pop(),pps:d.pps,sps:d.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),g=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}rs.clearDtsInfo(d),j=xr}rs.collectDtsInfo(d,j),d.samples=Sl.generateSampleTable(j),se=Tl.mdat(Sl.concatenateNalData(j)),d.baseMediaDecodeTime=rs.calculateTrackBaseMediaDecodeTime(d,m.keepOriginalTimestamps),this.trigger("processedGopsInfo",j.map(function(Oi){return{pts:Oi.pts,dts:Oi.dts,byteLength:Oi.byteLength}})),Xe=j[0],nt=j[j.length-1],this.trigger("segmentTimingInfo",Eh(d.baseMediaDecodeTime,Xe.dts,Xe.pts,nt.dts+nt.duration,nt.pts+nt.duration,fe)),this.trigger("timingInfo",{start:j[0].pts,end:j[j.length-1].pts+j[j.length-1].duration}),this.gopCache_.unshift({gop:j.pop(),pps:d.pps,sps:d.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),g=[],this.trigger("baseMediaDecodeTime",d.baseMediaDecodeTime),this.trigger("timelineStartInfo",d.timelineStartInfo),K=Tl.moof(v,[d]),Pe=new Uint8Array(K.byteLength+se.byteLength),v++,Pe.set(K),Pe.set(se,K.byteLength),this.trigger("data",{track:d,boxes:Pe}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),g=[],this.gopCache_.length=0,x.length=0,this.trigger("reset")},this.resetStream_=function(){rs.clearDtsInfo(d),S=void 0,M=void 0},this.getGopForFusion_=function(O){var F=45e3,j=1e4,K=1/0,se,Pe,fe,Xe,nt;for(nt=0;nt<this.gopCache_.length;nt++)Xe=this.gopCache_[nt],fe=Xe.gop,!(!(d.pps&&_g(d.pps[0],Xe.pps[0]))||!(d.sps&&_g(d.sps[0],Xe.sps[0])))&&(fe.dts<d.timelineStartInfo.dts||(se=O.dts-fe.dts-fe.duration,se>=-j&&se<=F&&(!Pe||K>se)&&(Pe=Xe,K=se)));return Pe?Pe.gop:null},this.alignGopsAtStart_=function(O){var F,j,K,se,Pe,fe,Xe,nt;for(Pe=O.byteLength,fe=O.nalCount,Xe=O.duration,F=j=0;F<x.length&&j<O.length&&(K=x[F],se=O[j],K.pts!==se.pts);){if(se.pts>K.pts){F++;continue}j++,Pe-=se.byteLength,fe-=se.nalCount,Xe-=se.duration}return j===0?O:j===O.length?null:(nt=O.slice(j),nt.byteLength=Pe,nt.duration=Xe,nt.nalCount=fe,nt.pts=nt[0].pts,nt.dts=nt[0].dts,nt)},this.alignGopsAtEnd_=function(O){var F,j,K,se,Pe,fe;for(F=x.length-1,j=O.length-1,Pe=null,fe=!1;F>=0&&j>=0;){if(K=x[F],se=O[j],K.pts===se.pts){fe=!0;break}if(K.pts>se.pts){F--;continue}F===x.length-1&&(Pe=j),j--}if(!fe&&Pe===null)return null;var Xe;if(fe?Xe=j:Xe=Pe,Xe===0)return O;var nt=O.slice(Xe),xr=nt.reduce(function(Oi,pa){return Oi.byteLength+=pa.byteLength,Oi.duration+=pa.duration,Oi.nalCount+=pa.nalCount,Oi},{byteLength:0,duration:0,nalCount:0});return nt.byteLength=xr.byteLength,nt.duration=xr.duration,nt.nalCount=xr.nalCount,nt.pts=nt[0].pts,nt.dts=nt[0].dts,nt},this.alignGopsWith=function(O){x=O}},Cl.prototype=new Tc,ha=function(d,m){this.numberOfTracks=0,this.metadataStream=m,d=d||{},typeof d.remux<"u"?this.remuxTracks=!!d.remux:this.remuxTracks=!0,typeof d.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=d.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,ha.prototype.init.call(this),this.push=function(v){if(v.content||v.text)return this.pendingCaptions.push(v);if(v.frames)return this.pendingMetadata.push(v);this.pendingTracks.push(v.track),this.pendingBytes+=v.boxes.byteLength,v.track.type==="video"&&(this.videoTrack=v.track,this.pendingBoxes.push(v.boxes)),v.track.type==="audio"&&(this.audioTrack=v.track,this.pendingBoxes.unshift(v.boxes))}},ha.prototype=new Tc,ha.prototype.flush=function(d){var m=0,v={captions:[],captionStreams:{},metadata:[],info:{}},g,x,S,M=0,O;if(this.pendingTracks.length<this.numberOfTracks){if(d!=="VideoSegmentStream"&&d!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(M=this.videoTrack.timelineStartInfo.pts,Ch.forEach(function(F){v.info[F]=this.videoTrack[F]},this)):this.audioTrack&&(M=this.audioTrack.timelineStartInfo.pts,Sh.forEach(function(F){v.info[F]=this.audioTrack[F]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?v.type=this.pendingTracks[0].type:v.type="combined",this.emittedTracks+=this.pendingTracks.length,S=Tl.initSegment(this.pendingTracks),v.initSegment=new Uint8Array(S.byteLength),v.initSegment.set(S),v.data=new Uint8Array(this.pendingBytes),O=0;O<this.pendingBoxes.length;O++)v.data.set(this.pendingBoxes[O],m),m+=this.pendingBoxes[O].byteLength;for(O=0;O<this.pendingCaptions.length;O++)g=this.pendingCaptions[O],g.startTime=Cc.metadataTsToSeconds(g.startPts,M,this.keepOriginalTimestamps),g.endTime=Cc.metadataTsToSeconds(g.endPts,M,this.keepOriginalTimestamps),v.captionStreams[g.stream]=!0,v.captions.push(g);for(O=0;O<this.pendingMetadata.length;O++)x=this.pendingMetadata[O],x.cueTime=Cc.metadataTsToSeconds(x.pts,M,this.keepOriginalTimestamps),v.metadata.push(x);for(v.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",v),O=0;O<v.captions.length;O++)g=v.captions[O],this.trigger("caption",g);for(O=0;O<v.metadata.length;O++)x=v.metadata[O],this.trigger("id3Frame",x)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},ha.prototype.setRemux=function(d){this.remuxTracks=d},Ec=function(d){var m=this,v=!0,g,x;Ec.prototype.init.call(this),d=d||{},this.baseMediaDecodeTime=d.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var S={};this.transmuxPipeline_=S,S.type="aac",S.metadataStream=new Ws.MetadataStream,S.aacStream=new wx,S.audioTimestampRolloverStream=new Ws.TimestampRolloverStream("audio"),S.timedMetadataTimestampRolloverStream=new Ws.TimestampRolloverStream("timed-metadata"),S.adtsStream=new vg,S.coalesceStream=new ha(d,S.metadataStream),S.headOfPipeline=S.aacStream,S.aacStream.pipe(S.audioTimestampRolloverStream).pipe(S.adtsStream),S.aacStream.pipe(S.timedMetadataTimestampRolloverStream).pipe(S.metadataStream).pipe(S.coalesceStream),S.metadataStream.on("timestamp",function(M){S.aacStream.setTimestamp(M.timeStamp)}),S.aacStream.on("data",function(M){M.type!=="timed-metadata"&&M.type!=="audio"||S.audioSegmentStream||(x=x||{timelineStartInfo:{baseMediaDecodeTime:m.baseMediaDecodeTime},codec:"adts",type:"audio"},S.coalesceStream.numberOfTracks++,S.audioSegmentStream=new ro(x,d),S.audioSegmentStream.on("log",m.getLogTrigger_("audioSegmentStream")),S.audioSegmentStream.on("timingInfo",m.trigger.bind(m,"audioTimingInfo")),S.adtsStream.pipe(S.audioSegmentStream).pipe(S.coalesceStream),m.trigger("trackinfo",{hasAudio:!!x,hasVideo:!!g}))}),S.coalesceStream.on("data",this.trigger.bind(this,"data")),S.coalesceStream.on("done",this.trigger.bind(this,"done")),bg(this,S)},this.setupTsPipeline=function(){var S={};this.transmuxPipeline_=S,S.type="ts",S.metadataStream=new Ws.MetadataStream,S.packetStream=new Ws.TransportPacketStream,S.parseStream=new Ws.TransportParseStream,S.elementaryStream=new Ws.ElementaryStream,S.timestampRolloverStream=new Ws.TimestampRolloverStream,S.adtsStream=new vg,S.h264Stream=new xx,S.captionStream=new Ws.CaptionStream(d),S.coalesceStream=new ha(d,S.metadataStream),S.headOfPipeline=S.packetStream,S.packetStream.pipe(S.parseStream).pipe(S.elementaryStream).pipe(S.timestampRolloverStream),S.timestampRolloverStream.pipe(S.h264Stream),S.timestampRolloverStream.pipe(S.adtsStream),S.timestampRolloverStream.pipe(S.metadataStream).pipe(S.coalesceStream),S.h264Stream.pipe(S.captionStream).pipe(S.coalesceStream),S.elementaryStream.on("data",function(M){var O;if(M.type==="metadata"){for(O=M.tracks.length;O--;)!g&&M.tracks[O].type==="video"?(g=M.tracks[O],g.timelineStartInfo.baseMediaDecodeTime=m.baseMediaDecodeTime):!x&&M.tracks[O].type==="audio"&&(x=M.tracks[O],x.timelineStartInfo.baseMediaDecodeTime=m.baseMediaDecodeTime);g&&!S.videoSegmentStream&&(S.coalesceStream.numberOfTracks++,S.videoSegmentStream=new Cl(g,d),S.videoSegmentStream.on("log",m.getLogTrigger_("videoSegmentStream")),S.videoSegmentStream.on("timelineStartInfo",function(F){x&&!d.keepOriginalTimestamps&&(x.timelineStartInfo=F,S.audioSegmentStream.setEarliestDts(F.dts-m.baseMediaDecodeTime))}),S.videoSegmentStream.on("processedGopsInfo",m.trigger.bind(m,"gopInfo")),S.videoSegmentStream.on("segmentTimingInfo",m.trigger.bind(m,"videoSegmentTimingInfo")),S.videoSegmentStream.on("baseMediaDecodeTime",function(F){x&&S.audioSegmentStream.setVideoBaseMediaDecodeTime(F)}),S.videoSegmentStream.on("timingInfo",m.trigger.bind(m,"videoTimingInfo")),S.h264Stream.pipe(S.videoSegmentStream).pipe(S.coalesceStream)),x&&!S.audioSegmentStream&&(S.coalesceStream.numberOfTracks++,S.audioSegmentStream=new ro(x,d),S.audioSegmentStream.on("log",m.getLogTrigger_("audioSegmentStream")),S.audioSegmentStream.on("timingInfo",m.trigger.bind(m,"audioTimingInfo")),S.audioSegmentStream.on("segmentTimingInfo",m.trigger.bind(m,"audioSegmentTimingInfo")),S.adtsStream.pipe(S.audioSegmentStream).pipe(S.coalesceStream)),m.trigger("trackinfo",{hasAudio:!!x,hasVideo:!!g})}}),S.coalesceStream.on("data",this.trigger.bind(this,"data")),S.coalesceStream.on("id3Frame",function(M){M.dispatchType=S.metadataStream.dispatchType,m.trigger("id3Frame",M)}),S.coalesceStream.on("caption",this.trigger.bind(this,"caption")),S.coalesceStream.on("done",this.trigger.bind(this,"done")),bg(this,S)},this.setBaseMediaDecodeTime=function(S){var M=this.transmuxPipeline_;d.keepOriginalTimestamps||(this.baseMediaDecodeTime=S),x&&(x.timelineStartInfo.dts=void 0,x.timelineStartInfo.pts=void 0,rs.clearDtsInfo(x),M.audioTimestampRolloverStream&&M.audioTimestampRolloverStream.discontinuity()),g&&(M.videoSegmentStream&&(M.videoSegmentStream.gopCache_=[]),g.timelineStartInfo.dts=void 0,g.timelineStartInfo.pts=void 0,rs.clearDtsInfo(g),M.captionStream.reset()),M.timestampRolloverStream&&M.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(S){x&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(S)},this.setRemux=function(S){var M=this.transmuxPipeline_;d.remux=S,M&&M.coalesceStream&&M.coalesceStream.setRemux(S)},this.alignGopsWith=function(S){g&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(S)},this.getLogTrigger_=function(S){var M=this;return function(O){O.stream=S,M.trigger("log",O)}},this.push=function(S){if(v){var M=Tx(S);M&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!M&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),v=!1}this.transmuxPipeline_.headOfPipeline.push(S)},this.flush=function(){v=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Ec.prototype=new Tc;var Ex={Transmuxer:Ec,VideoSegmentStream:Cl,AudioSegmentStream:ro,AUDIO_PROPERTIES:Sh,VIDEO_PROPERTIES:Ch,generateSegmentTimingInfo:Eh},Ax=function(d){return d>>>0},kx=function(d){return("00"+d.toString(16)).slice(-2)},Ac={toUnsigned:Ax,toHexString:kx},Dx=function(d){var m="";return m+=String.fromCharCode(d[0]),m+=String.fromCharCode(d[1]),m+=String.fromCharCode(d[2]),m+=String.fromCharCode(d[3]),m},xg=Dx,Ix=Ac.toUnsigned,Lx=xg,wg=function(d,m){var v=[],g,x,S,M,O;if(!m.length)return null;for(g=0;g<d.byteLength;)x=Ix(d[g]<<24|d[g+1]<<16|d[g+2]<<8|d[g+3]),S=Lx(d.subarray(g+4,g+8)),M=x>1?g+x:d.byteLength,S===m[0]&&(m.length===1?v.push(d.subarray(g+8,M)):(O=wg(d.subarray(g+8,M),m.slice(1)),O.length&&(v=v.concat(O)))),g=M;return v},Tg=wg,Px=Ac.toUnsigned,Mx=n.getUint64,Rx=function(d){var m={version:d[0],flags:new Uint8Array(d.subarray(1,4))};return m.version===1?m.baseMediaDecodeTime=Mx(d.subarray(4)):m.baseMediaDecodeTime=Px(d[4]<<24|d[5]<<16|d[6]<<8|d[7]),m},Sg=Rx,Ox=function(d){return{isLeading:(d[0]&12)>>>2,dependsOn:d[0]&3,isDependedOn:(d[1]&192)>>>6,hasRedundancy:(d[1]&48)>>>4,paddingValue:(d[1]&14)>>>1,isNonSyncSample:d[1]&1,degradationPriority:d[2]<<8|d[3]}},Nx=Ox,Cg=Nx,Bx=function(d){var m={version:d[0],flags:new Uint8Array(d.subarray(1,4)),samples:[]},v=new DataView(d.buffer,d.byteOffset,d.byteLength),g=m.flags[2]&1,x=m.flags[2]&4,S=m.flags[1]&1,M=m.flags[1]&2,O=m.flags[1]&4,F=m.flags[1]&8,j=v.getUint32(4),K=8,se;for(g&&(m.dataOffset=v.getInt32(K),K+=4),x&&j&&(se={flags:Cg(d.subarray(K,K+4))},K+=4,S&&(se.duration=v.getUint32(K),K+=4),M&&(se.size=v.getUint32(K),K+=4),F&&(m.version===1?se.compositionTimeOffset=v.getInt32(K):se.compositionTimeOffset=v.getUint32(K),K+=4),m.samples.push(se),j--);j--;)se={},S&&(se.duration=v.getUint32(K),K+=4),M&&(se.size=v.getUint32(K),K+=4),O&&(se.flags=Cg(d.subarray(K,K+4)),K+=4),F&&(m.version===1?se.compositionTimeOffset=v.getInt32(K):se.compositionTimeOffset=v.getUint32(K),K+=4),m.samples.push(se);return m},Eg=Bx,Fx=function(d){var m=new DataView(d.buffer,d.byteOffset,d.byteLength),v={version:d[0],flags:new Uint8Array(d.subarray(1,4)),trackId:m.getUint32(4)},g=v.flags[2]&1,x=v.flags[2]&2,S=v.flags[2]&8,M=v.flags[2]&16,O=v.flags[2]&32,F=v.flags[0]&65536,j=v.flags[0]&131072,K;return K=8,g&&(K+=4,v.baseDataOffset=m.getUint32(12),K+=4),x&&(v.sampleDescriptionIndex=m.getUint32(K),K+=4),S&&(v.defaultSampleDuration=m.getUint32(K),K+=4),M&&(v.defaultSampleSize=m.getUint32(K),K+=4),O&&(v.defaultSampleFlags=m.getUint32(K)),F&&(v.durationIsEmpty=!0),!g&&j&&(v.baseDataOffsetIsMoof=!0),v},Ag=Fx,El;typeof window<"u"?El=window:typeof t<"u"?El=t:typeof self<"u"?El=self:El={};var kg=El,Ux=cc.discardEmulationPreventionBytes,$x=Ue.CaptionStream,Al=Tg,zx=Sg,qx=Eg,jx=Ag,Dg=kg,Hx=function(d,m){for(var v=d,g=0;g<m.length;g++){var x=m[g];if(v<x.size)return x;v-=x.size}return null},Vx=function(d,m,v){var g=new DataView(d.buffer,d.byteOffset,d.byteLength),x={logs:[],seiNals:[]},S,M,O,F;for(M=0;M+4<d.length;M+=O)if(O=g.getUint32(M),M+=4,!(O<=0))switch(d[M]&31){case 6:var j=d.subarray(M+1,M+1+O),K=Hx(M,m);if(S={nalUnitType:"sei_rbsp",size:O,data:j,escapedRBSP:Ux(j),trackId:v},K)S.pts=K.pts,S.dts=K.dts,F=K;else if(F)S.pts=F.pts,S.dts=F.dts;else{x.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+M+" for trackId "+v+". See mux.js#223."});break}x.seiNals.push(S);break}return x},Gx=function(d,m,v){var g=m,x=v.defaultSampleDuration||0,S=v.defaultSampleSize||0,M=v.trackId,O=[];return d.forEach(function(F){var j=qx(F),K=j.samples;K.forEach(function(se){se.duration===void 0&&(se.duration=x),se.size===void 0&&(se.size=S),se.trackId=M,se.dts=g,se.compositionTimeOffset===void 0&&(se.compositionTimeOffset=0),typeof g=="bigint"?(se.pts=g+Dg.BigInt(se.compositionTimeOffset),g+=Dg.BigInt(se.duration)):(se.pts=g+se.compositionTimeOffset,g+=se.duration)}),O=O.concat(K)}),O},Wx=function(d,m){var v=Al(d,["moof","traf"]),g=Al(d,["mdat"]),x={},S=[];return g.forEach(function(M,O){var F=v[O];S.push({mdat:M,traf:F})}),S.forEach(function(M){var O=M.mdat,F=M.traf,j=Al(F,["tfhd"]),K=jx(j[0]),se=K.trackId,Pe=Al(F,["tfdt"]),fe=Pe.length>0?zx(Pe[0]).baseMediaDecodeTime:0,Xe=Al(F,["trun"]),nt,xr;m===se&&Xe.length>0&&(nt=Gx(Xe,fe,K),xr=Vx(O,nt,se),x[se]||(x[se]={seiNals:[],logs:[]}),x[se].seiNals=x[se].seiNals.concat(xr.seiNals),x[se].logs=x[se].logs.concat(xr.logs))}),x},Xx=function(d,m,v){var g;if(m===null)return null;g=Wx(d,m);var x=g[m]||{};return{seiNals:x.seiNals,logs:x.logs,timescale:v}},Kx=function(){var d=!1,m,v,g,x,S,M;this.isInitialized=function(){return d},this.init=function(O){m=new $x,d=!0,M=O?O.isPartial:!1,m.on("data",function(F){F.startTime=F.startPts/x,F.endTime=F.endPts/x,S.captions.push(F),S.captionStreams[F.stream]=!0}),m.on("log",function(F){S.logs.push(F)})},this.isNewInit=function(O,F){return O&&O.length===0||F&&typeof F=="object"&&Object.keys(F).length===0?!1:g!==O[0]||x!==F[g]},this.parse=function(O,F,j){var K;if(this.isInitialized()){if(!F||!j)return null;if(this.isNewInit(F,j))g=F[0],x=j[g];else if(g===null||!x)return v.push(O),null}else return null;for(;v.length>0;){var se=v.shift();this.parse(se,F,j)}return K=Xx(O,g,x),K&&K.logs&&(S.logs=S.logs.concat(K.logs)),K===null||!K.seiNals?S.logs.length?{logs:S.logs,captions:[],captionStreams:[]}:null:(this.pushNals(K.seiNals),this.flushStream(),S)},this.pushNals=function(O){if(!this.isInitialized()||!O||O.length===0)return null;O.forEach(function(F){m.push(F)})},this.flushStream=function(){if(!this.isInitialized())return null;M?m.partialFlush():m.flush()},this.clearParsedCaptions=function(){S.captions=[],S.captionStreams={},S.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;m.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){v=[],g=null,x=null,S?this.clearParsedCaptions():S={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Yx=Kx,Qx=function(d){for(var m=0,v=String.fromCharCode(d[m]),g="";v!=="\0";)g+=v,m++,v=String.fromCharCode(d[m]);return g+=v,g},Zx={uint8ToCString:Qx},kc=Zx.uint8ToCString,Jx=n.getUint64,e9=function(d){var m=4,v=d[0],g,x,S,M,O,F,j,K;if(v===0){g=kc(d.subarray(m)),m+=g.length,x=kc(d.subarray(m)),m+=x.length;var se=new DataView(d.buffer);S=se.getUint32(m),m+=4,O=se.getUint32(m),m+=4,F=se.getUint32(m),m+=4,j=se.getUint32(m),m+=4}else if(v===1){var se=new DataView(d.buffer);S=se.getUint32(m),m+=4,M=Jx(d.subarray(m)),m+=8,F=se.getUint32(m),m+=4,j=se.getUint32(m),m+=4,g=kc(d.subarray(m)),m+=g.length,x=kc(d.subarray(m)),m+=x.length}K=new Uint8Array(d.subarray(m,d.byteLength));var Pe={scheme_id_uri:g,value:x,timescale:S||1,presentation_time:M,presentation_time_delta:O,event_duration:F,id:j,message_data:K};return r9(v,Pe)?Pe:void 0},t9=function(d,m,v,g){return d||d===0?d/m:g+v/m},r9=function(d,m){var v=m.scheme_id_uri!=="\0",g=d===0&&Ig(m.presentation_time_delta)&&v,x=d===1&&Ig(m.presentation_time)&&v;return!(d>1)&&g||x},Ig=function(d){return d!==void 0||d!==null},i9={parseEmsgBox:e9,scaleTime:t9},Dc=Ac.toUnsigned,kl=Ac.toHexString,nr=Tg,io=xg,Ah=i9,s9=Ag,n9=Eg,a9=Sg,o9=n.getUint64,Lg,Pg,Mg,Rg,Og,kh,Ng,Dh=kg,l9=lg.parseId3Frames;Lg=function(d){var m={},v=nr(d,["moov","trak"]);return v.reduce(function(g,x){var S,M,O,F,j;return S=nr(x,["tkhd"])[0],!S||(M=S[0],O=M===0?12:20,F=Dc(S[O]<<24|S[O+1]<<16|S[O+2]<<8|S[O+3]),j=nr(x,["mdia","mdhd"])[0],!j)?null:(M=j[0],O=M===0?12:20,g[F]=Dc(j[O]<<24|j[O+1]<<16|j[O+2]<<8|j[O+3]),g)},m)},Pg=function(d,m){var v;v=nr(m,["moof","traf"]);var g=v.reduce(function(x,S){var M=nr(S,["tfhd"])[0],O=Dc(M[4]<<24|M[5]<<16|M[6]<<8|M[7]),F=d[O]||9e4,j=nr(S,["tfdt"])[0],K=new DataView(j.buffer,j.byteOffset,j.byteLength),se;j[0]===1?se=o9(j.subarray(4,12)):se=K.getUint32(4);let Pe;return typeof se=="bigint"?Pe=se/Dh.BigInt(F):typeof se=="number"&&!isNaN(se)&&(Pe=se/F),Pe<Number.MAX_SAFE_INTEGER&&(Pe=Number(Pe)),Pe<x&&(x=Pe),x},1/0);return typeof g=="bigint"||isFinite(g)?g:0},Mg=function(d,m){var v=nr(m,["moof","traf"]),g=0,x=0,S;if(v&&v.length){var M=nr(v[0],["tfhd"])[0],O=nr(v[0],["trun"])[0],F=nr(v[0],["tfdt"])[0];if(M){var j=s9(M);S=j.trackId}if(F){var K=a9(F);g=K.baseMediaDecodeTime}if(O){var se=n9(O);se.samples&&se.samples.length&&(x=se.samples[0].compositionTimeOffset||0)}}var Pe=d[S]||9e4;typeof g=="bigint"&&(x=Dh.BigInt(x),Pe=Dh.BigInt(Pe));var fe=(g+x)/Pe;return typeof fe=="bigint"&&fe<Number.MAX_SAFE_INTEGER&&(fe=Number(fe)),fe},Rg=function(d){var m=nr(d,["moov","trak"]),v=[];return m.forEach(function(g){var x=nr(g,["mdia","hdlr"]),S=nr(g,["tkhd"]);x.forEach(function(M,O){var F=io(M.subarray(8,12)),j=S[O],K,se,Pe;F==="vide"&&(K=new DataView(j.buffer,j.byteOffset,j.byteLength),se=K.getUint8(0),Pe=se===0?K.getUint32(12):K.getUint32(20),v.push(Pe))})}),v},kh=function(d){var m=d[0],v=m===0?12:20;return Dc(d[v]<<24|d[v+1]<<16|d[v+2]<<8|d[v+3])},Og=function(d){var m=nr(d,["moov","trak"]),v=[];return m.forEach(function(g){var x={},S=nr(g,["tkhd"])[0],M,O;S&&(M=new DataView(S.buffer,S.byteOffset,S.byteLength),O=M.getUint8(0),x.id=O===0?M.getUint32(12):M.getUint32(20));var F=nr(g,["mdia","hdlr"])[0];if(F){var j=io(F.subarray(8,12));j==="vide"?x.type="video":j==="soun"?x.type="audio":x.type=j}var K=nr(g,["mdia","minf","stbl","stsd"])[0];if(K){var se=K.subarray(8);x.codec=io(se.subarray(4,8));var Pe=nr(se,[x.codec])[0],fe,Xe;Pe&&(/^[asm]vc[1-9]$/i.test(x.codec)?(fe=Pe.subarray(78),Xe=io(fe.subarray(4,8)),Xe==="avcC"&&fe.length>11?(x.codec+=".",x.codec+=kl(fe[9]),x.codec+=kl(fe[10]),x.codec+=kl(fe[11])):x.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(x.codec)?(fe=Pe.subarray(28),Xe=io(fe.subarray(4,8)),Xe==="esds"&&fe.length>20&&fe[19]!==0?(x.codec+="."+kl(fe[19]),x.codec+="."+kl(fe[20]>>>2&63).replace(/^0/,"")):x.codec="mp4a.40.2"):x.codec=x.codec.toLowerCase())}var nt=nr(g,["mdia","mdhd"])[0];nt&&(x.timescale=kh(nt)),v.push(x)}),v},Ng=function(d,m=0){var v=nr(d,["emsg"]);return v.map(g=>{var x=Ah.parseEmsgBox(new Uint8Array(g)),S=l9(x.message_data);return{cueTime:Ah.scaleTime(x.presentation_time,x.timescale,x.presentation_time_delta,m),duration:Ah.scaleTime(x.event_duration,x.timescale),frames:S}})};var Ih={findBox:nr,parseType:io,timescale:Lg,startTime:Pg,compositionStartTime:Mg,videoTrackIds:Rg,tracks:Og,getTimescaleFromMediaHeader:kh,getEmsgID3:Ng},Lh=At,Bg=function(d){var m=d[1]&31;return m<<=8,m|=d[2],m},Ic=function(d){return!!(d[1]&64)},Lc=function(d){var m=0;return(d[3]&48)>>>4>1&&(m+=d[4]+1),m},u9=function(d,m){var v=Bg(d);return v===0?"pat":v===m?"pmt":m?"pes":null},c9=function(d){var m=Ic(d),v=4+Lc(d);return m&&(v+=d[v]+1),(d[v+10]&31)<<8|d[v+11]},d9=function(d){var m={},v=Ic(d),g=4+Lc(d);if(v&&(g+=d[g]+1),!!(d[g+5]&1)){var x,S,M;x=(d[g+1]&15)<<8|d[g+2],S=3+x-4,M=(d[g+10]&15)<<8|d[g+11];for(var O=12+M;O<S;){var F=g+O;m[(d[F+1]&31)<<8|d[F+2]]=d[F],O+=((d[F+3]&15)<<8|d[F+4])+5}return m}},h9=function(d,m){var v=Bg(d),g=m[v];switch(g){case Lh.H264_STREAM_TYPE:return"video";case Lh.ADTS_STREAM_TYPE:return"audio";case Lh.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},f9=function(d){var m=Ic(d);if(!m)return null;var v=4+Lc(d);if(v>=d.byteLength)return null;var g=null,x;return x=d[v+7],x&192&&(g={},g.pts=(d[v+9]&14)<<27|(d[v+10]&255)<<20|(d[v+11]&254)<<12|(d[v+12]&255)<<5|(d[v+13]&254)>>>3,g.pts*=4,g.pts+=(d[v+13]&6)>>>1,g.dts=g.pts,x&64&&(g.dts=(d[v+14]&14)<<27|(d[v+15]&255)<<20|(d[v+16]&254)<<12|(d[v+17]&255)<<5|(d[v+18]&254)>>>3,g.dts*=4,g.dts+=(d[v+18]&6)>>>1)),g},Ph=function(d){switch(d){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},p9=function(d){for(var m=4+Lc(d),v=d.subarray(m),g=0,x=0,S=!1,M;x<v.byteLength-3;x++)if(v[x+2]===1){g=x+5;break}for(;g<v.byteLength;)switch(v[g]){case 0:if(v[g-1]!==0){g+=2;break}else if(v[g-2]!==0){g++;break}x+3!==g-2&&(M=Ph(v[x+3]&31),M==="slice_layer_without_partitioning_rbsp_idr"&&(S=!0));do g++;while(v[g]!==1&&g<v.length);x=g-2,g+=3;break;case 1:if(v[g-1]!==0||v[g-2]!==0){g+=3;break}M=Ph(v[x+3]&31),M==="slice_layer_without_partitioning_rbsp_idr"&&(S=!0),x=g-2,g+=3;break;default:g+=3;break}return v=v.subarray(x),g-=x,x=0,v&&v.byteLength>3&&(M=Ph(v[x+3]&31),M==="slice_layer_without_partitioning_rbsp_idr"&&(S=!0)),S},m9={parseType:u9,parsePat:c9,parsePmt:d9,parsePayloadUnitStartIndicator:Ic,parsePesType:h9,parsePesTime:f9,videoPacketContainsKeyFrame:p9},Fg=At,so=gl.handleRollover,Mt={};Mt.ts=m9,Mt.aac=Th;var fa=ft.ONE_SECOND_IN_TS,qr=188,vs=71,g9=function(d,m){for(var v=0,g=qr,x,S;g<d.byteLength;){if(d[v]===vs&&d[g]===vs){switch(x=d.subarray(v,g),S=Mt.ts.parseType(x,m.pid),S){case"pat":m.pid=Mt.ts.parsePat(x);break;case"pmt":var M=Mt.ts.parsePmt(x);m.table=m.table||{},Object.keys(M).forEach(function(O){m.table[O]=M[O]});break}v+=qr,g+=qr;continue}v++,g++}},Ug=function(d,m,v){for(var g=0,x=qr,S,M,O,F,j,K=!1;x<=d.byteLength;){if(d[g]===vs&&(d[x]===vs||x===d.byteLength)){switch(S=d.subarray(g,x),M=Mt.ts.parseType(S,m.pid),M){case"pes":O=Mt.ts.parsePesType(S,m.table),F=Mt.ts.parsePayloadUnitStartIndicator(S),O==="audio"&&F&&(j=Mt.ts.parsePesTime(S),j&&(j.type="audio",v.audio.push(j),K=!0));break}if(K)break;g+=qr,x+=qr;continue}g++,x++}for(x=d.byteLength,g=x-qr,K=!1;g>=0;){if(d[g]===vs&&(d[x]===vs||x===d.byteLength)){switch(S=d.subarray(g,x),M=Mt.ts.parseType(S,m.pid),M){case"pes":O=Mt.ts.parsePesType(S,m.table),F=Mt.ts.parsePayloadUnitStartIndicator(S),O==="audio"&&F&&(j=Mt.ts.parsePesTime(S),j&&(j.type="audio",v.audio.push(j),K=!0));break}if(K)break;g-=qr,x-=qr;continue}g--,x--}},y9=function(d,m,v){for(var g=0,x=qr,S,M,O,F,j,K,se,Pe,fe=!1,Xe={data:[],size:0};x<d.byteLength;){if(d[g]===vs&&d[x]===vs){switch(S=d.subarray(g,x),M=Mt.ts.parseType(S,m.pid),M){case"pes":if(O=Mt.ts.parsePesType(S,m.table),F=Mt.ts.parsePayloadUnitStartIndicator(S),O==="video"&&(F&&!fe&&(j=Mt.ts.parsePesTime(S),j&&(j.type="video",v.video.push(j),fe=!0)),!v.firstKeyFrame)){if(F&&Xe.size!==0){for(K=new Uint8Array(Xe.size),se=0;Xe.data.length;)Pe=Xe.data.shift(),K.set(Pe,se),se+=Pe.byteLength;if(Mt.ts.videoPacketContainsKeyFrame(K)){var nt=Mt.ts.parsePesTime(K);nt?(v.firstKeyFrame=nt,v.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Xe.size=0}Xe.data.push(S),Xe.size+=S.byteLength}break}if(fe&&v.firstKeyFrame)break;g+=qr,x+=qr;continue}g++,x++}for(x=d.byteLength,g=x-qr,fe=!1;g>=0;){if(d[g]===vs&&d[x]===vs){switch(S=d.subarray(g,x),M=Mt.ts.parseType(S,m.pid),M){case"pes":O=Mt.ts.parsePesType(S,m.table),F=Mt.ts.parsePayloadUnitStartIndicator(S),O==="video"&&F&&(j=Mt.ts.parsePesTime(S),j&&(j.type="video",v.video.push(j),fe=!0));break}if(fe)break;g-=qr,x-=qr;continue}g--,x--}},v9=function(d,m){if(d.audio&&d.audio.length){var v=m;(typeof v>"u"||isNaN(v))&&(v=d.audio[0].dts),d.audio.forEach(function(S){S.dts=so(S.dts,v),S.pts=so(S.pts,v),S.dtsTime=S.dts/fa,S.ptsTime=S.pts/fa})}if(d.video&&d.video.length){var g=m;if((typeof g>"u"||isNaN(g))&&(g=d.video[0].dts),d.video.forEach(function(S){S.dts=so(S.dts,g),S.pts=so(S.pts,g),S.dtsTime=S.dts/fa,S.ptsTime=S.pts/fa}),d.firstKeyFrame){var x=d.firstKeyFrame;x.dts=so(x.dts,g),x.pts=so(x.pts,g),x.dtsTime=x.dts/fa,x.ptsTime=x.pts/fa}}},b9=function(d){for(var m=!1,v=0,g=null,x=null,S=0,M=0,O;d.length-M>=3;){var F=Mt.aac.parseType(d,M);switch(F){case"timed-metadata":if(d.length-M<10){m=!0;break}if(S=Mt.aac.parseId3TagSize(d,M),S>d.length){m=!0;break}x===null&&(O=d.subarray(M,M+S),x=Mt.aac.parseAacTimestamp(O)),M+=S;break;case"audio":if(d.length-M<7){m=!0;break}if(S=Mt.aac.parseAdtsSize(d,M),S>d.length){m=!0;break}g===null&&(O=d.subarray(M,M+S),g=Mt.aac.parseSampleRate(O)),v++,M+=S;break;default:M++;break}if(m)return null}if(g===null||x===null)return null;var j=fa/g,K={audio:[{type:"audio",dts:x,pts:x},{type:"audio",dts:x+v*1024*j,pts:x+v*1024*j}]};return K},_9=function(d){var m={pid:null,table:null},v={};g9(d,m);for(var g in m.table)if(m.table.hasOwnProperty(g)){var x=m.table[g];switch(x){case Fg.H264_STREAM_TYPE:v.video=[],y9(d,m,v),v.video.length===0&&delete v.video;break;case Fg.ADTS_STREAM_TYPE:v.audio=[],Ug(d,m,v),v.audio.length===0&&delete v.audio;break}}return v},x9=function(d,m){var v=Mt.aac.isLikelyAacData(d),g;return v?g=b9(d):g=_9(d),!g||!g.audio&&!g.video?null:(v9(g,m),g)},w9={inspect:x9,parseAudioPes_:Ug};const T9=function(d,m){m.on("data",function(v){const g=v.initSegment;v.initSegment={data:g.buffer,byteOffset:g.byteOffset,byteLength:g.byteLength};const x=v.data;v.data=x.buffer,d.postMessage({action:"data",segment:v,byteOffset:x.byteOffset,byteLength:x.byteLength},[v.data])}),m.on("done",function(v){d.postMessage({action:"done"})}),m.on("gopInfo",function(v){d.postMessage({action:"gopInfo",gopInfo:v})}),m.on("videoSegmentTimingInfo",function(v){const g={start:{decode:ft.videoTsToSeconds(v.start.dts),presentation:ft.videoTsToSeconds(v.start.pts)},end:{decode:ft.videoTsToSeconds(v.end.dts),presentation:ft.videoTsToSeconds(v.end.pts)},baseMediaDecodeTime:ft.videoTsToSeconds(v.baseMediaDecodeTime)};v.prependedContentDuration&&(g.prependedContentDuration=ft.videoTsToSeconds(v.prependedContentDuration)),d.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:g})}),m.on("audioSegmentTimingInfo",function(v){const g={start:{decode:ft.videoTsToSeconds(v.start.dts),presentation:ft.videoTsToSeconds(v.start.pts)},end:{decode:ft.videoTsToSeconds(v.end.dts),presentation:ft.videoTsToSeconds(v.end.pts)},baseMediaDecodeTime:ft.videoTsToSeconds(v.baseMediaDecodeTime)};v.prependedContentDuration&&(g.prependedContentDuration=ft.videoTsToSeconds(v.prependedContentDuration)),d.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:g})}),m.on("id3Frame",function(v){d.postMessage({action:"id3Frame",id3Frame:v})}),m.on("caption",function(v){d.postMessage({action:"caption",caption:v})}),m.on("trackinfo",function(v){d.postMessage({action:"trackinfo",trackInfo:v})}),m.on("audioTimingInfo",function(v){d.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ft.videoTsToSeconds(v.start),end:ft.videoTsToSeconds(v.end)}})}),m.on("videoTimingInfo",function(v){d.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ft.videoTsToSeconds(v.start),end:ft.videoTsToSeconds(v.end)}})}),m.on("log",function(v){d.postMessage({action:"log",log:v})})};class $g{constructor(m,v){this.options=v||{},this.self=m,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Ex.Transmuxer(this.options),T9(this.self,this.transmuxer)}pushMp4Captions(m){this.captionParser||(this.captionParser=new Yx,this.captionParser.init());const v=new Uint8Array(m.data,m.byteOffset,m.byteLength),g=this.captionParser.parse(v,m.trackIds,m.timescales);this.self.postMessage({action:"mp4Captions",captions:g&&g.captions||[],logs:g&&g.logs||[],data:v.buffer},[v.buffer])}probeMp4StartTime({timescales:m,data:v}){const g=Ih.startTime(m,v);this.self.postMessage({action:"probeMp4StartTime",startTime:g,data:v},[v.buffer])}probeMp4Tracks({data:m}){const v=Ih.tracks(m);this.self.postMessage({action:"probeMp4Tracks",tracks:v,data:m},[m.buffer])}probeEmsgID3({data:m,offset:v}){const g=Ih.getEmsgID3(m,v);this.self.postMessage({action:"probeEmsgID3",id3Frames:g,emsgData:m},[m.buffer])}probeTs({data:m,baseStartTime:v}){const g=typeof v=="number"&&!isNaN(v)?v*ft.ONE_SECOND_IN_TS:void 0,x=w9.inspect(m,g);let S=null;x&&(S={hasVideo:x.video&&x.video.length===2||!1,hasAudio:x.audio&&x.audio.length===2||!1},S.hasVideo&&(S.videoStart=x.video[0].ptsTime),S.hasAudio&&(S.audioStart=x.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:S,data:m},[m.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(m){const v=new Uint8Array(m.data,m.byteOffset,m.byteLength);this.transmuxer.push(v)}reset(){this.transmuxer.reset()}setTimestampOffset(m){const v=m.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(ft.secondsToVideoTs(v)))}setAudioAppendStart(m){this.transmuxer.setAudioAppendStart(Math.ceil(ft.secondsToVideoTs(m.appendStart)))}setRemux(m){this.transmuxer.setRemux(m.remux)}flush(m){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(m){this.transmuxer.alignGopsWith(m.gopsToAlignWith.slice())}}self.onmessage=function(d){if(d.data.action==="init"&&d.data.options){this.messageHandlers=new $g(self,d.data.options);return}this.messageHandlers||(this.messageHandlers=new $g(self)),d.data&&d.data.action&&d.data.action!=="init"&&this.messageHandlers[d.data.action]&&this.messageHandlers[d.data.action](d.data)}}));var EM=Jb(CM);const AM=(t,e,r)=>{const{type:i,initSegment:s,captions:n,captionStreams:a,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:u}=t.data.segment;e.buffer.push({captions:n,captionStreams:a,metadata:o});const c=t.data.segment.boxes||{data:t.data.segment.data},h={type:i,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof l<"u"&&(h.videoFrameDtsTime=l),typeof u<"u"&&(h.videoFramePtsTime=u),r(h)},kM=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},DM=(t,e)=>{e.gopInfo=t.data.gopInfo},r7=t=>{const{transmuxer:e,bytes:r,audioAppendStart:i,gopsToAlignWith:s,remux:n,onData:a,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:c,onAudioSegmentTimingInfo:h,onId3:f,onCaptions:y,onDone:w,onEndedTimeline:_,onTransmuxerLog:C,isEndOfTimeline:E,segment:k,triggerSegmentEventFn:D}=t,P={buffer:[]};let L=E;const U=X=>{e.currentTransmux===t&&(X.data.action==="data"&&AM(X,P,a),X.data.action==="trackinfo"&&o(X.data.trackInfo),X.data.action==="gopInfo"&&DM(X,P),X.data.action==="audioTimingInfo"&&l(X.data.audioTimingInfo),X.data.action==="videoTimingInfo"&&u(X.data.videoTimingInfo),X.data.action==="videoSegmentTimingInfo"&&c(X.data.videoSegmentTimingInfo),X.data.action==="audioSegmentTimingInfo"&&h(X.data.audioSegmentTimingInfo),X.data.action==="id3Frame"&&f([X.data.id3Frame],X.data.id3Frame.dispatchType),X.data.action==="caption"&&y(X.data.caption),X.data.action==="endedtimeline"&&(L=!1,_()),X.data.action==="log"&&C(X.data.log),X.data.type==="transmuxed"&&(L||(e.onmessage=null,kM({transmuxedData:P,callback:w}),i7(e))))},J=()=>{const X={message:"Received an error message from the transmuxer worker",metadata:{errorType:te.Error.StreamingFailedToTransmuxSegment,segmentInfo:Aa({segment:k})}};w(null,X)};if(e.onmessage=U,e.onerror=J,i&&e.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(s)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:s}),typeof n<"u"&&e.postMessage({action:"setRemux",remux:n}),r.byteLength){const X=r instanceof ArrayBuffer?r:r.buffer,H=r instanceof ArrayBuffer?0:r.byteOffset;D({type:"segmenttransmuxingstart",segment:k}),e.postMessage({action:"push",data:X,byteOffset:H,byteLength:r.byteLength},[X])}E&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},i7=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():r7(t.currentTransmux))},Iy=(t,e)=>{t.postMessage({action:e}),i7(t)},s7=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,Iy(e,t);return}e.transmuxQueue.push(Iy.bind(null,e,t))},IM=t=>{s7("reset",t)},LM=t=>{s7("endTimeline",t)},n7=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,r7(t);return}t.transmuxer.transmuxQueue.push(t)},PM=t=>{const e=new EM;e.currentTransmux=null,e.transmuxQueue=[];const r=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,r.call(e)),e.postMessage({action:"init",options:t}),e};var xf={reset:IM,endTimeline:LM,transmux:n7,createTransmuxer:PM};const hu=function(t){const e=t.transmuxer,r=t.endAction||t.action,i=t.callback,s=ir({},t,{endAction:null,transmuxer:null,callback:null}),n=a=>{a.data.action===r&&(e.removeEventListener("message",n),a.data.data&&(a.data.data=new Uint8Array(a.data.data,t.byteOffset||0,t.byteLength||a.data.data.byteLength),t.data&&(t.data=a.data.data)),i(a.data))};if(e.addEventListener("message",n),t.data){const a=t.data instanceof ArrayBuffer;s.byteOffset=a?0:t.data.byteOffset,s.byteLength=t.data.byteLength;const o=[a?t.data:t.data.buffer];e.postMessage(s,o)}else e.postMessage(s)},Is={FAILURE:2,TIMEOUT:-101,ABORTED:-102},$p=t=>{t.forEach(e=>{e.abort()})},MM=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),RM=t=>{const e=t.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return i.bytesReceived=t.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i},N1=(t,e)=>{const{requestType:r}=e,i=Ua({requestType:r,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Is.TIMEOUT,xhr:e,metadata:i}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Is.ABORTED,xhr:e,metadata:i}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Is.FAILURE,xhr:e,metadata:i}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:Is.FAILURE,xhr:e,metadata:i}:null},Ly=(t,e,r,i)=>(s,n)=>{const a=n.response,o=N1(s,n);if(o)return r(o,t);if(a.byteLength!==16)return r({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:Is.FAILURE,xhr:n},t);const l=new DataView(a),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let h=0;h<e.length;h++)e[h].bytes=u;const c={uri:n.uri};return i({type:"segmentkeyloadcomplete",segment:t,keyInfo:c}),r(null,t)},a7=(t,e)=>{const r=t1(t.map.bytes);if(r!=="mp4"){const i=t.map.resolvedUri||t.map.uri,s=r||"unknown";return e({internal:!0,message:`Found unsupported ${s} container for initialization segment at URL: ${i}`,code:Is.FAILURE,metadata:{mediaType:s}})}hu({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:i,data:s})=>(t.map.bytes=s,i.forEach(function(n){t.map.tracks=t.map.tracks||{},!t.map.tracks[n.type]&&(t.map.tracks[n.type]=n,typeof n.id=="number"&&n.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[n.id]=n.timescale))}),e(null))})},OM=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:r})=>(i,s)=>{const n=N1(i,s);if(n)return e(n,t);const a=new Uint8Array(s.response);if(r({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=a,e(null,t);t.map.bytes=a,a7(t,function(o){if(o)return o.xhr=s,o.status=s.status,e(o,t);e(null,t)})},NM=({segment:t,finishProcessingFn:e,responseType:r,triggerSegmentEventFn:i})=>(s,n)=>{const a=N1(s,n);if(a)return e(a,t);i({type:"segmentloaded",segment:t});const o=r==="arraybuffer"||!n.responseText?n.response:TM(n.responseText.substring(t.lastReachedChar||0));return t.stats=MM(n),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),e(null,t)},BM=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:n,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:y})=>{const w=t.map&&t.map.tracks||{},_=!!(w.audio&&w.video);let C=i.bind(null,t,"audio","start");const E=i.bind(null,t,"audio","end");let k=i.bind(null,t,"video","start");const D=i.bind(null,t,"video","end"),P=()=>n7({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:_,onData:L=>{L.type=L.type==="combined"?"video":L.type,c(t,L)},onTrackInfo:L=>{r&&(_&&(L.isMuxed=!0),r(t,L))},onAudioTimingInfo:L=>{C&&typeof L.start<"u"&&(C(L.start),C=null),E&&typeof L.end<"u"&&E(L.end)},onVideoTimingInfo:L=>{k&&typeof L.start<"u"&&(k(L.start),k=null),D&&typeof L.end<"u"&&D(L.end)},onVideoSegmentTimingInfo:L=>{const U={pts:{start:L.start.presentation,end:L.end.presentation},dts:{start:L.start.decode,end:L.end.decode}};y({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:U}),s(L)},onAudioSegmentTimingInfo:L=>{const U={pts:{start:L.start.pts,end:L.end.pts},dts:{start:L.start.dts,end:L.end.dts}};y({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:U}),n(L)},onId3:(L,U)=>{a(t,L,U)},onCaptions:L=>{o(t,[L])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:f,onDone:(L,U)=>{h&&(L.type=L.type==="combined"?"video":L.type,y({type:"segmenttransmuxingcomplete",segment:t}),h(U,t,L))},segment:t,triggerSegmentEventFn:y});hu({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:L=>{t.bytes=e=L.data;const U=L.result;U&&(r(t,{hasAudio:U.hasAudio,hasVideo:U.hasVideo,isMuxed:_}),r=null),P()}})},o7=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:n,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:y})=>{let w=new Uint8Array(e);if(oL(w)){t.isFmp4=!0;const{tracks:_}=t.map,C={isFmp4:!0,hasVideo:!!_.video,hasAudio:!!_.audio};_.audio&&_.audio.codec&&_.audio.codec!=="enca"&&(C.audioCodec=_.audio.codec),_.video&&_.video.codec&&_.video.codec!=="encv"&&(C.videoCodec=_.video.codec),_.video&&_.audio&&(C.isMuxed=!0),r(t,C);const E=(k,D)=>{c(t,{data:w,type:C.hasAudio&&!C.isMuxed?"audio":"video"}),D&&D.length&&a(t,D),k&&k.length&&o(t,k),h(null,t,{})};hu({action:"probeMp4StartTime",timescales:t.map.timescales,data:w,transmuxer:t.transmuxer,callback:({data:k,startTime:D})=>{e=k.buffer,t.bytes=w=k,C.hasAudio&&!C.isMuxed&&i(t,"audio","start",D),C.hasVideo&&i(t,"video","start",D),hu({action:"probeEmsgID3",data:w,transmuxer:t.transmuxer,offset:D,callback:({emsgData:P,id3Frames:L})=>{if(e=P.buffer,t.bytes=w=P,!_.video||!P.byteLength||!t.transmuxer){E(void 0,L);return}hu({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:w,timescales:t.map.timescales,trackIds:[_.video.id],callback:U=>{e=U.data.buffer,t.bytes=w=U.data,U.logs.forEach(function(J){f(Lt(J,{stream:"mp4CaptionParser"}))}),E(U.captions,L)}})}})}});return}if(!t.transmuxer){h(null,t,{});return}if(typeof t.container>"u"&&(t.container=t1(w)),t.container!=="ts"&&t.container!=="aac"){r(t,{hasAudio:!1,hasVideo:!1}),h(null,t,{});return}BM({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:n,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:y})},l7=function({id:t,key:e,encryptedBytes:r,decryptionWorker:i,segment:s,doneFn:n},a){const o=u=>{if(u.data.source===t){i.removeEventListener("message",o);const c=u.data.decrypted;a(new Uint8Array(c.bytes,c.byteOffset,c.byteLength))}};i.onerror=()=>{const u="An error occurred in the decryption worker",c=Aa({segment:s}),h={message:u,metadata:{error:new Error(u),errorType:te.Error.StreamingFailedToDecryptSegment,segmentInfo:c,keyInfo:{uri:s.key.resolvedUri||s.map.key.resolvedUri}}};n(h,s)},i.addEventListener("message",o);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),i.postMessage(Wb({source:t,encrypted:r,key:l,iv:e.iv}),[r.buffer,l.buffer])},FM=({decryptionWorker:t,segment:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:n,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:y})=>{y({type:"segmentdecryptionstart"}),l7({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:h},w=>{e.bytes=w,y({type:"segmentdecryptioncomplete",segment:e}),o7({segment:e,bytes:e.bytes,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:n,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:y})})},UM=({activeXhrs:t,decryptionWorker:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:n,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:y})=>{let w=0,_=!1;return(C,E)=>{if(!_){if(C)return _=!0,$p(t),h(C,E);if(w+=1,w===t.length){const k=function(){if(E.encryptedBytes)return FM({decryptionWorker:e,segment:E,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:n,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:y});o7({segment:E,bytes:E.bytes,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:n,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:y})};if(E.endOfAllRequests=Date.now(),E.map&&E.map.encryptedBytes&&!E.map.bytes)return y({type:"segmentdecryptionstart",segment:E}),l7({decryptionWorker:e,id:E.requestId+"-init",encryptedBytes:E.map.encryptedBytes,key:E.map.key,segment:E,doneFn:h},D=>{E.map.bytes=D,y({type:"segmentdecryptioncomplete",segment:E}),a7(E,P=>{if(P)return $p(t),h(P,E);k()})});k()}}}},$M=({loadendState:t,abortFn:e})=>r=>{r.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},zM=({segment:t,progressFn:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:n,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c})=>h=>{if(!h.target.aborted)return t.stats=Lt(t.stats,RM(h)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(h,t)},qM=({xhr:t,xhrOptions:e,decryptionWorker:r,segment:i,abortFn:s,progressFn:n,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:y,dataFn:w,doneFn:_,onTransmuxerLog:C,triggerSegmentEventFn:E})=>{const k=[],D=UM({activeXhrs:k,decryptionWorker:r,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:y,dataFn:w,doneFn:_,onTransmuxerLog:C,triggerSegmentEventFn:E});if(i.key&&!i.key.bytes){const X=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&X.push(i.map.key);const H=Lt(e,{uri:i.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),re=Ly(i,X,D,E),Z={uri:i.key.resolvedUri};E({type:"segmentkeyloadstart",segment:i,keyInfo:Z});const W=t(H,re);k.push(W)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){const W=Lt(e,{uri:i.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),ne=Ly(i,[i.map.key],D,E),ce={uri:i.map.key.resolvedUri};E({type:"segmentkeyloadstart",segment:i,keyInfo:ce});const $e=t(W,ne);k.push($e)}const H=Lt(e,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:Fp(i.map),requestType:"segment-media-initialization"}),re=OM({segment:i,finishProcessingFn:D,triggerSegmentEventFn:E});E({type:"segmentloadstart",segment:i});const Z=t(H,re);k.push(Z)}const P=Lt(e,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:Fp(i),requestType:"segment"}),L=NM({segment:i,finishProcessingFn:D,responseType:P.responseType,triggerSegmentEventFn:E});E({type:"segmentloadstart",segment:i});const U=t(P,L);U.addEventListener("progress",zM({segment:i,progressFn:n,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:y,dataFn:w})),k.push(U);const J={};return k.forEach(X=>{X.addEventListener("loadend",$M({loadendState:J,abortFn:s}))}),()=>$p(k)},jM=Ji("CodecUtils"),HM=function(t){const e=t.attributes||{};if(e.CODECS)return ws(e.CODECS)},u7=(t,e)=>{const r=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&r.AUDIO&&t.mediaGroups.AUDIO[r.AUDIO]},VM=(t,e)=>{if(!u7(t,e))return!0;const r=e.attributes||{},i=t.mediaGroups.AUDIO[r.AUDIO];for(const s in i)if(!i[s].uri&&!i[s].playlists)return!0;return!1},id=function(t){const e={};return t.forEach(({mediaType:r,type:i,details:s})=>{e[r]=e[r]||[],e[r].push(y6(`${i}${s}`))}),Object.keys(e).forEach(function(r){if(e[r].length>1){jM(`multiple ${r} codecs found as attributes: ${e[r].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[r]=null;return}e[r]=e[r][0]}),e},Py=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},fu=function(t,e){const r=e.attributes||{},i=id(HM(e)||[]);if(u7(t,e)&&!i.audio&&!VM(t,e)){const s=id(oD(t,r.AUDIO)||[]);s.audio&&(i.audio=s.audio)}return i},Kc=Ji("PlaylistSelector"),My=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},sd=function(t,e){if(!t)return"";const r=$.getComputedStyle(t);return r?r[e]:""},Mo=function(t,e){const r=t.slice();t.sort(function(i,s){const n=e(i,s);return n===0?r.indexOf(i)-r.indexOf(s):n})},B1=function(t,e){let r,i;return t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||$.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||$.Number.MAX_VALUE,r-i},GM=function(t,e){let r,i;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||$.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||$.Number.MAX_VALUE,r===i&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:r-i};let c7=function(t,e,r,i,s,n){if(!t)return;const a={bandwidth:e,width:r,height:i,limitRenditionByPlayerDimensions:s};let o=t.playlists;pi.isAudioOnly(t)&&(o=n.getAudioTrackPlaylists_(),a.audioOnly=!0);let l=o.map(L=>{let U;const J=L.attributes&&L.attributes.RESOLUTION&&L.attributes.RESOLUTION.width,X=L.attributes&&L.attributes.RESOLUTION&&L.attributes.RESOLUTION.height;return U=L.attributes&&L.attributes.BANDWIDTH,U=U||$.Number.MAX_VALUE,{bandwidth:U,width:J,height:X,playlist:L}});Mo(l,(L,U)=>L.bandwidth-U.bandwidth),l=l.filter(L=>!pi.isIncompatible(L.playlist));let u=l.filter(L=>pi.isEnabled(L.playlist));u.length||(u=l.filter(L=>!pi.isDisabled(L.playlist)));const c=u.filter(L=>L.bandwidth*Cr.BANDWIDTH_VARIANCE<e);let h=c[c.length-1];const f=c.filter(L=>L.bandwidth===h.bandwidth)[0];if(s===!1){const L=f||u[0]||l[0];if(L&&L.playlist){let U="sortedPlaylistReps";return f&&(U="bandwidthBestRep"),u[0]&&(U="enabledPlaylistReps"),Kc(`choosing ${My(L)} using ${U} with options`,a),L.playlist}return Kc("could not choose a playlist with options",a),null}const y=c.filter(L=>L.width&&L.height);Mo(y,(L,U)=>L.width-U.width);const w=y.filter(L=>L.width===r&&L.height===i);h=w[w.length-1];const _=w.filter(L=>L.bandwidth===h.bandwidth)[0];let C,E,k;_||(C=y.filter(L=>L.width>r||L.height>i),E=C.filter(L=>L.width===C[0].width&&L.height===C[0].height),h=E[E.length-1],k=E.filter(L=>L.bandwidth===h.bandwidth)[0]);let D;if(n.leastPixelDiffSelector){const L=y.map(U=>(U.pixelDiff=Math.abs(U.width-r)+Math.abs(U.height-i),U));Mo(L,(U,J)=>U.pixelDiff===J.pixelDiff?J.bandwidth-U.bandwidth:U.pixelDiff-J.pixelDiff),D=L[0]}const P=D||k||_||f||u[0]||l[0];if(P&&P.playlist){let L="sortedPlaylistReps";return D?L="leastPixelDiffRep":k?L="resolutionPlusOneRep":_?L="resolutionBestRep":f?L="bandwidthBestRep":u[0]&&(L="enabledPlaylistReps"),Kc(`choosing ${My(P)} using ${L} with options`,a),P.playlist}return Kc("could not choose a playlist with options",a),null};const Ry=function(){let t=this.useDevicePixelRatio&&$.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),c7(this.playlists.main,this.systemBandwidth,parseInt(sd(this.tech_.el(),"width"),10)*t,parseInt(sd(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},WM=function(t){let e=-1,r=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let i=this.useDevicePixelRatio&&$.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(i=this.customPixelRatio),e<0&&(e=this.systemBandwidth,r=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==r&&(e=t*this.systemBandwidth+(1-t)*e,r=this.systemBandwidth),c7(this.playlists.main,e,parseInt(sd(this.tech_.el(),"width"),10)*i,parseInt(sd(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions,this.playlistController_)}},XM=function(t){const{main:e,currentTime:r,bandwidth:i,duration:s,segmentDuration:n,timeUntilRebuffer:a,currentTimeline:o,syncController:l}=t,u=e.playlists.filter(w=>!pi.isIncompatible(w));let c=u.filter(pi.isEnabled);c.length||(c=u.filter(w=>!pi.isDisabled(w)));const f=c.filter(pi.hasAttribute.bind(null,"BANDWIDTH")).map(w=>{const C=l.getSyncPoint(w,s,o,r)?1:2,k=pi.estimateSegmentRequestTime(n,i,w)*C-a;return{playlist:w,rebufferingImpact:k}}),y=f.filter(w=>w.rebufferingImpact<=0);return Mo(y,(w,_)=>B1(_.playlist,w.playlist)),y.length?y[0]:(Mo(f,(w,_)=>w.rebufferingImpact-_.rebufferingImpact),f[0]||null)},KM=function(){const t=this.playlists.main.playlists.filter(pi.isEnabled);return Mo(t,(r,i)=>B1(r,i)),t.filter(r=>!!fu(this.playlists.main,r).video)[0]||null},YM=t=>{let e=0,r;return t.bytes&&(r=new Uint8Array(t.bytes),t.segments.forEach(i=>{r.set(i,e),e+=i.byteLength})),r};function d7(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const QM=function(t,e,r){if(!t[r]){e.trigger({type:"usage",name:"vhs-608"});let i=r;/^cc708_/.test(r)&&(i="SERVICE"+r.split("_")[1]);const s=e.textTracks().getTrackById(i);if(s)t[r]=s;else{const n=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=r,o=r,l=!1;const u=n[i];u&&(a=u.label,o=u.language,l=u.default),t[r]=e.addRemoteTextTrack({kind:"captions",id:i,default:l,label:a,language:o},!1).track}}},ZM=function({inbandTextTracks:t,captionArray:e,timestampOffset:r}){if(!e)return;const i=$.WebKitDataCue||$.VTTCue;e.forEach(s=>{const n=s.stream;s.content?s.content.forEach(a=>{const o=new i(s.startTime+r,s.endTime+r,a.text);o.line=a.line,o.align="left",o.position=a.position,o.positionAlign="line-left",t[n].addCue(o)}):t[n].addCue(new i(s.startTime+r,s.endTime+r,s.text))})},JM=function(t){Object.defineProperties(t.frame,{id:{get(){return te.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return te.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return te.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},eR=({inbandTextTracks:t,metadataArray:e,timestampOffset:r,videoDuration:i})=>{if(!e)return;const s=$.WebKitDataCue||$.VTTCue,n=t.metadataTrack_;if(!n||(e.forEach(c=>{const h=c.cueTime+r;typeof h!="number"||$.isNaN(h)||h<0||!(h<1/0)||!c.frames||!c.frames.length||c.frames.forEach(f=>{const y=new s(h,h,f.value||f.url||f.data||"");y.frame=f,y.value=f,JM(y),n.addCue(y)})}),!n.cues||!n.cues.length))return;const a=n.cues,o=[];for(let c=0;c<a.length;c++)a[c]&&o.push(a[c]);const l=o.reduce((c,h)=>{const f=c[h.startTime]||[];return f.push(h),c[h.startTime]=f,c},{}),u=Object.keys(l).sort((c,h)=>Number(c)-Number(h));u.forEach((c,h)=>{const f=l[c],y=isFinite(i)?i:c,w=Number(u[h+1])||y;f.forEach(_=>{_.endTime=w})})},tR={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},rR=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),iR=({inbandTextTracks:t,dateRanges:e})=>{const r=t.metadataTrack_;if(!r)return;const i=$.WebKitDataCue||$.VTTCue;e.forEach(s=>{for(const n of Object.keys(s)){if(rR.has(n))continue;const a=new i(s.startTime,s.endTime,"");a.id=s.id,a.type="com.apple.quicktime.HLS",a.value={key:tR[n],data:s[n]},(n==="scte35Out"||n==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),r.addCue(a)}s.processDateRange()})},Oy=(t,e,r)=>{t.metadataTrack_||(t.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,te.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},Ql=function(t,e,r){let i,s;if(r&&r.cues)for(i=r.cues.length;i--;)s=r.cues[i],s.startTime>=t&&s.endTime<=e&&r.removeCue(s)},sR=function(t){const e=t.cues;if(!e)return;const r={};for(let i=e.length-1;i>=0;i--){const s=e[i],n=`${s.startTime}-${s.endTime}-${s.text}`;r[n]?t.removeCue(s):r[n]=s}},nR=(t,e,r)=>{if(typeof e>"u"||e===null||!t.length)return[];const i=Math.ceil((e-r+3)*Da.ONE_SECOND_IN_TS);let s;for(s=0;s<t.length&&!(t[s].pts>i);s++);return t.slice(s)},aR=(t,e,r)=>{if(!e.length)return t;if(r)return e.slice();const i=e[0].pts;let s=0;for(s;s<t.length&&!(t[s].pts>=i);s++);return t.slice(0,s).concat(e)},oR=(t,e,r,i)=>{const s=Math.ceil((e-i)*Da.ONE_SECOND_IN_TS),n=Math.ceil((r-i)*Da.ONE_SECOND_IN_TS),a=t.slice();let o=t.length;for(;o--&&!(t[o].pts<=n););if(o===-1)return a;let l=o+1;for(;l--&&!(t[l].pts<=s););return l=Math.max(l,0),a.splice(l,o-l+1),a},lR=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const r=Object.keys(t).sort(),i=Object.keys(e).sort();if(r.length!==i.length)return!1;for(let s=0;s<r.length;s++){const n=r[s];if(n!==i[s]||t[n]!==e[n])return!1}return!0},uR=function(t,e,r){e=e||[];const i=[];let s=0;for(let n=0;n<e.length;n++){const a=e[n];if(t===a.timeline&&(i.push(n),s+=a.duration,s>r))return n}return i.length===0?0:i[i.length-1]},Ul=1,cR=500,Ny=t=>typeof t=="number"&&isFinite(t),Yc=1/60,dR=(t,e,r)=>t!=="main"||!e||!r?null:!r.hasAudio&&!r.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!r.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&r.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,hR=(t,e,r)=>{let i=e-Cr.BACK_BUFFER_LENGTH;t.length&&(i=Math.max(i,t.start(0)));const s=e-r;return Math.min(s,i)},po=t=>{const{startOfSegment:e,duration:r,segment:i,part:s,playlist:{mediaSequence:n,id:a,segments:o=[]},mediaIndex:l,partIndex:u,timeline:c}=t,h=o.length-1;let f="mediaIndex/partIndex increment";t.getMediaInfoForTime?f=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(f="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(f+=` with independent ${t.independent}`);const y=typeof u=="number",w=t.segment.uri?"segment":"pre-segment",_=y?Lb({preloadSegment:i})-1:0;return`${w} [${n+l}/${n+h}]`+(y?` part [${u}/${_}]`:"")+` segment start/end [${i.start} => ${i.end}]`+(y?` part start/end [${s.start} => ${s.end}]`:"")+` startOfSegment [${e}] duration [${r}] timeline [${c}] selected by [${f}] playlist [${a}]`},By=t=>`${t}TimingInfo`,fR=({segmentTimeline:t,currentTimeline:e,startOfSegment:r,buffered:i,overrideCheck:s})=>!s&&t===e?null:t<e?r:i.length?i.end(i.length-1):r,zp=({timelineChangeController:t,currentTimeline:e,segmentTimeline:r,loaderType:i,audioDisabled:s})=>{if(e===r)return!1;if(i==="audio"){const n=t.lastTimelineChange({type:"main"});return!n||n.to!==r}if(i==="main"&&s){const n=t.pendingTimelineChange({type:"audio"});return!(n&&n.to===r)}return!1},pR=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),r=t.pendingTimelineChange({type:"main"}),i=e&&r,s=i&&e.to!==r.to;return!!(i&&e.from!==-1&&r.from!==-1&&s)},mR=t=>{t&&(t.pause(),t.resetEverything(),t.load())},gR=t=>{const e=t.timelineChangeController_.pendingTimelineChange({type:"audio"}),r=t.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&r&&e.to<r.to},Rn=t=>{const e=t.pendingSegment_;if(!e)return;if(zp({timelineChangeController:t.timelineChangeController_,currentTimeline:t.currentTimeline_,segmentTimeline:e.timeline,loaderType:t.loaderType_,audioDisabled:t.audioDisabled_})&&pR(t.timelineChangeController_)){if(t.sourceType_==="dash"&&gR(t)){t.timelineChangeController_.trigger("audioTimelineBehind");return}mR(t)}},yR=t=>{let e=0;return["video","audio"].forEach(function(r){const i=t[`${r}TimingInfo`];if(!i)return;const{start:s,end:n}=i;let a;typeof s=="bigint"||typeof n=="bigint"?a=$.BigInt(n)-$.BigInt(s):typeof s=="number"&&typeof n=="number"&&(a=n-s),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},Fy=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+ks:!1,vR=(t,e)=>{if(e!=="hls")return null;const r=yR({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!r)return null;const i=t.playlist.targetDuration,s=Fy({segmentDuration:r,maxDuration:i*2}),n=Fy({segmentDuration:r,maxDuration:i}),a=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${r} when the reported duration is ${t.duration} and the target duration is ${i}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return s||n?{severity:s?"warn":"info",message:a}:null},Aa=({type:t,segment:e})=>{if(!e)return;const r=!!(e.key||e.map&&e.map.ke),i=!!(e.map&&!e.map.bytes),s=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:s,duration:e.duration,isEncrypted:r,isMediaInitialization:i}};class qp extends te.EventTarget{constructor(e,r={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=Ji(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(i){i!==this.state_&&(this.logger_(`${this.state_} -> ${i}`),this.state_=i,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Rn(this)}),this.sourceUpdater_.on("codecschange",i=>{this.trigger(ir({type:"codecschange"},i))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Rn(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",i=>{this.trigger(ir({type:"timelinechange"},i)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():Rn(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Rn(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return xf.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&$.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,$.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&xf.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Mr();if(this.loaderType_==="main"){const{hasAudio:r,hasVideo:i,isMuxed:s}=e;if(i&&r&&!this.audioDisabled_&&!s)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,r=!1){if(!e)return null;const i=rd(e);let s=this.initSegments_[i];return r&&!s&&e.bytes&&(this.initSegments_[i]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),s||e}segmentKey(e,r=!1){if(!e)return null;const i=Xb(e);let s=this.keyCache_[i];this.cacheEncryptionKeys_&&r&&!s&&e.bytes&&(this.keyCache_[i]=s={resolvedUri:e.resolvedUri,bytes:e.bytes});const n={resolvedUri:(s||e).resolvedUri};return s&&(n.bytes=s.bytes),n}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,r={}){if(!e)return;const i=this.playlist_,s=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=r,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let n=null;if(i&&(i.id?n=i.id:i.uri&&(n=i.uri)),this.logger_(`playlist update [${n} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${bf(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-i.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}s&&(s.mediaIndex-=a,s.mediaIndex<0?(s.mediaIndex=null,s.partIndex=null):(s.mediaIndex>=0&&(s.segment=e.segments[s.mediaIndex]),s.partIndex>=0&&s.segment.parts&&(s.part=s.segment.parts[s.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,e)}pause(){this.checkBufferTimeout_&&($.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&xf.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,r,i=()=>{},s=!1){if(r===1/0&&(r=this.duration_()),r<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let n=1;const a=()=>{n--,n===0&&i()};(s||!this.audioDisabled_)&&(n++,this.sourceUpdater_.removeAudio(e,r,a)),(s||this.loaderType_==="main")&&(this.gopBuffer_=oR(this.gopBuffer_,e,r,this.timeMapping_),n++,this.sourceUpdater_.removeVideo(e,r,a));for(const o in this.inbandTextTracks_)Ql(e,r,this.inbandTextTracks_[o]);Ql(e,r,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&$.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=$.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&$.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=$.setTimeout(this.monitorBufferTick_.bind(this),cR)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const r={segmentInfo:Aa({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:r}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,r=this.playlist_,i=this.partIndex){if(!r||!this.mediaSource_)return!1;const s=typeof e=="number"&&r.segments[e],n=e+1===r.segments.length,a=!s||!s.parts||i+1===s.parts.length;return r.endList&&this.mediaSource_.readyState==="open"&&n&&a}chooseNextRequest_(){const e=this.buffered_(),r=bf(e)||0,i=P1(e,this.currentTime_()),s=!this.hasPlayed_()&&i>=1,n=i>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||s||n)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=uR(this.currentTimeline_,a,r),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${o.mediaIndex}`);else if(this.mediaIndex!==null){const f=a[this.mediaIndex],y=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=f.end?f.end:r,f.parts&&f.parts[y+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=y+1):o.mediaIndex=this.mediaIndex+1}else{let f,y,w;const _=this.fetchAtBuffer_?r:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${_}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${r}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const C=this.getSyncInfoFromMediaSequenceSync_(_);if(!C){const E="No sync info found while using media sequence sync";return this.error({message:E,metadata:{errorType:te.Error.StreamingFailedToSelectNextSegment,error:new Error(E)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${C.start} --> ${C.end})`),f=C.segmentIndex,y=C.partIndex,w=C.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const C=pi.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:_,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});f=C.segmentIndex,y=C.partIndex,w=C.startTime}o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${_}`:`currentTime ${_}`,o.mediaIndex=f,o.startOfSegment=w,o.partIndex=y,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${o.mediaIndex} `)}const l=a[o.mediaIndex];let u=l&&typeof o.partIndex=="number"&&l.parts&&l.parts[o.partIndex];if(!l||typeof o.partIndex=="number"&&!u)return null;typeof o.partIndex!="number"&&l.parts&&(o.partIndex=0,u=l.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!i&&u&&!c&&!u.independent)if(o.partIndex===0){const f=a[o.mediaIndex-1],y=f.parts&&f.parts.length&&f.parts[f.parts.length-1];y&&y.independent&&(o.mediaIndex-=1,o.partIndex=f.parts.length-1,o.independent="previous segment")}else l.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const h=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=a.length-1&&h&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,o.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(o))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const r=Math.max(e,this.mediaSequenceSync_.start);e!==r&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${r}`);const i=this.mediaSequenceSync_.getSyncInfoForTime(r);if(!i)return null;if(!i.isAppended)return i;const s=this.mediaSequenceSync_.getSyncInfoForTime(i.end);return s?(s.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),s):null}generateSegmentInfo_(e){const{independent:r,playlist:i,mediaIndex:s,startOfSegment:n,isSyncRequest:a,partIndex:o,forceTimestampOffset:l,getMediaInfoForTime:u}=e,c=i.segments[s],h=typeof o=="number"&&c.parts[o],f={requestId:"segment-loader-"+Math.random(),uri:h&&h.resolvedUri||c.resolvedUri,mediaIndex:s,partIndex:h?o:null,isSyncRequest:a,startOfSegment:n,playlist:i,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:h&&h.duration||c.duration,segment:c,part:h,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:r},y=typeof l<"u"?l:this.isPendingTimestampOffset_;f.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:n,buffered:this.buffered_(),overrideCheck:y});const w=bf(this.sourceUpdater_.audioBuffered());return typeof w=="number"&&(f.audioAppendStart=w-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(f.gopsToAlignWith=nR(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),f}timestampOffsetForSegment_(e){return fR(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const r=this.currentTime_(),i=e.bandwidth,s=this.pendingSegment_.duration,n=pi.estimateSegmentRequestTime(s,i,this.playlist_,e.bytesReceived),a=NP(this.buffered_(),r,this.vhs_.tech_.playbackRate())-1;if(n<=a)return;const o=XM({main:this.vhs_.playlists.main,currentTime:r,bandwidth:i,duration:this.duration_(),segmentDuration:s,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const u=n-a-o.rebufferingImpact;let c=.5;a<=ks&&(c=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||u<c)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*Cr.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${po(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,r){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&this.trigger("progress")}handleTrackInfo_(e,r){const{hasAudio:i,hasVideo:s}=r,n={segmentInfo:Aa({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:i,hasVideo:s}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:n}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(r)||(r=r||{},lR(this.currentMediaInfo_,r)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=r,this.currentMediaInfo_=r,this.logger_("trackinfo update",r),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=r,this.hasEnoughInfoToAppend_()?this.processCallQueue_():Rn(this))))}handleTimingInfo_(e,r,i,s){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const n=this.pendingSegment_,a=By(r);n[a]=n[a]||{},n[a][i]=s,this.logger_(`timinginfo: ${r} - ${i} - ${s}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Rn(this)}handleCaptions_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(r.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,r));return}const s=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),n={};r.forEach(a=>{n[a.stream]=n[a.stream]||{startTime:1/0,captions:[],endTime:0};const o=n[a.stream];o.startTime=Math.min(o.startTime,a.startTime+s),o.endTime=Math.max(o.endTime,a.endTime+s),o.captions.push(a)}),Object.keys(n).forEach(a=>{const{startTime:o,endTime:l,captions:u}=n[a],c=this.inbandTextTracks_;this.logger_(`adding cues from ${o} -> ${l} for ${a}`),QM(c,this.vhs_.tech_,a),Ql(o,l,c[a]),ZM({captionArray:u,inbandTextTracks:c,timestampOffset:s})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,r,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,r,i));return}this.addMetadataToTextTrack(i,r,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(r=>r())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(r=>r())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!zp({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,r=this.getCurrentMediaInfo_();if(!e||!r)return!1;const{hasAudio:i,hasVideo:s,isMuxed:n}=r;return!(s&&!e.videoTimingInfo||i&&!this.audioDisabled_&&!n&&!e.audioTimingInfo||zp({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){Rn(this),this.callQueue_.push(this.handleData_.bind(this,e,r));return}const i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.part||i.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),i.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),i.isFmp4=e.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[By(r.type)].start;else{const s=this.getCurrentMediaInfo_(),n=this.loaderType_==="main"&&s&&s.hasVideo;let a;n&&(a=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:n,firstVideoFrameTimeForData:a,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(i,r.type),this.updateSourceBufferTimestampOffset_(i),i.isSyncRequest){this.updateTimingInfoEnd_(i),this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:this.loaderType_==="main"});const s=this.chooseNextRequest_();if(s.mediaIndex!==i.mediaIndex||s.partIndex!==i.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,r)}}updateAppendInitSegmentStatus(e,r){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[r]!==e.playlist&&(this.appendInitSegment_[r]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:r,map:i,playlist:s}){if(i){const n=rd(i);if(this.activeInitSegmentId_===n)return null;r=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=n}return r&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=s,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,r):null}handleQuotaExceededError_({segmentInfo:e,type:r,bytes:i},s){const n=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();n.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Ia(n).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Ia(a).join(", "));const o=n.length?n.start(0):0,l=n.length?n.end(n.length-1):0,u=a.length?a.start(0):0,c=a.length?a.end(a.length-1):0;if(l-o<=Ul&&c-u<=Ul){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${i.byteLength}, audio buffer: ${Ia(n).join(", ")}, video buffer: ${Ia(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:r,bytes:i}));const f=this.currentTime_()-Ul;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${f}`),this.remove(0,f,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Ul}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=$.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Ul*1e3)},!0)}handleAppendError_({segmentInfo:e,type:r,bytes:i},s){if(s){if(s.code===qb){this.handleQuotaExceededError_({segmentInfo:e,type:r,bytes:i});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",s),this.error({message:`${r} append of ${i.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:te.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:i,data:s,bytes:n}){if(!n){const o=[s];let l=s.byteLength;i&&(o.unshift(i),l+=i.byteLength),n=YM({bytes:l,segments:o})}const a={segmentInfo:Aa({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:r,bytes:n},this.handleAppendError_.bind(this,{segmentInfo:e,type:r,bytes:n}))}handleSegmentTimingInfo_(e,r,i){if(!this.pendingSegment_||r!==this.pendingSegment_.requestId)return;const s=this.pendingSegment_.segment,n=`${e}TimingInfo`;s[n]||(s[n]={}),s[n].transmuxerPrependedSeconds=i.prependedContentDuration||0,s[n].transmuxedPresentationStart=i.start.presentation,s[n].transmuxedDecodeStart=i.start.decode,s[n].transmuxedPresentationEnd=i.end.presentation,s[n].transmuxedDecodeEnd=i.end.decode,s[n].baseMediaDecodeTime=i.baseMediaDecodeTime}appendData_(e,r){const{type:i,data:s}=r;if(!s||!s.byteLength||i==="audio"&&this.audioDisabled_)return;const n=this.getInitSegmentAndUpdateState_({type:i,initSegment:r.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:n,data:s})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){Rn(this),this.loadQueue_.push(()=>{const r=ir({},e,{forceTimestampOffset:!0});ir(e,this.generateSegmentInfo_(r)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const r=this.createSimplifiedSegmentObj_(e),i=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),s=this.mediaIndex!==null,n=e.timeline!==this.currentTimeline_&&e.timeline>0,a=i||s&&n;this.logger_(`Requesting
${d7(e.uri)}
${po(e)}`),r.map&&!r.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=qM({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:r,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:l,stream:u})=>{this.logger_(`${po(e)} logged from transmuxer stream ${u} as a ${l}: ${o}`)},triggerSegmentEventFn:({type:o,segment:l,keyInfo:u,trackInfo:c,timingInfo:h})=>{const y={segmentInfo:Aa({segment:l})};u&&(y.keyInfo=u),c&&(y.trackInfo=c),h&&(y.timingInfo=h),this.trigger({type:o,metadata:y})}})}trimBackBuffer_(e){const r=hR(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);r>0&&this.remove(0,r)}createSimplifiedSegmentObj_(e){const r=e.segment,i=e.part,s=e.segment.key||e.segment.map&&e.segment.map.key,n=e.segment.map&&!e.segment.map.bytes,a={resolvedUri:i?i.resolvedUri:r.resolvedUri,byterange:i?i.byterange:r.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:s,isMediaInitialization:n},o=e.playlist.segments[e.mediaIndex-1];if(o&&o.timeline===r.timeline&&(o.videoTimingInfo?a.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(a.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),r.key){const l=r.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(r.key),a.key.iv=l}return r.map&&(a.map=this.initSegmentForMap(r.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,r){if(this.pendingSegment_.byteLength=r.bytesReceived,e<Yc){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${Yc}`);return}const i={bandwidthInfo:{from:this.bandwidth,to:r.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:i}),this.bandwidth=r.bandwidth,this.roundTrip=r.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,r,i){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,r,i));return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_||r.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Is.ABORTED)return;if(this.pause(),e.code===Is.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const s=this.pendingSegment_;this.saveBandwidthRelatedStats_(s.duration,r.stats),s.endOfAllRequests=r.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=aR(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(s)}setTimeMapping_(e){const r=this.syncController_.mappingForTimeline(e);r!==null&&(this.timeMapping_=r)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:r,mediaIndex:i,firstVideoFrameTimeForData:s,currentVideoTimestampOffset:n,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:l}){if(typeof e<"u")return e;if(!a)return l.start;const u=r.segments[i-1];return i===0||!u||typeof u.start>"u"||u.end!==s+n?s:o.start}waitForAppendsToComplete_(e){const r=this.getCurrentMediaInfo_(e);if(!r){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:i,hasVideo:s,isMuxed:n}=r,a=this.loaderType_==="main"&&s,o=!this.audioDisabled_&&i&&!n;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const r=dR(this.loaderType_,this.getCurrentMediaInfo_(),e);return r?(this.error({message:r,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let r=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),r=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),r=!0),r&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:r,timingInfo:i}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:r&&typeof r.transmuxedDecodeStart=="number"?r.transmuxedDecodeStart:i.start:i.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const r=this.getMediaInfo_(),s=this.loaderType_==="main"&&r&&r.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;s&&(e.timingInfo.end=typeof s.end=="number"?s.end:s.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const l={segmentInfo:Aa({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=vR(e,this.sourceType_);if(r&&(r.severity==="warn"?te.log.warn(r.message):this.logger_(r.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${po(e)}`);return}this.logger_(`Appended ${po(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const i=e.segment,s=e.part,n=i.end&&this.currentTime_()-i.end>e.playlist.targetDuration*3,a=s&&s.end&&this.currentTime_()-s.end>e.playlist.partTargetDuration*3;if(n||a){this.logger_(`bad ${n?"segment":"part"} ${po(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Yc){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${Yc}`);return}const r=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,s=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(s-r)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const r=e.segment,i=r.start,s=r.end;if(!Ny(i)||!Ny(s))return;Ql(i,s,this.segmentMetadataTrack_);const n=$.WebKitDataCue||$.VTTCue,a={custom:r.custom,dateTimeObject:r.dateTimeObject,dateTimeString:r.dateTimeString,programDateTime:r.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:s},o=JSON.stringify(a),l=new n(i,s,o);l.value=a,this.segmentMetadataTrack_.addCue(l)}}function sn(){}const h7=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},bR=["video","audio"],jp=(t,e)=>{const r=e[`${t}Buffer`];return r&&r.updating||e.queuePending[t]},_R=(t,e)=>{for(let r=0;r<e.length;r++){const i=e[r];if(i.type==="mediaSource")return null;if(i.type===t)return r}return null},Ro=(t,e)=>{if(e.queue.length===0)return;let r=0,i=e.queue[r];if(i.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),i.action(e),i.doneFn&&i.doneFn(),Ro("audio",e),Ro("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||jp(t,e))){if(i.type!==t){if(r=_R(t,e.queue),r===null)return;i=e.queue[r]}if(e.queue.splice(r,1),e.queuePending[t]=i,i.action(t,e),!i.doneFn){e.queuePending[t]=null,Ro(t,e);return}}},f7=(t,e)=>{const r=e[`${t}Buffer`],i=h7(t);r&&(r.removeEventListener("updateend",e[`on${i}UpdateEnd_`]),r.removeEventListener("error",e[`on${i}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},Ss=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,Ti={appendBuffer:(t,e,r)=>(i,s)=>{const n=s[`${i}Buffer`];if(Ss(s.mediaSource,n)){s.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${i}Buffer`);try{n.appendBuffer(t)}catch(a){s.logger_(`Error with code ${a.code} `+(a.code===qb?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${i}Buffer`),s.queuePending[i]=null,r(a)}}},remove:(t,e)=>(r,i)=>{const s=i[`${r}Buffer`];if(Ss(i.mediaSource,s)){i.logger_(`Removing ${t} to ${e} from ${r}Buffer`);try{s.remove(t,e)}catch{i.logger_(`Remove ${t} to ${e} from ${r}Buffer failed`)}}},timestampOffset:t=>(e,r)=>{const i=r[`${e}Buffer`];Ss(r.mediaSource,i)&&(r.logger_(`Setting ${e}timestampOffset to ${t}`),i.timestampOffset=t)},callback:t=>(e,r)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(r){te.log.warn("Failed to call media source endOfStream",r)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(r){te.log.warn("Failed to set media source duration",r)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const r=e[`${t}Buffer`];if(Ss(e.mediaSource,r)){e.logger_(`calling abort on ${t}Buffer`);try{r.abort()}catch(i){te.log.warn(`Failed to abort on ${t}Buffer`,i)}}},addSourceBuffer:(t,e)=>r=>{const i=h7(t),s=Eu(e);r.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const n=r.mediaSource.addSourceBuffer(s);n.addEventListener("updateend",r[`on${i}UpdateEnd_`]),n.addEventListener("error",r[`on${i}Error_`]),r.codecs[t]=e,r[`${t}Buffer`]=n},removeSourceBuffer:t=>e=>{const r=e[`${t}Buffer`];if(f7(t,e),!!Ss(e.mediaSource,r)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(r)}catch(i){te.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,i)}}},changeType:t=>(e,r)=>{const i=r[`${e}Buffer`],s=Eu(t);if(!Ss(r.mediaSource,i))return;const n=t.substring(0,t.indexOf(".")),a=r.codecs[e];if(a.substring(0,a.indexOf("."))===n)return;const l={codecsChangeInfo:{from:a,to:t}};r.trigger({type:"codecschange",metadata:l}),r.logger_(`changing ${e}Buffer codec from ${a} to ${t}`);try{i.changeType(s),r.codecs[e]=t}catch(u){l.errorType=te.Error.StreamingCodecsChangeError,l.error=u,u.metadata=l,r.error_=u,r.trigger("error"),te.log.warn(`Failed to changeType on ${e}Buffer`,u)}}},Si=({type:t,sourceUpdater:e,action:r,doneFn:i,name:s})=>{e.queue.push({type:t,action:r,doneFn:i,name:s}),Ro(t,e)},Uy=(t,e)=>r=>{const i=e[`${t}Buffered`](),s=MP(i);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,s),e.queuePending[t]){const n=e.queuePending[t].doneFn;e.queuePending[t]=null,n&&n(e[`${t}Error_`])}Ro(t,e)};class p7 extends te.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Ro("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Ji("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=Uy("video",this),this.onAudioUpdateEnd_=Uy("audio",this),this.onVideoError_=r=>{this.videoError_=r},this.onAudioError_=r=>{this.audioError_=r},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,r){Si({type:"mediaSource",sourceUpdater:this,action:Ti.addSourceBuffer(e,r),name:"addSourceBuffer"})}abort(e){Si({type:e,sourceUpdater:this,action:Ti.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){te.log.error("removeSourceBuffer is not supported!");return}Si({type:"mediaSource",sourceUpdater:this,action:Ti.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!te.browser.IS_FIREFOX&&$.MediaSource&&$.MediaSource.prototype&&typeof $.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return $.SourceBuffer&&$.SourceBuffer.prototype&&typeof $.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,r){if(!this.canChangeType()){te.log.error("changeType is not supported!");return}Si({type:e,sourceUpdater:this,action:Ti.changeType(r),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(r=>{const i=e[r];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(r,i);this.canChangeType()&&this.changeType(r,i)})}appendBuffer(e,r){const{segmentInfo:i,type:s,bytes:n}=e;if(this.processedAppend_=!0,s==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,r]),this.logger_(`delayed audio append of ${n.length} until video append`);return}const a=r;if(Si({type:s,sourceUpdater:this,action:Ti.appendBuffer(n,i||{mediaIndex:-1},a),doneFn:r,name:"appendBuffer"}),s==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${o.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,o.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return Ss(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Mr()}videoBuffered(){return Ss(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Mr()}buffered(){const e=Ss(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,r=Ss(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return r&&!e?this.audioBuffered():e&&!r?this.videoBuffered():OP(this.audioBuffered(),this.videoBuffered())}setDuration(e,r=sn){Si({type:"mediaSource",sourceUpdater:this,action:Ti.duration(e),name:"duration",doneFn:r})}endOfStream(e=null,r=sn){typeof e!="string"&&(e=void 0),Si({type:"mediaSource",sourceUpdater:this,action:Ti.endOfStream(e),name:"endOfStream",doneFn:r})}removeAudio(e,r,i=sn){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){i();return}Si({type:"audio",sourceUpdater:this,action:Ti.remove(e,r),doneFn:i,name:"remove"})}removeVideo(e,r,i=sn){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){i();return}Si({type:"video",sourceUpdater:this,action:Ti.remove(e,r),doneFn:i,name:"remove"})}updating(){return!!(jp("audio",this)||jp("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Si({type:"audio",sourceUpdater:this,action:Ti.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(Si({type:"video",sourceUpdater:this,action:Ti.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Si({type:"audio",sourceUpdater:this,action:Ti.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Si({type:"video",sourceUpdater:this,action:Ti.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),bR.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>f7(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const $y=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),xR=t=>{const e=new Uint8Array(t);return Array.from(e).map(r=>r.toString(16).padStart(2,"0")).join("")},zy=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class wR extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class TR extends qp{constructor(e,r={}){super(e,r),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Mr();const e=this.subtitlesTrack_.cues,r=e[0].startTime,i=e[e.length-1].startTime;return Mr([[r,i]])}initSegmentForMap(e,r=!1){if(!e)return null;const i=rd(e);let s=this.initSegments_[i];if(r&&!s&&e.bytes){const n=zy.byteLength+e.bytes.byteLength,a=new Uint8Array(n);a.set(e.bytes),a.set(zy,e.bytes.byteLength),this.initSegments_[i]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return s||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,r){Ql(e,r,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const r=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",r),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,r,i){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===Is.TIMEOUT&&this.handleTimeout_(),e.code===Is.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const s=this.pendingSegment_;this.saveBandwidthRelatedStats_(s.duration,r.stats),r.key&&this.segmentKey(r.key,!0),this.state="APPENDING",this.trigger("appending");const n=s.segment;if(n.map&&(n.map.bytes=r.map.bytes),s.bytes=r.bytes,typeof $.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,r,i),()=>this.stopForError({message:"Error loading vtt.js"}));return}n.requested=!0;try{this.parseVTTCues_(s)}catch(a){this.stopForError({message:a.message,metadata:{errorType:te.Error.StreamingVttParserError,error:a}});return}if(this.updateTimeMapping_(s,this.syncController_.timelines[s.timeline],this.playlist_),s.cues.length?s.timingInfo={start:s.cues[0].startTime,end:s.cues[s.cues.length-1].endTime}:s.timingInfo={start:s.startOfSegment,end:s.startOfSegment+s.duration},s.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}s.byteLength=s.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,s.cues.forEach(a=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new $.VTTCue(a.startTime,a.endTime,a.text):a)}),sR(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let r,i=!1;if(typeof $.WebVTT!="function")throw new wR;typeof $.TextDecoder=="function"?r=new $.TextDecoder("utf8"):(r=$.WebVTT.StringDecoder(),i=!0);const s=new $.WebVTT.Parser($,$.vttjs,r);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},s.oncue=e.cues.push.bind(e.cues),s.ontimestampmap=a=>{e.timestampmap=a},s.onparsingerror=a=>{te.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;i&&(a=$y(a)),s.parse(a)}let n=e.bytes;i&&(n=$y(n)),s.parse(n),s.flush()}updateTimeMapping_(e,r,i){const s=e.segment;if(!r)return;if(!e.cues.length){s.empty=!0;return}const{MPEGTS:n,LOCAL:a}=e.timestampmap,l=n/Da.ONE_SECOND_IN_TS-a+r.mapping;if(e.cues.forEach(u=>{const c=u.endTime-u.startTime,h=n===0?u.startTime+l:this.handleRollover_(u.startTime+l,r.time);u.startTime=Math.max(h,0),u.endTime=Math.max(h+c,0)}),!i.syncInfo){const u=e.cues[0].startTime,c=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(u,c-s.duration)}}}handleRollover_(e,r){if(r===null)return e;let i=e*Da.ONE_SECOND_IN_TS;const s=r*Da.ONE_SECOND_IN_TS;let n;for(s<i?n=-8589934592:n=8589934592;Math.abs(i-s)>4294967296;)i+=n;return i/Da.ONE_SECOND_IN_TS}}const SR=function(t,e){const r=t.cues;for(let i=0;i<r.length;i++){const s=r[i];if(e>=s.adStartTime&&e<=s.adEndTime)return s}return null},CR=function(t,e,r=0){if(!t.segments)return;let i=r,s;for(let n=0;n<t.segments.length;n++){const a=t.segments[n];if(s||(s=SR(e,i+a.duration/2)),s){if("cueIn"in a){s.endTime=i,s.adEndTime=i,i+=a.duration,s=null;continue}if(i<s.endTime){i+=a.duration;continue}s.endTime+=a.duration}else if("cueOut"in a&&(s=new $.VTTCue(i,i+a.duration,a.cueOut),s.adStartTime=i,s.adEndTime=i+parseFloat(a.cueOut),e.addCue(s)),"cueOutCont"in a){const[o,l]=a.cueOutCont.split("/").map(parseFloat);s=new $.VTTCue(i,i+a.duration,""),s.adStartTime=i-o,s.adEndTime=s.adStartTime+l,e.addCue(s)}i+=a.duration}};class qy{constructor({start:e,end:r,segmentIndex:i,partIndex:s=null,appended:n=!1}){this.start_=e,this.end_=r,this.segmentIndex_=i,this.partIndex_=s,this.appended_=n}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class ER{constructor(e,r=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=r}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class m7{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,r){const{mediaSequence:i,segments:s}=e;if(this.isReliable_=this.isReliablePlaylist_(i,s),!!this.isReliable_)return this.updateStorage_(s,i,this.calculateBaseTime_(i,r))}getSyncInfoForTime(e){for(const{segmentSyncInfo:r,partsSyncInfo:i}of this.storage_.values())if(i.length){for(const s of i)if(s.isInRange(e))return s}else if(r.isInRange(e))return r;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,r,i){const s=new Map;let n=`
`,a=i,o=r;this.start_=a,e.forEach((l,u)=>{const c=this.storage_.get(o),h=a,f=h+l.duration,y=!!(c&&c.segmentSyncInfo&&c.segmentSyncInfo.isAppended),w=new qy({start:h,end:f,appended:y,segmentIndex:u});l.syncInfo=w;let _=a;const C=(l.parts||[]).map((E,k)=>{const D=_,P=_+E.duration,L=!!(c&&c.partsSyncInfo&&c.partsSyncInfo[k]&&c.partsSyncInfo[k].isAppended),U=new qy({start:D,end:P,appended:L,segmentIndex:u,partIndex:k});return _=P,n+=`Media Sequence: ${o}.${k} | Range: ${D} --> ${P} | Appended: ${L}
`,E.syncInfo=U,U});s.set(o,new ER(w,C)),n+=`${d7(l.resolvedUri)} | Media Sequence: ${o} | Range: ${h} --> ${f} | Appended: ${y}
`,o++,a=f}),this.end_=a,this.storage_=s,this.diagnostics_=n}calculateBaseTime_(e,r){return this.storage_.size?this.storage_.has(e)?this.storage_.get(e).segmentSyncInfo.start:r:0}isReliablePlaylist_(e,r){return e!=null&&Array.isArray(r)&&r.length}}class jy extends m7{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,r){if(!this.storage_.size){const i=this.parent_.getSyncInfoForMediaSequence(e);return i?i.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,r)}}const AR=86400,wf=[{name:"VOD",run:(t,e,r,i,s)=>r!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,r,i,s,n)=>{const a=t.getMediaSequenceSync(n);if(!a||!a.isReliable)return null;const o=a.getSyncInfoForTime(s);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,r,i,s)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let n=null,a=null;const o=Mp(e);s=s||0;for(let l=0;l<o.length;l++){const u=e.endList||s===0?l:o.length-(l+1),c=o[u],h=c.segment,f=t.timelineToDatetimeMappings[h.timeline];if(!f||!h.dateTimeObject)continue;let w=h.dateTimeObject.getTime()/1e3+f;if(h.parts&&typeof c.partIndex=="number")for(let C=0;C<c.partIndex;C++)w+=h.parts[C].duration;const _=Math.abs(s-w);if(a!==null&&(_===0||a<_))break;a=_,n={time:w,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}return n}},{name:"Segment",run:(t,e,r,i,s)=>{let n=null,a=null;s=s||0;const o=Mp(e);for(let l=0;l<o.length;l++){const u=e.endList||s===0?l:o.length-(l+1),c=o[u],h=c.segment,f=c.part&&c.part.start||h&&h.start;if(h.timeline===i&&typeof f<"u"){const y=Math.abs(s-f);if(a!==null&&a<y)break;(!n||a===null||a>=y)&&(a=y,n={time:f,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return n}},{name:"Discontinuity",run:(t,e,r,i,s)=>{let n=null;if(s=s||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let o=0;o<e.discontinuityStarts.length;o++){const l=e.discontinuityStarts[o],u=e.discontinuitySequence+o+1,c=t.discontinuities[u];if(c){const h=Math.abs(s-c.time);if(a!==null&&a<h)break;(!n||a===null||a>=h)&&(a=h,n={time:c.time,segmentIndex:l,partIndex:null})}}}return n}},{name:"Playlist",run:(t,e,r,i,s)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class kR extends te.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const r=new m7,i=new jy(r),s=new jy(r);this.mediaSequenceStorage_={main:r,audio:i,vtt:s},this.logger_=Ji("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,r,i,s,n){if(r!==1/0)return wf.find(({name:l})=>l==="VOD").run(this,e,r);const a=this.runStrategies_(e,r,i,s,n);if(!a.length)return null;for(const o of a){const{syncPoint:l,strategy:u}=o,{segmentIndex:c,time:h}=l;if(c<0)continue;const f=e.segments[c],y=h,w=y+f.duration;if(this.logger_(`Strategy: ${u}. Current time: ${s}. selected segment: ${c}. Time: [${y} -> ${w}]}`),s>=y&&s<w)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(a,{key:"time",value:s})}getExpiredTime(e,r){if(!e||!e.segments)return null;const i=this.runStrategies_(e,r,e.discontinuitySequence,0);if(!i.length)return null;const s=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return s.segmentIndex>0&&(s.time*=-1),Math.abs(s.time+du({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:s.segmentIndex,endIndex:0}))}runStrategies_(e,r,i,s,n){const a=[];for(let o=0;o<wf.length;o++){const l=wf[o],u=l.run(this,e,r,i,s,n);u&&(u.strategy=l.name,a.push({strategy:l.name,syncPoint:u}))}return a}selectSyncPoint_(e,r){let i=e[0].syncPoint,s=Math.abs(e[0].syncPoint[r.key]-r.value),n=e[0].strategy;for(let a=1;a<e.length;a++){const o=Math.abs(e[a].syncPoint[r.key]-r.value);o<s&&(s=o,i=e[a].syncPoint,n=e[a].strategy)}return this.logger_(`syncPoint for [${r.key}: ${r.value}] chosen with strategy [${n}]: [time:${i.time}, segmentIndex:${i.segmentIndex}`+(typeof i.partIndex=="number"?`,partIndex:${i.partIndex}`:"")+"]"),i}saveExpiredSegmentInfo(e,r){const i=r.mediaSequence-e.mediaSequence;if(i>AR){te.log.warn(`Not saving expired segment info. Media sequence gap ${i} is too large.`);return}for(let s=i-1;s>=0;s--){const n=e.segments[s];if(n&&typeof n.start<"u"){r.syncInfo={mediaSequence:e.mediaSequence+s,time:n.start},this.logger_(`playlist refresh sync: [time:${r.syncInfo.time}, mediaSequence: ${r.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const r=e.segments[0],i=r.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[r.timeline]=-i}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:r}){const i=this.calculateSegmentTimeMapping_(e,e.timingInfo,r),s=e.segment;i&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:s.start}));const n=s.dateTimeObject;s.discontinuity&&r&&n&&(this.timelineToDatetimeMappings[s.timeline]=-(n.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,r,i){const s=e.segment,n=e.part;let a=this.timelines[e.timeline],o,l;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-r.start},i&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,l=r.end+a.mapping;else if(a)o=r.start+a.mapping,l=r.end+a.mapping;else return!1;return n&&(n.start=o,n.end=l),(!s.start||o<s.start)&&(s.start=o),s.end=l,!0}saveDiscontinuitySyncInfo_(e){const r=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(r.discontinuityStarts&&r.discontinuityStarts.length)for(let s=0;s<r.discontinuityStarts.length;s++){const n=r.discontinuityStarts[s],a=r.discontinuitySequence+s+1,o=n-e.mediaIndex,l=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>l){let u;o<0?u=i.start-du({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex,endIndex:n}):u=i.end+du({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex+1,endIndex:n}),this.discontinuities[a]={time:u,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class DR extends te.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:r,to:i}){return typeof r=="number"&&typeof i=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:r,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:r,to:i}){if(typeof r=="number"&&typeof i=="number"){this.lastTimelineChanges_[e]={type:e,from:r,to:i},delete this.pendingTimelineChanges_[e];const s={timelineChangeInfo:{from:r,to:i}};this.trigger({type:"timelinechange",metadata:s})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const IR=e7(t7(function(){var t=function(){function _(){this.listeners={}}var C=_.prototype;return C.on=function(k,D){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push(D)},C.off=function(k,D){if(!this.listeners[k])return!1;var P=this.listeners[k].indexOf(D);return this.listeners[k]=this.listeners[k].slice(0),this.listeners[k].splice(P,1),P>-1},C.trigger=function(k){var D=this.listeners[k];if(D)if(arguments.length===2)for(var P=D.length,L=0;L<P;++L)D[L].call(this,arguments[1]);else for(var U=Array.prototype.slice.call(arguments,1),J=D.length,X=0;X<J;++X)D[X].apply(this,U)},C.dispose=function(){this.listeners={}},C.pipe=function(k){this.on("data",function(D){k.push(D)})},_}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(_){return _.subarray(0,_.byteLength-_[_.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const r=function(){const _=[[[],[],[],[],[]],[[],[],[],[],[]]],C=_[0],E=_[1],k=C[4],D=E[4];let P,L,U;const J=[],X=[];let H,re,Z,W,ne,ce;for(P=0;P<256;P++)X[(J[P]=P<<1^(P>>7)*283)^P]=P;for(L=U=0;!k[L];L^=H||1,U=X[U]||1)for(W=U^U<<1^U<<2^U<<3^U<<4,W=W>>8^W&255^99,k[L]=W,D[W]=L,Z=J[re=J[H=J[L]]],ce=Z*16843009^re*65537^H*257^L*16843008,ne=J[W]*257^W*16843008,P=0;P<4;P++)C[P][L]=ne=ne<<24^ne>>>8,E[P][W]=ce=ce<<24^ce>>>8;for(P=0;P<5;P++)C[P]=C[P].slice(0),E[P]=E[P].slice(0);return _};let i=null;class s{constructor(C){i||(i=r()),this._tables=[[i[0][0].slice(),i[0][1].slice(),i[0][2].slice(),i[0][3].slice(),i[0][4].slice()],[i[1][0].slice(),i[1][1].slice(),i[1][2].slice(),i[1][3].slice(),i[1][4].slice()]];let E,k,D;const P=this._tables[0][4],L=this._tables[1],U=C.length;let J=1;if(U!==4&&U!==6&&U!==8)throw new Error("Invalid aes key size");const X=C.slice(0),H=[];for(this._key=[X,H],E=U;E<4*U+28;E++)D=X[E-1],(E%U===0||U===8&&E%U===4)&&(D=P[D>>>24]<<24^P[D>>16&255]<<16^P[D>>8&255]<<8^P[D&255],E%U===0&&(D=D<<8^D>>>24^J<<24,J=J<<1^(J>>7)*283)),X[E]=X[E-U]^D;for(k=0;E;k++,E--)D=X[k&3?E:E-4],E<=4||k<4?H[k]=D:H[k]=L[0][P[D>>>24]]^L[1][P[D>>16&255]]^L[2][P[D>>8&255]]^L[3][P[D&255]]}decrypt(C,E,k,D,P,L){const U=this._key[1];let J=C^U[0],X=D^U[1],H=k^U[2],re=E^U[3],Z,W,ne;const ce=U.length/4-2;let $e,ke=4;const De=this._tables[1],ze=De[0],Et=De[1],wt=De[2],Ze=De[3],ut=De[4];for($e=0;$e<ce;$e++)Z=ze[J>>>24]^Et[X>>16&255]^wt[H>>8&255]^Ze[re&255]^U[ke],W=ze[X>>>24]^Et[H>>16&255]^wt[re>>8&255]^Ze[J&255]^U[ke+1],ne=ze[H>>>24]^Et[re>>16&255]^wt[J>>8&255]^Ze[X&255]^U[ke+2],re=ze[re>>>24]^Et[J>>16&255]^wt[X>>8&255]^Ze[H&255]^U[ke+3],ke+=4,J=Z,X=W,H=ne;for($e=0;$e<4;$e++)P[(3&-$e)+L]=ut[J>>>24]<<24^ut[X>>16&255]<<16^ut[H>>8&255]<<8^ut[re&255]^U[ke++],Z=J,J=X,X=H,H=re,re=Z}}class n extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(C){this.jobs.push(C),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(_){return _<<24|(_&65280)<<8|(_&16711680)>>8|_>>>24},o=function(_,C,E){const k=new Int32Array(_.buffer,_.byteOffset,_.byteLength>>2),D=new s(Array.prototype.slice.call(C)),P=new Uint8Array(_.byteLength),L=new Int32Array(P.buffer);let U,J,X,H,re,Z,W,ne,ce;for(U=E[0],J=E[1],X=E[2],H=E[3],ce=0;ce<k.length;ce+=4)re=a(k[ce]),Z=a(k[ce+1]),W=a(k[ce+2]),ne=a(k[ce+3]),D.decrypt(re,Z,W,ne,L,ce),L[ce]=a(L[ce]^U),L[ce+1]=a(L[ce+1]^J),L[ce+2]=a(L[ce+2]^X),L[ce+3]=a(L[ce+3]^H),U=re,J=Z,X=W,H=ne;return P};class l{constructor(C,E,k,D){const P=l.STEP,L=new Int32Array(C.buffer),U=new Uint8Array(C.byteLength);let J=0;for(this.asyncStream_=new n,this.asyncStream_.push(this.decryptChunk_(L.subarray(J,J+P),E,k,U)),J=P;J<L.length;J+=P)k=new Uint32Array([a(L[J-4]),a(L[J-3]),a(L[J-2]),a(L[J-1])]),this.asyncStream_.push(this.decryptChunk_(L.subarray(J,J+P),E,k,U));this.asyncStream_.push(function(){D(null,e(U))})}static get STEP(){return 32e3}decryptChunk_(C,E,k,D){return function(){const P=o(C,E,k);D.set(P,C.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c;typeof window<"u"?c=window:typeof u<"u"?c=u:typeof self<"u"?c=self:c={};var h=c,f=function(C){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(C):C&&C.buffer instanceof ArrayBuffer},y=h.BigInt||Number;y("0x1"),y("0x100"),y("0x10000"),y("0x1000000"),y("0x100000000"),y("0x10000000000"),y("0x1000000000000"),y("0x100000000000000"),y("0x10000000000000000"),function(){var _=new Uint16Array([65484]),C=new Uint8Array(_.buffer,_.byteOffset,_.byteLength);return C[0]===255?"big":C[0]===204?"little":"unknown"}();const w=function(_){const C={};return Object.keys(_).forEach(E=>{const k=_[E];f(k)?C[E]={bytes:k.buffer,byteOffset:k.byteOffset,byteLength:k.byteLength}:C[E]=k}),C};self.onmessage=function(_){const C=_.data,E=new Uint8Array(C.encrypted.bytes,C.encrypted.byteOffset,C.encrypted.byteLength),k=new Uint32Array(C.key.bytes,C.key.byteOffset,C.key.byteLength/4),D=new Uint32Array(C.iv.bytes,C.iv.byteOffset,C.iv.byteLength/4);new l(E,k,D,function(P,L){self.postMessage(w({source:C.source,decrypted:L}),[L.buffer])})}}));var LR=Jb(IR);const PR=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},g7=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Hp=(t,e)=>{e.activePlaylistLoader=t,t.load()},MR=(t,e)=>()=>{const{segmentLoaders:{[t]:r,main:i},mediaTypes:{[t]:s}}=e,n=s.activeTrack(),a=s.getActiveGroup(),o=s.activePlaylistLoader,l=s.lastGroup_;if(!(a&&l&&a.id===l.id)&&(s.lastGroup_=a,s.lastTrack_=n,g7(r,s),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){o&&i.resetEverything();return}r.resyncLoader(),Hp(a.playlistLoader,s)}},RR=(t,e)=>()=>{const{segmentLoaders:{[t]:r},mediaTypes:{[t]:i}}=e;i.lastGroup_=null,r.abort(),r.pause()},OR=(t,e)=>()=>{const{mainPlaylistLoader:r,segmentLoaders:{[t]:i,main:s},mediaTypes:{[t]:n}}=e,a=n.activeTrack(),o=n.getActiveGroup(),l=n.activePlaylistLoader,u=n.lastTrack_;if(!(u&&a&&u.id===a.id)&&(n.lastGroup_=o,n.lastTrack_=a,g7(i,n),!!o)){if(o.isMainPlaylist){if(!a||!u||a.id===u.id)return;const c=e.vhs.playlistController_,h=c.selectPlaylist();if(c.media()===h)return;n.logger_(`track change. Switching main audio from ${u.id} to ${a.id}`),r.pause(),s.resetEverything(),c.fastQualityChange_(h);return}if(t==="AUDIO"){if(!o.playlistLoader){s.setAudio(!0),s.resetEverything();return}i.setAudio(!0),s.setAudio(!1)}if(l===o.playlistLoader){Hp(o.playlistLoader,n);return}i.track&&i.track(a),i.resetEverything(),Hp(o.playlistLoader,n)}},nd={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:r},excludePlaylist:i}=e,s=r.activeTrack(),n=r.activeGroup(),a=(n.filter(l=>l.default)[0]||n[0]).id,o=r.tracks[a];if(s===o){i({error:{message:"Problem encountered loading the default audio track."}});return}te.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in r.tracks)r.tracks[l].enabled=r.tracks[l]===o;r.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:r}}=e;te.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const i=r.activeTrack();i&&(i.mode="disabled"),r.onTrackChanged()}},Hy={AUDIO:(t,e,r)=>{if(!e)return;const{tech:i,requestOptions:s,segmentLoaders:{[t]:n}}=r;e.on("loadedmetadata",()=>{const a=e.media();n.playlist(a,s),(!i.paused()||a.endList&&i.preload()!=="none")&&n.load()}),e.on("loadedplaylist",()=>{n.playlist(e.media(),s),i.paused()||n.load()}),e.on("error",nd[t](t,r))},SUBTITLES:(t,e,r)=>{const{tech:i,requestOptions:s,segmentLoaders:{[t]:n},mediaTypes:{[t]:a}}=r;e.on("loadedmetadata",()=>{const o=e.media();n.playlist(o,s),n.track(a.activeTrack()),(!i.paused()||o.endList&&i.preload()!=="none")&&n.load()}),e.on("loadedplaylist",()=>{n.playlist(e.media(),s),i.paused()||n.load()}),e.on("error",nd[t](t,r))}},NR={AUDIO:(t,e)=>{const{vhs:r,sourceType:i,segmentLoaders:{[t]:s},requestOptions:n,main:{mediaGroups:a},mediaTypes:{[t]:{groups:o,tracks:l,logger_:u}},mainPlaylistLoader:c}=e,h=Qu(c.main);(!a[t]||Object.keys(a[t]).length===0)&&(a[t]={main:{default:{default:!0}}},h&&(a[t].main.default.playlists=c.main.playlists));for(const f in a[t]){o[f]||(o[f]=[]);for(const y in a[t][f]){let w=a[t][f][y],_;if(h?(u(`AUDIO group '${f}' label '${y}' is a main playlist`),w.isMainPlaylist=!0,_=null):i==="vhs-json"&&w.playlists?_=new xo(w.playlists[0],r,n):w.resolvedUri?_=new xo(w.resolvedUri,r,n):w.playlists&&i==="dash"?_=new Up(w.playlists[0],r,n,c):_=null,w=Lt({id:y,playlistLoader:_},w),Hy[t](t,w.playlistLoader,e),o[f].push(w),typeof l[y]>"u"){const C=new te.AudioTrack({id:y,kind:PR(w),enabled:!1,language:w.language,default:w.default,label:y});l[y]=C}}}s.on("error",nd[t](t,e))},SUBTITLES:(t,e)=>{const{tech:r,vhs:i,sourceType:s,segmentLoaders:{[t]:n},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[t]:{groups:l,tracks:u}},mainPlaylistLoader:c}=e;for(const h in o[t]){l[h]||(l[h]=[]);for(const f in o[t][h]){if(!i.options_.useForcedSubtitles&&o[t][h][f].forced)continue;let y=o[t][h][f],w;if(s==="hls")w=new xo(y.resolvedUri,i,a);else if(s==="dash"){if(!y.playlists.filter(C=>C.excludeUntil!==1/0).length)return;w=new Up(y.playlists[0],i,a,c)}else s==="vhs-json"&&(w=new xo(y.playlists?y.playlists[0]:y.resolvedUri,i,a));if(y=Lt({id:f,playlistLoader:w},y),Hy[t](t,y.playlistLoader,e),l[h].push(y),typeof u[f]>"u"){const _=r.addRemoteTextTrack({id:f,kind:"subtitles",default:y.default&&y.autoselect,language:y.language,label:f},!1).track;u[f]=_}}}n.on("error",nd[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:r,main:{mediaGroups:i},mediaTypes:{[t]:{groups:s,tracks:n}}}=e;for(const a in i[t]){s[a]||(s[a]=[]);for(const o in i[t][a]){const l=i[t][a][o];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const u=r.options_.vhs&&r.options_.vhs.captionServices||{};let c={label:o,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(u[c.instreamId]&&(c=Lt(c,u[c.instreamId])),c.default===void 0&&delete c.default,s[a].push(Lt({id:o},l)),typeof n[o]>"u"){const h=r.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;n[o]=h}}}}},y7=(t,e)=>{for(let r=0;r<t.length;r++)if(O1(e,t[r])||t[r].playlists&&y7(t[r].playlists,e))return!0;return!1},BR=(t,e)=>r=>{const{mainPlaylistLoader:i,mediaTypes:{[t]:{groups:s}}}=e,n=i.media();if(!n)return null;let a=null;n.attributes[t]&&(a=s[n.attributes[t]]);const o=Object.keys(s);if(!a)if(t==="AUDIO"&&o.length>1&&Qu(e.main))for(let l=0;l<o.length;l++){const u=s[o[l]];if(y7(u,n)){a=u;break}}else s.main?a=s.main:o.length===1&&(a=s[o[0]]);return typeof r>"u"?a:r===null||!a?null:a.filter(l=>l.id===r.id)[0]||null},FR={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const i in r)if(r[i].enabled)return r[i];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const i in r)if(r[i].mode==="showing"||r[i].mode==="hidden")return r[i];return null}},UR=(t,{mediaTypes:e})=>()=>{const r=e[t].activeTrack();return r?e[t].activeGroup(r):null},$R=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{NR[u](u,t)});const{mediaTypes:e,mainPlaylistLoader:r,tech:i,vhs:s,segmentLoaders:{["AUDIO"]:n,main:a}}=t;["AUDIO","SUBTITLES"].forEach(u=>{e[u].activeGroup=BR(u,t),e[u].activeTrack=FR[u](u,t),e[u].onGroupChanged=MR(u,t),e[u].onGroupChanging=RR(u,t),e[u].onTrackChanged=OR(u,t),e[u].getActiveGroup=UR(u,t)});const o=e.AUDIO.activeGroup();if(o){const u=(o.filter(h=>h.default)[0]||o[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),n.setAudio(!0)):a.setAudio(!0)}r.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanged())}),r.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"})};i.audioTracks().addEventListener("change",l),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),s.on("dispose",()=>{i.audioTracks().removeEventListener("change",l),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),i.clearTracks("audio");for(const u in e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[u])},zR=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:sn,activeTrack:sn,getActiveGroup:sn,onGroupChanged:sn,onTrackChanged:sn,lastTrack_:null,logger_:Ji(`MediaGroups[${e}]`)}}),t};class Vy{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=fi(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(r=>[r.ID,r])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class qR extends te.EventTarget{constructor(e,r){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new Vy,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=Ji("Content Steering"),this.xhr_=e,this.getBandwidth_=r}assignTagProperties(e,r){this.manifestType_=r.serverUri?"HLS":"DASH";const i=r.serverUri||r.serverURL;if(!i){this.logger_(`steering manifest URL is ${i}, cannot request steering manifest.`),this.trigger("error");return}if(i.startsWith("data:")){this.decodeDataUriManifest_(i.substring(i.indexOf(",")+1));return}this.steeringManifest.reloadUri=fi(e,i),this.defaultPathway=r.pathwayId||r.defaultServiceLocation,this.queryBeforeStart=r.queryBeforeStart,this.proxyServerUrl_=r.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const r=this.steeringManifest.reloadUri;if(!r)return;const i=e?r:this.getRequestURI(r);if(!i){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const s={contentSteeringInfo:{uri:i}};this.trigger({type:"contentsteeringloadstart",metadata:s}),this.request_=this.xhr_({uri:i,requestType:"content-steering-manifest"},(n,a)=>{if(n){if(a.status===410){this.logger_(`manifest request 410 ${n}.`),this.logger_(`There will be no more content steering requests to ${i} this session.`),this.excludedSteeringManifestURLs.add(i);return}if(a.status===429){const u=a.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${n}.`),this.logger_(`content steering will retry in ${u} seconds.`),this.startTTLTimeout_(parseInt(u,10));return}this.logger_(`manifest failed to load ${n}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:s});let o;try{o=JSON.parse(this.request_.responseText)}catch(u){const c={errorType:te.Error.StreamingContentSteeringParserError,error:u};this.trigger({type:"error",metadata:c})}this.assignSteeringProperties_(o);const l={contentSteeringInfo:s.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const r=new $.URL(e),i=new $.URL(this.proxyServerUrl_);return i.searchParams.set("url",encodeURI(r.toString())),this.setSteeringParams_(i.toString())}decodeDataUriManifest_(e){const r=JSON.parse($.atob(e));this.assignSteeringProperties_(r)}setSteeringParams_(e){const r=new $.URL(e),i=this.getPathway(),s=this.getBandwidth_();if(i){const n=`_${this.manifestType_}_pathway`;r.searchParams.set(n,i)}if(s){const n=`_${this.manifestType_}_throughput`;r.searchParams.set(n,s)}return r.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const i=(s=>{for(const n of s)if(this.availablePathways_.has(n))return n;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==i&&(this.currentPathway=i,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const r=s=>this.excludedSteeringManifestURLs.has(s);if(this.proxyServerUrl_){const s=this.setProxyServerUrl_(e);if(!r(s))return s}const i=this.setSteeringParams_(e);return r(i)?null:i}startTTLTimeout_(e=this.steeringManifest.ttl){const r=e*1e3;this.ttlTimeout_=$.setTimeout(()=>{this.requestSteeringManifest()},r)}clearTTLTimeout_(){$.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new Vy}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,r){return!r&&this.steeringManifest.reloadUri||r&&(fi(e,r.serverURL)!==this.steeringManifest.reloadUri||r.defaultServiceLocation!==this.defaultPathway||r.queryBeforeStart!==this.queryBeforeStart||r.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const jR=10;let Ys;const HR=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],VR=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},GR=function({currentPlaylist:t,buffered:e,currentTime:r,nextPlaylist:i,bufferLowWaterLine:s,bufferHighWaterLine:n,duration:a,bufferBasedABR:o,log:l}){if(!i)return te.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u=`allowing switch ${t&&t.id||"null"} -> ${i.id}`;if(!t)return l(`${u} as current playlist is not set`),!0;if(i.id===t.id)return!1;const c=!!_o(e,r).length;if(!t.endList)return!c&&typeof t.partTargetDuration=="number"?(l(`not ${u} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${u} as current playlist is live`),!0);const h=P1(e,r),f=o?Cr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Cr.MAX_BUFFER_LOW_WATER_LINE;if(a<f)return l(`${u} as duration < max low water line (${a} < ${f})`),!0;const y=i.attributes.BANDWIDTH,w=t.attributes.BANDWIDTH;if(y<w&&(!o||h<n)){let _=`${u} as next bandwidth < current bandwidth (${y} < ${w})`;return o&&(_+=` and forwardBuffer < bufferHighWaterLine (${h} < ${n})`),l(_),!0}if((!o||y>w)&&h>=s){let _=`${u} as forwardBuffer >= bufferLowWaterLine (${h} >= ${s})`;return o&&(_+=` and next bandwidth > current bandwidth (${y} > ${w})`),l(_),!0}return l(`not ${u} as no switching criteria met`),!1};class WR extends te.EventTarget{constructor(e){super();const{src:r,withCredentials:i,tech:s,bandwidth:n,externVhs:a,useCueTags:o,playlistExclusionDuration:l,enableLowInitialPlaylist:u,sourceType:c,cacheEncryptionKeys:h,bufferBasedABR:f,leastPixelDiffSelector:y,captionServices:w}=e;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:_}=e;(_===null||typeof _>"u")&&(_=1/0),Ys=a,this.bufferBasedABR=!!f,this.leastPixelDiffSelector=!!y,this.withCredentials=i,this.tech_=s,this.vhs_=s.vhs,this.player_=e.player_,this.sourceType_=c,this.useCueTags_=o,this.playlistExclusionDuration=l,this.maxPlaylistRetries=_,this.enableLowInitialPlaylist=u,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:i,maxPlaylistRetries:_,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=zR(),this.mediaSource=new $.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=Mr(),this.hasPlayed_=!1,this.syncController_=new kR(e),this.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new LR,this.sourceUpdater_=new p7(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new DR,this.keyStatusMap_=new Map;const C={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:w,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:n,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:h,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new Up(r,this.vhs_,Lt(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new xo(r,this.vhs_,Lt(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new qp(Lt(C,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new qp(Lt(C,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new TR(Lt(C,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((D,P)=>{function L(){s.off("vttjserror",U),D()}function U(){s.off("vttjsloaded",L),P()}s.one("vttjsloaded",L),s.one("vttjserror",U),s.addWebVttScript_()})}),e);const E=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new qR(this.vhs_.xhr,E),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),HR.forEach(D=>{this[D+"_"]=VR.bind(this,D)}),this.logger_=Ji("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const k=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(k,()=>{const D=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-D,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),r=this.audioAppendsToLoadedData_();return e===-1||r===-1?-1:e+r}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,e)}switchMedia_(e,r,i){const s=this.media(),n=s&&(s.id||s.uri),a=e&&(e.id||e.uri);if(n&&n!==a){this.logger_(`switch media ${n} -> ${a} from ${r}`);const o={renditionInfo:{id:a,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:r};this.trigger({type:"renditionselected",metadata:o}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${r}`})}this.mainPlaylistLoader_.media(e,i)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const r=this.mediaTypes_[e],i=r?r.activeGroup():null,s=this.contentSteeringController_.getPathway();if(i&&s){const a=(i.length?i[0].playlists:i.playlists).filter(o=>o.attributes.serviceLocation===s);a.length&&this.mediaTypes_[e].activePlaylistLoader.media(a[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=$.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||($.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),r=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return r;const i=e.mediaGroups.AUDIO,s=Object.keys(i);let n;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)n=this.mediaTypes_.AUDIO.activeTrack();else{const o=i.main||s.length&&i[s[0]];for(const l in o)if(o[l].default){n={label:l};break}}if(!n)return r;const a=[];for(const o in i)if(i[o][n.label]){const l=i[o][n.label];if(l.playlists&&l.playlists.length)a.push.apply(a,l.playlists);else if(l.uri)a.push(l);else if(e.playlists.length)for(let u=0;u<e.playlists.length;u++){const c=e.playlists[u];c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===o&&a.push(c)}}return a.length?a:r}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const r=this.mainPlaylistLoader_.media(),i=r.targetDuration*1.5*1e3;Rp(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,r.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.mainSegmentLoader_.load()),$R({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),r),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let r=this.mainPlaylistLoader_.media();if(!r){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let i;if(this.enableLowInitialPlaylist&&(i=this.selectInitialPlaylist()),i||(i=this.selectPlaylist()),!i||!this.shouldSwitchToMedia_(i)||(this.initialMedia_=i,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;r=this.initialMedia_}this.handleUpdatedMediaPlaylist(r)}),this.mainPlaylistLoader_.on("error",()=>{const r=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const r=this.mainPlaylistLoader_.media(),i=r.targetDuration*1.5*1e3;Rp(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,this.sourceType_==="dash"&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const r=this.mainPlaylistLoader_.media();if(r.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(r)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(r=>{this.mainPlaylistLoader_.on(r,i=>{this.player_.trigger(ir({},i))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,r){const i=e.mediaGroups||{};let s=!0;const n=Object.keys(i.AUDIO);for(const a in i.AUDIO)for(const o in i.AUDIO[a])i.AUDIO[a][o].uri||(s=!1);s&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Ys.Playlist.isAes(r)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),n.length&&Object.keys(i.AUDIO[n[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const r=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,i=this.tech_.currentTime(),s=this.bufferLowWaterLine(),n=this.bufferHighWaterLine(),a=this.tech_.buffered();return GR({buffered:a,currentTime:i,currentPlaylist:r,nextPlaylist:e,bufferLowWaterLine:s,bufferHighWaterLine:n,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const i=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:i.playlist,error:i})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.sourceType_==="dash"&&this.timelineChangeController_.on("audioTimelineBehind",()=>{const i=this.audioSegmentLoader_.pendingSegment_;if(!i||!i.segment||!i.segment.syncInfo)return;const s=i.segment.syncInfo.end+.01;this.tech_.setCurrentTime(s)}),this.mainSegmentLoader_.on("earlyabort",i=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:jR}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const i=this.getCodecsOrExclude_();i&&this.sourceUpdater_.addOrChangeSourceBuffers(i)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(i=>{this.mainSegmentLoader_.on(i,s=>{this.player_.trigger(ir({},s))}),this.audioSegmentLoader_.on(i,s=>{this.player_.trigger(ir({},s))}),this.subtitleSegmentLoader_.on(i,s=>{this.player_.trigger(ir({},s))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(()=>{this.mainSegmentLoader_.load()})}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const r=this.seekable();if(!r.length)return!1;const i=r.end(0);let s=i;if(e.start){const n=e.start.timeOffset;n<0?s=Math.max(i+n,r.start(0)):s=Math.min(i,n)}this.trigger("firstplay"),this.tech_.setCurrentTime(s)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,r=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const r=this.duration();e[e.length-1].endTime=isNaN(r)||Math.abs(r)===1/0?Number.MAX_VALUE:r}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const r=this.mainSegmentLoader_.getCurrentMediaInfo_();!r||r.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const i=this.syncController_.getExpiredTime(e,this.duration());if(i===null)return!1;const s=Ys.Playlist.playlistEnd(e,i),n=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return s-n<=Ds;const o=a.end(a.length-1);return o-n<=Ds&&s-o<=Ds}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:r={},playlistExclusionDuration:i}){if(e=e||this.mainPlaylistLoader_.media(),i=i||r.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const s=this.mainPlaylistLoader_.main.playlists,n=s.filter(nh),a=n.length===1&&n[0]===e;if(s.length===1&&i!==1/0)return te.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const w=this.pathwayAttribute_(e),_=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(w),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(w)},_);return}let y=!1;s.forEach(w=>{if(w===e)return;const _=w.excludeUntil;typeof _<"u"&&_!==1/0&&(y=!0,delete w.excludeUntil)}),y&&(te.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;e.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+i*1e3,e.excludeUntil=o,r.reason&&(e.lastExcludeReason_=r.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=r.internal?this.logger_:te.log.warn,c=r.message?" "+r.message:"";u(`${r.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${c} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const h=l.targetDuration/2*1e3||5*1e3,f=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=h;return this.switchMedia_(l,"exclude",a||f)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,r){const i=[],s=e==="all";(s||e==="main")&&i.push(this.mainPlaylistLoader_);const n=[];(s||e==="audio")&&n.push("AUDIO"),(s||e==="subtitle")&&(n.push("CLOSED-CAPTIONS"),n.push("SUBTITLES")),n.forEach(a=>{const o=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;o&&i.push(o)}),["main","audio","subtitle"].forEach(a=>{const o=this[`${a}SegmentLoader_`];o&&(e===a||e==="all")&&i.push(o)}),i.forEach(a=>r.forEach(o=>{typeof a[o]=="function"&&a[o]()}))}setCurrentTime(e){const r=_o(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(r&&r.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Ys.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let r=this.mainPlaylistLoader_.media();if(!r)return;let i=this.syncController_.getExpiredTime(r,this.duration());if(i===null)return;const s=this.mainPlaylistLoader_.main,n=Ys.Playlist.seekable(r,i,Ys.Playlist.liveEdgeDelay(s,r));if(n.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),i=this.syncController_.getExpiredTime(r,this.duration()),i===null||(e=Ys.Playlist.seekable(r,i,Ys.Playlist.liveEdgeDelay(s,r)),e.length===0)))return;let a,o;if(this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),o=this.seekable_.start(0)),e?e.start(0)>n.end(0)||n.start(0)>e.end(0)?this.seekable_=n:this.seekable_=Mr([[e.start(0)>n.start(0)?e.start(0):n.start(0),e.end(0)<n.end(0)?e.end(0):n.end(0)]]):this.seekable_=n,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===o)return;this.logger_(`seekable updated [${Db(this.seekable_)}]`);const l={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:l}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const s=this.seekable();if(!s.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<s.end(s.length-1))&&this.sourceUpdater_.setDuration(s.end(s.length-1));return}const r=this.tech_.buffered();let i=Ys.Playlist.duration(this.mainPlaylistLoader_.media());r.length>0&&(i=Math.max(i,r.end(r.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const r=this.mediaTypes_[e].groups;for(const i in r)r[i].forEach(s=>{s.playlistLoader&&s.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,r=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),i=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!r||!i)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},r=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const i=fu(this.main(),r),s={},n=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(s.video=i.video||e.main.videoCodec||uD),e.main.isMuxed&&(s.video+=`,${i.audio||e.main.audioCodec||E4}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||n)&&(s.audio=i.audio||e.main.audioCodec||e.audio.audioCodec||E4,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!s.audio&&!s.video){this.excludePlaylist({playlistToExclude:r,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(u,c)=>u?y0(c):nf(c),o={};let l;if(["video","audio"].forEach(function(u){if(s.hasOwnProperty(u)&&!a(e[u].isFmp4,s[u])){const c=e[u].isFmp4?"browser":"muxer";o[c]=o[c]||[],o[c].push(s[u]),u==="audio"&&(l=c)}}),n&&l&&r.attributes.AUDIO){const u=r.attributes.AUDIO;this.main().playlists.forEach(c=>{(c.attributes&&c.attributes.AUDIO)===u&&c!==r&&(c.excludeUntil=1/0)}),this.logger_(`excluding audio group ${u} as ${l} does not support codec(s): "${s.audio}"`)}if(Object.keys(o).length){const u=Object.keys(o).reduce((c,h)=>(c&&(c+=", "),c+=`${h} does not support codec(s): "${o[h].join(",")}"`,c),"")+".";this.excludePlaylist({playlistToExclude:r,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(c=>{const h=(ws(this.sourceUpdater_.codecs[c]||"")[0]||{}).type,f=(ws(s[c]||"")[0]||{}).type;h&&f&&h.toLowerCase()!==f.toLowerCase()&&u.push(`"${this.sourceUpdater_.codecs[c]}" -> "${s[c]}"`)}),u.length){this.excludePlaylist({playlistToExclude:r,error:{message:`Codec switching not supported: ${u.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return s}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const r=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(r)}excludeUnsupportedVariants_(){const e=this.main().playlists,r=[];Object.keys(e).forEach(i=>{const s=e[i];if(r.indexOf(s.id)!==-1)return;r.push(s.id);const n=fu(this.main,s),a=[];n.audio&&!nf(n.audio)&&!y0(n.audio)&&a.push(`audio codec ${n.audio}`),n.video&&!nf(n.video)&&!y0(n.video)&&a.push(`video codec ${n.video}`),n.text&&n.text==="stpp.ttml.im1t"&&a.push(`text codec ${n.text}`),a.length&&(s.excludeUntil=1/0,this.logger_(`excluding ${s.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const r=[],i=this.main().playlists,s=id(ws(e)),n=Py(s),a=s.video&&ws(s.video)[0]||null,o=s.audio&&ws(s.audio)[0]||null;Object.keys(i).forEach(l=>{const u=i[l];if(r.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;r.push(u.id);const c=[],h=fu(this.mainPlaylistLoader_.main,u),f=Py(h);if(!(!h.audio&&!h.video)){if(f!==n&&c.push(`codec count "${f}" !== "${n}"`),!this.sourceUpdater_.canChangeType()){const y=h.video&&ws(h.video)[0]||null,w=h.audio&&ws(h.audio)[0]||null;y&&a&&y.type.toLowerCase()!==a.type.toLowerCase()&&c.push(`video codec "${y.type}" !== "${a.type}"`),w&&o&&w.type.toLowerCase()!==o.type.toLowerCase()&&c.push(`audio codec "${w.type}" !== "${o.type}"`)}c.length&&(u.excludeUntil=1/0,this.logger_(`excluding ${u.id}: ${c.join(" && ")}`))}})}updateAdCues_(e){let r=0;const i=this.seekable();i.length&&(r=i.start(0)),CR(e,this.cueTagsTrack_,r)}goalBufferLength(){const e=this.tech_.currentTime(),r=Cr.GOAL_BUFFER_LENGTH,i=Cr.GOAL_BUFFER_LENGTH_RATE,s=Math.max(r,Cr.MAX_GOAL_BUFFER_LENGTH);return Math.min(r+e*i,s)}bufferLowWaterLine(){const e=this.tech_.currentTime(),r=Cr.BUFFER_LOW_WATER_LINE,i=Cr.BUFFER_LOW_WATER_LINE_RATE,s=Math.max(r,Cr.MAX_BUFFER_LOW_WATER_LINE),n=Math.max(r,Cr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(r+e*i,this.bufferBasedABR?n:s)}bufferHighWaterLine(){return Cr.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){Oy(this.inbandTextTracks_,"com.apple.streaming",this.tech_),iR({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,r,i){const s=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();Oy(this.inbandTextTracks_,e,this.tech_),eR({inbandTextTracks:this.inbandTextTracks_,metadataArray:r,timestampOffset:s,videoDuration:i})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const r of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(r));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(r=>{this.contentSteeringController_.on(r,i=>{this.trigger(ir({},i))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const r=this.main();(this.contentSteeringController_.didDASHTagChange(r.uri,r.contentSteering)||(()=>{const n=this.contentSteeringController_.getAvailablePathways(),a=[];for(const o of r.playlists){const l=o.attributes.serviceLocation;if(l&&(a.push(l),!n.has(l)))return!0}return!!(!a.length&&n.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const i=this.main().playlists,s=new Set;let n=!1;Object.keys(i).forEach(a=>{const o=i[a],l=this.pathwayAttribute_(o),u=l&&e!==l;o.excludeUntil===1/0&&o.lastExcludeReason_==="content-steering"&&!u&&(delete o.excludeUntil,delete o.lastExcludeReason_,n=!0);const h=!o.excludeUntil&&o.excludeUntil!==1/0;!s.has(o.id)&&u&&h&&(s.add(o.id),o.excludeUntil=1/0,o.lastExcludeReason_="content-steering",this.logger_(`excluding ${o.id} for ${o.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(a=>{const o=this.mediaTypes_[a];if(o.activePlaylistLoader){const l=o.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(n=!0)}}),n&&this.changeSegmentPathway_()}handlePathwayClones_(){const r=this.main().playlists,i=this.contentSteeringController_.currentPathwayClones,s=this.contentSteeringController_.nextPathwayClones;if(i&&i.size||s&&s.size){for(const[a,o]of i.entries())s.get(a)||(this.mainPlaylistLoader_.updateOrDeleteClone(o),this.contentSteeringController_.excludePathway(a));for(const[a,o]of s.entries()){const l=i.get(a);if(!l){r.filter(c=>c.attributes["PATHWAY-ID"]===o["BASE-ID"]).forEach(c=>{this.mainPlaylistLoader_.addClonePathway(o,c)}),this.contentSteeringController_.addAvailablePathway(a);continue}this.equalPathwayClones_(l,o)||(this.mainPlaylistLoader_.updateOrDeleteClone(o,!0),this.contentSteeringController_.addAvailablePathway(a))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...s])))}}equalPathwayClones_(e,r){if(e["BASE-ID"]!==r["BASE-ID"]||e.ID!==r.ID||e["URI-REPLACEMENT"].HOST!==r["URI-REPLACEMENT"].HOST)return!1;const i=e["URI-REPLACEMENT"].PARAMS,s=r["URI-REPLACEMENT"].PARAMS;for(const n in i)if(i[n]!==s[n])return!1;for(const n in s)if(i[n]!==s[n])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const r="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(i=>{const s=this.mainPlaylistLoader_.getKeyIdSet(i);!s||!s.size||s.forEach(n=>{const a="usable",o=this.keyStatusMap_.has(n)&&this.keyStatusMap_.get(n)===a,l=i.lastExcludeReason_===r&&i.excludeUntil===1/0;o?o&&l&&(delete i.excludeUntil,delete i.lastExcludeReason_,this.logger_(`enabling playlist ${i.id} because key ID ${n} is ${a}`)):(i.excludeUntil!==1/0&&i.lastExcludeReason_!==r&&(i.excludeUntil=1/0,i.lastExcludeReason_=r,this.logger_(`excluding playlist ${i.id} because the key ID ${n} doesn't exist in the keyStatusMap or is not ${a}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(i=>{const s=i&&i.attributes&&i.attributes.RESOLUTION&&i.attributes.RESOLUTION.height<720,n=i.excludeUntil===1/0&&i.lastExcludeReason_===r;s&&n&&(delete i.excludeUntil,te.log.warn(`enabling non-HD playlist ${i.id} because all playlists were excluded due to ${r} key IDs`))})}addKeyStatus_(e,r){const n=(typeof e=="string"?e:xR(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${r}' with key ID ${n} added to the keyStatusMap`),this.keyStatusMap_.set(n,r)}updatePlaylistByKeyStatus(e,r){this.addKeyStatus_(e,r),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const XR=(t,e,r)=>i=>{const s=t.main.playlists[e],n=R1(s),a=nh(s);if(typeof i>"u")return a;i?delete s.disabled:s.disabled=!0;const o={renditionInfo:{id:e,bandwidth:s.attributes.BANDWIDTH,resolution:s.attributes.RESOLUTION,codecs:s.attributes.CODECS},cause:"fast-quality"};return i!==a&&!n&&(r(s),i?t.trigger({type:"renditionenabled",metadata:o}):t.trigger({type:"renditiondisabled",metadata:o})),i};class KR{constructor(e,r,i){const{playlistController_:s}=e,n=s.fastQualityChange_.bind(s);if(r.attributes){const a=r.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=r.attributes.BANDWIDTH,this.frameRate=r.attributes["FRAME-RATE"]}this.codecs=fu(s.main(),r),this.playlist=r,this.id=i,this.enabled=XR(e.playlists,r.id,n)}}const YR=function(t){t.representations=()=>{const e=t.playlistController_.main(),r=Qu(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return r?r.filter(i=>!R1(i)).map((i,s)=>new KR(t,i,i.id)):[]}},Gy=["seeking","seeked","pause","playing","error"];class QR extends te.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Ji("PlaybackWatcher"),this.logger_("initialize");const r=()=>this.monitorCurrentTime_(),i=()=>this.monitorCurrentTime_(),s=()=>this.techWaiting_(),n=()=>this.resetTimeUpdate_(),a=this.playlistController_,o=["main","subtitle","audio"],l={};o.forEach(c=>{l[c]={reset:()=>this.resetSegmentDownloads_(c),updateend:()=>this.checkSegmentDownloads_(c)},a[`${c}SegmentLoader_`].on("appendsdone",l[c].updateend),a[`${c}SegmentLoader_`].on("playlistupdate",l[c].reset),this.tech_.on(["seeked","seeking"],l[c].reset)});const u=c=>{["main","audio"].forEach(h=>{a[`${h}SegmentLoader_`][c]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(Gy,n),this.tech_.on("canplay",i),this.tech_.one("play",r),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",s),this.tech_.off(Gy,n),this.tech_.off("canplay",i),this.tech_.off("play",r),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(c=>{a[`${c}SegmentLoader_`].off("appendsdone",l[c].updateend),a[`${c}SegmentLoader_`].off("playlistupdate",l[c].reset),this.tech_.off(["seeked","seeking"],l[c].reset)}),this.checkCurrentTimeTimeout_&&$.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&$.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=$.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const r=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=r.buffered_()}checkSegmentDownloads_(e){const r=this.playlistController_,i=r[`${e}SegmentLoader_`],s=i.buffered_(),n=BP(this[`${e}Buffered_`],s);if(this[`${e}Buffered_`]=s,n){const a={bufferedRanges:s};r.trigger({type:"bufferedrangeschanged",metadata:a}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:i.playlist_&&i.playlist_.id,buffered:Ia(s)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&r.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===e&&(!r.length||e+Ds>=r.end(r.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(Mr([this.lastRecordedTime,e]));const i={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:i}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const r=this.seekable(),i=this.tech_.currentTime(),s=this.afterSeekableWindow_(r,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let n;if(s&&(n=r.end(r.length-1)),this.beforeSeekableWindow_(r,i)){const w=r.start(0);n=w+(w===r.end(0)?0:Ds)}if(typeof n<"u")return this.logger_(`Trying to seek outside of seekable at time ${i} with seekable range ${Db(r)}. Seeking to ${n}.`),this.tech_.setCurrentTime(n),!0;const a=this.playlistController_.sourceUpdater_,o=this.tech_.buffered(),l=a.audioBuffer?a.audioBuffered():null,u=a.videoBuffer?a.videoBuffered():null,c=this.media(),h=c.partTargetDuration?c.partTargetDuration:(c.targetDuration-ks)*2,f=[l,u];for(let w=0;w<f.length;w++){if(!f[w])continue;if(P1(f[w],i)<h)return!1}const y=Xc(o,i);return y.length===0?!1:(n=y.start(0)+Ds,this.logger_(`Buffered region starts (${y.start(0)})  just beyond seek point (${i}). Seeking to ${n}.`),this.tech_.setCurrentTime(n),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),r=this.tech_.buffered(),i=_o(r,e);if(i.length&&e+3<=i.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${i.start(0)} -> ${i.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,r)){const o=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${r}. Seeking to live point (seekable end) ${o}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const i=this.tech_.vhs.playlistController_.sourceUpdater_,s=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:r}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const a=Xc(s,r);return a.length>0?(this.logger_(`Stopped at ${r} and seeking to ${a.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(r),!0):!1}afterSeekableWindow_(e,r,i,s=!1){if(!e.length)return!1;let n=e.end(e.length-1)+Ds;const a=!i.endList,o=typeof i.partTargetDuration=="number";return a&&(o||s)&&(n=e.end(e.length-1)+i.targetDuration*3),r>n}beforeSeekableWindow_(e,r){return!!(e.length&&e.start(0)>0&&r<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:r,currentTime:i}){if(!e)return;let s;if(e.length&&r.length){const n=_o(e,i-3),a=_o(e,i),o=_o(r,i);o.length&&!a.length&&n.length&&(s={start:n.end(0),end:o.end(0)})}else Xc(e,i).length||(s=this.gapFromVideoUnderflow_(e,i));return s?(this.logger_(`Encountered a gap in video from ${s.start} to ${s.end}. Seeking to current time ${i}`),!0):!1}skipTheGap_(e){const r=this.tech_.buffered(),i=this.tech_.currentTime(),s=Xc(r,i);if(this.resetTimeUpdate_(),s.length===0||i!==e)return;this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+ks);const n={gapInfo:{from:i,to:s.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:n}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,r){const i=RP(e);for(let s=0;s<i.length;s++){const n=i.start(s),a=i.end(s);if(r-n<4&&r-n>2)return{start:n,end:a}}return null}}const ZR={errorInterval:30,getSource(t){const r=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(r)}},v7=function(t,e){let r=0,i=0;const s=Lt(ZR,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const n=function(){i&&t.currentTime(i)},a=function(c){c!=null&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",n),t.src(c),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},o=function(){if(Date.now()-r<s.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!s.getSource||typeof s.getSource!="function"){te.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return r=Date.now(),s.getSource.call(t,a)},l=function(){t.off("loadedmetadata",n),t.off("error",o),t.off("dispose",l)},u=function(c){l(),v7(t,c)};t.on("error",o),t.on("dispose",l),t.reloadSourceOnError=u},JR=function(t){v7(this,t)};var b7="3.13.3",eO="7.0.3",tO="1.3.0",rO="7.1.0",iO="4.0.1";const Qt={PlaylistLoader:xo,Playlist:pi,utils:oM,STANDARD_PLAYLIST_SELECTOR:Ry,INITIAL_PLAYLIST_SELECTOR:KM,lastBandwidthSelector:Ry,movingAverageBandwidthSelector:WM,comparePlaylistBandwidth:B1,comparePlaylistResolution:GM,xhr:Gb()};Object.keys(Cr).forEach(t=>{Object.defineProperty(Qt,t,{get(){return te.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),Cr[t]},set(e){if(te.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){te.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}Cr[t]=e}})});const _7="videojs-vhs",x7=function(t,e){const r=e.media();let i=-1;for(let s=0;s<t.length;s++)if(t[s].id===r.id){i=s;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})},sO=function(t,e){e.representations().forEach(r=>{t.addQualityLevel(r)}),x7(t,e.playlists)};Qt.canPlaySource=function(){return te.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const nO=(t,e,r)=>{if(!t)return t;let i={};e&&e.attributes&&e.attributes.CODECS&&(i=id(ws(e.attributes.CODECS))),r&&r.attributes&&r.attributes.CODECS&&(i.audio=r.attributes.CODECS);const s=Eu(i.video),n=Eu(i.audio),a={};for(const o in t)a[o]={},n&&(a[o].audioContentType=n),s&&(a[o].videoContentType=s),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(a[o].pssh=e.contentProtection[o].pssh),typeof t[o]=="string"&&(a[o].url=t[o]);return Lt(t,a)},aO=(t,e)=>t.reduce((r,i)=>{if(!i.contentProtection)return r;const s=e.reduce((n,a)=>{const o=i.contentProtection[a];return o&&o.pssh&&(n[a]={pssh:o.pssh}),n},{});return Object.keys(s).length&&r.push(s),r},[]),oO=({player:t,sourceKeySystems:e,audioMedia:r,mainPlaylists:i})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const s=r?i.concat([r]):i,n=aO(s,Object.keys(e)),a=[],o=[];return n.forEach(l=>{o.push(new Promise((u,c)=>{t.tech_.one("keysessioncreated",u)})),a.push(new Promise((u,c)=>{t.eme.initializeMediaKeys({keySystems:l},h=>{if(h){c(h);return}u()})}))}),Promise.race([Promise.all(a),Promise.race(o)])},lO=({player:t,sourceKeySystems:e,media:r,audioMedia:i})=>{const s=nO(e,r,i);return s?(t.currentSource().keySystems=s,s&&!t.eme?(te.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},w7=()=>{if(!$.localStorage)return null;const t=$.localStorage.getItem(_7);if(!t)return null;try{return JSON.parse(t)}catch{return null}},uO=t=>{if(!$.localStorage)return!1;let e=w7();e=e?Lt(e,t):t;try{$.localStorage.setItem(_7,JSON.stringify(e))}catch{return!1}return e},cO=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,T7=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},S7=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},C7=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},E7=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};Qt.supportsNativeHls=function(){if(!Se||!Se.createElement)return!1;const t=Se.createElement("video");return te.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(r){return/maybe|probably/i.test(t.canPlayType(r))}):!1}();Qt.supportsNativeDash=function(){return!Se||!Se.createElement||!te.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Se.createElement("video").canPlayType("application/dash+xml"))}();Qt.supportsTypeNatively=t=>t==="hls"?Qt.supportsNativeHls:t==="dash"?Qt.supportsNativeDash:!1;Qt.isSupported=function(){return te.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};Qt.xhr.onRequest=function(t){T7(Qt.xhr,t)};Qt.xhr.onResponse=function(t){S7(Qt.xhr,t)};Qt.xhr.offRequest=function(t){C7(Qt.xhr,t)};Qt.xhr.offResponse=function(t){E7(Qt.xhr,t)};const dO=te.getComponent("Component");class A7 extends dO{constructor(e,r,i){if(super(r,i.vhs),typeof i.initialBandwidth=="number"&&(this.options_.bandwidth=i.initialBandwidth),this.logger_=Ji("VhsHandler"),r.options_&&r.options_.playerId){const s=te.getPlayer(r.options_.playerId);this.player_=s}if(this.tech_=r,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Se,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],s=>{const n=Se.fullscreenElement||Se.webkitFullscreenElement||Se.mozFullScreenElement||Se.msFullscreenElement;n&&n.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=Lt(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const i=w7();i&&i.bandwidth&&(this.options_.bandwidth=i.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),i&&i.throughput&&(this.options_.throughput=i.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Cr.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Cr.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(i=>{typeof this.source_[i]<"u"&&(this.options_[i]=this.source_[i])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const r=this.options_.customPixelRatio;typeof r=="number"&&r>=0&&(this.customPixelRatio=r)}setOptions(e={}){this.setOptions_(e)}src(e,r){if(!e)return;this.setOptions_(),this.options_.src=cO(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Qt,this.options_.sourceType=b6(r),this.options_.seekTo=n=>{this.tech_.setCurrentTime(n)},this.options_.player_=this.player_,this.playlistController_=new WR(this.options_);const i=Lt({liveRangeSafeTimeDelta:Ds},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new QR(i),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const n=te.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),n.error(a)});const s=this.options_.bufferBasedABR?Qt.movingAverageBandwidthSelector(.55):Qt.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):s.bind(this),this.playlistController_.selectInitialPlaylist=Qt.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(n){this.playlistController_.selectPlaylist=n.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(n){this.playlistController_.mainSegmentLoader_.throughput.rate=n,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let n=this.playlistController_.mainSegmentLoader_.bandwidth;const a=$.navigator.connection||$.navigator.mozConnection||$.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&a){const l=a.downlink*1e3*1e3;l>=o&&n>=o?n=Math.max(n,l):n=l}return n},set(n){this.playlistController_.mainSegmentLoader_.bandwidth=n,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const n=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(n+a))},set(){te.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Ia(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Ia(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&uO({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{YR(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=$.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),oO({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(r=>{this.logger_("error while creating EME key session",r),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,r=lO({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",i=>{this.playlistController_.updatePlaylistByKeyStatus(i.keyId,i.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!r){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=te.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{sO(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{x7(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":b7,"mux.js":eO,"mpd-parser":tO,"m3u8-parser":rO,"aes-decrypter":iO}}version(){return this.constructor.version()}canChangeType(){return p7.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&$.URL.revokeObjectURL&&($.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,r){return pM({playlist:this.playlistController_.media(),time:e,callback:r})}seekToProgramTime(e,r,i=!0,s=2){return Qb({programTime:e,playlist:this.playlistController_.media(),retryCount:s,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:r})}setupXhrHooks_(){this.xhr.onRequest=e=>{T7(this.xhr,e)},this.xhr.onResponse=e=>{S7(this.xhr,e)},this.xhr.offRequest=e=>{C7(this.xhr,e)},this.xhr.offResponse=e=>{E7(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],r=["gapjumped","playedrangeschanged"];e.forEach(i=>{this.playlistController_.on(i,s=>{this.player_.trigger(ir({},s))})}),r.forEach(i=>{this.playbackWatcher_.on(i,s=>{this.player_.trigger(ir({},s))})})}}const ad={name:"videojs-http-streaming",VERSION:b7,canHandleSource(t,e={}){const r=Lt(te.options,e);return ad.canPlayType(t.type,r)},handleSource(t,e,r={}){const i=Lt(te.options,r);return e.vhs=new A7(t,e,i),e.vhs.xhr=Gb(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const r=b6(t);if(!r)return"";const i=ad.getOverrideNative(e);return!Qt.supportsTypeNatively(r)||i?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,r=!(te.browser.IS_ANY_SAFARI||te.browser.IS_IOS),{overrideNative:i=r}=e;return i}},hO=()=>y0("avc1.4d400d,mp4a.40.2");hO()&&te.getTech("Html5").registerSourceHandler(ad,0);te.VhsHandler=A7;te.VhsSourceHandler=ad;te.Vhs=Qt;te.use||te.registerComponent("Vhs",Qt);te.options.vhs=te.options.vhs||{};(!te.getPlugin||!te.getPlugin("reloadSourceOnError"))&&te.registerPlugin("reloadSourceOnError",JR);const fO=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"}));var pO={exports:{}};const mO=Om(fO);(function(t,e){(function(r,i){{var s=mO;t.exports=i(s.default||s)}})(hn,function(r){var i=r.browser.IS_IOS||r.browser.IS_NATIVE_ANDROID,s=r.getTech("Tech");class n extends s{constructor(c,h){super(c,h),this.setPoster(c.poster),this.setSrc(this.options_.source,!0),this.setTimeout((function(){this.el_&&(this.el_.parentNode.className+=" vjs-youtube",i&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),n.isApiReady?this.initYTPlayer():n.apiReadyQueue.push(this))}).bind(this))}dispose(){if(this.ytPlayer)this.ytPlayer.stopVideo&&this.ytPlayer.stopVideo(),this.ytPlayer.destroy&&this.ytPlayer.destroy();else{var c=n.apiReadyQueue.indexOf(this);c!==-1&&n.apiReadyQueue.splice(c,1)}this.ytPlayer=null,this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile",""),this.el_.parentNode.removeChild(this.el_),s.prototype.dispose.call(this)}createEl(){var c=document.createElement("div");c.setAttribute("id",this.options_.techId),c.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute"),c.setAttribute("class","vjs-tech");var h=document.createElement("div");if(h.appendChild(c),!i&&!this.options_.ytControls){var f=document.createElement("div");f.setAttribute("class","vjs-iframe-blocker"),f.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),f.onclick=(function(){this.pause()}).bind(this),h.appendChild(f)}return h}initYTPlayer(){var c={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(typeof this.options_.autohide<"u"&&(c.autohide=this.options_.autohide),typeof this.options_.cc_load_policy<"u"&&(c.cc_load_policy=this.options_.cc_load_policy),typeof this.options_.ytControls<"u"&&(c.controls=this.options_.ytControls),typeof this.options_.disablekb<"u"&&(c.disablekb=this.options_.disablekb),typeof this.options_.color<"u"&&(c.color=this.options_.color),c.controls?typeof this.options_.fs<"u"&&(c.fs=this.options_.fs):c.fs=0,this.options_.source.src.indexOf("end=")!==-1){var h=this.options_.source.src.match(/end=([0-9]*)/);this.options_.end=parseInt(h[1])}if(typeof this.options_.end<"u"&&(c.end=this.options_.end),typeof this.options_.hl<"u"?c.hl=this.options_.hl:typeof this.options_.language<"u"&&(c.hl=this.options_.language.substr(0,2)),typeof this.options_.iv_load_policy<"u"&&(c.iv_load_policy=this.options_.iv_load_policy),typeof this.options_.list<"u"?c.list=this.options_.list:this.url&&typeof this.url.listId<"u"&&(c.list=this.url.listId),typeof this.options_.listType<"u"&&(c.listType=this.options_.listType),typeof this.options_.modestbranding<"u"&&(c.modestbranding=this.options_.modestbranding),typeof this.options_.playlist<"u"&&(c.playlist=this.options_.playlist),typeof this.options_.playsinline<"u"&&(c.playsinline=this.options_.playsinline),typeof this.options_.rel<"u"&&(c.rel=this.options_.rel),typeof this.options_.showinfo<"u"&&(c.showinfo=this.options_.showinfo),this.options_.source.src.indexOf("start=")!==-1){var f=this.options_.source.src.match(/start=([0-9]*)/);this.options_.start=parseInt(f[1])}if(typeof this.options_.start<"u"&&(c.start=this.options_.start),typeof this.options_.theme<"u"&&(c.theme=this.options_.theme),typeof this.options_.customVars<"u"){var y=this.options_.customVars;Object.keys(y).forEach(function(_){c[_]=y[_]})}this.activeVideoId=this.url?this.url.videoId:null,this.activeList=c.list;var w={videoId:this.activeVideoId,playerVars:c,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onPlaybackRateChange:this.onPlayerPlaybackRateChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onVolumeChange:this.onPlayerVolumeChange.bind(this),onError:this.onPlayerError.bind(this)}};typeof this.options_.enablePrivacyEnhancedMode<"u"&&this.options_.enablePrivacyEnhancedMode&&(w.host="https://www.youtube-nocookie.com"),this.ytPlayer=new YT.Player(this.options_.techId,w)}onPlayerReady(){this.options_.muted&&this.ytPlayer.mute();var c=this.ytPlayer.getAvailablePlaybackRates();c.length>1&&(this.featuresPlaybackRate=!0),this.playerReady_=!0,this.triggerReady(),this.playOnReady?this.play():this.cueOnReady&&(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)}onPlayerPlaybackQualityChange(){}onPlayerPlaybackRateChange(){this.trigger("ratechange")}onPlayerStateChange(c){var h=c.data;if(!(h===this.lastState||this.errorNumber))switch(this.lastState=h,h){case-1:this.trigger("loadstart"),this.trigger("loadedmetadata"),this.trigger("durationchange"),this.trigger("ratechange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.trigger("play"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking?this.onSeeked():this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting");break}}onPlayerVolumeChange(){this.trigger("volumechange")}onPlayerError(c){this.errorNumber=c.data,this.trigger("pause"),this.trigger("error")}error(){var c=1e3+this.errorNumber;switch(this.errorNumber){case 5:return{code:c,message:"Error while trying to play the video"};case 2:case 100:return{code:c,message:"Unable to find the video"};case 101:case 150:return{code:c,message:"Playback on other Websites has been disabled by the video owner."}}return{code:c,message:"YouTube unknown error ("+this.errorNumber+")"}}loadVideoById_(c){var h={videoId:c};this.options_.start&&(h.startSeconds=this.options_.start),this.options_.end&&(h.endSeconds=this.options_.end),this.ytPlayer.loadVideoById(h)}cueVideoById_(c){var h={videoId:c};this.options_.start&&(h.startSeconds=this.options_.start),this.options_.end&&(h.endSeconds=this.options_.end),this.ytPlayer.cueVideoById(h)}src(c){return c&&this.setSrc({src:c}),this.source}poster(){return i?null:this.poster_}setPoster(c){this.poster_=c}setSrc(c){!c||!c.src||(delete this.errorNumber,this.source=c,this.url=n.parseUrl(c.src),this.options_.poster||this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.trigger("posterchange"),this.checkHighResPoster()),this.options_.autoplay&&!i?this.isReady_?this.play():this.playOnReady=!0:this.activeVideoId!==this.url.videoId&&(this.isReady_?(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId):this.cueOnReady=!0))}autoplay(){return this.options_.autoplay}setAutoplay(c){this.options_.autoplay=c}loop(){return this.options_.loop}setLoop(c){this.options_.loop=c}play(){!this.url||!this.url.videoId||(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.loadVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))}pause(){this.ytPlayer&&this.ytPlayer.pauseVideo()}paused(){return this.ytPlayer?this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING:!0}currentTime(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0}setCurrentTime(c){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.isSeeking||(this.wasPausedBeforeSeek=this.paused()),this.ytPlayer.seekTo(c,!0),this.trigger("timeupdate"),this.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==c&&(clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=setInterval((function(){this.lastState!==YT.PlayerState.PAUSED||!this.isSeeking?clearInterval(this.checkSeekedInPauseInterval):this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),this.onSeeked())}).bind(this),250))}seeking(){return this.isSeeking}seekable(){return this.ytPlayer?r.createTimeRange(0,this.ytPlayer.getDuration()):r.createTimeRange()}onSeeked(){clearInterval(this.checkSeekedInPauseInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")}playbackRate(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1}setPlaybackRate(c){this.ytPlayer&&this.ytPlayer.setPlaybackRate(c)}duration(){return this.ytPlayer?this.ytPlayer.getDuration():0}currentSrc(){return this.source&&this.source.src}ended(){return this.ytPlayer?this.lastState===YT.PlayerState.ENDED:!1}volume(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1}setVolume(c){this.ytPlayer&&this.ytPlayer.setVolume(c*100)}muted(){return this.ytPlayer?this.ytPlayer.isMuted():!1}setMuted(c){if(this.ytPlayer)this.muted(!0);else return;c?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout(function(){this.trigger("volumechange")},50)}buffered(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return r.createTimeRange();var c=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return r.createTimeRange(0,c)}preload(){}load(){}reset(){}networkState(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 3:return 2;default:return 1}}readyState(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 5:return 1;case 3:return 2;default:return 4}}supportsFullScreen(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}checkHighResPoster(){var c="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var h=new Image;h.onload=(function(){if("naturalHeight"in h){if(h.naturalHeight<=90||h.naturalWidth<=120)return}else if(h.height<=90||h.width<=120)return;this.poster_=c,this.trigger("posterchange")}).bind(this),h.onerror=function(){},h.src=c}catch{}}}n.isSupported=function(){return!0},n.canPlaySource=function(u){return n.canPlayType(u.type)},n.canPlayType=function(u){return u==="video/youtube"},n.parseUrl=function(u){var c={videoId:null},h=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,f=u.match(h);f&&f[2].length===11&&(c.videoId=f[2]);var y=/[?&]list=([^#\&\?]+)/;return f=u.match(y),f&&f[1]&&(c.listId=f[1]),c};function a(){YT.ready(function(){n.isApiReady=!0;for(var u=0;u<n.apiReadyQueue.length;++u)n.apiReadyQueue[u].initYTPlayer()})}function o(u,c){var h=!1,f=document.createElement("script"),y=document.getElementsByTagName("script")[0];y&&(y.parentNode.insertBefore(f,y),f.onload=function(){h||(h=!0,c())},f.onreadystatechange=function(){!h&&(this.readyState==="complete"||this.readyState==="loaded")&&(h=!0,c())},f.src=u)}function l(){var u=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",c=document.head||document.getElementsByTagName("head")[0],h=document.createElement("style");h.type="text/css",h.styleSheet?h.styleSheet.cssText=u:h.appendChild(document.createTextNode(u)),c.appendChild(h)}n.apiReadyQueue=[],typeof document<"u"&&(o("https://www.youtube.com/iframe_api",a),l()),typeof r.registerTech<"u"?r.registerTech("Youtube",n):r.registerComponent("Youtube",n)})})(pO);const gO={class:"overflow-hidden"},yO=tt({__name:"VideoPlayer",props:{options:{type:Object,default:()=>({})}},setup(t){const e=t,{options:r}=Qi(e),i=Ye(null),s=Ye(null);return Rr(()=>{i.value&&(s.value=te(i.value,r.value,function(){}))}),ls(r,n=>{s.value&&s.value.src(n.sources[0])}),Jo(()=>{s.value&&s.value.dispose()}),(n,a)=>(Y(),ae("div",gO,[p("video",{ref_key:"videoPlayer",ref:i,class:"video-js w-full h-full"},null,512)]))}});/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:k7,setPrototypeOf:Wy,isFrozen:vO,getPrototypeOf:bO,getOwnPropertyDescriptor:_O}=Object;let{freeze:ni,seal:Xi,create:D7}=Object,{apply:Vp,construct:Gp}=typeof Reflect<"u"&&Reflect;ni||(ni=function(e){return e});Xi||(Xi=function(e){return e});Vp||(Vp=function(e,r,i){return e.apply(r,i)});Gp||(Gp=function(e,r){return new e(...r)});const Qc=Mi(Array.prototype.forEach),Xy=Mi(Array.prototype.pop),$l=Mi(Array.prototype.push),x0=Mi(String.prototype.toLowerCase),Tf=Mi(String.prototype.toString),Ky=Mi(String.prototype.match),zl=Mi(String.prototype.replace),xO=Mi(String.prototype.indexOf),wO=Mi(String.prototype.trim),ss=Mi(Object.prototype.hasOwnProperty),Vr=Mi(RegExp.prototype.test),ql=TO(TypeError);function Mi(t){return function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return Vp(t,e,i)}}function TO(t){return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return Gp(t,r)}}function yt(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x0;Wy&&Wy(t,null);let i=e.length;for(;i--;){let s=e[i];if(typeof s=="string"){const n=r(s);n!==s&&(vO(e)||(e[i]=n),s=n)}t[s]=!0}return t}function SO(t){for(let e=0;e<t.length;e++)ss(t,e)||(t[e]=null);return t}function Sa(t){const e=D7(null);for(const[r,i]of k7(t))ss(t,r)&&(Array.isArray(i)?e[r]=SO(i):i&&typeof i=="object"&&i.constructor===Object?e[r]=Sa(i):e[r]=i);return e}function jl(t,e){for(;t!==null;){const i=_O(t,e);if(i){if(i.get)return Mi(i.get);if(typeof i.value=="function")return Mi(i.value)}t=bO(t)}function r(){return null}return r}const Yy=ni(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Sf=ni(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Cf=ni(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),CO=ni(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ef=ni(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),EO=ni(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Qy=ni(["#text"]),Zy=ni(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Af=ni(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Jy=ni(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Zc=ni(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),AO=Xi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),kO=Xi(/<%[\w\W]*|[\w\W]*%>/gm),DO=Xi(/\${[\w\W]*}/gm),IO=Xi(/^data-[\-\w.\u00B7-\uFFFF]/),LO=Xi(/^aria-[\-\w]+$/),I7=Xi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),PO=Xi(/^(?:\w+script|data):/i),MO=Xi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),L7=Xi(/^html$/i),RO=Xi(/^[a-z][.\w]*(-[.\w]+)+$/i);var e3=Object.freeze({__proto__:null,MUSTACHE_EXPR:AO,ERB_EXPR:kO,TMPLIT_EXPR:DO,DATA_ATTR:IO,ARIA_ATTR:LO,IS_ALLOWED_URI:I7,IS_SCRIPT_OR_DATA:PO,ATTR_WHITESPACE:MO,DOCTYPE_NAME:L7,CUSTOM_ELEMENT:RO});const Hl={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},OO=function(){return typeof window>"u"?null:window},NO=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const s="data-tt-policy-suffix";r&&r.hasAttribute(s)&&(i=r.getAttribute(s));const n="dompurify"+(i?"#"+i:"");try{return e.createPolicy(n,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+n+" could not be created."),null}};function P7(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:OO();const e=qe=>P7(qe);if(e.version="3.1.7",e.removed=[],!t||!t.document||t.document.nodeType!==Hl.document)return e.isSupported=!1,e;let{document:r}=t;const i=r,s=i.currentScript,{DocumentFragment:n,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:y}=t,w=l.prototype,_=jl(w,"cloneNode"),C=jl(w,"remove"),E=jl(w,"nextSibling"),k=jl(w,"childNodes"),D=jl(w,"parentNode");if(typeof a=="function"){const qe=r.createElement("template");qe.content&&qe.content.ownerDocument&&(r=qe.content.ownerDocument)}let P,L="";const{implementation:U,createNodeIterator:J,createDocumentFragment:X,getElementsByTagName:H}=r,{importNode:re}=i;let Z={};e.isSupported=typeof k7=="function"&&typeof D=="function"&&U&&U.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:W,ERB_EXPR:ne,TMPLIT_EXPR:ce,DATA_ATTR:$e,ARIA_ATTR:ke,IS_SCRIPT_OR_DATA:De,ATTR_WHITESPACE:ze,CUSTOM_ELEMENT:Et}=e3;let{IS_ALLOWED_URI:wt}=e3,Ze=null;const ut=yt({},[...Yy,...Sf,...Cf,...Ef,...Qy]);let rt=null;const Pt=yt({},[...Zy,...Af,...Jy,...Zc]);let it=Object.seal(D7(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),bt=null,ie=null,ve=!0,_e=!0,Le=!1,at=!0,ot=!1,R=!0,B=!1,Q=!1,de=!1,ue=!1,he=!1,Ce=!1,pe=!0,Ee=!1;const be="user-content-";let He=!0,Ie=!1,Be={},je=null;const ht=yt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Tt=null;const _t=yt({},["audio","video","img","source","image","track"]);let cr=null;const er=yt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ft="http://www.w3.org/1998/Math/MathML",dr="http://www.w3.org/2000/svg",hr="http://www.w3.org/1999/xhtml";let es=hr,yr=!1,Or=null;const Za=yt({},[ft,dr,hr],Tf);let la=null;const mh=["application/xhtml+xml","text/html"],gh="text/html";let fr=null,Cn=null;const yh=r.createElement("form"),nc=function(G){return G instanceof RegExp||G instanceof Function},Ja=function(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Cn&&Cn===G)){if((!G||typeof G!="object")&&(G={}),G=Sa(G),la=mh.indexOf(G.PARSER_MEDIA_TYPE)===-1?gh:G.PARSER_MEDIA_TYPE,fr=la==="application/xhtml+xml"?Tf:x0,Ze=ss(G,"ALLOWED_TAGS")?yt({},G.ALLOWED_TAGS,fr):ut,rt=ss(G,"ALLOWED_ATTR")?yt({},G.ALLOWED_ATTR,fr):Pt,Or=ss(G,"ALLOWED_NAMESPACES")?yt({},G.ALLOWED_NAMESPACES,Tf):Za,cr=ss(G,"ADD_URI_SAFE_ATTR")?yt(Sa(er),G.ADD_URI_SAFE_ATTR,fr):er,Tt=ss(G,"ADD_DATA_URI_TAGS")?yt(Sa(_t),G.ADD_DATA_URI_TAGS,fr):_t,je=ss(G,"FORBID_CONTENTS")?yt({},G.FORBID_CONTENTS,fr):ht,bt=ss(G,"FORBID_TAGS")?yt({},G.FORBID_TAGS,fr):{},ie=ss(G,"FORBID_ATTR")?yt({},G.FORBID_ATTR,fr):{},Be=ss(G,"USE_PROFILES")?G.USE_PROFILES:!1,ve=G.ALLOW_ARIA_ATTR!==!1,_e=G.ALLOW_DATA_ATTR!==!1,Le=G.ALLOW_UNKNOWN_PROTOCOLS||!1,at=G.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ot=G.SAFE_FOR_TEMPLATES||!1,R=G.SAFE_FOR_XML!==!1,B=G.WHOLE_DOCUMENT||!1,ue=G.RETURN_DOM||!1,he=G.RETURN_DOM_FRAGMENT||!1,Ce=G.RETURN_TRUSTED_TYPE||!1,de=G.FORCE_BODY||!1,pe=G.SANITIZE_DOM!==!1,Ee=G.SANITIZE_NAMED_PROPS||!1,He=G.KEEP_CONTENT!==!1,Ie=G.IN_PLACE||!1,wt=G.ALLOWED_URI_REGEXP||I7,es=G.NAMESPACE||hr,it=G.CUSTOM_ELEMENT_HANDLING||{},G.CUSTOM_ELEMENT_HANDLING&&nc(G.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(it.tagNameCheck=G.CUSTOM_ELEMENT_HANDLING.tagNameCheck),G.CUSTOM_ELEMENT_HANDLING&&nc(G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(it.attributeNameCheck=G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),G.CUSTOM_ELEMENT_HANDLING&&typeof G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(it.allowCustomizedBuiltInElements=G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ot&&(_e=!1),he&&(ue=!0),Be&&(Ze=yt({},Qy),rt=[],Be.html===!0&&(yt(Ze,Yy),yt(rt,Zy)),Be.svg===!0&&(yt(Ze,Sf),yt(rt,Af),yt(rt,Zc)),Be.svgFilters===!0&&(yt(Ze,Cf),yt(rt,Af),yt(rt,Zc)),Be.mathMl===!0&&(yt(Ze,Ef),yt(rt,Jy),yt(rt,Zc))),G.ADD_TAGS&&(Ze===ut&&(Ze=Sa(Ze)),yt(Ze,G.ADD_TAGS,fr)),G.ADD_ATTR&&(rt===Pt&&(rt=Sa(rt)),yt(rt,G.ADD_ATTR,fr)),G.ADD_URI_SAFE_ATTR&&yt(cr,G.ADD_URI_SAFE_ATTR,fr),G.FORBID_CONTENTS&&(je===ht&&(je=Sa(je)),yt(je,G.FORBID_CONTENTS,fr)),He&&(Ze["#text"]=!0),B&&yt(Ze,["html","head","body"]),Ze.table&&(yt(Ze,["tbody"]),delete bt.tbody),G.TRUSTED_TYPES_POLICY){if(typeof G.TRUSTED_TYPES_POLICY.createHTML!="function")throw ql('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof G.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ql('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');P=G.TRUSTED_TYPES_POLICY,L=P.createHTML("")}else P===void 0&&(P=NO(y,s)),P!==null&&typeof L=="string"&&(L=P.createHTML(""));ni&&ni(G),Cn=G}},ac=yt({},["mi","mo","mn","ms","mtext"]),oc=yt({},["annotation-xml"]),vh=yt({},["title","style","font","a","script"]),lc=yt({},[...Sf,...Cf,...CO]),uc=yt({},[...Ef,...EO]),cc=function(G){let me=D(G);(!me||!me.tagName)&&(me={namespaceURI:es,tagName:"template"});const Ue=x0(G.tagName),At=x0(me.tagName);return Or[G.namespaceURI]?G.namespaceURI===dr?me.namespaceURI===hr?Ue==="svg":me.namespaceURI===ft?Ue==="svg"&&(At==="annotation-xml"||ac[At]):!!lc[Ue]:G.namespaceURI===ft?me.namespaceURI===hr?Ue==="math":me.namespaceURI===dr?Ue==="math"&&oc[At]:!!uc[Ue]:G.namespaceURI===hr?me.namespaceURI===dr&&!oc[At]||me.namespaceURI===ft&&!ac[At]?!1:!uc[Ue]&&(vh[Ue]||!lc[Ue]):!!(la==="application/xhtml+xml"&&Or[G.namespaceURI]):!1},li=function(G){$l(e.removed,{element:G});try{D(G).removeChild(G)}catch{C(G)}},Vs=function(G,me){try{$l(e.removed,{attribute:me.getAttributeNode(G),from:me})}catch{$l(e.removed,{attribute:null,from:me})}if(me.removeAttribute(G),G==="is"&&!rt[G])if(ue||he)try{li(me)}catch{}else try{me.setAttribute(G,"")}catch{}},Lr=function(G){let me=null,Ue=null;if(de)G="<remove></remove>"+G;else{const br=Ky(G,/^[\r\n\t ]+/);Ue=br&&br[0]}la==="application/xhtml+xml"&&es===hr&&(G='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+G+"</body></html>");const At=P?P.createHTML(G):G;if(es===hr)try{me=new f().parseFromString(At,la)}catch{}if(!me||!me.documentElement){me=U.createDocument(es,"template",null);try{me.documentElement.innerHTML=yr?L:At}catch{}}const Sr=me.body||me.documentElement;return G&&Ue&&Sr.insertBefore(r.createTextNode(Ue),Sr.childNodes[0]||null),es===hr?H.call(me,B?"html":"body")[0]:B?me.documentElement:Sr},dc=function(G){return J.call(G.ownerDocument||G,G,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},hc=function(G){return G instanceof h&&(typeof G.nodeName!="string"||typeof G.textContent!="string"||typeof G.removeChild!="function"||!(G.attributes instanceof c)||typeof G.removeAttribute!="function"||typeof G.setAttribute!="function"||typeof G.namespaceURI!="string"||typeof G.insertBefore!="function"||typeof G.hasChildNodes!="function")},ua=function(G){return typeof o=="function"&&G instanceof o},vr=function(G,me,Ue){Z[G]&&Qc(Z[G],At=>{At.call(e,me,Ue,Cn)})},ca=function(G){let me=null;if(vr("beforeSanitizeElements",G,null),hc(G))return li(G),!0;const Ue=fr(G.nodeName);if(vr("uponSanitizeElement",G,{tagName:Ue,allowedTags:Ze}),G.hasChildNodes()&&!ua(G.firstElementChild)&&Vr(/<[/\w]/g,G.innerHTML)&&Vr(/<[/\w]/g,G.textContent)||G.nodeType===Hl.progressingInstruction||R&&G.nodeType===Hl.comment&&Vr(/<[/\w]/g,G.data))return li(G),!0;if(!Ze[Ue]||bt[Ue]){if(!bt[Ue]&&fc(Ue)&&(it.tagNameCheck instanceof RegExp&&Vr(it.tagNameCheck,Ue)||it.tagNameCheck instanceof Function&&it.tagNameCheck(Ue)))return!1;if(He&&!je[Ue]){const At=D(G)||G.parentNode,Sr=k(G)||G.childNodes;if(Sr&&At){const br=Sr.length;for(let Nr=br-1;Nr>=0;--Nr){const wi=_(Sr[Nr],!0);wi.__removalCount=(G.__removalCount||0)+1,At.insertBefore(wi,E(G))}}}return li(G),!0}return G instanceof l&&!cc(G)||(Ue==="noscript"||Ue==="noembed"||Ue==="noframes")&&Vr(/<\/no(script|embed|frames)/i,G.innerHTML)?(li(G),!0):(ot&&G.nodeType===Hl.text&&(me=G.textContent,Qc([W,ne,ce],At=>{me=zl(me,At," ")}),G.textContent!==me&&($l(e.removed,{element:G.cloneNode()}),G.textContent=me)),vr("afterSanitizeElements",G,null),!1)},Dt=function(G,me,Ue){if(pe&&(me==="id"||me==="name")&&(Ue in r||Ue in yh))return!1;if(!(_e&&!ie[me]&&Vr($e,me))){if(!(ve&&Vr(ke,me))){if(!rt[me]||ie[me]){if(!(fc(G)&&(it.tagNameCheck instanceof RegExp&&Vr(it.tagNameCheck,G)||it.tagNameCheck instanceof Function&&it.tagNameCheck(G))&&(it.attributeNameCheck instanceof RegExp&&Vr(it.attributeNameCheck,me)||it.attributeNameCheck instanceof Function&&it.attributeNameCheck(me))||me==="is"&&it.allowCustomizedBuiltInElements&&(it.tagNameCheck instanceof RegExp&&Vr(it.tagNameCheck,Ue)||it.tagNameCheck instanceof Function&&it.tagNameCheck(Ue))))return!1}else if(!cr[me]){if(!Vr(wt,zl(Ue,ze,""))){if(!((me==="src"||me==="xlink:href"||me==="href")&&G!=="script"&&xO(Ue,"data:")===0&&Tt[G])){if(!(Le&&!Vr(De,zl(Ue,ze,"")))){if(Ue)return!1}}}}}}return!0},fc=function(G){return G!=="annotation-xml"&&Ky(G,Et)},da=function(G){vr("beforeSanitizeAttributes",G,null);const{attributes:me}=G;if(!me)return;const Ue={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:rt};let At=me.length;for(;At--;){const Sr=me[At],{name:br,namespaceURI:Nr,value:wi}=Sr,Gs=fr(br);let _r=br==="value"?wi:wO(wi);if(Ue.attrName=Gs,Ue.attrValue=_r,Ue.keepAttr=!0,Ue.forceKeepAttr=void 0,vr("uponSanitizeAttribute",G,Ue),_r=Ue.attrValue,Ue.forceKeepAttr||(Vs(br,G),!Ue.keepAttr))continue;if(!at&&Vr(/\/>/i,_r)){Vs(br,G);continue}ot&&Qc([W,ne,ce],pc=>{_r=zl(_r,pc," ")});const gl=fr(G.nodeName);if(Dt(gl,Gs,_r)){if(Ee&&(Gs==="id"||Gs==="name")&&(Vs(br,G),_r=be+_r),R&&Vr(/((--!?|])>)|<\/(style|title)/i,_r)){Vs(br,G);continue}if(P&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!Nr)switch(y.getAttributeType(gl,Gs)){case"TrustedHTML":{_r=P.createHTML(_r);break}case"TrustedScriptURL":{_r=P.createScriptURL(_r);break}}try{Nr?G.setAttributeNS(Nr,br,_r):G.setAttribute(br,_r),hc(G)?li(G):Xy(e.removed)}catch{}}}vr("afterSanitizeAttributes",G,null)},eo=function qe(G){let me=null;const Ue=dc(G);for(vr("beforeSanitizeShadowDOM",G,null);me=Ue.nextNode();)vr("uponSanitizeShadowNode",me,null),!ca(me)&&(me.content instanceof n&&qe(me.content),da(me));vr("afterSanitizeShadowDOM",G,null)};return e.sanitize=function(qe){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},me=null,Ue=null,At=null,Sr=null;if(yr=!qe,yr&&(qe="<!-->"),typeof qe!="string"&&!ua(qe))if(typeof qe.toString=="function"){if(qe=qe.toString(),typeof qe!="string")throw ql("dirty is not a string, aborting")}else throw ql("toString is not a function");if(!e.isSupported)return qe;if(Q||Ja(G),e.removed=[],typeof qe=="string"&&(Ie=!1),Ie){if(qe.nodeName){const wi=fr(qe.nodeName);if(!Ze[wi]||bt[wi])throw ql("root node is forbidden and cannot be sanitized in-place")}}else if(qe instanceof o)me=Lr("<!---->"),Ue=me.ownerDocument.importNode(qe,!0),Ue.nodeType===Hl.element&&Ue.nodeName==="BODY"||Ue.nodeName==="HTML"?me=Ue:me.appendChild(Ue);else{if(!ue&&!ot&&!B&&qe.indexOf("<")===-1)return P&&Ce?P.createHTML(qe):qe;if(me=Lr(qe),!me)return ue?null:Ce?L:""}me&&de&&li(me.firstChild);const br=dc(Ie?qe:me);for(;At=br.nextNode();)ca(At)||(At.content instanceof n&&eo(At.content),da(At));if(Ie)return qe;if(ue){if(he)for(Sr=X.call(me.ownerDocument);me.firstChild;)Sr.appendChild(me.firstChild);else Sr=me;return(rt.shadowroot||rt.shadowrootmode)&&(Sr=re.call(i,Sr,!0)),Sr}let Nr=B?me.outerHTML:me.innerHTML;return B&&Ze["!doctype"]&&me.ownerDocument&&me.ownerDocument.doctype&&me.ownerDocument.doctype.name&&Vr(L7,me.ownerDocument.doctype.name)&&(Nr="<!DOCTYPE "+me.ownerDocument.doctype.name+`>
`+Nr),ot&&Qc([W,ne,ce],wi=>{Nr=zl(Nr,wi," ")}),P&&Ce?P.createHTML(Nr):Nr},e.setConfig=function(){let qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ja(qe),Q=!0},e.clearConfig=function(){Cn=null,Q=!1},e.isValidAttribute=function(qe,G,me){Cn||Ja({});const Ue=fr(qe),At=fr(G);return Dt(Ue,At,me)},e.addHook=function(qe,G){typeof G=="function"&&(Z[qe]=Z[qe]||[],$l(Z[qe],G))},e.removeHook=function(qe){if(Z[qe])return Xy(Z[qe])},e.removeHooks=function(qe){Z[qe]&&(Z[qe]=[])},e.removeAllHooks=function(){Z={}},e}var BO=P7();function Hi(t){return BO.sanitize(t.replace("\\",""),{ALLOWED_TAGS:["b","i","em","strong","a","p","br","ul","ol","li","span","div","h1","h2","h3","h4","h5","h6","img"],ALLOWED_ATTR:["href","src","alt","title","target","rel"],FORBID_TAGS:["script","style","iframe"],FORBID_ATTR:["style","onerror","onclick","onload"]})}const FO={class:"top-0 h-max bg-screenBlack overflow-x-hidden"},UO={class:"flex flex-col font-body text-pearl-white gap-[3rem] w-full"},$O={class:"flex flex-col gap-0","data-aos":"fade-right","data-aos-offset":"0"},zO=["innerHTML"],qO={class:"flex justify-between md:justify-start items-center w-full md:gap-[2.4rem] lg:text-body"},jO={id:"about",class:"w-full h-max scroll-pt-[30rem] grid grid-cols-1 lg:grid-cols-[4fr_5fr] gap-[6rem] lg:gap-[4rem] px-[2rem] lg:px-[12rem] xl:px-[10vw] py-[10rem]"},HO={class:"w-full h-max flex justify-center items-center"},VO={class:"text-pearl-white flex flex-col items-center lg:items-start gap-[2rem]"},GO={class:"font-base text-body text-center lg:text-left","data-aos":"fade-up"},WO={class:"flex justify-center items-center w-full lg:px-[3rem]"},XO={class:"w-full h-max grid grid-cols-1 lg:grid-cols-[4fr_5fr] gap-y-[10rem] lg:gap-[4rem] lg:px-[12rem] xl:px-[10vw] pt-[5rem] lg:py-[5rem] relative lg:gap-y-3"},KO={class:"w-full h-max grid grid-cols-1 auto-rows-[25rem] gap-y-[2rem] relative px-[2rem] lg:px-[0rem]"},YO={class:"grid grid-cols-[4rem_1fr] grid-rows-1 gap-x-[1rem] text-pearl-white"},QO={class:"grid grid-cols-1 grid-rows-[7rem_4px_auto] gap-[1rem] h-full","data-aos":"fade-up"},ZO={class:"font-heading text-subtitle lg:text-title"},JO={class:"font-body text-body"},eN={class:"grid grid-cols-[4rem_1fr] grid-rows-1 gap-x-[1rem] text-pearl-white"},tN={class:"grid grid-cols-1 grid-rows-[7rem_4px_auto] gap-[1rem] h-full","data-aos":"fade-up"},rN={class:"font-heading text-subtitle lg:text-title"},iN={class:"font-body text-body"},sN={class:"grid grid-cols-[4rem_1fr] grid-rows-1 gap-x-[1rem] text-pearl-white"},nN={class:"grid grid-cols-1 grid-rows-[7rem_4px_auto] gap-[1rem] h-full","data-aos":"fade-up","data-aos-offset":"-50"},aN={class:"font-heading text-subtitle lg:text-title"},oN={class:"font-body text-body"},lN={class:"w-full h-max grid grid-cols-1 xl:grid-cols-[4fr_6fr] gap-[4rem] lg:px-[12rem] xl:px-[10vw] pb-[10rem] lg:py-[5rem] relative gap-y-3"},uN={class:"w-full h-max px-[2rem] lg:px-[0]","data-aos":"fade-left"},cN={class:"font-heading flex flex-col justify-center items-start p-[2rem]"},dN={class:"text-screen-black text-subtitle md:text-title text-left"},hN={class:"text-primary text-subtitle md:text-title text-left"},fN={class:"flex justify-center md:justify-end items-start p-[2rem]"},pN={class:"w-[90%] md:w-[100%] h-min rounded-[20px] overflow-hidden shadow-[-1.5rem_1.5rem_0px_0px_#FBC151]"},mN=["src"],gN={class:"md:col-span-2 px-[2rem] py-[4rem] lg:py-[0] h-full w-full flex items-center"},yN=["innerHTML"],vN={class:"bg-pearl-white text-screenBlack px-[2rem] lg:px-[12rem] xl:px-[10vw] flex flex-col gap-[6rem] lg:gap-[10rem] py-[10rem] lg:py-[15rem] [clip-path:polygon(0_5rem,100%_0,100%_calc(100%-5rem),0%_100%)]"},bN={class:"flex flex-col gap-[4rem]"},_N={class:"font-heading text-subtitle lg:text-title relative after:absolute after:left-0 after:top-[2rem] lg:after:top-[4rem] after:-z-10 after:w-full after:h-[2rem] lg:after:h-[3rem] after:bg-primary after:-skew-x-[30deg] after:scale-x-[1.1] after:translate-x-2 after:-rotate-[2deg]"},xN={class:"font-body text-body lg:text-body lg:font-semibold","data-aos":"fade-up"},wN={class:"w-full h-max bg-screenBlack"},TN={key:0,class:"w-full h-max flex flex-col gap-[5rem] lg:gap-0 lg:grid lg:grid-cols-[1fr_25rem] lg:grid-rows-1 lg:gap-x-[10rem] px-[2rem] lg:px-[12rem] xl:px-[10vw] py-[12rem] bg-pearl-white [clip-path:polygon(0_5rem,100%_0,100%_calc(100%-5rem),0%_100%)]"},SN={class:"flex flex-col gap-[4rem]"},CN={class:"font-heading text-center text-title lg:text-heading"},EN={class:"font-body text-body lg:text-body text-center lg:text-left"},AN={class:"w-full h-full p-[20%] lg:p-0"},kN=["src"],DN={key:0,class:"relative w-full h-max py-[12rem]"},IN={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},LN={class:"flex flex-row justify-center lg:justify-between flex-wrap"},PN=["data-aos-delay"],MN={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},RN={class:"relative w-full h-full"},ON={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},NN={class:"relative h-full aspect-square flex justify-center items-center"},BN=["src","alt"],FN={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},UN={class:"font-heading text-subtitle lg:text-subtitle text-screenBlack"},$N={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},zN={class:"flex flex-row-reverse justify-center lg:justify-between flex-wrap"},qN=["data-aos-delay"],jN={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},HN={class:"relative w-full h-full"},VN={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},GN={class:"relative h-full aspect-square flex justify-center items-center"},WN=["src","alt"],XN={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},KN={class:"font-heading text-body lg:text-subtitle text-screenBlack"},YN={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},QN={class:"flex justify-center lg:justify-between flex-wrap"},ZN=["data-aos-delay"],JN={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},eB={class:"relative w-full h-full"},tB={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},rB={class:"relative h-full aspect-square flex justify-center items-center"},iB=["src","alt"],sB={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},nB={class:"font-heading text-body lg:text-body text-screenBlack"},aB={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] h-max py-[10rem] flex flex-col gap-[5rem] lg:gap-0 lg:grid lg:grid-cols-2"},oB={class:"flex lg:flex-row justify-center items-center w-full"},lB={class:"flex gap-[5rem]"},uB=["href"],cB={key:0,width:"104",height:"104",viewBox:"0 0 104 104",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},dB={key:1,width:"104",height:"104",viewBox:"0 0 104 104",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},hB={key:2,width:"94",height:"84",viewBox:"0 0 94 84",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},fB={key:3,width:"257",height:"180",viewBox:"0 0 257 180",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},pB=tt({__name:"Home",setup(t){const e=n6(),r=Ye({autoplay:!1,controls:!0,sources:[{src:e.videoUrl,type:"video/youtube"}]});sT(()=>{r.value={autoplay:!1,controls:!0,sources:[{src:e.videoUrl,type:"video/youtube"}]}});const{isAuthenticated:i}=ri();return(s,n)=>{const a=Zi("RouterLink");return Y(),kt(gs,null,{default:Fe(()=>{var o,l,u,c,h,f,y,w,_,C;return[p("div",FO,[p("section",{class:"top-0 flex justify-start pt-[30vh] md:pt-0 md:items-center lg:min-h-[40rem] h-[111vh] px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-no-repeat bg-cover [clip-path:polygon(0_0,100%_0,100%_90%,0%_100%)] relative",style:mi({backgroundImage:`url(${N(e).titleBackgroundImage})`})},[p("div",UO,[p("div",$O,[n[0]||(n[0]=p("h1",{class:"font-heading text-title lg:text-heading"},"INTEGRATION BEE",-1)),n[1]||(n[1]=p("h2",{class:"font-heading text-primary text-subtitle lg:text-title"},"AUSTRIA",-1)),p("h3",{class:"text-body lg:text-title",innerHTML:N(e).slogan&&N(Hi)(N(e).slogan)},null,8,zO)]),p("div",qO,[N(i)?Ne("",!0):(Y(),kt(a,{key:0,to:"/sign_in",class:"rounded-2xl text-secondary bg-primary w-[16rem] h-[6rem] lg:w-[18rem] lg:h-[6rem] flex justify-center items-center text-body font-semibold"},{default:Fe(()=>n[2]||(n[2]=[st("Sign in")])),_:1})),N(i)?(Y(),kt(a,{key:1,to:"/events",class:"rounded-2xl text-secondary bg-primary w-[16rem] h-[6rem] lg:w-[18rem] lg:h-[6rem] flex justify-center items-center text-body font-semibold"},{default:Fe(()=>n[3]||(n[3]=[st("Events")])),_:1})):Ne("",!0),ge(a,{to:"#about",class:"border-pearl-white border-2 rounded-2xl w-[16rem] h-[6rem] lg:w-[18rem] lg:h-[6rem] flex justify-center items-center text-body font-semibold overflow-hidden lg:hover:text-screenBlack signUpBtn"},{default:Fe(()=>n[4]||(n[4]=[p("p",{class:"relative"},"Learn More",-1),p("div",{class:"signUpBtn_Bg bg-pearl-white hidden lg:flex"},null,-1)])),_:1})])]),n[5]||(n[5]=p("div",{class:"w-[5rem] aspect-square absolute left-[calc(50vw-2.5rem)] bottom-[max(15rem,20vh)] stroke-primary down-arrow"},[p("svg",{width:"61",height:"34",viewBox:"0 0 61 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{d:"M1.58545 1.35022L30.7674 30.5322L59.1498 2.14972","stroke-width":"3.7689"})])],-1))],4),p("section",jO,[p("div",HO,[p("div",VO,[n[6]||(n[6]=p("h3",{class:"font-heading text-title","data-aos":"fade-up"}," What is It ",-1)),p("p",GO,we(N(e).whatIsItContent),1)])]),p("div",WO,[ge(yO,{options:r.value,class:"rounded-[30px] lg:rounded-3xl w-full aspect-video border-pearl-white border-4 box-content"},null,8,["options"])])]),p("section",XO,[n[14]||(n[14]=p("div",null,[p("div",{class:"flex flex-col justify-center lg:h-[75rem] relative"},[p("div",{class:"flex flex-col items-end gap-[2rem] lg:absolute -left-[10vw] pr-[4rem]"},[p("h2",{class:"text-white font-heading text-title lg:text-heading text-center lg:text-right w-full pl-[10vw] lg:pl-[12rem]"}," 3 steps to participate "),p("div",{class:"w-full flex justify-start"},[p("div",{class:"w-auto h-auto"},[p("svg",{width:"749",height:"82",viewBox:"0 0 749 82",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full -scale-x-[1]"},[p("path",{d:"M749 0H2.8793C0.9697 0 0.146249 2.42068 1.65973 3.58513L103.039 81.5851C103.389 81.8541 103.818 82 104.259 82H749V0Z",fill:"#FBC151"})])])])])])],-1)),p("div",KO,[p("div",YO,[n[8]||(n[8]=p("div",{class:"relative pt-[calc(6rem)] z-[1]"},[p("svg",{width:"49",height:"45",viewBox:"0 0 49 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full aspect-square"},[p("path",{d:"M34.0532 0.508602L48.3827 19.7613L38.8741 41.7973L15.036 44.5807L0.706578 25.328L10.2152 3.29193L34.0532 0.508602Z",fill:"#FBC151"})])],-1)),p("div",QO,[p("h4",ZO,we((o=N(e).stepsToParticipate[0])==null?void 0:o.title),1),n[7]||(n[7]=p("div",{class:"h-[4px] bg-primary w-full"},null,-1)),p("p",JO,we((l=N(e).stepsToParticipate[0])==null?void 0:l.description),1)])]),p("div",eN,[n[10]||(n[10]=p("div",{class:"relative pt-[calc(6rem)] z-[1]"},[p("svg",{width:"49",height:"45",viewBox:"0 0 49 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full aspect-square"},[p("path",{d:"M34.0532 0.508602L48.3827 19.7613L38.8741 41.7973L15.036 44.5807L0.706578 25.328L10.2152 3.29193L34.0532 0.508602Z",fill:"#FBC151"})])],-1)),p("div",tN,[p("h4",rN,we((u=N(e).stepsToParticipate[1])==null?void 0:u.title),1),n[9]||(n[9]=p("div",{class:"h-[4px] bg-primary w-full"},null,-1)),p("p",iN,we((c=N(e).stepsToParticipate[1])==null?void 0:c.description),1)])]),p("div",sN,[n[12]||(n[12]=p("div",{class:"relative pt-[calc(6rem)] z-[1]"},[p("svg",{width:"49",height:"45",viewBox:"0 0 49 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full aspect-square"},[p("path",{d:"M34.0532 0.508602L48.3827 19.7613L38.8741 41.7973L15.036 44.5807L0.706578 25.328L10.2152 3.29193L34.0532 0.508602Z",fill:"#FBC151"})])],-1)),p("div",nN,[p("h4",aN,we((h=N(e).stepsToParticipate[2])==null?void 0:h.title),1),n[11]||(n[11]=p("div",{class:"h-[4px] bg-primary w-full"},null,-1)),p("p",oN,we((f=N(e).stepsToParticipate[2])==null?void 0:f.description),1)])]),n[13]||(n[13]=p("div",{class:"absolute top-[calc(8rem+2px)] left-[calc(4rem-3px)] lg:left-[calc(2rem-3px)] z-0 w-[6px] h-[calc(54rem+2px)]"},[p("svg",{viewBox:"0 0 6 507",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full"},[p("path",{d:"M3 0V507",stroke:"#FBC151","stroke-width":"5","stroke-dasharray":"6 6"})])],-1))])]),p("section",lN,[n[15]||(n[15]=p("div",null,[p("div",{class:"flex flex-col justify-center h-[45rem] relative w-full"},[p("div",{class:"flex flex-col items-end gap-[2rem] absolute lg:-left-[10vw] pr-[4rem] w-full"},[p("h2",{class:"text-white font-heading text-title lg:text-heading text-center lg:text-right w-full pl-[2rem] lg:pl-[10vw]"}," Our next event: "),p("div",{class:"w-full flex justify-start"},[p("div",null,[p("svg",{width:"469",height:"82",viewBox:"0 0 469 82",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{d:"M0 0H466.793C468.478 0 469.408 1.95593 468.344 3.26264L404.847 81.2626C404.467 81.7292 403.898 82 403.296 82H0V0Z",fill:"#FBC151"})])])])])])],-1)),p("div",uN,[ge(a,{to:(y=N(e).nextEvent)==null?void 0:y.link,class:"w-full h-max lg:h-[45rem] bg-pearl-white rounded-[40px] grid grid-cols-1 md:grid-cols-[5fr_4fr] auto-rows-auto md:grid-rows-[5fr_5fr] cursor-pointer"},{default:Fe(()=>{var E,k,D,P;return[p("div",cN,[p("h4",dN,we((E=N(e).nextEvent)==null?void 0:E.title),1),p("h5",hN,we((k=N(e).nextEvent)==null?void 0:k.edition),1)]),p("div",fN,[p("div",pN,[p("img",{src:(D=N(e).nextEvent)==null?void 0:D.imageSrc,alt:"last event picture",class:"w-full"},null,8,mN)])]),p("div",gN,[p("p",{class:"font-body text-body text-center lg:text-left",innerHTML:N(e).nextEvent&&N(Hi)((P=N(e).nextEvent)==null?void 0:P.description)},null,8,yN)])]}),_:1},8,["to"])])]),p("section",vN,[n[16]||(n[16]=p("div",{class:"w-full flex justify-center"},[p("h3",{class:"font-heading text-subtitle lg:text-heading text-center relative after:absolute after:left-0 after:top-[2rem] lg:after:top-[7.5rem] after:-z-10 after:w-full after:h-[2rem] lg:after:h-[3rem] after:bg-primary after:-skew-x-[30deg] after:scale-x-[1.1] after:translate-x-2 after:-rotate-[2deg]"}," Why Participate? ")],-1)),p("div",bN,[(Y(!0),ae(ct,null,Er(N(e).whyParticipate,(E,k)=>(Y(),ae("div",{key:k,class:"w-full flex flex-col items-start gap-[2rem]","data-aos":"fade-up"},[p("h4",_N," >"+we(E.title),1),p("p",xN,we(E.description),1)]))),128))])]),p("section",wN,[n[29]||(n[29]=p("div",{class:"w-full h-max relative flex justify-center items-center py-[10rem]"},[p("div",{class:"relative h-[10rem] w-full flex justify-center items-center"},[p("div",{class:"w-full absolute top-[2rem] left-0 hidden xl:flex"},[p("svg",{width:"1439",height:"46",viewBox:"0 0 1439 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1439 0.809456L1213.55 9.45089C1213.06 9.46978 1212.59 9.67003 1212.23 10.0132L1194.53 27.1656C1193.22 28.4422 1194.17 30.6707 1196 30.6004L1439 21.2864V0.809456Z",fill:"#FBC151"}),p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 45.4958L265.844 35.3061C266.355 35.2866 266.839 35.0721 267.196 34.7068L283.956 17.5904C285.221 16.2981 284.257 14.1234 282.45 14.1927L0 25.0188V45.4958Z",fill:"#FBC151"})])]),p("h3",{class:"font-heading text-center text-subtitle lg:text-heading text-pearl-white"}," Sponsors of the season ")])],-1)),N(e).mainSponsorExists?(Y(),ae("div",TN,[p("div",SN,[p("h4",CN," Main Sponsor - "+we((w=N(e).mainSponsor)==null?void 0:w.sponsorName),1),p("p",EN,we((_=N(e).mainSponsor)==null?void 0:_.description),1)]),p("div",AN,[p("img",{src:(C=N(e).mainSponsor)==null?void 0:C.logoSrc,alt:"main sponsor logo",class:"w-full max-h-full"},null,8,kN)])])):Ne("",!0),N(e).goldSponsors.length?(Y(),ae(ct,{key:1},[N(e).silverSponsors.length||N(e).bronzeSponsors.length||N(e).mainSponsorExists?(Y(),ae("div",DN,n[17]||(n[17]=[p("div",{class:"absolute left-[70%] md:left-[50%] lg:left-[70%] xl:left-[50%] 2xl:left-auto 2xl:right-0 xl:right-0 top-[43%]"},[p("svg",{width:"782",height:"31",viewBox:"0 0 782 31",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M782 0.926632L45.1191 9.80528C44.8717 9.80826 44.627 9.85712 44.3974 9.94936L2.16181 26.9214C0.107586 27.7469 0.717887 30.8037 2.9316 30.777L782 21.3901V0.926632Z",fill:"#FBC151"})])],-1),p("div",{class:"pl-[2rem] lg:pl-[12rem]"},[p("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Gold Sponsors ")],-1)]))):Ne("",!0),p("div",IN,[p("div",LN,[(Y(!0),ae(ct,null,Er(N(e).goldSponsors,(E,k)=>(Y(),ae("div",{key:k,"data-aos":"fade-left","data-aos-delay":k*50,"data-aos-offset":"20",class:"relative w-[35rem] h-[35rem]"},[n[19]||(n[19]=p("div",{class:"w-full h-full absolute z-[1]"},[p("svg",{width:"485",height:"485",viewBox:"0 0 485 485",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full"},[p("path",{d:"M315.567 73.0906L425.715 221.082L352.624 390.468L169.386 411.863L59.2388 263.872L132.329 94.4854L315.567 73.0906Z",fill:"#FBC151"}),p("path",{d:"M309.567 91.0447L407.668 222.852L342.571 373.714L179.372 392.769L81.2699 260.962L146.367 110.1L309.567 91.0447Z",fill:"#F2F1F0"})])],-1)),p("div",MN,[p("div",RN,[p("div",ON,[p("div",NN,[n[18]||(n[18]=p("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),p("img",{src:E.logoSrc,alt:`${E.sponsorName} logo`,class:"relative z-[4]",style:mi({width:`${E.logoSize}%`,height:`${E.logoSize}%`})},null,12,BN)])])]),p("div",FN,[p("p",UN,we(E.sponsorName),1)])])],8,PN))),128)),n[20]||(n[20]=p("div",{class:"h-[35rem] min-w-[35rem] flex items-center justify-center"},[p("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[st("Here could "),p("br"),st(" be your logo")])],-1))])])],64)):Ne("",!0),N(e).silverSponsors.length?(Y(),ae(ct,{key:2},[n[24]||(n[24]=p("div",{class:"relative w-full h-max py-[12rem] flex justify-end"},[p("div",{class:"absolute right-[70%] md:right-[50%] lg:right-[70%] xl:right-[60%] 2xl:left-0 top-[43%]"},[p("svg",{width:"701",height:"29",viewBox:"0 0 701 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 29.005L658.721 21.0681C658.981 21.065 659.237 21.0114 659.476 20.9102L699.536 3.9644C701.556 3.10981 700.926 0.0961456 698.733 0.122574L0 8.54158V29.005Z",fill:"#FBC151"})])]),p("div",{class:"pr-[2rem] lg:pr-[12rem]"},[p("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Silver Sponsors ")])],-1)),p("div",$N,[p("div",zN,[(Y(!0),ae(ct,null,Er(N(e).silverSponsors,(E,k)=>(Y(),ae("div",{key:k,"data-aos":"fade-left","data-aos-delay":k*50,"data-aos-offset":"20",class:"relative w-[30rem] h-[30rem]"},[n[22]||(n[22]=p("div",{class:"w-full h-full absolute z-[1]"},[p("svg",{width:"372",height:"372",viewBox:"0 0 372 372",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full"},[p("path",{d:"M242.067 56.0666L326.559 169.588L270.492 299.522L129.934 315.933L45.4412 202.412L101.508 72.4782L242.067 56.0666Z",fill:"#757575"}),p("path",{d:"M237.463 69.839L312.715 170.946L262.78 286.67L137.593 301.287L62.3406 200.18L112.276 84.4558L237.463 69.839Z",fill:"#F2F1F0"})])],-1)),p("div",jN,[p("div",HN,[p("div",VN,[p("div",GN,[n[21]||(n[21]=p("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),p("img",{src:E.logoSrc,alt:`${E.sponsorName} logo`,class:"relative z-[4]",style:mi({width:`${E.logoSize}%`,height:`${E.logoSize}%`})},null,12,WN)])])]),p("div",XN,[p("p",KN,we(E.sponsorName),1)])])],8,qN))),128)),n[23]||(n[23]=p("div",{class:"h-[30rem] min-w-[30rem] flex items-center justify-center"},[p("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[st("Here could "),p("br"),st(" be your logo")])],-1))])])],64)):Ne("",!0),N(e).bronzeSponsors.length?(Y(),ae(ct,{key:3},[n[28]||(n[28]=p("div",{class:"relative w-full h-max py-[12rem] overflow-x-hidden"},[p("div",{class:"absolute left-[70%] md:left-[50%] lg:left-[70%] xl:left-[50%] 2xl:left-auto 2xl:right-0 xl:right-0 top-[43%]"},[p("svg",{width:"782",height:"31",viewBox:"0 0 782 31",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M782 0.926632L45.1191 9.80528C44.8717 9.80826 44.627 9.85712 44.3974 9.94936L2.16181 26.9214C0.107586 27.7469 0.717887 30.8037 2.9316 30.777L782 21.3901V0.926632Z",fill:"#FBC151"})])]),p("div",{class:"pl-[2rem] lg:pl-[12rem]"},[p("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Bronze Sponsors ")])],-1)),p("div",YN,[p("div",QN,[(Y(!0),ae(ct,null,Er(N(e).bronzeSponsors,(E,k)=>(Y(),ae("div",{key:k,"data-aos":"fade-left","data-aos-delay":k*50,"data-aos-offset":"20",class:"relative w-[25rem] h-[25rem]"},[n[26]||(n[26]=p("div",{class:"w-full h-full absolute z-[1]"},[p("svg",{width:"293",height:"293",viewBox:"0 0 293 293",fill:"none",xmlns:"http://www.w3.org/2000/svg","preserve-aspect-ratio":"none",class:"w-full h-full"},[p("path",{d:"M190.66 44.16L257.209 133.574L213.049 235.914L102.34 248.84L35.7908 159.426L79.9508 57.0863L190.66 44.16Z",fill:"#CD7F32"}),p("path",{d:"M187.034 55.0074L246.306 134.643L206.975 225.791L108.373 237.304L49.1018 157.668L88.4324 66.5201L187.034 55.0074Z",fill:"#F2F1F0"})])],-1)),p("div",JN,[p("div",eB,[p("div",tB,[p("div",rB,[n[25]||(n[25]=p("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),p("img",{src:E.logoSrc,alt:`${E.sponsorName} logo`,class:"relative z-[4]",style:mi({width:`${E.logoSize}%`,height:`${E.logoSize}%`})},null,12,iB)])])]),p("div",sB,[p("p",nB,we(E.sponsorName),1)])])],8,ZN))),128)),n[27]||(n[27]=p("div",{class:"h-[25rem] min-w-[25rem] flex items-center justify-center"},[p("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[st("Here could "),p("br"),st(" be your logo")])],-1))])])],64)):Ne("",!0)]),p("section",aB,[n[34]||(n[34]=p("div",{class:"w-full flex text-center lg:text-left justify-center lg:justify-start items-center"},[p("h4",{class:"font-heading text-title lg:text-heading text-pearl-white relative z-[2]"},[p("span",{class:"relative z-[2] after:absolute after:left-0 after:top-[4rem] lg:after:top-[8rem] after:-z-[1] after:w-full after:h-[3rem] after:bg-primary after:-skew-x-[30deg] after:scale-x-[1.1] after:translate-x-2 after:-rotate-[2deg]"}," Follow us "),p("br"),st(" on social Media ")])],-1)),p("div",oB,[p("div",lB,[(Y(!0),ae(ct,null,Er(N(e).socialMediaLinks,(E,k)=>(Y(),ae("a",{key:k,href:E.url,class:"aspect-square h-[6rem] lg:h-[10rem] lg:hover:scale-110 lg:hover:rotate-12 transition-all duration-75"},[E.platform=="instagram"?(Y(),ae("svg",cB,n[30]||(n[30]=[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.584 0H91.416C98.3424 0 104 5.69591 104 12.646V91.354C104 98.3145 98.332 104 91.416 104H12.584C5.6576 104 0 98.3041 0 91.354V12.646C0 5.68546 5.668 0 12.584 0ZM11.232 42.8186H21.6216C20.54 45.9853 19.9472 49.3715 19.9472 52.904C19.9472 70.3262 34.2992 84.4458 52 84.4458C69.7008 84.4458 84.0528 70.3262 84.0528 52.904C84.0528 49.382 83.46 45.9853 82.3784 42.8186H92.768V86.6092C92.768 89.7132 90.2408 92.2424 87.1624 92.2424H16.4112C13.5616 92.2424 11.232 89.9013 11.232 87.0377V42.8186ZM75.6496 10.3049H87.724C90.4488 10.3049 92.6848 12.5519 92.6848 15.2901V26.567C92.6848 29.3052 90.4488 31.5522 87.724 31.5522H75.6496C72.9248 31.5522 70.6888 29.3052 70.6888 26.567V15.2901C70.6888 12.5519 72.9248 10.3049 75.6496 10.3049ZM52.0312 30.6848C63.5232 30.6848 72.8416 39.8609 72.8416 51.1691C72.8416 62.4773 63.5232 71.6535 52.0312 71.6535C40.5392 71.6535 31.2208 62.4773 31.2208 51.1691C31.2208 39.8609 40.5392 30.6848 52.0312 30.6848Z",fill:"#FBC151"},null,-1)]))):Ne("",!0),E.platform=="facebook"?(Y(),ae("svg",dB,n[31]||(n[31]=[p("path",{d:"M98.2597 0H5.74031C4.21789 0 2.75782 0.604781 1.6813 1.6813C0.604781 2.75782 0 4.21789 0 5.74031L0 98.2597C0 99.7821 0.604781 101.242 1.6813 102.319C2.75782 103.395 4.21789 104 5.74031 104H55.5547V63.7812H42.0469V48.0391H55.5547V36.4609C55.5547 23.0283 63.7589 15.7137 75.7453 15.7137C81.4836 15.7137 86.4175 16.1403 87.8516 16.3231V30.3611H79.5844C73.0641 30.3611 71.8006 33.4587 71.8006 38.0067V48.0391H87.3884L85.3572 63.7812H71.8006V104H98.2556C99.0098 104.001 99.7567 103.852 100.454 103.564C101.151 103.276 101.784 102.853 102.317 102.32C102.851 101.787 103.274 101.154 103.563 100.457C103.851 99.7606 104 99.0139 104 98.2597V5.74031C104 4.21789 103.395 2.75782 102.319 1.6813C101.242 0.604781 99.7821 0 98.2597 0Z",fill:"#FBC151"},null,-1)]))):Ne("",!0),E.platform=="telegram"?(Y(),ae("svg",hB,n[32]||(n[32]=[p("path",{d:"M6.46107 36.1617C31.6988 24.3084 48.5239 16.4933 56.9364 12.7177C80.9839 1.93636 85.9747 0.0638868 89.2342 0.000562376C89.951 -0.0119458 91.547 0.179093 92.5884 1.08763C93.454 1.85324 93.6974 2.88865 93.8192 3.61489C93.9274 4.34113 94.0762 5.99633 93.9544 7.2884C92.656 22.0466 87.0161 57.86 84.1488 74.3901C82.9451 81.3845 80.5511 83.7294 78.2384 83.9584C73.2071 84.4571 69.393 80.3767 64.524 76.9363C56.9094 71.5507 52.6084 68.1995 45.2103 62.9452C36.6624 56.8727 42.2077 53.5346 47.0767 48.0805C48.3481 46.6528 70.502 24.9312 70.9213 22.961C70.9754 22.7145 71.0295 21.7958 70.5156 21.3116C70.0151 20.826 69.2713 20.9922 68.7303 21.1235C67.9593 21.3101 55.8003 29.9842 32.2127 47.1443C28.7638 49.7022 25.6395 50.949 22.8263 50.8834C19.7426 50.8119 13.7916 48.9992 9.36895 47.4505C3.95894 45.5503 -0.35554 44.5455 0.0231604 41.3183C0.212511 39.6383 2.36299 37.9189 6.46107 36.1617Z",fill:"#FBC151"},null,-1)]))):Ne("",!0),E.platform=="youtube"?(Y(),ae("svg",fB,n[33]||(n[33]=[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M228.172 5.51149C239.215 8.49959 247.841 17.1256 250.829 28.1683C259.284 62.2027 257.331 115.955 250.993 151.303C248.005 162.346 239.379 170.972 228.337 173.96C208.471 179.378 128.515 179.378 128.515 179.378C128.515 179.378 48.56 179.378 28.6943 173.96C17.6517 170.972 9.02562 162.346 6.03753 151.303C-2.46697 117.416 -0.135623 63.631 5.87335 28.3324C8.86144 17.2898 17.4875 8.66377 28.5301 5.67567C48.3958 0.257747 128.351 0.0935669 128.351 0.0935669C128.351 0.0935669 208.307 0.0935669 228.172 5.51149ZM169.232 89.7356L102.903 128.154V51.3176L169.232 89.7356Z",fill:"#FBC151"},null,-1)]))):Ne("",!0)],8,uB))),128))])])])])]}),_:1})}}}),mB=Wa(pB,[["__scopeId","data-v-ae65f0c5"]]),gB={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},yB={class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"},vB={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-pearl-white flex flex-col justify-center py-[5rem]"},bB={class:"w-full grid grid-cols-1 lg:grid-cols-3 auto-rows-auto gap-y-[2rem] lg:gap-x-[2rem] px-[2rem] py-[5rem] overflow-x-hidden"},_B={class:"w-full flex flex-col gap-[1rem] text-screenBlack p-4","data-aos":"fade-left","data-aos-offset":"-50"},xB={class:"w-full aspect-[8/5] overflow-hidden rounded-3xl relative"},wB=["src"],TB={key:0,class:"w-full h-full flex justify-end items-end absolute top-0 left-0 z-[10]"},SB={class:"flex flex-col w-full px-[1rem]"},CB={class:"font-heading text-subtitle lg:text-title relative w-max"},EB={key:0,class:"absolute top-0 right-0 translate-x-[100%] text-body lg:text-subtitle text-[#EE1100]"},AB={class:"flex flex-col w-full px-[1rem] gap-[1rem]"},kB={class:"grid grid-cols-[3rem_1fr] grid-rows-1 w-full gap-[1rem]"},DB={class:"font-body text-text-sm md:text-body text-gray"},IB={class:"grid grid-cols-[3rem_1fr] grid-rows-1 w-full gap-[1rem]"},LB={class:"font-body text-text-sm md:text-body text-gray"},PB=tt({__name:"Events",setup(t){const e=o6();return Ii(e),xn(()=>{(async()=>await e.fetchEvents())()}),(r,i)=>{const s=Zi("RouterLink");return Y(),kt(gs,null,{default:Fe(()=>[p("div",gB,[p("h1",yB,we(N(e).title),1)]),p("div",vB,[p("div",bB,[(Y(!0),ae(ct,null,Er(N(e).events,n=>(Y(),kt(s,{to:`/event/${n.id}`},{default:Fe(()=>[p("div",_B,[p("div",xB,[p("img",{src:n.pictureSrc,alt:"",class:$t("w-full h-full object-cover")},null,8,wB),n.status=="past"?(Y(),ae("div",TB,i[0]||(i[0]=[p("div",{class:"w-full bg-white-100 bg-opacity-70 backdrop-blur-sm flex justify-center items-center px-[2rem]"},[p("span",{class:"font-heading text-subtitle lg:text-title text-screenBlack"}," PAST ")],-1)]))):Ne("",!0)]),p("div",SB,[p("h2",CB,[st(we(n.name)+" ",1),n.status==="ongoing"?(Y(),ae("span",EB," LIVE! ")):Ne("",!0)]),p("h3",{class:$t(`font-heading text-subtitle lg:text-title relative
								${n.status=="past"?"text-gray-300 ":"text-primary"}`)},we(n.edition),3)]),p("div",AB,[p("div",kB,[i[1]||(i[1]=p("div",{class:"flex justify-center items-center w-full"},[p("div",{class:"h-[3rem] aspect-square"},[p("svg",{width:"30",height:"42",viewBox:"0 0 30 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{d:"M15 42L2 22.5L15 27L28 22.5L15 42Z",fill:"#4D4D4D"}),p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30ZM15 23C19.4183 23 23 19.4183 23 15C23 10.5817 19.4183 7 15 7C10.5817 7 7 10.5817 7 15C7 19.4183 10.5817 23 15 23Z",fill:"#4D4D4D"})])])],-1)),p("p",DB,we(n.location),1)]),p("div",IB,[i[2]||(i[2]=p("div",{class:"flex justify-center items-center w-full"},[p("div",{class:"h-[2.5rem] aspect-square"},[p("svg",{width:"31",height:"31",viewBox:"0 0 31 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full w-full"},[p("circle",{cx:"15.0807",cy:"15.0807",r:"14.2581",stroke:"#4D4D4D","stroke-width":"1.64516"}),p("path",{d:"M15.0806 6.85486V15.6291L19.1935 20.0162",stroke:"#4D4D4D","stroke-width":"2.06682"})])])],-1)),p("p",LB,we(n.date),1)])])])]),_:2},1032,["to"]))),256))]),i[3]||(i[3]=p("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] flex justify-center py-[10rem]"},[p("p",{class:"font-body text-body lg:text-subtitle text-center"},[st(" Want to host a competition at your university?"),p("br"),st(" contact us at "),p("a",{href:"mailto:info@integrationbee.at?subject=Competition%20organization%20request",class:"underline"},"info@integrationbee.at")])],-1))]),i[4]||(i[4]=p("div",{class:"w-full flex items-end p-0 h-[7rem] bg-pearl-white"},[p("div",{class:"w-full h-[6rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1))]),_:1})}}}),MB={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},RB={class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"},OB={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-pearl-white flex flex-col justify-center py-[5rem]"},NB=["onClick"],BB={class:"grid md:grid-cols-[1fr_20rem] grid-cols-1 gap-x-[1rem]"},FB={class:"font-semibold"},UB={class:"md:flex flex-wrap text-right text-body hidden"},$B={class:"md:hidden flex"},zB={class:"flex flex-wrap text-right text-body"},qB=["innerHTML"],jB={key:0,class:"w-full max-h-[50rem] overflow-hidden rounded-[1.5rem]"},HB=["src","alt"],VB={key:0,class:"fixed top-0 left-0 w-full h-full bg-black-100 bg-opacity-40 flex justify-center items-center z-[501]"},GB={class:"w-full justify-center overflow-y-auto h-[100vh] px-[2rem] pt-[6rem] lg:pt-0"},WB={class:"w-full min-h-full h-max flex justify-center items-center py-[4rem]"},XB={class:"grid md:grid-cols-[1fr_20rem] grid-cols-1 gap-x-[1rem]"},KB={class:"font-semibold"},YB={class:"md:flex flex-wrap text-right text-body hidden"},QB={class:"md:hidden flex"},ZB={class:"flex flex-wrap text-right text-body"},JB=["innerHTML"],eF={key:0,class:"w-full h-max max-h-[50rem] overflow-hidden rounded-[0.7rem]"},tF=["src","alt"],rF=tt({__name:"News",setup(t){const e=mp(),{commentText:r}=Ii(e);xn(()=>{mp().fetchNews()});const i=Ye(null),s=()=>{i.value=null,document.getElementsByTagName("body")[0].style.overflowY="auto",document.removeEventListener("click",s)},n=a=>{r.value="",i.value=a,document.getElementsByTagName("body")[0].style.overflowY="hidden",document.removeEventListener("click",s),document.addEventListener("click",s)};return Cw("fullScreenInputRef"),(a,o)=>{const l=Zi("MasonryWall");return Y(),kt(gs,null,{default:Fe(()=>[p("div",MB,[p("h1",RB,we(N(e).title),1)]),p("div",OB,[ge(l,{items:N(e).newsItems,"max-columns":2,"column-width":300,gap:16},{default:Fe(({item:u,index:c})=>[p("div",{class:"item bg-white flex flex-col gap-[2rem] p-8 rounded-[2.5rem] text-body font-body cursor-pointer text-screenBlack",onClick:h=>{h.stopPropagation(),n(u)}},[p("div",BB,[p("h2",FB,we(u.title),1),p("p",UB,we(u.date),1)]),p("div",$B,[p("p",zB,we(u.date),1)]),p("div",null,[p("p",{innerHTML:N(Hi)(u.content).split(" ").slice(0,50).join(" ")},null,8,qB),N(Hi)(u.content).split(" ").length>300?(Y(),ae(ct,{key:0},[o[1]||(o[1]=p("br",null,null,-1)),o[2]||(o[2]=p("p",null," Click to see more... ",-1))],64)):Ne("",!0)]),u.pictureSrc?(Y(),ae("div",jB,[p("img",{src:u.pictureSrc,alt:u.pictureAlt,class:"w-full"},null,8,HB)])):Ne("",!0)],8,NB)]),_:1},8,["items"])]),o[4]||(o[4]=p("div",{class:"w-full flex items-end p-0 h-[7rem] bg-pearl-white"},[p("div",{class:"w-full h-[5rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1)),i.value?(Y(),ae("div",VB,[o[3]||(o[3]=p("button",{class:"absolute right-[4rem] top-[4rem] aspect-square w-[2rem] lg:w-[4rem] rounded-full transition-all"},[p("svg",{width:"134",height:"134",viewBox:"0 0 134 134",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("g",{"clip-path":"url(#clip0_286_9)"},[p("rect",{x:"-2.67847",y:"6.51398",width:"13",height:"184.075",rx:"6.5",transform:"rotate(-45 -2.67847 6.51398)",fill:"#F2F1F0"}),p("rect",{x:"127.482",y:"-2.67841",width:"13",height:"184.075",rx:"6.5",transform:"rotate(45 127.482 -2.67841)",fill:"#F2F1F0"})]),p("defs",null,[p("clipPath",{id:"clip0_286_9"},[p("rect",{width:"134",height:"134",fill:"white"})])])])],-1)),p("div",GB,[p("div",WB,[p("div",{class:"item bg-white flex flex-col gap-[2rem] p-8 rounded-[2.5rem] text-body font-body overflow-auto text-screenBlack w-full md:w-[70rem]",onClick:o[0]||(o[0]=u=>{u.stopPropagation()})},[p("div",XB,[p("h2",KB,we(i.value.title),1),p("p",YB,we(i.value.date),1)]),p("div",QB,[p("p",ZB,we(i.value.date),1)]),p("div",null,[p("p",{innerHTML:N(Hi)(i.value.content)},null,8,JB)]),i.value.pictureSrc?(Y(),ae("div",eF,[p("img",{src:i.value.pictureSrc,alt:i.value.pictureAlt,class:"w-full"},null,8,tF)])):Ne("",!0)])])])])):Ne("",!0)]),_:1})}}}),iF=Wa(rF,[["__scopeId","data-v-5440c7c1"]]),sF={class:"w-full h-[50rem] flex justify-between"},nF={class:"w-[70vw] h-full overflow-x-hidden flex"},aF={class:"h-[20rem] aspect-square overflow-hidden rounded-full"},oF=["src"],lF={class:"w-full text-center flex justify-center font-heading text-subtitle"},uF={key:0,class:"w-full text-center flex flex-col items-center font-body text-text-sm font-semibold"},cF=["href"],dF={key:1,class:"w-full text-center flex flex-col items-center font-body text-text-sm font-semibold"},hF=["href"],fF=tt({__name:"ContactsCarousel",props:{teamMembers:{}},setup(t){const e=Ye(0),r=t,{teamMembers:i}=Qi(r),s=qt(()=>i.value.length),n=()=>{e.value<s.value-1&&(e.value+=1)},a=()=>{e.value>0&&(e.value-=1)};return(o,l)=>(Y(),ae("div",sF,[p("div",{class:"h-full flex items-center justify-center w-[4rem]"},[p("button",{class:"w-full aspect-square",onClick:a},l[0]||(l[0]=[p("svg",{width:"22",height:"41",viewBox:"0 0 22 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full -scale-x-100"},[p("path",{d:"M2 1L19.5 20.5L2 39",stroke:"#FBC151","stroke-width":"3"})],-1)]))]),p("div",nF,[p("div",{class:"h-full w-max flex transition-transform duration-300",style:mi({transform:`translateX(-${e.value*70}vw)`})},[(Y(!0),ae(ct,null,Er(N(i),(u,c)=>(Y(),ae("div",{key:c,class:"w-[70vw] flex flex-col items-center gap-[2rem]"},[p("div",aF,[p("img",{src:u.imageSrc,alt:"",class:"w-full h-full"},null,8,oF)]),p("div",lF,[p("p",null,we(u.name),1)]),u.tel?(Y(),ae("div",uF,[l[1]||(l[1]=p("p",null,"tel.",-1)),p("a",{href:"tel:"+u.tel.split(" ").join("")},we(u.tel),9,cF)])):Ne("",!0),u.email?(Y(),ae("div",dF,[l[2]||(l[2]=p("p",null,"email",-1)),p("a",{href:"mailto:"+u.email.split(" ").join("")},we(u.email),9,hF)])):Ne("",!0)]))),128))],4)]),p("div",{class:"h-full flex items-center justify-center w-[4rem]"},[p("button",{class:"w-full aspect-square",onClick:n},l[3]||(l[3]=[p("svg",{width:"22",height:"41",viewBox:"0 0 22 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{d:"M2 1L19.5 20.5L2 39",stroke:"#FBC151","stroke-width":"3"})],-1)]))])]))}}),pF={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},mF={class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"},gF={class:"w-full py-[5rem] bg-pearl-white flex flex-col gap-[5rem] text-screenBlack font-body"},yF={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] flex flex-col gap-[2rem]"},vF={class:"text-center lg:text-left w-full text-body"},bF={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] flex flex-col gap-[2rem]"},_F={class:"text-center lg:text-left w-full text-body flex flex-col items-center lg:items-start"},xF={class:"flex flex-col md:flex-row gap-[1rem]"},wF=["href"],TF={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] hidden lg:flex flex-col gap-[2rem]"},SF={class:"h-full aspect-square"},CF=["src","alt"],EF={class:"h-full flex-1 flex flex-col justify-between p-[2rem] text-screenBlack text-body"},AF={class:"flex flex-col"},kF={class:"font-heading text-subtitle"},DF={class:"font-heading text-primary"},IF={class:"flex flex-col"},LF={key:0,class:"flex gap-[1rem]"},PF=["href"],MF={key:1,class:"flex gap-[1rem]"},RF=["href"],OF={class:"w-full h-max px-[2rem] lg:px-[12rem] xl:px-[10vw] flex lg:hidden gap-[2rem]"},NF=tt({__name:"Contact",setup(t){const e=a6();return(r,i)=>(Y(),kt(gs,null,{default:Fe(()=>[p("div",pF,[p("h1",mF,we(N(e).title),1)]),p("div",gF,[p("section",yF,[i[0]||(i[0]=p("h2",{class:"font-heading text-title flex justify-center lg:justify-start w-full"},"About us",-1)),p("p",vF,we(N(e).aboutUsText),1)]),p("section",bF,[i[3]||(i[3]=p("h2",{class:"font-heading text-title flex justify-center lg:justify-start w-full"}," Contact us ",-1)),p("div",_F,[i[2]||(i[2]=p("p",null,"General Inqueries:",-1)),p("div",xF,[i[1]||(i[1]=p("p",{class:"font-semibold"}," email: ",-1)),p("a",{href:`mailto:${N(e).generalInqueriesEmail}`,class:"underline"},we(N(e).generalInqueriesEmail),9,wF)])])]),p("section",TF,[(Y(!0),ae(ct,null,Er(N(e).teamMembers,(s,n)=>(Y(),ae("div",{key:n,class:"w-full h-[22rem] bg-white-100 overflow-hidden rounded-3xl flex flex-row"},[p("div",SF,[p("img",{src:s.imageSrc,alt:`photo of ${s.name}`,class:"w-full h-full"},null,8,CF)]),p("div",EF,[p("div",AF,[p("p",kF,we(s.name),1),p("p",DF,we(s.role),1)]),p("div",IF,[s.tel?(Y(),ae("div",LF,[i[4]||(i[4]=p("p",{class:"font-semibold"}," tel: ",-1)),p("a",{href:"tel:"+s.tel.split(" ").join(""),class:""},we(s.tel),9,PF)])):Ne("",!0),s.email?(Y(),ae("div",MF,[i[5]||(i[5]=p("p",{class:"font-semibold"}," email: ",-1)),p("a",{href:"mailto:"+s.email.split(" ").join("")},we(s.email),9,RF)])):Ne("",!0)])])]))),128))]),p("section",OF,[ge(fF,{teamMembers:N(e).teamMembers},null,8,["teamMembers"])])]),i[6]||(i[6]=p("div",{class:"w-full flex items-end leading-[0] p-0 h-[7rem] bg-pearl-white border-b-screenBlack"},[p("div",{class:"w-full h-[5rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1))]),_:1}))}}),BF="modulepreload",FF=function(t){return"/"+t},t3={},Os=function(e,r,i){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=FF(l),l in t3)return;t3[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":BF,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function n(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&n(o.reason);return e().catch(n)})},r3=(t,e)=>{for(const r of Object.keys(e))t.on(r,e[r])},M7=t=>{for(const e of Object.keys(t)){const r=t[e];r&&Vn(r.cancel)&&r.cancel()}},UF=t=>!t||typeof t.charAt!="function"?t:t.charAt(0).toUpperCase()+t.slice(1),Vn=t=>typeof t=="function",cl=(t,e,r)=>{for(const i in r){const s="set"+UF(i);t[s]?ls(()=>r[i],(n,a)=>{t[s](n,a)}):e[s]&&ls(()=>r[i],n=>{e[s](n)})}},Ya=(t,e,r={})=>{const i={...r};for(const s in t){const n=e[s],a=t[s];n&&(n&&n.custom===!0||a!==void 0&&(i[s]=a))}return i},Zu=t=>{const e={},r={};for(const i in t)if(i.startsWith("on")&&!i.startsWith("onUpdate")&&i!=="onReady"){const s=i.slice(2).toLocaleLowerCase();e[s]=t[i]}else r[i]=t[i];return{listeners:e,attrs:r}},$F=async t=>{const e=await Promise.all([Os(()=>import("./marker-icon-2x-D4k_ikNW.js"),[]),Os(()=>import("./marker-icon-C2eJqgqv.js"),[]),Os(()=>import("./marker-shadow-DU6CIJ0p.js"),[])]);delete t.Default.prototype._getIconUrl,t.Default.mergeOptions({iconRetinaUrl:e[0].default,iconUrl:e[1].default,shadowUrl:e[2].default})},Jc=t=>{const e=Ye((...i)=>console.warn(`Method ${t} has been invoked without being replaced`)),r=(...i)=>e.value(...i);return r.wrapped=e,Ai(t,r),r},e0=(t,e)=>t.wrapped.value=e,Wn=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||globalThis,un=t=>{const e=Dr(t);if(e===void 0)throw new Error(`Attempt to inject ${t.description} before it was provided.`);return e},dl=Symbol("useGlobalLeaflet"),Ju=Symbol("addLayer"),R7=Symbol("removeLayer"),O7=Symbol("registerControl"),zF=Symbol("registerLayerControl"),N7=Symbol("canSetParentHtml"),B7=Symbol("setParentHtml"),F7=Symbol("setIcon"),qF=Symbol("bindPopup"),jF=Symbol("bindTooltip"),HF=Symbol("unbindPopup"),VF=Symbol("unbindTooltip"),ec={options:{type:Object,default:()=>({}),custom:!0}},ah=t=>({options:t.options,methods:{}}),hl={...ec,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},U7=(t,e,r)=>{const i=un(Ju),s=un(R7),{options:n,methods:a}=ah(t),o=Ya(t,hl,n),l=()=>i({leafletObject:e.value}),u=()=>s({leafletObject:e.value}),c={...a,setAttribution(h){u(),e.value.options.attribution=h,t.visible&&l()},setName(){u(),t.visible&&l()},setLayerType(){u(),t.visible&&l()},setVisible(h){e.value&&(h?l():u())},bindPopup(h){if(!e.value||!Vn(e.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}e.value.bindPopup(h)},bindTooltip(h){if(!e.value||!Vn(e.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}e.value.bindTooltip(h)},unbindTooltip(){e.value&&(Vn(e.value.closeTooltip)&&e.value.closeTooltip(),Vn(e.value.unbindTooltip)&&e.value.unbindTooltip())},unbindPopup(){e.value&&(Vn(e.value.closePopup)&&e.value.closePopup(),Vn(e.value.unbindPopup)&&e.value.unbindPopup())},updateVisibleProp(h){r.emit("update:visible",h)}};return Ai(qF,c.bindPopup),Ai(jF,c.bindTooltip),Ai(HF,c.unbindPopup),Ai(VF,c.unbindTooltip),sa(()=>{c.unbindPopup(),c.unbindTooltip(),u()}),{options:o,methods:c}},GF=(t,e)=>{if(t&&e.default)return wn("div",{style:{display:"none"}},e.default())},WF={...hl,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},$7={...WF,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},XF={...$7,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}};({...XF});const fl={...ec,position:{type:String}},KF=(t,e)=>{const{options:r,methods:i}=ah(t),s=Ya(t,fl,r),n={...i,setPosition(a){e.value&&e.value.setPosition(a)}};return sa(()=>{e.value&&e.value.remove()}),{options:s,methods:n}},YF=t=>t.default?wn("div",{ref:"root"},t.default()):null;({...fl});({...fl});({...fl});({...fl});({...fl});const z7={...hl};({...z7});({...z7});const F1={...hl,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number},className:{type:String}},q7=(t,e,r)=>{const{options:i,methods:s}=U7(t,e,r),n=Ya(t,F1,i),a={...s,setTileComponent(){var o;(o=e.value)==null||o.redraw()}};return sa(()=>{e.value.off()}),{options:n,methods:a}},QF=(t,e,r,i)=>t.extend({initialize(s){this.tileComponents={},this.on("tileunload",this._unloadTile),r.setOptions(this,s)},createTile(s){const n=this._tileCoordsToKey(s);this.tileComponents[n]=e.create("div");const a=wn({setup:i,props:["coords"]},{coords:s});return oS(a,this.tileComponents[n]),this.tileComponents[n]},_unloadTile(s){const n=this._tileCoordsToKey(s.coords);this.tileComponents[n]&&(this.tileComponents[n].innerHTML="",this.tileComponents[n]=void 0)}});({...F1});const i3={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}},ZF=tt({name:"LIcon",props:{...i3,...ec},setup(t,e){const r=Ye(),i=Dr(dl),s=un(N7),n=un(B7),a=un(F7);let o,l,u,c,h;const f=(C,E,k)=>{const D=C&&C.innerHTML;if(!E){k&&h&&s()&&n(D);return}const{listeners:P}=Zu(e.attrs);h&&l(h,P);const{options:L}=ah(t),U=Ya(t,i3,L);D&&(U.html=D),h=U.html?u(U):c(U),o(h,P),a(h)},y=()=>{fs(()=>f(r.value,!0,!1))},w=()=>{fs(()=>f(r.value,!1,!0))},_={setIconUrl:y,setIconRetinaUrl:y,setIconSize:y,setIconAnchor:y,setPopupAnchor:y,setTooltipAnchor:y,setShadowUrl:y,setShadowRetinaUrl:y,setShadowAnchor:y,setBgPos:y,setClassName:y,setHtml:y};return Rr(async()=>{const{DomEvent:C,divIcon:E,icon:k}=i?Wn.L:await Os(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);o=C.on,l=C.off,u=E,c=k,cl(_,{},t),new MutationObserver(w).observe(r.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),y()}),{root:r}},render(){const t=this.$slots.default?this.$slots.default():void 0;return wn("div",{ref:"root"},t)}});({...hl});function j7(t,e,r){var i,s,n;e===void 0&&(e=50),r===void 0&&(r={});var a=(i=r.isImmediate)!=null&&i,o=(s=r.callback)!=null&&s,l=r.maxWait,u=Date.now(),c=[];function h(){if(l!==void 0){var y=Date.now()-u;if(y+e>=l)return l-y}return e}var f=function(){var y=[].slice.call(arguments),w=this;return new Promise(function(_,C){var E=a&&n===void 0;if(n!==void 0&&clearTimeout(n),n=setTimeout(function(){if(n=void 0,u=Date.now(),!a){var D=t.apply(w,y);o&&o(D),c.forEach(function(P){return(0,P.resolve)(D)}),c=[]}},h()),E){var k=t.apply(w,y);return o&&o(k),_(k)}c.push({resolve:_,reject:C})})};return f.cancel=function(y){n!==void 0&&clearTimeout(n),c.forEach(function(w){return(0,w.reject)(y)}),c=[]},f}const s3={...ec,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},JF=tt({inheritAttrs:!1,emits:["ready","update:zoom","update:center","update:bounds"],props:s3,setup(t,e){const r=Ye(),i=Zo({ready:!1,layersToAdd:[],layersInControl:[]}),{options:s}=ah(t),n=Ya(t,s3,s),{listeners:a,attrs:o}=Zu(e.attrs),l=Jc(Ju),u=Jc(R7),c=Jc(O7),h=Jc(zF);Ai(dl,t.useGlobalLeaflet);const f=qt(()=>{const E={};return t.noBlockingAnimations&&(E.animate=!1),E}),y=qt(()=>{const E=f.value;return t.padding&&(E.padding=t.padding),t.paddingTopLeft&&(E.paddingTopLeft=t.paddingTopLeft),t.paddingBottomRight&&(E.paddingBottomRight=t.paddingBottomRight),E}),w={moveend:j7(E=>{i.leafletRef&&(e.emit("update:zoom",i.leafletRef.getZoom()),e.emit("update:center",i.leafletRef.getCenter()),e.emit("update:bounds",i.leafletRef.getBounds()))}),overlayadd(E){const k=i.layersInControl.find(D=>D.name===E.name);k&&k.updateVisibleProp(!0)},overlayremove(E){const k=i.layersInControl.find(D=>D.name===E.name);k&&k.updateVisibleProp(!1)}};Rr(async()=>{t.useGlobalLeaflet&&(Wn.L=Wn.L||await Os(()=>import("./leaflet-src-C3FKy0de.js").then(H=>H.l),[]));const{map:E,CRS:k,Icon:D,latLngBounds:P,latLng:L,stamp:U}=t.useGlobalLeaflet?Wn.L:await Os(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);try{n.beforeMapMount&&await n.beforeMapMount()}catch(H){console.error(`The following error occurred running the provided beforeMapMount hook ${H.message}`)}await $F(D);const J=typeof n.crs=="string"?k[n.crs]:n.crs;n.crs=J||k.EPSG3857;const X={addLayer(H){H.layerType!==void 0&&(i.layerControl===void 0?i.layersToAdd.push(H):i.layersInControl.find(re=>U(re.leafletObject)===U(H.leafletObject))||(i.layerControl.addLayer(H),i.layersInControl.push(H))),H.visible!==!1&&i.leafletRef.addLayer(H.leafletObject)},removeLayer(H){H.layerType!==void 0&&(i.layerControl===void 0?i.layersToAdd=i.layersToAdd.filter(re=>re.name!==H.name):(i.layerControl.removeLayer(H.leafletObject),i.layersInControl=i.layersInControl.filter(re=>U(re.leafletObject)!==U(H.leafletObject)))),i.leafletRef.removeLayer(H.leafletObject)},registerLayerControl(H){i.layerControl=H,i.layersToAdd.forEach(re=>{i.layerControl.addLayer(re)}),i.layersToAdd=[],c(H)},registerControl(H){i.leafletRef.addControl(H.leafletObject)},setZoom(H){const re=i.leafletRef.getZoom();H!==re&&i.leafletRef.setZoom(H,f.value)},setCrs(H){const re=i.leafletRef.getBounds();i.leafletRef.options.crs=H,i.leafletRef.fitBounds(re,{animate:!1,padding:[0,0]})},fitBounds(H){i.leafletRef.fitBounds(H,y.value)},setBounds(H){if(!H)return;const re=P(H);re.isValid()&&!(i.lastSetBounds||i.leafletRef.getBounds()).equals(re,0)&&(i.lastSetBounds=re,i.leafletRef.fitBounds(re))},setCenter(H){if(H==null)return;const re=L(H),Z=i.lastSetCenter||i.leafletRef.getCenter();(Z.lat!==re.lat||Z.lng!==re.lng)&&(i.lastSetCenter=re,i.leafletRef.panTo(re,f.value))}};e0(l,X.addLayer),e0(u,X.removeLayer),e0(c,X.registerControl),e0(h,X.registerLayerControl),i.leafletRef=ia(E(r.value,n)),cl(X,i.leafletRef,t),r3(i.leafletRef,w),r3(i.leafletRef,a),i.ready=!0,fs(()=>e.emit("ready",i.leafletRef))}),Jo(()=>{M7(w),i.leafletRef&&(i.leafletRef.off(),i.leafletRef.remove())});const _=qt(()=>i.leafletRef),C=qt(()=>i.ready);return{root:r,ready:C,leafletObject:_,attrs:o}},render({attrs:t}){return t.style||(t.style={}),t.style.width||(t.style.width="100%"),t.style.height||(t.style.height="100%"),wn("div",{...t,ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),eU=["Symbol(Comment)","Symbol(Text)"],tU=["LTooltip","LPopup"],H7={...hl,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},rU=(t,e,r)=>{const{options:i,methods:s}=U7(t,e,r),n=Ya(t,H7,i),a={...s,setDraggable(o){e.value.dragging&&(o?e.value.dragging.enable():e.value.dragging.disable())},latLngSync(o){r.emit("update:latLng",o.latlng),r.emit("update:lat-lng",o.latlng)},setLatLng(o){if(o!=null&&e.value){const l=e.value.getLatLng();(!l||!l.equals(o))&&e.value.setLatLng(o)}}};return{options:n,methods:a}},iU=(t,e)=>{const r=e.slots.default&&e.slots.default();return r&&r.length&&r.some(sU)};function sU(t){return!(eU.includes(t.type.toString())||tU.includes(t.type.name))}const nU=tt({name:"LMarker",props:H7,setup(t,e){const r=Ye(),i=Ye(!1),s=Dr(dl),n=un(Ju);Ai(N7,()=>{var u;return!!((u=r.value)!=null&&u.getElement())}),Ai(B7,u=>{var c,h;const f=Vn((c=r.value)==null?void 0:c.getElement)&&((h=r.value)==null?void 0:h.getElement());f&&(f.innerHTML=u)}),Ai(F7,u=>{var c;return((c=r.value)==null?void 0:c.setIcon)&&r.value.setIcon(u)});const{options:a,methods:o}=rU(t,r,e),l={moveHandler:j7(o.latLngSync)};return Rr(async()=>{const{marker:u,divIcon:c}=s?Wn.L:await Os(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);iU(a,e)&&(a.icon=c({className:""})),r.value=ia(u(t.latLng,a));const{listeners:h}=Zu(e.attrs);r.value.on(h),r.value.on("move",l.moveHandler),cl(o,r.value,t),n({...t,...o,leafletObject:r.value}),i.value=!0,fs(()=>e.emit("ready",r.value))}),Jo(()=>M7(l)),{ready:i,leafletObject:r}},render(){return GF(this.ready,this.$slots)}}),aU={...$7,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},n3={...aU},V7={...ec,content:{type:String,default:null}};({...V7});({...n3,latLngs:{...n3.latLngs}});const U1={...F1,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:t=>typeof t=="string"?!0:Array.isArray(t)?t.every(e=>typeof e=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},oU=(t,e,r)=>{const{options:i,methods:s}=q7(t,e,r),n=Ya(t,U1,i),a={...s};return{options:n,methods:a}},lU=tt({props:U1,setup(t,e){const r=Ye(),i=Dr(dl),s=un(Ju),{options:n,methods:a}=oU(t,r,e);return Rr(async()=>{const{tileLayer:o}=i?Wn.L:await Os(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);r.value=ia(o(t.url,n));const{listeners:l}=Zu(e.attrs);r.value.on(l),cl(a,r.value,t),s({...t,...a,leafletObject:r.value}),fs(()=>e.emit("ready",r.value))}),{leafletObject:r}},render(){return null}});({...V7});({...U1});const oh=ai("eventPageStore",{state:()=>({competitionId:null,competitionName:"",edition:"",description:"",eventPictureSrc:"",mainSponsorExists:!1,mainSponsor:{sponsorName:"",description:"",logoSrc:""},goldSponsors:[],silverSponsors:[],bronzeSponsors:[],sections:[],participatePanel:{zoom:12,coordinates:[0,0],isRegistrationOpen:!1,participantsCount:0,location:"",locationMapsUrl:"",date:""},tournamentBracket:{eightFinals:[{id:1,participant1:"",participant2:""},{id:2,participant1:"",participant2:""},{id:3,participant1:"",participant2:""},{id:4,participant1:"",participant2:""},{id:5,participant1:"",participant2:""},{id:6,participant1:"",participant2:""},{id:7,participant1:"",participant2:""},{id:8,participant1:"",participant2:""}],quarterfinals:[{id:9,participant1:"",participant2:""},{id:10,participant1:"",participant2:""},{id:11,participant1:"",participant2:""},{id:12,participant1:"",participant2:""}],semifinals:[{id:13,participant1:"",participant2:""},{id:14,participant1:"",participant2:""}],finals:[{id:15,participant1:"",participant2:""}]},loading:!1}),actions:{async fetchEventData(t){this.loading=!0;const e=Ct();try{const i=(await si.get(`/cms/pages/${t}/`)).data;this.competitionId=i.competition.id,this.competitionName=i.title,this.edition=i.edition,this.description=i.description,this.eventPictureSrc=i.picture.meta.download_url;const s=async n=>{const a=i.sponsors.filter(o=>o.value.sponsor_tier===n).map(async o=>({sponsorName:o.value.sponsor_name,logoSrc:await Rm(o.value.sponsor_logo),logoSize:o.value.sponsor_logo_size,...n==="main"?{description:o.value.sponsor_description}:{}}));return Promise.all(a)};this.mainSponsorExists=!!i.sponsors.find(n=>n.value.sponsor_tier=="main"),this.mainSponsor=this.mainSponsorExists&&(await s("main"))[0]||null,this.goldSponsors=await s("gold"),this.silverSponsors=await s("silver"),this.bronzeSponsors=await s("bronze"),this.sections=i.sections.map(n=>({title:n.value.title,text:n.value.body})),this.participatePanel={zoom:12,coordinates:[i.latitude,i.longitude],isRegistrationOpen:!i.competition.close_registration,reasonRegistrationClosed:i.competition.close_registration,participantsCount:i.competition.users_count,date:Cu(i.competition.event_date_start)+"<br>"+Cu(i.competition.event_date_end),location:i.place,locationMapsUrl:`https://www.google.com/maps/dir//${i.latitude},${i.longitude}`},i.competition.rounds.length&&(this.tournamentBracket.eightFinals=i.competition.rounds.find(n=>n.name==="1/8 Finals").matches.sort((n,a)=>n.sort_order-a.sort_order).map(n=>({id:n.id,participant1:n.player1,participant2:n.player2,winner:n.winner})),this.tournamentBracket.quarterfinals=i.competition.rounds.find(n=>n.name==="Quarterfinals").matches.sort((n,a)=>n.sort_order-a.sort_order).map(n=>({id:n.id,participant1:n.player1,participant2:n.player2,winner:n.winner})),this.tournamentBracket.semifinals=i.competition.rounds.find(n=>n.name==="Semifinals").matches.sort((n,a)=>n.sort_order-a.sort_order).map(n=>({id:n.id,participant1:n.player1,participant2:n.player2,winner:n.winner})),this.tournamentBracket.finals=i.competition.rounds.find(n=>n.name==="Finals").matches.sort((n,a)=>n.sort_order-a.sort_order).map(n=>({id:n.id,participant1:n.player1,participant2:n.player2,winner:n.winner})))}catch{e.addToast({type:"error",title:"Error has occured",message:"could not fetch infos about this event"})}finally{this.loading=!1}},async deregisterParticipant(){try{await qi.patch(`/competition/${this.competitionId}/`,{action:"unregister"}),Ct().addToast({type:"success",title:"Success",message:"Your participation was successfully cancelled!"})}catch{Ct().addToast({type:"error",title:"Error has occured",message:"could not deregister"})}}}}),uU={class:"flex flex-col gap-[2rem]"},cU={key:0,class:"w-full h-[20rem] overflow-hidden rounded-xl hidden lg:flex z-[2]"},dU={class:"w-full grid grid-cols-[4rem_1fr]"},hU=["innerHTML"],fU={class:"w-full grid grid-cols-[4rem_1fr] max-w-full"},pU=["href","innerHTML"],mU={key:1,class:"w-full flex justify-center items-center"},gU={class:"text-body font-body text-gray-400"},yU={class:"w-full flex justify-center items-center"},vU=["title"],bU=["title"],_U={class:"w-full flex justify-center items-center"},xU={class:"text-body font-body"},wU=tt({__name:"CompetitionParticipatePanel",props:{data:{}},emits:["showParticipationForm"],setup(t,{emit:e}){const r=t,{data:i}=Qi(r),s=oh(),{competitionId:n}=Ii(s),{deregisterParticipant:a,fetchEventData:o}=s,{getProfileData:l}=ri(),{competitions:u,isAuthenticated:c}=Ii(ri()),h=Ye(i.value.zoom),f=e,y=qt(()=>u.value.find(_=>_.id==n.value)),w=async()=>{confirm("Are you sure you want to cancel your participation?")&&(await a(),await l())};return(_,C)=>(Y(),ae("div",uU,[N(i).coordinates[0]!==0||N(i).coordinates[1]!==0?(Y(),ae("div",cU,[ge(N(JF),{"use-global-leaflet":!1,class:"h-full w-full",ref:"map",modelValue:h.value,"onUpdate:modelValue":C[0]||(C[0]=E=>h.value=E),zoom:h.value,"onUpdate:zoom":C[1]||(C[1]=E=>h.value=E),center:N(i).coordinates},{default:Fe(()=>[ge(N(lU),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png","layer-type":"base",name:"OpenStreetMap"}),ge(N(nU),{"lat-lng":N(i).coordinates},{default:Fe(()=>[ge(N(ZF),{"icon-size":[0,0],"icon-anchor":[25,50],class:"bg-transparent"},{default:Fe(()=>C[3]||(C[3]=[p("img",{src:"https://i.postimg.cc/3RJGQqj2/location-Marker.png"},null,-1)])),_:1})]),_:1},8,["lat-lng"])]),_:1},8,["modelValue","zoom","center"])])):Ne("",!0),p("div",dU,[C[4]||(C[4]=qa('<div class="flex justify-center items-start pt-[0.2rem] w-full"><div class="h-[3rem] aspect-square"><svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-full w-full"><circle cx="15.0807" cy="15.0807" r="14.2581" stroke="#4D4D4D" stroke-width="1.64516"></circle><path d="M15.0806 6.85486V15.6291L19.1935 20.0162" stroke="#4D4D4D" stroke-width="2.06682"></path></svg></div></div>',1)),p("p",{class:"font-body text-body lg:text-text-sm text-gray",innerHTML:N(Hi)(N(i).date)},null,8,hU)]),p("div",fU,[C[5]||(C[5]=qa('<div class="flex justify-center items-start w-full"><div class="h-[4rem] aspect-square"><svg width="30" height="42" viewBox="0 0 30 42" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full"><path d="M15 42L2 22.5L15 27L28 22.5L15 42Z" fill="#4D4D4D"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30ZM15 23C19.4183 23 23 19.4183 23 15C23 10.5817 19.4183 7 15 7C10.5817 7 7 10.5817 7 15C7 19.4183 10.5817 23 15 23Z" fill="#4D4D4D"></path></svg></div></div>',1)),p("a",{href:N(i).locationMapsUrl,target:"_blank",class:"font-body text-body lg:text-text-sm text-gray max-w-full lg:hover:underline",innerHTML:N(Hi)(N(i).location)},null,8,pU)]),N(i).isRegistrationOpen?Ne("",!0):(Y(),ae("div",mU,[p("p",gU,we(N(i).reasonRegistrationClosed),1)])),p("div",yU,[!y.value||!N(c)?(Y(),ae("button",{key:0,class:$t({"overflow-hidden rounded-[20px] font-heading text-title  px-[4rem] pt-[0.6rem] pb-[0.4rem] relative ":!0,"bg-gray-100 text-gray-400 cursor-default":!N(i).isRegistrationOpen,"bg-primary border-primary border-4 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:hidden lg:after:flex after:bg-pearl-white lg:hover:after:scale-y-0 after:transition-transform after:duration-200 after:will-change-transform after:origin-top":N(i).isRegistrationOpen}),title:N(i).isRegistrationOpen?"take part":"registration isn't open",onClick:C[2]||(C[2]=()=>N(i).isRegistrationOpen&&f("showParticipationForm"))},C[6]||(C[6]=[p("span",{class:"relative z-[2]"}," Participate ",-1)]),10,vU)):(Y(),ae("button",{key:1,class:$t({"overflow-hidden rounded-[20px] font-heading text-title  px-[4rem] pt-[0.6rem] pb-[0.4rem] relative ":!0,"bg-gray-100 text-gray-400 cursor-default":!N(i).isRegistrationOpen,"bg-red border-red border-4 text-pearl-white lg:hover:text-screenBlack":N(i).isRegistrationOpen}),title:N(i).isRegistrationOpen?"cancel participation":"deregistration is closed",onClick:w},C[7]||(C[7]=[p("span",{class:"relative z-[2]"}," Cancel ",-1)]),10,bU))]),p("div",_U,[p("p",xU," Participants: "+we(N(i).participantsCount),1)])]))}}),TU=["data-aos-delay"],SU={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},CU={class:"relative w-full h-full"},EU={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},AU={class:"relative h-full aspect-square flex justify-center items-center"},kU=["src","alt"],DU={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},IU={class:"font-heading text-subtitle lg:text-subtitle text-screenBlack"},LU=tt({__name:"GoldSponsorLogo",props:{logoSrc:{type:String},sponsorName:{type:String},index:{type:Number,required:!0},logoSize:{type:Number,required:!0}},setup(t){return(e,r)=>(Y(),ae("div",{"data-aos":"fade-left","data-aos-delay":t.index*50,"data-aos-offset":"20",class:"relative w-[35rem] h-[35rem]"},[r[1]||(r[1]=p("div",{class:"w-full h-full absolute z-[1]"},[p("svg",{width:"485",height:"485",viewBox:"0 0 485 485",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full"},[p("path",{d:"M315.567 73.0906L425.715 221.082L352.624 390.468L169.386 411.863L59.2388 263.872L132.329 94.4854L315.567 73.0906Z",fill:"#FBC151"}),p("path",{d:"M309.567 91.0447L407.668 222.852L342.571 373.714L179.372 392.769L81.2699 260.962L146.367 110.1L309.567 91.0447Z",fill:"#F2F1F0"})])],-1)),p("div",SU,[p("div",CU,[p("div",EU,[p("div",AU,[r[0]||(r[0]=p("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),p("img",{src:t.logoSrc,alt:`${t.sponsorName} logo`,class:"relative z-[4]",style:mi({width:`${t.logoSize}%`,height:`${t.logoSize}%`})},null,12,kU)])])]),p("div",DU,[p("p",IU,we(t.sponsorName),1)])])],8,TU))}}),PU={class:"row-span-4 col-span-4 grid grid-cols-1 grid-rows-3 text-text-xs lg:text-text-sm"},MU={class:"flex justify-center items-center text-center border-b-2 border-screenBlack whitespace-nowrap"},RU={class:"flex justify-center items-center text-center border-t-2 border-screenBlack whitespace-nowrap"},Gr=tt({__name:"TournamentBracketItem",props:{participant1:String,participant2:String},setup(t){return(e,r)=>(Y(),ae("div",PU,[p("p",MU,we(t.participant1),1),r[0]||(r[0]=p("div",{class:"flex justify-center items-center"},[p("p",{class:"font-heading"},"vs")],-1)),p("p",RU,we(t.participant2),1)]))}}),OU={class:"grid grid-cols-[repeat(42,1fr)] grid-rows-[repeat(28,1fr)] aspect-[42/28] font-body text-screenBlack"},NU=tt({__name:"TournamentBracket",props:{data:{}},setup(t){const e=t,{data:r}=Qi(e);return(i,s)=>(Y(),ae("div",OU,[ge(Gr,{class:"col-start-1 row-start-1",participant1:N(r).eightFinals[0].participant1,participant2:N(r).eightFinals[0].participant2},null,8,["participant1","participant2"]),s[0]||(s[0]=p("div",{class:"row-start-[3] col-start-[5] row-span-2 col-span-4 border-t-2 border-r-2 border-screenBlack"},null,-1)),s[1]||(s[1]=p("div",{class:"row-start-[9] col-start-[5] row-span-2 col-span-4 border-b-2 border-r-2 border-screenBlack"},null,-1)),ge(Gr,{class:"col-start-1 row-start-9",participant1:N(r).eightFinals[1].participant1,participant2:N(r).eightFinals[1].participant2},null,8,["participant1","participant2"]),ge(Gr,{class:"col-start-1 row-start-[17]",participant1:N(r).eightFinals[2].participant1,participant2:N(r).eightFinals[2].participant2},null,8,["participant1","participant2"]),s[2]||(s[2]=p("div",{class:"row-start-[19] col-start-[5] row-span-2 col-span-4 border-t-2 border-r-2 border-screenBlack"},null,-1)),s[3]||(s[3]=p("div",{class:"row-start-[25] col-start-[5] row-span-2 col-span-4 border-b-2 border-r-2 border-screenBlack"},null,-1)),ge(Gr,{class:"col-start-1 row-start-[25]",participant1:N(r).eightFinals[3].participant1,participant2:N(r).eightFinals[3].participant2},null,8,["participant1","participant2"]),ge(Gr,{class:"col-start-7 row-start-[5]",participant1:N(r).quarterfinals[0].participant1,participant2:N(r).quarterfinals[0].participant2},null,8,["participant1","participant2"]),s[4]||(s[4]=p("div",{class:"row-start-[7] col-start-[11] row-span-6 col-span-4 border-t-2 border-r-2 border-screenBlack"},null,-1)),s[5]||(s[5]=p("div",{class:"row-start-[17] col-start-[11] row-span-6 col-span-4 border-b-2 border-r-2 border-screenBlack"},null,-1)),ge(Gr,{class:"col-start-7 row-start-[21]",participant1:N(r).quarterfinals[1].participant1,participant2:N(r).quarterfinals[1].participant2},null,8,["participant1","participant2"]),ge(Gr,{class:"col-start-[13] row-start-[13]",participant1:N(r).semifinals[0].participant1,participant2:N(r).semifinals[0].participant2},null,8,["participant1","participant2"]),ge(Gr,{class:"col-start-[39] row-start-1",participant1:N(r).eightFinals[4].participant1,participant2:N(r).eightFinals[4].participant2},null,8,["participant1","participant2"]),s[6]||(s[6]=p("div",{class:"row-start-[3] col-start-[35] row-span-2 col-span-4 border-t-2 border-l-2 border-screenBlack"},null,-1)),s[7]||(s[7]=p("div",{class:"row-start-[9] col-start-[35] row-span-2 col-span-4 border-b-2 border-l-2 border-screenBlack"},null,-1)),ge(Gr,{class:"col-start-[39] row-start-9",participant1:N(r).eightFinals[5].participant1,participant2:N(r).eightFinals[5].participant2},null,8,["participant1","participant2"]),ge(Gr,{class:"col-start-[39] row-start-[17]",participant1:N(r).eightFinals[6].participant1,participant2:N(r).eightFinals[6].participant2},null,8,["participant1","participant2"]),s[8]||(s[8]=p("div",{class:"row-start-[19] col-start-[35] row-span-2 col-span-4 border-t-2 border-l-2 border-screenBlack"},null,-1)),s[9]||(s[9]=p("div",{class:"row-start-[25] col-start-[35] row-span-2 col-span-4 border-b-2 border-l-2 border-screenBlack"},null,-1)),ge(Gr,{class:"col-start-[39] row-start-[25]",participant1:N(r).eightFinals[7].participant1,participant2:N(r).eightFinals[7].participant2},null,8,["participant1","participant2"]),ge(Gr,{class:"col-start-[33] row-start-[5]",participant1:N(r).quarterfinals[2].participant1,participant2:N(r).quarterfinals[2].participant2},null,8,["participant1","participant2"]),s[10]||(s[10]=p("div",{class:"row-start-[7] col-start-[29] row-span-6 col-span-4 border-t-2 border-l-2 border-screenBlack"},null,-1)),s[11]||(s[11]=p("div",{class:"row-start-[17] col-start-[29] row-span-6 col-span-4 border-b-2 border-l-2 border-screenBlack"},null,-1)),ge(Gr,{class:"col-start-[33] row-start-[21]",participant1:N(r).quarterfinals[3].participant1,participant2:N(r).quarterfinals[3].participant2},null,8,["participant1","participant2"]),ge(Gr,{class:"col-start-[27] row-start-[13]",participant1:N(r).semifinals[1].participant1,participant2:N(r).semifinals[1].participant2},null,8,["participant1","participant2"]),s[12]||(s[12]=p("div",{class:"col-start-[19] row-start-[9] lg:row-start-[10] col-span-6 row-span-3 flex justify-center items-center"},[p("p",{class:"text-center font-heading text-body lg:text-subtitle"}," Finals ")],-1)),ge(Gr,{class:"col-start-[20] row-start-[13]",participant1:N(r).finals[0].participant1,participant2:N(r).finals[0].participant2},null,8,["participant1","participant2"]),s[13]||(s[13]=p("div",{class:"row-start-[15] col-start-[17] row-span-6 col-span-3 border-t-2 border-screenBlack"},null,-1)),s[14]||(s[14]=p("div",{class:"row-start-[15] col-start-[24] row-span-6 col-span-3 border-t-2 border-screenBlack"},null,-1))]))}}),BU=["data-aos-delay"],FU={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},UU={class:"relative w-full h-full"},$U={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},zU={class:"relative h-full aspect-square flex justify-center items-center"},qU=["src","alt"],jU={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},HU={class:"font-heading text-body lg:text-subtitle text-screenBlack"},VU=tt({__name:"SilverSponsorLogo",props:{logoSrc:{type:String},sponsorName:{type:String},index:{type:Number,required:!0},logoSize:{type:Number,required:!0}},setup(t){return(e,r)=>(Y(),ae("div",{"data-aos":"fade-left","data-aos-delay":t.index*50,"data-aos-offset":"20",class:"relative w-[30rem] h-[30rem]"},[r[1]||(r[1]=p("div",{class:"w-full h-full absolute z-[1]"},[p("svg",{width:"372",height:"372",viewBox:"0 0 372 372",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full"},[p("path",{d:"M242.067 56.0666L326.559 169.588L270.492 299.522L129.934 315.933L45.4412 202.412L101.508 72.4782L242.067 56.0666Z",fill:"#757575"}),p("path",{d:"M237.463 69.839L312.715 170.946L262.78 286.67L137.593 301.287L62.3406 200.18L112.276 84.4558L237.463 69.839Z",fill:"#F2F1F0"})])],-1)),p("div",FU,[p("div",UU,[p("div",$U,[p("div",zU,[r[0]||(r[0]=p("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),p("img",{src:t.logoSrc,alt:`${t.sponsorName} logo`,class:"relative z-[4]",style:mi({width:`${t.logoSize}%`,height:`${t.logoSize}%`})},null,12,qU)])])]),p("div",jU,[p("p",HU,we(t.sponsorName),1)])])],8,BU))}}),GU=["data-aos-delay"],WU={class:"absolute top-0 left-0 w-full h-full grid grid-cols-1 grid-rows-[3fr_2fr] z-[2]"},XU={class:"relative w-full h-full"},KU={class:"absolute z-[3] w-full h-full top-0 left-[4rem]"},YU={class:"relative h-full aspect-square flex justify-center items-center"},QU=["src","alt"],ZU={class:"relative z-[4] w-full flex justify-center items-start pt-[1rem]"},JU={class:"font-heading text-body lg:text-body text-screenBlack"},e$=tt({__name:"BronzeSponsorLogo",props:{logoSrc:{type:String},sponsorName:{type:String},index:{type:Number,required:!0},logoSize:{type:Number,required:!0}},setup(t){return(e,r)=>(Y(),ae("div",{"data-aos":"fade-left","data-aos-delay":t.index*50,"data-aos-offset":"20",class:"relative w-[25rem] h-[25rem]"},[r[1]||(r[1]=p("div",{class:"w-full h-full absolute z-[1]"},[p("svg",{width:"293",height:"293",viewBox:"0 0 293 293",fill:"none",xmlns:"http://www.w3.org/2000/svg","preserve-aspect-ratio":"none",class:"w-full h-full"},[p("path",{d:"M190.66 44.16L257.209 133.574L213.049 235.914L102.34 248.84L35.7908 159.426L79.9508 57.0863L190.66 44.16Z",fill:"#CD7F32"}),p("path",{d:"M187.034 55.0074L246.306 134.643L206.975 225.791L108.373 237.304L49.1018 157.668L88.4324 66.5201L187.034 55.0074Z",fill:"#F2F1F0"})])],-1)),p("div",WU,[p("div",XU,[p("div",KU,[p("div",YU,[r[0]||(r[0]=p("div",{class:"rounded-full absolute z-[3] h-full w-full top-0 left-0 bg-pearl-white shadow"},null,-1)),p("img",{src:t.logoSrc,alt:`${t.sponsorName} logo`,class:"relative z-[4]",style:mi({width:`${t.logoSize}%`,height:`${t.logoSize}%`})},null,12,QU)])])]),p("div",ZU,[p("p",JU,we(t.sponsorName),1)])])],8,GU))}}),t$={class:"relative h-[8rem] flex justify-start items-end text-body text-screenBlack"},r$=["type","value","name"],i$={class:"absolute w-full h-full top-0 left-0 pointer-events-none"},s$={class:"relative w-full h-full"},n$={class:"absolute w-full h-full top-0 left-0 origin-center scale-[1] flex justify-center items-center z-[10] rotate-45"},a$={key:0,class:"h-[2px] w-full bg-screenBlack origin-left box-content rounded will-change-transform lg:group-hover:bg-primary"},as=tt({__name:"FormInput",props:{modelValue:{type:String},label:{type:String},type:{type:String},name:{type:String},invalid:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,{modelValue:i,label:s,invalid:n}=Qi(r),a=e,o=Ye(r.type);function l(){o.value=="password"?o.value="text":o.value="password"}const u="input"+Math.floor(Math.random()*1e5).toString();return(c,h)=>(Y(),ae("div",t$,[p("div",{class:$t({"h-[50%] relative w-full border-b-2 has-[:focus]:border-b-primary transition-all duration-100":!0,"border-b-red":N(n),"border-b-screenBlack":!N(n)})},[p("input",{type:o.value,value:N(i),onInput:h[0]||(h[0]=f=>a("update:modelValue",f.target.value)),class:$t(`w-full h-full outline-none font-body bg-pearl-white pl-[2rem] peer ${t.type=="password"?"pr-[7rem]":"pr-[2rem]"}`),placeholder:" ",id:u,name:t.name,autocomplete:"true"},null,42,r$),p("label",{for:u,class:$t({"px-[2rem] font-heading absolute w-full h-full top-0 left-0 justify-start items-center pointer-events-none peer-focus:-translate-y-[100%] transition-all duration-100 peer-[:not(:placeholder-shown)]:-translate-y-[100%] peer-[:autofill]:-translate-y-[100%] whitespace-nowrap":!0,"peer-focus:text-primary":!N(n),"text-red":N(n)})},we(N(s)),3),t.type=="password"?(Y(),ae("button",{key:0,type:"button",onClick:l,class:"absolute h-full aspect-square right-[2rem] top-0 flex justify-center items-center fill-screenBlack lg:hover:fill-primary group p-2"},[h[1]||(h[1]=qa('<svg width="25" height="17" viewBox="0 0 25 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full fill-inherit"><g clip-path="url(#clip0_352_208)"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.0429876 8.08552C2.14476 3.3236 6.90809 0 12.4477 0C17.9873 0 22.7506 3.32361 24.8524 8.08552C24.9097 8.21538 24.9097 8.36367 24.8524 8.49353C22.7506 13.2554 17.9873 16.579 12.4477 16.579C6.90809 16.579 2.14476 13.2554 0.0429875 8.49353C-0.0143292 8.36367 -0.0143291 8.21538 0.0429876 8.08552ZM18.9045 8.42096C18.9045 12.0544 15.959 14.9999 12.3255 14.9999C8.69205 14.9999 5.74656 12.0544 5.74656 8.42096C5.74656 4.78751 8.69205 1.84201 12.3255 1.84201C15.959 1.84201 18.9045 4.78751 18.9045 8.42096ZM17.6513 8.42109C17.6513 11.3625 15.2668 13.7469 12.3255 13.7469C9.38409 13.7469 6.99964 11.3625 6.99964 8.42109C6.99964 5.47973 9.38409 3.09528 12.3255 3.09528C15.2668 3.09528 17.6513 5.47973 17.6513 8.42109ZM14.6023 4.70419C14.713 4.68767 14.8241 4.73146 14.8937 4.81906L16.2905 6.57566C16.3602 6.66326 16.3778 6.78138 16.3367 6.88551L15.5139 8.97343C15.4728 9.07756 15.3794 9.15189 15.2687 9.16842L13.049 9.49975C12.9383 9.51627 12.8272 9.47248 12.7576 9.38488L11.3608 7.62828C11.2911 7.54067 11.2735 7.42256 11.3145 7.31843L12.1374 5.2305C12.1785 5.12637 12.2719 5.05205 12.3826 5.03552L14.6023 4.70419Z"></path></g><defs><clipPath id="clip0_352_208"><rect width="25" height="16.5789" fill="white"></rect></clipPath></defs></svg>',1)),p("div",i$,[p("div",s$,[p("div",n$,[ge(Bs,{"enter-from-class":"scale-x-0","enter-active-class":"transition-tranform duration-150","enter-to-class":"scale-x-1","leave-from-class":"scale-x-1","leave-active-class":"transition-tranform duration-150 origin-right","leave-to-class":"scale-x-0 "},{default:Fe(()=>[o.value=="text"?(Y(),ae("div",a$)):Ne("",!0)]),_:1})])])])])):Ne("",!0)],2)]))}});async function o$(){try{const t=await navigator.permissions.query({name:"microphone"});return t.state==="granted"?!0:(t.state==="denied",!1)}catch{return!1}}var G7={exports:{}},kf={exports:{}},a3;function l$(){return a3||(a3=1,function(t){function e(){const r={stop:"stop",listening:"listen",recording:"record",paused:"pause"};class i{constructor(a){this.sampleRate=a,this.sampleBlocs=[],this.length=0}push(a,o){if(this.length+=a.length,this.sampleBlocs.push(a),o!==void 0){let l=this.getDuration();l>o&&this.lTrim(l-o)}return this.length}get(){var a=new Float32Array(this.length),o=this.sampleBlocs.length,l=0;for(let u=0;u<o;++u)a.set(this.sampleBlocs[u],l),l+=this.sampleBlocs[u].length;return a}getDuration(){return this.length/this.sampleRate}lTrim(a){var o=Math.round(a*this.sampleRate);if(o>=this.length){this.sampleBlocs=[];return}for(this.length-=o;o>0&&o>=this.sampleBlocs[0].length;)o-=this.sampleBlocs[0].length,this.sampleBlocs.shift();o>0&&(this.sampleBlocs[0]=this.sampleBlocs[0].subarray(o))}rTrim(a){var o=Math.round(a*this.sampleRate);if(o>=this.length){this.sampleBlocs=[];return}for(this.length-=o;o>0&&o>=this.sampleBlocs[this.sampleBlocs.length-1].length;)o-=this.sampleBlocs[this.sampleBlocs.length-1].length,this.sampleBlocs.pop();if(o>0){let l=this.sampleBlocs.length-1;this.sampleBlocs[l]=this.sampleBlocs[l].subarray(0,this.sampleBlocs[l].length-o)}}}class s extends AudioWorkletProcessor{constructor(a){super(),this.config={autoStart:!1,autoStop:!1,timeLimit:0,onSaturate:"none",saturationThreshold:.99,startThreshold:.1,stopThreshold:.05,stopDuration:.3,marginBefore:.25,marginAfter:.25,minDuration:.15},this._isRunning=!0,this._state=r.stop,this._audioSamples=null,this._silenceSamplesCount=0,this._isSaturated=!1,this._setConfig(a.processorOptions),this.port.onmessage=o=>{switch(o.data.message){case"start":this._start();break;case"pause":this._pause();break;case"stop":this._stop();break;case"cancel":this._stop(!0);break;case"toggle":this._state===r.recording||this._state===r.listening?this.stop():this.start();break;case"close":this._isRunning=!1;break;case"setConfig":this._setConfig(o.data.extra);break}}}_setConfig(a){this.config={...this.config,...a}}_start(){if(!(this._state===r.listening||this._state===r.recording)){if(this._state===r.stop&&(this._audioSamples=new i(this.config.sampleRate),this._silenceSamplesCount=0,this._isSaturated=!1,this.config.autoStart)){this._state=r.listening;return}this._state=r.recording,this.port.postMessage({message:"started"})}}_pause(){this._state===r.stop||this._state===r.paused||(this._state===r.listening?this._state=r.stop:this._state=r.paused,this.port.postMessage({message:"paused"}))}_stop(a){a=a,this._state!==r.stop&&(a===!0?(this._audioSamples=null,this.port.postMessage({message:"canceled",reason:"asked"})):(this.config.onSaturate==="discard"||this.config.onSaturate==="cancel")&&this._isSaturated?(this._audioSamples=null,this.port.postMessage({message:"canceled",reason:"saturated"})):this._audioSamples.getDuration()<this.config.minDuration?(this._audioSamples=null,this.port.postMessage({message:"canceled",reason:"tooShort"})):this.port.postMessage({message:"stopped",record:this._audioSamples.get()}),this._state=r.stop)}process(a,o,l){if(a.length===0||a[0].length===0)return this._isRunning;this._state===r.listening?this._audioListeningProcess(new Float32Array(a[0][0])):this._state===r.recording&&this._audioRecordingProcess(new Float32Array(a[0][0]));for(let u=0;u<a[0][0].length;u++)o[0][0][u]=a[0][0][u];return this._isRunning}_audioListeningProcess(a){for(let o=0;o<a.length;o++)if(Math.abs(a[o])>this.config.startThreshold)return this._state=r.recording,this.port.postMessage({message:"started"}),this._audioRecordingProcess(a);this.config.marginBefore>0&&this._audioSamples.push(a,this.config.marginBefore),this.port.postMessage({message:"listening",samples:a})}_audioRecordingProcess(a){this._audioSamples.push(a),this.port.postMessage({message:"recording",samples:a,duration:this._audioSamples.getDuration()});for(let o=0;o<a.length;o++)if(Math.abs(a[o])>this.config.saturationThreshold){if(this.port.postMessage({message:"saturated"}),this._isSaturated=!0,this.config.onSaturate==="cancel"){this._stop();return}break}if(this.config.autoStop){let o=0;for(let l=0;l<a.length;l++){let u=Math.abs(a[l]);u>o&&(o=u)}o<this.config.stopThreshold?(this._silenceSamplesCount+=a.length,this._silenceSamplesCount>=this.config.stopDuration*this.config.sampleRate&&(this._audioSamples.rTrim(this.config.stopDuration-this.config.marginAfter),this._stop())):this._silenceSamplesCount=0}this.config.timeLimit>0&&this.config.timeLimit>=this._audioSamples.getDuration()&&this._stop()}}registerProcessor("recording-processor",s)}(function(r,i){t.exports?t.exports=i():(r.LinguaRecorder||(r.LinguaRecorder={}),r.LinguaRecorder.recordingProcessorEncapsulation=i().recordingProcessorEncapsulation)})(typeof self<"u"?self:hn,function(){return{recordingProcessorEncapsulation:e}})}(kf)),kf.exports}var Df={exports:{}},o3;function u$(){return o3||(o3=1,function(t){const e=[63,16128,26736,28776];class r{constructor(s,n){this.sampleRate=n,this.samples=s}setSampleRate(s){this.sampleRate=s}getSampleRate(){return this.sampleRate}getLength(){return this.samples.length}getDuration(){return this.samples.length/this.sampleRate}getSamples(){return this.samples}lTrim(s){var n=Math.round(s*this.sampleRate);if(n>=this.samples.length){this.clear();return}this.samples=this.samples.subarray(n)}rTrim(s){var n=Math.round(s*this.sampleRate);if(n>=this.samples.length){this.clear();return}this.samples=this.samples.subarray(0,this.samples.length-n)}clear(){this.samples=new Float32Array(0)}play(){var s=new window.AudioContext,n=s.createBuffer(1,this.samples.length,48e3),a=n.getChannelData(0);for(let l=0;l<this.samples.length;l++)a[l]=this.samples[l];var o=s.createBufferSource();o.buffer=n,o.connect(s.destination),o.start(0)}getBlob(){var s=new ArrayBuffer(44+this.samples.length*2),n=new DataView(s);r.writeString(n,0,"RIFF"),n.setUint32(4,32+this.samples.length*2,!0),r.writeString(n,8,"WAVE"),r.writeString(n,12,"fmt "),n.setUint32(16,16,!0),n.setUint16(20,1,!0),n.setUint16(22,1,!0),n.setUint32(24,this.sampleRate,!0),n.setUint32(28,this.sampleRate*2,!0),n.setUint16(32,2,!0),n.setUint16(34,16,!0),r.writeString(n,36,"data"),n.setUint32(40,this.samples.length*2,!0);for(let a=0;a<this.samples.length;a++){let o=parseInt(this.samples[a]*32767);e.indexOf(o)>-1&&o++,n.setInt16(44+a*2,o,!0)}return new Blob([n],{type:"audio/wav"})}getWAVE(){return this.getBlob()}getObjectURL(){return window.URL.createObjectURL(this.getBlob())}download(s){var n=document.createElement("a"),a=this.getObjectURL();s=s||"record.wav",s.toLowerCase().indexOf(".wav",s.length-4)===-1&&(s+=".wav"),n.style.display="none",n.href=a,n.download=s,document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),window.URL.revokeObjectURL(a)},1e3)}getAudioElement(){var s=document.createElement("audio"),n=document.createElement("source");return n.src=this.getObjectURL(),n.type="audio/wav",s.appendChild(n),s}static writeString(s,n,a){for(let o=0;o<a.length;o++)s.setUint8(n+o,a.charCodeAt(o))}}(function(i,s){t.exports?t.exports=s():(i.LinguaRecorder||(i.LinguaRecorder={}),i.LinguaRecorder.AudioRecord=s().AudioRecord)})(typeof self<"u"?self:hn,function(){return{AudioRecord:r}})}(Df)),Df.exports}(function(t){var e={};typeof AudioRecord<"u"&&typeof recordingProcessorEncapsulation<"u"?(e.recordingProcessorEncapsulation=recordingProcessorEncapsulation,e.AudioRecord=AudioRecord):t.exports&&(e.recordingProcessorEncapsulation=l$().recordingProcessorEncapsulation,e.AudioRecord=u$().AudioRecord);const r={stop:"stop",listening:"listen",recording:"record",paused:"pause"};class i{constructor(n){Ni(this,"stream",null);Ni(this,"recordProcessorConfig",{});Ni(this,"audioContext",null);Ni(this,"audioInput",null);Ni(this,"processor",null);Ni(this,"_state",r.stop);Ni(this,"_isConnected",!1);Ni(this,"_duration",0);Ni(this,"_extraAudioNodes",[]);Ni(this,"_eventHandlers",{ready:[],readyFail:[],started:[],listening:[],recording:[],saturated:[],paused:[],stopped:[],canceled:[]});Ni(this,"_eventStorage",{ready:null,readyFail:null});this.setConfig(n),this._getAudioStream()}setConfig(n){return this.recordProcessorConfig={...this.recordProcessorConfig,...n},this._sendCommandToProcessor("setConfig",this.recordProcessorConfig),this}getRecordingTime(){return this._duration}getState(){return this._state}getAudioContext(){return this.audioContext}start(){return this.processor===null?this:(this._connect(),this._sendCommandToProcessor("start"))}pause(){return this._sendCommandToProcessor("pause")}stop(n){if(n===!0)this.cancel();else return this._sendCommandToProcessor("stop")}cancel(){return this._sendCommandToProcessor("cancel")}toggle(){return this._sendCommandToProcessor("toggle")}on(n,a){return n==="stoped"&&(n="stopped",console.warn("[LinguaRecorder] .on('stoped',...) is deprecated. Please use .on('stopped',...) instead.")),n in this._eventHandlers&&this._eventHandlers[n].push(a),n in this._eventStorage&&this._eventStorage[n]!==null&&a(this._eventStorage[n]),this}off(n){return n==="stoped"&&(n="stopped",console.warn("[LinguaRecorder] .off('stoped') is deprecated. Please use .off('stopped') instead.")),n in this._eventHandlers&&(this._eventHandlers[n]=[]),this}connectAudioNode(n){var a=this._isConnected;return this._isConnected&&this._disconnect(),this._extraAudioNodes.push(n),a&&this._connect(),this}disconnectAudioNode(n){for(let a=0;a<this._extraAudioNodes.length;a++)if(n===this._extraAudioNodes[a]){let o=this._isConnected;this._isConnected&&this._disconnect(),this._extraAudioNodes.splice(a,1),o&&this._connect();break}return this}close(){if(this.processor!==null)return this.off("ready").off("readyFail").off("started").off("listening").off("recording").off("saturated").off("paused").off("stopped").off("canceled"),this._eventStorage={},this._sendCommandToProcessor("close"),this._disconnect(),this.processor.port.onmessage=null,this.processor.port.close(),this.processor=null,this}_sendCommandToProcessor(n,a){return this.processor!==null&&this.processor.port.postMessage({message:n,extra:a}),this}_fire(n,a){if(n in this._eventHandlers)for(let o=0;o<this._eventHandlers[n].length;o++)this._eventHandlers[n][o](a);n in this._eventStorage&&(this._eventStorage[n]=a)}async _getAudioStream(){try{this.stream=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1})}catch(n){this._fire("readyFail",n);return}await this._initStream(),this._fire("ready",this.stream)}async _initStream(){this.audioContext=new window.AudioContext,this.audioInput=this.audioContext.createMediaStreamSource(this.stream);const n=new Blob([`(${e.recordingProcessorEncapsulation})()`],{type:"application/javascript; charset=utf-8"});await this.audioContext.audioWorklet.addModule(URL.createObjectURL(n)),this.recordProcessorConfig.sampleRate=this.audioContext.sampleRate,this.processor=new AudioWorkletNode(this.audioContext,"recording-processor",{processorOptions:this.recordProcessorConfig}),this.processor.port.onmessage=a=>{switch(a.data.message){case"started":this._state=r.recording,this._duration=0,this._fire("started");break;case"listening":this._state=r.listening,this._duration=0,this._fire("listening",a.data.samples);break;case"recording":this._state=r.recording,this._duration=a.data.duration,this._fire("recording",a.data.samples);break;case"saturated":this._fire("saturated");break;case"paused":this._state=r.paused,this._fire("paused");break;case"stopped":this._state=r.stop,this._duration=0,this._disconnect(),this._fire("stopped",new e.AudioRecord(a.data.record,this.audioContext.sampleRate));break;case"canceled":this._state=r.stop,this._duration=0,this._disconnect(),this._fire("canceled",a.data.reason);break}}}_connect(){if(!this._isConnected){var n=this.audioInput;for(let a=0;a<this._extraAudioNodes.length;a++)n.connect(this._extraAudioNodes[a]),n=this._extraAudioNodes[a];n.connect(this.processor),this._isConnected=!0}}_disconnect(){if(this._isConnected){this.audioInput.disconnect();for(let n=0;n<this._extraAudioNodes.length;n++)this._extraAudioNodes[n].disconnect();this.processor.disconnect(),this._isConnected=!1}}}(function(s,n){t.exports?t.exports=n():(s.LinguaRecorder||(s.LinguaRecorder={}),s.LinguaRecorder.LinguaRecorder=n().LinguaRecorder)})(typeof self<"u"?self:hn,function(){return{LinguaRecorder:i}})})(G7);var c$=G7.exports;const d$={class:"w-full h-[8rem] flex items-end"},h$={class:"h-[50%] w-full bg-white-100 rounded-[10px] flex justify-between items-center px-[2rem] relative text-screenBlack"},f$={class:"flex-1 h-full flex items-center p-2"},p$={key:0,class:"text-body"},m$={key:1,class:"flex w-full flex-col items-start justify-center"},g$={class:"text-text-sm"},y$={class:"w-full h-[3px] bg-gray-200 flex justify-start"},v$={class:"h-full flex"},b$={key:0,class:"h-full aspect-square p-1"},_$={key:1,class:"h-full aspect-square p-1"},x$={key:2,class:"h-full aspect-square p-1"},w$={key:3,class:"h-full aspect-square p-1"},T$={key:4,class:"h-full aspect-square p-1"},S$=tt({__name:"VoiceInput",props:{label:{type:String},modelValue:{type:Blob},invalid:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,{label:i,modelValue:s,invalid:n}=Qi(r),a=e,o=new c$.LinguaRecorder,l=Ye(!1),u=Ye(!1),c=Ye(!1),h=Ye(null),f=Ye(null),y=Ye(0),w=Ye(0);o.on("stopped",L=>{h.value=L,f.value=new Audio(URL.createObjectURL(L.getBlob())),f.value.addEventListener("ended",D),f.value.addEventListener("timeupdate",_),f.value.addEventListener("loadedmetadata",()=>{w.value=f.value.duration}),a("update:modelValue",L.getBlob())});function _(){f.value&&f.value.duration>0&&(y.value=f.value.currentTime/f.value.duration*100)}const C=async()=>{if(!await o$()){alert("allow access to the microphone first. It may require you to reload the page");return}o.start(),l.value=!0},E=()=>{o.stop(),l.value=!1,u.value=!0},k=()=>{c.value=!0,f.value&&f.value.play()};function D(){c.value=!1,f.value&&f.value.pause()}const P=()=>{o.cancel(),l.value=!1,u.value=!1,c.value=!1,f.value=null,h.value=null,y.value=0,w.value=0,a("update:modelValue",void 0)};return(L,U)=>(Y(),ae("div",d$,[p("div",h$,[p("p",{class:$t({"absolute left-[2rem] text-body font-heading h-[100%] flex items-center will-change-transform transition-transform duration-100":!0,"-translate-y-[100%]":u.value||l.value,"text-red":N(n),"text-screenBlack":!N(n)})},we(N(i)),3),p("div",f$,[l.value?(Y(),ae("div",p$,U[0]||(U[0]=[p("p",null,"recording...",-1)]))):Ne("",!0),u.value&&w.value?(Y(),ae("div",m$,[p("p",g$,we(Math.ceil(y.value*w.value/100)+"/"+Math.ceil(w.value)+"s"),1),p("div",y$,[p("div",{class:"h-full w-full bg-primary origin-left transition-transform will-change-transform duration-75",style:mi({transform:`scaleX(${y.value/100})`})},null,4)])])):Ne("",!0)]),p("div",v$,[!l.value&&!u.value?(Y(),ae("div",b$,[p("button",{type:"button",title:"record",onClick:C,class:"h-full aspect-square flex rounded-full bg-gray-50 fill-screenBlack lg:hover:fill-primary"},U[1]||(U[1]=[p("svg",{viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"w-full h-full fill-inherit"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.2412 23.1224L19.5364 10.2668L27.2188 10.2668L31.514 23.1224L27.3586 31.1932L19.3967 31.1932L15.2412 23.1224ZM18.624 9L28.1312 9L32.8848 23.2275L31.0825 26.728H31.9633L33.8786 23.0715L35.0008 23.6594L29.5062 34.1489L29.3284 34.4884H28.9451H24.0843V36.2176H27.9464V37.4844H18.9553V36.2176H22.8174V34.4884H17.4566H17.0566L16.8847 34.1273L11.8896 23.6378L13.0334 23.0931L14.7643 26.728H15.6728L13.8704 23.2275L18.624 9ZM16.325 27.9949H15.3676L17.8565 33.2216H28.5619L31.2997 27.9949H30.4436V27.9688L28.1312 32.46L18.624 32.46L16.325 27.9949Z"})],-1)]))])):Ne("",!0),l.value&&!u.value?(Y(),ae("div",_$,[p("button",{type:"button",title:"end recording",onClick:E,class:"h-full aspect-square flex rounded-full bg-gray-50 stroke-screenBlack lg:hover:stroke-primary"},U[2]||(U[2]=[p("svg",{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full stroke-inherit"},[p("rect",{x:"14.635",y:"13.635",width:"18.73",height:"19.73",rx:"1.365","stroke-width":"1.27"})],-1)]))])):Ne("",!0),!l.value&&u.value&&!c.value?(Y(),ae("div",x$,[p("button",{type:"button",title:"play",onClick:k,class:"h-full aspect-square flex rounded-full bg-gray-50 stroke-screenBlack lg:hover:stroke-primary"},U[3]||(U[3]=[p("svg",{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full stroke-inherit"},[p("path",{d:"M17.3069 12.416L35.3069 22.8083C35.5502 22.9487 35.5502 23.3 35.3069 23.4405L17.3069 33.8328C17.0635 33.9732 16.7594 33.7976 16.7594 33.5167L16.7594 12.7321C16.7594 12.4511 17.0635 12.2755 17.3069 12.416Z","stroke-width":"1.27"})],-1)]))])):Ne("",!0),!l.value&&u.value&&c.value?(Y(),ae("div",w$,[p("button",{type:"button",title:"pause",onClick:D,class:"h-full aspect-square flex rounded-full bg-gray-50 stroke-screenBlack lg:hover:stroke-primary"},U[4]||(U[4]=[p("svg",{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full stroke-inherit"},[p("rect",{x:"25.635",y:"12.635",width:"4.73",height:"21.73",rx:"1.365","stroke-width":"1.27"}),p("rect",{x:"16.635",y:"12.635",width:"4.73",height:"21.73",rx:"1.365","stroke-width":"1.27"})],-1)]))])):Ne("",!0),!l.value&&u.value?(Y(),ae("div",T$,[p("button",{type:"button",title:"record again",onClick:P,class:"h-full aspect-square flex rounded-full bg-gray-50 stroke-screenBlack lg:hover:stroke-primary"},U[5]||(U[5]=[p("svg",{width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full stroke-inherit"},[p("path",{d:"M34 26.1228L31.671 32.274C31.4115 32.9593 30.798 33.4479 30.072 33.5473L20.5851 34.8465C19.8897 34.9417 19.1952 34.6654 18.7553 34.1185L12.7199 26.6144C12.2741 26.0601 12.1562 25.3108 12.4104 24.6464L15.9143 15.4856C16.1667 14.8257 16.7485 14.348 17.4448 14.2287L27.0095 12.5914C27.6919 12.4746 28.3862 12.719 28.845 13.2376L33.5 18.5M33.5 18.5L31.6429 12M33.5 18.5L27.7143 16.4386","stroke-width":"1.27"})],-1)]))])):Ne("",!0)])])]))}});function C$(t){return new Promise((e,r)=>{const i=new FileReader;i.onloadend=()=>{const s=i.result;e(s)},i.onerror=()=>{r(new Error("Failed to convert Blob to base64"))},i.readAsDataURL(t)})}const E$=ai("participationFormStore",{state:()=>({phoneNumber:"",emergencyPhoneNumber:"",studyProgram:"",namePronunciation:void 0,additionalInfo:"",acceptedRules:!1,errors:{},loading:!1}),actions:{async validateForm(){return this.errors={},this.phoneNumber.trim()?/^\+?[0-9\s\-()]{7,}$/.test(this.phoneNumber)||(this.errors.phoneNumber="Invalid phone number format."):this.errors.phoneNumber="Phone Number is required.",this.emergencyPhoneNumber.trim()?/^\+?[0-9\s\-()]{7,}$/.test(this.emergencyPhoneNumber)||(this.errors.emergencyPhoneNumber="Invalid phone number format."):this.errors.emergencyPhoneNumber="Emergency Phone Number is required.",this.studyProgram.trim()||(this.errors.studyProgram="Study Program is required."),this.namePronunciation?await this.checkIfAudioIsUnderNSeconds(this.namePronunciation,10)||(this.errors.namePronunciation="audio must be under 10 sec"):this.errors.namePronunciation="Name pronunciation is required",Object.keys(this.errors).length===0},async submitForm(){const t=Ct();this.loading=!0;try{const e=oh().competitionId,r=await C$(this.namePronunciation);(await qi.patch(`/competition/${e}/`,{action:"register",phone_number:this.phoneNumber,emergency_phone_number:this.emergencyPhoneNumber,program_of_study:this.studyProgram,name_pronunciation:r,additional_info:this.additionalInfo})).status===200&&(t.addToast({type:"success",title:"successfully registered",message:"please check your email regularly to see updates"}),this.resetForm())}catch(e){throw t.addToast({type:"error",title:"an error has occured",message:"an error has occured while submitting the form"}),e}finally{this.loading=!1}},resetForm(){this.phoneNumber="",this.emergencyPhoneNumber="",this.studyProgram="",this.namePronunciation=void 0,this.additionalInfo="",this.acceptedRules=!1,this.errors={}},prefillForm(){const t=ri();t.phoneNumber&&(this.phoneNumber=t.phoneNumber),t.programOfStudy&&(this.studyProgram=t.programOfStudy)},async checkIfAudioIsUnderNSeconds(t,e=10){const r=new AudioContext,i=await t.arrayBuffer();return(await r.decodeAudioData(i)).duration<10}}}),A$={class:"w-full h-[max] flex flex-col gap-[2rem] items-center"},k$={class:"w-full grid grid-cols-1 lg:grid-cols-2 gap-x-[2rem] gap-y-[2rem]"},D$={class:"flex flex-col"},I$={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},L$={class:"flex flex-col"},P$={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},M$={class:"flex flex-col"},R$={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},O$={class:"flex flex-col"},N$={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},B$=tt({__name:"ParticipationForm",emits:["closeForm"],setup(t,{emit:e}){const r=E$(),{phoneNumber:i,emergencyPhoneNumber:s,studyProgram:n,namePronunciation:a,errors:o}=Ii(r);xn(()=>{r.prefillForm(),document.getElementsByTagName("body")[0].style.overflowY="hidden"}),sa(()=>{document.getElementsByTagName("body")[0].style.overflowY="unset"});const l=e;oh();const{getProfileData:u}=ri(),c=async h=>{if(h.preventDefault(),await r.validateForm())try{await r.submitForm(),await u(),window.onbeforeunload=null,l("closeForm")}catch{l("closeForm")}};return(h,f)=>(Y(),ae("form",{onSubmit:c,class:"w-[90vw] lg:w-[80vw] xl:w-[50vw] min-h-[60rem] h-[80vh] lg:h-[80vh] bg-pearl-white rounded-3xl py-8 px-[4rem] overflow-y-auto font-body text-body",onClick:f[4]||(f[4]=y=>y.stopImmediatePropagation())},[p("div",A$,[f[8]||(f[8]=p("h3",{class:"text-subtitle lg:text-title font-heading text-center"}," Registration ",-1)),f[9]||(f[9]=p("h4",{class:"text-center"}," You almost there! Please provide some additional information before proceeding. ",-1)),p("div",k$,[p("div",D$,[ge(as,{modelValue:N(i),"onUpdate:modelValue":f[0]||(f[0]=y=>gt(i)?i.value=y:null),label:"Phone Number*",invalid:!!N(o).phoneNumber},null,8,["modelValue","invalid"]),N(o).phoneNumber?(Y(),ae("div",I$,we(N(o).phoneNumber),1)):Ne("",!0)]),p("div",L$,[ge(as,{modelValue:N(s),"onUpdate:modelValue":f[1]||(f[1]=y=>gt(s)?s.value=y:null),label:"Emergency phone number*",invalid:!!N(o).emergencyPhoneNumber},null,8,["modelValue","invalid"]),N(o).emergencyPhoneNumber?(Y(),ae("div",P$,we(N(o).emergencyPhoneNumber),1)):Ne("",!0)]),p("div",M$,[ge(as,{modelValue:N(n),"onUpdate:modelValue":f[2]||(f[2]=y=>gt(n)?n.value=y:null),label:"Study Program*",invalid:!!N(o).studyProgram},null,8,["modelValue","invalid"]),N(o).studyProgram?(Y(),ae("div",R$,we(N(o).studyProgram),1)):Ne("",!0)]),p("div",O$,[ge(S$,{modelValue:N(a),"onUpdate:modelValue":f[3]||(f[3]=y=>gt(a)?a.value=y:null),label:"Name pronunciation*",invalid:!!N(o).namePronunciation},null,8,["modelValue","invalid"]),N(o).namePronunciation?(Y(),ae("div",N$,we(N(o).namePronunciation),1)):Ne("",!0)]),f[5]||(f[5]=p("h5",{class:"font-heading pl-[2rem] mt-[5rem]"}," Additional info: ",-1)),f[6]||(f[6]=p("textarea",{placeholder:"Anything else you want us to know?",class:"w-full lg:col-span-2 rounded resize-none h-[10rem] py-4 px-8"},null,-1)),f[7]||(f[7]=p("button",{class:"mt-[2rem] lg:col-start-2 overflow-hidden w-[100%] rounded-3xl font-heading text-subtitle pt-[0.8rem] pb-[0.6rem] relative bg-primary border-primary border-2 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:bg-pearl-white after:transition-transform after:duration-200 after:will-change-transform after:origin-top after:scale-y-0 hover:after:scale-y-100",title:"sign up",type:"submit"},[p("span",{class:"relative z-[2]"}," Send ")],-1))])])],32))}}),F$={class:"w-full bg-screenBlack flex justify-center pt-[8rem] lg:pt-[10rem]"},U$={class:"w-full h-[20rem] lg:h-[30rem] relative"},$$=["src"],z$={class:"absolute left-0 top-0 w-full h-full flex justify-center items-center z-[3]"},q$={class:"font-heading text-pearl-white w-max flex flex-col items-center"},j$={class:"text-body lg:text-subtitle flex gap-[1rem] text-primary"},H$={class:"w-full bg-screenBlack text-screenBlack"},V$={class:"px-[2rem] bg-pearl-white lg:px-[12rem] xl:px-[10vw] pt-[4rem] pb-[5rem] min-h-[64rem] flex flex-col lg:block"},G$={class:"w-full lg:w-[48rem] lg:h-[60rem] lg:px-[6rem] pt-[2rem] pb-[6rem] lg:py-[2rem] relative lg:float-right"},W$={class:"font-heading text-title w-full text-center lg:text-left"},X$={class:"text-primary w-full text-center lg:text-left"},K$=["innerHTML"],Y$={class:"font-heading text-title mt-[3rem] w-full text-center lg:text-left"},Q$=["innerHTML"],Z$={class:"w-full"},J$={class:"w-full h-max bg-screenBlack overflow-x-hidden"},ez={key:0,class:"w-full h-max flex flex-col gap-[5rem] lg:gap-0 lg:grid lg:grid-cols-[1fr_25rem] lg:grid-rows-1 lg:gap-x-[10rem] px-[2rem] lg:px-[12rem] xl:px-[10vw] py-[12rem] bg-pearl-white [clip-path:polygon(0_0,100%_0,100%_calc(100%-5rem),0%_100%)]"},tz={class:"flex flex-col gap-[4rem]"},rz={class:"font-heading text-center lg:text-left text-title lg:text-heading"},iz=["innerHTML"],sz={class:"w-full h-full p-[20%] md:p-[30%] lg:p-0 flex justify-center items-center"},nz=["src"],az={key:0,class:"relative w-full h-max py-[12rem]"},oz={key:1,class:"w-full h-[5rem]"},lz={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},uz={class:"flex flex-row justify-center lg:justify-between flex-wrap"},cz={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},dz={class:"flex flex-row-reverse justify-center lg:justify-between flex-wrap"},hz={class:"px-[2rem] lg:px-[12rem] xl:px-[10vw]"},fz={class:"flex justify-center lg:justify-between flex-wrap"},pz={class:"w-[90%] md:w-[50rem] h-[40rem] md:h-[30rem] flex flex-col items-center justify-between py-[2rem] px-[4rem] bg-pearl-white rounded-3xl"},mz={class:"w-full flex justify-center gap-[2rem]"},gz=tt({__name:"Event",setup(t){const e=oh(),r=Ye(!1),{isAuthenticated:i}=Ii(ri()),s=Dd(),n=Uu();xn(async()=>{try{e.$reset(),await e.fetchEventData(s.params.id)}catch{n.push("/events")}});const a=()=>{r.value=!0,i&&(window.onbeforeunload=function(){return!0})},o=()=>{(!i.value||confirm("Are you sure you want to leave this form? All entered data will be lost"))&&(r.value=!1,window.onbeforeunload=null)};return(l,u)=>{const c=Zi("RouterLink");return Y(),kt(gs,null,{default:Fe(()=>{var h,f,y;return[p("div",F$,[p("div",U$,[p("img",{src:N(e).eventPictureSrc,alt:"event preview photo",class:"absolute z-[1] w-full h-full top-0 left-0 object-cover",draggable:"false"},null,8,$$),u[2]||(u[2]=p("div",{class:"absolute left-0 top-0 w-full h-full bg-secondary z-[2] bg-opacity-70"},null,-1)),p("div",z$,[p("div",q$,[u[1]||(u[1]=p("h1",{class:"text-title lg:text-heading"},"Integration Bee",-1)),p("h2",j$,we(N(e).competitionName)+" "+we(N(e).edition),1)])])])]),p("div",null,[p("main",H$,[p("section",V$,[p("div",G$,[ge(wU,{data:N(e).participatePanel,class:"w-full h-full",onShowParticipationForm:a},null,8,["data"])]),p("h2",W$,[st(we(N(e).competitionName)+" ",1),u[3]||(u[3]=p("br",null,null,-1)),p("span",X$,we(N(e).edition),1)]),p("p",{class:"font-body text-body mt-[3rem] w-full text-center lg:text-left",innerHTML:N(Hi)(N(e).description)},null,8,K$),(Y(!0),ae(ct,null,Er(N(e).sections,(w,_)=>(Y(),ae(ct,{key:_},[p("h3",Y$,we(w.title),1),p("p",{class:"font-body text-body mt-[3rem] w-full text-center lg:text-left section-text",innerHTML:N(Hi)(w.text)},null,8,Q$)],64))),128)),u[4]||(u[4]=p("h3",{class:"font-heading text-title mt-[3rem] w-full text-center lg:text-left"}," Tournament Bracket ",-1)),p("div",Z$,[ge(NU,{data:N(e).tournamentBracket,class:"w-full mt-[4rem] origin-center lg:scale-[0.9]"},null,8,["data"])])]),p("section",J$,[p("div",{class:$t(`w-full h-max relative flex justify-center items-center bg-pearl-white ${N(e).silverSponsors.length||N(e).bronzeSponsors.length||N(e).mainSponsorExists||N(e).mainSponsorExists?"py-[10rem]":"[clip-path:polygon(0_0,100%_0,100%_calc(100%-5rem),0_100%)] pt-[10rem] pb-[15rem]"}`)},u[5]||(u[5]=[p("div",{class:"relative h-[10rem] w-full flex justify-center items-center"},[p("div",{class:"w-full absolute top-[2rem] left-0 hidden lg:flex"},[p("svg",{width:"1439",height:"46",viewBox:"0 0 1439 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1439 0.809456L1213.55 9.45089C1213.06 9.46978 1212.59 9.67003 1212.23 10.0132L1194.53 27.1656C1193.22 28.4422 1194.17 30.6707 1196 30.6004L1439 21.2864V0.809456Z",fill:"#FBC151"}),p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 45.4958L265.844 35.3061C266.355 35.2866 266.839 35.0721 267.196 34.7068L283.956 17.5904C285.221 16.2981 284.257 14.1234 282.45 14.1927L0 25.0188V45.4958Z",fill:"#FBC151"})])]),p("h3",{class:"font-heading text-center text-title lg:text-heading text-screenBlack"}," Sponsors ")],-1)]),2),N(e).mainSponsorExists?(Y(),ae("div",ez,[p("div",tz,[p("h4",rz," Main sponsor - "+we((h=N(e).mainSponsor)==null?void 0:h.sponsorName),1),p("p",{class:"font-body text-body lg:text-body text-center lg:text-left",innerHTML:N(Hi)((f=N(e).mainSponsor)==null?void 0:f.description)},null,8,iz)]),p("div",sz,[p("img",{src:(y=N(e).mainSponsor)==null?void 0:y.logoSrc,alt:"main sponsor logo",class:"w-full max-h-full"},null,8,nz)])])):Ne("",!0),N(e).goldSponsors.length?(Y(),ae(ct,{key:1},[N(e).silverSponsors.length||N(e).bronzeSponsors.length||N(e).mainSponsorExists?(Y(),ae("div",az,u[6]||(u[6]=[p("div",{class:"absolute left-[70%] md:left-[50%] lg:left-[70%] xl:left-[50%] 2xl:left-auto 2xl:right-0 xl:right-0 top-[43%]"},[p("svg",{width:"782",height:"31",viewBox:"0 0 782 31",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M782 0.926632L45.1191 9.80528C44.8717 9.80826 44.627 9.85712 44.3974 9.94936L2.16181 26.9214C0.107586 27.7469 0.717887 30.8037 2.9316 30.777L782 21.3901V0.926632Z",fill:"#FBC151"})])],-1),p("div",{class:"pl-[2rem] lg:pl-[12rem]"},[p("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Gold Sponsors ")],-1)]))):(Y(),ae("div",oz)),p("div",lz,[p("div",uz,[(Y(!0),ae(ct,null,Er(N(e).goldSponsors,(w,_)=>(Y(),kt(LU,{key:_,"logo-src":w.logoSrc,"sponsor-name":w.sponsorName,index:_,"logo-size":w.logoSize},null,8,["logo-src","sponsor-name","index","logo-size"]))),128)),u[7]||(u[7]=p("div",{class:"h-[35rem] min-w-[35rem] flex items-center justify-center"},[p("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[st("Here could "),p("br"),st(" be your logo")])],-1))])])],64)):Ne("",!0),N(e).silverSponsors.length?(Y(),ae(ct,{key:2},[u[9]||(u[9]=p("div",{class:"relative w-full h-max py-[12rem] flex justify-end"},[p("div",{class:"absolute right-[70%] md:right-[50%] lg:right-[70%] xl:right-[60%] 2xl:left-0 top-[43%]"},[p("svg",{width:"701",height:"29",viewBox:"0 0 701 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 29.005L658.721 21.0681C658.981 21.065 659.237 21.0114 659.476 20.9102L699.536 3.9644C701.556 3.10981 700.926 0.0961456 698.733 0.122574L0 8.54158V29.005Z",fill:"#FBC151"})])]),p("div",{class:"pr-[2rem] lg:pr-[12rem]"},[p("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Silver Sponsors ")])],-1)),p("div",cz,[p("div",dz,[(Y(!0),ae(ct,null,Er(N(e).silverSponsors,(w,_)=>(Y(),kt(VU,{key:_,"logo-src":w.logoSrc,"sponsor-name":w.sponsorName,index:_,"logo-size":w.logoSize},null,8,["logo-src","sponsor-name","index","logo-size"]))),128)),u[8]||(u[8]=p("div",{class:"h-[30rem] min-w-[30rem] flex items-center justify-center"},[p("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[st("Here could "),p("br"),st(" be your logo")])],-1))])])],64)):Ne("",!0),N(e).bronzeSponsors.length?(Y(),ae(ct,{key:3},[u[11]||(u[11]=p("div",{class:"relative w-full h-max py-[12rem]"},[p("div",{class:"absolute left-[70%] md:left-[50%] lg:left-[70%] xl:left-[50%] 2xl:left-auto 2xl:right-0 xl:right-0 top-[43%]"},[p("svg",{width:"782",height:"31",viewBox:"0 0 782 31",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M782 0.926632L45.1191 9.80528C44.8717 9.80826 44.627 9.85712 44.3974 9.94936L2.16181 26.9214C0.107586 27.7469 0.717887 30.8037 2.9316 30.777L782 21.3901V0.926632Z",fill:"#FBC151"})])]),p("div",{class:"pl-[2rem] lg:pl-[12rem]"},[p("h3",{class:"font-heading text-subtitle lg:text-heading text-pearl-white"}," Bronze Sponsors ")])],-1)),p("div",hz,[p("div",fz,[(Y(!0),ae(ct,null,Er(N(e).bronzeSponsors,(w,_)=>(Y(),kt(e$,{key:_,"logo-src":w.logoSrc,"sponsor-name":w.sponsorName,index:_,"logo-size":w.logoSize},null,8,["logo-src","sponsor-name","index","logo-size"]))),128)),u[10]||(u[10]=p("div",{class:"h-[25rem] min-w-[25rem] flex items-center justify-center"},[p("p",{class:"font-heading text-subtitle lg:text-subtitle text-pearl-white text-center"},[st("Here could "),p("br"),st(" be your logo")])],-1))])])],64)):Ne("",!0)])]),ge(Bs,{"enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Fe(()=>[r.value&&N(i)?(Y(),ae("div",{key:0,class:"fixed z-[600] w-full h-full top-0 left-0 bg-[rgba(0,0,0,0.4)] flex justify-center items-center transition-opacity duration-100",onClick:o},[u[12]||(u[12]=p("button",{class:"absolute right-[4rem] top-[4rem] aspect-square w-[2rem] lg:w-[4rem] rounded-full transition-all"},[p("svg",{width:"134",height:"134",viewBox:"0 0 134 134",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("g",{"clip-path":"url(#clip0_286_9)"},[p("rect",{x:"-2.67847",y:"6.51398",width:"13",height:"184.075",rx:"6.5",transform:"rotate(-45 -2.67847 6.51398)",fill:"#F2F1F0"}),p("rect",{x:"127.482",y:"-2.67841",width:"13",height:"184.075",rx:"6.5",transform:"rotate(45 127.482 -2.67841)",fill:"#F2F1F0"})]),p("defs",null,[p("clipPath",{id:"clip0_286_9"},[p("rect",{width:"134",height:"134",fill:"white"})])])])],-1)),ge(B$,{onCloseForm:u[0]||(u[0]=()=>{r.value=!1})})])):Ne("",!0)]),_:1}),ge(Bs,{"enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Fe(()=>[r.value&&!N(i)?(Y(),ae("div",{key:0,class:"fixed z-[600] w-full h-full top-0 left-0 bg-[rgba(0,0,0,0.4)] flex justify-center items-center transition-opacity duration-100",onClick:o},[u[17]||(u[17]=p("button",{class:"absolute right-[4rem] top-[4rem] aspect-square w-[2rem] lg:w-[4rem] rounded-full transition-all"},[p("svg",{width:"134",height:"134",viewBox:"0 0 134 134",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("g",{"clip-path":"url(#clip0_286_9)"},[p("rect",{x:"-2.67847",y:"6.51398",width:"13",height:"184.075",rx:"6.5",transform:"rotate(-45 -2.67847 6.51398)",fill:"#F2F1F0"}),p("rect",{x:"127.482",y:"-2.67841",width:"13",height:"184.075",rx:"6.5",transform:"rotate(45 127.482 -2.67841)",fill:"#F2F1F0"})]),p("defs",null,[p("clipPath",{id:"clip0_286_9"},[p("rect",{width:"134",height:"134",fill:"white"})])])])],-1)),p("div",pz,[u[15]||(u[15]=p("h3",{class:"font-heading text-subtitle text-screenBlack text-center"},"You have to log in first",-1)),u[16]||(u[16]=p("p",{class:"font-body text-body text-screenBlack text-center"}," you need to be signed into your account in order to participate in the event.",-1)),p("div",mz,[ge(c,{to:"/sign_up",class:"rounded-2xl text-secondary lg:hover:bg-screenBlack-400 lg:hover:bg-opacity-15 w-[16rem] h-[6rem] lg:w-[18rem] lg:h-[6rem] flex justify-center items-center text-body font-semibold"},{default:Fe(()=>u[13]||(u[13]=[st("Sign up")])),_:1}),ge(c,{to:`/sign_in?next=${N(s).path}`,class:"rounded-2xl text-secondary bg-primary w-[16rem] h-[6rem] lg:w-[18rem] lg:h-[6rem] flex justify-center items-center text-body font-semibold"},{default:Fe(()=>u[14]||(u[14]=[st("Sign in")])),_:1},8,["to"])])])])):Ne("",!0)]),_:1})])]}),_:1})}}}),yz=Wa(gz,[["__scopeId","data-v-541ea539"]]);function vz(t){return t.replace(/([A-Z])/g,"_$1").toLowerCase()}function bz(t){return new Promise((e,r)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>e(i.result),i.onerror=s=>r(s)})}const _z=ai("profilePageStore",{state:()=>({phoneNumber:"",institution:"",programOfStudy:"",profilePicture:null,editingField:null}),actions:{async updateProfilePicture(){if(this.profilePicture)try{const t=await bz(this.profilePicture);await qi.put("/updateUser/",{profile_picture:t}),await ri().getProfileData()}catch{Ct().addToast({type:"error",title:"Something went wrong",message:"could not update profile picture, try again later."})}},async updateProfileField(t,e){try{const r=vz(t);await qi.put("/updateUser/",{[r]:e}),await ri().getProfileData(),this.cancelEditing()}catch{Ct().addToast({type:"error",title:"Error has occured",message:"could not update profile information. try later"})}},startEditing(t){this.editingField=t;const e=ri();this[t]=e[t]??""},cancelEditing(){this.editingField!=null&&(this[this.editingField]=""),this.editingField=null}}}),xz={class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-pearl-white flex flex-col justify-center py-[5rem]"},wz={class:"grid grid-cols-1 lg:grid-cols-[1fr_2fr] gap-y-[4rem] lg:gap-y-0 lg:gap-x-[4rem] text-screenBlack font-body text-text-sm lg:text-body"},Tz={class:"flex flex-col items-center gap-[2rem]"},Sz={key:0,class:"w-full max-w-[30rem] flex justify-center items-center aspect-square relative before:absolute before:w-full before:h-full before:z-0 before:bg-gray-50 before:scale-[1.08] before:[clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)] before:[-webkit-clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)]"},Cz={class:"relative z-[2] w-[95%] aspect-square overflow-hidden [clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)] [-webkit-clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)]"},Ez=["src"],Az={class:"flex gap-[1rem] items-center cursor-pointer",for:"profilePictureInput"},kz={key:0},Dz={key:1},Iz={class:"flex flex-col gap-[2rem] items-center lg:items-start text-center lg:text-left"},Lz={class:"font-heading text-subtitle lg:text-title"},Pz={class:"flex flex-col lg:flex-row gap-[1rem] items-center"},Mz={class:"flex flex-col lg:flex-row gap-[1rem] items-center"},Rz={key:0,class:"flex items-center gap-[1rem] h-[3.5rem]"},Oz={key:1,class:"flex items-center gap-[1rem]"},Nz={class:"flex flex-col lg:flex-row gap-[1rem] items-center"},Bz={key:0,class:"flex items-center gap-[1rem] h-[3.5rem]"},Fz={key:1,class:"flex items-center gap-[1rem]"},Uz={class:"flex flex-col lg:flex-row gap-[1rem] items-center"},$z={key:0,class:"flex items-center gap-[1rem] h-[3.5rem]"},zz={key:1,class:"flex items-center gap-[1rem]"},qz={class:"flex flex-col gap-[2rem] py-[10rem] text-screenBlack font-body text-body"},jz={class:"flex flex-col lg:flex-row items-center lg:items-start text-center lg:text-left gap-[4rem]"},Hz={class:"flex gap-[3rem] items-center h-[4rem] lg:h-[7rem] font-heading text-body lg:text-subtitle"},Vz={key:0,class:"flex gap-[1rem] items-center h-full drop-shadow-sm"},Gz={key:1,class:"flex gap-[1rem] items-center h-full"},Wz={key:2,class:"flex gap-[1rem] items-center h-full"},Xz={class:"w-full bg-white-100 overflow-y-auto rounded relative text-text-sm lg:text-body"},Kz={class:"h-max max-h-[20rem] w-full text-text-xs lg:text-body"},Yz={class:"w-full h-max flex flex-col py-[1rem]"},Qz={class:"text-center font-body"},Zz={class:"text-center font-body"},Jz={class:"text-center font-body"},eq=tt({__name:"Profile",setup(t){const e=ri(),r=_z(),{phoneNumber:i,institution:s,programOfStudy:n,profilePicture:a,editingField:o}=Ii(r),l=u=>{a.value=u.target.files[0],confirm("Are you sure you want to update your profile picture?")&&r.updateProfilePicture()};return(u,c)=>{const h=Zi("RouterLink");return Y(),kt(gs,null,{default:Fe(()=>[c[35]||(c[35]=p("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},[p("h1",{class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"}," Profile ")],-1)),p("div",xz,[p("section",wz,[p("div",Tz,[N(e).profilePicture?(Y(),ae("div",Sz,[p("div",Cz,[p("img",{src:N(e).profilePicture,alt:"profile picture",class:"w-full h-full object-cover"},null,8,Ez)]),c[12]||(c[12]=p("div",{class:"w-full h-full top-0 left-0 bg-primary absolute z-[1] [clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)] [-webkit-clip-path:polygon(68.3%_3.46%,18.85%_10.88%,0.55%_57.42%,31.7%_96.54%,81.15%_89.12%,99.45%_42.58%)]"},null,-1))])):Ne("",!0),p("label",Az,[N(e).profilePicture?(Y(),ae("p",kz,"change profile picture")):(Y(),ae("p",Dz,"set profile picture")),c[13]||(c[13]=p("div",{class:"h-full aspect-square"},[p("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("g",{"clip-path":"url(#clip0_326_389)"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.8809 1.39611C27.443 0.625054 28.5237 0.455652 29.2948 1.01774L30.5831 1.95691C31.3541 2.51901 31.5235 3.59974 30.9614 4.3708L30.7528 4.65694C30.4718 5.04247 29.9314 5.12717 29.5459 4.84613L26.8615 2.8892C26.4759 2.60815 26.3912 2.06779 26.6723 1.68226L26.8809 1.39611ZM26.3667 3.56898C25.9811 3.28793 25.4408 3.37263 25.1597 3.75816L21.8781 8.25973L15.796 4.74823C14.9942 4.28529 14.0063 4.28529 13.2045 4.74823L3.23866 10.502C2.43682 10.9649 1.94287 11.8205 1.94287 12.7463V24.2539C1.94287 25.1797 2.43682 26.0353 3.23866 26.4982L8.5657 29.5738L9.06491 29.6986C9.16515 29.7237 9.26762 29.7277 9.36656 29.7123C9.72123 29.9466 14.4782 26.4085 14.4782 26.4085L10.9443 23.8323C10.9443 23.8323 9.76292 27.2979 9.41792 28.9111L3.73866 25.6322C3.24622 25.3479 2.94287 24.8225 2.94287 24.2539V12.7463C2.94287 12.1777 3.24622 11.6523 3.73866 11.368L13.7045 5.61425C14.1969 5.32994 14.8036 5.32994 15.296 5.61425L21.2857 9.07239L11.5519 22.4249C11.2709 22.8104 11.3556 23.3507 11.7411 23.6318L14.4256 25.5887C14.8111 25.8698 15.3515 25.7851 15.6325 25.3995L25.64 11.6716C25.9048 11.9609 26.0576 12.3428 26.0576 12.7463V24.2539C26.0576 24.8225 25.7543 25.3479 25.2618 25.6322L15.296 31.386C15.2748 31.3982 15.2534 31.4099 15.2318 31.4211L15.8372 32.2282L25.7618 26.4982C26.5637 26.0353 27.0576 25.1797 27.0576 24.2539V12.7463C27.0576 12.0204 26.754 11.3377 26.2363 10.8536L29.2403 6.73285C29.5213 6.34732 29.4366 5.80695 29.0511 5.52591L26.3667 3.56898Z",fill:"#4D4D4D"})]),p("defs",null,[p("clipPath",{id:"clip0_326_389"},[p("rect",{width:"32",height:"32",fill:"white"})])])])],-1))]),p("input",{type:"file",class:"hidden",id:"profilePictureInput",onChange:l,accept:".jpg,.jpeg,.png,.webp"},null,32)]),p("div",Iz,[p("div",null,[p("p",Lz,we(N(e).firstName)+" "+we(N(e).lastName),1)]),p("div",Pz,[c[14]||(c[14]=p("span",{class:"font-heading"},"email:",-1)),p("p",null,we(N(e).email),1)]),p("div",Mz,[c[18]||(c[18]=p("span",{class:"font-heading"},"tel:",-1)),N(o)==="phoneNumber"?(Y(),ae("div",Rz,[Pa(p("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=f=>gt(i)?i.value=f:null),class:"px-[2rem] py-[1rem] outline-none bg-white-100 rounded-lg"},null,512),[[Ao,N(i)]]),p("button",{class:"h-full aspect-square",onClick:c[1]||(c[1]=()=>N(r).updateProfileField("phoneNumber",N(i)))},c[15]||(c[15]=[p("svg",{viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{d:"M54.25 8.87639L95.5513 32.7217C95.706 32.811 95.8013 32.9761 95.8013 33.1547V80.8453C95.8013 81.0239 95.706 81.189 95.5513 81.2783L54.25 105.124C54.0953 105.213 53.9047 105.213 53.75 105.124L12.4487 81.2783C12.294 81.189 12.1987 81.0239 12.1987 80.8453V33.1547C12.1987 32.9761 12.294 32.811 12.4487 32.7217L53.75 8.87639C53.9047 8.78707 54.0953 8.78707 54.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),p("path",{d:"M17.1122 55.5992C16.2373 54.833 16.2034 53.484 17.0388 52.6749V52.6749C17.7632 51.9732 18.8929 51.9246 19.6644 52.5742C22.9453 55.337 31.449 62.6057 36.8107 68.1665C41.9705 73.5181 48.6822 81.9154 51.2733 85.206C51.8965 85.9974 51.8123 87.1247 51.0888 87.8255V87.8255C50.2529 88.6351 48.9052 88.5575 48.1687 87.6567C45.4186 84.293 39.0563 76.6147 34.2272 71.5804C28.8828 66.0088 20.5949 58.6493 17.1122 55.5992Z",fill:"#4D4D4D"}),p("path",{d:"M94.5099 28.6203C95.3232 27.7632 95.1999 26.3859 94.2459 25.6888V25.6888C93.459 25.1138 92.3726 25.2057 91.7028 25.9137C87.7845 30.0553 74.9445 43.8124 67.5 54C60.0696 64.1683 51.1708 80.1467 48.483 85.0562C48.0157 85.9097 48.2608 86.9678 49.0465 87.5418V87.5418C50.0022 88.2402 51.3564 87.9343 51.926 86.8967C54.8875 81.5026 63.4346 66.2298 70.5 56.5C77.7984 46.4493 90.1893 33.1737 94.5099 28.6203Z",fill:"#4D4D4D"})],-1)])),p("button",{class:"h-full aspect-square",onClick:c[2]||(c[2]=()=>N(r).cancelEditing())},c[16]||(c[16]=[p("svg",{viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{d:"M57.25 8.87639L98.5513 32.7217C98.706 32.811 98.8013 32.9761 98.8013 33.1547V80.8453C98.8013 81.0239 98.706 81.189 98.5513 81.2783L57.25 105.124C57.0953 105.213 56.9047 105.213 56.75 105.124L15.4487 81.2783C15.294 81.189 15.1987 81.0239 15.1987 80.8453V33.1547C15.1987 32.9761 15.294 32.811 15.4487 32.7217L56.75 8.87639C56.9047 8.78707 57.0953 8.78707 57.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),p("rect",{x:"34.5293",y:"37.4055",width:"3.93713",height:"57.9069",rx:"1.96856",transform:"rotate(-44.0859 34.5293 37.4055)",fill:"#4D4D4D"}),p("rect",{width:"3.93713",height:"57.9069",rx:"1.96856",transform:"matrix(-0.718298 -0.695736 -0.695736 0.718298 77.8506 36.7815)",fill:"#4D4D4D"})],-1)]))])):(Y(),ae("div",Oz,[p("p",null,we(N(e).phoneNumber),1),p("button",{class:"h-full aspect-square",onClick:c[3]||(c[3]=()=>N(r).startEditing("phoneNumber"))},c[17]||(c[17]=[p("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("g",{"clip-path":"url(#clip0_326_389)"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.8809 1.39611C27.443 0.625054 28.5237 0.455652 29.2948 1.01774L30.5831 1.95691C31.3541 2.51901 31.5235 3.59974 30.9614 4.3708L30.7528 4.65694C30.4718 5.04247 29.9314 5.12717 29.5459 4.84613L26.8615 2.8892C26.4759 2.60815 26.3912 2.06779 26.6723 1.68226L26.8809 1.39611ZM26.3667 3.56898C25.9811 3.28793 25.4408 3.37263 25.1597 3.75816L21.8781 8.25973L15.796 4.74823C14.9942 4.28529 14.0063 4.28529 13.2045 4.74823L3.23866 10.502C2.43682 10.9649 1.94287 11.8205 1.94287 12.7463V24.2539C1.94287 25.1797 2.43682 26.0353 3.23866 26.4982L8.5657 29.5738L9.06491 29.6986C9.16515 29.7237 9.26762 29.7277 9.36656 29.7123C9.72123 29.9466 14.4782 26.4085 14.4782 26.4085L10.9443 23.8323C10.9443 23.8323 9.76292 27.2979 9.41792 28.9111L3.73866 25.6322C3.24622 25.3479 2.94287 24.8225 2.94287 24.2539V12.7463C2.94287 12.1777 3.24622 11.6523 3.73866 11.368L13.7045 5.61425C14.1969 5.32994 14.8036 5.32994 15.296 5.61425L21.2857 9.07239L11.5519 22.4249C11.2709 22.8104 11.3556 23.3507 11.7411 23.6318L14.4256 25.5887C14.8111 25.8698 15.3515 25.7851 15.6325 25.3995L25.64 11.6716C25.9048 11.9609 26.0576 12.3428 26.0576 12.7463V24.2539C26.0576 24.8225 25.7543 25.3479 25.2618 25.6322L15.296 31.386C15.2748 31.3982 15.2534 31.4099 15.2318 31.4211L15.8372 32.2282L25.7618 26.4982C26.5637 26.0353 27.0576 25.1797 27.0576 24.2539V12.7463C27.0576 12.0204 26.754 11.3377 26.2363 10.8536L29.2403 6.73285C29.5213 6.34732 29.4366 5.80695 29.0511 5.52591L26.3667 3.56898Z",fill:"#4D4D4D"})]),p("defs",null,[p("clipPath",{id:"clip0_326_389"},[p("rect",{width:"32",height:"32",fill:"white"})])])],-1)]))]))]),p("div",Nz,[c[22]||(c[22]=p("span",{class:"font-heading"},"Institution:",-1)),N(o)==="institution"?(Y(),ae("div",Bz,[Pa(p("input",{type:"text","onUpdate:modelValue":c[4]||(c[4]=f=>gt(s)?s.value=f:null),class:"px-[2rem] py-[1rem] outline-none bg-white-100 rounded-lg"},null,512),[[Ao,N(s)]]),p("button",{class:"h-full aspect-square",onClick:c[5]||(c[5]=()=>N(r).updateProfileField("institution",N(s)))},c[19]||(c[19]=[p("svg",{width:"113",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{d:"M54.25 8.87639L95.5513 32.7217C95.706 32.811 95.8013 32.9761 95.8013 33.1547V80.8453C95.8013 81.0239 95.706 81.189 95.5513 81.2783L54.25 105.124C54.0953 105.213 53.9047 105.213 53.75 105.124L12.4487 81.2783C12.294 81.189 12.1987 81.0239 12.1987 80.8453V33.1547C12.1987 32.9761 12.294 32.811 12.4487 32.7217L53.75 8.87639C53.9047 8.78707 54.0953 8.78707 54.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),p("path",{d:"M17.1122 55.5992C16.2373 54.833 16.2034 53.484 17.0388 52.6749V52.6749C17.7632 51.9732 18.8929 51.9246 19.6644 52.5742C22.9453 55.337 31.449 62.6057 36.8107 68.1665C41.9705 73.5181 48.6822 81.9154 51.2733 85.206C51.8965 85.9974 51.8123 87.1247 51.0888 87.8255V87.8255C50.2529 88.6351 48.9052 88.5575 48.1687 87.6567C45.4186 84.293 39.0563 76.6147 34.2272 71.5804C28.8828 66.0088 20.5949 58.6493 17.1122 55.5992Z",fill:"#4D4D4D"}),p("path",{d:"M94.5099 28.6203C95.3232 27.7632 95.1999 26.3859 94.2459 25.6888V25.6888C93.459 25.1138 92.3726 25.2057 91.7028 25.9137C87.7845 30.0553 74.9445 43.8124 67.5 54C60.0696 64.1683 51.1708 80.1467 48.483 85.0562C48.0157 85.9097 48.2608 86.9678 49.0465 87.5418V87.5418C50.0022 88.2402 51.3564 87.9343 51.926 86.8967C54.8875 81.5026 63.4346 66.2298 70.5 56.5C77.7984 46.4493 90.1893 33.1737 94.5099 28.6203Z",fill:"#4D4D4D"})],-1)])),p("button",{class:"h-full aspect-square",onClick:c[6]||(c[6]=()=>N(r).cancelEditing())},c[20]||(c[20]=[p("svg",{width:"113",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{d:"M57.25 8.87639L98.5513 32.7217C98.706 32.811 98.8013 32.9761 98.8013 33.1547V80.8453C98.8013 81.0239 98.706 81.189 98.5513 81.2783L57.25 105.124C57.0953 105.213 56.9047 105.213 56.75 105.124L15.4487 81.2783C15.294 81.189 15.1987 81.0239 15.1987 80.8453V33.1547C15.1987 32.9761 15.294 32.811 15.4487 32.7217L56.75 8.87639C56.9047 8.78707 57.0953 8.78707 57.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),p("rect",{x:"34.5293",y:"37.4055",width:"3.93713",height:"57.9069",rx:"1.96856",transform:"rotate(-44.0859 34.5293 37.4055)",fill:"#4D4D4D"}),p("rect",{width:"3.93713",height:"57.9069",rx:"1.96856",transform:"matrix(-0.718298 -0.695736 -0.695736 0.718298 77.8506 36.7815)",fill:"#4D4D4D"})],-1)]))])):(Y(),ae("div",Fz,[p("p",null,we(N(e).institution),1),p("button",{class:"h-full aspect-square",onClick:c[7]||(c[7]=()=>N(r).startEditing("institution"))},c[21]||(c[21]=[p("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("g",{"clip-path":"url(#clip0_326_389)"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.8809 1.39611C27.443 0.625054 28.5237 0.455652 29.2948 1.01774L30.5831 1.95691C31.3541 2.51901 31.5235 3.59974 30.9614 4.3708L30.7528 4.65694C30.4718 5.04247 29.9314 5.12717 29.5459 4.84613L26.8615 2.8892C26.4759 2.60815 26.3912 2.06779 26.6723 1.68226L26.8809 1.39611ZM26.3667 3.56898C25.9811 3.28793 25.4408 3.37263 25.1597 3.75816L21.8781 8.25973L15.796 4.74823C14.9942 4.28529 14.0063 4.28529 13.2045 4.74823L3.23866 10.502C2.43682 10.9649 1.94287 11.8205 1.94287 12.7463V24.2539C1.94287 25.1797 2.43682 26.0353 3.23866 26.4982L8.5657 29.5738L9.06491 29.6986C9.16515 29.7237 9.26762 29.7277 9.36656 29.7123C9.72123 29.9466 14.4782 26.4085 14.4782 26.4085L10.9443 23.8323C10.9443 23.8323 9.76292 27.2979 9.41792 28.9111L3.73866 25.6322C3.24622 25.3479 2.94287 24.8225 2.94287 24.2539V12.7463C2.94287 12.1777 3.24622 11.6523 3.73866 11.368L13.7045 5.61425C14.1969 5.32994 14.8036 5.32994 15.296 5.61425L21.2857 9.07239L11.5519 22.4249C11.2709 22.8104 11.3556 23.3507 11.7411 23.6318L14.4256 25.5887C14.8111 25.8698 15.3515 25.7851 15.6325 25.3995L25.64 11.6716C25.9048 11.9609 26.0576 12.3428 26.0576 12.7463V24.2539C26.0576 24.8225 25.7543 25.3479 25.2618 25.6322L15.296 31.386C15.2748 31.3982 15.2534 31.4099 15.2318 31.4211L15.8372 32.2282L25.7618 26.4982C26.5637 26.0353 27.0576 25.1797 27.0576 24.2539V12.7463C27.0576 12.0204 26.754 11.3377 26.2363 10.8536L29.2403 6.73285C29.5213 6.34732 29.4366 5.80695 29.0511 5.52591L26.3667 3.56898Z",fill:"#4D4D4D"})]),p("defs",null,[p("clipPath",{id:"clip0_326_389"},[p("rect",{width:"32",height:"32",fill:"white"})])])],-1)]))]))]),p("div",Uz,[c[26]||(c[26]=p("span",{class:"font-heading"},"Program of studies:",-1)),N(o)==="programOfStudy"?(Y(),ae("div",$z,[Pa(p("input",{type:"text","onUpdate:modelValue":c[8]||(c[8]=f=>gt(n)?n.value=f:null),class:"px-[2rem] py-[1rem] bg-white-100 rounded-lg"},null,512),[[Ao,N(n)]]),p("button",{class:"h-full aspect-square",onClick:c[9]||(c[9]=()=>N(r).updateProfileField("programOfStudy",N(n)))},c[23]||(c[23]=[p("svg",{width:"113",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{d:"M54.25 8.87639L95.5513 32.7217C95.706 32.811 95.8013 32.9761 95.8013 33.1547V80.8453C95.8013 81.0239 95.706 81.189 95.5513 81.2783L54.25 105.124C54.0953 105.213 53.9047 105.213 53.75 105.124L12.4487 81.2783C12.294 81.189 12.1987 81.0239 12.1987 80.8453V33.1547C12.1987 32.9761 12.294 32.811 12.4487 32.7217L53.75 8.87639C53.9047 8.78707 54.0953 8.78707 54.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),p("path",{d:"M17.1122 55.5992C16.2373 54.833 16.2034 53.484 17.0388 52.6749V52.6749C17.7632 51.9732 18.8929 51.9246 19.6644 52.5742C22.9453 55.337 31.449 62.6057 36.8107 68.1665C41.9705 73.5181 48.6822 81.9154 51.2733 85.206C51.8965 85.9974 51.8123 87.1247 51.0888 87.8255V87.8255C50.2529 88.6351 48.9052 88.5575 48.1687 87.6567C45.4186 84.293 39.0563 76.6147 34.2272 71.5804C28.8828 66.0088 20.5949 58.6493 17.1122 55.5992Z",fill:"#4D4D4D"}),p("path",{d:"M94.5099 28.6203C95.3232 27.7632 95.1999 26.3859 94.2459 25.6888V25.6888C93.459 25.1138 92.3726 25.2057 91.7028 25.9137C87.7845 30.0553 74.9445 43.8124 67.5 54C60.0696 64.1683 51.1708 80.1467 48.483 85.0562C48.0157 85.9097 48.2608 86.9678 49.0465 87.5418V87.5418C50.0022 88.2402 51.3564 87.9343 51.926 86.8967C54.8875 81.5026 63.4346 66.2298 70.5 56.5C77.7984 46.4493 90.1893 33.1737 94.5099 28.6203Z",fill:"#4D4D4D"})],-1)])),p("button",{class:"h-full aspect-square",onClick:c[10]||(c[10]=()=>N(r).cancelEditing())},c[24]||(c[24]=[p("svg",{width:"113",height:"113",viewBox:"0 0 113 113",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{d:"M57.25 8.87639L98.5513 32.7217C98.706 32.811 98.8013 32.9761 98.8013 33.1547V80.8453C98.8013 81.0239 98.706 81.189 98.5513 81.2783L57.25 105.124C57.0953 105.213 56.9047 105.213 56.75 105.124L15.4487 81.2783C15.294 81.189 15.1987 81.0239 15.1987 80.8453V33.1547C15.1987 32.9761 15.294 32.811 15.4487 32.7217L56.75 8.87639C56.9047 8.78707 57.0953 8.78707 57.25 8.87639Z",stroke:"#4D4D4D","stroke-width":"3"}),p("rect",{x:"34.5293",y:"37.4055",width:"3.93713",height:"57.9069",rx:"1.96856",transform:"rotate(-44.0859 34.5293 37.4055)",fill:"#4D4D4D"}),p("rect",{width:"3.93713",height:"57.9069",rx:"1.96856",transform:"matrix(-0.718298 -0.695736 -0.695736 0.718298 77.8506 36.7815)",fill:"#4D4D4D"})],-1)]))])):(Y(),ae("div",zz,[p("p",null,we(N(e).programOfStudy),1),p("button",{class:"h-full aspect-square",onClick:c[11]||(c[11]=()=>N(r).startEditing("programOfStudy"))},c[25]||(c[25]=[p("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("g",{"clip-path":"url(#clip0_326_389)"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.8809 1.39611C27.443 0.625054 28.5237 0.455652 29.2948 1.01774L30.5831 1.95691C31.3541 2.51901 31.5235 3.59974 30.9614 4.3708L30.7528 4.65694C30.4718 5.04247 29.9314 5.12717 29.5459 4.84613L26.8615 2.8892C26.4759 2.60815 26.3912 2.06779 26.6723 1.68226L26.8809 1.39611ZM26.3667 3.56898C25.9811 3.28793 25.4408 3.37263 25.1597 3.75816L21.8781 8.25973L15.796 4.74823C14.9942 4.28529 14.0063 4.28529 13.2045 4.74823L3.23866 10.502C2.43682 10.9649 1.94287 11.8205 1.94287 12.7463V24.2539C1.94287 25.1797 2.43682 26.0353 3.23866 26.4982L8.5657 29.5738L9.06491 29.6986C9.16515 29.7237 9.26762 29.7277 9.36656 29.7123C9.72123 29.9466 14.4782 26.4085 14.4782 26.4085L10.9443 23.8323C10.9443 23.8323 9.76292 27.2979 9.41792 28.9111L3.73866 25.6322C3.24622 25.3479 2.94287 24.8225 2.94287 24.2539V12.7463C2.94287 12.1777 3.24622 11.6523 3.73866 11.368L13.7045 5.61425C14.1969 5.32994 14.8036 5.32994 15.296 5.61425L21.2857 9.07239L11.5519 22.4249C11.2709 22.8104 11.3556 23.3507 11.7411 23.6318L14.4256 25.5887C14.8111 25.8698 15.3515 25.7851 15.6325 25.3995L25.64 11.6716C25.9048 11.9609 26.0576 12.3428 26.0576 12.7463V24.2539C26.0576 24.8225 25.7543 25.3479 25.2618 25.6322L15.296 31.386C15.2748 31.3982 15.2534 31.4099 15.2318 31.4211L15.8372 32.2282L25.7618 26.4982C26.5637 26.0353 27.0576 25.1797 27.0576 24.2539V12.7463C27.0576 12.0204 26.754 11.3377 26.2363 10.8536L29.2403 6.73285C29.5213 6.34732 29.4366 5.80695 29.0511 5.52591L26.3667 3.56898Z",fill:"#4D4D4D"})]),p("defs",null,[p("clipPath",{id:"clip0_326_389"},[p("rect",{width:"32",height:"32",fill:"white"})])])],-1)]))]))])])]),p("section",qz,[p("div",jz,[c[33]||(c[33]=p("h2",{class:"font-heading text-subtitle lg:text-title"}," Competitions history ",-1)),p("div",Hz,[N(e).wins.golds?(Y(),ae("div",Vz,[c[27]||(c[27]=p("div",{class:"aspect-square h-full flex items-center"},[p("svg",{width:"247",height:"155",viewBox:"0 0 247 155",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("g",{"clip-path":"url(#clip0_340_462)"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M131.058 31.6221L137.984 27.6229V9.20763L122.036 0L106.088 9.20763V27.6229L113.145 31.6968L83.6712 78.2648L46.0733 73.661L14.1108 55.8357L20.0195 50.338L18.492 36.6113L8.48221 30.7768L0 38.6691L1.52752 52.3958L7.2701 55.743L22.287 115.095C22.287 115.095 82.7879 130.516 122.036 130.441C160.69 130.368 220.251 115.095 220.251 115.095L239.986 58.6125L245.292 55.7967L247.366 42.1418L239.205 33.9178L228.97 39.3487L226.897 53.0036L231.149 57.2887L199.534 73.661L161.169 78.2648L131.058 31.6221ZM24.5889 125.838C24.5889 125.838 82.7528 140.881 122.036 140.416C160.216 139.965 217.182 125.838 217.182 125.838C217.182 125.838 214.113 135.045 211.811 138.114C209.509 141.184 159.034 154.773 122.036 154.995C83.5579 155.226 33.0292 141.951 30.7273 139.649C29.1927 138.114 24.5889 125.838 24.5889 125.838Z",fill:"#FBC151"})]),p("defs",null,[p("clipPath",{id:"clip0_340_462"},[p("rect",{width:"247",height:"155",fill:"white"})])])])],-1)),c[28]||(c[28]=p("span",null,":",-1)),p("span",null,we(N(e).wins.golds),1)])):Ne("",!0),N(e).wins.silvers?(Y(),ae("div",Gz,[c[29]||(c[29]=p("div",{class:"aspect-square h-full flex items-center p-3 drop-shadow-sm"},[p("svg",{width:"292",height:"292",viewBox:"0 0 292 292",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{d:"M90.4479 280.739C91.5597 282.138 93.3338 282.837 95.1014 282.573L234.389 261.766C236.156 261.502 237.648 260.315 238.303 258.653L289.943 127.523C290.597 125.862 290.316 123.978 289.206 122.58L201.552 12.2614C200.44 10.8622 198.666 10.1627 196.899 10.4267L57.6109 31.2345C55.8439 31.4984 54.352 32.6851 53.6973 34.3475L2.057 165.477C1.40286 167.138 1.68395 169.022 2.7945 170.42L90.4479 280.739Z",fill:"#4D4D4D"}),p("path",{d:"M97.8056 269L227.806 249.561L276 127.061L194.194 24L64.1944 43.4394L16 165.939L97.8056 269Z",fill:"#C8C8C8"})])],-1)),c[30]||(c[30]=p("span",null,":",-1)),p("span",null,we(N(e).wins.silvers),1)])):Ne("",!0),N(e).wins.bronzes?(Y(),ae("div",Wz,[c[31]||(c[31]=p("div",{class:"aspect-square h-full flex items-center p-3 drop-shadow-sm"},[p("svg",{width:"292",height:"292",viewBox:"0 0 292 292",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{d:"M90.4479 280.739C91.5597 282.138 93.3338 282.837 95.1014 282.573L234.389 261.766C236.156 261.502 237.648 260.315 238.303 258.653L289.943 127.523C290.597 125.862 290.316 123.978 289.206 122.58L201.552 12.2614C200.44 10.8622 198.666 10.1627 196.899 10.4267L57.6109 31.2345C55.8439 31.4984 54.352 32.6851 53.6973 34.3475L2.057 165.477C1.40286 167.138 1.68395 169.022 2.7945 170.42L90.4479 280.739Z",fill:"#CD7F32"}),p("path",{d:"M97.8056 269L227.806 249.561L276 127.061L194.194 24L64.1944 43.4394L16 165.939L97.8056 269Z",fill:"#F5C37E"})])],-1)),c[32]||(c[32]=p("span",null,":",-1)),p("span",null,we(N(e).wins.bronzes),1)])):Ne("",!0)])]),p("div",Xz,[c[34]||(c[34]=p("div",{class:"grid grid-cols-[2fr_6fr_4fr] py-[1rem] shadow-md sticky top-0 bg-pearl-white-50"},[p("h3",{class:"text-center font-heading"}," Date "),p("h3",{class:"text-center font-heading"}," Competition "),p("h3",{class:"text-center font-heading"}," Result ")],-1)),p("div",Kz,[p("div",Yz,[(Y(!0),ae(ct,null,Er(N(e).competitions,(f,y)=>(Y(),kt(h,{key:y,to:f.link,class:"grid grid-cols-[2fr_6fr_4fr] py-[1rem] lg:hover:bg-white-400"},{default:Fe(()=>[p("p",Qz,we(f.date.split(" ").slice(0,3).join(" ")),1),p("p",Zz,we(f.name),1),p("p",Jz,we(f.result),1)]),_:2},1032,["to"]))),128))])])])])]),c[36]||(c[36]=p("div",{class:"w-full flex items-end p-0 h-[6rem] bg-pearl-white"},[p("div",{class:"w-full h-[6rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1))]),_:1})}}}),tq=Wa(eq,[["__scopeId","data-v-1623d25d"]]),rq=ai("signUpPageStore",{state:()=>({email:"",firstName:"",lastName:"",institution:"",password:"",isTermsAccepted:!1,loading:!1,errors:{}}),actions:{validateForm(){return this.errors={},this.isTermsAccepted||(this.errors.isTermsAccepted="This field is required"),this.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)||(this.errors.email="Invalid email address."):this.errors.email="Email is required.",this.firstName.trim()||(this.errors.firstName="First Name is required."),this.lastName.trim()||(this.errors.lastName="Last Name is required."),this.password.trim()?this.password.length<8&&(this.errors.password="Password must be at least 8 characters long."):this.errors.password="Password is required.",Object.keys(this.errors).length===0},async initializeSignUp(){try{const t=await si.post("/register/",{first_name:this.firstName,last_name:this.lastName,school:this.institution,email:this.email,password:this.password,...this.institution?{institution:this.institution}:{}});Ct().addToast({type:"info",title:"Check your e-mail",message:"We sent a message to the e-mail you provided, use the link there to validate your e-mail address",duration:1e4})}catch(t){throw Ct().addToast({type:"error",title:"Error has occured",message:"try again later",duration:1e4}),t}}}}),iq={class:"inline-flex items-center cursor-pointer"},sq={class:"w-9 h-9 text-screenBlack absolute top-[-4px] left-[-3px] origin-center scale-[1.3]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"},nq=tt({__name:"CheckBox",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,i=e,s=Ye(r.modelValue);ls(()=>r.modelValue,a=>{s.value=a});const n=()=>{i("update:modelValue",s.value)};return(a,o)=>(Y(),ae("label",iq,[Pa(p("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=l=>s.value=l),onChange:n,class:"hidden"},null,544),[[sS,s.value]]),p("span",{class:$t(["relative w-8 h-8 border-2 rounded-full transition-all duration-300 flex items-center justify-center overflow-visible",[s.value?"bg-primary border-primary":"bg-white border-gray-300"]])},[(Y(),ae("svg",sq,[p("path",{d:"M5 13l4 4L19 7",class:$t(s.value?"draw-checkmark":"undraw-checkmark")},null,2)]))],2)]))}}),aq=Wa(nq,[["__scopeId","data-v-f14c039b"]]),oq={class:"w-full flex flex-col bg-pearl-white gap-[4rem] py-[5rem] text-body font-body text-screenBlack"},lq={class:"w-full flex justify-center"},uq={class:"flex flex-col w-full"},cq={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},dq={class:"flex flex-col w-full"},hq={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},fq={class:"flex flex-col w-full"},pq={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},mq={class:"flex flex-col w-full"},gq={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},yq={class:"flex flex-col w-full"},vq={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},bq={class:"flex flex-col w-full gap-[1rem] py-[2rem]"},_q={class:"flex items-center justify-center gap-[2rem]"},xq={key:0,class:"text-text-sm font-body text-center text-red pl-[0rem]"},wq={class:"w-full flex justify-center mt-[4rem]"},Tq=["disabled"],Sq={class:"relative z-[2]"},Cq={class:"flex text-center items-center flex-col text-body font-body gap-2"},Eq=tt({__name:"SignUp",setup(t){Ye("");const e=rq(),{email:r,password:i,firstName:s,lastName:n,institution:a,isTermsAccepted:o,errors:l}=Ii(e),u=Uu(),c=async h=>{if(h.preventDefault(),e.validateForm())try{await e.initializeSignUp(),u.push("/sign_in"),e.$reset()}catch{}};return(h,f)=>{const y=Zi("RouterLink");return Y(),kt(gs,null,{default:Fe(()=>[f[11]||(f[11]=p("div",{class:"w-full h-[8rem] lg:h-[10rem] bg-screenBlack"},null,-1)),p("div",oq,[f[10]||(f[10]=p("div",{class:"flex items-center justify-between"},[p("div",{class:"w-[10vw] lg:w-[30vw] h-[4rem] bg-primary"}),p("h1",{class:"font-heading text-subtitle lg:text-title text-center"}," Create new profile "),p("div",{class:"w-[10vw] lg:w-[30vw] h-[4rem] bg-primary"})],-1)),p("div",lq,[p("form",{onSubmit:c,class:"w-full lg:w-[30%] px-[2rem] flex flex-col gap-[2rem]"},[p("div",uq,[ge(as,{modelValue:N(r),"onUpdate:modelValue":f[0]||(f[0]=w=>gt(r)?r.value=w:null),class:"w-full",type:"text",label:"E-mail",name:"email",invalid:!!N(l).email},null,8,["modelValue","invalid"]),N(l).email?(Y(),ae("div",cq,we(N(l).email),1)):Ne("",!0)]),p("div",dq,[ge(as,{modelValue:N(s),"onUpdate:modelValue":f[1]||(f[1]=w=>gt(s)?s.value=w:null),class:"w-full",type:"text",label:"First Name",name:"first name",invalid:!!N(l).firstName},null,8,["modelValue","invalid"]),N(l).firstName?(Y(),ae("div",hq,we(N(l).firstName),1)):Ne("",!0)]),p("div",fq,[ge(as,{modelValue:N(n),"onUpdate:modelValue":f[2]||(f[2]=w=>gt(n)?n.value=w:null),class:"w-full",type:"text",label:"Last Name",name:"last name",invalid:!!N(l).lastName},null,8,["modelValue","invalid"]),N(l).lastName?(Y(),ae("div",pq,we(N(l).lastName),1)):Ne("",!0)]),p("div",mq,[ge(as,{modelValue:N(a),"onUpdate:modelValue":f[3]||(f[3]=w=>gt(a)?a.value=w:null),class:"w-full",type:"text",label:"Institution",name:"institution",invalid:!!N(l).institution},null,8,["modelValue","invalid"]),N(l).institution?(Y(),ae("div",gq,we(N(l).institution),1)):Ne("",!0)]),p("div",yq,[ge(as,{modelValue:N(i),"onUpdate:modelValue":f[4]||(f[4]=w=>gt(i)?i.value=w:null),class:"w-full",type:"password",label:"Password",name:"password",invalid:!!N(l).password},null,8,["modelValue","invalid"]),N(l).password?(Y(),ae("div",vq,we(N(l).password),1)):Ne("",!0)]),p("div",bq,[p("div",_q,[ge(aq,{modelValue:N(o),"onUpdate:modelValue":f[5]||(f[5]=w=>gt(o)?o.value=w:null)},null,8,["modelValue"]),p("p",{class:$t(`${N(l).isTermsAccepted?"text-red":"text-screenBlack"}`)},[f[7]||(f[7]=st("I accept ")),ge(y,{to:"/terms_of_use",class:"underline lg:hover:text-primary lg:transition-colors"},{default:Fe(()=>f[6]||(f[6]=[st("Terms of use")])),_:1})],2)]),N(l).isTermsAccepted?(Y(),ae("div",xq,we(N(l).isTermsAccepted),1)):Ne("",!0)]),p("div",wq,[p("button",{class:"overflow-hidden w-[90%] rounded-3xl font-heading text-subtitle pt-[0.8rem] pb-[0.6rem] relative bg-primary border-primary border-2 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:bg-pearl-white after:transition-transform after:duration-200 after:will-change-transform after:origin-top after:scale-y-0 hover:after:scale-y-100",title:"sign up",type:"submit",disabled:N(e).loading},[p("span",Sq,we(N(e).loading?"loading...":"Sign Up"),1)],8,Tq)]),p("div",Cq,[f[9]||(f[9]=p("p",null,"already have an account?",-1)),ge(y,{to:"sign_in",class:"lg:hover:underline text-primary"},{default:Fe(()=>f[8]||(f[8]=[st("click here to sign in")])),_:1})])],32)])]),f[12]||(f[12]=p("div",{class:"w-full flex items-end p-0 h-[6rem] bg-pearl-white"},[p("div",{class:"w-full h-[6rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1))]),_:1})}}}),W7=ai("useSignInPageStore",{state:()=>({email:"",password:"",loading:!1,errors:{},resetPasswordEmail:"",resetPasswordEmailError:""}),actions:{validateForm(){return this.errors={},this.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)||(this.errors.email="Invalid email address."):this.errors.email="Email is required.",this.password.trim()||(this.errors.password="Password is required."),Object.keys(this.errors).length===0},async initializeAuth(t="/"){const e=ri();try{await e.requestLogin(this.email,this.password),await e.getProfileData(),ag.push(t),W7().$reset()}catch{}},async initializePasswordReset(){try{if(this.resetPasswordEmailError="",!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.resetPasswordEmail)){this.resetPasswordEmailError="invalid email";return}await si.post("/request-password-reset/",{email:this.resetPasswordEmail}),Ct().addToast({type:"info",title:"Check your email",message:"we've sent recovery link to your e-mail, follow it to continue.",duration:1e4})}catch(t){t.status==404?Ct().addToast({type:"error",title:"User doesn't exist",message:"User with fiven email doesn't exist. Check spelling or create a new account."}):Ct().addToast({type:"error",title:"Something went wrong",message:"error has occured, try again later"})}}}}),Aq={class:"w-full flex flex-col bg-pearl-white gap-[4rem] py-[5rem] text-body font-body text-screenBlack"},kq={class:"w-full flex justify-center"},Dq={class:"flex flex-col w-full"},Iq={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},Lq={class:"flex flex-col w-full"},Pq={key:0,class:"text-text-sm font-body text-red pl-[0rem]"},Mq={class:"w-full flex justify-center gap-[2rem] mt-[5rem]"},Rq=["disabled"],Oq={class:"relative z-[2]"},Nq={class:"flex flex-col w-full justify-center items-center gap-8"},Bq={class:"flex flex-col items-start gap-4 w-ful"},Fq={key:0,class:"text-red"},Uq={class:"flex justify-end w-full"},$q=["disabled"],zq=tt({__name:"SignIn",setup(t){const e=W7(),{email:r,password:i,errors:s,resetPasswordEmail:n}=Ii(e),o=Dd().query;Rr(()=>{o&&o.emailVerified&&o.emailVerified=="true"&&Ct().addToast({type:"success",title:"Email verified",message:"Your email was successfully verified. You can sign into your account now.",duration:1e4})});const l=f=>{var y,w;if(f.preventDefault(),e.validateForm()){let _="/myprofile";"next"in o&&((y=o.next)==null?void 0:y.toString())!==void 0&&(_=(w=o.next)==null?void 0:w.toString()),e.initializeAuth(_)}},u=Ye(!1),c=()=>{u.value=!0,document.getElementsByTagName("body")[0].style.overflowY="hidden"};function h(){u.value=!1,document.getElementsByTagName("body")[0].style.overflowY="unset"}return(f,y)=>{const w=Zi("RouterLink");return Y(),kt(gs,null,{default:Fe(()=>[y[10]||(y[10]=p("div",{class:"w-full h-[8rem] lg:h-[10rem] bg-screenBlack"},null,-1)),p("div",Aq,[y[6]||(y[6]=p("div",{class:"flex items-center justify-between"},[p("div",{class:"w-[10vw] lg:w-[30vw] h-[4rem] bg-primary"}),p("h1",{class:"font-heading text-subtitle lg:text-title text-center"}," Sign in "),p("div",{class:"w-[10vw] lg:w-[30vw] h-[4rem] bg-primary"})],-1)),p("div",kq,[p("form",{onSubmit:l,class:"w-full lg:w-[30%] px-[2rem] flex flex-col gap-[2rem]"},[p("div",Dq,[ge(as,{modelValue:N(r),"onUpdate:modelValue":y[0]||(y[0]=_=>gt(r)?r.value=_:null),class:"w-full",type:"text",label:"E-mail",name:"email",invalid:!!N(s).email},null,8,["modelValue","invalid"]),N(s).email?(Y(),ae("div",Iq,we(N(s).email),1)):Ne("",!0)]),p("div",Lq,[ge(as,{modelValue:N(i),"onUpdate:modelValue":y[1]||(y[1]=_=>gt(i)?i.value=_:null),class:"w-full",type:"password",label:"Password",name:"password",invalid:!!N(s).password},null,8,["modelValue","invalid"]),N(s).password?(Y(),ae("div",Pq,we(N(s).password),1)):Ne("",!0)]),p("div",Mq,[ge(w,{to:"/sign_up",class:"overflow-hidden w-[90%] rounded-3xl font-heading text-subtitle pt-[0.8rem] pb-[0.6rem] text-primary lg:hidden flex justify-center",title:"sign in"},{default:Fe(()=>y[5]||(y[5]=[p("span",{class:"relative z-[2]"}," Sign up ",-1)])),_:1}),p("button",{class:"overflow-hidden w-[90%] rounded-3xl font-heading text-subtitle pt-[0.8rem] pb-[0.6rem] relative bg-primary border-primary border-2 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:bg-pearl-white after:transition-transform after:duration-200 after:will-change-transform after:origin-top after:scale-y-0 lg:hover:after:scale-y-100",title:"sign in",type:"submit",disabled:N(e).loading},[p("span",Oq,we(N(e).loading?"loading...":"sign in"),1)],8,Rq)]),p("div",{class:"flex text-center items-center flex-col text-body font-body gap-2 mt-[1rem]"},[p("button",{onClick:c,type:"button",class:"lg:hover:underline text-screen-black"}," Forgot password? ")])],32)])]),y[11]||(y[11]=p("div",{class:"w-full flex items-end p-0 h-[6rem] bg-pearl-white"},[p("div",{class:"w-full h-[6rem] bottom-0 bg-screenBlack [clip-path:polygon(0_5rem,100%_0,100%_100%,0%_100%)] pb-[8rem] -mb-[1rem]"})],-1)),u.value?(Y(),ae("div",{key:0,onClick:h,class:"fixed w-full h-full top-0 left-0 z-[500] bg-screenBlack bg-opacity-40"},[y[9]||(y[9]=p("button",{class:"absolute right-[4rem] top-[4rem] aspect-square w-[2rem] lg:w-[4rem] rounded-full transition-all"},[p("svg",{width:"134",height:"134",viewBox:"0 0 134 134",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("g",{"clip-path":"url(#clip0_286_9)"},[p("rect",{x:"-2.67847",y:"6.51398",width:"13",height:"184.075",rx:"6.5",transform:"rotate(-45 -2.67847 6.51398)",fill:"#F2F1F0"}),p("rect",{x:"127.482",y:"-2.67841",width:"13",height:"184.075",rx:"6.5",transform:"rotate(45 127.482 -2.67841)",fill:"#F2F1F0"})]),p("defs",null,[p("clipPath",{id:"clip0_286_9"},[p("rect",{width:"134",height:"134",fill:"white"})])])])],-1)),p("div",{onClick:y[4]||(y[4]=_=>_.stopImmediatePropagation()),class:"absolute w-[90vw] md:w-[40rem] h-[30rem] rounded-3xl shadow-lg left-[50%] -translate-x-[50%] top-[calc(50%-15rem)] bg-pearl-white flex flex-col justify-center items-center text-screenBlack text-body font-body px-[2rem]"},[p("div",Nq,[y[8]||(y[8]=p("h3",{class:"font-heading text-subtitle"},"Password recovery",-1)),p("div",Bq,[y[7]||(y[7]=p("p",null,"provide your email.",-1)),Pa(p("input",{"onUpdate:modelValue":y[2]||(y[2]=_=>gt(n)?n.value=_:null),type:"text",placeholder:"email",class:"px-6 py-4 outline-none rounded-2xl w-full"},null,512),[[Ao,N(n)]]),N(e).resetPasswordEmailError?(Y(),ae("p",Fq,we(N(e).resetPasswordEmailError),1)):Ne("",!0)]),p("div",Uq,[p("button",{onClick:y[3]||(y[3]=(..._)=>N(e).initializePasswordReset&&N(e).initializePasswordReset(..._)),class:$t(`px-6 py-4 rounded-2xl font-semibold transition-colors ${N(n)?"bg-primary lg:hover:bg-transparent":"bg-gray-200"}`),disabled:!N(n)}," recover ",10,$q)])])])])):Ne("",!0)]),_:1})}}}),qq=ai("imprintPageStore",{state:()=>({text:null,loading:!1}),actions:{async fetchImprint(){this.loading=!0;try{const t=await si.get("/cms/pages",{params:{type:"home.ImprintPage",fields:"imprint"}});this.text=Hi(t.data.items[0].imprint)}catch{}finally{this.loading=!1}}}}),jq=["innerHTML"],Hq=tt({__name:"Imprint",setup(t){const e=qq();return xn(()=>{e.fetchImprint()}),(r,i)=>(Y(),kt(gs,null,{default:Fe(()=>[i[0]||(i[0]=p("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},[p("h1",{class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"}," Imprint ")],-1)),p("div",{class:"w-full py-[10rem] px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-pearl-white font-body text-body",innerHTML:N(e).text},null,8,jq)]),_:1}))}}),Vq=ai("termsOfUsePageStore",{state:()=>({text:null,loading:!1}),actions:{async fetchTermsOfUse(){this.loading=!0;try{const t=await si.get("/cms/pages",{params:{type:"home.TermsOfUsePage",fields:"terms_of_use"}});this.text=Hi(t.data.items[0].terms_of_use)}catch{}finally{this.loading=!1}}}}),Gq=["innerHTML"],Wq=tt({__name:"TermsOfUse",setup(t){const e=Vq();return xn(()=>{e.fetchTermsOfUse()}),(r,i)=>(Y(),kt(gs,null,{default:Fe(()=>[i[0]||(i[0]=p("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},[p("h1",{class:"font-heading text-subtitle lg:text-title text-center text-pearl-white"}," Terms of use ")],-1)),p("div",{class:"w-full py-[10rem] px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-pearl-white font-body text-body",innerHTML:N(e).text},null,8,Gq)]),_:1}))}}),Xq={class:"bg-pearl-white py-[10rem] flex flex-col items-center justify-center font-body text-body text-screenBlack px-[2rem] lg:px-[12rem] xl:px-[10vw]"},Kq={class:"w-full lg:w-[30vw] flex flex-col items-center gap-[2rem]"},Yq=["disabled","title"],Qq=tt({__name:"PasswordReset",setup(t){const e=Dd(),r=Uu(),i=Ye(""),s=ri(),n=async()=>{try{if(!e.query.token){Ct().addToast({type:"error",title:"Action not allowed",message:"You cannot perform this action, go to sign in page and request resetting a password"});return}await s.resetPassword(i.value,e.query.token),r.push("/sign_in")}catch{}};return(a,o)=>(Y(),kt(gs,null,{default:Fe(()=>[o[3]||(o[3]=p("div",{class:"w-full px-[2rem] lg:px-[12rem] xl:px-[10vw] bg-screenBlack flex justify-center pt-[8rem] pb-[2rem] lg:pt-[16rem]"},null,-1)),p("div",Xq,[p("div",Kq,[o[1]||(o[1]=p("h1",{class:"font-heading text-subtitle lg:text-title"},"Reset password",-1)),o[2]||(o[2]=p("p",null,"provide new password",-1)),ge(as,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=l=>i.value=l),type:"password",label:"new password",class:"w-full"},null,8,["modelValue"]),p("button",{onClick:n,class:$t(`w-full text-subtitle font-heading rounded-2xl pt-4 pb-2 ${i.value?"bg-primary":"bg-gray-200"}`),disabled:N(s).passwordResetRequest.status=="loading"||!i.value,title:i.value?"confirm":"new password not provided",type:"button"},we(N(s).passwordResetRequest.status!="loading"?"confirm":"loading..."),11,Yq)])])]),_:1}))}}),Zq=tt({__name:"Presenting",setup(t){return(e,r)=>(Y(),kt(N(R5)))}}),X7=ai("presenting",{state:()=>({competitions:[],currentSeriesName:"",series:[],currentIntegralIndex:0,timePerIntegral:180,tieBreakers:[],currentTieBreakerIndex:0}),actions:{async fetchCompetitions(){try{const t=await qi.get("/competitions/");this.competitions=t.data}catch{Ct().addToast({type:"error",title:"could not fetch competitions",message:""})}},async fetchSeries(t,e){try{const i=(await qi.get(`/competitions/${t}/series/${e}/`)).data;this.currentSeriesName=i.series_name,this.series=i.integrals.map(s=>({...s,isTieBreaker:!1})),this.currentIntegralIndex=0}catch{Ct().addToast({type:"error",title:"Error during fetching series",message:"series could not be fetched, try later."})}},async fetchTieBreakers(t){try{const r=(await qi.get(`/competitions/${t}/tie-breakers/`)).data;this.tieBreakers=r.integrals.map(i=>({...i,isTieBreaker:!0})),this.currentTieBreakerIndex=0}catch{Ct().addToast({type:"error",title:"Error during fetching tie-breakers",message:"tie-breakers could not be fetched, try later."})}},addCurrentTieBreaker(){if(this.currentTieBreakerIndex<this.tieBreakers.length){const t=this.tieBreakers[this.currentTieBreakerIndex];this.series.splice(this.currentIntegralIndex+1,0,t),this.tieBreakers.length-1!==this.currentTieBreakerIndex?this.currentTieBreakerIndex+=1:Ct().addToast({type:"warning",title:"Last tie-breaker",message:"this was the last tie-breaker."}),Ct().addToast({type:"info",title:"Tie breaker was added.",message:"next integral will be a tie breaker, current series will continue afterwards."})}else Ct().addToast({type:"warning",title:"No more Tie Breakers available",message:""})}}}),Jq={class:"w-full h-[100vh] bg-pearl-white min-h-[50rem] min-w-[120rem] px-[2rem] xl:px-[12rem] flex flex-col font-body text-body text-screenBlack py-[2rem]"},ej={class:"w-full h-[10rem] flex justify-start items-center"},tj={class:"h-full w-max min-w-[5rem] rounded-full border-4 border-primary flex items-center"},rj={class:"aspect-square h-full p-[1rem]"},ij={class:"grid grid-cols-2 py-[5rem] gap-x-[2rem]"},sj={class:"bg-white h-[calc(100vh-30rem)] min-h-[25rem] w-full rounded-xl overflow-y-auto px-[1rem] py-[1rem] col-start-1 col-span-1"},nj={class:"w-full h-max flex flex-col gap-[1rem]"},aj=["onClick"],oj={class:"text-center"},lj={class:"col-start-2 col-span-1 h-[calc(100vh-30rem)] min-h-[25rem] flex flex-col-reverse justify-between"},uj={class:"flex flex-col gap-[2rem]"},cj={key:1,class:"flex justify-center font-heading text-title w-full rounded-xl bg-gray-100 py-[1rem]"},dj={key:0,class:"bg-white h-[calc(100vh-55rem)] w-full rounded-xl overflow-y-auto px-[1rem] py-[1rem]"},hj={class:"w-full h-max flex flex-col gap-[1rem]"},fj=["onClick"],pj={class:"text-center"},mj=tt({__name:"MainMenu",setup(t){const e=X7(),r=Ye(null),i=Ye(null);return Rr(async()=>{await e.fetchCompetitions()}),(s,n)=>{const a=Zi("RouterLink");return Y(),ae("div",Jq,[p("header",ej,[p("div",tj,[p("div",rj,[ge(a,{to:"/",class:"w-full h-full p-[1rem] bg-white flex rounded-full transition-transform duration-[.8s] hover:rotate-[360deg]"},{default:Fe(()=>n[0]||(n[0]=[p("svg",{width:"69",height:"68",viewBox:"0 0 69 68",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full w-full"},[p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M59.4828 33.7849L51.3108 54.5169L25.3814 58.3861L9.06592 37.8652L13.2027 27.3704C14.3404 27.2488 15.5733 27.1797 16.906 27.1797C22.0917 27.1797 26.0562 28.9823 30.2511 30.8896C34.9633 33.0321 39.9662 35.3068 47.3172 35.3068C52.2665 35.3068 56.3178 34.6415 59.4828 33.7849Z",fill:"#FBC151"}),p("path",{d:"M19.7919 14.8718L43.9564 11.266L59.1614 30.3902L50.2019 53.1202L26.0374 56.726L10.8324 37.6018L19.7919 14.8718Z",stroke:"#001D37","stroke-width":"3.09071"}),p("path",{d:"M1.70068 31.8987C1.70068 31.8987 5.89532 27.1797 16.9062 27.1797C27.9172 27.1797 33.4226 35.3068 47.3174 35.3068C61.2121 35.3068 68.0284 30.0635 68.0284 30.0635",stroke:"#001D37","stroke-width":"3.09071"})],-1)])),_:1})]),n[1]||(n[1]=p("h1",{class:"font-heading text-title pl-[2rem] pr-[4rem]"},"Integral Presenting",-1))])]),p("main",ij,[n[4]||(n[4]=p("h2",{class:"text-title font-heading col-start-1 col-span-1 pl-[1rem]"}," Competitions ",-1)),p("div",sj,[p("div",nj,[(Y(!0),ae(ct,null,Er(N(e).competitions,(o,l)=>(Y(),ae("div",{key:l,onClick:()=>r.value=o.id.toString(),class:$t(`w-full h-[5rem] rounded-lg  flex justify-center items-center cursor-pointer transition-colors hover:bg-gray-100 ${r.value==o.id.toString()?"bg-gray-100":"bg-pearl-white"}`)},[p("p",oj,we(o.name),1)],10,aj))),128))])]),n[5]||(n[5]=p("h2",{class:"text-title font-heading col-start-2 col-span-1 row-start-1 pl-[1rem]"}," Series ",-1)),p("div",lj,[p("div",uj,[r.value!==null&&i.value!==null?(Y(),kt(a,{key:0,to:`/presenting/series_presentation/${r.value}/${i.value}`,class:"flex justify-center font-heading text-title w-full rounded-xl bg-primary py-[1rem]"},{default:Fe(()=>n[2]||(n[2]=[st(" Start presenting ")])),_:1},8,["to"])):(Y(),ae("div",cj," Start presenting ")),n[3]||(n[3]=p("a",{href:"/admin/",class:"flex justify-center font-heading text-title w-full rounded-xl border-4 border-primary py-[1rem]"}," Go to admin ",-1))]),r.value!==null?(Y(),ae("div",dj,[p("div",hj,[(Y(!0),ae(ct,null,Er(N(e).competitions.find(o=>o.id.toString()==r.value).series,(o,l)=>(Y(),ae("div",{key:l,onClick:()=>{i.value=o.id},class:$t(`w-full h-[5rem] rounded-lg flex justify-center items-center cursor-pointer transition-colors hover:bg-gray-100 ${i.value==o.id.toString()?"bg-gray-100":"bg-pearl-white"}`)},[p("p",pj,we(o.series_name),1)],10,fj))),128))])])):Ne("",!0)])])])}}});class Ci{constructor(e,r,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=i}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new Ci(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class Vi{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new Vi(r,Ci.range(this,e))}}class Te{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+e,s,n,a=r&&r.loc;if(a&&a.start<=a.end){var o=a.lexer.input;s=a.start,n=a.end,s===o.length?i+=" at end of input: ":i+=" at position "+(s+1)+": ";var l=o.slice(s,n).replace(/[^]/g,"$&"),u;s>15?u=""+o.slice(s-15,s):u=o.slice(0,s);var c;n+15<o.length?c=o.slice(n,n+15)+"":c=o.slice(n),i+=u+l+c}var h=new Error(i);return h.name="ParseError",h.__proto__=Te.prototype,h.position=s,s!=null&&n!=null&&(h.length=n-s),h.rawMessage=e,h}}Te.prototype.__proto__=Error.prototype;var gj=function(e,r){return e.indexOf(r)!==-1},yj=function(e,r){return e===void 0?r:e},vj=/([A-Z])/g,bj=function(e){return e.replace(vj,"-$1").toLowerCase()},_j={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},xj=/[&><"']/g;function wj(t){return String(t).replace(xj,e=>_j[e])}var K7=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},Tj=function(e){var r=K7(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},Sj=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},Cj=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},Ve={contains:gj,deflt:yj,escape:wj,hyphenate:bj,getBaseElem:K7,isCharacterBox:Tj,protocolFromUrl:Cj},w0={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function Ej(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class $1{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in w0)if(w0.hasOwnProperty(r)){var i=w0[r];this[r]=e[r]!==void 0?i.processor?i.processor(e[r]):e[r]:Ej(i)}}reportNonstrict(e,r,i){var s=this.strict;if(typeof s=="function"&&(s=s(e,r,i)),!(!s||s==="ignore")){if(s===!0||s==="error")throw new Te("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),i);s==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,i){var s=this.strict;if(typeof s=="function")try{s=s(e,r,i)}catch{s="error"}return!s||s==="ignore"?!1:s===!0||s==="error"?!0:s==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=Ve.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var i=typeof this.trust=="function"?this.trust(e):this.trust;return!!i}}class On{constructor(e,r,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=i}sup(){return Cs[Aj[this.id]]}sub(){return Cs[kj[this.id]]}fracNum(){return Cs[Dj[this.id]]}fracDen(){return Cs[Ij[this.id]]}cramp(){return Cs[Lj[this.id]]}text(){return Cs[Pj[this.id]]}isTight(){return this.size>=2}}var z1=0,od=1,Oo=2,cn=3,Ru=4,$i=5,Qo=6,ti=7,Cs=[new On(z1,0,!1),new On(od,0,!0),new On(Oo,1,!1),new On(cn,1,!0),new On(Ru,2,!1),new On($i,2,!0),new On(Qo,3,!1),new On(ti,3,!0)],Aj=[Ru,$i,Ru,$i,Qo,ti,Qo,ti],kj=[$i,$i,$i,$i,ti,ti,ti,ti],Dj=[Oo,cn,Ru,$i,Qo,ti,Qo,ti],Ij=[cn,cn,$i,$i,ti,ti,ti,ti],Lj=[od,od,cn,cn,$i,$i,ti,ti],Pj=[z1,od,Oo,cn,Oo,cn,Oo,cn],Qe={DISPLAY:Cs[z1],TEXT:Cs[Oo],SCRIPT:Cs[Ru],SCRIPTSCRIPT:Cs[Qo]},Wp=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Mj(t){for(var e=0;e<Wp.length;e++)for(var r=Wp[e],i=0;i<r.blocks.length;i++){var s=r.blocks[i];if(t>=s[0]&&t<=s[1])return r.name}return null}var T0=[];Wp.forEach(t=>t.blocks.forEach(e=>T0.push(...e)));function Y7(t){for(var e=0;e<T0.length;e+=2)if(t>=T0[e]&&t<=T0[e+1])return!0;return!1}var mo=80,Rj=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Oj=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Nj=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Bj=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},Fj=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},Uj=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},$j=function(e,r,i){var s=i-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+s+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},zj=function(e,r,i){r=1e3*r;var s="";switch(e){case"sqrtMain":s=Rj(r,mo);break;case"sqrtSize1":s=Oj(r,mo);break;case"sqrtSize2":s=Nj(r,mo);break;case"sqrtSize3":s=Bj(r,mo);break;case"sqrtSize4":s=Fj(r,mo);break;case"sqrtTall":s=$j(r,mo,i)}return s},qj=function(e,r){switch(e){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},l3={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},jj=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class tc{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Ve.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var Ls={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},t0={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},u3={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Hj(t,e){Ls[t]=e}function q1(t,e,r){if(!Ls[e])throw new Error("Font metrics not found for font: "+e+".");var i=t.charCodeAt(0),s=Ls[e][i];if(!s&&t[0]in u3&&(i=u3[t[0]].charCodeAt(0),s=Ls[e][i]),!s&&r==="text"&&Y7(i)&&(s=Ls[e][77]),s)return{depth:s[0],height:s[1],italic:s[2],skew:s[3],width:s[4]}}var If={};function Vj(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!If[e]){var r=If[e]={cssEmPerMu:t0.quad[e]/18};for(var i in t0)t0.hasOwnProperty(i)&&(r[i]=t0[i][e])}return If[e]}var Gj=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],c3=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],d3=function(e,r){return r.size<2?e:Gj[e-1][r.size-1]};class en{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||en.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=c3[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);return new en(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:d3(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:c3[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=d3(en.BASESIZE,e);return this.size===r&&this.textSize===en.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==en.BASESIZE?["sizing","reset-size"+this.size,"size"+en.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Vj(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}en.BASESIZE=6;var Xp={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Wj={ex:!0,em:!0,mu:!0},Q7=function(e){return typeof e!="string"&&(e=e.unit),e in Xp||e in Wj||e==="ex"},Yt=function(e,r){var i;if(e.unit in Xp)i=Xp[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")i=r.fontMetrics().cssEmPerMu;else{var s;if(r.style.isTight()?s=r.havingStyle(r.style.text()):s=r,e.unit==="ex")i=s.fontMetrics().xHeight;else if(e.unit==="em")i=s.fontMetrics().quad;else throw new Te("Invalid unit: '"+e.unit+"'");s!==r&&(i*=s.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*i,r.maxSize)},Ae=function(e){return+e.toFixed(4)+"em"},Zn=function(e){return e.filter(r=>r).join(" ")},Z7=function(e,r,i){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},r){r.style.isTight()&&this.classes.push("mtight");var s=r.getColor();s&&(this.style.color=s)}},J7=function(e){var r=document.createElement(e);r.className=Zn(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(r.style[i]=this.style[i]);for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&r.setAttribute(s,this.attributes[s]);for(var n=0;n<this.children.length;n++)r.appendChild(this.children[n].toNode());return r},e_=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+Ve.escape(Zn(this.classes))+'"');var i="";for(var s in this.style)this.style.hasOwnProperty(s)&&(i+=Ve.hyphenate(s)+":"+this.style[s]+";");i&&(r+=' style="'+Ve.escape(i)+'"');for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&(r+=" "+n+'="'+Ve.escape(this.attributes[n])+'"');r+=">";for(var a=0;a<this.children.length;a++)r+=this.children[a].toMarkup();return r+="</"+e+">",r};class rc{constructor(e,r,i,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Z7.call(this,e,i,s),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return Ve.contains(this.classes,e)}toNode(){return J7.call(this,"span")}toMarkup(){return e_.call(this,"span")}}class j1{constructor(e,r,i,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Z7.call(this,r,s),this.children=i||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return Ve.contains(this.classes,e)}toNode(){return J7.call(this,"a")}toMarkup(){return e_.call(this,"a")}}class Xj{constructor(e,r,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=i}hasClass(e){return Ve.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+Ve.escape(this.src)+'"'+(' alt="'+Ve.escape(this.alt)+'"'),r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ve.hyphenate(i)+":"+this.style[i]+";");return r&&(e+=' style="'+Ve.escape(r)+'"'),e+="'/>",e}}var Kj={:"",:"",:"",:""};class Ki{constructor(e,r,i,s,n,a,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=i||0,this.italic=s||0,this.skew=n||0,this.width=a||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=Mj(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=Kj[this.text])}hasClass(e){return Ve.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=Ae(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Zn(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(r=r||document.createElement("span"),r.style[i]=this.style[i]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=Ve.escape(Zn(this.classes)),r+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var s in this.style)this.style.hasOwnProperty(s)&&(i+=Ve.hyphenate(s)+":"+this.style[s]+";");i&&(e=!0,r+=' style="'+Ve.escape(i)+'"');var n=Ve.escape(this.text);return e?(r+=">",r+=n,r+="</span>",r):n}}class yn{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&r.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)r.appendChild(this.children[s].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+Ve.escape(this.attributes[r])+'"');e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</svg>",e}}class Jn{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",l3[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+Ve.escape(this.alternate)+'"/>':'<path d="'+Ve.escape(l3[this.pathName])+'"/>'}}class Kp{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&r.setAttribute(i,this.attributes[i]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+Ve.escape(this.attributes[r])+'"');return e+="/>",e}}function h3(t){if(t instanceof Ki)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function Yj(t){if(t instanceof rc)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var Qj={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Zj={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ht={math:{},text:{}};function b(t,e,r,i,s,n){Ht[t][s]={font:e,group:r,replace:i},n&&i&&(Ht[t][i]=Ht[t][s])}var T="math",ye="text",A="main",z="ams",Xt="accent-token",Oe="bin",oi="close",pl="inner",Ke="mathord",gr="op-token",Ri="open",lh="punct",q="rel",Sn="spacing",V="textord";b(T,A,q,"","\\equiv",!0);b(T,A,q,"","\\prec",!0);b(T,A,q,"","\\succ",!0);b(T,A,q,"","\\sim",!0);b(T,A,q,"","\\perp");b(T,A,q,"","\\preceq",!0);b(T,A,q,"","\\succeq",!0);b(T,A,q,"","\\simeq",!0);b(T,A,q,"","\\mid",!0);b(T,A,q,"","\\ll",!0);b(T,A,q,"","\\gg",!0);b(T,A,q,"","\\asymp",!0);b(T,A,q,"","\\parallel");b(T,A,q,"","\\bowtie",!0);b(T,A,q,"","\\smile",!0);b(T,A,q,"","\\sqsubseteq",!0);b(T,A,q,"","\\sqsupseteq",!0);b(T,A,q,"","\\doteq",!0);b(T,A,q,"","\\frown",!0);b(T,A,q,"","\\ni",!0);b(T,A,q,"","\\propto",!0);b(T,A,q,"","\\vdash",!0);b(T,A,q,"","\\dashv",!0);b(T,A,q,"","\\owns");b(T,A,lh,".","\\ldotp");b(T,A,lh,"","\\cdotp");b(T,A,V,"#","\\#");b(ye,A,V,"#","\\#");b(T,A,V,"&","\\&");b(ye,A,V,"&","\\&");b(T,A,V,"","\\aleph",!0);b(T,A,V,"","\\forall",!0);b(T,A,V,"","\\hbar",!0);b(T,A,V,"","\\exists",!0);b(T,A,V,"","\\nabla",!0);b(T,A,V,"","\\flat",!0);b(T,A,V,"","\\ell",!0);b(T,A,V,"","\\natural",!0);b(T,A,V,"","\\clubsuit",!0);b(T,A,V,"","\\wp",!0);b(T,A,V,"","\\sharp",!0);b(T,A,V,"","\\diamondsuit",!0);b(T,A,V,"","\\Re",!0);b(T,A,V,"","\\heartsuit",!0);b(T,A,V,"","\\Im",!0);b(T,A,V,"","\\spadesuit",!0);b(T,A,V,"","\\S",!0);b(ye,A,V,"","\\S");b(T,A,V,"","\\P",!0);b(ye,A,V,"","\\P");b(T,A,V,"","\\dag");b(ye,A,V,"","\\dag");b(ye,A,V,"","\\textdagger");b(T,A,V,"","\\ddag");b(ye,A,V,"","\\ddag");b(ye,A,V,"","\\textdaggerdbl");b(T,A,oi,"","\\rmoustache",!0);b(T,A,Ri,"","\\lmoustache",!0);b(T,A,oi,"","\\rgroup",!0);b(T,A,Ri,"","\\lgroup",!0);b(T,A,Oe,"","\\mp",!0);b(T,A,Oe,"","\\ominus",!0);b(T,A,Oe,"","\\uplus",!0);b(T,A,Oe,"","\\sqcap",!0);b(T,A,Oe,"","\\ast");b(T,A,Oe,"","\\sqcup",!0);b(T,A,Oe,"","\\bigcirc",!0);b(T,A,Oe,"","\\bullet",!0);b(T,A,Oe,"","\\ddagger");b(T,A,Oe,"","\\wr",!0);b(T,A,Oe,"","\\amalg");b(T,A,Oe,"&","\\And");b(T,A,q,"","\\longleftarrow",!0);b(T,A,q,"","\\Leftarrow",!0);b(T,A,q,"","\\Longleftarrow",!0);b(T,A,q,"","\\longrightarrow",!0);b(T,A,q,"","\\Rightarrow",!0);b(T,A,q,"","\\Longrightarrow",!0);b(T,A,q,"","\\leftrightarrow",!0);b(T,A,q,"","\\longleftrightarrow",!0);b(T,A,q,"","\\Leftrightarrow",!0);b(T,A,q,"","\\Longleftrightarrow",!0);b(T,A,q,"","\\mapsto",!0);b(T,A,q,"","\\longmapsto",!0);b(T,A,q,"","\\nearrow",!0);b(T,A,q,"","\\hookleftarrow",!0);b(T,A,q,"","\\hookrightarrow",!0);b(T,A,q,"","\\searrow",!0);b(T,A,q,"","\\leftharpoonup",!0);b(T,A,q,"","\\rightharpoonup",!0);b(T,A,q,"","\\swarrow",!0);b(T,A,q,"","\\leftharpoondown",!0);b(T,A,q,"","\\rightharpoondown",!0);b(T,A,q,"","\\nwarrow",!0);b(T,A,q,"","\\rightleftharpoons",!0);b(T,z,q,"","\\nless",!0);b(T,z,q,"","\\@nleqslant");b(T,z,q,"","\\@nleqq");b(T,z,q,"","\\lneq",!0);b(T,z,q,"","\\lneqq",!0);b(T,z,q,"","\\@lvertneqq");b(T,z,q,"","\\lnsim",!0);b(T,z,q,"","\\lnapprox",!0);b(T,z,q,"","\\nprec",!0);b(T,z,q,"","\\npreceq",!0);b(T,z,q,"","\\precnsim",!0);b(T,z,q,"","\\precnapprox",!0);b(T,z,q,"","\\nsim",!0);b(T,z,q,"","\\@nshortmid");b(T,z,q,"","\\nmid",!0);b(T,z,q,"","\\nvdash",!0);b(T,z,q,"","\\nvDash",!0);b(T,z,q,"","\\ntriangleleft");b(T,z,q,"","\\ntrianglelefteq",!0);b(T,z,q,"","\\subsetneq",!0);b(T,z,q,"","\\@varsubsetneq");b(T,z,q,"","\\subsetneqq",!0);b(T,z,q,"","\\@varsubsetneqq");b(T,z,q,"","\\ngtr",!0);b(T,z,q,"","\\@ngeqslant");b(T,z,q,"","\\@ngeqq");b(T,z,q,"","\\gneq",!0);b(T,z,q,"","\\gneqq",!0);b(T,z,q,"","\\@gvertneqq");b(T,z,q,"","\\gnsim",!0);b(T,z,q,"","\\gnapprox",!0);b(T,z,q,"","\\nsucc",!0);b(T,z,q,"","\\nsucceq",!0);b(T,z,q,"","\\succnsim",!0);b(T,z,q,"","\\succnapprox",!0);b(T,z,q,"","\\ncong",!0);b(T,z,q,"","\\@nshortparallel");b(T,z,q,"","\\nparallel",!0);b(T,z,q,"","\\nVDash",!0);b(T,z,q,"","\\ntriangleright");b(T,z,q,"","\\ntrianglerighteq",!0);b(T,z,q,"","\\@nsupseteqq");b(T,z,q,"","\\supsetneq",!0);b(T,z,q,"","\\@varsupsetneq");b(T,z,q,"","\\supsetneqq",!0);b(T,z,q,"","\\@varsupsetneqq");b(T,z,q,"","\\nVdash",!0);b(T,z,q,"","\\precneqq",!0);b(T,z,q,"","\\succneqq",!0);b(T,z,q,"","\\@nsubseteqq");b(T,z,Oe,"","\\unlhd");b(T,z,Oe,"","\\unrhd");b(T,z,q,"","\\nleftarrow",!0);b(T,z,q,"","\\nrightarrow",!0);b(T,z,q,"","\\nLeftarrow",!0);b(T,z,q,"","\\nRightarrow",!0);b(T,z,q,"","\\nleftrightarrow",!0);b(T,z,q,"","\\nLeftrightarrow",!0);b(T,z,q,"","\\vartriangle");b(T,z,V,"","\\hslash");b(T,z,V,"","\\triangledown");b(T,z,V,"","\\lozenge");b(T,z,V,"","\\circledS");b(T,z,V,"","\\circledR");b(ye,z,V,"","\\circledR");b(T,z,V,"","\\measuredangle",!0);b(T,z,V,"","\\nexists");b(T,z,V,"","\\mho");b(T,z,V,"","\\Finv",!0);b(T,z,V,"","\\Game",!0);b(T,z,V,"","\\backprime");b(T,z,V,"","\\blacktriangle");b(T,z,V,"","\\blacktriangledown");b(T,z,V,"","\\blacksquare");b(T,z,V,"","\\blacklozenge");b(T,z,V,"","\\bigstar");b(T,z,V,"","\\sphericalangle",!0);b(T,z,V,"","\\complement",!0);b(T,z,V,"","\\eth",!0);b(ye,A,V,"","");b(T,z,V,"","\\diagup");b(T,z,V,"","\\diagdown");b(T,z,V,"","\\square");b(T,z,V,"","\\Box");b(T,z,V,"","\\Diamond");b(T,z,V,"","\\yen",!0);b(ye,z,V,"","\\yen",!0);b(T,z,V,"","\\checkmark",!0);b(ye,z,V,"","\\checkmark");b(T,z,V,"","\\beth",!0);b(T,z,V,"","\\daleth",!0);b(T,z,V,"","\\gimel",!0);b(T,z,V,"","\\digamma",!0);b(T,z,V,"","\\varkappa");b(T,z,Ri,"","\\@ulcorner",!0);b(T,z,oi,"","\\@urcorner",!0);b(T,z,Ri,"","\\@llcorner",!0);b(T,z,oi,"","\\@lrcorner",!0);b(T,z,q,"","\\leqq",!0);b(T,z,q,"","\\leqslant",!0);b(T,z,q,"","\\eqslantless",!0);b(T,z,q,"","\\lesssim",!0);b(T,z,q,"","\\lessapprox",!0);b(T,z,q,"","\\approxeq",!0);b(T,z,Oe,"","\\lessdot");b(T,z,q,"","\\lll",!0);b(T,z,q,"","\\lessgtr",!0);b(T,z,q,"","\\lesseqgtr",!0);b(T,z,q,"","\\lesseqqgtr",!0);b(T,z,q,"","\\doteqdot");b(T,z,q,"","\\risingdotseq",!0);b(T,z,q,"","\\fallingdotseq",!0);b(T,z,q,"","\\backsim",!0);b(T,z,q,"","\\backsimeq",!0);b(T,z,q,"","\\subseteqq",!0);b(T,z,q,"","\\Subset",!0);b(T,z,q,"","\\sqsubset",!0);b(T,z,q,"","\\preccurlyeq",!0);b(T,z,q,"","\\curlyeqprec",!0);b(T,z,q,"","\\precsim",!0);b(T,z,q,"","\\precapprox",!0);b(T,z,q,"","\\vartriangleleft");b(T,z,q,"","\\trianglelefteq");b(T,z,q,"","\\vDash",!0);b(T,z,q,"","\\Vvdash",!0);b(T,z,q,"","\\smallsmile");b(T,z,q,"","\\smallfrown");b(T,z,q,"","\\bumpeq",!0);b(T,z,q,"","\\Bumpeq",!0);b(T,z,q,"","\\geqq",!0);b(T,z,q,"","\\geqslant",!0);b(T,z,q,"","\\eqslantgtr",!0);b(T,z,q,"","\\gtrsim",!0);b(T,z,q,"","\\gtrapprox",!0);b(T,z,Oe,"","\\gtrdot");b(T,z,q,"","\\ggg",!0);b(T,z,q,"","\\gtrless",!0);b(T,z,q,"","\\gtreqless",!0);b(T,z,q,"","\\gtreqqless",!0);b(T,z,q,"","\\eqcirc",!0);b(T,z,q,"","\\circeq",!0);b(T,z,q,"","\\triangleq",!0);b(T,z,q,"","\\thicksim");b(T,z,q,"","\\thickapprox");b(T,z,q,"","\\supseteqq",!0);b(T,z,q,"","\\Supset",!0);b(T,z,q,"","\\sqsupset",!0);b(T,z,q,"","\\succcurlyeq",!0);b(T,z,q,"","\\curlyeqsucc",!0);b(T,z,q,"","\\succsim",!0);b(T,z,q,"","\\succapprox",!0);b(T,z,q,"","\\vartriangleright");b(T,z,q,"","\\trianglerighteq");b(T,z,q,"","\\Vdash",!0);b(T,z,q,"","\\shortmid");b(T,z,q,"","\\shortparallel");b(T,z,q,"","\\between",!0);b(T,z,q,"","\\pitchfork",!0);b(T,z,q,"","\\varpropto");b(T,z,q,"","\\blacktriangleleft");b(T,z,q,"","\\therefore",!0);b(T,z,q,"","\\backepsilon");b(T,z,q,"","\\blacktriangleright");b(T,z,q,"","\\because",!0);b(T,z,q,"","\\llless");b(T,z,q,"","\\gggtr");b(T,z,Oe,"","\\lhd");b(T,z,Oe,"","\\rhd");b(T,z,q,"","\\eqsim",!0);b(T,A,q,"","\\Join");b(T,z,q,"","\\Doteq",!0);b(T,z,Oe,"","\\dotplus",!0);b(T,z,Oe,"","\\smallsetminus");b(T,z,Oe,"","\\Cap",!0);b(T,z,Oe,"","\\Cup",!0);b(T,z,Oe,"","\\doublebarwedge",!0);b(T,z,Oe,"","\\boxminus",!0);b(T,z,Oe,"","\\boxplus",!0);b(T,z,Oe,"","\\divideontimes",!0);b(T,z,Oe,"","\\ltimes",!0);b(T,z,Oe,"","\\rtimes",!0);b(T,z,Oe,"","\\leftthreetimes",!0);b(T,z,Oe,"","\\rightthreetimes",!0);b(T,z,Oe,"","\\curlywedge",!0);b(T,z,Oe,"","\\curlyvee",!0);b(T,z,Oe,"","\\circleddash",!0);b(T,z,Oe,"","\\circledast",!0);b(T,z,Oe,"","\\centerdot");b(T,z,Oe,"","\\intercal",!0);b(T,z,Oe,"","\\doublecap");b(T,z,Oe,"","\\doublecup");b(T,z,Oe,"","\\boxtimes",!0);b(T,z,q,"","\\dashrightarrow",!0);b(T,z,q,"","\\dashleftarrow",!0);b(T,z,q,"","\\leftleftarrows",!0);b(T,z,q,"","\\leftrightarrows",!0);b(T,z,q,"","\\Lleftarrow",!0);b(T,z,q,"","\\twoheadleftarrow",!0);b(T,z,q,"","\\leftarrowtail",!0);b(T,z,q,"","\\looparrowleft",!0);b(T,z,q,"","\\leftrightharpoons",!0);b(T,z,q,"","\\curvearrowleft",!0);b(T,z,q,"","\\circlearrowleft",!0);b(T,z,q,"","\\Lsh",!0);b(T,z,q,"","\\upuparrows",!0);b(T,z,q,"","\\upharpoonleft",!0);b(T,z,q,"","\\downharpoonleft",!0);b(T,A,q,"","\\origof",!0);b(T,A,q,"","\\imageof",!0);b(T,z,q,"","\\multimap",!0);b(T,z,q,"","\\leftrightsquigarrow",!0);b(T,z,q,"","\\rightrightarrows",!0);b(T,z,q,"","\\rightleftarrows",!0);b(T,z,q,"","\\twoheadrightarrow",!0);b(T,z,q,"","\\rightarrowtail",!0);b(T,z,q,"","\\looparrowright",!0);b(T,z,q,"","\\curvearrowright",!0);b(T,z,q,"","\\circlearrowright",!0);b(T,z,q,"","\\Rsh",!0);b(T,z,q,"","\\downdownarrows",!0);b(T,z,q,"","\\upharpoonright",!0);b(T,z,q,"","\\downharpoonright",!0);b(T,z,q,"","\\rightsquigarrow",!0);b(T,z,q,"","\\leadsto");b(T,z,q,"","\\Rrightarrow",!0);b(T,z,q,"","\\restriction");b(T,A,V,"","`");b(T,A,V,"$","\\$");b(ye,A,V,"$","\\$");b(ye,A,V,"$","\\textdollar");b(T,A,V,"%","\\%");b(ye,A,V,"%","\\%");b(T,A,V,"_","\\_");b(ye,A,V,"_","\\_");b(ye,A,V,"_","\\textunderscore");b(T,A,V,"","\\angle",!0);b(T,A,V,"","\\infty",!0);b(T,A,V,"","\\prime");b(T,A,V,"","\\triangle");b(T,A,V,"","\\Gamma",!0);b(T,A,V,"","\\Delta",!0);b(T,A,V,"","\\Theta",!0);b(T,A,V,"","\\Lambda",!0);b(T,A,V,"","\\Xi",!0);b(T,A,V,"","\\Pi",!0);b(T,A,V,"","\\Sigma",!0);b(T,A,V,"","\\Upsilon",!0);b(T,A,V,"","\\Phi",!0);b(T,A,V,"","\\Psi",!0);b(T,A,V,"","\\Omega",!0);b(T,A,V,"A","");b(T,A,V,"B","");b(T,A,V,"E","");b(T,A,V,"Z","");b(T,A,V,"H","");b(T,A,V,"I","");b(T,A,V,"K","");b(T,A,V,"M","");b(T,A,V,"N","");b(T,A,V,"O","");b(T,A,V,"P","");b(T,A,V,"T","");b(T,A,V,"X","");b(T,A,V,"","\\neg",!0);b(T,A,V,"","\\lnot");b(T,A,V,"","\\top");b(T,A,V,"","\\bot");b(T,A,V,"","\\emptyset");b(T,z,V,"","\\varnothing");b(T,A,Ke,"","\\alpha",!0);b(T,A,Ke,"","\\beta",!0);b(T,A,Ke,"","\\gamma",!0);b(T,A,Ke,"","\\delta",!0);b(T,A,Ke,"","\\epsilon",!0);b(T,A,Ke,"","\\zeta",!0);b(T,A,Ke,"","\\eta",!0);b(T,A,Ke,"","\\theta",!0);b(T,A,Ke,"","\\iota",!0);b(T,A,Ke,"","\\kappa",!0);b(T,A,Ke,"","\\lambda",!0);b(T,A,Ke,"","\\mu",!0);b(T,A,Ke,"","\\nu",!0);b(T,A,Ke,"","\\xi",!0);b(T,A,Ke,"","\\omicron",!0);b(T,A,Ke,"","\\pi",!0);b(T,A,Ke,"","\\rho",!0);b(T,A,Ke,"","\\sigma",!0);b(T,A,Ke,"","\\tau",!0);b(T,A,Ke,"","\\upsilon",!0);b(T,A,Ke,"","\\phi",!0);b(T,A,Ke,"","\\chi",!0);b(T,A,Ke,"","\\psi",!0);b(T,A,Ke,"","\\omega",!0);b(T,A,Ke,"","\\varepsilon",!0);b(T,A,Ke,"","\\vartheta",!0);b(T,A,Ke,"","\\varpi",!0);b(T,A,Ke,"","\\varrho",!0);b(T,A,Ke,"","\\varsigma",!0);b(T,A,Ke,"","\\varphi",!0);b(T,A,Oe,"","*",!0);b(T,A,Oe,"+","+");b(T,A,Oe,"","-",!0);b(T,A,Oe,"","\\cdot",!0);b(T,A,Oe,"","\\circ",!0);b(T,A,Oe,"","\\div",!0);b(T,A,Oe,"","\\pm",!0);b(T,A,Oe,"","\\times",!0);b(T,A,Oe,"","\\cap",!0);b(T,A,Oe,"","\\cup",!0);b(T,A,Oe,"","\\setminus",!0);b(T,A,Oe,"","\\land");b(T,A,Oe,"","\\lor");b(T,A,Oe,"","\\wedge",!0);b(T,A,Oe,"","\\vee",!0);b(T,A,V,"","\\surd");b(T,A,Ri,"","\\langle",!0);b(T,A,Ri,"","\\lvert");b(T,A,Ri,"","\\lVert");b(T,A,oi,"?","?");b(T,A,oi,"!","!");b(T,A,oi,"","\\rangle",!0);b(T,A,oi,"","\\rvert");b(T,A,oi,"","\\rVert");b(T,A,q,"=","=");b(T,A,q,":",":");b(T,A,q,"","\\approx",!0);b(T,A,q,"","\\cong",!0);b(T,A,q,"","\\ge");b(T,A,q,"","\\geq",!0);b(T,A,q,"","\\gets");b(T,A,q,">","\\gt",!0);b(T,A,q,"","\\in",!0);b(T,A,q,"","\\@not");b(T,A,q,"","\\subset",!0);b(T,A,q,"","\\supset",!0);b(T,A,q,"","\\subseteq",!0);b(T,A,q,"","\\supseteq",!0);b(T,z,q,"","\\nsubseteq",!0);b(T,z,q,"","\\nsupseteq",!0);b(T,A,q,"","\\models");b(T,A,q,"","\\leftarrow",!0);b(T,A,q,"","\\le");b(T,A,q,"","\\leq",!0);b(T,A,q,"<","\\lt",!0);b(T,A,q,"","\\rightarrow",!0);b(T,A,q,"","\\to");b(T,z,q,"","\\ngeq",!0);b(T,z,q,"","\\nleq",!0);b(T,A,Sn,"","\\ ");b(T,A,Sn,"","\\space");b(T,A,Sn,"","\\nobreakspace");b(ye,A,Sn,"","\\ ");b(ye,A,Sn,""," ");b(ye,A,Sn,"","\\space");b(ye,A,Sn,"","\\nobreakspace");b(T,A,Sn,null,"\\nobreak");b(T,A,Sn,null,"\\allowbreak");b(T,A,lh,",",",");b(T,A,lh,";",";");b(T,z,Oe,"","\\barwedge",!0);b(T,z,Oe,"","\\veebar",!0);b(T,A,Oe,"","\\odot",!0);b(T,A,Oe,"","\\oplus",!0);b(T,A,Oe,"","\\otimes",!0);b(T,A,V,"","\\partial",!0);b(T,A,Oe,"","\\oslash",!0);b(T,z,Oe,"","\\circledcirc",!0);b(T,z,Oe,"","\\boxdot",!0);b(T,A,Oe,"","\\bigtriangleup");b(T,A,Oe,"","\\bigtriangledown");b(T,A,Oe,"","\\dagger");b(T,A,Oe,"","\\diamond");b(T,A,Oe,"","\\star");b(T,A,Oe,"","\\triangleleft");b(T,A,Oe,"","\\triangleright");b(T,A,Ri,"{","\\{");b(ye,A,V,"{","\\{");b(ye,A,V,"{","\\textbraceleft");b(T,A,oi,"}","\\}");b(ye,A,V,"}","\\}");b(ye,A,V,"}","\\textbraceright");b(T,A,Ri,"{","\\lbrace");b(T,A,oi,"}","\\rbrace");b(T,A,Ri,"[","\\lbrack",!0);b(ye,A,V,"[","\\lbrack",!0);b(T,A,oi,"]","\\rbrack",!0);b(ye,A,V,"]","\\rbrack",!0);b(T,A,Ri,"(","\\lparen",!0);b(T,A,oi,")","\\rparen",!0);b(ye,A,V,"<","\\textless",!0);b(ye,A,V,">","\\textgreater",!0);b(T,A,Ri,"","\\lfloor",!0);b(T,A,oi,"","\\rfloor",!0);b(T,A,Ri,"","\\lceil",!0);b(T,A,oi,"","\\rceil",!0);b(T,A,V,"\\","\\backslash");b(T,A,V,"","|");b(T,A,V,"","\\vert");b(ye,A,V,"|","\\textbar",!0);b(T,A,V,"","\\|");b(T,A,V,"","\\Vert");b(ye,A,V,"","\\textbardbl");b(ye,A,V,"~","\\textasciitilde");b(ye,A,V,"\\","\\textbackslash");b(ye,A,V,"^","\\textasciicircum");b(T,A,q,"","\\uparrow",!0);b(T,A,q,"","\\Uparrow",!0);b(T,A,q,"","\\downarrow",!0);b(T,A,q,"","\\Downarrow",!0);b(T,A,q,"","\\updownarrow",!0);b(T,A,q,"","\\Updownarrow",!0);b(T,A,gr,"","\\coprod");b(T,A,gr,"","\\bigvee");b(T,A,gr,"","\\bigwedge");b(T,A,gr,"","\\biguplus");b(T,A,gr,"","\\bigcap");b(T,A,gr,"","\\bigcup");b(T,A,gr,"","\\int");b(T,A,gr,"","\\intop");b(T,A,gr,"","\\iint");b(T,A,gr,"","\\iiint");b(T,A,gr,"","\\prod");b(T,A,gr,"","\\sum");b(T,A,gr,"","\\bigotimes");b(T,A,gr,"","\\bigoplus");b(T,A,gr,"","\\bigodot");b(T,A,gr,"","\\oint");b(T,A,gr,"","\\oiint");b(T,A,gr,"","\\oiiint");b(T,A,gr,"","\\bigsqcup");b(T,A,gr,"","\\smallint");b(ye,A,pl,"","\\textellipsis");b(T,A,pl,"","\\mathellipsis");b(ye,A,pl,"","\\ldots",!0);b(T,A,pl,"","\\ldots",!0);b(T,A,pl,"","\\@cdots",!0);b(T,A,pl,"","\\ddots",!0);b(T,A,V,"","\\varvdots");b(T,A,Xt,"","\\acute");b(T,A,Xt,"","\\grave");b(T,A,Xt,"","\\ddot");b(T,A,Xt,"~","\\tilde");b(T,A,Xt,"","\\bar");b(T,A,Xt,"","\\breve");b(T,A,Xt,"","\\check");b(T,A,Xt,"^","\\hat");b(T,A,Xt,"","\\vec");b(T,A,Xt,"","\\dot");b(T,A,Xt,"","\\mathring");b(T,A,Ke,"","\\@imath");b(T,A,Ke,"","\\@jmath");b(T,A,V,"","");b(T,A,V,"","");b(ye,A,V,"","\\i",!0);b(ye,A,V,"","\\j",!0);b(ye,A,V,"","\\ss",!0);b(ye,A,V,"","\\ae",!0);b(ye,A,V,"","\\oe",!0);b(ye,A,V,"","\\o",!0);b(ye,A,V,"","\\AE",!0);b(ye,A,V,"","\\OE",!0);b(ye,A,V,"","\\O",!0);b(ye,A,Xt,"","\\'");b(ye,A,Xt,"","\\`");b(ye,A,Xt,"","\\^");b(ye,A,Xt,"","\\~");b(ye,A,Xt,"","\\=");b(ye,A,Xt,"","\\u");b(ye,A,Xt,"","\\.");b(ye,A,Xt,"","\\c");b(ye,A,Xt,"","\\r");b(ye,A,Xt,"","\\v");b(ye,A,Xt,"",'\\"');b(ye,A,Xt,"","\\H");b(ye,A,Xt,"","\\textcircled");var t_={"--":!0,"---":!0,"``":!0,"''":!0};b(ye,A,V,"","--",!0);b(ye,A,V,"","\\textendash");b(ye,A,V,"","---",!0);b(ye,A,V,"","\\textemdash");b(ye,A,V,"","`",!0);b(ye,A,V,"","\\textquoteleft");b(ye,A,V,"","'",!0);b(ye,A,V,"","\\textquoteright");b(ye,A,V,"","``",!0);b(ye,A,V,"","\\textquotedblleft");b(ye,A,V,"","''",!0);b(ye,A,V,"","\\textquotedblright");b(T,A,V,"","\\degree",!0);b(ye,A,V,"","\\degree");b(ye,A,V,"","\\textdegree",!0);b(T,A,V,"","\\pounds");b(T,A,V,"","\\mathsterling",!0);b(ye,A,V,"","\\pounds");b(ye,A,V,"","\\textsterling",!0);b(T,z,V,"","\\maltese");b(ye,z,V,"","\\maltese");var f3='0123456789/@."';for(var Lf=0;Lf<f3.length;Lf++){var p3=f3.charAt(Lf);b(T,A,V,p3,p3)}var m3='0123456789!@*()-=+";:?/.,';for(var Pf=0;Pf<m3.length;Pf++){var g3=m3.charAt(Pf);b(ye,A,V,g3,g3)}var ld="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Mf=0;Mf<ld.length;Mf++){var r0=ld.charAt(Mf);b(T,A,Ke,r0,r0),b(ye,A,V,r0,r0)}b(T,z,V,"C","");b(ye,z,V,"C","");b(T,z,V,"H","");b(ye,z,V,"H","");b(T,z,V,"N","");b(ye,z,V,"N","");b(T,z,V,"P","");b(ye,z,V,"P","");b(T,z,V,"Q","");b(ye,z,V,"Q","");b(T,z,V,"R","");b(ye,z,V,"R","");b(T,z,V,"Z","");b(ye,z,V,"Z","");b(T,A,Ke,"h","");b(ye,A,Ke,"h","");var et="";for(var Wr=0;Wr<ld.length;Wr++){var tr=ld.charAt(Wr);et=String.fromCharCode(55349,56320+Wr),b(T,A,Ke,tr,et),b(ye,A,V,tr,et),et=String.fromCharCode(55349,56372+Wr),b(T,A,Ke,tr,et),b(ye,A,V,tr,et),et=String.fromCharCode(55349,56424+Wr),b(T,A,Ke,tr,et),b(ye,A,V,tr,et),et=String.fromCharCode(55349,56580+Wr),b(T,A,Ke,tr,et),b(ye,A,V,tr,et),et=String.fromCharCode(55349,56684+Wr),b(T,A,Ke,tr,et),b(ye,A,V,tr,et),et=String.fromCharCode(55349,56736+Wr),b(T,A,Ke,tr,et),b(ye,A,V,tr,et),et=String.fromCharCode(55349,56788+Wr),b(T,A,Ke,tr,et),b(ye,A,V,tr,et),et=String.fromCharCode(55349,56840+Wr),b(T,A,Ke,tr,et),b(ye,A,V,tr,et),et=String.fromCharCode(55349,56944+Wr),b(T,A,Ke,tr,et),b(ye,A,V,tr,et),Wr<26&&(et=String.fromCharCode(55349,56632+Wr),b(T,A,Ke,tr,et),b(ye,A,V,tr,et),et=String.fromCharCode(55349,56476+Wr),b(T,A,Ke,tr,et),b(ye,A,V,tr,et))}et="";b(T,A,Ke,"k",et);b(ye,A,V,"k",et);for(var _a=0;_a<10;_a++){var Nn=_a.toString();et=String.fromCharCode(55349,57294+_a),b(T,A,Ke,Nn,et),b(ye,A,V,Nn,et),et=String.fromCharCode(55349,57314+_a),b(T,A,Ke,Nn,et),b(ye,A,V,Nn,et),et=String.fromCharCode(55349,57324+_a),b(T,A,Ke,Nn,et),b(ye,A,V,Nn,et),et=String.fromCharCode(55349,57334+_a),b(T,A,Ke,Nn,et),b(ye,A,V,Nn,et)}var Yp="";for(var Rf=0;Rf<Yp.length;Rf++){var i0=Yp.charAt(Rf);b(T,A,Ke,i0,i0),b(ye,A,V,i0,i0)}var s0=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],y3=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Jj=function(e,r){var i=e.charCodeAt(0),s=e.charCodeAt(1),n=(i-55296)*1024+(s-56320)+65536,a=r==="math"?0:1;if(119808<=n&&n<120484){var o=Math.floor((n-119808)/26);return[s0[o][2],s0[o][a]]}else if(120782<=n&&n<=120831){var l=Math.floor((n-120782)/10);return[y3[l][2],y3[l][a]]}else{if(n===120485||n===120486)return[s0[0][2],s0[0][a]];if(120486<n&&n<120782)return["",""];throw new Te("Unsupported character: "+e)}},uh=function(e,r,i){return Ht[i][e]&&Ht[i][e].replace&&(e=Ht[i][e].replace),{value:e,metrics:q1(e,r,i)}},ns=function(e,r,i,s,n){var a=uh(e,r,i),o=a.metrics;e=a.value;var l;if(o){var u=o.italic;(i==="text"||s&&s.font==="mathit")&&(u=0),l=new Ki(e,o.height,o.depth,u,o.skew,o.width,n)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+i+"'")),l=new Ki(e,0,0,0,0,0,n);if(s){l.maxFontSize=s.sizeMultiplier,s.style.isTight()&&l.classes.push("mtight");var c=s.getColor();c&&(l.style.color=c)}return l},eH=function(e,r,i,s){return s===void 0&&(s=[]),i.font==="boldsymbol"&&uh(e,"Main-Bold",r).metrics?ns(e,"Main-Bold",r,i,s.concat(["mathbf"])):e==="\\"||Ht[r][e].font==="main"?ns(e,"Main-Regular",r,i,s):ns(e,"AMS-Regular",r,i,s.concat(["amsrm"]))},tH=function(e,r,i,s,n){return n!=="textord"&&uh(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},rH=function(e,r,i){var s=e.mode,n=e.text,a=["mord"],o=s==="math"||s==="text"&&r.font,l=o?r.font:r.fontFamily,u="",c="";if(n.charCodeAt(0)===55349&&([u,c]=Jj(n,s)),u.length>0)return ns(n,u,s,r,a.concat(c));if(l){var h,f;if(l==="boldsymbol"){var y=tH(n,s,r,a,i);h=y.fontName,f=[y.fontClass]}else o?(h=s_[l].fontName,f=[l]):(h=n0(l,r.fontWeight,r.fontShape),f=[l,r.fontWeight,r.fontShape]);if(uh(n,h,s).metrics)return ns(n,h,s,r,a.concat(f));if(t_.hasOwnProperty(n)&&h.slice(0,10)==="Typewriter"){for(var w=[],_=0;_<n.length;_++)w.push(ns(n[_],h,s,r,a.concat(f)));return i_(w)}}if(i==="mathord")return ns(n,"Math-Italic",s,r,a.concat(["mathnormal"]));if(i==="textord"){var C=Ht[s][n]&&Ht[s][n].font;if(C==="ams"){var E=n0("amsrm",r.fontWeight,r.fontShape);return ns(n,E,s,r,a.concat("amsrm",r.fontWeight,r.fontShape))}else if(C==="main"||!C){var k=n0("textrm",r.fontWeight,r.fontShape);return ns(n,k,s,r,a.concat(r.fontWeight,r.fontShape))}else{var D=n0(C,r.fontWeight,r.fontShape);return ns(n,D,s,r,a.concat(D,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},iH=(t,e)=>{if(Zn(t.classes)!==Zn(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var i in t.style)if(t.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;for(var s in e.style)if(e.style.hasOwnProperty(s)&&t.style[s]!==e.style[s])return!1;return!0},sH=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],i=t[e+1];r instanceof Ki&&i instanceof Ki&&iH(r,i)&&(r.text+=i.text,r.height=Math.max(r.height,i.height),r.depth=Math.max(r.depth,i.depth),r.italic=i.italic,t.splice(e+1,1),e--)}return t},H1=function(e){for(var r=0,i=0,s=0,n=0;n<e.children.length;n++){var a=e.children[n];a.height>r&&(r=a.height),a.depth>i&&(i=a.depth),a.maxFontSize>s&&(s=a.maxFontSize)}e.height=r,e.depth=i,e.maxFontSize=s},di=function(e,r,i,s){var n=new rc(e,r,i,s);return H1(n),n},r_=(t,e,r,i)=>new rc(t,e,r,i),nH=function(e,r,i){var s=di([e],[],r);return s.height=Math.max(i||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),s.style.borderBottomWidth=Ae(s.height),s.maxFontSize=1,s},aH=function(e,r,i,s){var n=new j1(e,r,i,s);return H1(n),n},i_=function(e){var r=new tc(e);return H1(r),r},oH=function(e,r){return e instanceof tc?di([],[e],r):e},lH=function(e){if(e.positionType==="individualShift"){for(var r=e.children,i=[r[0]],s=-r[0].shift-r[0].elem.depth,n=s,a=1;a<r.length;a++){var o=-r[a].shift-n-r[a].elem.depth,l=o-(r[a-1].elem.height+r[a-1].elem.depth);n=n+o,i.push({type:"kern",size:l}),i.push(r[a])}return{children:i,depth:s}}var u;if(e.positionType==="top"){for(var c=e.positionData,h=0;h<e.children.length;h++){var f=e.children[h];c-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}u=c}else if(e.positionType==="bottom")u=-e.positionData;else{var y=e.children[0];if(y.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-y.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-y.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},uH=function(e,r){for(var{children:i,depth:s}=lH(e),n=0,a=0;a<i.length;a++){var o=i[a];if(o.type==="elem"){var l=o.elem;n=Math.max(n,l.maxFontSize,l.height)}}n+=2;var u=di(["pstrut"],[]);u.style.height=Ae(n);for(var c=[],h=s,f=s,y=s,w=0;w<i.length;w++){var _=i[w];if(_.type==="kern")y+=_.size;else{var C=_.elem,E=_.wrapperClasses||[],k=_.wrapperStyle||{},D=di(E,[u,C],void 0,k);D.style.top=Ae(-n-y-C.depth),_.marginLeft&&(D.style.marginLeft=_.marginLeft),_.marginRight&&(D.style.marginRight=_.marginRight),c.push(D),y+=C.height+C.depth}h=Math.min(h,y),f=Math.max(f,y)}var P=di(["vlist"],c);P.style.height=Ae(f);var L;if(h<0){var U=di([],[]),J=di(["vlist"],[U]);J.style.height=Ae(-h);var X=di(["vlist-s"],[new Ki("")]);L=[di(["vlist-r"],[P,X]),di(["vlist-r"],[J])]}else L=[di(["vlist-r"],[P])];var H=di(["vlist-t"],L);return L.length===2&&H.classes.push("vlist-t2"),H.height=f,H.depth=-h,H},cH=(t,e)=>{var r=di(["mspace"],[],e),i=Yt(t,e);return r.style.marginRight=Ae(i),r},n0=function(e,r,i){var s="";switch(e){case"amsrm":s="AMS";break;case"textrm":s="Main";break;case"textsf":s="SansSerif";break;case"texttt":s="Typewriter";break;default:s=e}var n;return r==="textbf"&&i==="textit"?n="BoldItalic":r==="textbf"?n="Bold":r==="textit"?n="Italic":n="Regular",s+"-"+n},s_={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},n_={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},dH=function(e,r){var[i,s,n]=n_[e],a=new Jn(i),o=new yn([a],{width:Ae(s),height:Ae(n),style:"width:"+Ae(s),viewBox:"0 0 "+1e3*s+" "+1e3*n,preserveAspectRatio:"xMinYMin"}),l=r_(["overlay"],[o],r);return l.height=n,l.style.height=Ae(n),l.style.width=Ae(s),l},ee={fontMap:s_,makeSymbol:ns,mathsym:eH,makeSpan:di,makeSvgSpan:r_,makeLineSpan:nH,makeAnchor:aH,makeFragment:i_,wrapFragment:oH,makeVList:uH,makeOrd:rH,makeGlue:cH,staticSvg:dH,svgData:n_,tryCombineChars:sH},Kt={number:3,unit:"mu"},xa={number:4,unit:"mu"},Qs={number:5,unit:"mu"},hH={mord:{mop:Kt,mbin:xa,mrel:Qs,minner:Kt},mop:{mord:Kt,mop:Kt,mrel:Qs,minner:Kt},mbin:{mord:xa,mop:xa,mopen:xa,minner:xa},mrel:{mord:Qs,mop:Qs,mopen:Qs,minner:Qs},mopen:{},mclose:{mop:Kt,mbin:xa,mrel:Qs,minner:Kt},mpunct:{mord:Kt,mop:Kt,mrel:Qs,mopen:Kt,mclose:Kt,mpunct:Kt,minner:Kt},minner:{mord:Kt,mop:Kt,mbin:xa,mrel:Qs,mopen:Kt,mpunct:Kt,minner:Kt}},fH={mord:{mop:Kt},mop:{mord:Kt,mop:Kt},mbin:{},mrel:{},mopen:{},mclose:{mop:Kt},mpunct:{},minner:{mop:Kt}},a_={},ud={},cd={};function Me(t){for(var{type:e,names:r,props:i,handler:s,htmlBuilder:n,mathmlBuilder:a}=t,o={type:e,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:s},l=0;l<r.length;++l)a_[r[l]]=o;e&&(n&&(ud[e]=n),a&&(cd[e]=a))}function Qa(t){var{type:e,htmlBuilder:r,mathmlBuilder:i}=t;Me({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:i})}var dd=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},ur=function(e){return e.type==="ordgroup"?e.body:[e]},vn=ee.makeSpan,pH=["leftmost","mbin","mopen","mrel","mop","mpunct"],mH=["rightmost","mrel","mclose","mpunct"],gH={display:Qe.DISPLAY,text:Qe.TEXT,script:Qe.SCRIPT,scriptscript:Qe.SCRIPTSCRIPT},yH={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Tr=function(e,r,i,s){s===void 0&&(s=[null,null]);for(var n=[],a=0;a<e.length;a++){var o=St(e[a],r);if(o instanceof tc){var l=o.children;n.push(...l)}else n.push(o)}if(ee.tryCombineChars(n),!i)return n;var u=r;if(e.length===1){var c=e[0];c.type==="sizing"?u=r.havingSize(c.size):c.type==="styling"&&(u=r.havingStyle(gH[c.style]))}var h=vn([s[0]||"leftmost"],[],r),f=vn([s[1]||"rightmost"],[],r),y=i==="root";return v3(n,(w,_)=>{var C=_.classes[0],E=w.classes[0];C==="mbin"&&Ve.contains(mH,E)?_.classes[0]="mord":E==="mbin"&&Ve.contains(pH,C)&&(w.classes[0]="mord")},{node:h},f,y),v3(n,(w,_)=>{var C=Qp(_),E=Qp(w),k=C&&E?w.hasClass("mtight")?fH[C][E]:hH[C][E]:null;if(k)return ee.makeGlue(k,u)},{node:h},f,y),n},v3=function t(e,r,i,s,n){s&&e.push(s);for(var a=0;a<e.length;a++){var o=e[a],l=o_(o);if(l){t(l.children,r,i,null,n);continue}var u=!o.hasClass("mspace");if(u){var c=r(o,i.node);c&&(i.insertAfter?i.insertAfter(c):(e.unshift(c),a++))}u?i.node=o:n&&o.hasClass("newline")&&(i.node=vn(["leftmost"])),i.insertAfter=(h=>f=>{e.splice(h+1,0,f),a++})(a)}s&&e.pop()},o_=function(e){return e instanceof tc||e instanceof j1||e instanceof rc&&e.hasClass("enclosing")?e:null},vH=function t(e,r){var i=o_(e);if(i){var s=i.children;if(s.length){if(r==="right")return t(s[s.length-1],"right");if(r==="left")return t(s[0],"left")}}return e},Qp=function(e,r){return e?(r&&(e=vH(e,r)),yH[e.classes[0]]||null):null},Ou=function(e,r){var i=["nulldelimiter"].concat(e.baseSizingClasses());return vn(r.concat(i))},St=function(e,r,i){if(!e)return vn();if(ud[e.type]){var s=ud[e.type](e,r);if(i&&r.size!==i.size){s=vn(r.sizingClasses(i),[s],r);var n=r.sizeMultiplier/i.sizeMultiplier;s.height*=n,s.depth*=n}return s}else throw new Te("Got group of unknown type: '"+e.type+"'")};function a0(t,e){var r=vn(["base"],t,e),i=vn(["strut"]);return i.style.height=Ae(r.height+r.depth),r.depth&&(i.style.verticalAlign=Ae(-r.depth)),r.children.unshift(i),r}function Zp(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var i=Tr(t,e,"root"),s;i.length===2&&i[1].hasClass("tag")&&(s=i.pop());for(var n=[],a=[],o=0;o<i.length;o++)if(a.push(i[o]),i[o].hasClass("mbin")||i[o].hasClass("mrel")||i[o].hasClass("allowbreak")){for(var l=!1;o<i.length-1&&i[o+1].hasClass("mspace")&&!i[o+1].hasClass("newline");)o++,a.push(i[o]),i[o].hasClass("nobreak")&&(l=!0);l||(n.push(a0(a,e)),a=[])}else i[o].hasClass("newline")&&(a.pop(),a.length>0&&(n.push(a0(a,e)),a=[]),n.push(i[o]));a.length>0&&n.push(a0(a,e));var u;r?(u=a0(Tr(r,e,!0)),u.classes=["tag"],n.push(u)):s&&n.push(s);var c=vn(["katex-html"],n);if(c.setAttribute("aria-hidden","true"),u){var h=u.children[0];h.style.height=Ae(c.height+c.depth),c.depth&&(h.style.verticalAlign=Ae(-c.depth))}return c}function l_(t){return new tc(t)}class Ui{constructor(e,r,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=i||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=Zn(this.classes));for(var i=0;i<this.children.length;i++)e.appendChild(this.children[i].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=Ve.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+Ve.escape(Zn(this.classes))+'"'),e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class pu{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ve.escape(this.toText())}toText(){return this.text}}class bH{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Ae(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ae(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var xe={MathNode:Ui,TextNode:pu,SpaceNode:bH,newDocumentFragment:l_},Yi=function(e,r,i){return Ht[r][e]&&Ht[r][e].replace&&e.charCodeAt(0)!==55349&&!(t_.hasOwnProperty(e)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(e=Ht[r][e].replace),new xe.TextNode(e)},V1=function(e){return e.length===1?e[0]:new xe.MathNode("mrow",e)},G1=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var i=r.font;if(!i||i==="mathnormal")return null;var s=e.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var n=e.text;if(Ve.contains(["\\imath","\\jmath"],n))return null;Ht[s][n]&&Ht[s][n].replace&&(n=Ht[s][n].replace);var a=ee.fontMap[i].fontName;return q1(n,a,s)?ee.fontMap[i].variant:null},xi=function(e,r,i){if(e.length===1){var s=zt(e[0],r);return i&&s instanceof Ui&&s.type==="mo"&&(s.setAttribute("lspace","0em"),s.setAttribute("rspace","0em")),[s]}for(var n=[],a,o=0;o<e.length;o++){var l=zt(e[o],r);if(l instanceof Ui&&a instanceof Ui){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&a.type==="mn"){var u=l.children[0];if(u instanceof pu&&u.text==="."){a.children.push(...l.children);continue}}else if(a.type==="mi"&&a.children.length===1){var c=a.children[0];if(c instanceof pu&&c.text===""&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var h=l.children[0];h instanceof pu&&h.text.length>0&&(h.text=h.text.slice(0,1)+""+h.text.slice(1),n.pop())}}}n.push(l),a=l}return n},ea=function(e,r,i){return V1(xi(e,r,i))},zt=function(e,r){if(!e)return new xe.MathNode("mrow");if(cd[e.type]){var i=cd[e.type](e,r);return i}else throw new Te("Got group of unknown type: '"+e.type+"'")};function b3(t,e,r,i,s){var n=xi(t,r),a;n.length===1&&n[0]instanceof Ui&&Ve.contains(["mrow","mtable"],n[0].type)?a=n[0]:a=new xe.MathNode("mrow",n);var o=new xe.MathNode("annotation",[new xe.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new xe.MathNode("semantics",[a,o]),u=new xe.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&u.setAttribute("display","block");var c=s?"katex":"katex-mathml";return ee.makeSpan([c],[u])}var u_=function(e){return new en({style:e.displayMode?Qe.DISPLAY:Qe.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},c_=function(e,r){if(r.displayMode){var i=["katex-display"];r.leqno&&i.push("leqno"),r.fleqn&&i.push("fleqn"),e=ee.makeSpan(i,[e])}return e},_H=function(e,r,i){var s=u_(i),n;if(i.output==="mathml")return b3(e,r,s,i.displayMode,!0);if(i.output==="html"){var a=Zp(e,s);n=ee.makeSpan(["katex"],[a])}else{var o=b3(e,r,s,i.displayMode,!1),l=Zp(e,s);n=ee.makeSpan(["katex"],[o,l])}return c_(n,i)},xH=function(e,r,i){var s=u_(i),n=Zp(e,s),a=ee.makeSpan(["katex"],[n]);return c_(a,i)},wH={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},TH=function(e){var r=new xe.MathNode("mo",[new xe.TextNode(wH[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},SH={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},CH=function(e){return e.type==="ordgroup"?e.body.length:1},EH=function(e,r){function i(){var o=4e5,l=e.label.slice(1);if(Ve.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,c=CH(u.base),h,f,y;if(c>5)l==="widehat"||l==="widecheck"?(h=420,o=2364,y=.42,f=l+"4"):(h=312,o=2340,y=.34,f="tilde4");else{var w=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][w],h=[0,239,300,360,420][w],y=[0,.24,.3,.3,.36,.42][w],f=l+w):(o=[0,600,1033,2339,2340][w],h=[0,260,286,306,312][w],y=[0,.26,.286,.3,.306,.34][w],f="tilde"+w)}var _=new Jn(f),C=new yn([_],{width:"100%",height:Ae(y),viewBox:"0 0 "+o+" "+h,preserveAspectRatio:"none"});return{span:ee.makeSvgSpan([],[C],r),minWidth:0,height:y}}else{var E=[],k=SH[l],[D,P,L]=k,U=L/1e3,J=D.length,X,H;if(J===1){var re=k[3];X=["hide-tail"],H=[re]}else if(J===2)X=["halfarrow-left","halfarrow-right"],H=["xMinYMin","xMaxYMin"];else if(J===3)X=["brace-left","brace-center","brace-right"],H=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+J+" children.");for(var Z=0;Z<J;Z++){var W=new Jn(D[Z]),ne=new yn([W],{width:"400em",height:Ae(U),viewBox:"0 0 "+o+" "+L,preserveAspectRatio:H[Z]+" slice"}),ce=ee.makeSvgSpan([X[Z]],[ne],r);if(J===1)return{span:ce,minWidth:P,height:U};ce.style.height=Ae(U),E.push(ce)}return{span:ee.makeSpan(["stretchy"],E,r),minWidth:P,height:U}}}var{span:s,minWidth:n,height:a}=i();return s.height=a,s.style.height=Ae(a),n>0&&(s.style.minWidth=Ae(n)),s},AH=function(e,r,i,s,n){var a,o=e.height+e.depth+i+s;if(/fbox|color|angl/.test(r)){if(a=ee.makeSpan(["stretchy",r],[],n),r==="fbox"){var l=n.color&&n.getColor();l&&(a.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(r)&&u.push(new Kp({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&u.push(new Kp({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new yn(u,{width:"100%",height:Ae(o)});a=ee.makeSvgSpan([],[c],n)}return a.height=o,a.style.height=Ae(o),a},bn={encloseSpan:AH,mathMLnode:TH,svgSpan:EH};function mt(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function W1(t){var e=ch(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function ch(t){return t&&(t.type==="atom"||Zj.hasOwnProperty(t.type))?t:null}var X1=(t,e)=>{var r,i,s;t&&t.type==="supsub"?(i=mt(t.base,"accent"),r=i.base,t.base=r,s=Yj(St(t,e)),t.base=i):(i=mt(t,"accent"),r=i.base);var n=St(r,e.havingCrampedStyle()),a=i.isShifty&&Ve.isCharacterBox(r),o=0;if(a){var l=Ve.getBaseElem(r),u=St(l,e.havingCrampedStyle());o=h3(u).skew}var c=i.label==="\\c",h=c?n.height+n.depth:Math.min(n.height,e.fontMetrics().xHeight),f;if(i.isStretchy)f=bn.svgSpan(i,e),f=ee.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Ae(2*o)+")",marginLeft:Ae(2*o)}:void 0}]},e);else{var y,w;i.label==="\\vec"?(y=ee.staticSvg("vec",e),w=ee.svgData.vec[1]):(y=ee.makeOrd({mode:i.mode,text:i.label},e,"textord"),y=h3(y),y.italic=0,w=y.width,c&&(h+=y.depth)),f=ee.makeSpan(["accent-body"],[y]);var _=i.label==="\\textcircled";_&&(f.classes.push("accent-full"),h=n.height);var C=o;_||(C-=w/2),f.style.left=Ae(C),i.label==="\\textcircled"&&(f.style.top=".2em"),f=ee.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:-h},{type:"elem",elem:f}]},e)}var E=ee.makeSpan(["mord","accent"],[f],e);return s?(s.children[0]=E,s.height=Math.max(E.height,s.height),s.classes[0]="mord",s):E},d_=(t,e)=>{var r=t.isStretchy?bn.mathMLnode(t.label):new xe.MathNode("mo",[Yi(t.label,t.mode)]),i=new xe.MathNode("mover",[zt(t.base,e),r]);return i.setAttribute("accent","true"),i},kH=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Me({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=dd(e[0]),i=!kH.test(t.funcName),s=!i||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:i,isShifty:s,base:r}},htmlBuilder:X1,mathmlBuilder:d_});Me({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],i=t.parser.mode;return i==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:X1,mathmlBuilder:d_});Me({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:i}=t,s=e[0];return{type:"accentUnder",mode:r.mode,label:i,base:s}},htmlBuilder:(t,e)=>{var r=St(t.base,e),i=bn.svgSpan(t,e),s=t.label==="\\utilde"?.12:0,n=ee.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:s},{type:"elem",elem:r}]},e);return ee.makeSpan(["mord","accentunder"],[n],e)},mathmlBuilder:(t,e)=>{var r=bn.mathMLnode(t.label),i=new xe.MathNode("munder",[zt(t.base,e),r]);return i.setAttribute("accentunder","true"),i}});var o0=t=>{var e=new xe.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Me({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:i,funcName:s}=t;return{type:"xArrow",mode:i.mode,label:s,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,i=e.havingStyle(r.sup()),s=ee.wrapFragment(St(t.body,i,e),e),n=t.label.slice(0,2)==="\\x"?"x":"cd";s.classes.push(n+"-arrow-pad");var a;t.below&&(i=e.havingStyle(r.sub()),a=ee.wrapFragment(St(t.below,i,e),e),a.classes.push(n+"-arrow-pad"));var o=bn.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(s.depth>.25||t.label==="\\xleftequilibrium")&&(u-=s.depth);var c;if(a){var h=-e.fontMetrics().axisHeight+a.height+.5*o.height+.111;c=ee.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:a,shift:h}]},e)}else c=ee.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:u},{type:"elem",elem:o,shift:l}]},e);return c.children[0].children[0].children[1].classes.push("svg-align"),ee.makeSpan(["mrel","x-arrow"],[c],e)},mathmlBuilder(t,e){var r=bn.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(t.body){var s=o0(zt(t.body,e));if(t.below){var n=o0(zt(t.below,e));i=new xe.MathNode("munderover",[r,n,s])}else i=new xe.MathNode("mover",[r,s])}else if(t.below){var a=o0(zt(t.below,e));i=new xe.MathNode("munder",[r,a])}else i=o0(),i=new xe.MathNode("mover",[r,i]);return i}});var DH=ee.makeSpan;function h_(t,e){var r=Tr(t.body,e,!0);return DH([t.mclass],r,e)}function f_(t,e){var r,i=xi(t.body,e);return t.mclass==="minner"?r=new xe.MathNode("mpadded",i):t.mclass==="mord"?t.isCharacterBox?(r=i[0],r.type="mi"):r=new xe.MathNode("mi",i):(t.isCharacterBox?(r=i[0],r.type="mo"):r=new xe.MathNode("mo",i),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}Me({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:i}=t,s=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+i.slice(5),body:ur(s),isCharacterBox:Ve.isCharacterBox(s)}},htmlBuilder:h_,mathmlBuilder:f_});var dh=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Me({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:dh(e[0]),body:ur(e[1]),isCharacterBox:Ve.isCharacterBox(e[1])}}});Me({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:i}=t,s=e[1],n=e[0],a;i!=="\\stackrel"?a=dh(s):a="mrel";var o={type:"op",mode:s.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:ur(s)},l={type:"supsub",mode:n.mode,base:o,sup:i==="\\underset"?null:n,sub:i==="\\underset"?n:null};return{type:"mclass",mode:r.mode,mclass:a,body:[l],isCharacterBox:Ve.isCharacterBox(l)}},htmlBuilder:h_,mathmlBuilder:f_});Me({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:dh(e[0]),body:ur(e[0])}},htmlBuilder(t,e){var r=Tr(t.body,e,!0),i=ee.makeSpan([t.mclass],r,e);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(t,e){var r=xi(t.body,e),i=new xe.MathNode("mstyle",r);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var IH={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},_3=()=>({type:"styling",body:[],mode:"math",style:"display"}),x3=t=>t.type==="textord"&&t.text==="@",LH=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function PH(t,e,r){var i=IH[t];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(i,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var s=r.callFunction("\\\\cdleft",[e[0]],[]),n={type:"atom",text:i,mode:"math",family:"rel"},a=r.callFunction("\\Big",[n],[]),o=r.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[s,a,o]};return r.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function MH(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Te("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var i=[],s=[i],n=0;n<e.length;n++){for(var a=e[n],o=_3(),l=0;l<a.length;l++)if(!x3(a[l]))o.body.push(a[l]);else{i.push(o),l+=1;var u=W1(a[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var h=0;h<2;h++){for(var f=!0,y=l+1;y<a.length;y++){if(LH(a[y],u)){f=!1,l=y;break}if(x3(a[y]))throw new Te("Missing a "+u+" character to complete a CD arrow.",a[y]);c[h].body.push(a[y])}if(f)throw new Te("Missing a "+u+" character to complete a CD arrow.",a[l])}else throw new Te('Expected one of "<>AV=|." after @',a[l]);var w=PH(u,c,t),_={type:"styling",body:[w],mode:"math",style:"display"};i.push(_),o=_3()}n%2===0?i.push(o):i.shift(),i=[],s.push(i)}t.gullet.endGroup(),t.gullet.endGroup();var C=new Array(s[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:s,arraystretch:1,addJot:!0,rowGaps:[null],cols:C,colSeparationType:"CD",hLinesBeforeRow:new Array(s.length+1).fill([])}}Me({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:i}=t;return{type:"cdlabel",mode:r.mode,side:i.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),i=ee.wrapFragment(St(t.label,r,e),e);return i.classes.push("cd-label-"+t.side),i.style.bottom=Ae(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(t,e){var r=new xe.MathNode("mrow",[zt(t.label,e)]);return r=new xe.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new xe.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});Me({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=ee.wrapFragment(St(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new xe.MathNode("mrow",[zt(t.fragment,e)])}});Me({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,i=mt(e[0],"ordgroup"),s=i.body,n="",a=0;a<s.length;a++){var o=mt(s[a],"textord");n+=o.text}var l=parseInt(n),u;if(isNaN(l))throw new Te("\\@char has non-numeric argument "+n);if(l<0||l>=1114111)throw new Te("\\@char with invalid code point "+n);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:r.mode,text:u}}});var p_=(t,e)=>{var r=Tr(t.body,e.withColor(t.color),!1);return ee.makeFragment(r)},m_=(t,e)=>{var r=xi(t.body,e.withColor(t.color)),i=new xe.MathNode("mstyle",r);return i.setAttribute("mathcolor",t.color),i};Me({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,i=mt(e[0],"color-token").color,s=e[1];return{type:"color",mode:r.mode,color:i,body:ur(s)}},htmlBuilder:p_,mathmlBuilder:m_});Me({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:i}=t,s=mt(e[0],"color-token").color;r.gullet.macros.set("\\current@color",s);var n=r.parseExpression(!0,i);return{type:"color",mode:r.mode,color:s,body:n}},htmlBuilder:p_,mathmlBuilder:m_});Me({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:i}=t,s=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,n=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:n,size:s&&mt(s,"size").value}},htmlBuilder(t,e){var r=ee.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=Ae(Yt(t.size,e)))),r},mathmlBuilder(t,e){var r=new xe.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",Ae(Yt(t.size,e)))),r}});var Jp={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},g_=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Te("Expected a control sequence",t);return e},RH=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},y_=(t,e,r,i)=>{var s=t.gullet.macros.get(r.text);s==null&&(r.noexpand=!0,s={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,s,i)};Me({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var i=e.fetch();if(Jp[i.text])return(r==="\\global"||r==="\\\\globallong")&&(i.text=Jp[i.text]),mt(e.parseFunction(),"internal");throw new Te("Invalid token after macro prefix",i)}});Me({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,i=e.gullet.popToken(),s=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(s))throw new Te("Expected a control sequence",i);for(var n=0,a,o=[[]];e.gullet.future().text!=="{";)if(i=e.gullet.popToken(),i.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),o[n].push("{");break}if(i=e.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new Te('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==n+1)throw new Te('Argument number "'+i.text+'" out of order');n++,o.push([])}else{if(i.text==="EOF")throw new Te("Expected a macro definition");o[n].push(i.text)}var{tokens:l}=e.gullet.consumeArg();return a&&l.unshift(a),(r==="\\edef"||r==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(s,{tokens:l,numArgs:n,delimiters:o},r===Jp[r]),{type:"internal",mode:e.mode}}});Me({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,i=g_(e.gullet.popToken());e.gullet.consumeSpaces();var s=RH(e);return y_(e,i,s,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});Me({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,i=g_(e.gullet.popToken()),s=e.gullet.popToken(),n=e.gullet.popToken();return y_(e,i,n,r==="\\\\globalfuture"),e.gullet.pushToken(n),e.gullet.pushToken(s),{type:"internal",mode:e.mode}}});var Zl=function(e,r,i){var s=Ht.math[e]&&Ht.math[e].replace,n=q1(s||e,r,i);if(!n)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return n},K1=function(e,r,i,s){var n=i.havingBaseStyle(r),a=ee.makeSpan(s.concat(n.sizingClasses(i)),[e],i),o=n.sizeMultiplier/i.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=n.sizeMultiplier,a},v_=function(e,r,i){var s=r.havingBaseStyle(i),n=(1-r.sizeMultiplier/s.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Ae(n),e.height-=n,e.depth+=n},OH=function(e,r,i,s,n,a){var o=ee.makeSymbol(e,"Main-Regular",n,s),l=K1(o,r,s,a);return i&&v_(l,s,r),l},NH=function(e,r,i,s){return ee.makeSymbol(e,"Size"+r+"-Regular",i,s)},b_=function(e,r,i,s,n,a){var o=NH(e,r,n,s),l=K1(ee.makeSpan(["delimsizing","size"+r],[o],s),Qe.TEXT,s,a);return i&&v_(l,s,Qe.TEXT),l},Of=function(e,r,i){var s;r==="Size1-Regular"?s="delim-size1":s="delim-size4";var n=ee.makeSpan(["delimsizinginner",s],[ee.makeSpan([],[ee.makeSymbol(e,r,i)])]);return{type:"elem",elem:n}},Nf=function(e,r,i){var s=Ls["Size4-Regular"][e.charCodeAt(0)]?Ls["Size4-Regular"][e.charCodeAt(0)][4]:Ls["Size1-Regular"][e.charCodeAt(0)][4],n=new Jn("inner",qj(e,Math.round(1e3*r))),a=new yn([n],{width:Ae(s),height:Ae(r),style:"width:"+Ae(s),viewBox:"0 0 "+1e3*s+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),o=ee.makeSvgSpan([],[a],i);return o.height=r,o.style.height=Ae(r),o.style.width=Ae(s),{type:"elem",elem:o}},em=.008,l0={type:"kern",size:-1*em},BH=["|","\\lvert","\\rvert","\\vert"],FH=["\\|","\\lVert","\\rVert","\\Vert"],__=function(e,r,i,s,n,a){var o,l,u,c,h="",f=0;o=u=c=e,l=null;var y="Size1-Regular";e==="\\uparrow"?u=c="":e==="\\Uparrow"?u=c="":e==="\\downarrow"?o=u="":e==="\\Downarrow"?o=u="":e==="\\updownarrow"?(o="\\uparrow",u="",c="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="",c="\\Downarrow"):Ve.contains(BH,e)?(u="",h="vert",f=333):Ve.contains(FH,e)?(u="",h="doublevert",f=556):e==="["||e==="\\lbrack"?(o="",u="",c="",y="Size4-Regular",h="lbrack",f=667):e==="]"||e==="\\rbrack"?(o="",u="",c="",y="Size4-Regular",h="rbrack",f=667):e==="\\lfloor"||e===""?(u=o="",c="",y="Size4-Regular",h="lfloor",f=667):e==="\\lceil"||e===""?(o="",u=c="",y="Size4-Regular",h="lceil",f=667):e==="\\rfloor"||e===""?(u=o="",c="",y="Size4-Regular",h="rfloor",f=667):e==="\\rceil"||e===""?(o="",u=c="",y="Size4-Regular",h="rceil",f=667):e==="("||e==="\\lparen"?(o="",u="",c="",y="Size4-Regular",h="lparen",f=875):e===")"||e==="\\rparen"?(o="",u="",c="",y="Size4-Regular",h="rparen",f=875):e==="\\{"||e==="\\lbrace"?(o="",l="",c="",u="",y="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="",l="",c="",u="",y="Size4-Regular"):e==="\\lgroup"||e===""?(o="",c="",u="",y="Size4-Regular"):e==="\\rgroup"||e===""?(o="",c="",u="",y="Size4-Regular"):e==="\\lmoustache"||e===""?(o="",c="",u="",y="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(o="",c="",u="",y="Size4-Regular");var w=Zl(o,y,n),_=w.height+w.depth,C=Zl(u,y,n),E=C.height+C.depth,k=Zl(c,y,n),D=k.height+k.depth,P=0,L=1;if(l!==null){var U=Zl(l,y,n);P=U.height+U.depth,L=2}var J=_+D+P,X=Math.max(0,Math.ceil((r-J)/(L*E))),H=J+X*L*E,re=s.fontMetrics().axisHeight;i&&(re*=s.sizeMultiplier);var Z=H/2-re,W=[];if(h.length>0){var ne=H-_-D,ce=Math.round(H*1e3),$e=jj(h,Math.round(ne*1e3)),ke=new Jn(h,$e),De=(f/1e3).toFixed(3)+"em",ze=(ce/1e3).toFixed(3)+"em",Et=new yn([ke],{width:De,height:ze,viewBox:"0 0 "+f+" "+ce}),wt=ee.makeSvgSpan([],[Et],s);wt.height=ce/1e3,wt.style.width=De,wt.style.height=ze,W.push({type:"elem",elem:wt})}else{if(W.push(Of(c,y,n)),W.push(l0),l===null){var Ze=H-_-D+2*em;W.push(Nf(u,Ze,s))}else{var ut=(H-_-D-P)/2+2*em;W.push(Nf(u,ut,s)),W.push(l0),W.push(Of(l,y,n)),W.push(l0),W.push(Nf(u,ut,s))}W.push(l0),W.push(Of(o,y,n))}var rt=s.havingBaseStyle(Qe.TEXT),Pt=ee.makeVList({positionType:"bottom",positionData:Z,children:W},rt);return K1(ee.makeSpan(["delimsizing","mult"],[Pt],rt),Qe.TEXT,s,a)},Bf=80,Ff=.08,Uf=function(e,r,i,s,n){var a=zj(e,s,i),o=new Jn(e,a),l=new yn([o],{width:"400em",height:Ae(r),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return ee.makeSvgSpan(["hide-tail"],[l],n)},UH=function(e,r){var i=r.havingBaseSizing(),s=S_("\\surd",e*i.sizeMultiplier,T_,i),n=i.sizeMultiplier,a=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),o,l=0,u=0,c=0,h;return s.type==="small"?(c=1e3+1e3*a+Bf,e<1?n=1:e<1.4&&(n=.7),l=(1+a+Ff)/n,u=(1+a)/n,o=Uf("sqrtMain",l,c,a,r),o.style.minWidth="0.853em",h=.833/n):s.type==="large"?(c=(1e3+Bf)*mu[s.size],u=(mu[s.size]+a)/n,l=(mu[s.size]+a+Ff)/n,o=Uf("sqrtSize"+s.size,l,c,a,r),o.style.minWidth="1.02em",h=1/n):(l=e+a+Ff,u=e+a,c=Math.floor(1e3*e+a)+Bf,o=Uf("sqrtTall",l,c,a,r),o.style.minWidth="0.742em",h=1.056),o.height=u,o.style.height=Ae(l),{span:o,advanceWidth:h,ruleWidth:(r.fontMetrics().sqrtRuleThickness+a)*n}},x_=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],$H=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],w_=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],mu=[0,1.2,1.8,2.4,3],zH=function(e,r,i,s,n){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),Ve.contains(x_,e)||Ve.contains(w_,e))return b_(e,r,!1,i,s,n);if(Ve.contains($H,e))return __(e,mu[r],!1,i,s,n);throw new Te("Illegal delimiter: '"+e+"'")},qH=[{type:"small",style:Qe.SCRIPTSCRIPT},{type:"small",style:Qe.SCRIPT},{type:"small",style:Qe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],jH=[{type:"small",style:Qe.SCRIPTSCRIPT},{type:"small",style:Qe.SCRIPT},{type:"small",style:Qe.TEXT},{type:"stack"}],T_=[{type:"small",style:Qe.SCRIPTSCRIPT},{type:"small",style:Qe.SCRIPT},{type:"small",style:Qe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],HH=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},S_=function(e,r,i,s){for(var n=Math.min(2,3-s.style.size),a=n;a<i.length&&i[a].type!=="stack";a++){var o=Zl(e,HH(i[a]),"math"),l=o.height+o.depth;if(i[a].type==="small"){var u=s.havingBaseStyle(i[a].style);l*=u.sizeMultiplier}if(l>r)return i[a]}return i[i.length-1]},C_=function(e,r,i,s,n,a){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var o;Ve.contains(w_,e)?o=qH:Ve.contains(x_,e)?o=T_:o=jH;var l=S_(e,r,o,s);return l.type==="small"?OH(e,l.style,i,s,n,a):l.type==="large"?b_(e,l.size,i,s,n,a):__(e,r,i,s,n,a)},VH=function(e,r,i,s,n,a){var o=s.fontMetrics().axisHeight*s.sizeMultiplier,l=901,u=5/s.fontMetrics().ptPerEm,c=Math.max(r-o,i+o),h=Math.max(c/500*l,2*c-u);return C_(e,h,!0,s,n,a)},dn={sqrtImage:UH,sizedDelim:zH,sizeToMaxHeight:mu,customSizedDelim:C_,leftRightDelim:VH},w3={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},GH=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function hh(t,e){var r=ch(t);if(r&&Ve.contains(GH,r.text))return r;throw r?new Te("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new Te("Invalid delimiter type '"+t.type+"'",t)}Me({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=hh(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:w3[t.funcName].size,mclass:w3[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?ee.makeSpan([t.mclass]):dn.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Yi(t.delim,t.mode));var r=new xe.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var i=Ae(dn.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",i),r.setAttribute("maxsize",i),r}});function T3(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Me({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new Te("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:hh(e[0],t).text,color:r}}});Me({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=hh(e[0],t),i=t.parser;++i.leftrightDepth;var s=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var n=mt(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:s,left:r.text,right:n.delim,rightColor:n.color}},htmlBuilder:(t,e)=>{T3(t);for(var r=Tr(t.body,e,!0,["mopen","mclose"]),i=0,s=0,n=!1,a=0;a<r.length;a++)r[a].isMiddle?n=!0:(i=Math.max(r[a].height,i),s=Math.max(r[a].depth,s));i*=e.sizeMultiplier,s*=e.sizeMultiplier;var o;if(t.left==="."?o=Ou(e,["mopen"]):o=dn.leftRightDelim(t.left,i,s,e,t.mode,["mopen"]),r.unshift(o),n)for(var l=1;l<r.length;l++){var u=r[l],c=u.isMiddle;c&&(r[l]=dn.leftRightDelim(c.delim,i,s,c.options,t.mode,[]))}var h;if(t.right===".")h=Ou(e,["mclose"]);else{var f=t.rightColor?e.withColor(t.rightColor):e;h=dn.leftRightDelim(t.right,i,s,f,t.mode,["mclose"])}return r.push(h),ee.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{T3(t);var r=xi(t.body,e);if(t.left!=="."){var i=new xe.MathNode("mo",[Yi(t.left,t.mode)]);i.setAttribute("fence","true"),r.unshift(i)}if(t.right!=="."){var s=new xe.MathNode("mo",[Yi(t.right,t.mode)]);s.setAttribute("fence","true"),t.rightColor&&s.setAttribute("mathcolor",t.rightColor),r.push(s)}return V1(r)}});Me({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=hh(e[0],t);if(!t.parser.leftrightDepth)throw new Te("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=Ou(e,[]);else{r=dn.sizedDelim(t.delim,1,e,t.mode,[]);var i={delim:t.delim,options:e};r.isMiddle=i}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?Yi("|","text"):Yi(t.delim,t.mode),i=new xe.MathNode("mo",[r]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var Y1=(t,e)=>{var r=ee.wrapFragment(St(t.body,e),e),i=t.label.slice(1),s=e.sizeMultiplier,n,a=0,o=Ve.isCharacterBox(t.body);if(i==="sout")n=ee.makeSpan(["stretchy","sout"]),n.height=e.fontMetrics().defaultRuleThickness/s,a=-.5*e.fontMetrics().xHeight;else if(i==="phase"){var l=Yt({number:.6,unit:"pt"},e),u=Yt({number:.35,unit:"ex"},e),c=e.havingBaseSizing();s=s/c.sizeMultiplier;var h=r.height+r.depth+l+u;r.style.paddingLeft=Ae(h/2+l);var f=Math.floor(1e3*h*s),y=Uj(f),w=new yn([new Jn("phase",y)],{width:"400em",height:Ae(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});n=ee.makeSvgSpan(["hide-tail"],[w],e),n.style.height=Ae(h),a=r.depth+l+u}else{/cancel/.test(i)?o||r.classes.push("cancel-pad"):i==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var _=0,C=0,E=0;/box/.test(i)?(E=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),_=e.fontMetrics().fboxsep+(i==="colorbox"?0:E),C=_):i==="angl"?(E=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),_=4*E,C=Math.max(0,.25-r.depth)):(_=o?.2:0,C=_),n=bn.encloseSpan(r,i,_,C,e),/fbox|boxed|fcolorbox/.test(i)?(n.style.borderStyle="solid",n.style.borderWidth=Ae(E)):i==="angl"&&E!==.049&&(n.style.borderTopWidth=Ae(E),n.style.borderRightWidth=Ae(E)),a=r.depth+C,t.backgroundColor&&(n.style.backgroundColor=t.backgroundColor,t.borderColor&&(n.style.borderColor=t.borderColor))}var k;if(t.backgroundColor)k=ee.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:a},{type:"elem",elem:r,shift:0}]},e);else{var D=/cancel|phase/.test(i)?["svg-align"]:[];k=ee.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:n,shift:a,wrapperClasses:D}]},e)}return/cancel/.test(i)&&(k.height=r.height,k.depth=r.depth),/cancel/.test(i)&&!o?ee.makeSpan(["mord","cancel-lap"],[k],e):ee.makeSpan(["mord"],[k],e)},Q1=(t,e)=>{var r=0,i=new xe.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[zt(t.body,e)]);switch(t.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*r+"pt"),i.setAttribute("height","+"+2*r+"pt"),i.setAttribute("lspace",r+"pt"),i.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var s=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);i.setAttribute("style","border: "+s+"em solid "+String(t.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&i.setAttribute("mathbackground",t.backgroundColor),i};Me({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:i,funcName:s}=t,n=mt(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:i.mode,label:s,backgroundColor:n,body:a}},htmlBuilder:Y1,mathmlBuilder:Q1});Me({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:i,funcName:s}=t,n=mt(e[0],"color-token").color,a=mt(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:i.mode,label:s,backgroundColor:a,borderColor:n,body:o}},htmlBuilder:Y1,mathmlBuilder:Q1});Me({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});Me({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:i}=t,s=e[0];return{type:"enclose",mode:r.mode,label:i,body:s}},htmlBuilder:Y1,mathmlBuilder:Q1});Me({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var E_={};function qs(t){for(var{type:e,names:r,props:i,handler:s,htmlBuilder:n,mathmlBuilder:a}=t,o={type:e,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:s},l=0;l<r.length;++l)E_[r[l]]=o;n&&(ud[e]=n),a&&(cd[e]=a)}var A_={};function I(t,e){A_[t]=e}function S3(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var fh=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Te("{"+t.envName+"} can be used only in display mode.")};function Z1(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function oa(t,e,r){var{hskipBeforeAndAfter:i,addJot:s,cols:n,arraystretch:a,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:h,leqno:f}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var y=t.gullet.expandMacroAsText("\\arraystretch");if(y==null)a=1;else if(a=parseFloat(y),!a||a<0)throw new Te("Invalid \\arraystretch: "+y)}t.gullet.beginGroup();var w=[],_=[w],C=[],E=[],k=l!=null?[]:void 0;function D(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function P(){k&&(t.gullet.macros.get("\\df@tag")?(k.push(t.subparse([new Vi("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):k.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(D(),E.push(S3(t));;){var L=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),L={type:"ordgroup",mode:t.mode,body:L},r&&(L={type:"styling",mode:t.mode,style:r,body:[L]}),w.push(L);var U=t.fetch().text;if(U==="&"){if(h&&w.length===h){if(u||o)throw new Te("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(U==="\\end"){P(),w.length===1&&L.type==="styling"&&L.body[0].body.length===0&&(_.length>1||!c)&&_.pop(),E.length<_.length+1&&E.push([]);break}else if(U==="\\\\"){t.consume();var J=void 0;t.gullet.future().text!==" "&&(J=t.parseSizeGroup(!0)),C.push(J?J.value:null),P(),E.push(S3(t)),w=[],_.push(w),D()}else throw new Te("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:s,arraystretch:a,body:_,cols:n,rowGaps:C,hskipBeforeAndAfter:i,hLinesBeforeRow:E,colSeparationType:o,tags:k,leqno:f}}function J1(t){return t.slice(0,1)==="d"?"display":"text"}var js=function(e,r){var i,s,n=e.body.length,a=e.hLinesBeforeRow,o=0,l=new Array(n),u=[],c=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),h=1/r.fontMetrics().ptPerEm,f=5*h;if(e.colSeparationType&&e.colSeparationType==="small"){var y=r.havingStyle(Qe.SCRIPT).sizeMultiplier;f=.2778*(y/r.sizeMultiplier)}var w=e.colSeparationType==="CD"?Yt({number:3,unit:"ex"},r):12*h,_=3*h,C=e.arraystretch*w,E=.7*C,k=.3*C,D=0;function P(he){for(var Ce=0;Ce<he.length;++Ce)Ce>0&&(D+=.25),u.push({pos:D,isDashed:he[Ce]})}for(P(a[0]),i=0;i<e.body.length;++i){var L=e.body[i],U=E,J=k;o<L.length&&(o=L.length);var X=new Array(L.length);for(s=0;s<L.length;++s){var H=St(L[s],r);J<H.depth&&(J=H.depth),U<H.height&&(U=H.height),X[s]=H}var re=e.rowGaps[i],Z=0;re&&(Z=Yt(re,r),Z>0&&(Z+=k,J<Z&&(J=Z),Z=0)),e.addJot&&(J+=_),X.height=U,X.depth=J,D+=U,X.pos=D,D+=J+Z,l[i]=X,P(a[i+1])}var W=D/2+r.fontMetrics().axisHeight,ne=e.cols||[],ce=[],$e,ke,De=[];if(e.tags&&e.tags.some(he=>he))for(i=0;i<n;++i){var ze=l[i],Et=ze.pos-W,wt=e.tags[i],Ze=void 0;wt===!0?Ze=ee.makeSpan(["eqn-num"],[],r):wt===!1?Ze=ee.makeSpan([],[],r):Ze=ee.makeSpan([],Tr(wt,r,!0),r),Ze.depth=ze.depth,Ze.height=ze.height,De.push({type:"elem",elem:Ze,shift:Et})}for(s=0,ke=0;s<o||ke<ne.length;++s,++ke){for(var ut=ne[ke]||{},rt=!0;ut.type==="separator";){if(rt||($e=ee.makeSpan(["arraycolsep"],[]),$e.style.width=Ae(r.fontMetrics().doubleRuleSep),ce.push($e)),ut.separator==="|"||ut.separator===":"){var Pt=ut.separator==="|"?"solid":"dashed",it=ee.makeSpan(["vertical-separator"],[],r);it.style.height=Ae(D),it.style.borderRightWidth=Ae(c),it.style.borderRightStyle=Pt,it.style.margin="0 "+Ae(-c/2);var bt=D-W;bt&&(it.style.verticalAlign=Ae(-bt)),ce.push(it)}else throw new Te("Invalid separator type: "+ut.separator);ke++,ut=ne[ke]||{},rt=!1}if(!(s>=o)){var ie=void 0;(s>0||e.hskipBeforeAndAfter)&&(ie=Ve.deflt(ut.pregap,f),ie!==0&&($e=ee.makeSpan(["arraycolsep"],[]),$e.style.width=Ae(ie),ce.push($e)));var ve=[];for(i=0;i<n;++i){var _e=l[i],Le=_e[s];if(Le){var at=_e.pos-W;Le.depth=_e.depth,Le.height=_e.height,ve.push({type:"elem",elem:Le,shift:at})}}ve=ee.makeVList({positionType:"individualShift",children:ve},r),ve=ee.makeSpan(["col-align-"+(ut.align||"c")],[ve]),ce.push(ve),(s<o-1||e.hskipBeforeAndAfter)&&(ie=Ve.deflt(ut.postgap,f),ie!==0&&($e=ee.makeSpan(["arraycolsep"],[]),$e.style.width=Ae(ie),ce.push($e)))}}if(l=ee.makeSpan(["mtable"],ce),u.length>0){for(var ot=ee.makeLineSpan("hline",r,c),R=ee.makeLineSpan("hdashline",r,c),B=[{type:"elem",elem:l,shift:0}];u.length>0;){var Q=u.pop(),de=Q.pos-W;Q.isDashed?B.push({type:"elem",elem:R,shift:de}):B.push({type:"elem",elem:ot,shift:de})}l=ee.makeVList({positionType:"individualShift",children:B},r)}if(De.length===0)return ee.makeSpan(["mord"],[l],r);var ue=ee.makeVList({positionType:"individualShift",children:De},r);return ue=ee.makeSpan(["tag"],[ue],r),ee.makeFragment([l,ue])},WH={c:"center ",l:"left ",r:"right "},Hs=function(e,r){for(var i=[],s=new xe.MathNode("mtd",[],["mtr-glue"]),n=new xe.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var o=e.body[a],l=[],u=0;u<o.length;u++)l.push(new xe.MathNode("mtd",[zt(o[u],r)]));e.tags&&e.tags[a]&&(l.unshift(s),l.push(s),e.leqno?l.unshift(n):l.push(n)),i.push(new xe.MathNode("mtr",l))}var c=new xe.MathNode("mtable",i),h=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",Ae(h));var f="",y="";if(e.cols&&e.cols.length>0){var w=e.cols,_="",C=!1,E=0,k=w.length;w[0].type==="separator"&&(f+="top ",E=1),w[w.length-1].type==="separator"&&(f+="bottom ",k-=1);for(var D=E;D<k;D++)w[D].type==="align"?(y+=WH[w[D].align],C&&(_+="none "),C=!0):w[D].type==="separator"&&C&&(_+=w[D].separator==="|"?"solid ":"dashed ",C=!1);c.setAttribute("columnalign",y.trim()),/[sd]/.test(_)&&c.setAttribute("columnlines",_.trim())}if(e.colSeparationType==="align"){for(var P=e.cols||[],L="",U=1;U<P.length;U++)L+=U%2?"0em ":"1em ";c.setAttribute("columnspacing",L.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var J="",X=e.hLinesBeforeRow;f+=X[0].length>0?"left ":"",f+=X[X.length-1].length>0?"right ":"";for(var H=1;H<X.length-1;H++)J+=X[H].length===0?"none ":X[H][0]?"dashed ":"solid ";return/[sd]/.test(J)&&c.setAttribute("rowlines",J.trim()),f!==""&&(c=new xe.MathNode("menclose",[c]),c.setAttribute("notation",f.trim())),e.arraystretch&&e.arraystretch<1&&(c=new xe.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},k_=function(e,r){e.envName.indexOf("ed")===-1&&fh(e);var i=[],s=e.envName.indexOf("at")>-1?"alignat":"align",n=e.envName==="split",a=oa(e.parser,{cols:i,addJot:!0,autoTag:n?void 0:Z1(e.envName),emptySingleRow:!0,colSeparationType:s,maxNumCols:n?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var c="",h=0;h<r[0].body.length;h++){var f=mt(r[0].body[h],"textord");c+=f.text}o=Number(c),l=o*2}var y=!l;a.body.forEach(function(E){for(var k=1;k<E.length;k+=2){var D=mt(E[k],"styling"),P=mt(D.body[0],"ordgroup");P.body.unshift(u)}if(y)l<E.length&&(l=E.length);else{var L=E.length/2;if(o<L)throw new Te("Too many math in a row: "+("expected "+o+", but got "+L),E[0])}});for(var w=0;w<l;++w){var _="r",C=0;w%2===1?_="l":w>0&&y&&(C=1),i[w]={type:"align",align:_,pregap:C,postgap:0}}return a.colSeparationType=y?"align":"alignat",a};qs({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=ch(e[0]),i=r?[e[0]]:mt(e[0],"ordgroup").body,s=i.map(function(a){var o=W1(a),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new Te("Unknown column alignment: "+l,a)}),n={cols:s,hskipBeforeAndAfter:!0,maxNumCols:s.length};return oa(t.parser,n,J1(t.envName))},htmlBuilder:js,mathmlBuilder:Hs});qs({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var s=t.parser;if(s.consumeSpaces(),s.fetch().text==="["){if(s.consume(),s.consumeSpaces(),r=s.fetch().text,"lcr".indexOf(r)===-1)throw new Te("Expected l or c or r",s.nextToken);s.consume(),s.consumeSpaces(),s.expect("]"),s.consume(),i.cols=[{type:"align",align:r}]}}var n=oa(t.parser,i,J1(t.envName)),a=Math.max(0,...n.body.map(o=>o.length));return n.cols=new Array(a).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[n],left:e[0],right:e[1],rightColor:void 0}:n},htmlBuilder:js,mathmlBuilder:Hs});qs({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=oa(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:js,mathmlBuilder:Hs});qs({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=ch(e[0]),i=r?[e[0]]:mt(e[0],"ordgroup").body,s=i.map(function(a){var o=W1(a),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new Te("Unknown column alignment: "+l,a)});if(s.length>1)throw new Te("{subarray} can contain only one column");var n={cols:s,hskipBeforeAndAfter:!1,arraystretch:.5};if(n=oa(t.parser,n,"script"),n.body.length>0&&n.body[0].length>1)throw new Te("{subarray} can contain only one column");return n},htmlBuilder:js,mathmlBuilder:Hs});qs({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=oa(t.parser,e,J1(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:js,mathmlBuilder:Hs});qs({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:k_,htmlBuilder:js,mathmlBuilder:Hs});qs({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){Ve.contains(["gather","gather*"],t.envName)&&fh(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Z1(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return oa(t.parser,e,"display")},htmlBuilder:js,mathmlBuilder:Hs});qs({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:k_,htmlBuilder:js,mathmlBuilder:Hs});qs({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){fh(t);var e={autoTag:Z1(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return oa(t.parser,e,"display")},htmlBuilder:js,mathmlBuilder:Hs});qs({type:"array",names:["CD"],props:{numArgs:0},handler(t){return fh(t),MH(t.parser)},htmlBuilder:js,mathmlBuilder:Hs});I("\\nonumber","\\gdef\\@eqnsw{0}");I("\\notag","\\nonumber");Me({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Te(t.funcName+" valid only within array environment")}});var C3=E_;Me({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:i}=t,s=e[0];if(s.type!=="ordgroup")throw new Te("Invalid environment name",s);for(var n="",a=0;a<s.body.length;++a)n+=mt(s.body[a],"textord").text;if(i==="\\begin"){if(!C3.hasOwnProperty(n))throw new Te("No such environment: "+n,s);var o=C3[n],{args:l,optArgs:u}=r.parseArguments("\\begin{"+n+"}",o),c={mode:r.mode,envName:n,parser:r},h=o.handler(c,l,u);r.expect("\\end",!1);var f=r.nextToken,y=mt(r.parseFunction(),"environment");if(y.name!==n)throw new Te("Mismatch: \\begin{"+n+"} matched by \\end{"+y.name+"}",f);return h}return{type:"environment",mode:r.mode,name:n,nameGroup:s}}});var D_=(t,e)=>{var r=t.font,i=e.withFont(r);return St(t.body,i)},I_=(t,e)=>{var r=t.font,i=e.withFont(r);return zt(t.body,i)},E3={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Me({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:i}=t,s=dd(e[0]),n=i;return n in E3&&(n=E3[n]),{type:"font",mode:r.mode,font:n.slice(1),body:s}},htmlBuilder:D_,mathmlBuilder:I_});Me({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,i=e[0],s=Ve.isCharacterBox(i);return{type:"mclass",mode:r.mode,mclass:dh(i),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:i}],isCharacterBox:s}}});Me({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:i,breakOnTokenText:s}=t,{mode:n}=r,a=r.parseExpression(!0,s),o="math"+i.slice(1);return{type:"font",mode:n,font:o,body:{type:"ordgroup",mode:r.mode,body:a}}},htmlBuilder:D_,mathmlBuilder:I_});var L_=(t,e)=>{var r=e;return t==="display"?r=r.id>=Qe.SCRIPT.id?r.text():Qe.DISPLAY:t==="text"&&r.size===Qe.DISPLAY.size?r=Qe.TEXT:t==="script"?r=Qe.SCRIPT:t==="scriptscript"&&(r=Qe.SCRIPTSCRIPT),r},eg=(t,e)=>{var r=L_(t.size,e.style),i=r.fracNum(),s=r.fracDen(),n;n=e.havingStyle(i);var a=St(t.numer,n,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<l?l:a.depth}n=e.havingStyle(s);var u=St(t.denom,n,e),c,h,f;t.hasBarLine?(t.barSize?(h=Yt(t.barSize,e),c=ee.makeLineSpan("frac-line",e,h)):c=ee.makeLineSpan("frac-line",e),h=c.height,f=c.height):(c=null,h=0,f=e.fontMetrics().defaultRuleThickness);var y,w,_;r.size===Qe.DISPLAY.size||t.size==="display"?(y=e.fontMetrics().num1,h>0?w=3*f:w=7*f,_=e.fontMetrics().denom1):(h>0?(y=e.fontMetrics().num2,w=f):(y=e.fontMetrics().num3,w=3*f),_=e.fontMetrics().denom2);var C;if(c){var k=e.fontMetrics().axisHeight;y-a.depth-(k+.5*h)<w&&(y+=w-(y-a.depth-(k+.5*h))),k-.5*h-(u.height-_)<w&&(_+=w-(k-.5*h-(u.height-_)));var D=-(k-.5*h);C=ee.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:_},{type:"elem",elem:c,shift:D},{type:"elem",elem:a,shift:-y}]},e)}else{var E=y-a.depth-(u.height-_);E<w&&(y+=.5*(w-E),_+=.5*(w-E)),C=ee.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:_},{type:"elem",elem:a,shift:-y}]},e)}n=e.havingStyle(r),C.height*=n.sizeMultiplier/e.sizeMultiplier,C.depth*=n.sizeMultiplier/e.sizeMultiplier;var P;r.size===Qe.DISPLAY.size?P=e.fontMetrics().delim1:r.size===Qe.SCRIPTSCRIPT.size?P=e.havingStyle(Qe.SCRIPT).fontMetrics().delim2:P=e.fontMetrics().delim2;var L,U;return t.leftDelim==null?L=Ou(e,["mopen"]):L=dn.customSizedDelim(t.leftDelim,P,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?U=ee.makeSpan([]):t.rightDelim==null?U=Ou(e,["mclose"]):U=dn.customSizedDelim(t.rightDelim,P,!0,e.havingStyle(r),t.mode,["mclose"]),ee.makeSpan(["mord"].concat(n.sizingClasses(e)),[L,ee.makeSpan(["mfrac"],[C]),U],e)},tg=(t,e)=>{var r=new xe.MathNode("mfrac",[zt(t.numer,e),zt(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var i=Yt(t.barSize,e);r.setAttribute("linethickness",Ae(i))}var s=L_(t.size,e.style);if(s.size!==e.style.size){r=new xe.MathNode("mstyle",[r]);var n=s.size===Qe.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",n),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var o=new xe.MathNode("mo",[new xe.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(r),t.rightDelim!=null){var l=new xe.MathNode("mo",[new xe.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return V1(a)}return r};Me({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:i}=t,s=e[0],n=e[1],a,o=null,l=null,u="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",l=")";break;case"\\\\bracefrac":a=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:s,denom:n,hasBarLine:a,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:eg,mathmlBuilder:tg});Me({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:i}=t,s=e[0],n=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:s,denom:n,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Me({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:i}=t,s;switch(r){case"\\over":s="\\frac";break;case"\\choose":s="\\binom";break;case"\\atop":s="\\\\atopfrac";break;case"\\brace":s="\\\\bracefrac";break;case"\\brack":s="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:s,token:i}}});var A3=["display","text","script","scriptscript"],k3=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};Me({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,i=e[4],s=e[5],n=dd(e[0]),a=n.type==="atom"&&n.family==="open"?k3(n.text):null,o=dd(e[1]),l=o.type==="atom"&&o.family==="close"?k3(o.text):null,u=mt(e[2],"size"),c,h=null;u.isBlank?c=!0:(h=u.value,c=h.number>0);var f="auto",y=e[3];if(y.type==="ordgroup"){if(y.body.length>0){var w=mt(y.body[0],"textord");f=A3[Number(w.text)]}}else y=mt(y,"textord"),f=A3[Number(y.text)];return{type:"genfrac",mode:r.mode,numer:i,denom:s,continued:!1,hasBarLine:c,barSize:h,leftDelim:a,rightDelim:l,size:f}},htmlBuilder:eg,mathmlBuilder:tg});Me({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:i,token:s}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:mt(e[0],"size").value,token:s}}});Me({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:i}=t,s=e[0],n=Sj(mt(e[1],"infix").size),a=e[2],o=n.number>0;return{type:"genfrac",mode:r.mode,numer:s,denom:a,continued:!1,hasBarLine:o,barSize:n,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:eg,mathmlBuilder:tg});var P_=(t,e)=>{var r=e.style,i,s;t.type==="supsub"?(i=t.sup?St(t.sup,e.havingStyle(r.sup()),e):St(t.sub,e.havingStyle(r.sub()),e),s=mt(t.base,"horizBrace")):s=mt(t,"horizBrace");var n=St(s.base,e.havingBaseStyle(Qe.DISPLAY)),a=bn.svgSpan(s,e),o;if(s.isOver?(o=ee.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=ee.makeVList({positionType:"bottom",positionData:n.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:n}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),i){var l=ee.makeSpan(["mord",s.isOver?"mover":"munder"],[o],e);s.isOver?o=ee.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:i}]},e):o=ee.makeVList({positionType:"bottom",positionData:l.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return ee.makeSpan(["mord",s.isOver?"mover":"munder"],[o],e)},XH=(t,e)=>{var r=bn.mathMLnode(t.label);return new xe.MathNode(t.isOver?"mover":"munder",[zt(t.base,e),r])};Me({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:i}=t;return{type:"horizBrace",mode:r.mode,label:i,isOver:/^\\over/.test(i),base:e[0]}},htmlBuilder:P_,mathmlBuilder:XH});Me({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=e[1],s=mt(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:s})?{type:"href",mode:r.mode,href:s,body:ur(i)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=Tr(t.body,e,!1);return ee.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=ea(t.body,e);return r instanceof Ui||(r=new Ui("mrow",[r])),r.setAttribute("href",t.href),r}});Me({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=mt(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:i}))return r.formatUnsupportedCmd("\\url");for(var s=[],n=0;n<i.length;n++){var a=i[n];a==="~"&&(a="\\textasciitilde"),s.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:r.mode,font:"\\texttt",body:s};return{type:"href",mode:r.mode,href:i,body:ur(o)}}});Me({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:ur(e[0])}},htmlBuilder(t,e){var r=Tr(t.body,e,!1);return ee.makeFragment(r)},mathmlBuilder(t,e){return new xe.MathNode("mrow",xi(t.body,e))}});Me({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:i,token:s}=t,n=mt(e[0],"raw").string,a=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(i){case"\\htmlClass":l.class=n,o={command:"\\htmlClass",class:n};break;case"\\htmlId":l.id=n,o={command:"\\htmlId",id:n};break;case"\\htmlStyle":l.style=n,o={command:"\\htmlStyle",style:n};break;case"\\htmlData":{for(var u=n.split(","),c=0;c<u.length;c++){var h=u[c].split("=");if(h.length!==2)throw new Te("Error parsing key-value for \\htmlData");l["data-"+h[0].trim()]=h[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(o)?{type:"html",mode:r.mode,attributes:l,body:ur(a)}:r.formatUnsupportedCmd(i)},htmlBuilder:(t,e)=>{var r=Tr(t.body,e,!1),i=["enclosing"];t.attributes.class&&i.push(...t.attributes.class.trim().split(/\s+/));var s=ee.makeSpan(i,r,e);for(var n in t.attributes)n!=="class"&&t.attributes.hasOwnProperty(n)&&s.setAttribute(n,t.attributes[n]);return s},mathmlBuilder:(t,e)=>ea(t.body,e)});Me({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:ur(e[0]),mathml:ur(e[1])}},htmlBuilder:(t,e)=>{var r=Tr(t.html,e,!1);return ee.makeFragment(r)},mathmlBuilder:(t,e)=>ea(t.mathml,e)});var $f=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new Te("Invalid size: '"+e+"' in \\includegraphics");var i={number:+(r[1]+r[2]),unit:r[3]};if(!Q7(i))throw new Te("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};Me({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:i}=t,s={number:0,unit:"em"},n={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(r[0])for(var l=mt(r[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var h=u[c].split("=");if(h.length===2){var f=h[1].trim();switch(h[0].trim()){case"alt":o=f;break;case"width":s=$f(f);break;case"height":n=$f(f);break;case"totalheight":a=$f(f);break;default:throw new Te("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var y=mt(e[0],"url").url;return o===""&&(o=y,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:y})?{type:"includegraphics",mode:i.mode,alt:o,width:s,height:n,totalheight:a,src:y}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=Yt(t.height,e),i=0;t.totalheight.number>0&&(i=Yt(t.totalheight,e)-r);var s=0;t.width.number>0&&(s=Yt(t.width,e));var n={height:Ae(r+i)};s>0&&(n.width=Ae(s)),i>0&&(n.verticalAlign=Ae(-i));var a=new Xj(t.src,t.alt,n);return a.height=r,a.depth=i,a},mathmlBuilder:(t,e)=>{var r=new xe.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var i=Yt(t.height,e),s=0;if(t.totalheight.number>0&&(s=Yt(t.totalheight,e)-i,r.setAttribute("valign",Ae(-s))),r.setAttribute("height",Ae(i+s)),t.width.number>0){var n=Yt(t.width,e);r.setAttribute("width",Ae(n))}return r.setAttribute("src",t.src),r}});Me({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:i}=t,s=mt(e[0],"size");if(r.settings.strict){var n=i[1]==="m",a=s.value.unit==="mu";n?(a||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+s.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):a&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:s.value}},htmlBuilder(t,e){return ee.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=Yt(t.dimension,e);return new xe.SpaceNode(r)}});Me({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:i}=t,s=e[0];return{type:"lap",mode:r.mode,alignment:i.slice(5),body:s}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=ee.makeSpan([],[St(t.body,e)]),r=ee.makeSpan(["inner"],[r],e)):r=ee.makeSpan(["inner"],[St(t.body,e)]);var i=ee.makeSpan(["fix"],[]),s=ee.makeSpan([t.alignment],[r,i],e),n=ee.makeSpan(["strut"]);return n.style.height=Ae(s.height+s.depth),s.depth&&(n.style.verticalAlign=Ae(-s.depth)),s.children.unshift(n),s=ee.makeSpan(["thinbox"],[s],e),ee.makeSpan(["mord","vbox"],[s],e)},mathmlBuilder:(t,e)=>{var r=new xe.MathNode("mpadded",[zt(t.body,e)]);if(t.alignment!=="rlap"){var i=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",i+"width")}return r.setAttribute("width","0px"),r}});Me({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:i}=t,s=i.mode;i.switchMode("math");var n=r==="\\("?"\\)":"$",a=i.parseExpression(!1,n);return i.expect(n),i.switchMode(s),{type:"styling",mode:i.mode,style:"text",body:a}}});Me({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Te("Mismatched "+t.funcName)}});var D3=(t,e)=>{switch(e.style.size){case Qe.DISPLAY.size:return t.display;case Qe.TEXT.size:return t.text;case Qe.SCRIPT.size:return t.script;case Qe.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Me({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:ur(e[0]),text:ur(e[1]),script:ur(e[2]),scriptscript:ur(e[3])}},htmlBuilder:(t,e)=>{var r=D3(t,e),i=Tr(r,e,!1);return ee.makeFragment(i)},mathmlBuilder:(t,e)=>{var r=D3(t,e);return ea(r,e)}});var M_=(t,e,r,i,s,n,a)=>{t=ee.makeSpan([],[t]);var o=r&&Ve.isCharacterBox(r),l,u;if(e){var c=St(e,i.havingStyle(s.sup()),i);u={elem:c,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-c.depth)}}if(r){var h=St(r,i.havingStyle(s.sub()),i);l={elem:h,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-h.height)}}var f;if(u&&l){var y=i.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+a;f=ee.makeVList({positionType:"bottom",positionData:y,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Ae(-n)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Ae(n)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(l){var w=t.height-a;f=ee.makeVList({positionType:"top",positionData:w,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Ae(-n)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},i)}else if(u){var _=t.depth+a;f=ee.makeVList({positionType:"bottom",positionData:_,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Ae(n)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return t;var C=[f];if(l&&n!==0&&!o){var E=ee.makeSpan(["mspace"],[],i);E.style.marginRight=Ae(n),C.unshift(E)}return ee.makeSpan(["mop","op-limits"],C,i)},R_=["\\smallint"],ml=(t,e)=>{var r,i,s=!1,n;t.type==="supsub"?(r=t.sup,i=t.sub,n=mt(t.base,"op"),s=!0):n=mt(t,"op");var a=e.style,o=!1;a.size===Qe.DISPLAY.size&&n.symbol&&!Ve.contains(R_,n.name)&&(o=!0);var l;if(n.symbol){var u=o?"Size2-Regular":"Size1-Regular",c="";if((n.name==="\\oiint"||n.name==="\\oiiint")&&(c=n.name.slice(1),n.name=c==="oiint"?"\\iint":"\\iiint"),l=ee.makeSymbol(n.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),c.length>0){var h=l.italic,f=ee.staticSvg(c+"Size"+(o?"2":"1"),e);l=ee.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:f,shift:o?.08:0}]},e),n.name="\\"+c,l.classes.unshift("mop"),l.italic=h}}else if(n.body){var y=Tr(n.body,e,!0);y.length===1&&y[0]instanceof Ki?(l=y[0],l.classes[0]="mop"):l=ee.makeSpan(["mop"],y,e)}else{for(var w=[],_=1;_<n.name.length;_++)w.push(ee.mathsym(n.name[_],n.mode,e));l=ee.makeSpan(["mop"],w,e)}var C=0,E=0;return(l instanceof Ki||n.name==="\\oiint"||n.name==="\\oiiint")&&!n.suppressBaseShift&&(C=(l.height-l.depth)/2-e.fontMetrics().axisHeight,E=l.italic),s?M_(l,r,i,e,a,E,C):(C&&(l.style.position="relative",l.style.top=Ae(C)),l)},ic=(t,e)=>{var r;if(t.symbol)r=new Ui("mo",[Yi(t.name,t.mode)]),Ve.contains(R_,t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new Ui("mo",xi(t.body,e));else{r=new Ui("mi",[new pu(t.name.slice(1))]);var i=new Ui("mo",[Yi("","text")]);t.parentIsSupSub?r=new Ui("mrow",[r,i]):r=l_([r,i])}return r},KH={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Me({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:i}=t,s=i;return s.length===1&&(s=KH[s]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:ml,mathmlBuilder:ic});Me({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,i=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ur(i)}},htmlBuilder:ml,mathmlBuilder:ic});var YH={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Me({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:ml,mathmlBuilder:ic});Me({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:ml,mathmlBuilder:ic});Me({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t,i=r;return i.length===1&&(i=YH[i]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:ml,mathmlBuilder:ic});var O_=(t,e)=>{var r,i,s=!1,n;t.type==="supsub"?(r=t.sup,i=t.sub,n=mt(t.base,"operatorname"),s=!0):n=mt(t,"operatorname");var a;if(n.body.length>0){for(var o=n.body.map(h=>{var f=h.text;return typeof f=="string"?{type:"textord",mode:h.mode,text:f}:h}),l=Tr(o,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof Ki&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=ee.makeSpan(["mop"],l,e)}else a=ee.makeSpan(["mop"],[],e);return s?M_(a,r,i,e,e.style,0,0):a},QH=(t,e)=>{for(var r=xi(t.body,e.withFont("mathrm")),i=!0,s=0;s<r.length;s++){var n=r[s];if(!(n instanceof xe.SpaceNode))if(n instanceof xe.MathNode)switch(n.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=n.children[0];n.children.length===1&&a instanceof xe.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var o=r.map(c=>c.toText()).join("");r=[new xe.TextNode(o)]}var l=new xe.MathNode("mi",r);l.setAttribute("mathvariant","normal");var u=new xe.MathNode("mo",[Yi("","text")]);return t.parentIsSupSub?new xe.MathNode("mrow",[l,u]):xe.newDocumentFragment([l,u])};Me({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:i}=t,s=e[0];return{type:"operatorname",mode:r.mode,body:ur(s),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:O_,mathmlBuilder:QH});I("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Qa({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?ee.makeFragment(Tr(t.body,e,!1)):ee.makeSpan(["mord"],Tr(t.body,e,!0),e)},mathmlBuilder(t,e){return ea(t.body,e,!0)}});Me({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,i=e[0];return{type:"overline",mode:r.mode,body:i}},htmlBuilder(t,e){var r=St(t.body,e.havingCrampedStyle()),i=ee.makeLineSpan("overline-line",e),s=e.fontMetrics().defaultRuleThickness,n=ee.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*s},{type:"elem",elem:i},{type:"kern",size:s}]},e);return ee.makeSpan(["mord","overline"],[n],e)},mathmlBuilder(t,e){var r=new xe.MathNode("mo",[new xe.TextNode("")]);r.setAttribute("stretchy","true");var i=new xe.MathNode("mover",[zt(t.body,e),r]);return i.setAttribute("accent","true"),i}});Me({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=e[0];return{type:"phantom",mode:r.mode,body:ur(i)}},htmlBuilder:(t,e)=>{var r=Tr(t.body,e.withPhantom(),!1);return ee.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=xi(t.body,e);return new xe.MathNode("mphantom",r)}});Me({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=e[0];return{type:"hphantom",mode:r.mode,body:i}},htmlBuilder:(t,e)=>{var r=ee.makeSpan([],[St(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var i=0;i<r.children.length;i++)r.children[i].height=0,r.children[i].depth=0;return r=ee.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),ee.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=xi(ur(t.body),e),i=new xe.MathNode("mphantom",r),s=new xe.MathNode("mpadded",[i]);return s.setAttribute("height","0px"),s.setAttribute("depth","0px"),s}});Me({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,i=e[0];return{type:"vphantom",mode:r.mode,body:i}},htmlBuilder:(t,e)=>{var r=ee.makeSpan(["inner"],[St(t.body,e.withPhantom())]),i=ee.makeSpan(["fix"],[]);return ee.makeSpan(["mord","rlap"],[r,i],e)},mathmlBuilder:(t,e)=>{var r=xi(ur(t.body),e),i=new xe.MathNode("mphantom",r),s=new xe.MathNode("mpadded",[i]);return s.setAttribute("width","0px"),s}});Me({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,i=mt(e[0],"size").value,s=e[1];return{type:"raisebox",mode:r.mode,dy:i,body:s}},htmlBuilder(t,e){var r=St(t.body,e),i=Yt(t.dy,e);return ee.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new xe.MathNode("mpadded",[zt(t.body,e)]),i=t.dy.number+t.dy.unit;return r.setAttribute("voffset",i),r}});Me({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Me({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,r){var{parser:i}=t,s=r[0],n=mt(e[0],"size"),a=mt(e[1],"size");return{type:"rule",mode:i.mode,shift:s&&mt(s,"size").value,width:n.value,height:a.value}},htmlBuilder(t,e){var r=ee.makeSpan(["mord","rule"],[],e),i=Yt(t.width,e),s=Yt(t.height,e),n=t.shift?Yt(t.shift,e):0;return r.style.borderRightWidth=Ae(i),r.style.borderTopWidth=Ae(s),r.style.bottom=Ae(n),r.width=i,r.height=s+n,r.depth=-n,r.maxFontSize=s*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=Yt(t.width,e),i=Yt(t.height,e),s=t.shift?Yt(t.shift,e):0,n=e.color&&e.getColor()||"black",a=new xe.MathNode("mspace");a.setAttribute("mathbackground",n),a.setAttribute("width",Ae(r)),a.setAttribute("height",Ae(i));var o=new xe.MathNode("mpadded",[a]);return s>=0?o.setAttribute("height",Ae(s)):(o.setAttribute("height",Ae(s)),o.setAttribute("depth",Ae(-s))),o.setAttribute("voffset",Ae(s)),o}});function N_(t,e,r){for(var i=Tr(t,e,!1),s=e.sizeMultiplier/r.sizeMultiplier,n=0;n<i.length;n++){var a=i[n].classes.indexOf("sizing");a<0?Array.prototype.push.apply(i[n].classes,e.sizingClasses(r)):i[n].classes[a+1]==="reset-size"+e.size&&(i[n].classes[a+1]="reset-size"+r.size),i[n].height*=s,i[n].depth*=s}return ee.makeFragment(i)}var I3=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],ZH=(t,e)=>{var r=e.havingSize(t.size);return N_(t.body,r,e)};Me({type:"sizing",names:I3,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:i,parser:s}=t,n=s.parseExpression(!1,r);return{type:"sizing",mode:s.mode,size:I3.indexOf(i)+1,body:n}},htmlBuilder:ZH,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),i=xi(t.body,r),s=new xe.MathNode("mstyle",i);return s.setAttribute("mathsize",Ae(r.sizeMultiplier)),s}});Me({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:i}=t,s=!1,n=!1,a=r[0]&&mt(r[0],"ordgroup");if(a)for(var o="",l=0;l<a.body.length;++l){var u=a.body[l];if(o=u.text,o==="t")s=!0;else if(o==="b")n=!0;else{s=!1,n=!1;break}}else s=!0,n=!0;var c=e[0];return{type:"smash",mode:i.mode,body:c,smashHeight:s,smashDepth:n}},htmlBuilder:(t,e)=>{var r=ee.makeSpan([],[St(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var s=0;s<r.children.length;s++)r.children[s].depth=0;var n=ee.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return ee.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var r=new xe.MathNode("mpadded",[zt(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});Me({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:i}=t,s=r[0],n=e[0];return{type:"sqrt",mode:i.mode,body:n,index:s}},htmlBuilder(t,e){var r=St(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=ee.wrapFragment(r,e);var i=e.fontMetrics(),s=i.defaultRuleThickness,n=s;e.style.id<Qe.TEXT.id&&(n=e.fontMetrics().xHeight);var a=s+n/4,o=r.height+r.depth+a+s,{span:l,ruleWidth:u,advanceWidth:c}=dn.sqrtImage(o,e),h=l.height-u;h>r.height+r.depth+a&&(a=(a+h-r.height-r.depth)/2);var f=l.height-r.height-a-u;r.style.paddingLeft=Ae(c);var y=ee.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+f)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var w=e.havingStyle(Qe.SCRIPTSCRIPT),_=St(t.index,w,e),C=.6*(y.height-y.depth),E=ee.makeVList({positionType:"shift",positionData:-C,children:[{type:"elem",elem:_}]},e),k=ee.makeSpan(["root"],[E]);return ee.makeSpan(["mord","sqrt"],[k,y],e)}else return ee.makeSpan(["mord","sqrt"],[y],e)},mathmlBuilder(t,e){var{body:r,index:i}=t;return i?new xe.MathNode("mroot",[zt(r,e),zt(i,e)]):new xe.MathNode("msqrt",[zt(r,e)])}});var L3={display:Qe.DISPLAY,text:Qe.TEXT,script:Qe.SCRIPT,scriptscript:Qe.SCRIPTSCRIPT};Me({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:i,parser:s}=t,n=s.parseExpression(!0,r),a=i.slice(1,i.length-5);return{type:"styling",mode:s.mode,style:a,body:n}},htmlBuilder(t,e){var r=L3[t.style],i=e.havingStyle(r).withFont("");return N_(t.body,i,e)},mathmlBuilder(t,e){var r=L3[t.style],i=e.havingStyle(r),s=xi(t.body,i),n=new xe.MathNode("mstyle",s),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=a[t.style];return n.setAttribute("scriptlevel",o[0]),n.setAttribute("displaystyle",o[1]),n}});var JH=function(e,r){var i=e.base;if(i)if(i.type==="op"){var s=i.limits&&(r.style.size===Qe.DISPLAY.size||i.alwaysHandleSupSub);return s?ml:null}else if(i.type==="operatorname"){var n=i.alwaysHandleSupSub&&(r.style.size===Qe.DISPLAY.size||i.limits);return n?O_:null}else{if(i.type==="accent")return Ve.isCharacterBox(i.base)?X1:null;if(i.type==="horizBrace"){var a=!e.sub;return a===i.isOver?P_:null}else return null}else return null};Qa({type:"supsub",htmlBuilder(t,e){var r=JH(t,e);if(r)return r(t,e);var{base:i,sup:s,sub:n}=t,a=St(i,e),o,l,u=e.fontMetrics(),c=0,h=0,f=i&&Ve.isCharacterBox(i);if(s){var y=e.havingStyle(e.style.sup());o=St(s,y,e),f||(c=a.height-y.fontMetrics().supDrop*y.sizeMultiplier/e.sizeMultiplier)}if(n){var w=e.havingStyle(e.style.sub());l=St(n,w,e),f||(h=a.depth+w.fontMetrics().subDrop*w.sizeMultiplier/e.sizeMultiplier)}var _;e.style===Qe.DISPLAY?_=u.sup1:e.style.cramped?_=u.sup3:_=u.sup2;var C=e.sizeMultiplier,E=Ae(.5/u.ptPerEm/C),k=null;if(l){var D=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof Ki||D)&&(k=Ae(-a.italic))}var P;if(o&&l){c=Math.max(c,_,o.depth+.25*u.xHeight),h=Math.max(h,u.sub2);var L=u.defaultRuleThickness,U=4*L;if(c-o.depth-(l.height-h)<U){h=U-(c-o.depth)+l.height;var J=.8*u.xHeight-(c-o.depth);J>0&&(c+=J,h-=J)}var X=[{type:"elem",elem:l,shift:h,marginRight:E,marginLeft:k},{type:"elem",elem:o,shift:-c,marginRight:E}];P=ee.makeVList({positionType:"individualShift",children:X},e)}else if(l){h=Math.max(h,u.sub1,l.height-.8*u.xHeight);var H=[{type:"elem",elem:l,marginLeft:k,marginRight:E}];P=ee.makeVList({positionType:"shift",positionData:h,children:H},e)}else if(o)c=Math.max(c,_,o.depth+.25*u.xHeight),P=ee.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:o,marginRight:E}]},e);else throw new Error("supsub must have either sup or sub.");var re=Qp(a,"right")||"mord";return ee.makeSpan([re],[a,ee.makeSpan(["msupsub"],[P])],e)},mathmlBuilder(t,e){var r=!1,i,s;t.base&&t.base.type==="horizBrace"&&(s=!!t.sup,s===t.base.isOver&&(r=!0,i=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var n=[zt(t.base,e)];t.sub&&n.push(zt(t.sub,e)),t.sup&&n.push(zt(t.sup,e));var a;if(r)a=i?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===Qe.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===Qe.DISPLAY||u.limits)?a="munderover":a="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===Qe.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===Qe.DISPLAY)?a="munder":a="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===Qe.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===Qe.DISPLAY)?a="mover":a="msup"}return new xe.MathNode(a,n)}});Qa({type:"atom",htmlBuilder(t,e){return ee.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new xe.MathNode("mo",[Yi(t.text,t.mode)]);if(t.family==="bin"){var i=G1(t,e);i==="bold-italic"&&r.setAttribute("mathvariant",i)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var B_={mi:"italic",mn:"normal",mtext:"normal"};Qa({type:"mathord",htmlBuilder(t,e){return ee.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new xe.MathNode("mi",[Yi(t.text,t.mode,e)]),i=G1(t,e)||"italic";return i!==B_[r.type]&&r.setAttribute("mathvariant",i),r}});Qa({type:"textord",htmlBuilder(t,e){return ee.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=Yi(t.text,t.mode,e),i=G1(t,e)||"normal",s;return t.mode==="text"?s=new xe.MathNode("mtext",[r]):/[0-9]/.test(t.text)?s=new xe.MathNode("mn",[r]):t.text==="\\prime"?s=new xe.MathNode("mo",[r]):s=new xe.MathNode("mi",[r]),i!==B_[s.type]&&s.setAttribute("mathvariant",i),s}});var zf={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},qf={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Qa({type:"spacing",htmlBuilder(t,e){if(qf.hasOwnProperty(t.text)){var r=qf[t.text].className||"";if(t.mode==="text"){var i=ee.makeOrd(t,e,"textord");return i.classes.push(r),i}else return ee.makeSpan(["mspace",r],[ee.mathsym(t.text,t.mode,e)],e)}else{if(zf.hasOwnProperty(t.text))return ee.makeSpan(["mspace",zf[t.text]],[],e);throw new Te('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(qf.hasOwnProperty(t.text))r=new xe.MathNode("mtext",[new xe.TextNode("")]);else{if(zf.hasOwnProperty(t.text))return new xe.MathNode("mspace");throw new Te('Unknown type of space "'+t.text+'"')}return r}});var P3=()=>{var t=new xe.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Qa({type:"tag",mathmlBuilder(t,e){var r=new xe.MathNode("mtable",[new xe.MathNode("mtr",[P3(),new xe.MathNode("mtd",[ea(t.body,e)]),P3(),new xe.MathNode("mtd",[ea(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var M3={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},R3={"\\textbf":"textbf","\\textmd":"textmd"},eV={"\\textit":"textit","\\textup":"textup"},O3=(t,e)=>{var r=t.font;if(r){if(M3[r])return e.withTextFontFamily(M3[r]);if(R3[r])return e.withTextFontWeight(R3[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(eV[r])};Me({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:i}=t,s=e[0];return{type:"text",mode:r.mode,body:ur(s),font:i}},htmlBuilder(t,e){var r=O3(t,e),i=Tr(t.body,r,!0);return ee.makeSpan(["mord","text"],i,r)},mathmlBuilder(t,e){var r=O3(t,e);return ea(t.body,r)}});Me({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=St(t.body,e),i=ee.makeLineSpan("underline-line",e),s=e.fontMetrics().defaultRuleThickness,n=ee.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:s},{type:"elem",elem:i},{type:"kern",size:3*s},{type:"elem",elem:r}]},e);return ee.makeSpan(["mord","underline"],[n],e)},mathmlBuilder(t,e){var r=new xe.MathNode("mo",[new xe.TextNode("")]);r.setAttribute("stretchy","true");var i=new xe.MathNode("munder",[zt(t.body,e),r]);return i.setAttribute("accentunder","true"),i}});Me({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=St(t.body,e),i=e.fontMetrics().axisHeight,s=.5*(r.height-i-(r.depth+i));return ee.makeVList({positionType:"shift",positionData:s,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new xe.MathNode("mpadded",[zt(t.body,e)],["vcenter"])}});Me({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new Te("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=N3(t),i=[],s=e.havingStyle(e.style.text()),n=0;n<r.length;n++){var a=r[n];a==="~"&&(a="\\textasciitilde"),i.push(ee.makeSymbol(a,"Typewriter-Regular",t.mode,s,["mord","texttt"]))}return ee.makeSpan(["mord","text"].concat(s.sizingClasses(e)),ee.tryCombineChars(i),s)},mathmlBuilder(t,e){var r=new xe.TextNode(N3(t)),i=new xe.MathNode("mtext",[r]);return i.setAttribute("mathvariant","monospace"),i}});var N3=t=>t.body.replace(/ /g,t.star?"":""),Gn=a_,F_=`[ \r
	]`,tV="\\\\[a-zA-Z@]+",rV="\\\\[^\uD800-\uDFFF]",iV="("+tV+")"+F_+"*",sV=`\\\\(
|[ \r	]+
?)[ \r	]*`,tm="[-]",nV=new RegExp(tm+"+$"),aV="("+F_+"+)|"+(sV+"|")+"([!-\\[\\]---]"+(tm+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(tm+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+iV)+("|"+rV+")");class B3{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(aV,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new Vi("EOF",new Ci(this,r,r));var i=this.tokenRegex.exec(e);if(i===null||i.index!==r)throw new Te("Unexpected character: '"+e[r]+"'",new Vi(e[r],new Ci(this,r,r+1)));var s=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[s]===14){var n=e.indexOf(`
`,this.tokenRegex.lastIndex);return n===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=n+1,this.lex()}return new Vi(s,new Ci(this,r,this.tokenRegex.lastIndex))}}class oV{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Te("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,i){if(i===void 0&&(i=!1),i){for(var s=0;s<this.undefStack.length;s++)delete this.undefStack[s][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var n=this.undefStack[this.undefStack.length-1];n&&!n.hasOwnProperty(e)&&(n[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var lV=A_;I("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});I("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});I("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});I("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});I("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});I("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");I("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var F3={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};I("\\char",function(t){var e=t.popToken(),r,i="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")i=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Te("\\char` missing argument");i=e.text.charCodeAt(0)}else r=10;if(r){if(i=F3[e.text],i==null||i>=r)throw new Te("Invalid base-"+r+" digit "+e.text);for(var s;(s=F3[t.future().text])!=null&&s<r;)i*=r,i+=s,t.popToken()}return"\\@char{"+i+"}"});var rg=(t,e,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new Te("\\newcommand's first argument must be a macro name");var s=i[0].text,n=t.isDefined(s);if(n&&!e)throw new Te("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!n&&!r)throw new Te("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var a=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var o="",l=t.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=t.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new Te("Invalid number of arguments: "+o);a=parseInt(o),i=t.consumeArg().tokens}return t.macros.set(s,{tokens:i,numArgs:a}),""};I("\\newcommand",t=>rg(t,!1,!0));I("\\renewcommand",t=>rg(t,!0,!1));I("\\providecommand",t=>rg(t,!0,!0));I("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});I("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});I("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),Gn[r],Ht.math[r],Ht.text[r]),""});I("\\bgroup","{");I("\\egroup","}");I("~","\\nobreakspace");I("\\lq","`");I("\\rq","'");I("\\aa","\\r a");I("\\AA","\\r A");I("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");I("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");I("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");I("","\\mathscr{B}");I("","\\mathscr{E}");I("","\\mathscr{F}");I("","\\mathscr{H}");I("","\\mathscr{I}");I("","\\mathscr{L}");I("","\\mathscr{M}");I("","\\mathscr{R}");I("","\\mathfrak{C}");I("","\\mathfrak{H}");I("","\\mathfrak{Z}");I("\\Bbbk","\\Bbb{k}");I("","\\cdotp");I("\\llap","\\mathllap{\\textrm{#1}}");I("\\rlap","\\mathrlap{\\textrm{#1}}");I("\\clap","\\mathclap{\\textrm{#1}}");I("\\mathstrut","\\vphantom{(}");I("\\underbar","\\underline{\\text{#1}}");I("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');I("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");I("\\ne","\\neq");I("","\\neq");I("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");I("","\\notin");I("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");I("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");I("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");I("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");I("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");I("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");I("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");I("","\\perp");I("","\\mathclose{!\\mkern-0.8mu!}");I("","\\notni");I("","\\ulcorner");I("","\\urcorner");I("","\\llcorner");I("","\\lrcorner");I("","\\copyright");I("","\\textregistered");I("","\\textregistered");I("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');I("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');I("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');I("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');I("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");I("","\\vdots");I("\\varGamma","\\mathit{\\Gamma}");I("\\varDelta","\\mathit{\\Delta}");I("\\varTheta","\\mathit{\\Theta}");I("\\varLambda","\\mathit{\\Lambda}");I("\\varXi","\\mathit{\\Xi}");I("\\varPi","\\mathit{\\Pi}");I("\\varSigma","\\mathit{\\Sigma}");I("\\varUpsilon","\\mathit{\\Upsilon}");I("\\varPhi","\\mathit{\\Phi}");I("\\varPsi","\\mathit{\\Psi}");I("\\varOmega","\\mathit{\\Omega}");I("\\substack","\\begin{subarray}{c}#1\\end{subarray}");I("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");I("\\boxed","\\fbox{$\\displaystyle{#1}$}");I("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");I("\\implies","\\DOTSB\\;\\Longrightarrow\\;");I("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var U3={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};I("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in U3?e=U3[r]:(r.slice(0,4)==="\\not"||r in Ht.math&&Ve.contains(["bin","rel"],Ht.math[r].group))&&(e="\\dotsb"),e});var ig={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};I("\\dotso",function(t){var e=t.future().text;return e in ig?"\\ldots\\,":"\\ldots"});I("\\dotsc",function(t){var e=t.future().text;return e in ig&&e!==","?"\\ldots\\,":"\\ldots"});I("\\cdots",function(t){var e=t.future().text;return e in ig?"\\@cdots\\,":"\\@cdots"});I("\\dotsb","\\cdots");I("\\dotsm","\\cdots");I("\\dotsi","\\!\\cdots");I("\\dotsx","\\ldots\\,");I("\\DOTSI","\\relax");I("\\DOTSB","\\relax");I("\\DOTSX","\\relax");I("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");I("\\,","\\tmspace+{3mu}{.1667em}");I("\\thinspace","\\,");I("\\>","\\mskip{4mu}");I("\\:","\\tmspace+{4mu}{.2222em}");I("\\medspace","\\:");I("\\;","\\tmspace+{5mu}{.2777em}");I("\\thickspace","\\;");I("\\!","\\tmspace-{3mu}{.1667em}");I("\\negthinspace","\\!");I("\\negmedspace","\\tmspace-{4mu}{.2222em}");I("\\negthickspace","\\tmspace-{5mu}{.277em}");I("\\enspace","\\kern.5em ");I("\\enskip","\\hskip.5em\\relax");I("\\quad","\\hskip1em\\relax");I("\\qquad","\\hskip2em\\relax");I("\\tag","\\@ifstar\\tag@literal\\tag@paren");I("\\tag@paren","\\tag@literal{({#1})}");I("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Te("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});I("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");I("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");I("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");I("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");I("\\newline","\\\\\\relax");I("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var U_=Ae(Ls["Main-Regular"][84][1]-.7*Ls["Main-Regular"][65][1]);I("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+U_+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");I("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+U_+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");I("\\hspace","\\@ifstar\\@hspacer\\@hspace");I("\\@hspace","\\hskip #1\\relax");I("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");I("\\ordinarycolon",":");I("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");I("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');I("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');I("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');I("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');I("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');I("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');I("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');I("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');I("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');I("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');I("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');I("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');I("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');I("","\\dblcolon");I("","\\eqcolon");I("","\\coloneqq");I("","\\eqqcolon");I("","\\Coloneqq");I("\\ratio","\\vcentcolon");I("\\coloncolon","\\dblcolon");I("\\colonequals","\\coloneqq");I("\\coloncolonequals","\\Coloneqq");I("\\equalscolon","\\eqqcolon");I("\\equalscoloncolon","\\Eqqcolon");I("\\colonminus","\\coloneq");I("\\coloncolonminus","\\Coloneq");I("\\minuscolon","\\eqcolon");I("\\minuscoloncolon","\\Eqcolon");I("\\coloncolonapprox","\\Colonapprox");I("\\coloncolonsim","\\Colonsim");I("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");I("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");I("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");I("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");I("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");I("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");I("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");I("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");I("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");I("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");I("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");I("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");I("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");I("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");I("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");I("\\ngeqq","\\html@mathml{\\@ngeqq}{}");I("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");I("\\nleqq","\\html@mathml{\\@nleqq}{}");I("\\nleqslant","\\html@mathml{\\@nleqslant}{}");I("\\nshortmid","\\html@mathml{\\@nshortmid}{}");I("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");I("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");I("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");I("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");I("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");I("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");I("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");I("\\imath","\\html@mathml{\\@imath}{}");I("\\jmath","\\html@mathml{\\@jmath}{}");I("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");I("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");I("","\\llbracket");I("","\\rrbracket");I("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");I("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");I("","\\lBrace");I("","\\rBrace");I("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");I("","\\minuso");I("\\darr","\\downarrow");I("\\dArr","\\Downarrow");I("\\Darr","\\Downarrow");I("\\lang","\\langle");I("\\rang","\\rangle");I("\\uarr","\\uparrow");I("\\uArr","\\Uparrow");I("\\Uarr","\\Uparrow");I("\\N","\\mathbb{N}");I("\\R","\\mathbb{R}");I("\\Z","\\mathbb{Z}");I("\\alef","\\aleph");I("\\alefsym","\\aleph");I("\\Alpha","\\mathrm{A}");I("\\Beta","\\mathrm{B}");I("\\bull","\\bullet");I("\\Chi","\\mathrm{X}");I("\\clubs","\\clubsuit");I("\\cnums","\\mathbb{C}");I("\\Complex","\\mathbb{C}");I("\\Dagger","\\ddagger");I("\\diamonds","\\diamondsuit");I("\\empty","\\emptyset");I("\\Epsilon","\\mathrm{E}");I("\\Eta","\\mathrm{H}");I("\\exist","\\exists");I("\\harr","\\leftrightarrow");I("\\hArr","\\Leftrightarrow");I("\\Harr","\\Leftrightarrow");I("\\hearts","\\heartsuit");I("\\image","\\Im");I("\\infin","\\infty");I("\\Iota","\\mathrm{I}");I("\\isin","\\in");I("\\Kappa","\\mathrm{K}");I("\\larr","\\leftarrow");I("\\lArr","\\Leftarrow");I("\\Larr","\\Leftarrow");I("\\lrarr","\\leftrightarrow");I("\\lrArr","\\Leftrightarrow");I("\\Lrarr","\\Leftrightarrow");I("\\Mu","\\mathrm{M}");I("\\natnums","\\mathbb{N}");I("\\Nu","\\mathrm{N}");I("\\Omicron","\\mathrm{O}");I("\\plusmn","\\pm");I("\\rarr","\\rightarrow");I("\\rArr","\\Rightarrow");I("\\Rarr","\\Rightarrow");I("\\real","\\Re");I("\\reals","\\mathbb{R}");I("\\Reals","\\mathbb{R}");I("\\Rho","\\mathrm{P}");I("\\sdot","\\cdot");I("\\sect","\\S");I("\\spades","\\spadesuit");I("\\sub","\\subset");I("\\sube","\\subseteq");I("\\supe","\\supseteq");I("\\Tau","\\mathrm{T}");I("\\thetasym","\\vartheta");I("\\weierp","\\wp");I("\\Zeta","\\mathrm{Z}");I("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");I("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");I("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");I("\\bra","\\mathinner{\\langle{#1}|}");I("\\ket","\\mathinner{|{#1}\\rangle}");I("\\braket","\\mathinner{\\langle{#1}\\rangle}");I("\\Bra","\\left\\langle#1\\right|");I("\\Ket","\\left|#1\\right\\rangle");var $_=t=>e=>{var r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,n=e.consumeArg().tokens,a=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=h=>f=>{t&&(f.macros.set("|",a),s.length&&f.macros.set("\\|",o));var y=h;if(!h&&s.length){var w=f.future();w.text==="|"&&(f.popToken(),y=!0)}return{tokens:y?s:i,numArgs:0}};e.macros.set("|",l(!1)),s.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,c=e.expandTokens([...n,...u,...r]);return e.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};I("\\bra@ket",$_(!1));I("\\bra@set",$_(!0));I("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");I("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");I("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");I("\\angln","{\\angl n}");I("\\blue","\\textcolor{##6495ed}{#1}");I("\\orange","\\textcolor{##ffa500}{#1}");I("\\pink","\\textcolor{##ff00af}{#1}");I("\\red","\\textcolor{##df0030}{#1}");I("\\green","\\textcolor{##28ae7b}{#1}");I("\\gray","\\textcolor{gray}{#1}");I("\\purple","\\textcolor{##9d38bd}{#1}");I("\\blueA","\\textcolor{##ccfaff}{#1}");I("\\blueB","\\textcolor{##80f6ff}{#1}");I("\\blueC","\\textcolor{##63d9ea}{#1}");I("\\blueD","\\textcolor{##11accd}{#1}");I("\\blueE","\\textcolor{##0c7f99}{#1}");I("\\tealA","\\textcolor{##94fff5}{#1}");I("\\tealB","\\textcolor{##26edd5}{#1}");I("\\tealC","\\textcolor{##01d1c1}{#1}");I("\\tealD","\\textcolor{##01a995}{#1}");I("\\tealE","\\textcolor{##208170}{#1}");I("\\greenA","\\textcolor{##b6ffb0}{#1}");I("\\greenB","\\textcolor{##8af281}{#1}");I("\\greenC","\\textcolor{##74cf70}{#1}");I("\\greenD","\\textcolor{##1fab54}{#1}");I("\\greenE","\\textcolor{##0d923f}{#1}");I("\\goldA","\\textcolor{##ffd0a9}{#1}");I("\\goldB","\\textcolor{##ffbb71}{#1}");I("\\goldC","\\textcolor{##ff9c39}{#1}");I("\\goldD","\\textcolor{##e07d10}{#1}");I("\\goldE","\\textcolor{##a75a05}{#1}");I("\\redA","\\textcolor{##fca9a9}{#1}");I("\\redB","\\textcolor{##ff8482}{#1}");I("\\redC","\\textcolor{##f9685d}{#1}");I("\\redD","\\textcolor{##e84d39}{#1}");I("\\redE","\\textcolor{##bc2612}{#1}");I("\\maroonA","\\textcolor{##ffbde0}{#1}");I("\\maroonB","\\textcolor{##ff92c6}{#1}");I("\\maroonC","\\textcolor{##ed5fa6}{#1}");I("\\maroonD","\\textcolor{##ca337c}{#1}");I("\\maroonE","\\textcolor{##9e034e}{#1}");I("\\purpleA","\\textcolor{##ddd7ff}{#1}");I("\\purpleB","\\textcolor{##c6b9fc}{#1}");I("\\purpleC","\\textcolor{##aa87ff}{#1}");I("\\purpleD","\\textcolor{##7854ab}{#1}");I("\\purpleE","\\textcolor{##543b78}{#1}");I("\\mintA","\\textcolor{##f5f9e8}{#1}");I("\\mintB","\\textcolor{##edf2df}{#1}");I("\\mintC","\\textcolor{##e0e5cc}{#1}");I("\\grayA","\\textcolor{##f6f7f7}{#1}");I("\\grayB","\\textcolor{##f0f1f2}{#1}");I("\\grayC","\\textcolor{##e3e5e6}{#1}");I("\\grayD","\\textcolor{##d6d8da}{#1}");I("\\grayE","\\textcolor{##babec2}{#1}");I("\\grayF","\\textcolor{##888d93}{#1}");I("\\grayG","\\textcolor{##626569}{#1}");I("\\grayH","\\textcolor{##3b3e40}{#1}");I("\\grayI","\\textcolor{##21242c}{#1}");I("\\kaBlue","\\textcolor{##314453}{#1}");I("\\kaGreen","\\textcolor{##71B307}{#1}");var z_={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class uV{constructor(e,r,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new oV(lV,r.macros),this.mode=i,this.stack=[]}feed(e){this.lexer=new B3(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,i,s;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:s,end:i}=this.consumeArg(["]"])}else({tokens:s,start:r,end:i}=this.consumeArg());return this.pushToken(new Vi("EOF",i.loc)),this.pushTokens(s),r.range(i,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],i=e&&e.length>0;i||this.consumeSpaces();var s=this.future(),n,a=0,o=0;do{if(n=this.popToken(),r.push(n),n.text==="{")++a;else if(n.text==="}"){if(--a,a===-1)throw new Te("Extra }",n)}else if(n.text==="EOF")throw new Te("Unexpected end of input in a macro argument, expected '"+(e&&i?e[o]:"}")+"'",n);if(e&&i)if((a===0||a===1&&e[o]==="{")&&n.text===e[o]){if(++o,o===e.length){r.splice(-o,o);break}}else o=0}while(a!==0||i);return s.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:s,end:n}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new Te("The length of delimiters doesn't match the number of args!");for(var i=r[0],s=0;s<i.length;s++){var n=this.popToken();if(i[s]!==n.text)throw new Te("Use of the macro doesn't match its definition",n)}}for(var a=[],o=0;o<e;o++)a.push(this.consumeArg(r&&r[o+1]).tokens);return a}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Te("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),i=r.text,s=r.noexpand?null:this._getExpansion(i);if(s==null||e&&s.unexpandable){if(e&&s==null&&i[0]==="\\"&&!this.isDefined(i))throw new Te("Undefined control sequence: "+i);return this.pushToken(r),!1}this.countExpansion(1);var n=s.tokens,a=this.consumeArgs(s.numArgs,s.delimiters);if(s.numArgs){n=n.slice();for(var o=n.length-1;o>=0;--o){var l=n[o];if(l.text==="#"){if(o===0)throw new Te("Incomplete placeholder at end of macro body",l);if(l=n[--o],l.text==="#")n.splice(o+1,1);else if(/^[1-9]$/.test(l.text))n.splice(o,2,...a[+l.text-1]);else throw new Te("Not a valid argument number",l)}}}return this.pushTokens(n),n.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Vi(e)]):void 0}expandTokens(e){var r=[],i=this.stack.length;for(this.pushTokens(e);this.stack.length>i;)if(this.expandOnce(!0)===!1){var s=this.stack.pop();s.treatAsRelax&&(s.noexpand=!1,s.treatAsRelax=!1),r.push(s)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(i=>i.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var i=this.lexer.catcodes[e];if(i!=null&&i!==13)return}var s=typeof r=="function"?r(this):r;if(typeof s=="string"){var n=0;if(s.indexOf("#")!==-1)for(var a=s.replace(/##/g,"");a.indexOf("#"+(n+1))!==-1;)++n;for(var o=new B3(s,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var c={tokens:l,numArgs:n};return c}return s}isDefined(e){return this.macros.has(e)||Gn.hasOwnProperty(e)||Ht.math.hasOwnProperty(e)||Ht.text.hasOwnProperty(e)||z_.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Gn.hasOwnProperty(e)&&!Gn[e].primitive}}var $3=/^[]/,u0=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),jf={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},z3={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class ph{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new uV(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new Te("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Vi("}")),this.gullet.pushTokens(e);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,i}parseExpression(e,r){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var s=this.fetch();if(ph.endOfExpression.indexOf(s.text)!==-1||r&&s.text===r||e&&Gn[s.text]&&Gn[s.text].infix)break;var n=this.parseAtom(r);if(n){if(n.type==="internal")continue}else break;i.push(n)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(e){for(var r=-1,i,s=0;s<e.length;s++)if(e[s].type==="infix"){if(r!==-1)throw new Te("only one infix operator per group",e[s].token);r=s,i=e[s].replaceWith}if(r!==-1&&i){var n,a,o=e.slice(0,r),l=e.slice(r+1);o.length===1&&o[0].type==="ordgroup"?n=o[0]:n={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l};var u;return i==="\\\\abovefrac"?u=this.callFunction(i,[n,e[r],a],[]):u=this.callFunction(i,[n,a],[]),[u]}else return e}handleSupSubscript(e){var r=this.fetch(),i=r.text;this.consume(),this.consumeSpaces();var s=this.parseGroup(e);if(!s)throw new Te("Expected group after '"+i+"'",r);return s}formatUnsupportedCmd(e){for(var r=[],i=0;i<e.length;i++)r.push({type:"textord",mode:"text",text:e[i]});var s={type:"text",mode:this.mode,body:r},n={type:"color",mode:this.mode,color:this.settings.errorColor,body:[s]};return n}parseAtom(e){var r=this.parseGroup("atom",e);if(this.mode==="text")return r;for(var i,s;;){this.consumeSpaces();var n=this.fetch();if(n.text==="\\limits"||n.text==="\\nolimits"){if(r&&r.type==="op"){var a=n.text==="\\limits";r.limits=a,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=n.text==="\\limits");else throw new Te("Limit controls must follow a math operator",n);this.consume()}else if(n.text==="^"){if(i)throw new Te("Double superscript",n);i=this.handleSupSubscript("superscript")}else if(n.text==="_"){if(s)throw new Te("Double subscript",n);s=this.handleSupSubscript("subscript")}else if(n.text==="'"){if(i)throw new Te("Double superscript",n);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:l}}else if(u0[n.text]){var u=$3.test(n.text),c=[];for(c.push(new Vi(u0[n.text])),this.consume();;){var h=this.fetch().text;if(!u0[h]||$3.test(h)!==u)break;c.unshift(new Vi(u0[h])),this.consume()}var f=this.subparse(c);u?s={type:"ordgroup",mode:"math",body:f}:i={type:"ordgroup",mode:"math",body:f}}else break}return i||s?{type:"supsub",mode:this.mode,base:r,sup:i,sub:s}:r}parseFunction(e,r){var i=this.fetch(),s=i.text,n=Gn[s];if(!n)return null;if(this.consume(),r&&r!=="atom"&&!n.allowedInArgument)throw new Te("Got function '"+s+"' with no arguments"+(r?" as "+r:""),i);if(this.mode==="text"&&!n.allowedInText)throw new Te("Can't use function '"+s+"' in text mode",i);if(this.mode==="math"&&n.allowedInMath===!1)throw new Te("Can't use function '"+s+"' in math mode",i);var{args:a,optArgs:o}=this.parseArguments(s,n);return this.callFunction(s,a,o,i,e)}callFunction(e,r,i,s,n){var a={funcName:e,parser:this,token:s,breakOnTokenText:n},o=Gn[e];if(o&&o.handler)return o.handler(a,r,i);throw new Te("No function handler for "+e)}parseArguments(e,r){var i=r.numArgs+r.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var s=[],n=[],a=0;a<i;a++){var o=r.argTypes&&r.argTypes[a],l=a<r.numOptionalArgs;(r.primitive&&o==null||r.type==="sqrt"&&a===1&&n[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)n.push(u);else if(u!=null)s.push(u);else throw new Te("Null argument, please report this as a bug")}return{args:s,optArgs:n}}parseGroupOfType(e,r,i){switch(r){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,r);case"hbox":{var s=this.parseArgumentGroup(i,"text");return s!=null?{type:"styling",mode:s.mode,body:[s],style:"text"}:null}case"raw":{var n=this.parseStringGroup("raw",i);return n!=null?{type:"raw",mode:"text",string:n.text}:null}case"primitive":{if(i)throw new Te("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new Te("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new Te("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var i=this.gullet.scanArgument(r);if(i==null)return null;for(var s="",n;(n=this.fetch()).text!=="EOF";)s+=n.text,this.consume();return this.consume(),i.text=s,i}parseRegexGroup(e,r){for(var i=this.fetch(),s=i,n="",a;(a=this.fetch()).text!=="EOF"&&e.test(n+a.text);)s=a,n+=s.text,this.consume();if(n==="")throw new Te("Invalid "+r+": '"+i.text+"'",i);return i.range(s,n)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var i=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!i)throw new Te("Invalid color: '"+r.text+"'",r);var s=i[0];return/^[0-9a-f]{6}$/i.test(s)&&(s="#"+s),{type:"color-token",mode:this.mode,color:s}}parseSizeGroup(e){var r,i=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",i=!0);var s=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!s)throw new Te("Invalid size: '"+r.text+"'",r);var n={number:+(s[1]+s[2]),unit:s[3]};if(!Q7(n))throw new Te("Invalid unit: '"+n.unit+"'",r);return{type:"size",mode:this.mode,value:n,isBlank:i}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var i=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(e,r){var i=this.gullet.scanArgument(e);if(i==null)return null;var s=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var n=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:i.loc,body:n};return r&&this.switchMode(s),a}parseGroup(e,r){var i=this.fetch(),s=i.text,n;if(s==="{"||s==="\\begingroup"){this.consume();var a=s==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),n={type:"ordgroup",mode:this.mode,loc:Ci.range(i,l),body:o,semisimple:s==="\\begingroup"||void 0}}else if(n=this.parseFunction(r,e)||this.parseSymbol(),n==null&&s[0]==="\\"&&!z_.hasOwnProperty(s)){if(this.settings.throwOnError)throw new Te("Undefined control sequence: "+s,i);n=this.formatUnsupportedCmd(s),this.consume()}return n}formLigatures(e){for(var r=e.length-1,i=0;i<r;++i){var s=e[i],n=s.text;n==="-"&&e[i+1].text==="-"&&(i+1<r&&e[i+2].text==="-"?(e.splice(i,3,{type:"textord",mode:"text",loc:Ci.range(s,e[i+2]),text:"---"}),r-=2):(e.splice(i,2,{type:"textord",mode:"text",loc:Ci.range(s,e[i+1]),text:"--"}),r-=1)),(n==="'"||n==="`")&&e[i+1].text===n&&(e.splice(i,2,{type:"textord",mode:"text",loc:Ci.range(s,e[i+1]),text:n+n}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var i=r.slice(5),s=i.charAt(0)==="*";if(s&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new Te(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:s}}z3.hasOwnProperty(r[0])&&!Ht[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=z3[r[0]]+r.slice(1));var n=nV.exec(r);n&&(r=r.substring(0,n.index),r==="i"?r="":r==="j"&&(r=""));var a;if(Ht[this.mode][r]){this.settings.strict&&this.mode==="math"&&Yp.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var o=Ht[this.mode][r].group,l=Ci.range(e),u;if(Qj.hasOwnProperty(o)){var c=o;u={type:"atom",mode:this.mode,family:c,loc:l,text:r}}else u={type:o,mode:this.mode,loc:l,text:r};a=u}else if(r.charCodeAt(0)>=128)this.settings.strict&&(Y7(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:Ci.range(e),text:r};else return null;if(this.consume(),n)for(var h=0;h<n[0].length;h++){var f=n[0][h];if(!jf[f])throw new Te("Unknown accent ' "+f+"'",e);var y=jf[f][this.mode]||jf[f].text;if(!y)throw new Te("Accent "+f+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:Ci.range(e),label:y,isStretchy:!1,isShifty:!0,base:a}}return a}}ph.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var sg=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new ph(e,r);delete i.gullet.macros.current["\\df@tag"];var s=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new Te("\\tag works only in display equations");s=[{type:"tag",mode:"text",body:s,tag:i.subparse([new Vi("\\df@tag")])}]}return s},q_=function(e,r,i){r.textContent="";var s=ng(e,i).toNode();r.appendChild(s)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),q_=function(){throw new Te("KaTeX doesn't work in quirks mode.")});var cV=function(e,r){var i=ng(e,r).toMarkup();return i},dV=function(e,r){var i=new $1(r);return sg(e,i)},j_=function(e,r,i){if(i.throwOnError||!(e instanceof Te))throw e;var s=ee.makeSpan(["katex-error"],[new Ki(r)]);return s.setAttribute("title",e.toString()),s.setAttribute("style","color:"+i.errorColor),s},ng=function(e,r){var i=new $1(r);try{var s=sg(e,i);return _H(s,e,i)}catch(n){return j_(n,e,i)}},hV=function(e,r){var i=new $1(r);try{var s=sg(e,i);return xH(s,e,i)}catch(n){return j_(n,e,i)}},H_={version:"0.16.11",render:q_,renderToString:cV,ParseError:Te,SETTINGS_SCHEMA:w0,__parse:dV,__renderToDomTree:ng,__renderToHTMLTree:hV,__setFontMetrics:Hj,__defineSymbol:b,__defineFunction:Me,__defineMacro:I,__domTree:{Span:rc,Anchor:j1,SymbolNode:Ki,SvgNode:yn,PathNode:Jn,LineNode:Kp}};function V_(t){return t=t.trim(),t=t.replace(/^\\\[(.*?)\\\]$/s,"$1"),t=fV(t),t=t.replace(/\\displaystyle/g,""),t=t.replace(/%.*$/gm,""),t=t.replace(/\\label\{.*?\}/g,""),t=t.replace(/\\ref\{.*?\}/g,""),t}function fV(t){const e=/\\displaystyle\{/g;let r;for(;(r=e.exec(t))!==null;){const i=r.index,s=i+r[0].length-1,n=pV(t,s);if(n!==-1){const a=t.substring(s+1,n);t=t.slice(0,i)+a+t.slice(n+1),e.lastIndex=i+a.length}else break}return t}function pV(t,e){let r=[];for(let i=e;i<t.length;i++)if(t[i]==="{")r.push("{");else if(t[i]==="}"&&(r.pop(),r.length===0))return i;return-1}function G_(t,e=16,r=36,i=50){const s={"\\int":2,"\\pmatrix":5,"\\text":1,"\\sin":1,"\\tan":1,"\\left":.5,"\\right":.5,"\\cdot":.2,"\\,":0};let n=0;for(const[u,c]of Object.entries(s)){const h=(t.match(new RegExp(u,"g"))||[]).length;n+=h*c}const a=t.replace(/\\[a-zA-Z]+/g,"").length;n+=a/10;const o=Math.sqrt(i/Math.max(n,i)),l=e*o;return Math.max(l,r)}const mV={class:"fixed top-0 left-0 h-full w-full bg-black z-[100]"},gV={key:0,class:"flex items-center justify-center h-full w-full"},yV={key:1,class:"w-full"},vV=["innerHTML"],bV={class:"w-full h-[10rem] flex justify-center items-center mt-[3rem]"},q3=60,_V=tt({__name:"FullScreenIntegral",props:{integral:{type:String,required:!0},author:{type:String},totalTime:{type:Number}},emits:["close"],setup(t,{emit:e}){const r=e,i=t,s=Ye(`text-[${q3}px]`),n=qt(()=>{const w=V_(i.integral);return console.log(w),s.value=`text-[${G_(w,q3)}px]`,H_.renderToString(w,{throwOnError:!1,displayMode:!0})}),a=Ye(3),o=Ye(!1);let l=null,u=null;const c=Ye(i.totalTime),h=Ye(!1),f=()=>{u=setInterval(()=>{c.value?c.value--:(u&&clearInterval(u),h.value=!0)},1e3),h.value=!1},y=()=>{u&&clearInterval(u),h.value=!0};return Rr(()=>{l=setInterval(()=>{a.value>1?a.value--:(l&&clearInterval(l),o.value=!0,f())},1e3)}),(w,_)=>(Y(),ae("div",mV,[p("button",{onClick:_[0]||(_[0]=C=>r("close")),class:"w-[5rem] aspect-square fixed right-[5rem] top-[5rem] fill-white"},_[2]||(_[2]=[qa('<svg width="134" height="134" viewBox="0 0 134 134" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full"><g clip-path="url(#clip0_286_9)"><rect x="-2.67847" y="6.51398" width="13" height="184.075" rx="6.5" transform="rotate(-45 -2.67847 6.51398)" fill="#F2F1F0"></rect><rect x="127.482" y="-2.67841" width="13" height="184.075" rx="6.5" transform="rotate(45 127.482 -2.67841)" fill="#F2F1F0"></rect></g><defs><clipPath id="clip0_286_9"><rect width="134" height="134" fill="white"></rect></clipPath></defs></svg>',1)])),ge(Bs,{mode:"out-in","enter-active-class":"transition-opacity duration-500","leave-active-class":"transition-opacity duration-500","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Fe(()=>[(Y(),ae("div",{key:o.value?"content":"countdown"},[o.value?(Y(),ae("div",yV,[p("div",{class:$t(["bg-white flex justify-center items-center text-black w-[70vw] h-[30rem] rounded-xl mx-auto mt-[10rem]",s.value])},[p("div",{innerHTML:n.value},null,8,vV)],2),p("div",bV,[p("div",{class:$t(`h-full w-[30rem] flex justify-end items-center text-title font-heading ${c.value&&c.value>10?"text-white":"text-red"}`)},[p("p",null,we(c.value&&Math.floor(c.value/60)+":"+(c.value%60<10?"0":"")+c.value%60),1),h.value?(Y(),ae("button",{key:1,onClick:f,class:"h-[70%] aspect-square flex justify-center ml-[2rem]"},_[4]||(_[4]=[p("svg",{width:"32",height:"35",viewBox:"0 0 32 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full"},[p("path",{d:"M0.952706 1.36705C0.952706 0.597251 1.78604 0.116126 2.45271 0.501026L30.5477 16.7217C31.2144 17.1066 31.2144 18.0688 30.5477 18.4537L2.45271 34.6744C1.78604 35.0593 0.952707 34.5782 0.952707 33.8084L0.952706 1.36705Z",fill:"white"})],-1)]))):(Y(),ae("button",{key:0,onClick:y,class:"h-[70%] aspect-square flex justify-center ml-[2rem]"},_[3]||(_[3]=[p("svg",{width:"28",height:"42",viewBox:"0 0 28 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full"},[p("rect",{x:"16.8864",y:"0.337891",width:"10.8162",height:"41.4622",rx:"2.35135",fill:"white"}),p("rect",{x:"0.662109",y:"0.337891",width:"10.8162",height:"41.4622",rx:"2.35135",fill:"white"})],-1)]))),p("button",{onClick:_[1]||(_[1]=()=>{y(),c.value=t.totalTime}),class:"h-[70%] aspect-square flex justify-center -ml-[1rem]"},_[5]||(_[5]=[p("svg",{width:"43",height:"44",viewBox:"0 0 43 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full"},[p("path",{d:"M40.0135 26.3365L35.8101 37.2872C35.5022 38.0894 34.7813 38.6598 33.9297 38.7748L16.4613 41.1346C15.6506 41.2441 14.8412 40.9243 14.3242 40.2903L3.25641 26.7162C2.72198 26.0607 2.58072 25.1687 2.88647 24.3802L9.29868 7.84342C9.59826 7.07082 10.2824 6.51295 11.0995 6.37497L28.659 3.40988C29.4542 3.27561 30.2627 3.55819 30.8011 4.15857L39.1584 13.478M39.1584 13.478L35.9826 2.51355M39.1584 13.478L29.2644 10.0007",stroke:"white","stroke-width":"4.7027","stroke-linecap":"round"})],-1)]))],2)])])):(Y(),ae("div",gV,[ge(Bs,{mode:"out-in","enter-active-class":"transition-all duration-300","leave-active-class":"transition-all duration-300","enter-from-class":"opacity-0 scale-50","enter-to-class":"opacity-100 scale-100","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-50"},{default:Fe(()=>[(Y(),ae("div",{key:a.value,class:"font-heading text-heading text-white text-center mt-[50vh] -translate-y-[50%]"},we(a.value),1))]),_:1})]))]))]),_:1})]))}}),xV={class:"fixed top-0 left-0 h-full w-full bg-black z-[100]"},wV={class:"w-full"},TV=["innerHTML"],j3=60,SV=tt({__name:"FullScreenSolution",props:{solution:{type:String,required:!0}},emits:["close"],setup(t,{emit:e}){const r=e,i=t,s=Ye(`text-[${j3}px]`),n=qt(()=>{const a=V_(i.solution);return s.value=`text-[${G_(a,j3)}px]`,H_.renderToString(a,{throwOnError:!1,displayMode:!0})});return(a,o)=>(Y(),ae("div",xV,[p("button",{onClick:o[0]||(o[0]=l=>r("close")),class:"w-[5rem] aspect-square fixed right-[5rem] top-[5rem] fill-white"},o[1]||(o[1]=[qa('<svg width="134" height="134" viewBox="0 0 134 134" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full"><g clip-path="url(#clip0_286_9)"><rect x="-2.67847" y="6.51398" width="13" height="184.075" rx="6.5" transform="rotate(-45 -2.67847 6.51398)" fill="#F2F1F0"></rect><rect x="127.482" y="-2.67841" width="13" height="184.075" rx="6.5" transform="rotate(45 127.482 -2.67841)" fill="#F2F1F0"></rect></g><defs><clipPath id="clip0_286_9"><rect width="134" height="134" fill="white"></rect></clipPath></defs></svg>',1)])),p("div",null,[p("div",wV,[p("div",{class:$t(["bg-white flex justify-center items-center text-black w-[70vw] h-[30rem] rounded-xl mx-auto mt-[10rem]",s.value])},[p("div",{innerHTML:n.value},null,8,TV)],2)])])]))}}),CV={class:"px-[2rem] xl:px-[12rem] 2xl:px-[calc(50vw-65rem)] bg-pearl-white h-screen flex flex-col text-screenBlack font-body text-body overflow-x-hidden"},EV={class:"fixed top-0 left-0 z-[20] py-[4rem] flex items-center justify-start px-[2rem] xl:px-[12rem] 2xl:px-[calc(50vw-65rem)]"},AV={class:"w-max flex justify-start items-center bg-white p-6 rounded-xl"},kV={class:"relative flex flex-col justify-center flex-1 w-full"},DV={class:"w-full h-[10rem] flex justify-center items-center"},IV={class:"flex gap-[2rem] items-center"},LV={class:"flex px-[16rem] mt-[5rem]"},PV={class:"flex flex-col w-max"},MV={class:"font-heading text-heading text-primary"},RV={class:"flex justify-start items-center gap-[2rem]"},OV={class:"font-heading text-heading text-nowrap"},NV={class:"flex-1 h-full flex flex-col justify-between pt-[1rem] pb-[2rem]"},BV={class:"w-full flex justify-center items-center mt-[5rem] gap-[2rem]"},FV=tt({__name:"SeriesPresentation",setup(t){Uu();const e=Dd(),r=X7(),{currentSeriesName:i,series:s,timePerIntegral:n,tieBreakers:a,currentIntegralIndex:o,currentTieBreakerIndex:l}=Ii(r);Rr(async()=>{await r.fetchSeries(e.params.competition,e.params.series),await r.fetchTieBreakers(e.params.competition)}),sa(()=>{r.$reset()});const u=qt(()=>s.value[o.value]),c=qt({get:()=>n.value,set:D=>{r.timePerIntegral=Number(D)}}),h=qt({get:()=>l.value,set:D=>{(!Number(D)||Number(D)>=a.value.length)&&Ct().addToast({type:"error",title:"Tie-breaker doesn't exist",message:`Tie breaker nr ${D} doesn't exist. the number should be between 0 and ${a.value.length-1}`}),r.currentTieBreakerIndex=Number(D)}}),f=["translate-x-[150%]","translate-x-0","translate-x-0","-translate-x-[150%]"],y=["-translate-x-[150%]","translate-x-0","translate-x-0","translate-x-[150%]"],w=Ye(f),_=Ye(!1),C=Ye(!1),E=()=>{w.value=f,r.currentIntegralIndex<r.series.length-1&&r.currentIntegralIndex++},k=()=>{w.value=y,r.currentIntegralIndex&&r.currentIntegralIndex--};return(D,P)=>{const L=Zi("RouterLink");return Y(),ae("div",CV,[p("header",EV,[p("div",AV,[ge(L,{to:"/presenting",class:"flex justify-center items-center h-full aspect-square stroke-screenBlack hover:stroke-primary"},{default:Fe(()=>P[7]||(P[7]=[p("svg",{width:"41",height:"41",viewBox:"0 0 41 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},[p("path",{d:"M8.54098 21.5V39H33.1311V21.5M2.5 18L20.5 2.5L39 18","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1})])]),p("main",kV,[p("div",DV,[p("div",IV,[P[8]||(P[8]=qa('<div class="h-full aspect-square flex justify-center items-center"><svg width="50" height="54" viewBox="0 0 50 54" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-full"><circle cx="24.9193" cy="28.9193" r="22.3826" stroke="#242424" stroke-width="5.0734"></circle><path d="M24.9189 15.3268V29.8253L31.7151 37.0746" stroke="#242424" stroke-width="6.37371"></path><rect x="2" y="9.36597" width="11" height="8" rx="3" transform="rotate(-35.3609 2 9.36597)" fill="#242424"></rect><rect width="11" height="9.81894" rx="3" transform="matrix(-0.815523 -0.578725 -0.578725 0.815523 46.6533 6.88257)" fill="#242424"></rect></svg></div>',1)),Pa(p("input",{type:"text",class:"bg-white font-semibold text-subtitle w-[15rem] px-[2rem] py-[1rem] text-center rounded-xl outline-none","onUpdate:modelValue":P[0]||(P[0]=U=>c.value=U),placeholder:"sec."},null,512),[[Ao,c.value]])])]),p("div",LV,[ge(Bs,{"enter-from-class":w.value[0],"enter-active-class":"transition-transform duration-200","enter-to-class":w.value[1],"leave-from-class":w.value[2],"leave-active-class":"transition-transform duration-200","leave-to-class":w.value[3],mode:"out-in"},{default:Fe(()=>[(Y(),ae("div",{key:u.value,class:"flex w-full gap-[4rem]"},[p("div",PV,[p("h1",MV,we(u.value.isTieBreaker?"Tie-breaker":N(i)),1),p("div",RV,[p("h2",OV," Integral "+we(N(o)+1)+". ",1),P[9]||(P[9]=p("div",{class:"aspect-square h-full flex justify-center items-start"},[p("svg",{width:"93",height:"86",viewBox:"0 0 93 86",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-[80%]"},[p("rect",{x:"7.50806",y:"42.3372",width:"61.3789",height:"42.746",rx:"5.48026",fill:"#242424"}),p("path",{d:"M75.4629 57.2213C75.4629 56.4827 75.8348 55.7938 76.4523 55.3886L89.6049 46.7571C91.0627 45.8005 92.9997 46.8462 92.9997 48.5898V81.1281C92.9997 82.8499 91.1058 83.8995 89.6458 82.987L76.4932 74.7666C75.8523 74.366 75.4629 73.6635 75.4629 72.9077V57.2213Z",fill:"#242424"}),p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M53.9941 38.3618C64.5875 38.3618 73.175 29.7742 73.175 19.1809C73.175 8.58758 64.5875 0 53.9941 0C43.4008 0 34.8132 8.58758 34.8132 19.1809C34.8132 29.7742 43.4008 38.3618 53.9941 38.3618ZM58.2602 13.4779C57.3474 12.3784 55.9173 11.8494 54.5087 12.0901L51.5845 12.59C50.1759 12.8308 49.0027 13.8047 48.5069 15.145L47.4777 17.9274C46.9819 19.2677 47.2388 20.7707 48.1516 21.8702L50.0466 24.1527C50.9594 25.2522 52.3895 25.7812 53.7982 25.5404L56.7223 25.0406C58.131 24.7998 59.3041 23.8258 59.7999 22.4855L60.8292 19.7032C61.3249 18.3629 61.068 16.8599 60.1552 15.7604L58.2602 13.4779Z",fill:"#242424"}),p("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.7006 37.9004C21.2673 37.9004 27.4013 31.7665 27.4013 24.1998C27.4013 16.6331 21.2673 10.4991 13.7006 10.4991C6.13399 10.4991 0 16.6331 0 24.1998C0 31.7665 6.13399 37.9004 13.7006 37.9004ZM16.7093 20.2401C16.1099 19.5182 15.171 19.1709 14.2462 19.3291L11.7386 19.7578C10.8137 19.916 10.0435 20.5555 9.71806 21.4355L8.83558 23.8215C8.51011 24.7015 8.67884 25.6883 9.2782 26.4101L10.9033 28.3674C11.5027 29.0892 12.4416 29.4365 13.3664 29.2784L15.874 28.8496C16.7989 28.6915 17.5691 28.052 17.8945 27.172L18.777 24.7859C19.1025 23.906 18.9338 22.9192 18.3344 22.1973L16.7093 20.2401Z",fill:"#242424"})])],-1))])]),p("div",NV,[p("button",{onClick:P[1]||(P[1]=()=>{_.value=!0}),class:"font-heading text-title px-[4rem] pt-[0.6rem] pb-[0.4rem] bg-primary rounded-[20px]"}," Present "),p("button",{onClick:P[2]||(P[2]=()=>{C.value=!0}),class:"overflow-hidden rounded-[20px] font-heading text-title px-[4rem] pt-[0.6rem] pb-[0.4rem] relative bg-primary border-primary border-4 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:hidden lg:after:flex after:bg-pearl-white lg:hover:after:scale-y-0 after:transition-transform after:duration-200 after:will-change-transform after:origin-top"},P[10]||(P[10]=[p("span",{class:"relative z-[2]"},"Solution",-1)]))])]))]),_:1},8,["enter-from-class","enter-to-class","leave-from-class","leave-to-class"])]),p("div",BV,[p("button",{onClick:P[3]||(P[3]=()=>{N(r).addCurrentTieBreaker()}),class:"overflow-hidden rounded-[20px] font-heading text-title px-[4rem] pt-[0.6rem] pb-[0.4rem] relative bg-red border-red border-4 text-screenBlack after:absolute after:w-full after:h-full after:top-0 after:left-0 after:hidden lg:after:flex after:bg-pearl-white lg:hover:after:scale-y-0 after:transition-transform after:duration-200 after:will-change-transform after:origin-top"},P[11]||(P[11]=[p("span",{class:"relative z-[2]"},"Introduce a Tie Breaker",-1)])),P[12]||(P[12]=p("p",{class:"font-heading text-title ml-[4rem]"},"Nr.",-1)),Pa(p("input",{type:"text",class:"bg-white font-semibold text-subtitle w-[10rem] px-[2rem] py-[1rem] text-center rounded-xl outline-none","onUpdate:modelValue":P[4]||(P[4]=U=>h.value=U),placeholder:"nr"},null,512),[[Ao,h.value]])]),p("button",{onClick:k,class:"absolute left-0 top-[50%] -translate-y-[50%] cursor-pointer h-[8rem] transition-transform will-change-transform hover:scale-[1.1]"},P[13]||(P[13]=[p("svg",{width:"47",height:"83",viewBox:"0 0 47 83",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"-scale-x-[100%] h-full"},[p("path",{d:"M19.319 0H0L26.5276 40.7869L0 83H19.319L47 40.7869L19.319 0Z",fill:"#FBC151"})],-1)])),p("button",{onClick:E,class:"absolute right-0 top-[50%] -translate-y-[50%] cursor-pointer h-[8rem] transition-transform will-change-transform hover:scale-[1.1]"},P[14]||(P[14]=[p("svg",{width:"47",height:"83",viewBox:"0 0 47 83",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"h-full"},[p("path",{d:"M19.319 0H0L26.5276 40.7869L0 83H19.319L47 40.7869L19.319 0Z",fill:"#FBC151"})],-1)]))]),_.value?(Y(),kt(_V,{key:0,onClose:P[5]||(P[5]=()=>{_.value=!1}),author:u.value.original_author,integral:u.value.integral,totalTime:N(n)},null,8,["author","integral","totalTime"])):Ne("",!0),C.value?(Y(),kt(SV,{key:1,onClose:P[6]||(P[6]=()=>{C.value=!1}),solution:u.value.integral_answer},null,8,["solution"])):Ne("",!0)])}}}),ag=gC({history:XS(),scrollBehavior(t,e,r){return t.hash?{el:t.hash,behavior:"smooth",top:100}:{top:0,left:0}},routes:[{path:"/",component:mB,name:"home"},{path:"/events",component:PB,name:"events"},{path:"/news",component:iF,name:"news"},{path:"/contact",component:NF,name:"contact"},{path:"/event/:id",component:yz,name:"event"},{path:"/myProfile",component:tq,name:"profile"},{path:"/sign_up",component:Eq,name:"sign_up"},{path:"/sign_in",component:zq,name:"sign_in"},{path:"/imprint",component:Hq,name:"imprint"},{path:"/terms_of_use",component:Wq,name:"terms_of_use"},{path:"/reset_password",component:Qq,name:"reset_password"},{path:"/presenting",component:Zq,name:"presenting",children:[{path:"",component:mj,name:"presenting_main_menu"},{path:"series_presentation/:competition/:series",component:FV,name:"series_presentation"}]},{path:"/:pathMatch(.*)*",redirect:{name:"home"},name:"not_found"}]}),UV=["profile"],$V=["admin"],zV=["presenting","presenting_main_menu","series_presentation"];ag.beforeEach(async(t,e,r)=>{const i=ri();i.userDataRequest.status==null&&await i.getProfileData();const s=i.isAuthenticated,n=i.user.isAdmin,a=!!i.user.role&&i.user.role.IntegralEditor;//!FOR DEVELOPMENT ONLY!
if(UV.includes(t.name)&&!s&&t.name!=="sign_in"){r("/sign_in");return}if($V.includes(t.name)&&(!s||!n)&&t.name!=="home"){r("/");return}if(zV.includes(t.name)&&!(n||a)&&t.name!=="home"){r("/");return}if(["sign_in","sign_up"].includes(t.name)&&s){r("/events");return}r()});var W_={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(hn,function(){return function(r){function i(n){if(s[n])return s[n].exports;var a=s[n]={exports:{},id:n,loaded:!1};return r[n].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}var s={};return i.m=r,i.c=s,i.p="dist/",i(0)}([function(r,i,s){function n(ce){return ce&&ce.__esModule?ce:{default:ce}}var a=Object.assign||function(ce){for(var $e=1;$e<arguments.length;$e++){var ke=arguments[$e];for(var De in ke)Object.prototype.hasOwnProperty.call(ke,De)&&(ce[De]=ke[De])}return ce},o=s(1),l=(n(o),s(6)),u=n(l),c=s(7),h=n(c),f=s(8),y=n(f),w=s(9),_=n(w),C=s(10),E=n(C),k=s(11),D=n(k),P=s(14),L=n(P),U=[],J=!1,X={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},H=function(){var ce=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(ce&&(J=!0),J)return U=(0,D.default)(U,X),(0,E.default)(U,X.once),U},re=function(){U=(0,L.default)(),H()},Z=function(){U.forEach(function(ce,$e){ce.node.removeAttribute("data-aos"),ce.node.removeAttribute("data-aos-easing"),ce.node.removeAttribute("data-aos-duration"),ce.node.removeAttribute("data-aos-delay")})},W=function(ce){return ce===!0||ce==="mobile"&&_.default.mobile()||ce==="phone"&&_.default.phone()||ce==="tablet"&&_.default.tablet()||typeof ce=="function"&&ce()===!0},ne=function(ce){X=a(X,ce),U=(0,L.default)();var $e=document.all&&!window.atob;return W(X.disable)||$e?Z():(X.disableMutationObserver||y.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),X.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",X.easing),document.querySelector("body").setAttribute("data-aos-duration",X.duration),document.querySelector("body").setAttribute("data-aos-delay",X.delay),X.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?H(!0):X.startEvent==="load"?window.addEventListener(X.startEvent,function(){H(!0)}):document.addEventListener(X.startEvent,function(){H(!0)}),window.addEventListener("resize",(0,h.default)(H,X.debounceDelay,!0)),window.addEventListener("orientationchange",(0,h.default)(H,X.debounceDelay,!0)),window.addEventListener("scroll",(0,u.default)(function(){(0,E.default)(U,X.once)},X.throttleDelay)),X.disableMutationObserver||y.default.ready("[data-aos]",re),U)};r.exports={init:ne,refresh:H,refreshHard:re}},function(r,i){},,,,,function(r,i){(function(s){function n(W,ne,ce){function $e(B){var Q=Pt,de=it;return Pt=it=void 0,Le=B,ie=W.apply(de,Q)}function ke(B){return Le=B,ve=setTimeout(Et,ne),at?$e(B):ie}function De(B){var Q=B-_e,de=B-Le,ue=ne-Q;return ot?re(ue,bt-de):ue}function ze(B){var Q=B-_e,de=B-Le;return _e===void 0||Q>=ne||Q<0||ot&&de>=bt}function Et(){var B=Z();return ze(B)?wt(B):void(ve=setTimeout(Et,De(B)))}function wt(B){return ve=void 0,R&&Pt?$e(B):(Pt=it=void 0,ie)}function Ze(){ve!==void 0&&clearTimeout(ve),Le=0,Pt=_e=it=ve=void 0}function ut(){return ve===void 0?ie:wt(Z())}function rt(){var B=Z(),Q=ze(B);if(Pt=arguments,it=this,_e=B,Q){if(ve===void 0)return ke(_e);if(ot)return ve=setTimeout(Et,ne),$e(_e)}return ve===void 0&&(ve=setTimeout(Et,ne)),ie}var Pt,it,bt,ie,ve,_e,Le=0,at=!1,ot=!1,R=!0;if(typeof W!="function")throw new TypeError(f);return ne=c(ne)||0,o(ce)&&(at=!!ce.leading,ot="maxWait"in ce,bt=ot?H(c(ce.maxWait)||0,ne):bt,R="trailing"in ce?!!ce.trailing:R),rt.cancel=Ze,rt.flush=ut,rt}function a(W,ne,ce){var $e=!0,ke=!0;if(typeof W!="function")throw new TypeError(f);return o(ce)&&($e="leading"in ce?!!ce.leading:$e,ke="trailing"in ce?!!ce.trailing:ke),n(W,ne,{leading:$e,maxWait:ne,trailing:ke})}function o(W){var ne=typeof W>"u"?"undefined":h(W);return!!W&&(ne=="object"||ne=="function")}function l(W){return!!W&&(typeof W>"u"?"undefined":h(W))=="object"}function u(W){return(typeof W>"u"?"undefined":h(W))=="symbol"||l(W)&&X.call(W)==w}function c(W){if(typeof W=="number")return W;if(u(W))return y;if(o(W)){var ne=typeof W.valueOf=="function"?W.valueOf():W;W=o(ne)?ne+"":ne}if(typeof W!="string")return W===0?W:+W;W=W.replace(_,"");var ce=E.test(W);return ce||k.test(W)?D(W.slice(2),ce?2:8):C.test(W)?y:+W}var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},f="Expected a function",y=NaN,w="[object Symbol]",_=/^\s+|\s+$/g,C=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,k=/^0o[0-7]+$/i,D=parseInt,P=(typeof s>"u"?"undefined":h(s))=="object"&&s&&s.Object===Object&&s,L=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,U=P||L||Function("return this")(),J=Object.prototype,X=J.toString,H=Math.max,re=Math.min,Z=function(){return U.Date.now()};r.exports=a}).call(i,function(){return this}())},function(r,i){(function(s){function n(Z,W,ne){function ce(R){var B=rt,Q=Pt;return rt=Pt=void 0,_e=R,bt=Z.apply(Q,B)}function $e(R){return _e=R,ie=setTimeout(ze,W),Le?ce(R):bt}function ke(R){var B=R-ve,Q=R-_e,de=W-B;return at?H(de,it-Q):de}function De(R){var B=R-ve,Q=R-_e;return ve===void 0||B>=W||B<0||at&&Q>=it}function ze(){var R=re();return De(R)?Et(R):void(ie=setTimeout(ze,ke(R)))}function Et(R){return ie=void 0,ot&&rt?ce(R):(rt=Pt=void 0,bt)}function wt(){ie!==void 0&&clearTimeout(ie),_e=0,rt=ve=Pt=ie=void 0}function Ze(){return ie===void 0?bt:Et(re())}function ut(){var R=re(),B=De(R);if(rt=arguments,Pt=this,ve=R,B){if(ie===void 0)return $e(ve);if(at)return ie=setTimeout(ze,W),ce(ve)}return ie===void 0&&(ie=setTimeout(ze,W)),bt}var rt,Pt,it,bt,ie,ve,_e=0,Le=!1,at=!1,ot=!0;if(typeof Z!="function")throw new TypeError(h);return W=u(W)||0,a(ne)&&(Le=!!ne.leading,at="maxWait"in ne,it=at?X(u(ne.maxWait)||0,W):it,ot="trailing"in ne?!!ne.trailing:ot),ut.cancel=wt,ut.flush=Ze,ut}function a(Z){var W=typeof Z>"u"?"undefined":c(Z);return!!Z&&(W=="object"||W=="function")}function o(Z){return!!Z&&(typeof Z>"u"?"undefined":c(Z))=="object"}function l(Z){return(typeof Z>"u"?"undefined":c(Z))=="symbol"||o(Z)&&J.call(Z)==y}function u(Z){if(typeof Z=="number")return Z;if(l(Z))return f;if(a(Z)){var W=typeof Z.valueOf=="function"?Z.valueOf():Z;Z=a(W)?W+"":W}if(typeof Z!="string")return Z===0?Z:+Z;Z=Z.replace(w,"");var ne=C.test(Z);return ne||E.test(Z)?k(Z.slice(2),ne?2:8):_.test(Z)?f:+Z}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},h="Expected a function",f=NaN,y="[object Symbol]",w=/^\s+|\s+$/g,_=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,E=/^0o[0-7]+$/i,k=parseInt,D=(typeof s>"u"?"undefined":c(s))=="object"&&s&&s.Object===Object&&s,P=(typeof self>"u"?"undefined":c(self))=="object"&&self&&self.Object===Object&&self,L=D||P||Function("return this")(),U=Object.prototype,J=U.toString,X=Math.max,H=Math.min,re=function(){return L.Date.now()};r.exports=n}).call(i,function(){return this}())},function(r,i){function s(c){var h=void 0,f=void 0;for(h=0;h<c.length;h+=1)if(f=c[h],f.dataset&&f.dataset.aos||f.children&&s(f.children))return!0;return!1}function n(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(){return!!n()}function o(c,h){var f=window.document,y=n(),w=new y(l);u=h,w.observe(f.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function l(c){c&&c.forEach(function(h){var f=Array.prototype.slice.call(h.addedNodes),y=Array.prototype.slice.call(h.removedNodes),w=f.concat(y);if(s(w))return u()})}Object.defineProperty(i,"__esModule",{value:!0});var u=function(){};i.default={isSupported:a,ready:o}},function(r,i){function s(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")}function n(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function f(y,w){for(var _=0;_<w.length;_++){var C=w[_];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(y,C.key,C)}}return function(y,w,_){return w&&f(y.prototype,w),_&&f(y,_),y}}(),o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=function(){function f(){s(this,f)}return a(f,[{key:"phone",value:function(){var y=n();return!(!o.test(y)&&!l.test(y.substr(0,4)))}},{key:"mobile",value:function(){var y=n();return!(!u.test(y)&&!c.test(y.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),f}();i.default=new h},function(r,i){Object.defineProperty(i,"__esModule",{value:!0});var s=function(a,o,l){var u=a.node.getAttribute("data-aos-once");o>a.position?a.node.classList.add("aos-animate"):typeof u<"u"&&(u==="false"||!l&&u!=="true")&&a.node.classList.remove("aos-animate")},n=function(a,o){var l=window.pageYOffset,u=window.innerHeight;a.forEach(function(c,h){s(c,u+l,o)})};i.default=n},function(r,i,s){function n(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(i,"__esModule",{value:!0});var a=s(12),o=n(a),l=function(u,c){return u.forEach(function(h,f){h.node.classList.add("aos-init"),h.position=(0,o.default)(h.node,c.offset)}),u};i.default=l},function(r,i,s){function n(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(i,"__esModule",{value:!0});var a=s(13),o=n(a),l=function(u,c){var h=0,f=0,y=window.innerHeight,w={offset:u.getAttribute("data-aos-offset"),anchor:u.getAttribute("data-aos-anchor"),anchorPlacement:u.getAttribute("data-aos-anchor-placement")};switch(w.offset&&!isNaN(w.offset)&&(f=parseInt(w.offset)),w.anchor&&document.querySelectorAll(w.anchor)&&(u=document.querySelectorAll(w.anchor)[0]),h=(0,o.default)(u).top,w.anchorPlacement){case"top-bottom":break;case"center-bottom":h+=u.offsetHeight/2;break;case"bottom-bottom":h+=u.offsetHeight;break;case"top-center":h+=y/2;break;case"bottom-center":h+=y/2+u.offsetHeight;break;case"center-center":h+=y/2+u.offsetHeight/2;break;case"top-top":h+=y;break;case"bottom-top":h+=u.offsetHeight+y;break;case"center-top":h+=u.offsetHeight/2+y}return w.anchorPlacement||w.offset||isNaN(c)||(f=c),h+f};i.default=l},function(r,i){Object.defineProperty(i,"__esModule",{value:!0});var s=function(n){for(var a=0,o=0;n&&!isNaN(n.offsetLeft)&&!isNaN(n.offsetTop);)a+=n.offsetLeft-(n.tagName!="BODY"?n.scrollLeft:0),o+=n.offsetTop-(n.tagName!="BODY"?n.scrollTop:0),n=n.offsetParent;return{top:o,left:a}};i.default=s},function(r,i){Object.defineProperty(i,"__esModule",{value:!0});var s=function(n){return n=n||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(n,function(a){return{node:a}})};i.default=s}])})})(W_);var qV=W_.exports;const H3=Xa(qV),jV={install(t){t.config.globalProperties.$AOS=H3,H3.init()}};function HV(t,e){let r;return(...i)=>{r!==void 0&&clearTimeout(r),r=setTimeout(()=>t(...i),e)}}function VV({columns:t,columnWidth:e,emit:r,gap:i,items:s,maxColumns:n,minColumns:a,nextTick:o,onBeforeUnmount:l,onMounted:u,rtl:c,scrollContainer:h,ssrColumns:f,vue:y,wall:w,watch:_}){function C(H,re,Z,W){const ne=E(Z);return W+re+ne<=H?C(H,re,Z+1,W+re+ne):Z}function E(H){const re=Array.isArray(e.value)?e.value:[e.value];return re[H%re.length]}function k(){const H=C(w.value.getBoundingClientRect().width,i.value,0,-i.value),re=P(D(H));return re>0?re:1}function D(H){const re=n==null?void 0:n.value;return re&&H>re?re:H}function P(H){const re=a==null?void 0:a.value;return re&&H<re?re:H}if(f.value>0){const H=V3(f.value);s.value.forEach((re,Z)=>H[Z%f.value].push(Z)),t.value=H}let L=0;async function U(H,re){if(H>=s.value.length||(await o(),L!==re))return;const Z=[...w.value.children];c.value&&Z.reverse();const W=Z.reduce((ne,ce)=>ce.getBoundingClientRect().height<ne.getBoundingClientRect().height?ce:ne);t.value[+W.dataset.index].push(H),await U(H+1,re)}async function J(H=!1){const re=k();if(t.value.length===re&&!H){r(y===2?"redraw-skip":"redrawSkip");return}t.value=V3(re);const Z=h==null?void 0:h.value,W=Z?Z.scrollTop:window.scrollY;await U(0,++L),Z?Z.scrollBy({top:W-Z.scrollTop}):window.scrollTo({top:W}),r("redraw")}const X=typeof ResizeObserver>"u"?void 0:new ResizeObserver(HV(()=>J()));return u(()=>{J(),X==null||X.observe(w.value)}),l(()=>X==null?void 0:X.unobserve(w.value)),_([s,c],()=>J(!0)),_([e,i,a,n],()=>J()),{getColumnWidthTarget:E}}function V3(t){return Array.from({length:t}).map(()=>[])}const GV=["data-index"],WV=tt({__name:"masonry-wall",props:{columnWidth:{default:400},items:{},gap:{default:0},rtl:{type:Boolean,default:!1},ssrColumns:{default:0},scrollContainer:{default:null},minColumns:{default:1},maxColumns:{},keyMapper:{}},emits:["redraw","redrawSkip"],setup(t,{emit:e}){const r=t,i=e,s=Ye([]),n=Ye(),{getColumnWidthTarget:a}=VV({columns:s,emit:i,nextTick:fs,onBeforeUnmount:Jo,onMounted:Rr,vue:3,wall:n,watch:ls,...Qi(r)});return(o,l)=>(Y(),ae("div",{ref_key:"wall",ref:n,class:"masonry-wall",style:mi({display:"flex",gap:`${o.gap}px`})},[(Y(!0),ae(ct,null,Er(s.value,(u,c)=>(Y(),ae("div",{key:c,class:"masonry-column","data-index":c,style:mi({display:"flex","flex-basis":`${N(a)(c)}px`,"flex-direction":"column","flex-grow":1,gap:`${o.gap}px`,height:["-webkit-max-content","-moz-max-content","max-content"],"min-width":0})},[(Y(!0),ae(ct,null,Er(u,(h,f)=>{var y;return Y(),ae("div",{key:((y=o.keyMapper)==null?void 0:y.call(o,o.items[h],c,f,h))??h,class:"masonry-item"},[vm(o.$slots,"default",{item:o.items[h],column:c,row:f,index:h},()=>[st(we(o.items[h]),1)])])}),128))],12,GV))),128))],4))}}),XV=(()=>{const t=WV;return t.install=e=>{e.component("MasonryWall",t)},t})(),KV=hS(),sc=lS(bA);sc.use(KV);sc.use(ag);sc.use(jV);sc.use(XV);sc.mount("#app");export{hn as c,Xa as g};
