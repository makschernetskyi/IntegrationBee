import{u as s,s as f,k as a,o as m,c as d,e as t,t as l,f as v,g as x,n as c,v as C,F as g,h as F}from"./index-DnB5nznn.js";const V={class:"Admin"},B=t("h1",null,"Admin page",-1),P={class:"Admin-Competitions"},S=t("button",{type:"submit"},"+",-1),D={class:"Admin-Competitions-AllCompetitions"},y={class:"Admin-Competitions-AllCompetitions-List"},M={class:"Admin-Competitions-AllCompetitions-item"},I={__name:"AdminPage",setup(b){const _=s().auth,i=s().competitionsPage,e=s().admin;f(()=>{i.fetchAllDBCompetitions()});const A=a({get:()=>_.user}),N=a({get:()=>i.competitionsDB}),p=a({get:()=>e.addNewCompetitionForm.name,set:e.setAddNewCompetitionFormNameValue}),r=a({get:()=>e.addNewCompetitionForm.maxParticipants,set:e.setAddNewCompetitionFormMaxParticipantsValue}),h=async u=>{u.preventDefault(),await i.addCompetition(e.addNewCompetitionForm.name,e.addNewCompetitionForm.maxParticipants),await i.fetchAllDBCompetitions(),e.setAddNewCompetitionFormNameValue(""),e.setAddNewCompetitionFormMaxParticipantsValue("0")},w=A;return(u,n)=>(m(),d("div",V,[B,t("h2",null,"Hello, "+l(v(w).firstName),1),t("div",P,[t("form",{onSubmit:h},[x(" add new competition: "),c(t("input",{type:"text",placeholder:"competition_name","onUpdate:modelValue":n[0]||(n[0]=o=>p.value=o)},null,512),[[C,p.value]]),c(t("input",{type:"text",placeholder:"max participants","onUpdate:modelValue":n[1]||(n[1]=o=>r.value=o)},null,512),[[C,r.value]]),S],32),t("div",D,[t("ul",y,[(m(!0),d(g,null,F(N.value,o=>(m(),d("li",M,"id: "+l(o.id)+" name: "+l(o.name),1))),256))])])])]))}};export{I as default};
